(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{1425:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(1)),o=v(a(9)),s=v(a(1416)),i=a(132),l=v(a(1481)),d=v(a(433)),u=v(a(420)),c=a(70),f=a(21),p=v(a(1249));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===s)t.children=n;else if(s>1){for(var l=new Array(s),d=0;d<s;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var m={CIRCLE:p.default.circle,SQUARE:p.default.square},g=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null},t.handleFileChange=function(e){e.stopPropagation(),e.preventDefault();var a=e.target.files[0],r=t.props,n=r.size,o=r.minSize,s=r.onChange,i=r.fieldName;if(null!=a){var d=new FileReader;d.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){if(null!=o&&(a.width<o||a.height<o))t.setState({error:f.Messages.AvatarUploader.MINIMUM_SIZE.format({size:o})});else{null!=t.state.error&&t.setState({error:null});var e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0,e.width,e.height);var r=a.width<a.height?a.width/n:a.height/n,d=document.createElement("canvas");d.width=a.width/r,d.height=a.height/r,l.default.resizeCanvas(e,d,{alpha:!0},function(){var e=document.createElement("canvas");e.width=n,e.height=n;var t=(d.width-e.width)/-2,a=(d.height-e.height)/-2;e.getContext("2d").drawImage(d,t,a,d.width,d.height),s(e.toDataURL("image/png"),i)})}}},d.readAsDataURL(a)}},t.handleRemove=function(){var e=t.props,a=e.fieldName;(0,e.onChange)(null,a)},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var n=r.prototype;return n.renderRemoveButton=function(){var e=this.props,t=e.disableRemoveAction,a=e.disabled,r=e.size,n=e.avatar,o=this.state.error;return t?null:a?h("small",{className:p.default.removeButtonSmall},void 0,f.Messages.AvatarUploader.SIZE.format({size:r})):null!=o?h("small",{className:p.default.removeButtonSmallError},void 0,o):null!=n?h(d.default,{className:p.default.removeButton,onClick:this.handleRemove},void 0,f.Messages.AvatarUploader.REMOVE):h("small",{className:(0,c.getClass)(p.default,"removeButtonSmall",null!=o?"Error":null)},void 0,f.Messages.AvatarUploader.SIZE.format({size:r}))},n.render=function(){var e,t,a,r,n=this.props,l=n.avatar,d=n.hint,c=n.name,v=n.makeURL,m=n.hasBorder,g=n.shape;return(t=null!=l&&/^data:/.test(l)?l:v(l))?a='url("'+t+'")':r=h("div",{className:p.default.acronym},void 0,(0,i.getAcronym)(c)),h("div",{className:(0,o.default)(p.default.avatarUploader,(e={},e[p.default.border]=m,e))},void 0,h("div",{className:(0,o.default)(p.default.avatarUploaderInner,g),style:{backgroundImage:a}},void 0,h("div",{className:p.default.addPhotoWrapper},void 0,h(u.default,{className:p.default.addPhotoIcon,name:u.default.Names.ADD_PHOTO})),r,h("div",{className:p.default.hint},void 0,d),h(s.default,{onChange:this.handleFileChange,filters:[{name:f.Messages.AvatarUploader.IMAGES,extensions:["jpg","jpeg","png"]}]})),this.renderRemoveButton())},r}(n.PureComponent);t.default=g,g.displayName="AvatarUploader",g.Shape=m,g.defaultProps={disableRemoveAction:!1,name:"",size:64,makeURL:function(e){return e},hint:f.Messages.AvatarUploader.SELECT_IMAGE,disabled:!1,hasBorder:!1,shape:m.CIRCLE}},2078:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r,n=C(a(1)),o=M(a(15)),s=C(a(129)),i=M(a(178)),l=C(a(177)),d=M(a(180)),u=a(130),c=M(a(96)),f=M(a(1633)),p=M(a(436)),v=M(a(423)),h=M(a(1373)),m=M(a(421)),g=M(a(424)),y=M(a(1381)),S=M(a(1374)),A=M(a(426)),_=M(a(2080)),I=a(4),E=a(21);function M(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}function R(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===s)t.children=n;else if(s>1){for(var l=new Array(s),d=0;d<s;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var P=R(d.default,{}),b=function(e){var t,r;function o(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).assetManagerRef=n.createRef(),t.inviteImageRef=n.createRef(),t.state={errorMessage:null,hasLoadedRemoteAssets:!1,hasUnsavedChanges:!1,inviteImageData:null,isSubmitting:!1},t.deleteAsset=function(e){return s.deleteAsset(t.props.applicationDetails.id,e)},t.getAssetUri=function(e){return(0,u.getAssetImage)(t.props.applicationDetails.id,e.id)},t.handleAssetsFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})},t.handleAssetsFormSubmit=function(e){t.setState({isSubmitting:!0});var a=t.state.inviteImageData,r=[];null!=t.assetManagerRef.current&&r.push(t.assetManagerRef.current.uploadAllAssets()),null!=a&&r.push(s.updateApplication(t.props.applicationDetails.id,{cover_image:e.coverImage}).then(function(){t.setState({inviteImageData:null})})),Promise.all(r).then(function(){t.setState({errorMessage:null,hasUnsavedChanges:!1,isSubmitting:!1})}).catch(function(e){t.setState({errorMessage:e.message,isSubmitting:!1})})},t.handleInviteImageChange=function(e){t.setState({hasUnsavedChanges:!0,inviteImageData:e})},t.handleReset=function(){null!=t.assetManagerRef.current&&t.assetManagerRef.current.resetAssets(),null!=t.inviteImageRef.current&&t.inviteImageRef.current.resetImage(),t.setState({hasUnsavedChanges:!1})},t.uploadAsset=function(e){var a=t.props.applicationDetails;return null!=e.data?s.createAsset(a.id,{name:e.name,image:e.data,type:"1"}):Promise.resolve()},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=o.prototype;return i.componentDidMount=function(){var e=this,t=this.props.applicationDetails;s.fetchApplicationAssets(t.id).then(function(){e.setState({errorMessage:null,hasLoadedRemoteAssets:!0})}).catch(function(t){e.setState({errorMessage:t.message,hasLoadedRemoteAssets:!0})})},i.renderAssetsHeading=function(e){return E.Messages.RichPresence.ASSETS_MANAGER_HEADING.format({count:e})},i.renderAssetManager=function(){var e=this.props,t=e.applicationDetails,a=e.assets;return this.state.hasLoadedRemoteAssets?n.createElement(f.default,{actionCopy:E.Messages.RichPresence.ASSETS_ADD_IMAGES,application:t,assetLabel:E.Messages.RichPresence.ASSETS_IMAGES,assetsHeadingRenderer:this.renderAssetsHeading,assets:a,getAssetUri:this.getAssetUri,uploadAsset:this.uploadAsset,deleteAsset:this.deleteAsset,emptyState:this.renderEmptyAssetState(),fileTypeDescription:E.Messages.RichPresence.ASSETS_ACCEPTED_FILE_TYPES.format({minSize:I.MINIMUM_ASSET_IMAGE_SIZE,recommendedSize:I.RECOMMENDED_ASSET_IMAGE_SIZE}),minAssetSize:I.MINIMUM_ASSET_IMAGE_SIZE,ref:this.assetManagerRef,supportedExtensions:["jpg","jpeg","png"]}):P},i.renderEmptyAssetState=function(){return R(p.default,{},void 0,R("img",{alt:E.Messages.RichPresence.NO_ASSETS_UPLOADED,src:a(1634)}))},i.render=function(){var e=this.props.applicationDetails,t=this.state,a=t.hasUnsavedChanges,r=t.isSubmitting;return R(v.default,{onChange:this.handleAssetsFormChange,onSubmit:this.handleAssetsFormSubmit},void 0,R(m.default,{},void 0,R(h.default,{},void 0,E.Messages.RichPresence.ASSETS_HEADING),R(S.default,{},void 0,E.Messages.RichPresence.ASSETS_SUBHEADING),R("p",{},void 0,E.Messages.RichPresence.ASSETS_SUBHEADING_LINK.format({link:c.default.prependBasename(I.Routes.DOCS_RICH_PRESENCE_BEST_PRACTICES)}))),R(m.default,{},void 0,R(g.default,{},void 0,E.Messages.RichPresence.INVITE_IMAGE_HEADING),R(y.default,{},void 0,E.Messages.RichPresence.INVITE_IMAGE_SUBHEADING),n.createElement(_.default,{application:e,onCoverImageChange:this.handleInviteImageChange,ref:this.inviteImageRef})),R(m.default,{isFlush:!0},void 0,R(g.default,{},void 0,E.Messages.RichPresence.ASSETS_SECTION_HEADING),R(y.default,{},void 0,E.Messages.RichPresence.ASSETS_SECTION_SUBHEADING),R(l.default,{type:l.AlertTypes.WARNING},void 0,E.Messages.RichPresence.ASSET_CACHING_WARNING),this.renderAssetManager()),R(A.default,{isVisible:a,onReset:this.handleReset,submitting:r}))},o}(n.Component);b.displayName="RichPresence";var N=o.default.connectStores([i.default],function(e){var t=e.match.params.id;return{applicationDetails:i.default.getApplication(t),assets:i.default.getApplicationAssets(t)}})(b);t.default=N},2080:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r,n=f(a(1)),o=f(a(418)),s=c(a(419)),i=c(a(2081)),l=c(a(2082)),d=a(21),u=c(a(1311));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}function p(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===s)t.children=n;else if(s>1){for(var l=new Array(s),d=0;d<s;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var v=function(e){return{coverImage:e.application.coverImage}},h=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state=v(t.props),t.handleCoverImageChange=function(e){var a=t.props.onCoverImageChange;t.setState({coverImage:e}),a&&a(e)},t.resetImage=function(){t.setState(v(t.props))},t}return a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,r.prototype.render=function(){var e=this.state.coverImage,t=this.props.application;return p(o.default,{},void 0,p(o.GridSection,{},void 0,p(o.GridChild,{columnSpread:3,className:u.default.inviteImage},void 0,p(l.default,{coverImage:this.state.coverImage,onCoverImageChange:this.handleCoverImageChange})),p(o.GridChild,{columnSpread:8,columnSpreadExtraSmall:12,columnSpreadSmall:12,grow:1,shrink:1},void 0,p(s.default,{},void 0,d.Messages.RichPresence.IRL_INVITE_IMAGE_EXAMPLE),p(i.default,{coverImage:e,name:t.name}))))},r}(n.Component);t.default=h,h.displayName="RichPresenceInviteImage"},2081:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(1)),o=d(a(9)),s=d(a(52)),i=d(a(40)),l=d(a(1310));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===s)t.children=n;else if(s>1){for(var l=new Array(s),d=0;d<s;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var c=function(e){var t,a=e.displayPlaceholderAvatar;return u("div",{className:(0,o.default)(l.default.partyAvatar,(t={},t[l.default.partyAvatarPlaceholder]=a,t))})};c.displayName="UserAvatar";var f=function(e){var t,a;function r(){return e.apply(this,arguments)||this}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var n=r.prototype;return n.renderParty=function(){for(var e=[],t=0;t<6;t++)e.push(u(c,{displayPlaceholderAvatar:t<3},t));return u("div",{className:l.default.partyMembers},void 0,e)},n.render=function(){var e=this.props,t=e.name,a=e.coverImage;return u("div",{className:l.default.invite},void 0,u("div",{className:l.default.coverImageWrapper},void 0,u("div",{className:l.default.coverImageActionable,style:{backgroundImage:null!=a?"url('"+a+"')":null}})),u(i.default,{className:l.default.fullHeight},void 0,u(i.default,{direction:i.default.Direction.VERTICAL},void 0,u("div",{className:l.default.header},void 0,"Invite to join group"),u(i.default.Child,{className:l.default.partyStatus},void 0,"3 open slots"),u(i.default,{align:i.default.Align.END,wrap:i.default.Wrap.NO_WRAP},void 0,u(i.default.Child,{grow:0,shrink:0},void 0,u(i.default,{align:i.default.Align.CENTER,className:l.default.actionAndParty,wrap:i.default.Wrap.NO_WRAP},void 0,u(i.default.Child,{grow:0,shrink:0,wrap:!0},void 0,u(s.default,{className:l.default.actionButton,color:s.default.Color.GREEN,height:s.default.Height.SHORT},void 0,"Join")),u(i.default.Child,{grow:0,shrink:0,wrap:!0},void 0,this.renderParty()))),u(i.default.Child,{grow:1,shrink:1},void 0,u("div",{className:l.default.name},void 0,t))))))},r}(n.Component);t.default=f,f.displayName="InviteEmbedExample"},2082:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(1)),o=u(a(1394)),s=u(a(1425)),i=u(a(419)),l=a(4),d=a(21);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===s)t.children=n;else if(s>1){for(var l=new Array(s),d=0;d<s;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var f=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleCoverImageChange=function(e){var a=t.props.onCoverImageChange;a&&a(e)},t}return a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,r.prototype.render=function(){var e=this.props.coverImage;return c(n.Fragment,{},void 0,c(i.default,{},void 0,d.Messages.RichPresence.COVER_IMAGE),c(o.default,{},void 0,c("input",{type:"hidden",name:"coverImage",value:e||""}),c(s.default,{avatar:e,onChange:this.handleCoverImageChange,shape:s.default.Shape.SQUARE,size:l.COVER_IMAGE_UPLOAD_SIZE,minSize:l.MINIMUM_COVER_IMAGE_SIZE})))},r}(n.Component);t.default=f,f.displayName="CoverImageUploader"}}]);
//# sourceMappingURL=cc92320859b912797c17.js.map