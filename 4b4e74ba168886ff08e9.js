(window.webpackJsonp=window.webpackJsonp||[]).push([[5,18,19],{5985:function(e,t,n){"use strict";t.__esModule=!0,t.EmptyStateText=t.EmptyStateImage=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),u=f(n(40)),s=n(0),d=f(n(5928));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=i.createContext(s.ThemeTypes.DARK),E=_.Provider,y=_.Consumer,g=t.EmptyStateImage=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,o=e.width,i=e.height,f=e.offsetX,c=e.offsetY,p=e.style;return a(y,{},void 0,function(e){return a(u.default.Child,{grow:0,className:(0,l.default)(d.default.image,"margin-bottom-40"),style:r({},p,{width:o,height:i,marginLeft:f,marginTop:c,backgroundImage:"url("+(e===s.ThemeTypes.DARK?n:t)+")"})})})},t}(i.PureComponent),v=t.EmptyStateText=function(e){var t=e.children,n=e.className,o=e.noteClassName,r=e.note,i=e.style;return a(u.default.Child,{grow:0,direction:u.default.Direction.VERTICAL,style:i},void 0,a("h4",{className:(0,l.default)(n,d.default.title)},void 0,t),r&&a("div",{className:(0,l.default)(o,d.default.text,"margin-top-8")},void 0,r))},m=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,o=e.className,r=e.style;return a(E,{value:n},void 0,a(u.default,{direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:(0,l.default)(d.default.wrapper,o),style:r},void 0,t))},t}(i.PureComponent);m.Text=v,m.Image=g,t.default=m},5986:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=E(n(3)),a=E(n(2)),i=E(n(12)),l=E(n(26)),u=E(n(88)),s=E(n(228)),d=E(n(124)),f=E(n(6134)),c=E(n(229)),p=E(n(13)),h=E(n(5)),_=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var y=["name","icon","splash","region","afkChannelId","afkTimeout","systemChannelId","verificationLevel","defaultMessageNotifications","explicitContentFilter"],g=!1,v=_.FormStates.CLOSED,m=void 0,T=void 0,I={},C=void 0,S=void 0,N=void 0,A=!1,O=null,b=null,M=_.MFALevels.NONE,R=null,L=null,D=null;function w(e){return null!=C&&C.id===e&&(C===S?S=C=l.default.getGuild(e):(C=l.default.getGuild(e),S=S.set("roles",C.roles)),!0)}function P(e){var t=e.guildId,n=e.section,o=void 0===n?null:n;if(C=S=l.default.getGuild(t),null==S)return U();v=_.FormStates.OPEN,I={},N=t,M=S.mfaLevel,G({section:o||m||_.GuildSettingsSections.OVERVIEW})}function U(){g=!1,v=_.FormStates.CLOSED,C=S=null,A=!1,O=null,b=null,R=null,L=null,D=null,m=null,T=null,M=_.MFALevels.NONE}function G(e){if((m=e.section)===_.GuildSettingsSections.BANS)p.default.get(_.Endpoints.GUILD_BANS(S.id)).then(function(e){a.default.dispatch({type:_.ActionTypes.GUILD_SETTINGS_LOADED_BANS,bans:e.body})});else if(m===_.GuildSettingsSections.INSTANT_INVITES)p.default.get(_.Endpoints.GUILD_INSTANT_INVITES(S.id)).then(function(e){a.default.dispatch({type:_.ActionTypes.GUILD_SETTINGS_LOADED_INVITES,invites:e.body})});else if(m===_.GuildSettingsSections.EMBED)p.default.get(_.Endpoints.GUILD_EMBED(S.id)).then(function(e){a.default.dispatch({type:_.ActionTypes.GUILD_SETTINGS_SET_EMBED,enabled:e.body.enabled,channelId:e.body.channel_id})});else{if(m===_.GuildSettingsSections.INTEGRATIONS)return k(e);m===_.GuildSettingsSections.MEMBERS?(N=S.id,c.default.requestMembers(S.id,"",0)):m===_.GuildSettingsSections.VANITY_URL&&p.default.get(_.Endpoints.GUILD_VANITY_URL(S.id)).then(function(e){a.default.dispatch({type:_.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:e.body.code})})}}function H(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new u.default(e.inviter):null,channel:new d.default(e.channel),guild:null!=e.guild?new s.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,h.default)(e.created_at)})}function k(e){v===_.FormStates.OPEN&&(e.type===_.ActionTypes.GUILD_INTEGRATIONS_UPDATE&&e.guildId!==S.id||p.default.get(_.Endpoints.GUILD_INTEGRATIONS(S.id)).then(function(e){a.default.dispatch({type:_.ActionTypes.GUILD_SETTINGS_LOADED_INTEGATIONS,guildId:S.id,integrations:e.body})}))}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,i.default)},t.prototype.hasChanges=function(){return S!==C},t.prototype.isOpen=function(){return g},t.prototype.getSection=function(){return m},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getGuildId=function(){return S?S.id:null},t.prototype.getProps=function(){return{submitting:v===_.FormStates.SUBMITTING,integrations:D,section:m,errors:I,guild:S,bans:R,invites:L,selectedRoleId:N,embedEnabled:A,embedChannelId:O,mfaLevel:M,searchQuery:T,vanityURLCode:b,hasChanges:this.hasChanges()}},t}(r.default.Store);t.default=new x(a.default,__OVERLAY__?{}:{GUILD_SETTINGS_INIT:P,GUILD_SETTINGS_OPEN:function(e){g=!0,P(e)},GUILD_SETTINGS_CLOSE:U,GUILD_SETTINGS_UPDATE:function(e){var t;y.forEach(function(t){e.hasOwnProperty(t)&&(S=S.set(t,e[t]))}),t=!1,y.forEach(function(e){S[e]!==C[e]&&(t=!0)}),t||(S=C)},GUILD_SETTINGS_CANCEL_CHANGES:function(e){var t=e.guildId;C=S=l.default.getGuild(t),I={}},GUILD_SETTINGS_SUBMIT:function(){v=_.FormStates.SUBMITTING},GUILD_SETTINGS_SUBMIT_SUCCESS:function(){v=_.FormStates.OPEN},GUILD_SETTINGS_SUBMIT_FAILURE:function(e){v=_.FormStates.OPEN,m=_.GuildSettingsSections.OVERVIEW,I=e.errors||{}},GUILD_SETTINGS_SET_SECTION:G,GUILD_SETTINGS_SET_SEARCH_QUERY:function(e){T=e.searchQuery},GUILD_SETTINGS_LOADED_BANS:function(e){R={},e.bans.forEach(function(e){null!=e.user&&null!=e.user.id&&(R[e.user.id]=e)})},GUILD_SETTINGS_LOADED_INVITES:function(e){L={},e.invites.forEach(function(e){L[e.code]=H(e)})},GUILD_SETTINGS_SET_EMBED:function(e){A=e.enabled,O=e.channelId},GUILD_SETTINGS_SET_VANITY_URL:function(e){b=e.code},GUILD_SETTINGS_SET_MFA_SUCCESS:function(e){var t=e.level;M=t},GUILD_SETTINGS_ROLE_SELECT:function(e){var t=e.roleId;N=t},GUILD_SETTINGS_LOADED_INTEGATIONS:function(e){D=e.integrations.map(function(e){return e.user=new u.default(e.user),e})},GUILD_BAN_ADD:function(e){var t,n=e.user,r=e.guildId;return null!=R&&null!=S&&S.id===r&&void(R=o({},R,(t={},t[n.id]=!0,t)))},GUILD_BAN_REMOVE:function(e){var t=e.user,n=e.guildId;return null!=R&&null!=S&&S.id===n&&void delete(R=o({},R))[t.id]},GUILD_ROLE_CREATE:function(e){var t=e.guildId,n=e.role;if(!w(t))return!1;N=n.id},GUILD_ROLE_UPDATE:function(e){if(!w(e.guildId))return!1},GUILD_ROLE_DELETE:function(e){var t=e.guildId,n=e.roleId;if(!w(t))return!1;N===n&&(N=t)},GUILD_UPDATE:function(e){if(null==S||S.id!==e.guild.id)return!1;var t=C=l.default.getGuild(S.id);y.forEach(function(e){"icon"!==e&&"splash"!==e&&(t=t.set(e,S[e]))}),S=t},GUILD_DELETE:function(e){if(null==S||S.id!==e.guild.id)return!1;U()},USER_CONNECTIONS_UPDATE:k,GUILD_INTEGRATIONS_UPDATE:k,INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(L=o({},L))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;L=o({},L,((t={})[e.invite.code]=H(e.invite),t))}}),e.exports=t.default},5995:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(0);t.default={updateChannelDimensions:function(e,t,n,o){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_DIMENSIONS,channelId:e,scrollTop:t,scrollHeight:n,offsetHeight:o})},updateChannelListScroll:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTop:t})},channelListScrollTo:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:t})},clearChannelListScrollTo:function(e){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:null})},clearChannelDimensions:function(e){this.updateChannelDimensions(e,null,null,null)},updateGuildListScrollTo:function(e){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_GUILD_LIST_DIMENSIONS,scrollTop:e})}},e.exports=t.default},6001:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(6)),u=p(n(87)),s=p(n(522)),d=n(270),f=n(0),c=p(n(5930));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(){o.props.disableButton||((0,d.pushLayer)(f.Layers.USER_SETTINGS),s.default.setSection(f.UserSettingsSections.STREAMER_MODE))},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e;return r("div",{className:c.default.streamerModeEnabled},void 0,r("div",{className:c.default.streamerModeEnabledImage}),r(u.default,{className:(0,i.default)(c.default.streamerModeEnabledBtn,(e={},e[c.default.disabled]=this.props.disableButton,e)),onClick:this.handleClick},void 0,l.default.Messages.STREAMER_MODE_ENABLED))},t}(a.Component);_.defaultProps={disableButton:!1},t.default=_,e.exports=t.default},6003:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=h(n(3)),a=h(n(8)),i=h(n(2)),l=n(0),u=h(n(363)),s=h(n(65)),d=h(n(18)),f=h(n(269)),c=h(n(112)),p=h(n(14));function h(e){return e&&e.__esModule?e:{default:e}}var _={},E={},y={},g={};function v(e){switch(e){case"null":case null:case void 0:return null;default:return e}}function m(e){var t,n,r,a=!1,i=!1,l=0,s=0,d=g[e];(null==d&&(T(),d=g[e]||new Set),d.forEach(function(t){null!==e&&(i=i||!f.default.isGuildOrCategoryOrChannelMuted(e,t)&&u.default.hasUnread(t),s+=u.default.getUnreadCount(t)),l+=u.default.getMentionCount(t)}),i)?_[e]||(_=o({},_,((t={})[e]=!0,t)),a=!0):_[e]&&(delete(_=o({},_))[e],a=!0);null!=e&&y[e]!==s&&(y=o({},y,((n={})[e]=s,n)),a=!0);E[e]!==l&&(E=o({},E,((r={})[e]=l,r)),a=!0);return a}function T(){g={},a.default.forEach(d.default.getChannels(),function(e){if(e.type!==l.ChannelTypes.GUILD_VOICE&&(e.isPrivate()||c.default.can(l.Permissions.VIEW_CHANNEL,{channelId:e.id}))){var t=e.guild_id,n=g[t];null==n&&(n=new Set,g[t]=n),n.add(e.id)}})}function I(e){return T(),m(e)}function C(e,t){var n=d.default.getChannel(e);if(null!=n)return t(v(n.guild_id));var o=Object.keys(g),r=Array.isArray(o),a=0;for(o=r?o:o[Symbol.iterator]();;){var i;if(r){if(a>=o.length)break;i=o[a++]}else{if((a=o.next()).done)break;i=a.value}var l=i;if(g[l].has(e))return t(v(l))}return!1}function S(e){var t=e.guilds;_={},E={},y={},T(),m(null),t.forEach(function(e){return m(e.id)})}function N(e){return C(e.channelId,m)}function A(e){return C(e.channel.id,I)}function O(e){return I(e.guildId)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(d.default,s.default,u.default,c.default,p.default,f.default)},t.prototype.hasAnyUnread=function(){return Object.keys(_).length>0},t.prototype.getUnreadGuilds=function(){return _},t.prototype.getGuildUnreadCount=function(e){return y[e]||0},t.prototype.hasUnread=function(e){return _[e]||!1},t.prototype.getMentionCounts=function(){return E},t.prototype.getUnreadGuildsIgnoreMuted=function(e){var t=g[e];return t&&Array.from(t).some(function(e){return u.default.hasUnread(e)})},t.prototype.getTotalMentionCount=function(){return(0,a.default)(E).values().sum()},t}(r.default.Store);t.default=new b(i.default,{CONNECTION_OPEN:S,OVERLAY_INITIALIZE:S,GUILD_CREATE:function(e){return I(e.guild.id)},GUILD_DELETE:function(e){var t=e.guild;null!=_[t.id]&&delete(_=o({},_))[t.id],null!=y[t.id]&&delete(y=o({},y))[t.id],null!=E[t.id]&&delete(E=o({},E))[t.id],delete g[t.id]},MESSAGE_CREATE:N,MESSAGE_ACK:N,CHANNEL_SELECT:N,UPDATE_CHANNEL_DIMENSIONS:N,CHANNEL_DELETE:function(e){var t=e.channel;return C(t.id,function(e){return g[e].delete(t.id),m(e)})},WINDOW_FOCUS:function(){return C(s.default.getChannelId(),m)},GUILD_ACK:function(e){return m(e.guildId)},GUILD_ROLE_CREATE:O,GUILD_ROLE_DELETE:O,GUILD_ROLE_UPDATE:O,CHANNEL_CREATE:A,CHANNEL_UPDATE:A,GUILD_MEMBER_UPDATE:function(e){var t=e.user,n=e.guildId;return t.id===p.default.getId()&&I(n)},USER_GUILD_SETTINGS_UPDATE:function(){Object.keys(_).forEach(m)}}),e.exports=t.default},6007:function(e,t,n){"use strict";t.__esModule=!0,t.TutorialIndicatorPositions=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(73),a=s(n(3)),i=s(n(6209)),l=s(n(6427)),u=s(n(191));function s(e){return e&&e.__esModule?e:{default:e}}var d=t.TutorialIndicatorPositions={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.show(this.props.visible)},t.prototype.componentWillUnmount=function(){this.show(!1)},t.prototype.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,o=e.offsetY,r=e.offsetXPercent,a=e.offsetYPercent,i=e.tutorialId,u=e.autoOpen,s=e.visible,d=e.windowSize;i!==this.props.tutorialId?l.default.hide(i):s===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&o===this.props.offsetY&&r===this.props.offsetXPercent&&a===this.props.offsetYPercent&&u===this.props.autoOpen&&d===this.props.windowSize||this.show(this.props.visible)},t.prototype.show=function(e){var t=this.props,n=t.tutorialId,o=t.position,a=t.offsetX,i=t.offsetY,u=t.offsetXPercent,s=t.offsetYPercent,d=t.autoOpen,f=t.visible;if(e){var c=(0,r.findDOMNode)(this).getBoundingClientRect(),p=c.top,h=c.left,_=c.right,E=c.bottom;l.default.show(n,{position:o,targetWidth:_-h,targetHeight:E-p,x:h,y:p,offset:{x:a,y:i},offsetPercent:{x:u,y:s},autoOpen:d})}else f&&l.default.hide(n)},t.prototype.render=function(){return o.Children.only(this.props.children)},t}(o.Component);f.defaultProps={position:d.TOP,offsetX:0,offsetY:0,offsetXPercent:0,offsetYPercent:0,autoOpen:!1},t.default=a.default.connectStores([i.default,u.default],function(e){var t=e.tutorialId;return{visible:i.default.shouldShow(t),windowSize:u.default.windowSize()}})(f)},6008:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5842));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.value,n=void 0===t?0:t,o=e.className;return n>0?r("div",{className:(0,a.default)(i.default.wrapper,o)},void 0,n):null},e.exports=t.default},6012:function(e,t,n){"use strict";t.__esModule=!0,t.ContentTypes=t.LazyContentScroller=t.SectionTypes=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(9)),u=E(n(265)),s=n(543),d=E(s),f=E(n(521)),c=E(n(189)),p=E(n(1259)),h=n(0);n(5943);var _=E(n(6700));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.SectionTypes={HEADER:"HEADER",DIVIDER:"DIVIDER",CUSTOM:"CUSTOM"};(t.LazyContentScroller=function(e){function t(n){y(this,t);var o=g(this,e.call(this,n));return o.renderHeader=o.renderHeader.bind(o),o}return v(t,e),t.prototype.renderHeader=function(){return a("div",{className:"custom-header"},void 0,this.props.header)},t.prototype.renderContent=function(){var e=this.props,t=e.children,n=(e.header,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","header"]));return a("div",{className:"custom-container"},void 0,i.createElement(d.default,r({},n,{theme:s.Themes.GHOST,renderStickyHeader:this.renderHeader,className:"custom-scroller content-region-scroller"}),t))},t.prototype.render=function(){return a("div",{className:"custom-column"},void 0,this.renderContent())},t}(i.PureComponent)).defaultProps={paddingTop:0,paddingBottom:60,batchEndMultiplier:1};var m={friction:7,tension:60},T=function(e){function t(n){y(this,t);var o=g(this,e.call(this,n));return o.state={translateY:new c.default.Value(0)},o}return v(t,e),t.prototype.componentDidMount=function(){this.slideIn()},t.prototype.componentWillEnter=function(e){this.slideIn(e)},t.prototype.componentWillLeave=function(e){this.slideOut(e)},t.prototype.slideIn=function(e){var t=this.state.translateY;c.default.spring(t,r({toValue:1},m)).start(e)},t.prototype.slideOut=function(e){var t=this.state.translateY;c.default.stagger(250,[c.default.spring(t,r({toValue:1.3},m)),c.default.spring(t,r({toValue:0},m))]).start(e)},t.prototype.render=function(){return a(c.default.div,{className:"notice-region",style:this.getNoticeStyle()},void 0,this.props.children)},t.prototype.getNoticeStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["150%","0%"]})},{translateZ:0}]}},t}(i.PureComponent),I=t.ContentTypes={MINIMAL:"minimal",CUSTOM:"custom",DEFAULT:"default"},C=function(e){function t(n){y(this,t);var o=g(this,e.call(this,n));return o.setScrollerRef=o.setScrollerRef.bind(o),o}return v(t,e),t.prototype.componentDidUpdate=function(e){e.section!==this.props.section&&this.resetScroll()},t.prototype.resetScroll=function(){null!=this._scroller&&this._scroller.scrollTo(0)},t.prototype.setScrollerRef=function(e){this._scroller=e},t.prototype.renderTools=function(){var e=this.props,t=e.closeAction,n=e.theme;return null==t?null:a("div",{className:"tools-container"},void 0,a("div",{className:"tools"},void 0,a(_.default,{closeAction:t,theme:n,keybind:"ESC"})))},t.prototype.renderNotice=function(){var e=this.props,t=e.notice,n=e.section;return null==t?null:a(T,{},n,t)},t.prototype.renderContent=function(){var e=this.props,t=e.content,n=e.theme,o=e.contentType;if(o===I.CUSTOM)return a(f.default,{component:"div",className:"content-region"},void 0,t,this.renderTools(),this.renderNotice());var r=n===h.ThemeTypes.LIGHT?h.Colors.WHITE:h.Colors.PRIMARY_600,s=o||I.DEFAULT;return a(f.default,{component:"div",className:"content-region"},void 0,a("div",{className:"content-transition-wrap"},void 0,i.createElement(u.default,{outerClassName:"content-region-scroller-wrap",className:"content-region-scroller",track:!0,theme:u.default.Themes.GHOST,ref:this.setScrollerRef,backgroundColor:r},a("div",{className:(0,l.default)("content-column",s)},void 0,t),this.renderTools())),this.renderNotice())},t.prototype.renderSidebar=function(){var e=this.props,t=e.sidebar,n=e.theme===h.ThemeTypes.LIGHT?p.default.darken(h.Colors.PRIMARY_100,.015):h.Colors.PRIMARY_630;return a("div",{className:"sidebar-region"},void 0,a(u.default,{className:"sidebar-region-scroller",fade:!0,theme:u.default.Themes.GHOST_HAIRLINE,backgroundColor:n},void 0,a("div",{className:"sidebar"},void 0,t)))},t.prototype.render=function(){return a("div",{className:"ui-standard-sidebar-view"},void 0,this.renderSidebar(),this.renderContent())},t}(i.PureComponent);t.default=C},6014:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(0);t.default={selectGuild:function(e){a.default.dispatch({type:i.ActionTypes.DELAYED_GUILD_SELECT,guildId:e})},selectChannel:function(e,t){a.default.dispatch({type:i.ActionTypes.DELAYED_CHANNEL_SELECT,guildId:e,channelId:t})},flushSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.default.dispatch({type:i.ActionTypes.DELAYED_SELECT_FLUSH,immediate:e})}},e.exports=t.default},6024:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=Q(n(3)),u=Q(n(9)),s=Q(n(6)),d=Q(n(7816)),f=Q(n(20)),c=Q(n(6046)),p=n(963),h=n(277),_=Q(h),E=Q(n(38)),y=Q(n(365)),g=Q(n(31)),v=Q(n(5556)),m=Q(n(18)),T=Q(n(1022)),I=Q(n(12)),C=Q(n(59)),S=Q(n(65)),N=Q(n(225)),A=Q(n(6265)),O=Q(n(144)),b=Q(n(363)),M=Q(n(6023)),R=Q(n(576)),L=n(520),D=Q(n(123)),w=Q(n(67)),P=Q(n(87)),U=Q(n(947)),G=Q(n(64)),H=Q(n(40)),k=Q(n(163)),x=n(5985),F=Q(n(939)),j=Q(n(944)),B=Q(n(940)),V=(Q(n(265)),Q(n(142))),K=Q(n(79)),W=(Q(n(88)),Q(n(228)),Q(n(124)),n(0)),Y=Q(n(5922)),$=Q(n(519)),z=Q(n(946)),X=Q(n(561)),q=Q(n(1026));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var te=_.default.getMaxAgeOptions,ne=_.default.getMaxUsesOptions,oe=_.default.INVITE_OPTIONS_FOREVER,re=_.default.INVITE_OPTIONS_1_DAY,ae=_.default.INVITE_OPTIONS_12_HOURS,ie=_.default.INVITE_OPTIONS_6_HOURS,le=_.default.INVITE_OPTIONS_1_HOUR,ue=_.default.INVITE_OPTIONS_30_MINUTES,se=_.default.INVITE_OPTIONS_UNLIMITED,de=25,fe="minutes",ce="hours",pe="days",he="never",_e=((r={})[ue.value]={value:30,type:fe},r[le.value]={value:1,type:ce},r[ie.value]={value:6,type:ce},r[ae.value]={value:12,type:ce},r[re.value]={value:1,type:pe},r[oe.value]={value:0,type:he},r),Ee=function(e){function t(n){J(this,t);var o=Z(this,e.call(this,n));return o.state={sending:!1,invited:!1,hovered:!1},o}return ee(t,e),t.prototype.handleInvite=function(){var e=this,t=this.props,n=t.user,o=t.channel,r=t.code;this.setState({sending:!0}),d.default.enqueue({code:r,user:n,channel:o},function(t){t?e.setState({sending:!1,invited:!0}):e.setState({sending:!1,invited:!1})})},t.prototype.render=function(){var e=this,t=this.props,n=t.user,o=t.channel,r=void 0;return r=this.state.invited?a(G.default,{look:G.default.Looks.LINK,size:G.default.Sizes.SMALL,disabled:!0,color:G.default.Colors.GREY},void 0,s.default.Messages.INVITE_FRIEND_MODAL_SENT):a(G.default,{color:G.default.Colors.GREEN,look:this.state.hovered?G.default.Looks.FILLED:G.default.Looks.OUTLINED,className:Y.default.inviteRowButton,size:G.default.Sizes.SMALL,submitting:this.state.sending,onClick:function(){return e.handleInvite()}},void 0,s.default.Messages.INVITE_FRIEND_MODAL_INVITE),a("div",{className:Y.default.inviteRow,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},void 0,a("div",{className:Y.default.inviteRowInfo},void 0,a(U.default,{channel:o,user:n,size:"small",className:Y.default.inviteRowAvatar}),a("div",{className:Y.default.inviteRowName},void 0,null!=n?n.toString():null,null!=o?o.toString():null)),r)},t}(i.Component),ye=function(e){function t(n){J(this,t);var o=Z(this,e.call(this,n));ge.call(o);var r=n.maxAge,a=n.maxUses,i=n.temporary,l=n.totalSuggestions;return o.state={query:"",friends:C.default.getFriendIDs().reduce(function(e,t){var n=I.default.getUser(t);return null!=n&&e.push(n),e},[]),dms:[],groupDms:[],copied:!1,focused:!1,settingsOpen:!1,maxAge:null!=r?r:re.value,savedMaxAge:r===oe.value?re.value:oe.value,maxUses:a||se.value,temporary:i||!1,showFriends:l>=de,generateNewLink:!1},o}return ee(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channel,n=e.code,o=e.source,r=e.totalSuggestions,a=this.state,i=a.maxAge,l=a.maxUses,u=a.temporary,s=a.showFriends,d=null!=t?t.id:S.default.getChannelId();if(null!=d){y.default.createInvite(d,{validate:n||null,max_age:i,max_uses:l,temporary:u},o);var c=this.props.guild;if(s){var p=this.state.friends.length,h=this.props.privateChannelIds,_=m.default.getChannels(),E=h.reduce(function(e,t){return _[t].type===W.ChannelTypes.DM?e.numDms+=1:e.numGroupDms+=1,e},{numDms:0,numGroupDms:0}),g=E.numDms,v=E.numGroupDms;f.default.track(W.AnalyticEvents.INVITE_SUGGESTION_OPENED,{location:o,num_suggestions:r,num_friends:p,num_dms:g,num_group_dms:v,guild_id:c.id})}f.default.track(W.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite Modal",Source:o})}},t.prototype.componentDidUpdate=function(){this.state.generateNewLink&&(this.handleGenerateNewLink(),this.setState({generateNewLink:!1}))},t.prototype.renderCopyInput=function(){var e,t=this,n=this.props,o=n.code,r=n.hide,l=this.state,d=l.copied,f=l.focused,c=l.showFriends,_=(0,h.getInviteURL)(o);return a(i.Fragment,{},void 0,a("div",{className:(0,u.default)(X.default.input,z.default.flexJustifyBetween,z.default.flexCenter,(e={},e[X.default.success]=d,e[X.default.focused]=f,e))},void 0,a(F.default,{className:Y.default.copyInput,name:"invite",value:r?s.default.Messages.INSTANT_INVITE_HIDDEN:_,editable:!1,inputClassName:Y.default.noBorder,autoFocus:!c,onFocus:function(){return c?null:t.setState({focused:!0})},onBlur:function(){return c?null:t.setState({focused:!1})},spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),p.SUPPORTS_COPY?a(G.default,{size:G.default.Sizes.SMALL,color:d?G.default.Colors.GREEN:G.default.Colors.BRAND,className:Y.default.copyButton,onClick:function(){return t.handleCopy(_)}},void 0,d?s.default.Messages.INVITE_COPIED:s.default.Messages.COPY):null),a(w.default,{className:(0,u.default)($.default.marginTop8,Y.default.footerText)},void 0,this.maxAgeString()," ",c?a(k.default,{onClick:this.openSettings},void 0,s.default.Messages.INVITE_EDIT_LINK):null))},t.prototype.renderHeader=function(){var e=this,t=this.props.guild,n=this.state,o=n.showFriends,r=n.settingsOpen,i=n.query,l=g.default.theme,u=null;return u=r?a(L.FormTitle,{tag:L.FormTitle.Tags.H2,className:$.default.marginReset},void 0,s.default.Messages.INVITE_SETTINGS_TITLE):o?a("div",{className:Y.default.header},void 0,a(L.FormTitle,{tag:L.FormTitle.Tags.H2,className:$.default.marginBottom8},void 0,s.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:t.toString()})),a(M.default,{query:i,className:$.default.marginTop4,onQueryChange:this.handleQueryChange,light:l===W.ThemeTypes.LIGHT,placeholder:s.default.Messages.INVITE_SEARCH_FOR_FRIENDS,autoFocus:!0,onClear:function(){e.setState({query:""})}})):a(L.FormTitle,{tag:L.FormTitle.Tags.H2,className:$.default.marginReset},void 0,s.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:t.toString()})),a(D.default.Header,{separator:o&&!r},void 0,a(D.default.CloseButton,{className:Y.default.closeButton,onClick:this.handleDone}),u)},t.prototype.renderSettingsBody=function(){var e=this.state,t=e.maxAge,n=e.maxUses,o=e.temporary,r=te.find(function(e){return e.value===t}),i=ne.find(function(e){return e.value===n});return a(D.default.Content,{outerClassName:Y.default.settingsContent,className:Y.default.noScroll},void 0,a("form",{onSubmit:this.handleGenerateNewLink},void 0,a(L.FormItem,{title:s.default.Messages.EXPIRE_AFTER,className:$.default.marginTop20},void 0,a(j.default,{value:r,clearable:!1,searchable:!1,options:te,onChange:this.handleSelectMaxAge,className:Y.default.select})),a(L.FormItem,{title:s.default.Messages.MAX_NUMBER_OF_USES,className:(0,u.default)($.default.marginTop20,$.default.marginBottom4)},void 0,a(j.default,{value:i,clearable:!1,searchable:!1,options:ne,onChange:this.handleSelectMaxUses,className:Y.default.select})),a(L.FormItem,{className:$.default.marginTop20},void 0,a(B.default,{value:o,clearable:!1,searchable:!1,options:ne,onChange:this.handleToggleTemporary,note:s.default.Messages.TEMPORARY_MEMBERSHIP_EXPLANATION,hideBorder:!0},void 0,a(w.default,{},void 0,s.default.Messages.GRANT_TEMPORARY_MEMBERSHIP)))))},t.prototype.renderFriendsBody=function(){var e=this,t=this.props,n=t.code,o=t.privateChannelIds,r=t.channel,i=t.guild,l=this.state,d=l.query,f=l.dms,c=l.groupDms,p=l.friends,h=void 0;if(0===p.length&&0===o.length&&0===f.length&&0===c.length?h=s.default.Messages.INVITE_FRIEND_MODAL_NO_RESULTS:null==n&&(h=s.default.Messages.INVITE_FRIEND_MODAL_LOADING),null!=h)return a(D.default.Content,{className:$.default.marginBottom20},void 0,a(x.EmptyStateText,{},void 0,h));var _=m.default.getChannels(),E=[],y=T.default.getProps(i.id,null!=r?r.id:null).rows.map(function(e){return e.userId}),g=null,v=null;return""===d?(g=o.filter(function(e){return null!=_[e]}).map(function(e){var t=_[e];if(null==t)return null;if(t.type===W.ChannelTypes.DM){var o=t.getRecipientId();if(null!=o&&!y.includes(o)){var r=I.default.getUser(o);return null==r?null:(E.push(o),a(Ee,{user:r,code:n},"dm-"+o))}return null}return a(Ee,{channel:t,code:n},"dm-"+t.id)}),v=p.map(function(e){return-1!==E.indexOf(e.id)||y.includes(e.id)?null:a(Ee,{user:e,code:n},"user-"+e.id)})):g=[].concat(f.filter(function(e){var t=m.default.getDMFromUserId(e.id);return null!=t&&(null!=b.default.lastMessageId(t)&&!y.includes(e.id))}).map(function(e){var t=m.default.getDMFromUserId(e.id);if(null!=(null!=t?b.default.lastMessageId(t):null))return E.push(e.id),a(Ee,{user:e,code:n},"dm-"+e.id)}),c.map(function(e){return a(Ee,{channel:e,code:n},"group-dm-"+e.id)}),p.map(function(e){return-1!==E.indexOf(e.id)||y.includes(e.id)?null:a(Ee,{user:e,code:n},"user-"+e.id)})),a(D.default.Content,{className:(0,u.default)(Y.default.scroller),scrollerRef:function(t){e._scroller=t}},void 0,g,v)},t.prototype.renderBody=function(){var e=this.props.guild,t=this.state,n=t.settingsOpen,o=t.showFriends;if(n)return this.renderSettingsBody();if(o)return this.renderFriendsBody();var r=I.default.getCurrentUser(),i=e.isOwner(r);return a(D.default.Content,{className:Y.default.noScroll},void 0,a(H.default,{direction:H.default.Direction.VERTICAL,className:$.default.marginBottom20},void 0,a(w.default,{className:Y.default.subText},void 0,i?s.default.Messages.INVITE_SHARE_LINK_OWN_SERVER:s.default.Messages.SHARE_INVITE_LINK_FOR_ACCESS),this.renderCopyInput()))},t.prototype.renderFooter=function(){var e,t=this.state,n=t.showFriends,o=t.settingsOpen,r=t.maxAge,l=g.default.theme,d=null;return d=o?a(i.Fragment,{},void 0,a(G.default,{onClick:this.handleGenerateNewLink},void 0,s.default.Messages.GENERATE_A_NEW_LINK),a(G.default,{look:G.default.Looks.LINK,color:l===W.ThemeTypes.LIGHT?G.default.Colors.PRIMARY:G.default.Colors.WHITE,onClick:this.handleDone},void 0,s.default.Messages.CANCEL)):n?a(H.default,{direction:H.default.Direction.VERTICAL,className:Y.default.content},void 0,a(L.FormTitle,{tag:L.FormTitle.Tags.H5,className:$.default.marginBottom8},void 0,s.default.Messages.INVITE_FOOTER_LINK_HEADER),this.renderCopyInput()):a(H.default,{justify:H.default.Justify.BETWEEN,className:$.default.marginTop20},void 0,a(R.default,{checked:r===oe.value,onChange:this.handleToggleMaxAge},void 0,a(w.default,{className:Y.default.checkBoxLabel},void 0,s.default.Messages.SET_INVITE_LINK_NEVER_EXPIRE)),a(V.default,{text:s.default.Messages.LINK_SETTINGS},void 0,a(P.default,{onClick:this.openSettings,className:q.default.cursorPointer},void 0,a(K.default,{name:K.default.Names.GEAR,width:18,height:18,color:W.Colors.PRIMARY_400})))),a(D.default.Footer,{className:o?Y.default.settingsFooter:(0,u.default)((e={},e[Y.default.noPadding]=!n,e[Y.default.footer]=n,e))},void 0,d)},t.prototype.render=function(){return a("div",{className:this.state.showFriends?Y.default.wrapper:void 0},void 0,a(D.default,{className:Y.default.modal},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(i.PureComponent),ge=function(){var e=this;this.handleGenerateNewLink=function(){var t=e.props,n=t.channel,o=t.source,r=null!=n?n.id:S.default.getChannelId();null!=r&&y.default.createInvite(r,{max_age:e.state.maxAge,max_uses:e.state.maxUses,temporary:e.state.temporary},o),e.state.maxAge===oe.value||e.state.savedMaxAge===oe.value?e.setState({settingsOpen:!1}):e.setState({settingsOpen:!1,savedMaxAge:oe.value})},this.handleCopy=function(t){var n=e.props,o=n.channel,r=n.source,a=n.code;(0,p.copy)(t),e.setState({copied:!0}),setTimeout(function(){e.setState({copied:!1})},1e3);var i=null!=o?o.id:S.default.getChannelId(),l=void 0;if(null!=o)l=o.type;else{var u=m.default.getChannel(i);null!=u&&(l=u.type)}f.default.track(W.AnalyticEvents.COPY_INSTANT_INVITE,{server:N.default.getGuildId(),channel:i,channel_type:l,location:r,code:a})},this.openSettings=function(){e.setState({settingsOpen:!0})},this.maxAgeString=function(){var t=e.state,n=t.maxAge,o=t.maxUses,r=parseInt(o,10),a=0===r,i=_e[n].value;switch(_e[n].type){case fe:return a?s.default.Messages.INVITE_EXPIRES_MINUTES:s.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:r});case ce:return a?s.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:i}):s.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:i,numUses:r});case pe:return a?s.default.Messages.INVITE_EXPIRES_DAYS:s.default.Messages.INVITE_EXPIRES_DAYS_OR_USES.format({numUses:r});case he:return a?s.default.Messages.INVITE_EXPIRES_NEVER:s.default.Messages.INVITE_EXPIRES_USES.format({numUses:r});default:return s.default.Messages.INVITE_EXPIRES}},this.handleSelectMaxAge=function(t){e.setState({maxAge:parseInt(t.value,10),savedMaxAge:e.state.maxAge})},this.handleSelectMaxUses=function(t){e.setState({maxUses:parseInt(t.value,10)})},this.handleToggleTemporary=function(t){e.setState({temporary:t.currentTarget.checked})},this.handleQueryChange=function(t){null!=e._scroller&&e._scroller.scrollTo(0),e.setState({query:t,friends:c.default.queryFriends(t,500,!1).map(function(e){return e.user}),dms:c.default.queryDMUsers(t,50,!1).map(function(e){return e.user}),groupDms:c.default.queryGroupDMs(t,50,!1).map(function(e){return e.channel})})},this.handleToggleMaxAge=function(){e.setState({maxAge:e.state.savedMaxAge,savedMaxAge:e.state.maxAge,generateNewLink:!0})},this.handleDone=function(){e.state.settingsOpen?e.setState({settingsOpen:!1}):E.default.pop()}};t.default=l.default.connectStores([A.default,O.default,C.default,v.default,m.default],function(e){var t=e.channel,n=null!=t?t.id:S.default.getChannelId(),o=null!=n?A.default.getInvite(n):null,r=C.default.getFriendIDs().length,a=m.default.getChannels(),i=null!=t?t.guild_id:null,l=null!=i?T.default.getProps(i,n).rows.map(function(e){return e.userId}):[],u=v.default.getPrivateChannelIds().filter(function(e){var t=a[e];if(null==t)return!1;if(t.type===W.ChannelTypes.GROUP_DM)return!0;var n=b.default.lastMessageId(t.id),o=t.getRecipientId();return null!=o&&null!=n&&!l.includes(o)}),s=u.length,d=O.default.hideInstantInvites,f=r+s;return null==o?{hide:d,totalSuggestions:f,privateChannelIds:u}:{code:o.code,maxAge:o.maxAge,maxUses:o.maxUses,temporary:o.temporary,hide:d,totalSuggestions:f,privateChannelIds:u}})(ye),e.exports=t.default},6030:function(e,t,n){"use strict";t.__esModule=!0,t.transitionToChannel=function(e,t){if(r.default.hasModalOpen())return;l.default.closeAll(),i.default.channelListScrollTo(e,t),a.default.selectChannel(e,t)},t.transitionToPage=function(e){if(r.default.hasModalOpen())return;l.default.closeAll(),o.default.replaceWith(e)};var o=u(n(41)),r=u(n(949)),a=u(n(6014)),i=u(n(5995)),l=u(n(192));function u(e){return e&&e.__esModule?e:{default:e}}},6032:function(e,t,n){"use strict";t.__esModule=!0,t.show=A,t.hide=O,t.toggle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND";c.default.isOpen()?O():A(e)},t.search=function(e){o.default.dispatch({type:v.ActionTypes.QUICKSWITCHER_SEARCH,query:e,options:C()})},t.selectResult=function(e){o.default.dispatch({type:v.ActionTypes.QUICKSWITCHER_SELECT,selectedIndex:e})},t.switchToResult=function(e){S(v.AnalyticEvents.QUICKSWITCHER_RESULT_SELECTED,e);var t=e.type,n=e.record,c=void 0;switch(t){case v.AutocompleterResultTypes.GUILD:(c=d.default.getChannelId(n.id))?i.default.selectChannel(n.id,c):i.default.selectGuild(n.id),i.default.flushSelection(!0);break;case v.AutocompleterResultTypes.TEXT_CHANNEL:null!=(c=a.default.getChannel(n.id))&&(i.default.selectChannel(c.guild_id,n.id),i.default.flushSelection(!0));break;case v.AutocompleterResultTypes.VOICE_CHANNEL:null!=(c=a.default.getChannel(n.id))&&l.default.selectVoiceChannel(c.guild_id,n.id);break;case v.AutocompleterResultTypes.USER:s.default.openPrivateChannel(f.default.getId(),[n.id]),u.default.channelListScrollTo(v.ME,n.id);break;case v.AutocompleterResultTypes.GROUP_DM:i.default.selectChannel(v.ME,n.id),i.default.flushSelection(!0),u.default.channelListScrollTo(v.ME,n.id);break;case v.AutocompleterResultTypes.APPLICATION:var _=(0,r.getLibraryApplicationForApplicationId)(n.id,p.default,h.default);T(n.id,_,{analyticsParams:{source:v.AnalyticsLocations.QUICK_SWITCHER}})}o.default.dispatch({type:v.ActionTypes.QUICKSWITCHER_SWITCH_TO,result:e}),N()};var o=m(n(2)),r=n(127),a=m(n(18)),i=m(n(6014)),l=m(n(165)),u=m(n(5995)),s=m(n(146)),d=m(n(65)),f=m(n(14)),c=m(n(6206)),p=m(n(44)),h=m(n(129)),_=m(n(225)),E=m(n(20)),y=m(n(124)),g=n(6415),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var T=function(){return Promise.resolve()},I=n(231);function C(){return{selectedGuildId:_.default.getGuildId(),selectedChannelId:d.default.getChannelId(),lastSelectedChannelId:d.default.getLastSelectedChannelId()}}function S(e,t){var n=c.default.getProps(),o=n.results,r=n.queryMode,i=n.query,l=_.default.getGuildId(),u=d.default.getChannelId(l),s=o[(0,g.findNextSelected)("down",-1,o)],f={current_channel_id:u,current_guild_id:l,query_mode:r||"GENERAL",query_length:i.length,top_result_type:s?s.type:null,top_result_score:s?s.score:null,num_results_total:c.default.getResultTotals(),num_results_users:c.default.getResultTotals(v.AutocompleterResultTypes.USER),num_results_text_channels:c.default.getResultTotals(v.AutocompleterResultTypes.TEXT_CHANNEL),num_results_voice_channels:c.default.getResultTotals(v.AutocompleterResultTypes.VOICE_CHANNEL),num_results_guilds:c.default.getResultTotals(v.AutocompleterResultTypes.GUILD),num_results_group_dms:c.default.getResultTotals(v.AutocompleterResultTypes.GROUP_DM)};if(null!=u){var p=a.default.getChannel(u);f.current_channel_type=null!=p?p.type:null}if(null!=t){var h=t.type,m=t.score,T=t.record;switch(f.selected_type=h,f.selected_score=m,f.selected_index=o.indexOf(t),h){case v.AutocompleterResultTypes.GUILD:f.selected_guild_id=T.id;break;case v.AutocompleterResultTypes.TEXT_CHANNEL:case v.AutocompleterResultTypes.VOICE_CHANNEL:T instanceof y.default&&(f.selected_guild_id=null!=T.guild_id?T.guild_id:null),f.selected_channel_id=T.id;break;case v.AutocompleterResultTypes.GROUP_DM:f.selected_channel_id=T.id;break;case v.AutocompleterResultTypes.USER:f.selected_user_id=T.id}}E.default.track(e,f)}function N(){o.default.dispatch({type:v.ActionTypes.QUICKSWITCHER_HIDE})}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e){if(!c.default.isOpen()){var t=_.default.getGuildId(),n=d.default.getChannelId(t),o=void 0;if(null!=n){var r=a.default.getChannel(n);o=null!=r?r.type:null}E.default.track(v.AnalyticEvents.QUICKSWITCHER_OPENED,{source:e,current_guild_id:t,current_channel_id:n,current_channel_type:o})}}(e),o.default.dispatch({type:v.ActionTypes.QUICKSWITCHER_SHOW,query:t,options:C()})}function O(){S(v.AnalyticEvents.QUICKSWITCHER_CLOSED),N()}T=I.playApplication},6033:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=d(n(3)),a=d(n(2)),i=d(n(952)),l=d(n(65)),u=d(n(5556)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=null,c=!1;function p(e){var t=e.link;f=t}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default,l.default)},t.prototype.getHomeLink=function(){return f||i.default.defaultRoute},o(t,[{key:"hasHandledRedirect",get:function(){return c}}]),t}(r.default.Store);t.default=new h(a.default,{OVERLAY_INITIALIZE:function(e){return t=u.default.getPrivateChannelIds(),void(((n=l.default.getChannelId(s.ME))||t[0])&&(f=s.Routes.CHANNEL(s.ME,n||t[0])));var t,n},APP_VIEW_SET_HOME_LINK:p,ACTIVITY_FEED_HANDLE_REDIRECT:function(e){c=!0},APPLICATION_STORE_LOCATION_CHANGE:function(e){p({link:e.location.pathname})},APPLICATION_STORE_RESET_NAVIGATION:function(e){return function(){if(null==f||!f.startsWith(s.Routes.APPLICATION_STORE))return!1;f=s.Routes.APPLICATION_STORE}()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;null==t&&null!=n&&(f=s.Routes.CHANNEL(s.ME,n))}}),e.exports=t.default},6045:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=u(n(9)),i=n(99),l=u(n(5909));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={XSMALL:l.default.xsmall,SMALL:l.default.small,MEDIUM:l.default.medium,LARGE:l.default.large},f={DEFAULT:"default",STATIC:"static"},c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=s(this,e.call.apply(e,[this].concat(a))),o.state={hovered:!1},o.getMode=function(){return null!=o.props.srcHover?f.STATIC:f.DEFAULT},o.handleHover=function(){o.state.hovered||o.setState({hovered:!0})},o.handleBlur=function(){o.state.hovered&&o.setState({hovered:!1})},s(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.src,u=e.srcHover,s=e.className,d=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["size","src","srcHover","className"]),f={backgroundImage:"url('"+(this.state.hovered&&u?u:n)+"')"},c=this.getMode();return r.createElement("button",o({className:(0,a.default)((0,i.getClass)(l.default,"iconButton",c),s,t),style:f,onMouseEnter:this.handleHover,onFocus:this.handleHover,onMouseLeave:this.handleBlur,onBlur:this.handleBlur},d))},t}(r.PureComponent);c.Sizes=d,c.defaultProps={size:d.MEDIUM,disabled:!1},t.default=c,e.exports=t.default},6047:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),a=l(n(2)),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e){a.default.dispatch({type:r.ActionTypes.NOTIFICATION_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:r.ActionTypes.NOTIFICATION_SETTINGS_MODAL_CLOSE})},updateNotificationSettings:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.default.patch({url:r.Endpoints.USER_GUILD_SETTINGS(e||r.ME),body:t}),a.default.dispatch({type:r.ActionTypes.USER_GUILD_SETTINGS_UPDATE,userGuildSettings:[o({guild_id:e},t)],partial:n})},updateChannelOverrideSettings:function(e,t,n){var o;this.updateNotificationSettings(e,{channel_overrides:(o={},o[t]=n,o)},!0)}},e.exports=t.default},6048:function(e,t,n){"use strict";t.__esModule=!0,t.init=u,t.open=s,t.close=d,t.setSection=f,t.selectPermissionOverwrite=c,t.updateChannel=p,t.saveChannel=h,t.deleteChannel=_;var o=l(n(2)),r=l(n(13)),a=n(270),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_INIT,channelId:e})}function s(e){u(e),(0,a.pushLayer)(i.Layers.CHANNEL_SETTINGS)}function d(){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_CLOSE})}function f(e){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:e})}function c(e){o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT,overwriteId:e})}function p(e){var t=e.name,n=e.topic,r=e.bitrate,a=e.userLimit,l=e.nsfw,u=e.rateLimitPerUser;o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_UPDATE,name:t,topic:n,bitrate:r,userLimit:a,nsfw:l,rateLimitPerUser:u})}function h(e,t){var n=t.name,a=t.position,l=t.topic,u=t.bitrate,s=t.userLimit,d=t.nsfw,f=t.permissionOverwrites,c=t.rateLimitPerUser;return o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT}),r.default.patch({url:i.Endpoints.CHANNELS+"/"+e,body:{name:n,position:a,topic:l,bitrate:u,user_limit:s,nsfw:d,permission_overwrites:f,rate_limit_per_user:c}}).then(function(t){return o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS,channelId:e}),t},function(e){return o.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE,errors:e.body}),e})}function _(e){r.default.delete(i.Endpoints.CHANNELS+"/"+e).then(function(){return d()})}t.default={init:u,open:s,close:d,setSection:f,selectPermissionOverwrite:c,updateChannel:p,saveChannel:h,deleteChannel:_}},6049:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(227)),l=v(n(7822)),u=v(n(6685)),s=v(n(7821)),d=v(n(7820)),f=v(n(7819)),c=v(n(548)),p=v(n(7818)),h=v(n(7817)),_=v(n(7814)),E=v(n(7813)),y=v(n(6683)),g=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderInviteCreateGroup=function(){var e=this.props,t=e.guild,n=e.channel,o=e.type;if(null!=t)return r(h.default,{channel:n,guild:t,type:o})},t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,o=e.guild,a=e.channel,h=e.hasUnread,v=e.className;switch(n){case g.ContextMenuTypes.CHANNEL_LIST_TEXT:return r("div",{className:v,style:t},void 0,r(i.default,{},void 0,r(s.default,{channelId:a.id,hasUnread:h,type:a.type}),r(u.default,{channel:a}),r(l.default,{channel:a})),this.renderInviteCreateGroup(),r(p.default,{channel:a}),r(c.default,{id:a.id}));case g.ContextMenuTypes.CHANNEL_LIST_VOICE:case g.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE:return r("div",{className:v,style:t},void 0,r(i.default,{},void 0,r(_.default,{channelId:a.id}),r(l.default,{channel:a})),this.renderInviteCreateGroup(),r(p.default,{channel:a}),r(c.default,{id:a.id}));case g.ContextMenuTypes.CHANNEL_TITLE:return r("div",{className:v,style:t},void 0,r(i.default,{},void 0,r(u.default,{channel:a}),r(l.default,{channel:a})),this.renderInviteCreateGroup(),r(p.default,{channel:a}),r(c.default,{id:a.id}));case g.ContextMenuTypes.CHANNEL_TOPIC:return r("div",{className:v,style:t},void 0,r(i.default,{},void 0,r(u.default,{channel:a}),r(d.default,{channel:a}),r(l.default,{channel:a})),this.renderInviteCreateGroup(),r(p.default,{channel:a}),r(c.default,{id:a.id}));case g.ContextMenuTypes.CHANNEL_AUDIT_LOG:return r("div",{className:v,style:t},void 0,r(i.default,{},void 0,r(l.default,{channel:a}),null!=o?r(f.default,{channel:a,guild:o}):null,r(c.default,{id:a.id})));case g.ContextMenuTypes.CHANNEL_CATEGORY:return r("div",{className:v,style:t},void 0,r(s.default,{channelId:a.id,hasUnread:h,type:a.type}),r(u.default,{channel:a}),r(E.default,{channel:a}),r(l.default,{channel:a}),null!=o?r(y.default,{type:g.ChannelTypes.GUILD_CATEGORY,guild:o}):null,r(p.default,{channel:a}),r(c.default,{id:a.id}));default:console.warn("Error - no such ctx menu type:",n)}return null},t}(a.PureComponent);m.defaultProps={hasUnread:!1,selected:!1},t.default=m,e.exports=t.default},6050:function(e,t,n){"use strict";t.__esModule=!0,t.Item=t.Separator=t.Header=t.Types=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=n(196),u=c(n(87)),s=n(0),d=n(99),f=c(n(5940));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=t.Types={SIDE:f.default.side,TOP:f.default.top,UNIQUE:f.default.unique},y=t.Header=function(e){var t=e.className,n=e.onClick,o=e.children;return r(u.default,{className:(0,i.default)(f.default.header,t),onClick:n},void 0,o)},g=t.Separator=function(e){var t=e.style;return r("div",{className:f.default.separator,style:t})},v={DEFAULT:"Default",HOVER:"Hover",SELECTED:"Selected"};function m(e,t){if(null==e)return null;var n={};return t===v.SELECTED?(n.backgroundColor=e,n.color=s.Colors.WHITE,n):(t===v.HOVER&&(n.backgroundColor=(0,l.hex2rgb)(e,.1)),n.color=e,n)}var T=t.Item=function(e){function t(){var n,o;p(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(a))),o.state={hover:!1,active:!1},o.handleClick=function(e){var t=o.props,n=t.onClick,r=t.id,a=t.onItemSelect;null!=n?n(e):null!=a&&a(r)},o.handleMouseDown=function(e){o.handleClick(e),o.setState({active:!0})},o.handleMouseUp=function(){o.setState({active:!1})},o.handleMouseOver=function(){o.setState({hover:!0})},o.handleMouseOut=function(){o.setState({hover:!1,active:!1})},h(o,n)}return _(t,e),t.prototype.getMouseEvents=function(){return null!=this.props.id?{}:{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleClick}},t.prototype.getStyle=function(){var e=this.props,t=e.color,n=e.id,o=e.selectedItem,r=this.state,a=r.hover,i=r.active;return null!=n&&o===n||i?m(t,v.SELECTED):t&&a?m(t,v.HOVER):m(t)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.id,a=e.selectedItem,l=e.itemType,u=void 0;return u=null!=o&&a===o?v.SELECTED:v.DEFAULT,r("div",{className:(0,i.default)((0,d.getClass)(f.default,"item",u),n),style:l===E.SIDE?this.getStyle():null,onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},void 0,t)},t}(a.Component),I=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return _(t,e),t.prototype.renderChildren=function(e){var t=this.props,n=t.selectedItem,o=t.onItemSelect,r=t.type,i=void 0===r?E.SIDE:r;return null==e?null:a.cloneElement(e,{selectedItem:n,onItemSelect:o,itemType:i})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,o=e.type,l=void 0===o?E.SIDE:o,u=e.style;return r("div",{className:(0,i.default)(t,l),style:u},void 0,a.Children.map(n,this.renderChildren,this))},t}(a.Component);I.Types=E,I.Header=y,I.Item=T,I.Separator=g,t.default=I},6051:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=I(n(227)),l=I(n(7872)),u=I(n(7521)),s=I(n(7520)),d=I(n(6683)),f=I(n(1202)),c=I(n(548)),p=I(n(7519)),h=I(n(7518)),_=I(n(7517)),E=I(n(7514)),y=I(n(7513)),g=I(n(7512)),v=I(n(14)),m=I(n(125)),T=n(0);function I(e){return e&&e.__esModule?e:{default:e}}var C=r(_.default,{}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,o=e.guild,a=e.className,_=null!=o?m.default.getDefaultChannel(o.id):null;switch(n){case T.ContextMenuTypes.GUILD_ICON_BAR:case T.ContextMenuTypes.GUILD_PROFILE_MUTUAL:case T.ContextMenuTypes.GUILD_HEADER:case T.ContextMenuTypes.GUILD_ACTIVITY_FEED:if(!o)break;return r("div",{className:a,style:t},void 0,r(i.default,{},void 0,r(y.default,{guildId:o.id})),r(i.default,{},void 0,null!=_?r(g.default,{channel:_,guild:o}):null,r(s.default,{guildId:o.id}),r(E.default,{guildId:o.id}),r(l.default,{guild:o}),r(h.default,{guildId:o.id}),r(u.default,{guildId:o.id}),r(f.default,{guildId:o.id,userId:v.default.getId()})),r(i.default,{},void 0,r(d.default,{guild:o}),r(d.default,{type:T.ChannelTypes.GUILD_CATEGORY,guild:o})),r(p.default,{guild:o}),r(c.default,{id:o.id}));case T.ContextMenuTypes.GUILD_CHANNEL_LIST:if(!o)break;return r("div",{className:a,style:t},void 0,r(E.default,{guildId:o.id}),r(d.default,{guild:o}),r(d.default,{type:T.ChannelTypes.GUILD_CATEGORY,guild:o}),null!=_?r(g.default,{channel:_,guild:o}):null);case T.ContextMenuTypes.GUILD_ICON_NEW:return r("div",{className:a,style:t},void 0,C);default:console.warn("Error - no such ctx menu type")}return null},t}(a.PureComponent);t.default=S,e.exports=t.default},6060:function(e,t,n){"use strict";t.__esModule=!0;var o=_(n(3)),r=_(n(8)),a=_(n(2)),i=_(n(12)),l=_(n(6429)),u=_(n(557)),s=_(n(1008)),d=_(n(41)),f=_(n(90)),c=n(0),p=_(n(88)),h=_(n(6));function _(e){return e&&e.__esModule?e:{default:e}}var E=[],y=0,g=!1,v=!1,m=!0;function T(e){return{key:e.suggested_user.id,reasons:r.default.sortBy(e.reasons,function(e){return e.name.toLowerCase()}),user:new p.default(e.suggested_user)}}function I(e){return e.user.username.toLowerCase()}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t.prototype.getSuggestionCount=function(){return y},t.prototype.getSuggestions=function(){return E},t}(o.default.Store);t.default=new C(a.default,{CONNECTION_OPEN:function(e){E=[],y=e.friendSuggestionCount,v=!0},FRIEND_SUGGESTION_CREATE:function(e){var t=T(e.suggestion);if(E.some(function(e){return e.key===t.key}))return!1;if(y++,E=r.default.sortBy([].concat(E,[t]),I),m){var n=t.reasons[0],o=n.name,a=n.platform_type,i=f.default.get(a);u.default.showNotification(t.user.getAvatarURL(),h.default.Messages.FRIEND_SUGGESTION,h.default.Messages.FRIEND_SUGGESTION_NOTIFICATION.format({name:o,platformName:i.name}),{onClick:function(){d.default.transitionTo(c.Routes.FRIENDS),s.default.setSection(c.FriendsSections.ADD_FRIEND)}})}},FRIEND_SUGGESTION_DELETE:function(e){y=Math.max(0,--y),E=E.filter(function(t){return t.user.id!==e.suggestedUserId})},FRIENDS_SET_SECTION:function(e){m=e.section!==c.FriendsSections.ADD_FRIEND,g||m||!v||(g=!0,v=!1,l.default.fetch())},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){g=!1,y=e.suggestions.length,E=(0,r.default)(e.suggestions).map(T).sortBy(I).value()},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(e){return g=!1,void(E=[])}}),e.exports=t.default},6071:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(2)),r=n(0),a=l(n(13)),i=l(n(20));l(n(7516)),l(n(125));function l(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t){o.default.dispatch({type:r.ActionTypes.CREATE_GUILD_MODAL_OPEN,screen:e}),i.default.track(r.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild",Source:t})},setScreen:function(e){o.default.dispatch({type:r.ActionTypes.CREATE_GUILD_MODAL_SET_SCREEN,screen:e})},close:function(){o.default.dispatch({type:r.ActionTypes.CREATE_GUILD_MODAL_CLOSE})},updateTemporaryGuild:function(e){o.default.dispatch({type:r.ActionTypes.CREATE_GUILD_MODAL_UPDATE,guild:e})},createGuild:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o.default.dispatch({type:r.ActionTypes.CREATE_GUILD_MODAL_SUBMIT}),a.default.post({url:r.Endpoints.GUILDS,body:{name:e,region:t,icon:i}}).then(function(e){n.close()},function(e){return o.default.dispatch({type:r.ActionTypes.CREATE_GUILD_MODAL_SUBMIT_FAILURE,errors:e.body})})}},e.exports=t.default},6073:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t,n,a){o.default.dispatch({type:r.ActionTypes.CREATE_CHANNEL_MODAL_OPEN,channelType:e,guildId:t,categoryId:n,cloneChannelId:a})},close:function(){o.default.dispatch({type:r.ActionTypes.CREATE_CHANNEL_MODAL_CLOSE})},createChannel:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments[4],u=this,s=arguments[5],d=arguments[6];o.default.dispatch({type:r.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT});var f={type:t,name:n,permission_overwrites:i};null!=l&&l!==r.BITRATE_DEFAULT&&(f.bitrate=l),null!=s&&s>0&&(f.user_limit=s),null!=d&&(f.parent_id=d),a.default.post({url:r.Endpoints.GUILD_CHANNELS(e),body:f}).then(function(){return u.close()},function(e){return o.default.dispatch({type:r.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT_FAILURE,errors:e.body})})}},e.exports=t.default},6074:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(6)),l=h(n(189)),u=n(143),s=h(n(40)),d=h(n(64)),f=n(196),c=n(0),p=h(n(5934));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={color:new l.default.Value(0)},o.handleOnSave=o.handleOnSave.bind(o),o.handleOnReset=o.handleOnReset.bind(o),o.emphasize=o.emphasize.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.ComponentDispatch.subscribe(c.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},t.prototype.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(c.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},t.prototype.handleOnSave=function(e){(0,this.props.onSave)(e)},t.prototype.handleOnReset=function(e){(0,this.props.onReset)(e)},t.prototype.emphasize=function(){var e=this.state.color;l.default.sequence([l.default.timing(e,{toValue:1,duration:170,easing:l.default.Easing.quad}),l.default.timing(e,{delay:500,toValue:0,duration:170,easing:l.default.Easing.quad})]).start()},t.prototype.render=function(){var e=this.props.submitting;return r(l.default.div,{className:p.default.container,style:this.getContainerStyle()},void 0,r(s.default,{align:s.default.Align.CENTER},void 0,r(s.default.Child,{},void 0,r(l.default.div,{className:p.default.message,style:this.getTextStyle()},void 0,i.default.Messages.SETTINGS_NOTICE_MESSAGE)),r(s.default,{grow:0,justify:s.default.Justify.END},void 0,r(d.default,{className:p.default.resetButton,size:d.default.Sizes.SMALL,color:d.default.Colors.PRIMARY,look:d.default.Looks.LINK,onClick:this.handleOnReset},void 0,r(l.default.span,{style:this.getTextStyle()},void 0,i.default.Messages.RESET)),r(d.default,{className:p.default.button,size:d.default.Sizes.SMALL,color:d.default.Colors.GREEN,submitting:e,onClick:this.handleOnSave},void 0,i.default.Messages.SAVE_CHANGES))))},t.prototype.getTextStyle=function(){var e=this.state.color,t=c.Colors.WHITE;return this.props.theme===c.ThemeTypes.LIGHT&&(t=c.Colors.PRIMARY_500),{color:e.interpolate({inputRange:[0,1],outputRange:[t,c.Colors.WHITE]})}},t.prototype.getContainerStyle=function(){var e=this.state.color,t=(0,f.hex2rgb)(c.Colors.PRIMARY_700,.9);return this.props.theme===c.ThemeTypes.LIGHT&&(t=(0,f.hex2rgb)(c.Colors.STATUS_GREY_100,.9)),{backgroundColor:e.interpolate({inputRange:[0,1],outputRange:[t,(0,f.hex2rgb)(c.Colors.STATUS_RED_500,.9)]})}},t}(a.PureComponent);t.default=_,e.exports=t.default},6075:function(e,t,n){e.exports=n.p+"81b90eae4fc67502d59808a7c219ee65.png"},6076:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),r=l(n(8)),a=l(n(2)),i=(n(0),l(n(26)));function l(e){return e&&e.__esModule?e:{default:e}}var u=null,s={};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t.prototype.getOptimalRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return r.default.find(t,"optimal")||r.default.sample(t)},t.prototype.getOptimalRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null},t.prototype.getRandomRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.default.sample(this.getRegions(e))},t.prototype.getRandomRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e);return null!=t?t.id:null},t.prototype.getRegions=function(e){return null!=e?s[e]:u},t}(o.default.Store);t.default=new d(a.default,{LOAD_REGIONS:function(e){var t=r.default.sortBy(e.regions,function(e){return e.name});e.guildId?s[e.guildId]=t:u=t},GUILD_DELETE:function(e){delete s[e.guild.id]}}),e.exports=t.default},6078:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.processImage=p;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6)),l=s(n(6699)),u=s(n(7864));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=[{name:i.default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}];function c(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){return t(n.target.result,e.name)},n.readAsDataURL(e)}}function p(e,t,n){"image/gif"!==e.type?c(e,function(e,o){var r=new Image;r.src=e,r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var a=e.getContext("2d");a&&a.drawImage(r,0,0,e.width,e.height);var i=Math.min(Math.min(r.width,r.height),t),l=r.width<r.height?r.width/i:r.height/i,s=document.createElement("canvas");s.width=r.width/l,s.height=r.height/l,u.default.resizeCanvas(e,s,{alpha:!0},function(){var e=document.createElement("canvas");e.width=i,e.height=i;var t=(s.width-e.width)/-2,r=(s.height-e.height)/-2,a=e.getContext("2d");a&&a.drawImage(s,t,r,s.width,s.height),n(e.toDataURL("image/png"),o)})}}):c(e,function(e,t){return n(e,t)})}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=d(this,e.call.apply(e,[this].concat(a))),o._isMounted=!1,o.handleFileChange=function(e){var t=o.props.size;e.stopPropagation(),e.preventDefault();for(var n=0;n<e.currentTarget.files.length;n++){var r=e.currentTarget.files[n];null!=t?p(r,t,o.handleFileRead):c(r,o.handleFileRead)}},o.handleFileRead=function(e,t){var n=o.props.onChange;o._isMounted&&n(e,t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.render=function(){var e=this.props,t=e.multiple,n=e.disabled;return r(l.default,{onChange:this.handleFileChange,filters:f,multiple:t,disabled:n})},t}(a.PureComponent);h.defaultProps={multiple:!0},t.default=h},6087:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(0);t.default={show:function(){this.deactivateRagingDemon(),a.default.dispatch({type:i.ActionTypes.SHOW_KEYBOARD_SHORTCUTS})},hide:function(){a.default.dispatch({type:i.ActionTypes.HIDE_KEYBOARD_SHORTCUTS})},activateRagingDemon:function(){a.default.dispatch({type:i.ActionTypes.ACTIVATE_RAGING_DEMON})},deactivateRagingDemon:function(){a.default.dispatch({type:i.ActionTypes.DEACTIVATE_RAGING_DEMON})}},e.exports=t.default},6088:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),r=s(n(2)),a=n(0),i=s(n(26)),l=s(n(12)),u=s(n(60));function s(e){return e&&e.__esModule?e:{default:e}}var d={notClaimed:!1,notEmailVerified:!1,notPhoneVerified:!1,newAccount:!1,newMember:!1,canChat:!0},f={};function c(e){p(e);var t=i.default.getGuild(e),n=l.default.getCurrentUser();if(null!=t&&t.verificationLevel!==a.VerificationLevels.NONE&&!t.isOwner(n)){var o=u.default.getMember(t.id,n.id);if(!(null!=o&&o.roles.length>0)){var s=+n.createdAt+6e4*a.VerificationCriteria.ACCOUNT_AGE-Date.now(),d=+t.joinedAt+6e4*a.VerificationCriteria.MEMBER_AGE-Date.now(),c=t.verificationLevel>=a.VerificationLevels.LOW&&!n.isClaimed(),h=!1,_=!1,E=!1,y=!1;n.isPhoneVerified()||(h=t.verificationLevel>=a.VerificationLevels.LOW&&!n.verified,_=t.verificationLevel>=a.VerificationLevels.VERY_HIGH,E=t.verificationLevel>=a.VerificationLevels.MEDIUM&&s>0,y=t.verificationLevel>=a.VerificationLevels.HIGH&&d>0);var g=[];y&&g.push(d),E&&g.push(s);var v=void 0;g.length&&(v=setTimeout(function(){return r.default.dispatch({type:a.ActionTypes.GUILD_VERIFICATION_CHECK,guildId:e})},Math.max.apply(Math,g))),f[e]={notClaimed:c,notEmailVerified:h,notPhoneVerified:_,newAccount:E,newMember:y,canChat:!(c||h||_||E||y),accountDeadline:new Date(Date.now()+s),memberDeadline:new Date(Date.now()+d),timeoutRef:v}}}}function p(e){var t=f[e];null!=t&&clearTimeout(t.timeoutRef),delete f[e]}function h(e){c(e.guild.id)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default)},t.prototype.getCheck=function(e){return f[e]||d},t.prototype.canChatInGuild=function(e){return(f[e]||d).canChat},t}(o.default.Store);t.default=new _(r.default,{CONNECTION_OPEN:function(e){Object.keys(f).forEach(p),e.guilds.forEach(function(e){return c(e.id)})},CONNECTION_CLOSED:function(e){Object.keys(f).forEach(p)},CURRENT_USER_UPDATE:function(e){Object.keys(f).forEach(c)},GUILD_CREATE:h,GUILD_UPDATE:h,GUILD_DELETE:function(e){p(e.guild.id)},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId;if(e.user.id!==l.default.getCurrentUser().id)return!1;c(t)},GUILD_VERIFICATION_CHECK:function(e){c(e.guildId)}}),e.exports=t.default},6094:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),f(n(3))),i=f(n(9)),l=n(263),u=f(n(80)),s=n(113),d=f(n(5836));function f(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.connectStores([u.default],function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?u.default.getStatus(t,null,n):n,streaming:null!=t&&(0,s.isStreaming)(u.default.getPrimaryActivity(t))}})(function(e){var t=e.streaming,n=e.status,o=e.hideTooltip,a=e.className,u=e.style;return r(l.AvatarStatusIcon,{status:t?l.AvatarStatuses.STREAMING:n,hideTooltip:o,className:(0,i.default)(d.default.status,a),style:u})}),e.exports=t.default},6127:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetchForGuild:function(e){o.default.dirtyDispatch({type:r.ActionTypes.WEBHOOKS_FETCHING,guildId:e}),a.default.get(r.Endpoints.GUILD_WEBHOOKS(e)).then(function(t){var n=t.body;return o.default.dispatch({type:r.ActionTypes.WEBHOOKS_UPDATE,guildId:e,webhooks:n})}).catch(function(t){var n=t.body;o.default.dispatch({type:r.ActionTypes.WEBHOOKS_UPDATE,guildId:e,error:n.message})})},fetchForChannel:function(e,t){o.default.dirtyDispatch({type:r.ActionTypes.WEBHOOKS_FETCHING,guildId:e,channelId:t}),a.default.get(r.Endpoints.CHANNEL_WEBHOOKS(t)).then(function(n){var a=n.body;return o.default.dispatch({type:r.ActionTypes.WEBHOOKS_UPDATE,guildId:e,channelId:t,webhooks:a})})},create:function(e,t,n){return a.default.post({url:r.Endpoints.CHANNEL_WEBHOOKS(t),body:n}).then(function(t){var n=t.body;return o.default.dispatch({type:r.ActionTypes.WEBHOOK_CREATE,guildId:e,webhook:n}),n})},delete:function(e,t){return a.default.delete(r.Endpoints.WEBHOOK(t)).then(function(){o.default.dispatch({type:r.ActionTypes.WEBHOOK_DELETE,guildId:e,webhookId:t})})},update:function(e,t,n){return a.default.patch({url:r.Endpoints.WEBHOOK(t),body:n}).then(function(t){var n=t.body;return o.default.dispatch({type:r.ActionTypes.WEBHOOK_UPDATE,guildId:e,webhook:n}),n})}},e.exports=t.default},6130:function(e,t,n){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(0)},6131:function(e,t,n){"use strict";t.__esModule=!0,t.RegionSelect=t.RegionSelectModal=t.RegionName=t.RegionFlag=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=v(n(55)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=v(n(43)),s=v(n(57)),d=v(n(9)),f=v(n(3)),c=v(n(957)),p=v(n(87)),h=v(n(6)),_=v(n(6267)),E=v(n(38)),y=v(n(6076)),g=v(n(5937));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=t.RegionFlag=function(e){var t,o=e.region,r=e.className,i=void 0===r?g.default.regionSelectFlag:r,l=void 0;if("unknown"===o.id)l=n(6075);else{var u=o.id.replace(/^vip-/,"");try{l=n(6694)("./"+u+".png")}catch(e){l=n(6075)}}return a("div",{className:(0,d.default)(i,(t={},t[g.default.vip]=o.vip,t)),style:{backgroundImage:'url("'+l+'")'}})},I=t.RegionName=function(e){var t=e.region,n=e.className,o=void 0===n?g.default.regionSelectName:n,r=t.name.replace(/ \(VIP\)$/,"");return a("div",{className:o},void 0,r)},C=function(e){var t=e.region,n=e.onClick;return a(p.default,{className:g.default.regionSelectModalOption,onClick:function(){return n(t)}},void 0,a(T,{region:t}),a(I,{region:t}))},S=t.RegionSelectModal=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=m(this,e.call.apply(e,[this].concat(a))),o.handleSelect=function(e){o.props.onChange&&o.props.onChange(e),o.props.onClose()},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this;return a("div",{className:g.default.regionSelectModal},void 0,a("div",{className:g.default.regionSelectModalHeader},void 0,h.default.Messages.REGION_SELECT_HEADER),a("div",{className:g.default.regionSelectModalOptions},void 0,this.props.regions.map(function(t,n){return a(C,{region:t,onClick:e.handleSelect},n)})),a("div",{className:g.default.regionSelectModalFooter},void 0,h.default.Messages.REGION_SELECT_FOOTER))},t}(l.Component),N=a(c.default,{type:"chasing-dots"}),A=t.RegionSelect=(0,u.default)({displayName:"RegionSelect",mixins:[f.default.StoreListenerMixin(y.default),s.default],propTypes:{onChange:i.default.func,value:i.default.string,disabled:i.default.bool,changeRegionButtonText:i.default.string},getDefaultProps:function(){return{disabled:!1,changeRegionButtonText:h.default.Messages.CHANGE}},getStateFromStores:function(){return{regions:y.default.getRegions(this.props.guildId)}},componentDidMount:function(){null==this.state.regions&&_.default.fetchRegions(this.props.guildId)},UNSAFE_componentWillReceiveProps:function(e){if(this.props.guildId!==e.guildId){var t=y.default.getRegions(e.guildId);null==t&&_.default.fetchRegions(e.guildId),this.setState({regions:t})}},handleChange:function(e){this.props.onChange&&this.props.onChange(e.id)},openChangeModal:function(){var e=this,t=this.state.regions.filter(function(e){return!e.deprecated});E.default.push(function(n){return l.createElement(S,r({regions:t,onChange:e.handleChange},n))})},render:function(){var e,t=this;if(null==this.state.regions)return a("div",{className:(0,d.default)(g.default.regionSelect,g.default.regionSelectLoading)},void 0,N);var n=this.state.regions.find(function(e){return e.id===t.props.value})||{id:"unknown",name:h.default.Messages.UNKNOWN_REGION,vip:!1};return a(p.default,{className:(0,d.default)(g.default.regionSelect,(e={},e[g.default.disabled]=this.props.disabled,e)),onClick:this.openChangeModal},void 0,a("div",{className:g.default.regionSelectInner},void 0,a(T,{region:n}),a(I,{region:n})),a("button",{type:"button"},void 0,this.props.changeRegionButtonText))}});t.default=A},6132:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6078)),l=d(n(6)),u=d(n(163)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}n(5938);var f=r("div",{className:"avatar-uploader-indicator flex-center"}),c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleRemove=o.handleRemove.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleExternalFileChange=function(e){this.refs.imageInput&&this.refs.imageInput.handleFileChange(e)},t.prototype.handleRemove=function(){this.props.onChange(null)},t.prototype.render=function(){var e=this.props,t=e.avatar,n=e.size,o=e.hint,d=e.name,c=e.makeURL,p=e.disabled,h=e.onChange,_=e.showIcon,E=void 0,y=void 0,g=void 0;if((E=null!=t&&/^data:/.test(t)?t:c(t))?y='url("'+E+'")':g=r("div",{className:"avatar-uploader-acronym"},void 0,d.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,"")),p)return r("div",{className:"avatar-uploader disabled"},void 0,r("div",{className:"avatar-uploader-inner",style:{backgroundImage:y}},void 0,g));var v=void 0;return v=null!=t?r(u.default,{className:"remove-button",onClick:this.handleRemove},void 0,l.default.Messages.REMOVE):r("small",{className:"size-info"},void 0,l.default.Messages.MINIMUM_SIZE.format({size:s.AVATAR_SIZE})),r("div",{className:"avatar-uploader"},void 0,_?r("div",{className:"avatar-uploader-inner",style:{backgroundImage:y}},void 0,g,r("div",{className:"avatar-uploader-hint"},void 0,o),a.createElement(i.default,{ref:"imageInput",onChange:h,size:n}),f):r("div",{className:"avatar-uploader-inner",style:{backgroundImage:y}},void 0,g,r("div",{className:"avatar-uploader-hint"},void 0,o),a.createElement(i.default,{ref:"imageInput",onChange:h,size:n})),v)},t}(a.PureComponent);c.defaultProps={name:"",size:64,makeURL:function(e){return e},hint:l.default.Messages.CHANGE_AVATAR,disabled:!1,showIcon:!1},t.default=c,e.exports=t.default},6133:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(6012),l=f(i),u=f(n(6050)),s=n(143),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=1.4,p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._unmounted=!1,o._intensity=c,o.handleSetSection=o.handleSetSection.bind(o),o.handleNoticeStoreUpdate=o.handleNoticeStoreUpdate.bind(o),o.handleClose=o.handleClose.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this;this.getPredicateSections().forEach(function(t){var n=t.notice;if(null!=n){var o=n.store;o&&o.addChangeListener(e.handleNoticeStoreUpdate)}})},t.prototype.componentDidUpdate=function(e){e.section!==this.props.section&&(this._intensity=c)},t.prototype.componentWillUnmount=function(){var e=this;this._unmounted=!0,this.getPredicateSections().forEach(function(t){var n=t.notice;if(null!=n){var o=n.store;o&&o.removeChangeListener(e.handleNoticeStoreUpdate)}})},t.prototype.handleNoticeStoreUpdate=function(){this._unmounted||(this._intensity=c,this.forceUpdate())},t.prototype.getPredicateSections=function(){return this.props.sections.filter(function(e){return null==e.predicate||e.predicate()})},t.prototype.validNavigation=function(){var e=this.props.section,t=(this.getPredicateSections().find(function(t){return e===t.section})||{}).notice;return t&&t.store.showNotice()?(s.ComponentDispatch.dispatch(d.ComponentActions.SHAKE_APP,{duration:300,intensity:this._intensity}),this._intensity=Math.min(this._intensity+2,15),s.ComponentDispatch.dispatch(d.ComponentActions.EMPHASIZE_NOTICE),!1):(this._intensity=c,!0)},t.prototype.handleSetSection=function(e){var t=this.props.onSetSection;this.validNavigation()&&t(e)},t.prototype.handleClose=function(){if(this.validNavigation()){var e=this.props.onClose;e&&e()}},t.prototype.renderSidebar=function(e){var t=this.props.section||e[0].section;return r(u.default,{selectedItem:t,onItemSelect:this.handleSetSection},void 0,e.map(function(e,t){var n=e.section,o=e.element,a=e.label,l=void 0===a?null:a,s=e.onClick,f=e.color,c=e.className;switch(n){case i.SectionTypes.HEADER:return r(u.default.Header,{},t,l);case i.SectionTypes.DIVIDER:return r(u.default.Separator,{},t);case i.SectionTypes.CUSTOM:var p=o||d.NOOP_NULL;return r(p,{},t);default:return r(u.default.Item,{color:f,id:n,onClick:s,className:c},n,l)}}))},t.prototype.renderContent=function(e){var t=e&&e.element?e.element:d.NOOP_NULL;return r(t,{})},t.prototype.renderNotice=function(e){var t=this.props.theme;if(null==e||null==e.notice)return null;var n=e.notice,o=n.store,a=n.element;return null==o||o.showNotice()?r(a,{theme:t}):null},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,o=this.getPredicateSections(),a=o.find(function(e){return e.section===n});return null==a?null:r(l.default,{theme:t,section:n,sidebar:this.renderSidebar(o),content:this.renderContent(a),contentType:a.type,notice:this.renderNotice(a),closeAction:this.handleClose})},t}(a.PureComponent);t.default=p,e.exports=t.default},6134:function(e,t,n){"use strict";t.__esModule=!0;var o=a(n(82)),r=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null},t.prototype.isExpired=function(){var e=this.maxAge;if(e>0&&(0,r.default)(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0;return!1},t.prototype.getExpiresAt=function(){return this.maxAge>0?(0,r.default)(this.createdAt).add(this.maxAge,"seconds").toDate():1/0},t.prototype.toString=function(){return this.code},t}(o.default);t.default=i,e.exports=t.default},6158:function(e,t,n){e.exports=n.p+"896770bf2d6ed0358ed0adefdbe96a24.svg"},6159:function(e,t,n){e.exports=n.p+"4bc527c257233fc69b94342d77bcb9ee.svg"},6204:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(6045),l=(o=i)&&o.__esModule?o:{default:o},u=n(0);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=s(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(e){var t=o.props;(0,t.onChange)(!t.value,e)},s(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.activeSrc,o=e.inactiveSrc,i=e.activeSrcHover,u=e.inactiveSrcHover,s=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["value","activeSrc","inactiveSrc","activeSrcHover","inactiveSrcHover"]),d=t?n:o,f=t?i:u;return a.createElement(l.default,r({},s,{onClick:this.handleClick,src:d,srcHover:f}))},t}(a.PureComponent);d.defaultProps={value:!1,size:l.default.Sizes.MEDIUM,onChange:u.NOOP},t.default=d,e.exports=t.default},6206:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),r=d(n(2)),a=d(n(60)),i=d(n(31)),l=d(n(6417)),u=d(n(25)),s=(d(n(228)),n(0));function d(e){return e&&e.__esModule?e:{default:e}}var f="seenQSTutorial",c=void 0,p=0,h=!1,_=!1;function E(){null!=c&&(c.destroy(),c=null)}var y=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default),this.syncWith([i.default],function(){return!0}),h=u.default.get(f)||!1},t.prototype.isOpen=function(){return null!=c},t.prototype.getResultTotals=function(e){return null==c?0:null==e?c.results.reduce(function(e,t){return t.type!==s.AutocompleterResultTypes.HEADER?e+1:e},0):c.results.reduce(function(t,n){return n.type===e?t+1:t},0)},t.prototype.channelNoticePredicate=function(e,t,n){var o=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY;return _&&e&&o},t.prototype.getFrequentGuilds=function(){return null!=c?c.queryGuilds("",50):null},t.prototype.getProps=function(){return{theme:i.default.theme,query:null!=c?c.query:"",queryMode:null!=c?c.queryMode:null,results:null!=c?c.results:[],selectedIndex:p,seenTutorial:h}},t}(o.default.Store))(r.default,{CONNECTION_OPEN:function(e){var t=e.guilds,n=e.channels;_=t.length>=3||n.filter(function(e){var t=e.type;return t===s.ChannelTypes.DM||t===s.ChannelTypes.GROUP_DM}).length>=20},QUICKSWITCHER_SHOW:function(e){c=c||new l.default(function(){return y.emitChange()}),p=c.search(e.query,e.options)},QUICKSWITCHER_HIDE:function(e){return E()},OVERLAY_SET_LOCKED:function(e){return E()},QUICKSWITCHER_SEARCH:function(e){var t=e.query,n=e.options;null!=c&&(p=c.search(t,n))},QUICKSWITCHER_SELECT:function(e){p=e.selectedIndex},QUICKSWITCHER_SWITCH_TO:function(e){return function(){if(h)return!1;h=!0,u.default.set(f,!0)}()}});t.default=y,e.exports=t.default},6207:function(e,t,n){"use strict";var o,r;t.__esModule=!0;var a=_(n(3)),i=_(n(2)),l=_(n(126)),u=_(n(7259)),s=_(n(534)),d=_(n(293)),f=_(n(386)),c=n(0),p=_(n(58)),h=n(100);function _(e){return e&&e.__esModule?e:{default:e}}var E=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,d.default,f.default)},t.prototype.getExperimentId=function(){return c.Experiments.GUILD_VIDEO},t.prototype.getMetaData=function(){return{title:"Guild Video",description:["Treament 1: Enable guild video."]}},t.prototype.getExperimentDescriptor=function(e){return l.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?u.default.getExperimentAssignment(e,this.getExperimentId()):null)},t.prototype.isAvailable=function(e){if(!p.default.supports(h.Features.VIDEO))return!1;var t=this.getExperimentDescriptor(e),n=f.default.getMemberCount(e)||0;return null==t||t.bucket===c.ExperimentBuckets.NOT_ELIGIBLE||n>50?d.default.isDeveloper:(s.default.trigger(t),t.bucket===c.ExperimentBuckets.TREATMENT_1)},t}(a.default.Store))(i.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0}});s.default.register(E,((r={})[c.ExperimentTypes.USER]=((o={})[c.ExperimentBuckets.CONTROL]=function(){return null},o[c.ExperimentBuckets.TREATMENT_1]=function(){return null},o),r)),t.default=E,e.exports=t.default},6208:function(e,t,n){"use strict";t.__esModule=!0,t.makeChannelSortable=function(e){return(0,o.DropTarget)(y,{drop:function(e,t){var n=t.getItem(),o=(0,h.getDropData)(a.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null!=o){var u=a.default.getChannel(n.id);if(null!=u){var p=e.channel.getGuildId(),E=l.default.getCategories(p),y=i.default.getGuild(p);if(null!=y){var g=(0,h.getDnDUpdates)(u,a.default.getChannel(o.referenceId),o.parentId,E);if(0!==g.length){var v=r.default.getCurrentUser();g=g.filter(function(e){var t=e.id,n=a.default.getChannel(t);if(null==n)return!1;var o=a.default.getChannel(n.parent_id);return n.type===_.ChannelTypes.GUILD_CATEGORY||null==o?c.default.can(_.Permissions.MANAGE_CHANNELS,v,y):c.default.can(_.Permissions.MANAGE_CHANNELS,v,o)});var m=void 0;if(u.parent_id!==o.parentId&&g.find(function(e){if(e.id!==u.id)return!1;var t=a.default.getChannel(e.parent_id),n=null!=t&&c.default.can(_.Permissions.MANAGE_ROLES,v,u)&&c.default.can(_.Permissions.MANAGE_ROLES,v,t);if(!n)return!0;var o=c.default.areChannelsLocked(u,t),r=c.default.areChannelsLocked(u,a.default.getChannel(u.parent_id));return(null==u.parent_id&&!o||r&&!o)&&(m=e),!0}),null!=m){var T=a.default.getChannel(m.parent_id);d.default.push(f.default,{channel:u,category:T,onSync:function(){null!=m&&(m.lock_permissions=!0,s.default.batchChannelUpdate(p,g))},onCancel:function(){null!=m&&s.default.batchChannelUpdate(p,g)}})}else s.default.batchChannelUpdate(p,g)}}}}},canDrop:function(e,t){var n=t.getItem(),o=a.default.getChannel(n.id),l=r.default.getCurrentUser();if(null==o)return!1;var u=(0,h.getDropData)(a.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList),s=i.default.getGuild(n.guildId);if(null==u||null==s)return!1;var d=a.default.getChannel(u.parentId),f=a.default.getChannel(o.parent_id),p=c.default.can(_.Permissions.MANAGE_CHANNELS,l,s),E=null!=f?c.default.can(_.Permissions.MANAGE_CHANNELS,l,f):p,y=null!=d?c.default.can(_.Permissions.MANAGE_CHANNELS,l,d):p;return E&&y}},function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parent:null}})((0,o.DragSource)(y,{canDrag:function(e){var t=e.channel,n=r.default.getCurrentUser(),o=i.default.getGuild(t.getGuildId());if(null==o)return!1;if(t.type===_.ChannelTypes.GUILD_CATEGORY)return c.default.can(_.Permissions.MANAGE_CHANNELS,n,o);var l=a.default.getChannel(t.parent_id);return null!=l&&c.default.can(_.Permissions.MANAGE_CHANNELS,n,l)||null==l&&c.default.can(_.Permissions.MANAGE_CHANNELS,n,o)},beginDrag:function(e){var t=e.channel,n=t.id,o=t.parent_id,a=t.guild_id,i=t.type,s=e.position,d=r.default.getCurrentUser(),f=l.default.getCategories(a),h=(0,p.getFlattenedChannelList)(f._categories,f,function(e){var t=e.channel;return t.type===_.ChannelTypes.GUILD_CATEGORY&&f[t.id]&&0===f[t.id].length?c.default.can(_.Permissions.MANAGE_CHANNELS,d,t)&&c.default.can(_.Permissions.VIEW_CHANNEL,d,t):!u.default.isCollapsed(t.parent_id)});return{isChannelDrag:!0,id:n,position:s,parentId:o,type:i,channelList:h,guildId:a}}},function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}})(e))};var o=n(992),r=E(n(12)),a=E(n(18)),i=E(n(26)),l=E(n(954)),u=E(n(958)),s=E(n(229)),d=E(n(38)),f=E(n(6421)),c=E(n(76)),p=n(370),h=n(7264),_=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var y="DRAGGABLE_GUILD_CHANNEL"},6209:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=d(n(3)),a=d(n(8)),i=d(n(2)),l=n(0),u=d(n(6428)),s=d(n(376));function d(e){return e&&e.__esModule?e:{default:e}}var f={},c={},p=!0,h={},_=!1;function E(){h={},p||a.default.map(u.default,function(e,t){var n=!1!==f[t];if(n&&null!=e.prerequisites){var o=e.prerequisites,r=Array.isArray(o),a=0;for(o=r?o:o[Symbol.iterator]();;){var i;if(r){if(a>=o.length)break;i=o[a++]}else{if((a=o.next()).done)break;i=a.value}if(!(!1===f[i]))return void(h[t]=!1)}}h[t]=n})}function y(e){delete(c=o({},c))[e.tutorialId]}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){E(),this.mustEmitChanges(function(e){return e.type!==l.ActionTypes.CONNECTION_OPEN}),this.waitFor(s.default)},t.prototype.shouldShow=function(e){return!(!_||p)&&(h[e]||!1)},t.prototype.shouldShowAnyIndicators=function(){return!p},t.prototype.getIndicators=function(){return c},t}(r.default.Store);t.default=new g(i.default,{CONNECTION_OPEN:function(e){var t=e.tutorial;_=!0,p=!0,f={},null!=t&&(p=t.indicators_suppressed,t.indicators_confirmed.forEach(function(e){return f[e]=!1})),E()},CONNECTION_CLOSED:function(){_=!1},TUTORIAL_INDICATOR_DISMISS:function(e){var t;f=o({},f,((t={})[e.tutorialId]=!1,t)),y(e),E()},TUTORIAL_INDICATOR_SHOW:function(e){var t;c=o({},c,((t={})[e.tutorialId]=e.renderData,t))},TUTORIAL_INDICATOR_HIDE:y,TUTORIAL_INDICATOR_SUPPRESS_ALL:function(){p=!0}}),e.exports=t.default},6210:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(189)),u=c(n(6051)),s=n(33),d=(c(n(228)),n(0)),f=c(n(5560));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));h.call(o);var r=n.active?0:1;return o.state={backgroundColor:new l.default.Value(r),borderRadius:new l.default.Value(r)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.animate(t)},t.prototype.getAnimatedStyle=function(){var e={};return e.borderRadius=this.state.borderRadius.interpolate({inputRange:[0,1],outputRange:[15,25]}),this.props.animateBackgroundColor&&(e.backgroundColor=this.state.backgroundColor.interpolate({inputRange:[0,1],outputRange:[d.Colors.BRAND_PURPLE,d.Colors.CHANNELS_GREY]})),e},t.prototype.render=function(){return a(l.default.div,{className:f.default.guildInner,draggable:!1,style:this.getAnimatedStyle(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},void 0,this.props.children)},t}(i.Component);p.defaultProps={contextMenu:!1,animateBackgroundColor:!1};var h=function(){var e=this;this.handleMouseEnter=function(){e.animate(!0)},this.handleMouseLeave=function(){e.animate(e.props.active)},this.animate=function(t){var n=t?0:1;l.default.parallel([l.default.timing(e.state.backgroundColor,{toValue:n,duration:200}),l.default.spring(e.state.borderRadius,{toValue:n,friction:3})]).start()},this.handleContextMenu=function(t){e.props.contextMenu&&(0,s.openContextMenu)(t,function(t){return i.createElement(u.default,r({},t,{type:e.props.type,guild:e.props.guild,badge:e.props.badge,link:e.props.link,selected:e.props.selected}))})}};t.default=p,e.exports=t.default},6211:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(56);var a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.call(o);var r=o.props.getHistoricalTotalBytes(),a=o.calculateInitialDeltaBytes(r);return o.state={deltaBytes:a,smoothedDeltaBytes:o.smoothDeltaBytes(a),lastTotalBytes:null!=r[0]?r[0].bytes:0},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.update(),this._interval.start(this.props.updateInterval,this.update)},t.prototype.componentWillUnmount=function(){this._interval.stop()},t.prototype.calculateInitialDeltaBytes=function(e){for(var t=this.props,n=t.numUpdatesToShow,o=t.updateInterval,r=t.pointsToSmooth,a=Date.now(),i=0,l=0,u=[],s=null!=e[0]?e[0].bytes:0;i<n+r;i++){for(var d=a-(i+1)*o,f=void 0;l<e.length&&(f=e[l]).timestamp>d;)l++;if(l===e.length)break;null!=f&&(u.push(s-f.bytes),s=f.bytes)}for(;i<n+r;i++)u.push(0);return u.reverse(),u},t.prototype.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],o=0;o<e.length-t;o++){for(var r=0,a=0;a<t;a++)r+=e[o+a];n.push(r/t)}return n},t.prototype.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)},t}(o.Component);a.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};var i=function(){var e=this;this._interval=new r.Interval,this.update=function(){var t=e.props,n=t.onUpdate,o=t.numUpdatesToShow,r=t.pointsToSmooth,a=t.updateInterval,i=e.props.getHistoricalTotalBytes(),l=null!=i[0]?i[0].bytes:0,u=[].concat(e.state.deltaBytes.slice(1,o+r),[l-e.state.lastTotalBytes]);e.setState({deltaBytes:u,smoothedDeltaBytes:e.smoothDeltaBytes(u),lastTotalBytes:l},function(){return null!=n&&n(a)})}};t.default=a,e.exports=t.default},6237:function(e,t,n){"use strict";t.__esModule=!0,t.isInputLikeElement=function(e){if(null==e)return!1;if("true"===e.getAttribute("contenteditable"))return!0;if(r.test(e.tagName))return!0;if(o.test(e.tagName)){var t=e.getAttribute("type")||"text";if("text"===t||"password"===t)return!0}return!1},t.removeNode=function(e){null!=e.parentNode&&e.parentNode.removeChild(e)},t.clickedOnVisibleImage=function(e,t,n,o){var r=n.width,a=n.height,i=o.top,l=o.left,u=o.width,s=o.height,d=Math.min(u/r,s/a,1),f=r*d,c=a*d,p=(s-c)/2+l,h=(u-f)/2+i;if(t>=p&&t<=p+c&&e>=h&&e<=h+f)return!0;return!1};var o=/input/i,r=/textarea/i},6239:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(0),a=n(2),i=(o=a)&&o.__esModule?o:{default:o};t.default={open:function(e){i.default.dispatch({type:r.ActionTypes.PRIVACY_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){i.default.dispatch({type:r.ActionTypes.PRIVACY_SETTINGS_MODAL_CLOSE})}},e.exports=t.default},6240:function(e,t,n){e.exports=n.p+"ffc8cce621d39fcac0e58a1c834605d0.svg"},6262:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=h(n(9)),u=n(963),s=h(n(7795)),d=h(n(64)),f=h(n(939)),c=n(56),p=h(n(5913));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={mode:s.default.Modes.DEFAULT},o._timeout=new c.Timeout,o.handleCopy=o.handleCopy.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){var e=this.props,t=e.isVertical,n=e.value,o=e.text,u=e.className,c=e.inputClassName,h=this.state.mode;return t?a("div",{className:(0,l.default)(u,h)},void 0,a(f.default,{value:n,inputClassName:c}),a(d.default,{className:p.default.button,onClick:this.handleCopy,size:d.default.Sizes.MIN,color:this.getVerticalButtonColor(h),look:d.default.Looks.FILLED},void 0,o)):i.createElement(s.default,r({},this.props,{onCopy:this.handleCopy,mode:h}))},t.prototype.handleCopy=function(){var e=this,t=this.props,n=t.onCopy,o=t.value,r=(0,u.copy)(o);this.setState({mode:r?s.default.Modes.SUCCESS:s.default.Modes.ERROR}),this._timeout.start(300,function(){return e.setState({mode:s.default.Modes.DEFAULT})}),n&&n()},t.prototype.getVerticalButtonColor=function(e){switch(e){case s.default.Modes.SUCCESS:return d.default.Colors.GREEN;case s.default.Modes.ERROR:return d.default.Colors.RED;default:return d.default.Colors.BRAND}},t}(i.PureComponent);_.defaultProps={isVertical:!1},t.default=_,e.exports=t.default},6263:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(0);t.default={update:function(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_COLLAPSE,channelId:e})},toggleCollapseGuild:function(e){a.default.dispatch({type:i.ActionTypes.GUILD_TOGGLE_COLLAPSE_MUTED,guildId:e})}},e.exports=t.default},6264:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=l(n(3)),a=l(n(18)),i=l(n(2));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s=u;function d(){Object.keys(s).forEach(function(e){null==a.default.getChannel(e)&&delete s[e]})}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.waitFor(a.default),s=e||u},t.prototype.getState=function(){return s},t.prototype.getCollapsed=function(){return s},t.prototype.isCollapsed=function(e){return s[e]||!1},t}(r.default.PersistedStore);f.persistKey="collapsedChannels",t.default=new f(i.default,{CONNECTION_OPEN:function(e){return d()},OVERLAY_INITIALIZE:function(e){return d()},CHANNEL_COLLAPSE:function(e){var t=e.channelId;s[t]?delete s[t]:s[t]=!0,s=o({},s)}}),e.exports=t.default},6265:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),r=l(n(2)),a=(n(0),l(n(6134))),i=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return u[e]},t}(o.default.Store);t.default=new s(r.default,{CONNECTION_OPEN:function(e){u={}},CHANNEL_DELETE:function(e){var t=e.channel;delete u[t.id]},INSTANT_INVITE_CREATE:function(e){},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t=e.channelId,n=e.invite;u[t]=new a.default({code:n.code,temporary:n.temporary,revoked:n.revoked,maxUses:n.max_uses,maxAge:n.max_age,createdAt:(0,i.default)(n.created_at),channel:n.channel,guild:n.guild})}}),e.exports=t.default},6266:function(e,t,n){"use strict";t.__esModule=!0,t.SearchIcon=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),u=c(n(6)),s=c(n(87)),d=c(n(40)),f=c(n(5925));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.SearchIcon=function(e){var t,n,o=e.onClear,r=e.className,i=e.hasContent;return a(s.default,{className:(0,l.default)(f.default.searchBarIcon,r),onClick:o},void 0,a("i",{className:(0,l.default)(f.default.icon,f.default.eyeGlass,(t={},t[f.default.visible]=!i,t))}),a("i",{className:(0,l.default)(f.default.icon,f.default.clear,(n={},n[f.default.visible]=i,n))}))},h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleOnChange=o.handleOnChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleOnChange=function(e){var t=this.props.onChange;t&&t(e.currentTarget.value)},t.prototype.render=function(){var e=this.props,t=e.query,n=e.autoFocus,o=e.onClear,u=e.className,s=e.placeholder,c=(e.onChange,e.iconClassName),h=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["query","autoFocus","onClear","className","placeholder","onChange","iconClassName"]);return i.createElement(d.default,r({className:(0,l.default)(f.default.searchBar,u)},h),a(d.default.Child,{},void 0,a("input",{className:f.default.input,value:t,onChange:this.handleOnChange,placeholder:s,autoFocus:n})),a(d.default.Child,{},void 0,a(p,{hasContent:t.length>0,onClear:o,className:c})))},t}(i.PureComponent);h.defaultProps={placeholder:u.default.Messages.SEARCH},t.default=h},6267:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetchDefaultRegions:function(){return this.fetchRegions(null)},fetchRegions:function(e){a.default.get({url:r.Endpoints.REGIONS(e),retries:1}).then(function(t){return o.default.dispatch({type:r.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})},function(){return o.default.dispatch({type:r.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})})},changeCallRegion:function(e,t){a.default.patch({url:r.Endpoints.CALL(e),body:{region:t}})}},e.exports=t.default},6269:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(u(n(55)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),u(n(6132))),i=u(n(6)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r(a.default,{name:e.name,avatar:e.icon,size:l.AVATAR_MAX_SIZE,makeURL:e.makeURL,onChange:e.onChange,disabled:e.disabled,hint:i.default.Messages.CHANGE_ICON,showIcon:e.showIcon})},e.exports=t.default},6323:function(e,t,n){"use strict";t.__esModule=!0,t.shouldNotify=function(e,t){var n=o.default.getChannel(t);if(null==n)return!1;if(n.isManaged())return!1;var r=l.default.getUser(e.author.id),d=l.default.getCurrentUser();if(null==r||null==d)return!1;if(r.id===d.id)return!1;if(a.default.isBlocked(r.id))return!1;if(i.default.getStatus()===c.StatusTypes.DND)return!1;if(u.default.allowNoMessages(n))return!1;if(u.default.allowAllMessages(n))return!0;var f=u.default.isSuppressEveryoneEnabled(n.getGuildId());return s.default.isMentioned(e,d.id,f)},t.makeTextChatNotification=function(e,t,n){var a=d.default.getName(e.getGuildId(),e.id,n),i=a;switch(e.type){case c.ChannelTypes.GUILD_TEXT:var l=o.default.getChannel(e.parent_id);if(t.type===c.MessageTypes.DEFAULT)i=_(i,e,l);else{var u=r.default.getGuild(e.getGuildId());null!=u&&(i=_(i,e,l))}break;case c.ChannelTypes.GROUP_DM:var h=e.isManaged()&&n.bot&&i===e.toString();h||(i=i+" ("+e.toString(!0)+")")}var y=t.content;if(t.type!==c.MessageTypes.DEFAULT&&null==(y=f.default.stringify(t)))throw console.warn("SystemMessageUtils.stringify(...) could not convert",t),new Error("failed to stringify system message");var g=void 0;if(null!=t.activity&&null!=t.application){var v=t.activity.type===c.ActivityActionTypes.JOIN,m=void 0;m=v?E(e,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN):E(e,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_SPECTATE,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_SPECTATE,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_SPECTATE),g=m.format({user:a,game:t.application.name})}else if(null!=t.activity&&t.activity.type===c.ActivityActionTypes.LISTEN){var T=E(e,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,p.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN);g=T.format({user:a})}else g=s.default.unparse(y,e.id);if(!g.length&&t.attachments.length){var I=t.attachments[0].filename;g=p.default.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:I})}if(!g.length&&t.embeds.length){var C=t.embeds[0];if(null!=C.description)g=null!=C.title?C.title+": "+C.description:C.description;else if(null!=C.title)g=C.title;else if(null!=C.fields){var S=C.fields[0];g=S.name+": "+S.value}}return{icon:n.getAvatarURL(),title:i,body:g}};var o=h(n(18)),r=h(n(26)),a=h(n(59)),i=h(n(274)),l=h(n(12)),u=h(n(269)),s=h(n(273)),d=h(n(286)),f=h(n(6607)),c=n(0),p=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e,t,n){return e+" ("+t.toString(!0)+(null!=n?", "+n.toString():"")+")"};function E(e,t,n,o){switch(e.type){case c.ChannelTypes.GUILD_TEXT:return t;case c.ChannelTypes.GROUP_DM:return n;case c.ChannelTypes.DM:default:return o}}},6324:function(e,t,n){"use strict";t.__esModule=!0,t.MESSAGE_SOUND_VOLUME=t.MESSAGE_SOUND=void 0;var o=m(n(3)),r=m(n(2)),a=m(n(1197)),i=n(6323),l=m(n(41)),u=m(n(11)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(540)),d=m(n(18)),f=m(n(12)),c=m(n(65)),p=m(n(274)),h=m(n(953)),_=m(n(20)),E=m(n(557)),y=m(n(146)),g=n(0),v=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var I=t.MESSAGE_SOUND="message1",C=t.MESSAGE_SOUND_VOLUME=.4,S="message2",N=.4,A=u.default.hasFocus(),O=new(function(){function e(){T(this,e),this._channels={}}return e.prototype.track=function(e,t){var n=this._channels[e];for(null==n&&(n=[],this._channels[e]=n),n.push(t);n.length>5;)n.shift().close()},e.prototype.clearChannel=function(e){var t=this._channels[e];null!=t&&(delete this._channels[e],t.forEach(function(e){return e.close()}))},e}());var b=function(e){function t(){return T(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,d.default,h.default)},t}(o.default.Store);t.default=new b(r.default,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==g.NotificationPermissionTypes.ENABLED||u.default.embedded||a.default.showNotification(n(1254),v.default.Messages.NOTIFICATION_TITLE_DISCORD,v.default.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{sound:I,volume:C,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,o=e.body,r=e.options;return h.default.getDesktopType()!==g.DesktopNotificationTypes.NEVER&&p.default.getStatus()!==g.StatusTypes.DND&&(a.default.showNotification(t,n,o,r),!1)},WINDOW_FOCUS:function(e){if(A=e.focused){var t=c.default.getChannelId();null!=t&&O.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,o=e.message,u=d.default.getChannel(t),p=f.default.getUser(o.author.id);if(null==u||null==p)return!1;if(!(0,i.shouldNotify)(o,t))return!1;var y=n(546),v=n(268);if(null!=y.getFocusedPID()&&v.getTextChatNotificationMode()===g.OverlayNotificationTextChatTypes.ENABLED)return!1;if(A&&t===c.default.getChannelId())return!1;var m=(0,i.makeTextChatNotification)(u,o,p),T=m.icon,S=m.title,N=m.body;r.default.dirtyDispatch({type:g.ActionTypes.RPC_NOTIFICATION_CREATE,channelId:u.id,message:o,icon:T,title:S,body:N});var b=!h.default.isSoundDisabled(I);if(h.default.getDesktopType()===g.DesktopNotificationTypes.NEVER)return b&&s.playSound(I,C),!1;var M=a.default.showNotification(T,S,N,{tag:u.id,sound:b?I:null,volume:C,onClick:function(){_.default.track(g.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:g.ActionTypes.MESSAGE_CREATE,notif_user_id:o.author.id,message_id:o.id,message_type:o.type,channel_id:u.id,channel_type:u.type,guild_id:u.guild_id}),l.default.transitionTo(g.Routes.CHANNEL(u.getGuildId()||g.ME,u.id)),E.default.clickedNotification()}});null!=M&&O.track(u.id,M)},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&O.clearChannel(t),!1},MESSAGE_ACK:function(e){var t=e.channelId;return O.clearChannel(t),!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(h.default.getDesktopType()===g.DesktopNotificationTypes.NEVER)return!1;if(p.default.getStatus()===g.StatusTypes.DND)return!1;switch(n.type){case g.ActivityTypes.PLAYING:var o=f.default.getUser(t);if(null==o)return!1;var r=o.toString(),i=n.name,l=o.getAvatarURL(),u=v.default.Messages.NOTIFICATION_TITLE_START_GAME,s=v.default.Messages.NOTIFICATION_BODY_START_GAME.format({username:r,gameName:i});return a.default.showNotification(l,u,s,{sound:S,playSoundIfDisabled:!1,volume:N,onClick:function(){_.default.track(g.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:g.ActionTypes.ACTIVITY_START,activity_type:g.ActivityTypes.PLAYING,notif_user_id:t,activity_name:i}),y.default.openPrivateChannel(f.default.getCurrentUser().id,t)}}),!1;default:return!1}}})},6327:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(6)),u=m(n(123)),s=m(n(75)),d=m(n(64)),f=n(263),c=m(f),p=m(n(79)),h=m(n(6023)),_=m(n(6909)),E=n(1192),y=n(0),g=m(n(519)),v=m(n(5693));function m(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=44,N=function(e){var t=e.channel,n=e.categoryName,o=e.guildName,a=p.default.Names.CHANNEL_TEXT;return t.isRoleRequired?a=p.default.Names.CHANNEL_TEXT_LIMITED:t.isNSFW&&(a=p.default.Names.CHANNEL_TEXT_NSFW),r("div",{className:v.default.result},void 0,r(p.default,{name:a,className:v.default.resultIcon,background:v.default.resultIconBackground,width:16,height:16}),r("div",{className:v.default.resultText},void 0,r("span",{},void 0,t.name),r("span",{className:v.default.resultCategoryName},void 0,n)),r("div",{className:v.default.resultGuildName},void 0,o))},A=function(e){var t=e.channel;return r("div",{className:v.default.result},void 0,r(c.default,{src:t.getIconURL(),className:v.default.resultAvatar,size:f.AvatarSizes.SMALL}),r("div",{className:v.default.resultText},void 0,t.toString()))},O=function(e){var t=e.user,n=e.comparator,o=e.status,a=void 0;if(null!=n&&n===t.tag){var i=n.split("#");i.pop(),a=i.join("#")}else a=n||t.username;return r("div",{className:v.default.result},void 0,r(c.default,{src:t.avatarURL,className:v.default.resultAvatar,size:f.AvatarSizes.SMALL,status:o}),r("div",{className:v.default.resultText},void 0,r("span",{},void 0,a),r("span",{className:v.default.resultUsername},void 0,t.tag)))},b=function(e){function t(){var n,o;T(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=I(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(){var e=o.props;(0,e.onInvite)(e.row)},o.handleMouseEnter=function(){var e=o.props;(0,e.onMouseEnter)(e.row)},I(o,n)}return C(t,e),t.prototype.render=function(){var e,t=void 0,n=this.props,o=n.result,a=n.selected,u=n.sending;switch(o.type){case y.AutocompleterResultTypes.GROUP_DM:t=r(A,{channel:o.data.record});break;case y.AutocompleterResultTypes.TEXT_CHANNEL:var s=o.categoryName,f=o.guildName;t=r(N,{channel:o.data.record,categoryName:s,guildName:f});break;case y.AutocompleterResultTypes.USER:var c=o.data,p=c.comparator,h=c.record,_=o.status;t=r(O,{comparator:p,user:h,status:_})}var E=void 0;return E=o.sent?r(d.default,{className:v.default.inviteButton,look:d.default.Looks.LINK,size:d.default.Sizes.SMALL,disabled:!0,color:d.default.Colors.GREY},void 0,l.default.Messages.ACTIVITY_INVITE_MODAL_SENT):r(d.default,{color:d.default.Colors.GREEN,look:a?d.default.Looks.FILLED:d.default.Looks.OUTLINED,className:v.default.inviteButton,size:d.default.Sizes.SMALL,submitting:u,onClick:this.handleClick},void 0,l.default.Messages.ACTIVITY_INVITE_MODAL_INVITE),r("div",{className:(0,i.default)(v.default.resultWrapper,(e={},e[v.default.resultWrapperSelected]=a,e)),onMouseEnter:this.handleMouseEnter},void 0,t,E)},t}(a.Component),M=function(e){function t(){var n,o;T(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=I(this,e.call.apply(e,[this].concat(a))),o.state={query:"",selectedRow:0,sending:[]},o.close=function(){var e=o.props.onClose;(0,E.closeModal)(),null!=e&&e()},o.handleMouseEnter=function(e){o.setState({selectedRow:e})},o.handleInvite=function(e){var t=o.props.results[e],n=t.data,r=t.data.record.id,a=o.state.sending;if(null!=r&&!a.includes(r))switch(o.setState({sending:[].concat(a,[r])}),n.type){case y.AutocompleterResultTypes.GROUP_DM:case y.AutocompleterResultTypes.TEXT_CHANNEL:(0,E.inviteChannel)(n.record.id);break;case y.AutocompleterResultTypes.USER:(0,E.inviteUser)(n.record.id)}},o.handleSelect=function(e,t){null==t?o.handleClear():o.handleInvite(t)},o.handleSelectionChange=function(e,t){o.setState({selectedRow:t});var n=o.getScroller();null!=n&&n.scrollIntoViewRect(t*S,t*S+S)},o.handleQueryChange=function(e){o.setState({query:e,selectedRow:0},function(){return o.query()})},o.handleClear=function(){o.setState({query:"",selectedRow:0},function(){return o.query()})},o._handleModalRef=function(e){o._modal=e},I(o,n)}return C(t,e),t.prototype.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},t.prototype.query=function(){(0,E.updateQuery)(this.state.query)},t.prototype.render=function(){var e=this,t=this.props,n=t.activity,o=t.results,i=t.headerClassName,d=t.renderFooter,f=this.state,c=f.query,p=f.selectedRow,_=f.sending;return a.createElement(u.default,{className:v.default.wrapper,ref:this._handleModalRef},r(u.default.Header,{className:i},void 0,r(u.default.CloseButton,{className:v.default.closeButton,onClick:this.close}),r("div",{className:v.default.header},void 0,r(s.default,{tag:s.default.Tags.H2,className:g.default.marginBottom8},void 0,l.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name})),r(h.default,{query:c,selectedSection:0,selectedRow:p,sections:[o.length],className:g.default.marginTop4,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,light:!1,placeholder:l.default.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===o.length?r("div",{className:v.default.noResults}):r(u.default.LazyContent,{className:v.default.results,elementHeight:S,paddingBottom:14,keyboardScroll:!0},void 0,o.map(function(t,n){return r(b,{row:n,result:t,sending:null!=t.data.record.id&&_.includes(t.data.record.id),selected:n===p,onMouseEnter:e.handleMouseEnter,onInvite:e.handleInvite},t.data.record.id)})),d&&d())},t}(a.PureComponent);M.modalConfig={closable:!0,store:_.default},t.default=M,e.exports=t.default},6329:function(e,t,n){"use strict";var o;t.__esModule=!0,t.OVERLAY_LAYOUT=void 0,t.getOverlayLayoutContent=function(){return[{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:N(l.KeybindActions.SERVER_PREV,l.KeybindActions.SERVER_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:N(l.KeybindActions.CHANNEL_PREV,l.KeybindActions.CHANNEL_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:N(l.KeybindActions.UNREAD_PREV,l.KeybindActions.UNREAD_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:N(l.KeybindActions.MENTION_CHANNEL_PREV,l.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:N(l.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:N(l.KeybindActions.MARK_SERVER_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:N(l.KeybindActions.MARK_CHANNEL_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:N(l.KeybindActions.SEARCH_EMOJIS),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:N(l.KeybindActions.TOGGLE_MUTE)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:N(l.KeybindActions.TOGGLE_DEAFEN)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:N(l.KeybindActions.CALL_ACCEPT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:N(l.KeybindActions.MARK_CHANNEL_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:N(l.KeybindActions.CALL_START),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:N(l.KeybindActions.SCROLL_UP,l.KeybindActions.SCROLL_DOWN)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:N(l.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:N(l.KeybindActions.TEXTAREA_FOCUS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:N(l.KeybindActions.QUICKSWITCHER_SHOW)}]};var r,a=n(6),i=(r=a)&&r.__esModule?r:{default:r},l=n(0),u=n(6359),s=n(6358),d=n(6357),f=n(6356),c=n(6355),p=n(6153),h=n(6225),_=n(6354),E=n(6353),y=n(6352),g=n(6351),v=n(6349),m=n(6347),T=n(6346),I=n(6345),C=n(6922),S=n(6343);function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=A[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var A=t.OVERLAY_LAYOUT=((o={})[l.KeybindActions.SERVER_NEXT]=u.SERVER_NEXT,o[l.KeybindActions.SERVER_PREV]=u.SERVER_PREV,o[l.KeybindActions.CHANNEL_NEXT]=s.CHANNEL_NEXT,o[l.KeybindActions.CHANNEL_PREV]=s.CHANNEL_PREV,o[l.KeybindActions.UNREAD_NEXT]=d.UNREAD_NEXT,o[l.KeybindActions.UNREAD_PREV]=d.UNREAD_PREV,o[l.KeybindActions.MENTION_CHANNEL_NEXT]=d.MENTION_NEXT,o[l.KeybindActions.MENTION_CHANNEL_PREV]=d.MENTION_PREV,o[l.KeybindActions.TOGGLE_PREVIOUS_GUILD]=s.TOGGLE_PREVIOUS_GUILD,o[l.KeybindActions.JUMP_TO_GUILD]=h.JUMP_TO_GUILD,o[l.KeybindActions.SUBMIT]=f.SUBMIT,o[l.KeybindActions.TEXTAREA_FOCUS]=c.TEXTAREA_FOCUS,o[l.KeybindActions.MARK_CHANNEL_READ]=p.MARK_CHANNEL_READ,o[l.KeybindActions.MARK_SERVER_READ]=_.MARK_SERVER_READ,o[l.KeybindActions.TOGGLE_MUTE]=m.TOGGLE_MUTE,o[l.KeybindActions.TOGGLE_DEAFEN]=m.TOGGLE_DEAFEN,o[l.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=S.TOGGLE_CATEGORY_COLLAPSED,o[l.KeybindActions.SCROLL_UP]=E.SCROLL_UP,o[l.KeybindActions.SCROLL_DOWN]=E.SCROLL_DOWN,o[l.KeybindActions.SEARCH_EMOJIS]=y.SEARCH_EMOJIS,o[l.KeybindActions.TOGGLE_HOTKEYS]=g.TOGGLE_HOTKEYS,o[l.KeybindActions.JUMP_TO_FIRST_UNREAD]=v.JUMP_TO_FIRST_UNREAD,o[l.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=T.RETURN_TO_AUDIO_CHANNEL,o[l.KeybindActions.CALL_ACCEPT]=I.CALL_ACCEPT,o[l.KeybindActions.CALL_START]=I.CALL_START,o[l.KeybindActions.QUICKSWITCHER_SHOW]=C.QUICKSWITCHER_SHOW,o);t.default=A},6330:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=D(n(8)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=D(n(43)),d=D(n(3)),f=D(n(57)),c=D(n(521)),p=D(n(9)),h=D(n(31)),_=D(n(6350)),E=D(n(6087)),y=D(n(966)),g=D(n(6932)),v=D(n(6)),m=n(0),T=D(n(971)),I=n(6360),C=n(6329),S=n(6921),N=D(n(5999)),A=n(540),O=D(n(6102)),b=D(n(189)),M=D(n(967)),R=D(n(5694)),L=D(n(5563));function D(e){return e&&e.__esModule?e:{default:e}}var w=((r={})[m.Arrows.UP]=l.default.throttle(function(){return(0,A.playSound)("ddr-up")},100),r[m.Arrows.DOWN]=l.default.throttle(function(){return(0,A.playSound)("ddr-down")},100),r[m.Arrows.LEFT]=l.default.throttle(function(){return(0,A.playSound)("ddr-left")},100),r[m.Arrows.RIGHT]=l.default.throttle(function(){return(0,A.playSound)("ddr-right")},100),r),P=(0,s.default)({displayName:"HotkeyLayout",mixins:[T.default,M.default],getInitialState:function(){return{UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new b.default.Value(1),scaleX:new b.default.Value(1),scaleY:new b.default.Value(0),animating:!1}},getSubscriptions:function(){var e,t=this;return(e={})[m.ComponentActions.SCROLL_PAGE_UP]=function(){return t.scrollPageUp(!0)},e[m.ComponentActions.SCROLL_PAGE_DOWN]=function(){return t.scrollPageDown(!0)},e[m.ComponentActions.DDR_ARROW_DOWN]=this.arrowDown,e[m.ComponentActions.DDR_ARROW_UP]=this.arrowUp,e},scrollPageUp:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.refs.scroller;t&&t.scrollPageUp(e,!0)},scrollPageDown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.refs.scroller;t&&t.scrollPageDown(e,!0)},arrowUp:function(e){var t,n=e.direction;this.setState(((t={})[n]=!1,t))},arrowDown:function(e){var t,n=e.direction;w[n](),this.setState(((t={})[n]=!0,t))},componentWillLeave:function(e){this.setState({animating:!0}),this.state.opacity.setValue(1),this.state.scaleX.setValue(.5),this.state.scaleY.setValue(1),b.default.sequence([b.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),b.default.timing(this.state.opacity,{delay:300,toValue:.7,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),b.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),b.default.timing(this.state.scaleY,{delay:100,toValue:.005,duration:1e3/60*8,easing:b.default.Easing.in(b.default.Easing.ease)}),b.default.parallel([b.default.timing(this.state.scaleX,{toValue:1,duration:1e3/60*10,easing:b.default.Easing.out(b.default.Easing.ease)}),b.default.timing(this.state.opacity,{toValue:0,duration:200})])]).start(e)},toggleOpacity:function(){1===this.state.opacity._value?this.state.opacity.setValue(0):this.state.opacity.setValue(1)},getStyles:function(){return{opacity:this.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:this.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:this.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}},render:function(){var e,t,n,o,r=this.state,a=r.UP,l=r.DOWN,s=r.LEFT,d=r.RIGHT,f=this.generateContent();return i(b.default.div,{className:R.default.keyboardShortcutsModal,style:this.getStyles()},void 0,i("h1",{className:R.default.modalTitle},void 0,i("div",{className:R.default.content},void 0,v.default.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE),i(O.default,{shortcut:"mod+/",className:(0,p.default)(L.default.dim,L.default.keyboardShortcuts)})),i("div",{className:R.default.modalSubtitle},void 0,v.default.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE),i("div",{className:R.default.ddrArrows},void 0,i("div",{className:(0,p.default)(R.default.arrow,R.default.left,(e={},e[R.default.active]=s,e))},void 0,"left"),i("div",{className:(0,p.default)(R.default.arrow,R.default.down,(t={},t[R.default.active]=l,t))},void 0,"down"),i("div",{className:(0,p.default)(R.default.arrow,R.default.up,(n={},n[R.default.active]=a,n))},void 0,"up"),i("div",{className:(0,p.default)(R.default.arrow,R.default.right,(o={},o[R.default.active]=d,o))},void 0,"right")),u.createElement(y.default,{ref:"scroller",fade:!0,outerClassName:R.default.scrollerWrap,theme:h.default.theme},i("div",{className:R.default.keyboardShortcutList},void 0,f)))},generateContent:function(){return this.props.content.map(function(e,t){var n;return i("div",{className:(0,p.default)(R.default.keybindGroup,(n={},n[R.default.groupEnd]=e.groupEnd,n))},t,i("div",{className:R.default.keybindDescription},void 0,e.description),i("div",{className:"keybind-shortcuts"},void 0,e.binds.map(function(e,t){return i(O.default,{shortcut:e},t)})))})}}),U=i(g.default,{},"raging-demo"),G=(0,s.default)({displayName:"KeyboardShortcuts",mixins:[f.default,d.default.LazyStoreListenerMixin(_.default)],statics:{modalConfig:{store:_.default}},getInitialState:function(){return a({content:__OVERLAY__?(0,C.getOverlayLayoutContent)():(0,I.getDefaultLayoutContent)()},_.default.getState())},getStateFromStores:function(){return _.default.getState()},UNSAFE_componentWillUpdate:function(e,t){!this.state.ragingDemon&&t.ragingDemon&&N.default.disable()},componentDidMount:function(){N.default.enableTemp(S.SHORTCUT_MODAL_LAYOUT)},componentWillUnmount:function(){N.default.disableTemp()},render:function(){var e=void 0;return e=this.state.ragingDemon?U:i(P,{content:this.state.content},"modal"),i(c.default,{component:"div"},void 0,e)},close:function(){E.default.hide()}});t.default=G,e.exports=t.default},6332:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=R(n(3)),l=R(n(45)),u=R(n(9)),s=R(n(8)),d=R(n(6)),f=n(6959),c=R(n(163)),p=n(543),h=R(p),_=R(n(6102)),E=R(n(6958)),y=R(n(6206)),g=R(n(363)),v=R(n(986)),m=R(n(6003)),T=R(n(18)),I=R(n(26)),C=n(6032),S=R(n(5999)),N=R(n(523)),A=n(6415),O=n(0),b=R(n(5705)),M=R(n(5563));function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P={top:15,bottom:10},U=function(e){function t(){return L(this,t),D(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=I.default.getGuild(this.props.result.record.guild_id);return a.createElement(f.Channel,this.props,r("div",{className:b.default.miscContainer},void 0,null!=e?e.name:null))},t}(a.PureComponent),G=i.default.connectStores([g.default],function(e){var t=e.result.record;return{unread:g.default.hasUnread(t.id),mentions:g.default.getMentionCount(t.id),category:T.default.getChannel(t.parent_id)}})(U),H=i.default.connectStores([v.default],function(e){var t=e.result.record;if(null==t.guild_id)throw new Error;return{voiceStates:v.default.getVoiceStates(t.guild_id)[t.id]}})(U),k=i.default.connectStores([m.default],function(e){var t=e.result.record;return{unread:m.default.hasUnread(t.id)}})(f.Guild),x=i.default.connectStores([g.default],function(e){var t=e.result.record;return{mentions:g.default.getMentionCount(t.id)}})(f.GroupDM),F=i.default.connectStores([g.default],function(e){var t=e.result.record,n=T.default.getDMFromUserId(t.id);return{mentions:null!=n?g.default.getMentionCount(n):0}})(f.User),j=r(function(){return r("div",{className:b.default.emptyState},void 0,r("div",{className:b.default.emptyStateNote},void 0,d.default.Messages.QUICKSWITCHER_EMPTY_TEXT),r("div",{className:b.default.emptyStateCTA},void 0,r(c.default,{href:N.default.getArticleURL(O.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL)},void 0,d.default.Messages.QUICKSWITCHER_EMPTY_CTA)))},{}),B=function(e){function t(n){L(this,t);var o=D(this,e.call(this,n));return s.default.bindAll(o,["handleKeyDown","handleInputChange","handleKeyDown","handleMouseMove","handleInputChange","focusResult","selectResult","setInputRef","setScrollerRef","forceFocus"]),o.state={query:n.query,needsScrollbar:"Blink"!==l.default.layout&&"WebKit"!==l.default.layout,mouseFocusDisabled:!0},o}return w(t,e),t.prototype.UNSAFE_componentWillMount=function(){S.default.disable()},t.prototype.componentDidMount=function(){this.focus()},t.prototype.componentWillUnmount=function(){S.default.enable()},t.prototype.getScroller=function(){return this._scrollerRef},t.prototype.componentDidUpdate=function(){var e=this.state.mouseFocusDisabled,t=this.props.selectedIndex,n=this.getScroller();n&&e&&t>=0&&n.scrollIndexIntoView(t,!1,P)},t.prototype.getInput=function(){return this._inputRef},t.prototype.close=function(){(0,C.hide)()},t.prototype.search=function(e){this.setState({query:e}),(0,C.search)(e)},t.prototype.focus=function(){var e=this.getInput();null!=e&&e.focus()},t.prototype.handleInputChange=function(){var e=this.getInput();null!=e&&this.search(e.value)},t.prototype.handleMouseMove=function(){!1!==this.state.mouseFocusDisabled&&this.setState({mouseFocusDisabled:!1})},t.prototype.focusResult=function(e){this.state.mouseFocusDisabled||(0,C.selectResult)(this.props.results.indexOf(e))},t.prototype.selectResult=function(e){null!=e&&e.type!==O.AutocompleterResultTypes.HEADER&&(0,C.switchToResult)(e)},t.prototype.handleKeyDown=function(e){var t=this.state,n=t.mouseFocusDisabled,o=t.query,r=this.props.results;!1===n&&this.setState({mouseFocusDisabled:!0});var a=e.key.toLowerCase(),i=this.props.selectedIndex;switch(a){case"escape":return e.preventDefault(),e.stopPropagation(),void(o.length>0?this.search(""):(0,C.hide)());case"k":return void(!0!==e.ctrlKey&&!0!==e.metaKey||(e.preventDefault(),e.stopPropagation(),(0,C.hide)()));case"enter":if(-1===i)return;return e.preventDefault(),void this.selectResult(r[i]);case"arrowup":i=(0,A.findNextSelected)("up",i,r);break;case"arrowdown":i=(0,A.findNextSelected)("down",i,r);break;case"tab":i=e.shiftKey?(0,A.findNextSelected)("up",i,r):(0,A.findNextSelected)("down",i,r);break;case"n":if(!e.ctrlKey)return;i=(0,A.findNextSelected)("down",i,r);break;case"p":if(!e.ctrlKey)return;i=(0,A.findNextSelected)("up",i,r);break;default:return}e.preventDefault(),(0,C.selectResult)(i)},t.prototype.setScrollerRef=function(e){this._scrollerRef=e},t.prototype.setInputRef=function(e){this._inputRef=e},t.prototype.forceFocus=function(){this._inputRef&&this._inputRef.focus()},t.prototype.renderInput=function(){return a.createElement("input",{className:b.default.input,ref:this.setInputRef,type:"text",placeholder:d.default.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onBlur:this.forceFocus,value:this.state.query})},t.prototype.renderResults=function(){var e=this.state,t=e.query,n=e.needsScrollbar,o=this.props,r=o.results,i=o.theme;return 0===r.length&&t.length>0?j:0===r.length?null:a.createElement(h.default,{ref:this.setScrollerRef,elementHeight:34,theme:p.Themes.GHOST,backgroundColor:i===O.ThemeTypes.LIGHT?O.Colors.PRIMARY_100:O.Colors.CHANNELS_GREY,paddingTop:P.top,paddingBottom:P.bottom,outerClassName:(0,u.default)(b.default.scrollerOuter,n?b.default.polyfilled:null),className:b.default.scroller},r.map(this.renderResult,this))},t.prototype.renderResult=function(e,t){var n=this.props.selectedIndex;switch(e.type){case O.AutocompleterResultTypes.HEADER:return r(f.Header,{result:e},e.type+"-"+e.record.id);case O.AutocompleterResultTypes.TEXT_CHANNEL:return r(G,{focused:n>=0&&t===n,onClick:this.selectResult,onMouseEnter:this.focusResult,result:e},e.type+"-"+e.record.id);case O.AutocompleterResultTypes.VOICE_CHANNEL:return r(H,{focused:n>=0&&t===n,onClick:this.selectResult,onMouseEnter:this.focusResult,result:e},e.type+"-"+e.record.id);case O.AutocompleterResultTypes.GUILD:return r(k,{focused:n>=0&&t===n,onClick:this.selectResult,onMouseEnter:this.focusResult,result:e},e.type+"-"+e.record.id);case O.AutocompleterResultTypes.USER:return r(F,{focused:n>=0&&t===n,onClick:this.selectResult,onMouseEnter:this.focusResult,result:e},e.type+"-"+e.record.id);case O.AutocompleterResultTypes.GROUP_DM:return r(x,{focused:n>=0&&t===n,onClick:this.selectResult,onMouseEnter:this.focusResult,result:e},e.type+"-"+e.record.id);case O.AutocompleterResultTypes.APPLICATION:return r(f.Application,{focused:n>=0&&t===n,onClick:this.selectResult,onMouseEnter:this.focusResult,result:e},e.type+"-"+e.record.id);default:return null}},t.prototype.renderHelp=function(){var e,t=this.props,n=t.results,o=t.theme===O.ThemeTypes.DARK?M.default.dark:M.default.dim;return r("div",{className:(0,u.default)((e={},e[b.default.tipsWithResults]=n.length>0,e[b.default.tipsWithoutResults]=0===n.length,e))},void 0,r("div",{className:b.default.tipsListNav},void 0,d.default.Messages.QUICKSWITCHER_TIP_NAV.format({shortcutHook:function(e,t){return r(_.default,{shortcut:e[0],className:(0,u.default)(o,M.default.keybindShortcutQuickSwitcher,M.default.keybindShortcutTipsNav)},t)}})),r("div",{className:b.default.tipsMiscControls},void 0,d.default.Messages.QUICKSWITCHER_TIP_SELECT.format({shortcutHook:function(e,t){return r(_.default,{shortcut:e[0],className:(0,u.default)(o,M.default.keybindShortcutQuickSwitcher,M.default.keybindShortcutTipsSelect)},t)}})))},t.prototype.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,o=t.results;return n?null:r(E.default,{hasQuery:e.length>0&&o.length>0})},t.prototype.render=function(){return r("div",{className:b.default.container},void 0,r("div",{className:b.default.quickswitcher,onMouseMove:this.handleMouseMove},void 0,this.renderInput(),this.renderResults(),this.renderHelp(),this.renderTutorial()))},t}(a.PureComponent);B.modalConfig={disableAnimation:!0,backdropInstant:!0,store:y.default},t.default=B,e.exports=t.default},6335:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(6)),l=g(n(123)),u=g(n(75)),s=g(n(64)),d=g(n(266)),f=g(n(939)),c=g(n(67)),p=g(n(524)),h=g(n(14)),_=g(n(6967)),E=g(n(1017)),y=g(n(5711));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.setRef=function(e){o._input=e},o.renderWarning=function(){return o.props.user.id===h.default.getId()?null:r(p.default,{type:p.default.Types.WARNING,className:y.default.card},void 0,r(c.default,{color:c.default.Colors.WHITE,size:c.default.Sizes.MEDIUM},void 0,i.default.Messages.CHANGE_NICKNAME_WARNING))},o.renderInput=function(){var e=o.props,t=e.user,n=e.errors,a=o.state.nick,l=void 0;return n.nick&&(l=r(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:y.default.error},void 0,n.nick)),r(d.default,{title:i.default.Messages.NICKNAME,className:y.default.input},void 0,r(f.default,{inputRef:o.setRef,value:a,placeholder:""+t.toString(),onChange:o.handleNickChange,autoFocus:!0}),l)},o.renderReset=function(){return r(s.default,{look:s.default.Looks.LINK,size:s.default.Sizes.NONE,onClick:o.handleReset,color:c.default.Colors.PRIMARY,className:y.default.reset},void 0,i.default.Messages.RESET_NICKNAME)},o.renderHeader=function(){return r(l.default.Header,{},void 0,r(u.default,{tag:u.default.Tags.H4},void 0,i.default.Messages.CHANGE_NICKNAME))},o.renderFooter=function(){var e=o.props.submitting;return r(l.default.Footer,{},void 0,r(s.default,{type:"submit",disabled:e},void 0,i.default.Messages.SAVE),r(s.default,{onClick:o.close,look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY},void 0,i.default.Messages.CANCEL))},o.handleReset=function(){var e=o._input;o.setState({nick:""}),null!=e&&e.focus()},o.handleSubmit=function(e){e.preventDefault();var t=o.props,n=t.user,r=t.guildId;E.default.changeNickname(r,n.id,o.state.nick)},o.handleNickChange=function(e){o.setState({nick:e})},o.state={nick:n.nick||""},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){E.default.close()},t.prototype.componentDidMount=function(){var e=this._input;null!=e&&e.select()},t.prototype.render=function(){return r(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,this.renderHeader(),r(l.default.Content,{},void 0,this.renderWarning(),this.renderInput(),this.renderReset()),this.renderFooter())},t}(a.PureComponent);v.modalConfig={store:_.default},t.default=v,e.exports=t.default},6336:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=z(n(9)),u=z(n(3)),s=z(n(6)),d=z(n(90)),f=z(n(395)),c=n(6230),p=z(c),h=z(n(5992)),_=z(n(87)),E=z(n(6968)),y=z(n(12)),g=z(n(31)),v=z(n(144)),m=z(n(80)),T=n(270),I=n(33),C=z(n(281)),S=z(n(278)),N=z(n(146)),A=z(n(522)),O=z(n(942)),b=z(n(6051)),M=z(n(957)),R=z(n(1211)),L=z(n(541)),D=z(n(1030)),w=z(n(263)),P=z(n(64)),U=z(n(40)),G=z(n(163)),H=z(n(79)),k=z(n(265)),x=z(n(142)),F=z(n(81)),j=z(n(41)),B=n(113),V=n(99),K=(z(n(88)),n(0)),W=z(n(5712)),Y=z(n(197)),$=z(n(20));function z(e){return e&&e.__esModule?e:{default:e}}function X(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z=K.INVITE_ENDPOINT+"/discord-testers",ee=u.default.connectStores([v.default],function(){return{hide:v.default.hidePersonalInformation}})(function(e){function t(){return q(this,t),Q(this,e.apply(this,arguments))}return J(t,e),t.prototype.renderEmpty=function(){return a("div",{className:W.default.empty},void 0,a("div",{className:W.default.emptyIconStreamerMode}),a("div",{className:W.default.emptyText},void 0,s.default.Messages.STREAMER_MODE_ENABLED))},t.prototype.renderNote=function(){var e=this.props.user;return a("div",{className:W.default.userInfoSection},void 0,a("div",{className:W.default.userInfoSectionHeader},void 0,s.default.Messages.NOTE),a(R.default,{userId:e.id,autoFocus:!1,className:W.default.note}))},t.prototype.trackConnectedAccountViewed=function(e){$.default.track(K.AnalyticEvents.CONNECTED_ACCOUNT_VIEWED,{platform_type:e})},t.prototype.renderConnectedAccounts=function(){var e=this,t=this.props,n=t.connectedAccounts,o=t.theme;if(null!=n&&n.length>0){var r=n.map(function(t,n){var r=d.default.get(t.type),i=r.getPlatformUserUrl&&r.getPlatformUserUrl(t),l=void 0;i&&(l=a(G.default,{href:i,onClick:e.trackConnectedAccountViewed.bind(e,t.type)},void 0,a("div",{className:W.default.connectedAccountOpenIcon})));var u=void 0;return t.verified&&(u=a(x.default,{text:s.default.Messages.CONNECTION_VERIFIED},void 0,a(H.default,{className:W.default.connectedAccountVerifiedIcon,name:H.default.Names.VERIFIED,inner:o===K.ThemeTypes.LIGHT?K.Colors.STATUS_GREY_200:K.Colors.PRIMARY,checkmark:o===K.ThemeTypes.LIGHT?K.Colors.STATUS_GREY_500:K.Colors.WHITE,width:24}))),a(U.default,{align:U.default.Align.CENTER,grow:0,className:W.default.connectedAccount},n,a("img",{alt:s.default.Messages.IMG_ALT_LOGO.format({name:r.name}),className:W.default.connectedAccountIcon,src:r.icon.color}),a("div",{className:W.default.connectedAccountNameInner},void 0,a("div",{className:W.default.connectedAccountName},void 0,t.name),u),l)});return a("div",{className:W.default.userInfoSection},void 0,a("div",{className:W.default.connectedAccounts},void 0,r))}},t.prototype.render=function(){return this.props.hide?this.renderEmpty():a(k.default,{fade:!0},void 0,this.renderNote(),this.renderConnectedAccounts())},t}(i.PureComponent)),te=function(e){var t=e.guild,n=e.nick,o=e.onSelect,r=e.onContextMenu,i=e.theme;return a(_.default,{className:W.default.listRow,onClick:function(){return o(t.id)},onContextMenu:function(e){return r(e,t)}},void 0,a(h.default,{guild:t,showVerified:!0,className:(0,l.default)(W.default.listAvatar,null==t.icon?W.default.guildAvatarWithoutIcon:null),verifiedIconOuterColor:i===K.ThemeTypes.DARK?K.Colors.PRIMARY_600:null,size:h.default.Sizes.MEDIUM}),a("div",{className:W.default.listRowContent},void 0,a("div",{className:W.default.listName},void 0,t.toString()),a("div",{className:W.default.guildNick},void 0,n)))},ne=function(e){function t(){var n,o;q(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=Q(this,e.call.apply(e,[this].concat(l))),o.handleSelect=function(e){j.default.transitionTo(K.Routes.GUILD(e)),C.default.close(),(0,T.popLayer)()},o.handleContextMenu=function(e,t){(0,I.openContextMenu)(e,function(e){return i.createElement(b.default,r({},e,{type:K.ContextMenuTypes.GUILD_PROFILE_MUTUAL,guild:t}))})},Q(o,n)}return J(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.mutualGuilds,o=t.theme,r=void 0;return r=0===n.length?a("div",{className:W.default.empty},void 0,a("div",{className:W.default.emptyIconGuilds}),a("div",{className:W.default.emptyText},void 0,s.default.Messages.NO_MUTUAL_GUILDS)):n.map(function(t){var n=t.guild,r=t.nick;return a(te,{guild:n,nick:r,onSelect:e.handleSelect,onContextMenu:e.handleContextMenu,theme:o},n.id)}),a(k.default,{className:W.default.listScroller,fade:!0},void 0,r)},t}(i.Component),oe=function(e){var t=e.user,n=e.status,o=e.onSelect,r=e.onContextMenu;return a(_.default,{className:W.default.listRow,onClick:function(){return o(t.id)},onContextMenu:function(e){return r(e,t)}},void 0,a(w.default,{src:t.getAvatarURL(),size:w.default.Sizes.LARGE,status:n,className:W.default.listAvatar}),a(L.default,{user:t,className:W.default.listName,discriminatorClass:W.default.listDiscriminator}))},re=a(M.default,{}),ae=function(e){function t(){var n,o;q(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=Q(this,e.call.apply(e,[this].concat(l))),o.handleSelect=function(e){C.default.open(e)},o.handleContextMenu=function(e,t){(0,I.openContextMenu)(e,function(e){return i.createElement(O.default,r({},e,{type:K.ContextMenuTypes.USER_PROFILE_MUTUAL,user:t}))})},Q(o,n)}return J(t,e),t.prototype.render=function(){var e=this,t=this.props.mutualFriends,n=void 0;return n=t?0===t.length?a("div",{className:W.default.empty},void 0,a("div",{className:W.default.emptyIconFriends}),a("div",{className:W.default.emptyText},void 0,s.default.Messages.NO_MUTUAL_FRIENDS)):t.map(function(t){return a(oe,{user:t.user,status:t.status,onSelect:e.handleSelect,onContextMenu:e.handleContextMenu},t.key)}):a("div",{className:W.default.empty},void 0,re),a(k.default,{className:W.default.listScroller,fade:!0},void 0,n)},t}(i.Component);function ie(e){var t=e.className,n=X(e,["className"]);return i.createElement(P.default,r({},n,{look:P.default.Looks.INVERTED,size:P.default.Sizes.MEDIUM,color:W.default.buttonInvertedPurple,className:t}))}function le(e){var t=e.mode,n=e.defaultColor,o=e.className,a=X(e,["mode","defaultColor","className"]);if("Streaming"===t)return i.createElement(ie,r({},a,{className:o}));var u="Normal"===t?P.default.Looks.FILLED:P.default.Looks.INVERTED;return i.createElement(P.default,r({},a,{color:function(e,t){switch(e){case"Streaming":return P.default.Colors.PRIMARY;case"Spotify":case"Xbox":return P.default.Colors.GREEN;case"Playing":return P.default.Colors.BRAND;default:return t}}(t,n),look:u,size:P.default.Sizes.SMALL,className:(0,l.default)(W.default.actionButton,o)}))}var ue=function(e){var t=e.isCurrentUser,n=e.user,o=e.relationshipType,r=e.friendReqSent,i=e.handleAddFriend,l=e.handleIgnoreFriend,u=e.handleSendMessage,d=e.mode;return t||o===K.RelationshipTypes.BLOCKED?null:o===K.RelationshipTypes.FRIEND||n.bot?a(le,{mode:d,defaultColor:P.default.Colors.GREEN,onClick:u},void 0,s.default.Messages.SEND_MESSAGE):r?a(le,{mode:d,defaultColor:P.default.Colors.GREEN,disabled:!0},void 0,s.default.Messages.ADD_FRIEND_BUTTON_AFTER):o===K.RelationshipTypes.PENDING_INCOMING?a(U.default,{grow:0},void 0,a(le,{mode:d,defaultColor:P.default.Colors.GREEN,onClick:i},void 0,s.default.Messages.FRIEND_REQUEST_ACCEPT),a(le,{mode:d,defaultColor:P.default.Colors.GREY,onClick:l,className:W.default.actionRightButton},void 0,s.default.Messages.FRIEND_REQUEST_IGNORE)):a(le,{mode:d,defaultColor:P.default.Colors.GREEN,onClick:i},void 0,s.default.Messages.ADD_FRIEND_BUTTON)},se=function(e){function t(){var n,o;q(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=Q(this,e.call.apply(e,[this].concat(a))),o.performAction=function(e){e(),(0,I.closeContextMenu)()},Q(o,n)}return J(t,e),t.prototype.render=function(){var e=this,n=this.props,o=n.relationshipType,r=n.onRemoveFriend,i=n.onBlock,u=n.onMessage,d=n.className,f=n.style,c=[];switch(o){case K.RelationshipTypes.BLOCKED:c.push(a(_.default,{className:Y.default.item,onClick:function(){return e.performAction(r)}},"user-unblock",s.default.Messages.UNBLOCK));break;case K.RelationshipTypes.FRIEND:c.push(a(_.default,{className:(0,l.default)(Y.default.item,Y.default.danger),onClick:function(){return e.performAction(r)}},"user-remove",s.default.Messages.REMOVE_FRIEND)),c.push(a(_.default,{className:(0,l.default)(Y.default.item,Y.default.danger),onClick:function(){return e.performAction(i)}},"user-block",s.default.Messages.BLOCK));break;case K.RelationshipTypes.NONE:case K.RelationshipTypes.PENDING_INCOMING:default:c.push(a(_.default,{className:(0,l.default)(Y.default.item,Y.default.danger),onClick:function(){return e.performAction(i)}},"user-block",s.default.Messages.BLOCK))}return o!==K.RelationshipTypes.BLOCKED&&c.push(a(_.default,{className:Y.default.item,onClick:function(){return e.performAction(u)}},"user-message",s.default.Messages.USER_POPOUT_MESSAGE)),a("div",{className:d,style:{left:f.left+t.OFFSET_X,top:f.top+t.OFFSET_Y}},void 0,c)},t}(i.Component);se.OFFSET_X=-65,se.OFFSET_Y=20;var de=function(e){function t(){var n,o;q(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=Q(this,e.call.apply(e,[this].concat(l))),o.state={friendReqSent:!1},o.handleAdditionalActionClick=function(e){var t=o.props.relationshipType;(0,I.openContextMenu)(e,function(e){return i.createElement(se,r({},e,{relationshipType:t,onRemoveFriend:o.handleRemoveFriend,onBlock:o.handleBlock,onMessage:o.handleSendMessage}))})},o.handleSendMessage=function(){var e=o.props,t=e.user,n=e.currentUserId;N.default.openPrivateChannel(n,t.id),o.props.close(),(0,T.popLayer)()},o.handleBlock=function(){var e=o.props.user;S.default.addRelationship(e.id,{location:"User Profile"},K.RelationshipTypes.BLOCKED)},o.handleAddFriend=function(){S.default.addRelationship(o.props.user.id,{location:"User Profile"}),o.setState({friendReqSent:!0})},o.handleRemoveFriend=function(){S.default.removeRelationship(o.props.user.id,{location:"User Profile"}),o.setState({friendReqSent:!1})},o.handleSectionSelect=function(e){C.default.setSection(e)},o.openPremiumSettings=function(){A.default.open(K.UserSettingsSections.PREMIUM),o.props.close()},Q(o,n)}return J(t,e),t.prototype.getMode=function(){var e=this.props.activity;return null==e?"Normal":(0,B.isStreaming)(e)?"Streaming":(0,B.isOnXbox)(e)?"Xbox":(0,B.isListeningOnSpotify)(e)?"Spotify":"Playing"},t.prototype.isCurrentUser=function(){var e=this.props,t=e.user,n=e.currentUserId;return t.id===n},t.prototype.renderBadges=function(){var e=this.props,t=e.user,n=e.premiumSince,o=[];return t.hasFlag(K.UserFlags.STAFF)&&o.push({tooltip:s.default.Messages.STAFF_BADGE_TOOLTIP,onClick:function(){return window.open(K.MarketingURLs.COMPANY,"_blank")},class:"staff"}),t.hasFlag(K.UserFlags.PARTNER)&&o.push({tooltip:s.default.Messages.PARTNER_BADGE_TOOLTIP,onClick:function(){return window.open(K.MarketingURLs.PARTNERS,"_blank")},class:"partner"}),t.hasFlag(K.UserFlags.HYPESQUAD)&&o.push({tooltip:s.default.Messages.HYPESQUAD_BADGE_TOOLTIP,onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypesquad"}),t.hasFlag(K.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)&&o.push({tooltip:s.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:s.default.Messages.HYPESQUAD_HOUSE_1}),onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse1"}),t.hasFlag(K.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)&&o.push({tooltip:s.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:s.default.Messages.HYPESQUAD_HOUSE_2}),onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse2"}),t.hasFlag(K.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&o.push({tooltip:s.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:s.default.Messages.HYPESQUAD_HOUSE_3}),onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse3"}),t.hasFlag(K.UserFlags.BUG_HUNTER)&&o.push({tooltip:s.default.Messages.BUG_HUNTER_BADGE_TOOLTIP,onClick:function(){return window.open(Z,"_blank")},class:"bugHunter"}),null!=n&&o.push({tooltip:s.default.Messages.PREMIUM_BADGE_TOOLTIP.format({date:n}),onClick:this.openPremiumSettings,class:"premium"}),0===o.length?null:a(U.default,{className:W.default.profileBadges},void 0,o.map(function(e){return a("div",{className:W.default.profileBadgeWrapper},void 0,a(x.default,{position:x.default.Positions.TOP,text:e.tooltip},e.class,a(_.default,{onClick:e.onClick},void 0,a("div",{className:(0,V.getClass)(W.default,"profileBadge",e.class)}))))}))},t.prototype.renderMoreActions=function(){var e=this.props.user;if(!this.isCurrentUser()&&!e.isNonUserBot())return a(_.default,{onClick:this.handleAdditionalActionClick},void 0,a("div",{className:W.default.additionalActionsIcon}))},t.prototype.renderHeader=function(e){var t=this.props,n=t.user,o=t.status,r=t.relationshipType,i=this.state.friendReqSent,l=F.default.hasAnimatedAvatar(n)?n.getAvatarURL("gif"):n.getAvatarURL();return a("header",{className:W.default.header},void 0,a(w.default,{src:l,size:w.default.Sizes.PROFILE,status:o,className:W.default.avatar}),a("div",{className:W.default.headerInfo},void 0,a(L.default,{user:n,className:W.default.nameTag,usernameClass:W.default.username,discriminatorClass:W.default.discriminator,invertBotTagColor:"Playing"===e,botClass:W.default.botTag}),this.renderBadges()),a(ue,{user:n,isCurrentUser:this.isCurrentUser(),relationshipType:r,friendReqSent:i,handleAddFriend:this.handleAddFriend,handleIgnoreFriend:this.handleRemoveFriend,handleSendMessage:this.handleSendMessage,mode:e}),this.renderMoreActions())},t.prototype.renderTabBar=function(){var e=this.props,t=e.user,n=e.section;return this.isCurrentUser()||t.bot?null:a("div",{className:W.default.tabBarContainer},void 0,a(p.default,{selectedItem:n,type:c.TabBarTypes.TOP,onItemSelect:this.handleSectionSelect,className:W.default.tabBar},void 0,a(c.TabBarItem,{className:W.default.tabBarItem},K.UserProfileSections.USER_INFO,s.default.Messages.USER_INFO),a(c.TabBarItem,{className:W.default.tabBarItem},K.UserProfileSections.MUTUAL_GUILDS,s.default.Messages.MUTUAL_GUILDS),a(c.TabBarItem,{className:W.default.tabBarItem},K.UserProfileSections.MUTUAL_FRIENDS,s.default.Messages.MUTUAL_FRIENDS)))},t.prototype.render=function(){var e,t=this.props,n=t.user,o=t.activity,r=t.mutualGuilds,i=t.mutualFriends,u=t.connectedAccounts,s=t.section,d=t.theme,f=this.getMode(),c=void 0;switch(s){case K.UserProfileSections.MUTUAL_GUILDS:c=a(ne,{mutualGuilds:r||[],theme:d});break;case K.UserProfileSections.MUTUAL_FRIENDS:c=a(ae,{mutualFriends:i,theme:d});break;case K.UserProfileSections.USER_INFO:default:c=a(ee,{user:n,connectedAccounts:u||[],activity:o,theme:d})}return a(U.default,{direction:U.default.Direction.VERTICAL,className:W.default.root},void 0,a("div",{className:(0,V.getClass)(W.default,"topSection",f)},void 0,this.renderHeader(f),a("div",{className:(0,l.default)((e={},e[W.default.headerFill]=null!=o,e))},void 0,null!=this.props.activity?a(D.default,{type:D.default.Types.PROFILE,activity:this.props.activity,user:this.props.user,source:"Profile Modal",className:W.default.activity,onOpenConnections:C.default.close}):null,this.renderTabBar())),a("div",{className:W.default.body},void 0,c))},t}(i.PureComponent),fe=u.default.connectStores([g.default,y.default,m.default],function(e){var t=e.user;return{theme:g.default.theme,currentUserId:y.default.getCurrentUser().id,status:m.default.getStatus(t.id),activity:m.default.getPrimaryActivity(t.id)}})((0,f.default)(function(e){var t,n=e.guildId,o=e.user;return(t={})[n]=[o.id],t})(de)),ce=function(e){function t(){var n,o;q(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=Q(this,e.call.apply(e,[this].concat(a))),o.close=function(){C.default.close()},Q(o,n)}return J(t,e),t.prototype.render=function(){return i.createElement(fe,r({},this.props,{close:this.close}))},t}(i.PureComponent);ce.modalConfig={store:E.default},t.default=ce,e.exports=t.default},6343:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CATEGORY_COLLAPSED=void 0;var o=u(n(125)),r=u(n(225)),a=u(n(958)),i=n(6130),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.TOGGLE_CATEGORY_COLLAPSED={binds:["mod+shift+a"],global:!0,action:function(){var e=r.default.getGuildId();return null!=e&&(o.default.getChannels(e)[l.ChannelTypes.GUILD_CATEGORY].some(function(e){var t=e.channel;return"null"!==t.id&&!a.default.isCollapsed(t.id)})?(0,i.categoryCollapseAll)(e):(0,i.categoryExpandAll)(e),!1)}}},6344:function(e,t,n){"use strict";t.__esModule=!0,t.ZOOM_RESET=t.ZOOM_OUT=t.ZOOM_IN=void 0;var o,r=n(972),a=(o=r)&&o.__esModule?o:{default:o},i=n(1039),l=n(0);function u(e){return l.Accessibility.ZOOM_SCALES[Math.max(0,Math.min(l.Accessibility.ZOOM_SCALES.indexOf(a.default.zoom)+e,l.Accessibility.ZOOM_SCALES.length-1))]}var s=t.ZOOM_IN={binds:["mod+plus"],global:!0,action:function(){return(0,i.zoomTo)(u(1)),!1}},d=t.ZOOM_OUT={binds:["mod+minus"],global:!0,action:function(){return(0,i.zoomTo)(u(-1)),!1}},f=t.ZOOM_RESET={binds:["mod+0"],global:!0,action:function(){return(0,i.zoomTo)(l.Accessibility.ZOOM_DEFAULT),!1}};t.default={ZOOM_IN:s,ZOOM_OUT:d,ZOOM_RESET:f}},6345:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_START=t.CALL_ACCEPT=void 0;var o=n(143),r=n(0),a=t.CALL_ACCEPT={binds:["mod+return"],global:!0,action:function(){if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.CALL_ACCEPT))return o.ComponentDispatch.dispatch(r.ComponentActions.CALL_ACCEPT),!1}},i=t.CALL_START={binds:["ctrl+'","ctrl+shift+'"],global:!0,action:function(e){if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.CALL_START))return o.ComponentDispatch.dispatch(r.ComponentActions.CALL_START,e),!1}};t.default={CALL_ACCEPT:a,CALL_START:i}},6346:function(e,t,n){"use strict";t.__esModule=!0,t.RETURN_TO_AUDIO_CHANNEL=void 0;var o=s(n(226)),r=s(n(65)),a=s(n(6014)),i=s(n(5995)),l=n(6030),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=t.RETURN_TO_AUDIO_CHANNEL={binds:["mod+alt+left"],global:!0,action:function(){if(!o.default.isConnected())return!1;var e=o.default.getGuildId()||u.ME,t=r.default.getChannelId(e);return(0,l.transitionToChannel)(e,t),a.default.flushSelection(!0),i.default.channelListScrollTo(e,o.default.getChannelId()),!1}};t.default={RETURN_TO_AUDIO_CHANNEL:d}},6347:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_DEAFEN=t.TOGGLE_MUTE=void 0;var o,r=n(364),a=(o=r)&&o.__esModule?o:{default:o};var i=t.TOGGLE_MUTE={binds:["mod+shift+m"],global:!0,action:function(){return a.default.toggleSelfMute(),!1}},l=t.TOGGLE_DEAFEN={binds:["mod+shift+d"],global:!0,action:function(){return a.default.toggleSelfDeaf(),!1}};t.default={TOGGLE_MUTE:i,TOGGLE_DEAFEN:l}},6348:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=p(n(3)),a=p(n(2)),i=n(0),l=p(n(280)),u=p(n(6010)),s=p(n(12)),d=p(n(376)),f=p(n(6076)),c=p(n(6039));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return{name:"",icon:null,region:f.default.getOptimalRegionId()}},_=!1,E=i.FormStates.CLOSED,y={},g=void 0,v=h(),m=i.CreateGuildModalScreens.Choose,T=void 0,I=!1;function C(){v=h(),g=null,E=i.FormStates.CLOSED,m=i.CreateGuildModalScreens.Choose}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default,l.default,d.default,f.default,c.default)},t.prototype.isOpen=function(){return!c.default.hasAction()&&(_&&E!==i.FormStates.CLOSED)},t.prototype.getProps=function(){return{submitting:E===i.FormStates.SUBMITTING,errors:y,code:g,guild:v,screen:m,optimalRegionId:T,nuf:I}},t}(r.default.Store);t.default=new S(a.default,{DISPLAYED_INVITE_SHOW:function(){C()},CREATE_GUILD_MODAL_OPEN:function(e){E=i.FormStates.OPEN,I=e.nuf||!1,m=e.screen||i.CreateGuildModalScreens.Choose,v=h(),y={}},CREATE_GUILD_MODAL_SET_SCREEN:function(e){m=e.screen},CREATE_GUILD_MODAL_UPDATE:function(e){null!=g&&(g=null),v=o({},v,e.guild)},CREATE_GUILD_MODAL_SUBMIT:function(){E=i.FormStates.SUBMITTING},CREATE_GUILD_MODAL_SUBMIT_FAILURE:function(e){E=i.FormStates.OPEN,y=e.errors},CREATE_GUILD_MODAL_CLOSE:C,LOAD_REGIONS:function(e){if(null==v||null!=e.guildId)return!1;T=v.region||f.default.getOptimalRegionId(),v=o({},v,{region:T})},CONNECTION_OPEN:function(e){_=!0},LOGOUT:function(e){_=!1},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},6349:function(e,t,n){"use strict";t.__esModule=!0,t.JUMP_TO_FIRST_UNREAD=void 0;var o=i(n(65)),r=i(n(363)),a=i(n(145));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.JUMP_TO_FIRST_UNREAD={binds:["shift+pageup"],global:!0,action:function(){var e=o.default.getChannelId();if(e){var t=r.default.ackMessageId(e);t&&r.default.getOldestUnreadTimestamp(e)>0&&a.default.jumpToMessage(e,t,!1,"Keyboard Shortcut")}return!1}};t.default={JUMP_TO_FIRST_UNREAD:l}},6350:function(e,t,n){"use strict";t.__esModule=!0;var o=a(n(3)),r=a(n(2));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t.prototype.getState=function(){return{ragingDemon:l}},t}(o.default.Store);t.default=new u(r.default,{SHOW_KEYBOARD_SHORTCUTS:function(e){i=!0},HIDE_KEYBOARD_SHORTCUTS:function(e){i=!1},ACTIVATE_RAGING_DEMON:function(e){l=!0},DEACTIVATE_RAGING_DEMON:function(e){l=!1}}),e.exports=t.default},6351:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_HOTKEYS=void 0;var o=a(n(6087)),r=a(n(6350));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.TOGGLE_HOTKEYS={binds:["mod+/","mod+shift+/"],global:!0,action:function(){return r.default.isOpen()?o.default.hide():o.default.show(),!1}};t.default={TOGGLE_HOTKEYS:i}},6352:function(e,t,n){"use strict";t.__esModule=!0,t.SEARCH_EMOJIS=void 0;var o=n(143),r=n(0),a=t.SEARCH_EMOJIS={binds:["mod+e"],global:!0,action:function(){return o.ComponentDispatch.dispatch(r.ComponentActions.TOGGLE_EMOJI_POPOUT),!1}};t.default={SEARCH_EMOJIS:a}},6353:function(e,t,n){"use strict";t.__esModule=!0,t.SCROLL_DOWN=t.SCROLL_UP=void 0;var o=n(143),r=n(0),a=t.SCROLL_UP={binds:["pageup"],global:!0,action:function(){return o.ComponentDispatch.dispatchToLastSubscribed(r.ComponentActions.SCROLL_PAGE_UP),!1}},i=t.SCROLL_DOWN={binds:["pagedown"],global:!0,action:function(){return o.ComponentDispatch.dispatchToLastSubscribed(r.ComponentActions.SCROLL_PAGE_DOWN),!1}};t.default={SCROLL_UP:a,SCROLL_DOWN:i}},6354:function(e,t,n){"use strict";t.__esModule=!0,t.MARK_SERVER_READ=void 0;var o=f(n(225)),r=f(n(6003)),a=f(n(229)),i=f(n(65)),l=f(n(271)),u=f(n(145)),s=n(143),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c={},p=t.MARK_SERVER_READ={binds:["shift+esc"],global:!0,action:function(){var e=o.default.getGuildId();if(e&&r.default.getUnreadGuildsIgnoreMuted(e)){if(!c[e]){var t=function(){return delete c[e]};a.default.markGuildAsRead(e).then(t,t)}var n=i.default.getChannelId(e);if(n)l.default.getMessages(n).hasMoreAfter?u.default.jumpToPresent(n,d.MAX_MESSAGES_PER_CHANNEL):s.ComponentDispatch.dispatch(d.ComponentActions.SCROLLTO_PRESENT)}}};t.default={MARK_SERVER_READ:p}},6355:function(e,t,n){"use strict";t.__esModule=!0,t.TEXTAREA_FOCUS=void 0;var o=u(n(226)),r=u(n(58)),a=n(0),i=n(143),l=n(6237);function u(e){return e&&e.__esModule?e:{default:e}}var s=t.TEXTAREA_FOCUS={binds:["any-character"],global:!1,keydown:function(e,t){if((0,l.isInputLikeElement)(document.activeElement))return!1;var n=null!=document.activeElement&&"BODY"===document.activeElement.tagName;if(a.EnableAccessibility&&!n&&!/^[a-zA-Z0-9]$/.test(t))return!1;if(i.ComponentDispatch.hasSubscribers(a.ComponentActions.MODAL_CLOSE))return!1;if("Tab"===t)return e.preventDefault(),i.ComponentDispatch.dispatch(a.ComponentActions.TEXTAREA_FOCUS),!1;if(o.default.isConnected()&&r.default.getMode()===a.InputModes.PUSH_TO_TALK&&!r.default.isSelfMute())return!1;e.metaKey||e.ctrlKey||-1!==["PageDown","PageUp","Home","End"].indexOf(e.key)||i.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.TEXTAREA_FOCUS)}};t.default={TEXTAREA_FOCUS:s}},6356:function(e,t,n){"use strict";t.__esModule=!0,t.SUBMIT=void 0;var o=n(0),r=n(143),a=t.SUBMIT={binds:["return"],global:!1,action:function(){if(r.ComponentDispatch.hasSubscribers(o.ComponentActions.MODAL_SUBMIT))return r.ComponentDispatch.dispatch(o.ComponentActions.MODAL_SUBMIT),!1}};t.default={SUBMIT:a}},6357:function(e,t,n){"use strict";t.__esModule=!0,t.MENTION_PREV=t.MENTION_NEXT=t.UNREAD_PREV=t.UNREAD_NEXT=void 0;var o=s(n(7026)),r=s(n(6014)),a=s(n(363)),i=s(n(269)),l=s(n(950)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return(!i.default.isChannelMuted(e,t)||a.default.getMentionCount(t)>0)&&a.default.hasUnread(t)},f=t.UNREAD_NEXT={binds:["alt+shift+down"],global:!0,action:function(){var e=l.default.getGuildId()||u.ME;return(0,o.default)(1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}},c=t.UNREAD_PREV={binds:["alt+shift+up"],global:!0,action:function(){var e=l.default.getGuildId()||u.ME;return(0,o.default)(-1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}},p=function(e,t){return a.default.getMentionCount(t)>0},h=t.MENTION_NEXT={binds:["mod+shift+alt+down"],global:!0,action:function(){return(0,o.default)(1,p),!1},keyup:function(){return r.default.flushSelection(),!1}},_=t.MENTION_PREV={binds:["mod+shift+alt+up"],global:!0,action:function(){return(0,o.default)(-1,p),!1},keyup:function(){return r.default.flushSelection(),!1}};t.default={UNREAD_NEXT:f,UNREAD_PREV:c,MENTION_NEXT:h,MENTION_PREV:_}},6358:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_PREVIOUS_GUILD=t.CHANNEL_PREV=t.CHANNEL_NEXT=void 0;var o=d(n(6014)),r=d(n(65)),a=d(n(225)),i=d(n(7027)),l=n(6030),u=d(n(41)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=t.CHANNEL_NEXT={binds:["alt+down"],global:!0,action:function(){return(0,i.default)(),!1},keyup:function(){return o.default.flushSelection(),!1}},c=t.CHANNEL_PREV={binds:["alt+up"],global:!0,action:function(){return(0,i.default)(-1),!1},keyup:function(){return o.default.flushSelection(),!1}},p=t.TOGGLE_PREVIOUS_GUILD={binds:["mod+alt+right"],global:!0,action:function(){var e=void 0;if(a.default.getGuildId())e=s.ME;else{var t=a.default.getLastSelectedGuildId();t&&(e=t,(0,l.transitionToChannel)(t,r.default.getChannelId(t)))}if(null!=e){var n=r.default.getChannelId(e);u.default.transitionTo(n?s.Routes.CHANNEL(e,n):s.Routes.GUILD(e))}return!1}};t.default={CHANNEL_PREV:c,CHANNEL_NEXT:f,TOGGLE_PREVIOUS_GUILD:p}},6359:function(e,t,n){"use strict";t.__esModule=!0,t.SERVER_PREV=t.SERVER_NEXT=void 0;var o=a(n(6014)),r=a(n(7028));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.SERVER_NEXT={binds:["mod+alt+down","mod+shift+]","ctrl+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,r.default)(),!1},keyup:function(){return o.default.flushSelection(),!1}},l=t.SERVER_PREV={binds:["mod+alt+up","mod+shift+[","ctrl+shift+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,r.default)(-1),!1},keyup:function(){return o.default.flushSelection(),!1}};t.default={SERVER_NEXT:i,SERVER_PREV:l}},6360:function(e,t,n){"use strict";var o;t.__esModule=!0,t.DEFAULT_LAYOUT=void 0,t.getDefaultLayoutContent=function(){return[{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:P(l.KeybindActions.SERVER_PREV,l.KeybindActions.SERVER_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:P(l.KeybindActions.CHANNEL_PREV,l.KeybindActions.CHANNEL_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:P(l.KeybindActions.UNREAD_PREV,l.KeybindActions.UNREAD_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:P(l.KeybindActions.MENTION_CHANNEL_PREV,l.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:P(l.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:P(l.KeybindActions.MARK_SERVER_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:P(l.KeybindActions.MARK_CHANNEL_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_GUILD,binds:P(l.KeybindActions.CREATE_GUILD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:P(l.KeybindActions.QUICKSWITCHER_SHOW)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_DM_GROUP,binds:P(l.KeybindActions.CREATE_DM_GROUP),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PINS,binds:P(l.KeybindActions.TOGGLE_CHANNEL_PINS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MENTIONS,binds:P(l.KeybindActions.TOGGLE_MENTIONS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_USERS,binds:P(l.KeybindActions.TOGGLE_USERS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:P(l.KeybindActions.SEARCH_EMOJIS),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:P(l.KeybindActions.TOGGLE_MUTE)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:P(l.KeybindActions.TOGGLE_DEAFEN)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:P(l.KeybindActions.CALL_ACCEPT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:P(l.KeybindActions.MARK_CHANNEL_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:P(l.KeybindActions.CALL_START),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:P(l.KeybindActions.SCROLL_UP,l.KeybindActions.SCROLL_DOWN)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:P(l.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:P(l.KeybindActions.TEXTAREA_FOCUS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UPLOAD_FILE,binds:P(l.KeybindActions.UPLOAD_FILE)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_HELP,binds:P(l.KeybindActions.TOGGLE_HELP)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH,binds:P(l.KeybindActions.FOCUS_SEARCH)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG,binds:["h+h+right+n+k"]}]};var r,a=n(6),i=(r=a)&&r.__esModule?r:{default:r},l=n(0),u=n(6359),s=n(6358),d=n(6357),f=n(6356),c=n(6355),p=n(6153),h=n(6225),_=n(6354),E=n(7025),y=n(7024),g=n(6353),v=n(7023),m=n(7022),T=n(6352),I=n(6351),C=n(6349),S=n(7021),N=n(7020),A=n(7019),O=n(6347),b=n(6346),M=n(6345),R=n(7018),L=n(6414),D=n(6344),w=n(6343);function P(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=U[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var U=t.DEFAULT_LAYOUT=((o={})[l.KeybindActions.SERVER_NEXT]=u.SERVER_NEXT,o[l.KeybindActions.SERVER_PREV]=u.SERVER_PREV,o[l.KeybindActions.CHANNEL_NEXT]=s.CHANNEL_NEXT,o[l.KeybindActions.CHANNEL_PREV]=s.CHANNEL_PREV,o[l.KeybindActions.UNREAD_NEXT]=d.UNREAD_NEXT,o[l.KeybindActions.UNREAD_PREV]=d.UNREAD_PREV,o[l.KeybindActions.MENTION_CHANNEL_NEXT]=d.MENTION_NEXT,o[l.KeybindActions.MENTION_CHANNEL_PREV]=d.MENTION_PREV,o[l.KeybindActions.TOGGLE_PREVIOUS_GUILD]=s.TOGGLE_PREVIOUS_GUILD,o[l.KeybindActions.JUMP_TO_GUILD]=h.JUMP_TO_GUILD,o[l.KeybindActions.SUBMIT]=f.SUBMIT,o[l.KeybindActions.TEXTAREA_FOCUS]=c.TEXTAREA_FOCUS,o[l.KeybindActions.MARK_CHANNEL_READ]=p.MARK_CHANNEL_READ,o[l.KeybindActions.MARK_SERVER_READ]=_.MARK_SERVER_READ,o[l.KeybindActions.TOGGLE_CHANNEL_PINS]=E.TOGGLE_CHANNEL_PINS,o[l.KeybindActions.TOGGLE_MENTIONS]=y.TOGGLE_MENTIONS,o[l.KeybindActions.TOGGLE_USERS]=m.TOGGLE_USERS,o[l.KeybindActions.TOGGLE_HELP]=S.TOGGLE_HELP,o[l.KeybindActions.TOGGLE_MUTE]=O.TOGGLE_MUTE,o[l.KeybindActions.TOGGLE_DEAFEN]=O.TOGGLE_DEAFEN,o[l.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=w.TOGGLE_CATEGORY_COLLAPSED,o[l.KeybindActions.SCROLL_UP]=g.SCROLL_UP,o[l.KeybindActions.SCROLL_DOWN]=g.SCROLL_DOWN,o[l.KeybindActions.QUICKSWITCHER_SHOW]=L.QUICKSWITCHER_SHOW,o[l.KeybindActions.CREATE_DM_GROUP]=v.CREATE_DM_GROUP,o[l.KeybindActions.SEARCH_EMOJIS]=T.SEARCH_EMOJIS,o[l.KeybindActions.TOGGLE_HOTKEYS]=I.TOGGLE_HOTKEYS,o[l.KeybindActions.JUMP_TO_FIRST_UNREAD]=C.JUMP_TO_FIRST_UNREAD,o[l.KeybindActions.CREATE_GUILD]=N.CREATE_GUILD,o[l.KeybindActions.UPLOAD_FILE]=A.UPLOAD_FILE,o[l.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=b.RETURN_TO_AUDIO_CHANNEL,o[l.KeybindActions.CALL_ACCEPT]=M.CALL_ACCEPT,o[l.KeybindActions.CALL_START]=M.CALL_START,o[l.KeybindActions.FOCUS_SEARCH]=R.FOCUS_SEARCH,o[l.KeybindActions.ZOOM_IN]=D.ZOOM_IN,o[l.KeybindActions.ZOOM_OUT]=D.ZOOM_OUT,o[l.KeybindActions.ZOOM_RESET]=D.ZOOM_RESET,o);t.default=U},6363:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(0);var a=Math.pow(3,2),i=Object.freeze({DISABLED:0,DEFAULT:1,OFFSET:2}),l=Object.freeze({TOP:"TOP",BOTTOM:"BOTTOM",RIGHT:"RIGHT",LEFT:"LEFT"});function u(e,t,n,o,r){var a=e.top,i=e.bottom,l=e.left,u=e.right;if(null==a&&null==i?(a=0,i=n-r):null==a&&null!=i?a=n-(i+r):null!=a&&(i=n-(a+r)),null==l&&null==u?(l=0,u=t-o):null==l&&null!=u?l=t-(u+o):null==u&&null!=l&&(u=t-(l+o)),null==a||null==i||null==l||null==u)throw new Error("Logically this can never happen based on our if/else statements");return{top:a,left:l,bottom:i,right:u}}function s(e){return[null==e.bottom?l.TOP:l.BOTTOM,null==e.right?l.LEFT:l.RIGHT]}function d(e){var t=e.top,n=e.left,o=e.bottom,r=e.right;return 0===t||t<=o?o=null:t=null,0===n||n<=r?r=null:n=null,{top:t,left:n,bottom:o,right:r}}function f(e){var t=e.top,n=e.left,o=e.bottom,r=e.right;return o<0&&(t+=o,o=0),t<0&&(o+=t,t=0),r<0&&(n+=r,r=0),n<0&&(r+=n,n=0),{top:t,left:n,bottom:o,right:r}}function c(e){return null!=e?e+"px":"auto"}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));h.call(o);var r,a,i,l,u,d=s(n.initialPosition),f=d[0],c=d[1];return o.position=(r=n.initialPosition,a=r.top,i=r.left,l=r.bottom,u=r.right,null==i&&null==u&&(i=0),null!=i&&null!=u&&(u=null),null==a&&null==l&&(a=0),null!=a&&null!=l&&(l=null),{top:a,left:i,bottom:l,right:u}),o.state={dragging:!1,verticalOrientation:f,horizontalOrientation:c,atTopEdge:0===o.position.top},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.checkBounds(),this.setDOMPositions(this.position)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,o=n.verticalOrientation,r=n.horizontalOrientation,a=n.atTopEdge,i=this.props,l=i.maxX,u=i.maxY,s=i.onRelocated,d=i.snapOrientation;(e.maxX!==l||e.maxY!==u||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==o||t.horizontalOrientation!==r||t.atTopEdge!==a)&&this.checkBounds()},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.setDOMPositions=function(e){var t=e.top,n=e.left,o=e.bottom,r=e.right,a=this.draggableRef.current;this.position={top:t,left:n,bottom:o,right:r},null!=a&&(a.style.top=c(t),a.style.bottom=c(o),a.style.left=c(n),a.style.right=c(r))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=this.state,a=r.dragging,i=r.verticalOrientation,u=r.horizontalOrientation,s=r.atTopEdge,d=this.position,f=d.top,c=d.left,p=d.right,h=d.bottom,_={pointerEvents:a?"none":"auto",position:"absolute",top:f,left:c,bottom:h,right:p};return o.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:_},o.cloneElement(o.Children.only(t),{flipped:u===l.RIGHT,verticalFlipped:i===l.BOTTOM,checkBounds:this.checkBounds,atTopEdge:s}))},t}(o.PureComponent);p.FlipTypes=i,p.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:i.DISABLED,flipHorizontal:i.DISABLED,dragAnywhere:!1};var h=function(){var e=this;this.draggableRef=o.createRef(),this._dragStart={x:0,y:0},this.handleMouseDown=function(t){var n=e.position,o=n.top,a=n.left,i=n.bottom,l=n.right,s=e.props,d=s.dragAnywhere,f=s.selector,c=s.maxX,p=s.maxY,h=t.target,_=e.draggableRef.current;if(null!=_&&t.button===r.MouseButtons.PRIMARY&&(d||null!=h&&f&&null!=h.closest(f))){var E=function(e){var t=e.top;return{x:e.left,y:t}}(u({top:o,left:a,bottom:i,right:l},c,p,_.clientWidth,_.clientHeight)),y=E.x,g=E.y;e._dragStart={x:t.clientX,y:t.clientY},e._offsetX=t.clientX-y,e._offsetY=t.clientY-g,window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(t){t.preventDefault();var n=t.clientX,o=t.clientY,r=e.draggableRef.current,l=e.props,c=l.maxX,p=l.maxY,h=l.flipVertical,_=l.flipHorizontal,E=l.onDragStart,y=l.onDrag,g=l.onFlip,v=l.snapOrientation,m=e.state,T=m.dragging,I=m.dragging,C=m.verticalOrientation,S=m.horizontalOrientation,N=!1;if(!(null==r||!T&&(A=e._dragStart,O={x:n,y:o},b=A.x,M=A.y,R=O.x,L=O.y,Math.pow(b-R,2)+Math.pow(M-L,2)<a))){var A,O,b,M,R,L;T=!0;var D=r.clientWidth,w=r.clientHeight,P=f(u({top:o-e._offsetY,left:n-e._offsetX},c,p,D,w));if(v){var U=s(P=d(P));C=U[0],S=U[1]}else P={top:P.top,left:P.left};_===i.OFFSET&&S!==e.state.horizontalOrientation&&(e._offsetX=D-e._offsetX,N=!0),h===i.OFFSET&&C!==e.state.verticalOrientation&&(e._offsetY=w-e._offsetY,N=!0),e.setDOMPositions(P),I||E&&E(P,r),y&&y(P,r),N&&g&&g([C,S]),e.setState({dragging:T,verticalOrientation:C,horizontalOrientation:S,atTopEdge:0===P.top})}},this.handleMouseUp=function(){window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),e.state.dragging&&e.setState({dragging:!1},function(){var t=e.props.onDragEnd,n=e.draggableRef.current;null!=n&&null!=t&&t(e.position,n)})},this._checkBoundsRAF=null,this.checkBounds=function(){null!=e._checkBoundsRAF&&cancelAnimationFrame(e._checkBoundsRAF),e._checkBoundsRAF=requestAnimationFrame(e._performCheckBounds)},this._performCheckBounds=function(){var t=e.position,n=e.state,o=e.draggableRef.current,r=e.props,a=r.maxX,i=r.maxY,l=r.onRelocated,c=r.snapOrientation,p=e.state,h=p.verticalOrientation,_=p.horizontalOrientation;if(null!=o){var E=o.clientHeight,y=u(t,a,i,o.clientWidth,E);y=f(y);var g=void 0;if(c){var v=s(g=d(y));h=v[0],_=v[1]}else g={top:y.top,left:y.left,right:null,bottom:null};if(t.left!==g.left||t.right!==g.right||t.top!==g.top||t.bottom!==g.bottom){l&&l(g,o),e.setDOMPositions(g);var m=0===g.top;h===n.verticalOrientation&&_===n.horizontalOrientation&&m===n.atTopEdge||e.setState({verticalOrientation:h,horizontalOrientation:_,atTopEdge:m})}}}};t.default=p,e.exports=t.default},6366:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=d(n(142)),u=d(n(7051)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=((r={})[s.RTCConnectionQuality.UNKNOWN]=l.default.Colors.BLACK,r[s.RTCConnectionQuality.BAD]=l.default.Colors.RED,r[s.RTCConnectionQuality.AVERAGE]=l.default.Colors.YELLOW,r[s.RTCConnectionQuality.FINE]=l.default.Colors.GREEN,r),c=a("span",{className:"ping"}),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.quality,n=e.lastPing,o=e.state,r=e.hasVideo,i=e.className,d=void 0;o===s.RTCConnectionStates.RTC_CONNECTED&&(d=c,t!==s.RTCConnectionQuality.UNKNOWN&&null!=n&&(d=a(l.default,{text:n.toFixed(0)+" ms",color:f[t]},void 0,d)));var p=u.default.getStatus(o,r),h=p.connectionStatus,_=p.connectionStatusText;return a("div",{className:"rtc-connection-status\n                       rtc-connection-status-"+h+"\n                       rtc-connection-quality-"+t+" "+(i||"")},void 0,d,_)},t}(i.PureComponent);t.default=p,e.exports=t.default},6367:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_OPEN,section:e}),(0,i.pushLayer)(l.Layers.RTC_DEBUG)},t.close=function(){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_CLOSE}),(0,i.popLayer)()},t.setSection=function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_SET_SECTION,section:e})};var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(270),l=n(0)},6369:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=E(n(1)),i=_(n(6)),l=n(6368),u=_(n(163)),s=_(n(58)),d=_(n(523)),f=E(n(6367)),c=n(0),p=n(100),h=_(n(5730));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=r(l.SparklinesLine,{}),v=r(l.SparklinesReferenceLine,{type:"mean"}),m=r("hr",{}),T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return n=o=y(this,e.call.apply(e,[this].concat(s))),o.openDebugPanel=function(){var e=o.props.onClose;e&&e(),f.open()},o.renderVoiceConnected=function(){var e=o.props,t=e.pings,n=e.hostname,u=e.averagePing,s=e.lastPing,d=e.outboundLossRate,f=null!=d?i.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_RATE:i.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED;return r(a.Fragment,{},void 0,r("div",{className:h.default.sparkline},void 0,r(l.Sparklines,{data:t,width:210,height:30},void 0,g,v)),f.format({hostname:n.split(".")[0],badPing:250,averagePing:u.toFixed(0),lastPing:(s||0).toFixed(0),outboundLossRate:(d||0).toFixed(1),badLossRate:10}))},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props.connectionState,n=(e={},e[c.RTCConnectionStates.AWAITING_ENDPOINT]=i.default.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:c.STATUS_PAGE_ENDPOINT}),e[c.RTCConnectionStates.CONNECTING]=i.default.Messages.RTC_CONNECTION_STATE_CONNECTING,e[c.RTCConnectionStates.AUTHENTICATING]=i.default.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,e[c.RTCConnectionStates.DISCONNECTED]=i.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e[c.RTCConnectionStates.RTC_CONNECTING]=i.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,e[c.RTCConnectionStates.ICE_CHECKING]=i.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:d.default.getArticleURL(c.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[c.RTCConnectionStates.RTC_CONNECTED]=this.renderVoiceConnected,e[c.RTCConnectionStates.NO_ROUTE]=i.default.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:d.default.getArticleURL(c.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[c.RTCConnectionStates.RTC_DISCONNECTED]=i.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e)[t];return r("div",{className:h.default.container},void 0,r("header",{},void 0,i.default.Messages.RTC_CONNECTION),r("section",{},void 0,"function"==typeof n?n():r("p",{},void 0,n),m,r("div",{className:h.default.popoutBottom},void 0,r("span",{className:h.default.secured},void 0,i.default.Messages.IP_ADDRESS_SECURED),s.default.supports(p.Features.DIAGNOSTICS)&&!__OVERLAY__&&r(u.default,{className:h.default.debugButton,onClick:this.openDebugPanel},void 0,i.default.Messages.DEBUG))))},t}(a.PureComponent);t.default=T,e.exports=t.default},6370:function(e,t,n){"use strict";t.__esModule=!0,t.LinkButton=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(9)),u=n(264),s=S(n(189)),d=S(n(6)),f=S(n(947)),c=S(n(164)),p=S(n(67)),h=S(n(40)),_=S(n(79)),E=S(n(942)),y=S(n(7054)),g=n(33),v=n(113),m=S(n(38)),T=S(n(146)),I=S(n(5732)),C=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.LinkButton=function(e){function t(){return N(this,t),A(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){var e,t=this.props,n=t.route,o=t.selected,r=t.iconName,i=t.text,s=t.children,d=t.locationState;return a("div",{className:(0,l.default)((e={},e[I.default.channel]=!0,e[I.default.selected]=o,e))},void 0,a(u.Link,{to:{pathname:n,state:d}},void 0,a(_.default,{name:r,className:I.default.linkButtonIcon}),a("div",{className:I.default.name},void 0,i),s))},t}(i.Component);var b=function(e){function t(){var n,o;N(this,t);for(var l=arguments.length,u=Array(l),f=0;f<l;f++)u[f]=arguments[f];return n=o=A(this,e.call.apply(e,[this].concat(u))),o.state={animated:new s.default.Value(1)},o.handleClose=function(e){null!=e&&(e.preventDefault(),e.stopPropagation());var t=o.props.channel;T.default.closePrivateChannel(t.id,o.props.selected)},o.handleContextMenu=function(e){var t=o.props,n=t.channel,a=t.selected,l=t.user;n.type===C.ChannelTypes.GROUP_DM?(0,g.openContextMenu)(e,function(e){return i.createElement(y.default,r({},e,{channelId:n.id,selected:a}))},{noBlurEvent:!0}):(0,g.openContextMenu)(e,function(e){return i.createElement(E.default,r({},e,{type:C.ContextMenuTypes.USER_PRIVATE_CHANNELS,user:l,channelId:n.id,selected:a}))})},o.handleLeaveGroup=function(e){e.preventDefault(),e.stopPropagation();var t=o.props.channel,n=t.toString(),l=d.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:n}),u=d.default.Messages.LEAVE_GROUP_DM_BODY.format({name:n});t.isManaged()&&(l=d.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:n}),u=d.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:n})),m.default.push(function(e){return i.createElement(c.default,r({header:l,confirmText:d.default.Messages.LEAVE_GROUP_DM,cancelText:d.default.Messages.CANCEL,onConfirm:o.handleClose},e),a(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,u))})},o.handleMouseDown=function(){T.default.preload(C.ME,o.props.channel.id)},A(o,n)}return O(t,e),t.prototype.componentWillEnter=function(e){this.state.animated.setValue(0),s.default.timing(this.state.animated,{toValue:1,duration:200}).start(e)},t.prototype.componentWillLeave=function(e){s.default.timing(this.state.animated,{toValue:0,duration:200}).start(e)},t.prototype.renderActivity=function(e){return a(h.default,{className:I.default.activity,align:h.default.Align.CENTER},void 0,a("div",{className:I.default.activityText},void 0,(0,v.renderActivity)(e)),(0,v.hasRichActivity)(e)&&a(_.default,{name:_.default.Names.RICH_ACTIVITY,className:I.default.activityIcon,foreground:I.default.activityIconForeground}))},t.prototype.renderChannelName=function(){var e=this.props,t=e.channel,n=e.activity;if(t.type===C.ChannelTypes.GROUP_DM){var o=d.default.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1});return a("div",{className:I.default.name},void 0,t.toString(),a("div",{className:I.default.activity},void 0,o))}return null!=n?a("div",{className:I.default.name},void 0,t.toString(),this.renderActivity(n)):a("span",{className:I.default.name},void 0,t.toString())},t.prototype.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,o=e.status,r=e.activity,i=e.typing;return t.type===C.ChannelTypes.GROUP_DM?a(f.default,{channel:t,theme:C.ThemeTypes.DARK}):a(f.default,{user:n,status:o,streaming:(0,v.isStreaming)(r),typing:i,theme:C.ThemeTypes.DARK,className:I.default.avatar,statusClassName:I.default.status})},t.prototype.render=function(){var e,t=this.props,n=t.channel,o=t.selected,r=void 0;r=n.type===C.ChannelTypes.GROUP_DM?this.handleLeaveGroup:this.handleClose;var d={height:this.state.animated.interpolate({inputRange:[0,1],outputRange:[0,42]}),opacity:this.state.animated};return i.createElement(s.default.div,{className:(0,l.default)((e={},e[I.default.channel]=!0,e[I.default.selected]=o,e)),style:d,key:n.id,ref:n.id,onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown},a(u.Link,{to:C.Routes.CHANNEL(C.ME,n.id)},void 0,this.renderAvatar(),this.renderChannelName(),a("button",{className:I.default.close,onClick:r})))},t}(i.PureComponent);b.defaultProps={selected:!1},t.default=b},6371:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(521)),u=_(n(6213)),s=_(n(265)),d=_(n(543)),f=_(n(5995)),c=_(n(275)),p=n(0),h=_(n(5734));function _(e){return e&&e.__esModule?e:{default:e}}var E=100,y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.scrollerRef=i.createRef(),o.handleScroll=(0,u.default)(function(){var e=o.scrollerRef.current;null!=e&&f.default.updateChannelListScroll(p.ME,e.getScrollerNode().scrollTop)},E),o.state={initialized:!1,preRenderedChildren:i.Children.count(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return{preRenderedChildren:i.Children.count(e.children)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t)},t.prototype.shouldComponentUpdate=function(e){return!(0,c.default)(this.props,e,["channels","children"])},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.selectedChannelId,o=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&o!==e.homeLink&&this.scrollToChannel(null)},t.prototype.scrollToChannel=function(e){var t=this.scrollerRef.current;if(null!=t){var n=this.props.padding,o=this.state.preRenderedChildren,r=this.props.privateChannelIds.indexOf(e),a=0;r<0||null==e?t.scrollTo(a):(a+=42*(r+o)+n,t.scrollIntoViewRect(Math.max(a-8,0),a+42+8,!1))}},t.prototype.render=function(){var e=this.props,t=e.selectedChannelId,n=e.privateChannelIds,o=e.renderChannel,u=e.padding,f=e.renderEmptyState,c=e.channels,h=i.Children.toArray(this.props.children),_=h.length;n.forEach(function(e){var n=c[e];null!=n&&h.push(o(n,t===e))});var E={theme:d.default.Themes.GHOST_HAIRLINE,backgroundColor:p.Colors.PRIMARY_630,fade:!0,ref:this.scrollerRef,onScroll:this.handleScroll};return h.length===_?(h.push(f("no-private-channels")),i.createElement(s.default,a({},E,{style:{paddingTop:u,paddingBottom:8}}),h)):h.length>30?i.createElement(d.default,a({},E,{elementHeight:42,batchEndMultiplier:1.3,track:!1,backgroundColor:p.Colors.PRIMARY_630,paddingTop:u,paddingBottom:8}),h):i.createElement(s.default,a({},E,{style:{paddingTop:u,paddingBottom:8}}),r(l.default,{transitionAppear:!1},void 0,h))},t}(i.Component);y.defaultProps={padding:20,renderEmptyState:function(e){return r("div",{className:h.default.empty},e)}},t.default=y,e.exports=t.default},6374:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(3)),u=p(n(31)),s=p(n(229)),d=p(n(6373)),f=p(n(40)),c=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(0);var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(a))),o.handleDisagree=function(){var e=o.props.guild;s.default.nsfwDisagree(e.id)},o.handleAgree=function(){var e=o.props.guild;s.default.nsfwAgree(e.id)},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r(f.default,{className:(0,i.default)("theme-"+this.props.theme,this.props.className),justify:f.default.Justify.CENTER},void 0,r(d.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:c.default.Messages.NSFW_TITLE,description:c.default.Messages.NSFW_DESCRIPTION,agreement:c.default.Messages.NSFW_ACCEPT,disagreement:c.default.Messages.NSFW_DECLINE}))},t}(a.PureComponent);t.default=l.default.connectStores([u.default],function(){return{theme:u.default.theme}})(_),e.exports=t.default},6376:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(2),a=(o=r)&&o.__esModule?o:{default:o},i=n(0);t.default={toggleSection:function(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_TOGGLE_SECTION,section:e})}},e.exports=t.default},6380:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(3)),l=d(n(60)),u=(d(n(124)),d(n(5586))),s=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.nicknames;return 0===e.length?r("div",{className:u.default.noTopic}):r("div",{className:u.default.topic},void 0,r("span",{className:u.default.aka},void 0,s.default.Messages.AKA),e)},t}(a.PureComponent);t.default=i.default.connectStores([l.default],function(e){var t=e.channel.getRecipientId();return{nicknames:null!=t?l.default.getNicknames(t).join(", "):""}})(f),e.exports=t.default},6382:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=U(n(8)),l=U(n(9)),u=U(n(3)),s=U(n(191)),d=U(n(225)),f=U(n(31)),c=U(n(286)),p=(U(n(124)),U(n(12))),h=U(n(1e3)),_=U(n(976)),E=U(n(59)),y=U(n(236)),g=U(n(112)),v=U(n(27)),m=U(n(7124)),T=U(n(7123)),I=U(n(6)),C=U(n(957)),S=n(0),N=U(n(20)),A=n(113),O=U(n(5756)),b=U(n(79)),M=U(n(142)),R=U(n(5)),L=n(143),D=U(n(189)),w=n(196),P=n(532);function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=[],F=function(e){function t(){var n,o;G(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=H(this,e.call.apply(e,[this].concat(a))),o.state={fadeIn:!1},o.timeout=null,o.handleDismissInviteEducation=function(){var e=o.props.activity;null!=e&&null!=e.application_id&&T.default.dismissForApplicationId(e.application_id)},H(o,n)}return k(t,e),t.prototype.componentDidMount=function(){var e=this;this.timeout=setTimeout(function(){e.setState({fadeIn:!0}),e.timeout=null,e.logShownEventIfNeeded()},100)},t.prototype.componentDidUpdate=function(){this.logShownEventIfNeeded()},t.prototype.logShownEventIfNeeded=function(){var e=this.props.activity.application_id;null!=e&&-1===x.indexOf(e)&&(N.default.track(S.AnalyticEvents.SHOW_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e}),x.push(e))},t.prototype.componentWillUnmount=function(){null!==this.timeout&&clearTimeout(this.timeout)},t.prototype.render=function(){var e=this,t=this.props.activity;return r(P.BackgroundOpacityContext.Consumer,{},void 0,function(n){var o;return r("div",{className:(0,l.default)(O.default.typing,O.default.activityInviteEducation,O.default[n.backgroundOpacity+"BackgroundOpacity"],(o={},o[O.default.activityInviteEducationFadeIn]=e.state.fadeIn,o))},void 0,r("div",{className:O.default.activityInviteEducationArrow}),r("span",{},void 0,I.default.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:t.name,dismissOnClick:e.handleDismissInviteEducation})))})},t}(a.PureComponent),j=function(e){function t(n){G(this,t);var o=H(this,e.call(this,n));return o.emphasizeSlowmodeCooldown=function(){var e=o.state.color;D.default.sequence([D.default.timing(e,{toValue:1,duration:100,easing:D.default.Easing.quad}),D.default.timing(e,{delay:250,toValue:0,duration:100,easing:D.default.Easing.quad})]).start()},o.state={color:new D.default.Value(0)},o}return k(t,e),t.prototype.componentDidMount=function(){L.ComponentDispatch.subscribe(S.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},t.prototype.componentWillUnmount=function(){L.ComponentDispatch.unsubscribe(S.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},t.prototype.getCooldownTextStyle=function(){var e=this.props.theme,t=this.state.color,n=S.Colors.WHITE;return e===S.ThemeTypes.LIGHT&&(n=S.Colors.PRIMARY_500),{color:t.interpolate({inputRange:[0,1],outputRange:[n,(0,w.hex2rgb)(S.Colors.STATUS_RED_500,.9)]})}},t.prototype.render=function(){var e=this,t=this.props,n=t.guildId,o=t.activity,a=t.showInviteEducation,u=t.isFocused,s=t.typingUsers,d=t.className,f=t.slowmodeCooldownGuess,h=p.default.getCurrentUser(),_=this.props.channel.rateLimitPerUser>0,y=(0,i.default)(s).keys().filter(function(e){return e!==h.id}).reject(E.default.isBlocked).map(function(e){return p.default.getUser(e)}).filter(function(e){return null!=e}).map(function(t){return c.default.getName(n,e.props.channel.id,t)}).value();if(0===y.length&&!_)return a&&null!=o?r(F,{activity:o,isFocused:u}):null;var v="",m=null,T="";if(_){m=r(b.default,{name:b.default.Names.TIMER,className:O.default.slowModeIcon});var N=g.default.can(S.Permissions.MANAGE_CHANNELS,this.props.channel)||g.default.can(S.Permissions.MANAGE_MESSAGES,this.props.channel);T=I.default.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:this.props.channel.rateLimitPerUser}),!N&&f>0?v=(0,R.default)(f).format("mm:ss"):0===y.length&&(v=N?I.default.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:I.default.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}var A=y[0],L=y[1],w=y[2],P=void 0;return P=0===y.length?"":1===y.length?I.default.Messages.ONE_USER_TYPING.format({a:A}):2===y.length?I.default.Messages.TWO_USERS_TYPING.format({a:A,b:L}):3===y.length?I.default.Messages.THREE_USERS_TYPING.format({a:A,b:L,c:w}):I.default.Messages.SEVERAL_USERS_TYPING,r("div",{className:(0,l.default)(O.default.typing,{"stop-animation":!u},d)},void 0,y.length>0&&r(C.default,{type:"pulsing-ellipsis",className:O.default.ellipsis}),r("span",{className:O.default.text},void 0,P),_&&r(D.default.div,{style:this.getCooldownTextStyle(),className:O.default.cooldownWrapper},void 0,v,r(M.default,{text:T},void 0,m)))},t}(a.PureComponent);t.default=u.default.connectStores([h.default,_.default,s.default,d.default,y.default,g.default,v.default,m.default,f.default],function(e){var t=e.channel,n=y.default.getPrimaryActivity();return{showInviteEducation:(0,A.shouldShowActivityInviteEducation)(t,n,m.default,g.default,v.default),activity:n,typingUsers:_.default.getTypingUsers(t.id),isFocused:s.default.isFocused(),guildId:d.default.getGuildId(),slowmodeCooldownGuess:h.default.getSlowmodeCooldownGuess(t.id),theme:f.default.theme}})(j),e.exports=t.default},6383:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5587));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.children,n=e.className;return r("div",{className:(0,a.default)(n||i.default.default,i.default.base)},void 0,t)},e.exports=t.default},6384:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=F(n(8)),u=F(n(9)),s=n(6604),d=F(n(966)),f=F(n(7128)),c=F(n(6383)),p=F(n(12)),h=F(n(271)),_=F(n(7127)),E=F(n(547)),y=F(n(6088)),g=F(n(31)),v=F(n(972)),m=F(n(125)),T=F(n(112)),I=F(n(363)),C=(F(n(124)),n(6129)),S=F(n(145)),N=F(n(5995)),A=F(n(6612)),O=F(n(6069)),b=n(533),M=F(n(41)),R=n(6107),L=n(143),D=F(n(6)),w=n(7126),P=F(n(3)),U=F(n(5));n(7125);var G=F(n(5757)),H=F(n(5587)),k=n(0),x=F(n(276));function F(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K=100,W=20,Y=function(e){function t(){var n,o;j(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=B(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(){var e=o.props,t=e.onReveal,n=e.revealed,r=e.messageGroups;t(n?null:r[0].content[0].id)},B(o,n)}return V(t,e),t.prototype.render=function(){var e=this,t=this.props.revealed,n=[],o=0;return this.props.messageGroups.forEach(function(t){var r=t.content;o+=r.length,n.push(i.createElement(O.default,a({key:r[0].id,messages:r,hasDivider:!1},e.props)))}),r(w.BlockedMessageGroup,{className:G.default.messageGroupBlocked,revealed:t,count:o,onClick:this.handleClick},void 0,n)},t}(i.Component);Y.defaultProps={canManageMessages:!1,compact:!1};var $=function(e){function t(){return j(this,t),B(this,e.apply(this,arguments))}return V(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.channel,o=e.user;return r(O.default,{messageOption:!1,canEdit:!1,channel:n,messages:[new x.default({id:t.id,key:"pending-upload-"+t.id,type:k.MessageTypes.DEFAULT,author:o,channel_id:n.id,contentParsed:r(s.AttachmentUpload,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.size,onCancelUpload:function(){A.default.cancel(t)}})})]})},t}(i.Component),z=r(w.JumpToPresentBar,{}),X=function(e){function t(n){var o;j(this,t);var r=B(this,e.call(this,n));return r._mounted=!1,r._jumpTargetIndex=null,r._loadMoreScrollToNewMessages=!1,r._newMessagesBar=null,r._jumpTarget=null,r._subscriptions=((o={})[k.ComponentActions.CHAT_RESIZE]=function(){return r.handleResize()},o[k.ComponentActions.SCROLLTO_PRESENT]=function(){return r.scrollToBottom()},o[k.ComponentActions.SCROLL_PAGE_UP]=function(){return r.scrollPageUp(!0)},o[k.ComponentActions.SCROLL_PAGE_DOWN]=function(){return r.scrollPageDown(!0)},o),r.state={scrollingToJump:!1},r.registerMessageDOMNode=function(e,t){r.props.messages.jumpTargetId===e&&(r._jumpTarget=t)},r.jumpToPresent=function(){if(!r.props.messages.loadingMore){var e=r.props.channel;S.default.jumpToPresent(e.id,k.MAX_MESSAGES_PER_CHANNEL),M.default.transitionToGuild(e.getGuildId()||k.ME,e.id)}},r.handleFullscreenChange=function(){var e=r._scroller,t=r.props.dimensions;null!=e&&(e.invalidateScrollerState(),(0,R.isFullScreen)()||(null!=t?r.scrollTo(t.scrollTop):r.scrollToBottom()))},r.handleLoadMore=function(){var e=r._scroller,t=r.props.dimensions;r.isAtBottom()||null==t||null==e||(r.scrollTo(e.getScrollData().scrollHeight-t.scrollHeight),r._loadMoreScrollToNewMessages&&r.scrollToNewMessages(!0))},r.handleMessageUpdate=function(e){var t=r._scroller,n=r.props.dimensions;if(null!=t){t.invalidateScrollerState();var o=t.getScrollData();e.offsetTop<o.scrollTop+o.offsetHeight&&(r.isAtCachedBottom()?r.scrollToBottom():null!=n&&r.scrollBy(o.scrollHeight-n.scrollHeight))}},r.handleMessageEdit=function(e){var t=r._scroller;if(null!=t){t.invalidateScrollerState();var n=t.getScrollData();e.offsetTop<n.scrollTop+W&&r.scrollTo(e.offsetTop-W),n=t.getScrollData();var o=e.offsetTop+e.offsetHeight-n.scrollTop-n.offsetHeight+W;o>0&&r.scrollBy(o)}},r.handleResize=function(){var e=r._scroller;null!=e&&r.isAtCachedBottom()&&(e.invalidateScrollerState(),r.scrollToBottom())},r.handleScroll=l.default.debounce(function(){var e=r._scroller,t=r.props,n=t.messages,o=t.channel;if(r._mounted&&null!=e&&!(0===n.length&&n.loadingMore||(0,R.isFullScreen)())){var a=e.getScrollData();0===a.scrollTop&&a.scrollHeight>a.offsetHeight&&n.hasMoreBefore&&!n.loadingMore&&r.loadMore(),a.scrollHeight<=a.scrollTop+a.offsetHeight+2?n.hasMoreAfter&&!n.loadingMore?r.loadMore(!0):n.hasMoreAfter||N.default.clearChannelDimensions(o.id):N.default.updateChannelDimensions(o.id,a.scrollTop,a.scrollHeight,a.offsetHeight)}},K),r.handleScrollToNewMessages=function(){var e=r.props.channel,t=I.default.ackMessageId(e.id);null!=t&&S.default.jumpToMessage(e.id,t,!1,"Mark As Read")},r.handleAck=function(){(0,C.ack)(r.props.channel.id)},r.handleReveal=function(e){S.default.revealMessage(r.props.channel.id,e)},r.setScrollerRef=function(e){r._scroller=e},Object.keys(r._subscriptions).forEach(function(e){return L.ComponentDispatch.subscribe(e,r._subscriptions[e])}),r}return V(t,e),t.prototype.componentDidMount=function(){this._mounted=!0,this.restoreScroll(),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange)},t.prototype.componentWillUnmount=function(){var e=this;Object.keys(this._subscriptions).forEach(function(t){return L.ComponentDispatch.unsubscribe(t,e._subscriptions[t])}),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange),this._mounted=!1},t.prototype.shouldComponentUpdate=function(e){return!!e.isVisible&&(this.props.isVisible!==e.isVisible||(this.props.className!==e.className||this.props.messages!==e.messages||this.props.uploads!==e.uploads||this.props.unreadCount!==e.unreadCount||this.props.oldestUnreadMessageId!==e.oldestUnreadMessageId||this.props.channel!==e.channel||this.props.inlineAttachmentMedia!==e.inlineAttachmentMedia||this.props.inlineEmbedMedia!==e.inlineEmbedMedia||this.props.gifAutoPlay!==e.gifAutoPlay||this.props.renderEmbeds!==e.renderEmbeds||this.props.renderReactions!==e.renderReactions||this.props.developerMode!==e.developerMode||this.props.messageDisplayCompact!==e.messageDisplayCompact||this.props.canChat!==e.canChat||this.props.permissionVersion!==e.permissionVersion||this.props.isScaled!==e.isScaled||this.props.backgroundOpacity!==e.backgroundOpacity))},t.prototype.scrollToJumpTarget=function(e,t){var n=this,o=this._newMessagesBar,r=this._jumpTarget,a=this._scroller;if(null!=a){if(!r)return null!=o?void this.scrollToNewMessages(!0):void console.warn("Got a jump target request but the ref was not found in the channel");if(null!=r&&r instanceof HTMLElement){var i=a.getScrollData(),l=r.offsetTop-.5*i.offsetHeight+.5*r.offsetHeight,u=t.jumpTargetId;if(t.last()!==e.last()&&t.first()!==e.first()&&null!=u){var s=t.get(u),d=e.first();null!=d&&null!=s&&s.timestamp.isBefore(d.timestamp)?a.scrollTo(i.scrollHeight-i.offsetHeight-100):a.scrollTo(100)}var f=t.jumpTargetId;this.setState({scrollingToJump:!0},function(){a.scrollTo(l,!0,function(){n.props.messages.jumpTargetId===f&&n.setState({scrollingToJump:!1})})})}}},t.prototype.componentDidUpdate=function(e){var t=e.messages,n=this._scroller,o=this.props,r=o.channel,a=o.messages,i=o.inlineAttachmentMedia,l=o.inlineEmbedMedia,u=o.renderEmbeds,s=o.messageDisplayCompact,d=o.uploads,f=o.isVisible,c=a.last();if(null!==a.jumpTargetId&&t.jumpSequenceId!==a.jumpSequenceId)this.scrollToJumpTarget(t,a);else if(a.jumpedToPresent&&t.jumpSequenceId!==a.jumpSequenceId)this.scrollTo(100),this.scrollToBottom(!0);else if(i!==e.inlineAttachmentMedia||l!==e.inlineEmbedMedia||u!==e.renderEmbeds)this.scrollToBottom();else if(d.length>e.uploads.length)this.scrollToBottom();else if(s!==e.messageDisplayCompact&&this.isAtCachedBottom())this.scrollToBottom();else if(!e.isVisible&&f&&c!==this.lastVisibleMessage)this.restoreScroll();else if(c!==e.messages.last()){if(e.messages.loadingMore)if(0===e.messages.length)this.restoreScroll();else{if(null!=n){var p=n.getScrollData();N.default.updateChannelDimensions(r.id,p.scrollTop,p.scrollHeight,p.offsetHeight)}S.default.truncateMessages(this.props.channel.id,!1,!0)}else if(!this.props.messages.hasMoreAfter){var h=this.props.messages.last();(h&&h.state===k.MessageStates.SENDING||this.isAtCachedBottom())&&this.scrollToBottom()}}else if(this.props.messages.first()!==e.messages.first())if(e.messages.loadingMore){if(this.handleLoadMore(),null!=n){var _=n.getScrollData();N.default.updateChannelDimensions(this.props.channel.id,_.scrollTop,_.scrollHeight,_.offsetHeight)}S.default.truncateMessages(this.props.channel.id,!0,!1)}else e.dimensions&&null!=n&&this.scrollTo(e.dimensions.scrollTop-(e.dimensions.scrollHeight-n.getScrollData().scrollHeight));f&&(this.lastVisibleMessage=c)},t.prototype.render=function(){var e=this,t=this.props,n=t.messages,o=t.canChat,l=t.channel,s=t.isDefaultChannel,h=t.backgroundOpacity,_=t.className,E=p.default.getCurrentUser(),y=T.default.can(k.Permissions.MANAGE_MESSAGES,this.props.channel),g=o&&T.default.can(k.Permissions.ADD_REACTIONS,this.props.channel),v=this.createChannelStream(n),m=v.map(function(t,u){if(t.type===k.ChannelStreamTypes.DIVIDER_TIME_STAMP)return r(w.Divider,{className:G.default.divider,backgroundOpacity:h},u,t.content);if(t.type===k.ChannelStreamTypes.DIVIDER_NEW_MESSAGES)return r(w.Divider,{className:G.default.divider,setElementRef:function(t){return e._newMessagesBar=t},red:!0,backgroundOpacity:h},u,t.content);var s={compact:e.props.messageDisplayCompact,channel:l,canManageMessages:y,canAddNewReactions:g,canChat:o,inlineAttachmentMedia:e.props.inlineAttachmentMedia,inlineEmbedMedia:e.props.inlineEmbedMedia,gifAutoPlay:e.props.gifAutoPlay,renderEmbeds:e.props.renderEmbeds,renderReactions:e.props.renderReactions,developerMode:e.props.developerMode,onEdit:e.handleMessageEdit,onUpdate:e.handleMessageUpdate};if(t.type===k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED)return i.createElement(Y,a({key:u,revealed:t.content[0].content[0].id===n.revealedMessageId,messageGroups:t.content,onReveal:e.handleReveal},s));var d=u!==v.length-1&&(v[u+1].type===k.ChannelStreamTypes.DIVIDER_TIME_STAMP||v[u+1].type===k.ChannelStreamTypes.DIVIDER_NEW_MESSAGES||v[u+1].type===k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED),f=t.type===k.ChannelStreamTypes.JUMP_TARGET&&n.jumpTargetId?{registerMessageDOMNode:e.registerMessageDOMNode,jumpSequenceId:n.jumpSequenceId,jumpMessageId:n.jumpTargetId,canFlash:n.jumpFlash}:null;return i.createElement(O.default,a({key:t.content[0].id,messages:t.content,hasDivider:d},s,f))});if(this.props.uploads.forEach(function(e){m.push(r($,{file:e,channel:l,user:E},"upload-"+e.id))}),n.loadingMore?(n.hasMoreBefore&&m.unshift(i.createElement(w.LoadingMore,{key:"loading-more",ref:"loading-more"})),n.hasMoreAfter&&m.push(i.createElement(w.LoadingMore,{key:"loading-more-after",ref:"loading-more"}))):n.hasMoreBefore&&m.unshift(r(w.HasMore,{onClick:function(){return e.loadMore(!1)}},"has-more")),!n.hasMoreBefore){var C=this.props.channel;this.props.channel.type===k.ChannelTypes.DM?m.unshift(r(c.default,{},"empty-message",r("h1",{},void 0,D.default.Messages.BEGINNING_DM.format({username:C.toString()})))):this.props.channel.type===k.ChannelTypes.GROUP_DM?this.props.channel.isManaged()?m.unshift(r(c.default,{},"empty-message",r("h1",{},void 0,D.default.Messages.BEGINNING_GROUP_DM_MANAGED))):m.unshift(r(c.default,{},"empty-message",r("h1",{},void 0,D.default.Messages.BEGINNING_GROUP_DM.format({name:C.toString()})))):T.default.can(k.Permissions.READ_MESSAGE_HISTORY,C)?s?m.unshift(r(f.default,{channel:C},"welcome-message")):m.unshift(r(c.default,{},"empty-message",r("h1",{},void 0,D.default.Messages.BEGINNING_CHANNEL.format({channelName:C.toString()})))):m.unshift(r("div",{className:(0,u.default)(H.default.base,H.default.default)},"empty-message",r("h1",{},void 0,D.default.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:C.toString()}))))}!n.loadingMore&&n.hasMoreAfter&&m.push(r(w.HasMore,{onClick:function(){return e.loadMore(!0)}},"has-more-after"));var S=void 0;if(this.props.unreadCount>0){var N=I.default.getOldestUnreadTimestamp(this.props.channel.id),A=void 0,M=(0,b.isSameDay)((0,U.default)(),(0,U.default)(new Date(N)));A=I.default.isEstimated(this.props.channel.id)?M?D.default.Messages.NEW_MESSAGES_ESTIMATED:D.default.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE:M?D.default.Messages.NEW_MESSAGES:D.default.Messages.NEW_MESSAGES_WITH_DATE,S=r(w.NewMessagesBar,{content:A.format({count:this.props.unreadCount,timestamp:N}),onScrollTo:this.handleScrollToNewMessages,onAck:this.handleAck})}var R=void 0;return this.props.messages.hasMoreAfter&&(R=this.props.messages.loadingMore&&this.props.messages.jumpedToPresent?z:r(w.JumpToPresentBar,{onClick:this.jumpToPresent})),r("div",{className:(0,u.default)(G.default.messagesWrapper,_)},void 0,S,r(d.default,{setRef:this.setScrollerRef,className:G.default.messages,outerClassName:G.default.scrollerWrap,onScroll:this.handleScroll,onResize:this.handleResize},void 0,m),R)},t.prototype.createChannelStream=function(e){var t=this,n=[];e.forEach(function(e){var o=n[n.length-1];null==o||e.id===t.props.oldestUnreadMessageId||e.type>k.MessageTypes.DEFAULT||o[0].type!==e.type||o[0].author.id!==e.author.id||o[0].nick!==e.nick||e.webhookId&&o[0].author.username!==e.author.username||!(0,b.isWithinInterval)(o[o.length-1].timestamp,e.timestamp,k.MESSAGE_GROUP_INTERVAL)?n.push([e]):null!=e&&o.push(e)});var o=void 0,r=[];return n.forEach(function(n){n[0].id===t.props.oldestUnreadMessageId&&r.push({type:k.ChannelStreamTypes.DIVIDER_NEW_MESSAGES,content:D.default.Messages.NEW_MESSAGES_DIVIDER});var a=(0,b.dateFormat)(n[0].timestamp,"LL");if(a!==o&&(null!=o&&r.push({type:k.ChannelStreamTypes.DIVIDER_TIME_STAMP,content:a}),o=a),n[0].blocked){var i=r[r.length-1];null!=i&&i.type===k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED||(i={type:k.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED,content:[]},r.push(i)),i.content.push({type:k.ChannelStreamTypes.MESSAGE_GROUP,content:n})}else{var u=k.ChannelStreamTypes.MESSAGE_GROUP;if(t.props.messages.jumpTargetId)l.default.findIndex(n,function(t){return t.id===e.jumpTargetId})>=0&&(u=k.ChannelStreamTypes.JUMP_TARGET);u===k.ChannelStreamTypes.JUMP_TARGET?r.push({type:k.ChannelStreamTypes.JUMP_TARGET,content:n}):r.push({type:k.ChannelStreamTypes.MESSAGE_GROUP,content:n})}}),r},t.prototype.loadMore=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._scroller,n=this.props,o=n.messages,r=n.channel;if(!this.state.scrollingToJump){if(null!=t){var a=t.getScrollData();N.default.updateChannelDimensions(r.id,a.scrollTop,a.scrollHeight,a.offsetHeight)}var i=void 0,l=void 0;if(e){var u=o.last();null!=u&&(l=u.id)}else{var s=o.first();null!=s&&(i=s.id)}S.default.fetchMessages(this.props.channel.id,i,l,k.MAX_MESSAGES_PER_CHANNEL)}},t.prototype.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._scroller;if(null!=n){var o=n.getScrollData();o.scrollHeight===o.offsetHeight?this.handleScroll():n.scrollTo(e,t)}},t.prototype.scrollBy=function(e){var t=this._scroller;null!=t&&this.scrollTo(t.getScrollData().scrollTop+e)},t.prototype.scrollToNewMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._loadMoreScrollToNewMessages=!1;var n=this._newMessagesBar;if(null!=n)this.scrollTo(Math.max(0,n.offsetTop-35),e),t&&I.default.isEstimated(this.props.channel.id)&&(this._loadMoreScrollToNewMessages=!0,this.loadMore());else if(null!=this.props.oldestUnreadMessageId)return this.scrollTo(35,e),!0;return null!=n},t.prototype.scrollToBottom=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._scroller,o=this.props,r=o.messages,a=o.isScaled;if(null!=n){var i=n.getScrollData();r.hasMoreAfter?this.jumpToPresent():a?requestAnimationFrame(function(){e._mounted&&e.scrollTo(i.scrollHeight-i.offsetHeight+1,t)}):this.scrollTo(i.scrollHeight-i.offsetHeight+1,t)}},t.prototype.scrollPageUp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._scroller;t&&t.scrollPageUp(e)},t.prototype.scrollPageDown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._scroller;t&&t.scrollPageDown(e)},t.prototype.restoreScroll=function(){var e=this.props.dimensions;this.scrollToNewMessages()||(null!=e?this.scrollTo(e.scrollTop):this.scrollToBottom())},t.prototype.isAtCachedBottom=function(){return null==this.props.dimensions},t.prototype.isAtBottom=function(){var e=this._scroller;return null!=e&&e.isScrolledToBottom()},t}(i.Component);X.defaultProps={isVisible:!0},t.default=P.default.connectStores([p.default,h.default,_.default,E.default,I.default,g.default,y.default,v.default,m.default,T.default],function(e){var t=e.channel,n=e.forceCompact,o=t.getGuildId(),r=g.default.inlineAttachmentMedia,a=g.default.inlineEmbedMedia,i=g.default.gifAutoPlay,l=g.default.renderEmbeds,u=g.default.renderReactions,s=g.default.developerMode,d=g.default.messageDisplayCompact;return{messages:h.default.getMessages(t.id),permissionVersion:null!=o?T.default.getGuildVersion(o):null,uploads:_.default.getFiles(t.id),dimensions:E.default.getChannelDimensions(t.id),unreadCount:I.default.getUnreadCount(t.id),oldestUnreadMessageId:I.default.getOldestUnreadMessageId(t.id),canChat:null==o||y.default.canChatInGuild(o),isScaled:v.default.fontScale!==k.Accessibility.FONT_SCALE_DEFAULT,isDefaultChannel:null!=o&&t===m.default.getDefaultChannel(o),inlineAttachmentMedia:r,inlineEmbedMedia:a,gifAutoPlay:i,renderEmbeds:l,renderReactions:u,messageDisplayCompact:n||d,developerMode:s}})(X),e.exports=t.default},6386:function(e,t,n){e.exports=n.p+"c8845c514bbf3f1e5bea064c1e40b08d.svg"},6387:function(e,t,n){e.exports=n.p+"c7c47afdf35d5a3e06233319d3aa7674.svg"},6403:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(79)),u=h(n(6)),s=n(0),d=n(262),f=h(d),c=h(n(519)),p=h(n(5796));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=0,y=function(){return"notification-position-selector-"+E++},g=function(e){switch(e){case s.OverlayNotificationPositions.TOP_LEFT:return u.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case s.OverlayNotificationPositions.TOP_RIGHT:return u.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case s.OverlayNotificationPositions.BOTTOM_LEFT:return u.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case s.OverlayNotificationPositions.BOTTOM_RIGHT:return u.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return u.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},v=[s.OverlayNotificationPositions.DISABLED,s.OverlayNotificationPositions.TOP_LEFT,s.OverlayNotificationPositions.TOP_RIGHT,s.OverlayNotificationPositions.BOTTOM_LEFT,s.OverlayNotificationPositions.BOTTOM_RIGHT],m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=_(this,e.call.apply(e,[this].concat(i))),o.settingsWrapper=a.createRef(),o.state={name:y(),hasFocus:!1},o.handleFocusIn=function(){o.settingsWrapper.current&&o.setState({hasFocus:!0})},o.handleFocusOut=function(){o.settingsWrapper.current&&o.setState({hasFocus:!1})},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.settingsWrapper.current;null!=e&&(e.addEventListener("focusin",this.handleFocusIn,!0),e.addEventListener("focusout",this.handleFocusOut,!0))},t.prototype.componentWillUnmount=function(){var e=this.settingsWrapper.current;null!=e&&(e.removeEventListener("focusin",this.handleFocusIn,!0),e.removeEventListener("focusout",this.handleFocusOut,!0))},t.prototype.render=function(){var e,t=this.props,n=t.position,o=t.onChange,h=this.state,_=h.name,E=h.hasFocus,y=n===s.OverlayNotificationPositions.DISABLED?u.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:u.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:g(n)});return r("div",{},void 0,a.createElement("div",{className:(0,i.default)(p.default.wrapper,(e={},e[p.default.disabledSelected]=n===s.OverlayNotificationPositions.DISABLED,e[p.default.hasFocus]=E,e)),ref:this.settingsWrapper},v.map(function(e){var t;return r("label",{className:(0,i.default)((t={},t[p.default.selected]=e===n,t[p.default.disabled]=e===s.OverlayNotificationPositions.DISABLED,t[p.default.topRight]=e===s.OverlayNotificationPositions.TOP_RIGHT,t[p.default.topLeft]=e===s.OverlayNotificationPositions.TOP_LEFT,t[p.default.bottomRight]=e===s.OverlayNotificationPositions.BOTTOM_RIGHT,t[p.default.bottomLeft]=e===s.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,g(e),e===s.OverlayNotificationPositions.DISABLED?r(l.default,{name:l.default.Names.NOT_ALLOWED,className:p.default.disabledIcon}):null,r("input",{type:"radio",name:_,value:e,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return o(t,e)}),className:p.default.hiddenInput}))})),r(f.default,{type:d.Types.DESCRIPTION,className:c.default.marginTop8},void 0,y))},t}(a.Component);m.Positions=s.OverlayNotificationPositions,t.default=m,e.exports=t.default},6414:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var o,r=n(6032),a=n(965),i=(o=a)&&o.__esModule?o:{default:o};t.QUICKSWITCHER_SHOW={binds:["mod+k","mod+t"],global:!0,action:function(){return i.default.hasLayers()||(0,r.show)(),!1}}},6415:function(e,t,n){"use strict";t.__esModule=!0,t.findNextSelected=function e(t,n,r,a){var i=r.length;if(0===i)return 0;if(null==a)a=n;else if(a===n)return n;n+="up"===t?-1:1;if(n<0||n>=i)return e(t,n<0?i:-1,r,a);var l=r[n];if(l.type===o.AutocompleterResultTypes.HEADER)return e(t,n,r,a);return n};var o=n(0)},6416:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),r=f(n(2)),a=f(n(1230)),i=f(n(25)),l=f(n(65)),u=f(n(225)),s=f(n(18)),d=f(n(26));n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=new a.default(function(){return 100},function(e){var t=0;return 0===e?t=100:e>=1&&e<2?t=70:e>=2&&e<4?t=50:e>=4&&e<7?t=30:e>=7&&(t=10),t},function(e){return d.default.getGuild(e)||s.default.getChannel(e)||s.default.getChannel(s.default.getDMFromUserId(e))},function(e){__OVERLAY__||i.default.set("selectedChannelGuildFrecency",e)},100,10),p=null,h=null;function _(e){var t=e.guildId,n=e.channelId;return n!==p&&(p=n,c.track(n)),null!=t&&t!==h&&(h=t,c.track(t)),!1}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,l.default);var e=i.default.get("selectedChannelGuildFrecency");e&&c.overwriteHistory(e)},t.prototype.getFrequently=function(){return c.frequently},t.prototype.getScore=function(e){return c.getFrecency(e)||0},t.prototype.getScoreForDM=function(e){return this.getScore(s.default.getDMFromUserId(e))},t.prototype.getMaxScore=function(){return 1e3},t.prototype.getBonusScore=function(){return 100},t}(o.default.Store);t.default=new E(r.default,{CONNECTION_OPEN:function(){return c.markDirty(),!1},VOICE_CHANNEL_SELECT:_,CHANNEL_SELECT:_}),e.exports=t.default},6417:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderRecord=void 0;var o=T(n(6)),r=T(n(8)),a=T(n(363)),i=T(n(125)),l=T(n(269)),u=T(n(6228)),s=T(n(6272)),d=T(n(6416)),f=T(n(59)),c=T(n(6109)),p=T(n(6128)),h=T(n(6046)),_=n(6684),E=T(n(228)),y=T(n(124)),g=T(n(101)),v=T(n(88)),m=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var C=100,S=5,N=1e3,A=function(){function e(t,o,r){var a=this;I(this,e),this.query="",this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[],this.applicationResults=[],this.mapUserResults=function(e){var t=e.user,o=e.id,r=e.score,i=e.comparator;null==t&&(t=n(12).getUser(o));var l=M(m.AutocompleterResultTypes.USER);return a.createResult(m.AutocompleterResultTypes.USER,t,b(r,l[t.id]),i)},this.parseUserResults=function(e){var t=e.query,o=e.results;if(!a.queryMode||a.queryMode===m.AutocompleterResultTypes.USER){if(0===t.trim().length){var r=a.selectedChannelId,i=n(14).getId();a.userResults=h.default.getRecentlyTalked(r,a.queryMode?C:S).filter(function(e){return e.user.id!==i}).map(a.mapUserResults)}else a.userResults=o.map(a.mapUserResults);null==a.queryMode&&a.userResults.length>S&&(a.userResults.length=S),a.updateAllResults(),a.emitChange()}},this.emitChange=t,this.userSearchContext=u.default.getSearchContext(this.parseUserResults,C),this.resultTypes=new Set(o),this._generateEmptyResults=r}return e.prototype._include=function(e){return 0===this.resultTypes.size||this.resultTypes.has(e)},e.prototype.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.selectedGuildId=t.selectedGuildId,this.selectedChannelId=t.selectedChannelId,this.lastSelectedChannelId=t.lastSelectedChannelId,0===e.trim().length)return this.query=e,this.generateEmptyResults();this.queryMode=function(e){switch(e.charAt(0)){case"@":return m.AutocompleterResultTypes.USER;case"#":return m.AutocompleterResultTypes.TEXT_CHANNEL;case"!":return m.AutocompleterResultTypes.VOICE_CHANNEL;case"*":return m.AutocompleterResultTypes.GUILD;case"$":return m.AutocompleterResultTypes.APPLICATION;default:return null}}(e);var n=this.queryMode?e.substr(1):e,o=this.queryMode?C:S;switch(this.queryMode){case m.AutocompleterResultTypes.USER:this.queryUsers(n,o,!0);break;case m.AutocompleterResultTypes.TEXT_CHANNEL:this.textChannelResults=this.queryTextChannels(n,o);break;case m.AutocompleterResultTypes.VOICE_CHANNEL:this.voiceChannelResults=this.queryVoiceChannels(n,o);break;case m.AutocompleterResultTypes.GUILD:this.guildResults=this.queryGuilds(n,o);break;case m.AutocompleterResultTypes.APPLICATION:this.applicationResults=this.queryApplications(n,o);break;default:this.queryUsers(n,o),this.groupDMResults=this.queryGroupDMs(n,o),this.textChannelResults=this.queryTextChannels(n,o),this.voiceChannelResults=this.queryVoiceChannels(n,o,!0),this.guildResults=this.queryGuilds(n,o)}var r=this.query!==e&&null!=this.queryMode?1:0;return this.query=e,this.queryMode&&this.queryMode!==m.AutocompleterResultTypes.USER&&this.updateAllResults(),r},e.prototype.clear=function(){this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[]},e.prototype.destroy=function(){null!=this.userSearchContext&&(this.userSearchContext.destroy(),this.userSearchContext=null)},e.prototype.createResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3];switch(e){case m.AutocompleterResultTypes.GUILD:if(!(t instanceof E.default))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.GUILD,record:t,queryMode:this.queryMode,score:n,comparator:o};case m.AutocompleterResultTypes.USER:if(!(t instanceof v.default))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.USER,record:t,queryMode:this.queryMode,score:n,comparator:o};case m.AutocompleterResultTypes.HEADER:if(!(t instanceof O))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.HEADER,record:t,queryMode:this.queryMode,score:n,comparator:o};case m.AutocompleterResultTypes.TEXT_CHANNEL:if(!(t instanceof y.default))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.TEXT_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:o};case m.AutocompleterResultTypes.VOICE_CHANNEL:if(!(t instanceof y.default))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.VOICE_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:o};case m.AutocompleterResultTypes.GROUP_DM:if(!(t instanceof y.default))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.GROUP_DM,record:t,queryMode:this.queryMode,score:n,comparator:o};case m.AutocompleterResultTypes.APPLICATION:if(!(t instanceof g.default))throw new Error("Invalid");return{type:m.AutocompleterResultTypes.APPLICATION,record:t,queryMode:this.queryMode,score:n,comparator:o}}throw new Error("Invalid type")},e.prototype.queryTextChannels=function(e,t){var n=this;if(!this._include(m.AutocompleterResultTypes.TEXT_CHANNEL))return[];var o=this.selectedChannelId,a=M(m.AutocompleterResultTypes.TEXT_CHANNEL);return(0,r.default)(h.default.queryChannels(e,null,1/0,!0,function(e){return e.id!==o})).map(function(e){var t=e.channel,o=e.score,r=e.comparator;return n.createResult(m.AutocompleterResultTypes.TEXT_CHANNEL,t,b(o,a[t.id]),r)}).sort(_.sortByMatchScore).take(t).value()},e.prototype.queryVoiceChannels=function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._include(m.AutocompleterResultTypes.VOICE_CHANNEL))return[];var a=null;if(o&&(a=this.selectedGuildId),o&&null==a)return[];var i=M(m.AutocompleterResultTypes.VOICE_CHANNEL);return(0,r.default)(h.default.queryChannels(e,a,1/0,!0,function(){return!0},m.ChannelTypes.GUILD_VOICE)).map(function(e){var t=e.channel,o=e.score,r=e.comparator;return n.createResult(m.AutocompleterResultTypes.VOICE_CHANNEL,t,b(o,i[t.id]),r)}).sort(_.sortByMatchScore).take(t).value()},e.prototype.queryGuilds=function(e,t){var n=this;if(!this._include(m.AutocompleterResultTypes.GUILD))return[];var o=this.selectedGuildId,a=M(m.AutocompleterResultTypes.GUILD);return(0,r.default)(h.default.queryGuilds(e,1/0,!0,function(e){return e.id!==o})).map(function(e){var t=e.guild,o=e.score,r=e.comparator;return n.createResult(m.AutocompleterResultTypes.GUILD,t,b(o,a[t.id]),r)}).sort(_.sortByMatchScore).take(t).value()},e.prototype.queryUsers=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.userSearchContext&&this._include(m.AutocompleterResultTypes.USER)){var r=[n(14).getId()],a=this.selectedGuildId,i={friends:!0};a&&i&&(i.guild=a),o&&(i=null,this.queryMode?p.default.requestMembers(null,e,20):p.default.requestMembers(a,e,20));var l=n(18).getDMUserIds();this.userSearchContext.setQuery(e,i,r,l,M(m.AutocompleterResultTypes.USER))}},e.prototype.queryGroupDMs=function(e,t){var n=this;if(!this._include(m.AutocompleterResultTypes.GROUP_DM))return[];var o=this.selectedChannelId,r=M(m.AutocompleterResultTypes.GROUP_DM);return h.default.queryGroupDMs(e,t,!0,function(e){return e.id!==o}).map(function(e){var t=e.channel,o=e.score,a=e.comparator;return n.createResult(m.AutocompleterResultTypes.GROUP_DM,t,b(o,r[t.id]),a)})},e.prototype.queryApplications=function(e,t){var n=this;return this._include(m.AutocompleterResultTypes.APPLICATION)?h.default.queryApplications(e,t,!0).map(function(e){var t=e.application,o=e.score,r=e.comparator;return n.createResult(m.AutocompleterResultTypes.APPLICATION,t,b(o,s.default.getQuickSwitcherScoreForApplication(t.id)),r)}):[]},e.prototype.generateSectionHeader=function(e){return this.createResult(m.AutocompleterResultTypes.HEADER,new O(e),0)},e.prototype.generateResultFromId=function(e){var t=n(18).getChannel(e);if(null==t)return null;var o=void 0;switch(t.type){case m.ChannelTypes.DM:if(!this._include(m.AutocompleterResultTypes.USER))return null;if(o=m.AutocompleterResultTypes.USER,null==(t=n(12).getUser(t.getRecipientId())))return null;break;case m.ChannelTypes.GROUP_DM:if(!this._include(m.AutocompleterResultTypes.GROUP_DM))return null;o=m.AutocompleterResultTypes.GROUP_DM;break;default:if(!this._include(m.AutocompleterResultTypes.TEXT_CHANNEL))return null;o=m.AutocompleterResultTypes.TEXT_CHANNEL}return this.createResult(o,t,0,t.toString())},e.prototype.getDrafts=function(e){var t=this,n=[];return c.default.getRecentlyEditedDrafts().forEach(function(o){var r=o.channelId;if(!e(r)){var a=t.generateResultFromId(r);null!=a&&n.push(a)}}),n},e.prototype.generateEmptyResults=function(){var e=this;if(null!=this.userSearchContext&&this.userSearchContext.clearQuery(),null!=this._generateEmptyResults)return this.results=this._generateEmptyResults(this),this.results.length>0?1:0;var t=[],u=this.selectedGuildId,s=this.selectedChannelId,d=this.lastSelectedChannelId;if(d){var f=this.generateResultFromId(d);f&&t.push(this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_LAST_CHANNEL),f)}var c,p=this.getDrafts(function(e){return e===s||e===d});p.length>0&&(c=t).push.apply(c,[this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_DRAFTS)].concat(p));var h=n(18),_=(0,r.default)(h.getChannels()).values().filter(function(e){var t=e.id;return t!==s&&t!==d&&a.default.getMentionCount(t)>0}).map(function(t){return e.generateResultFromId(t.id)}).filter(function(e){return!!e}).value();if(_.length&&(t.push(this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_MENTIONS)),t=t.concat(_)),u){var E=i.default.getTextChannelIds(u).filter(function(e){var t=h.getChannel(e);return null!=t&&e!==s&&e!==d&&!l.default.isChannelMuted(t.guild_id,e)&&a.default.hasUnread(e)}).map(function(t){return e.generateResultFromId(t)}).filter(function(e){return e});E.length&&(t.push(this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_UNREAD_CHANNELS)),t=t.concat(E))}return this.clear(),this.results=(0,r.default)(t).uniqBy(function(e){return e.record.id}).value(),this.results.length>0?1:0},e.prototype.updateAllResults=function(){var e=void 0;switch(this.queryMode){case m.AutocompleterResultTypes.USER:e=this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_QUERYMODE_USERS),this.results=[].concat(this.userResults);break;case m.AutocompleterResultTypes.TEXT_CHANNEL:e=this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_QUERYMODE_TEXT_CHANNELS),this.results=[].concat(this.textChannelResults);break;case m.AutocompleterResultTypes.VOICE_CHANNEL:e=this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_QUERYMODE_VOICE_CHANNELS),this.results=[].concat(this.voiceChannelResults);break;case m.AutocompleterResultTypes.GUILD:e=this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_QUERYMODE_GUILDS),this.results=[].concat(this.guildResults);break;case m.AutocompleterResultTypes.APPLICATION:e=this.generateSectionHeader(o.default.Messages.QUICKSWITCHER_QUERYMODE_APPLICATIONS),this.results=[].concat(this.applicationResults);break;default:this.results=[].concat(this.userResults,this.groupDMResults,this.textChannelResults,this.voiceChannelResults,this.guildResults)}this.results=(0,r.default)(this.results).uniqBy(function(e){return e.type+"-"+e.record.id}).sort(_.sortByMatchScore).value(),this._include(m.AutocompleterResultTypes.HEADER)&&this.results.length>0&&null!=e&&this.results.unshift(e)},e}();t.default=A;var O=t.HeaderRecord=function e(t){I(this,e),this.id=t,this.text=t};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];return N*e*(t||1)}function M(e){var t=d.default.getFrequently(),o=t.reduce(function(e,t){var n=t.id,o=d.default.getScore(n);return o>e?o:e},0),r=[];switch(e){case m.AutocompleterResultTypes.GUILD:r=t.filter(function(e){return e instanceof E.default});break;case m.AutocompleterResultTypes.USER:r=t.filter(function(e){return e instanceof y.default&&e.type===m.ChannelTypes.DM});break;case m.AutocompleterResultTypes.GROUP_DM:r=t.filter(function(e){return e instanceof y.default&&e.type===m.ChannelTypes.GROUP_DM});break;case m.AutocompleterResultTypes.TEXT_CHANNEL:r=t.filter(function(e){return e instanceof y.default&&e.type===m.ChannelTypes.GUILD_TEXT});break;case m.AutocompleterResultTypes.VOICE_CHANNEL:r=t.filter(function(e){return e instanceof y.default&&e.type===m.ChannelTypes.GUILD_VOICE})}var a={};return r.forEach(function(t){var r=t.id,i=d.default.getScore(r);if(e===m.AutocompleterResultTypes.USER){r=t.getRecipientId();var l=f.default.isFriend(r)?.2:0,u=n(18).getDMFromUserId(r)?.1:0;a[r]=1+i/o+l+u}else a[r]=1+i/o}),a}},6419:function(e,t,n){"use strict";t.__esModule=!0,t.makeVoiceUserDroppable=function(e){return(0,o.DropTarget)(s,{canDrop:function(e){var t=e.channel,n=r.default.getCurrentUser();return i.default.can(l.Permissions.MOVE_MEMBERS,n,t)&&i.default.can(l.Permissions.CONNECT,n,t)},drop:function(e,t){var n=e.channel;a.default.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}})(e)},t.makeVoiceUserDraggable=function(e){return(0,o.DragSource)(s,{canDrag:function(e){var t=e.canDrag;return t},beginDrag:function(e){var t=e.user;return{user:t}}},function(e){return{connectUserDragSource:e.dragSource()}})(e)};var o=n(992),r=u(n(12)),a=u(n(229)),i=u(n(76)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="DRAGGABLE_USER"},6420:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(9)),l=E(n(40)),u=E(n(87)),s=E(n(142)),d=E(n(995)),f=E(n(994)),c=E(n(5831)),p=E(n(946)),h=n(0),_=E(n(6));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return y(this,t),g(this,e.apply(this,arguments))}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.collapsed,o=e.className;return r(l.default,{className:(0,i.default)(o,n?c.default.listCollapse:c.default.listDefault),direction:n?l.default.Direction.HORIZONTAL:l.default.Direction.VERTICAL,justify:l.default.Justify.START,wrap:n?l.default.Wrap.WRAP:l.default.Wrap.NO_WRAP,align:n?l.default.Align.START:l.default.Align.STRETCH},void 0,t)},t}(a.PureComponent),T=r(d.default,{}),I=r(f.default,{}),C=function(e){function t(){var n,o;y(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=g(this,e.call.apply(e,[this].concat(a))),o.state={hovered:!1},o.handleClick=function(e){var t=o.props,n=t.onClick,r=t.user,a=t.channel;n&&n(e,r,a)},o.handleMouseEnter=function(e){o.setState({hovered:!0});var t=o.props,n=t.onMouseEnter,r=t.user,a=t.channel;n&&n(e,r,a)},o.handleMouseLeave=function(e){o.setState({hovered:!1});var t=o.props,n=t.onMouseLeave,r=t.user,a=t.channel;n&&n(e,r,a)},o.handleContextMenu=function(e){var t=o.props,n=t.onContextMenu,r=t.user,a=t.channel;n&&n(e,r,a)},g(o,n)}return v(t,e),t.prototype.renderPrioritySpeaker=function(){var e,t=this.props,n=t.speaking,o=t.priority,a=t.collapsed;return o&&!a?r(s.default,{text:_.default.Messages.PRIORITY_SPEAKER},void 0,r("div",{className:(0,i.default)(c.default.priority,(e={},e[c.default.prioritySpeaking]=n,e))})):null},t.prototype.renderAvatar=function(){var e,t=this.props,n=t.speaking,o=t.user,a=t.size,u=t.avatarContainerClass,s=void 0;return s=n?c.default.avatarSpeaking:c.default.avatarDefault,r(l.default.Child,{wrap:!0,className:(0,i.default)(u,"margin-reset"),grow:0,shrink:0},void 0,r("div",{className:(0,i.default)(s,(e={},e[c.default.largeAvatar]=a===h.OverlayAvatarSizes.LARGE,e[c.default.smallAvatar]=a===h.OverlayAvatarSizes.SMALL,e)),style:{backgroundImage:"url("+(o.avatarURL||o.getAvatarURL&&o.getAvatarURL("jpg")||"")+")"}}))},t.prototype.renderName=function(){var e=this.props,t=e.nick,n=e.user,o=e.collapsed,a=e.speaking,u=e.userNameClassName,s=this.state.hovered;if(o)return null;var d=c.default.nameDefault;return a?d=c.default.nameSpeaking:s&&(d=c.default.nameHovered),r(l.default.Child,{className:(0,i.default)(u,d,"margin-reset")},void 0,t||n.username)},t.prototype.renderIcons=function(){var e=this.props,t=e.mute,n=e.deaf;if(e.collapsed)return null;var o=void 0,a=void 0;return t&&(o=r("div",{className:c.default.iconSpacing},void 0,T)),n&&(a=r("div",{className:c.default.iconSpacing},void 0,I)),null==o&&null==a?null:r(l.default,{wrap:l.default.Wrap.WRAP,className:"margin-reset",grow:0,shrink:0,align:l.default.Align.CENTER},void 0,o,a)},t.prototype.render=function(){var e,t=this.props,n=t.onClick,o=t.onContextMenu,a=t.flipped,l=t.size,s=t.className,d=this.state.hovered;return r(u.default,{className:(0,i.default)(c.default.voiceUser,s,(e={},e[c.default.userSmall]=l===h.OverlayAvatarSizes.SMALL,e[c.default.userLarge]=l===h.OverlayAvatarSizes.LARGE,e[c.default.userHovered]=d,e[c.default.userDefault]=!d,e[p.default.directionRowReverse]=a,e[p.default.directionRow]=!a,e)),onClick:n&&this.handleClick,onMouseEnter:n&&this.handleMouseEnter,onMouseLeave:n&&this.handleMouseLeave,onContextMenu:o&&this.handleContextMenu},void 0,this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons())},t}(a.PureComponent);C.List=m,C.defaultProps={avatarContainerClass:c.default.avatarContainer,userNameClassName:c.default.name,size:h.OverlayAvatarSizes.SMALL},t.default=C,e.exports=t.default},6421:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(6)),l=c(n(123)),u=c(n(64)),s=c(n(75)),d=c(n(67)),f=c(n(5833));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.close=o.close.bind(o),o.handleSync=o.handleSync.bind(o),o.handleCancel=o.handleCancel.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){(0,this.props.onClose)()},t.prototype.handleSync=function(){(0,this.props.onSync)(),this.close()},t.prototype.handleCancel=function(){var e=this.props.onCancel;e&&e(),this.close()},t.prototype.renderHeader=function(){return r(l.default.Header,{},void 0,r(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.CONFIRM_CHANNEL_DRAG_TITLE))},t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return r(l.default.Content,{},void 0,r(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY,className:f.default.message,selectable:!1},void 0,i.default.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:t.toString(!0),categoryName:n.toString()})))},t.prototype.renderFooter=function(){return r(l.default.Footer,{},void 0,r(u.default,{color:u.default.Colors.BRAND,onClick:this.handleSync,className:f.default.buttonSpacing},void 0,i.default.Messages.SYNC_PERMISSIONS),r(u.default,{color:u.default.Colors.BRAND,look:u.default.Looks.GHOST,onClick:this.handleCancel,className:f.default.buttonSpacing},void 0,i.default.Messages.KEEP_PERMISSIONS))},t.prototype.render=function(){return r(l.default,{},void 0,this.renderHeader(),this.renderContent(),this.renderFooter())},t}(a.PureComponent);p.key=function(){return"confirm-channel-drag-modal"},t.default=p,e.exports=t.default},6422:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(6)),l=m(n(142)),u=m(n(79)),s=m(n(87)),d=m(n(6024)),f=n(6007),c=m(f),p=m(n(112)),h=m(n(26)),_=m(n(6209)),E=m(n(6048)),y=m(n(38)),g=n(0),v=m(n(5567));function m(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=T(this,e.call.apply(e,[this].concat(a))),o.state={hovered:!1},o.handleInviteClick=function(){var e=o.props.channel,t=h.default.getGuild(e.getGuildId());y.default.push(d.default,{guild:t,channel:e,source:g.InstantInviteSources.GUILD_CHANNELS})},o.handleEditClick=function(){E.default.open(o.props.channel.id)},o.handleMouseEnter=function(){o.setState({hovered:!0})},o.handleMouseLeave=function(){o.setState({hovered:!1})},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderEditButton=function(){var e=this.props,t=e.channel,n=e.selected,o=e.hideEditButton,a=this.state.hovered;return o?null:(n||a)&&(p.default.can(g.Permissions.MANAGE_CHANNELS,t)||p.default.can(g.Permissions.MANAGE_ROLES,t)||p.default.can(g.Permissions.MANAGE_WEBHOOKS,t))?t.type===g.ChannelTypes.GUILD_TEXT&&!p.default.can(g.Permissions.VIEW_CHANNEL,t)||t.type===g.ChannelTypes.GUILD_VOICE&&!p.default.can(g.Permissions.CONNECT,t)?null:r(l.default,{text:i.default.Messages.EDIT_CHANNEL},void 0,r(s.default,{className:v.default.iconSpacing,onClick:this.handleEditClick},void 0,r(u.default,{name:u.default.Names.GEAR,className:v.default.actionIcon}))):null},t.prototype.renderInviteButton=function(){var e=this.props,t=e.channel,n=e.isDefaultChannel,o=e.selected,a=e.locked,d=this.state.hovered;if(!a&&p.default.can(g.Permissions.CREATE_INSTANT_INVITE,t)&&(d||o)){var h=r(s.default,{onClick:this.handleInviteClick,className:v.default.actionIcon},void 0,r(u.default,{name:u.default.Names.INVITE}));return n&&_.default.shouldShow("instant-invite")&&(h=r(c.default,{tutorialId:"instant-invite",position:f.TutorialIndicatorPositions.LEFT,offsetX:-40,offsetY:-18},void 0,r("div",{},void 0,h))),r(l.default,{text:i.default.Messages.CREATE_INSTANT_INVITE},void 0,r("div",{className:v.default.iconSpacing},void 0,h))}},t}(a.PureComponent);I.defaultProps={isDefaultChannel:!1},t.default=I,e.exports=t.default},6423:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),u=f(n(265)),s=f(n(150)),d=f(n(581));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(e){var t=e.height;return a("div",{style:{width:"100%",height:t,visibility:"hidden"}})},h=function(){function e(t,n,o,r,a){c(this,e),this.sectionHeight=t,this.rowHeight=n,this.footerHeight=o,this.numberOfSections=r.length,this.numberOfRows=r.reduce(function(e,t){return e+t},0),this.sections=r,this.uniform=a}return e.prototype.getHeight=function(){for(var e=0,t=0;t<this.numberOfSections;t++){if(e+=this.getHeightForSection(t),this.uniform)e+=this.sections[t]*this.getHeightForRow(t);else for(var n=0;n<this.sections[t];n++)e+=this.getHeightForRow(t,n);e+=this.getHeightForFooter(t)}return e},e.prototype.getHeightForSection=function(e){var t=this.sectionHeight;return"number"==typeof t?t:t(e)},e.prototype.getHeightForRow=function(e,t){var n=this.rowHeight;return"number"==typeof n?n:n(e,t)},e.prototype.getHeightForFooter=function(e){var t=this.footerHeight;return"number"==typeof t?t:t(e)},e.prototype.compute=function(e,t){var n=this.sections,o=0,r=0,a=0,i=[];function l(n){var i=o;return(o+=n)<e?(r+=n,!1):!(i>t)||(a+=n,!1)}for(var u=0;u<n.length;u++){var s=n[u];if(0!==s){if(l(this.getHeightForSection(u))&&i.push({section:u}),this.uniform)for(var d=this.getHeightForRow(u),f=0;f<s;f++)l(d)&&i.push({section:u,row:f});else for(var c=0;c<s;c++)l(this.getHeightForRow(u,c))&&i.push({section:u,row:c});l(this.getHeightForFooter(u))&&i.push({section:u,footer:!0})}}return{spacerTop:r,spacerBottom:a,items:i}},e.prototype.computeScrollPosition=function(e,t){for(var n=this.sections,o=0,r=0,a=!1;r<=e;){var i=n[r];if(0!==i){if(o+=this.getHeightForSection(r),this.uniform){var l=this.getHeightForRow(r);r===e?(o+=l*t,a=!0):o+=l*i}else for(var u=0;u<i;u++)if(r<e||r===e&&u<t)o+=this.getHeightForRow(r,u);else if(r===e&&u===t){a=!0;break}a||(o+=this.getHeightForFooter(r)),r+=1}else r+=1}return{scrollTop:o,rowHeight:this.getHeightForRow(e,t)}},e}(),_=function(e){function t(n){c(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={spacerTop:0,spacerBottom:0,items:[],scrolling:!1},o.handleResize=o.handleResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.setScrollerRef=o.setScrollerRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState(this.getStateFromScroller())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.uniform&&(0,s.default)(e,this.props)||this.setState(this.getStateFromScroller(e))},t.prototype.componentDidUpdate=function(e,t){t.containerHeight!==this.getContainerHeight()&&this.setState(this.getStateFromScroller())},t.prototype.componentWillUnmount=function(){null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout)},t.prototype.setScrollerRef=function(e){this._scroller=e},t.prototype.getStateFromScroller=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.sectionHeight,n=e.rowHeight,o=e.footerHeight,a=e.sections,i=e.uniform,l=new h(t,n,o,a,i),u=this.getScrollTop(),s=this.getContainerHeight(),d=Math.ceil(s/2),f=d*Math.ceil(u/d),c=f+d;return r({containerHeight:s},l.compute(Math.max(0,f-d),Math.min(l.getHeight(),c+d)))},t.prototype.handleResize=function(e){this.setState(this.getStateFromScroller());var t=this.props.onResize;null!=t&&t(e)},t.prototype.handleScroll=function(e){var t=this;null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout),this._scrollingTimeout=setTimeout(function(){return t.setState({scrolling:!1})},100),this.setState(r({},this.getStateFromScroller(),{scrolling:!0}));var n=this.props.onScroll;null!=n&&n(e)},t.prototype.renderItems=function(){var e=this.props,t=e.renderSection,n=e.wrapSection,o=e.renderRow,r=e.renderFooter,a=[],i=[],l=0;return this.state.items.forEach(function(e){var u=e.section,s=e.row;!0===e.footer?(i.push(r(u)),a.push(null!=n?n(l,i):i),i=[]):(l=u,null==s?i.push(t(u)):i.push(o(u,s)))}),i.length>0&&a.push(n?n(l,i):i),a},t.prototype.render=function(){var e,t=this.props,n=t.children,o=t.track,s=t.theme,f=t.className,c=this.state,h=c.spacerTop,_=c.spacerBottom,E=c.scrolling;return i.createElement(u.default,r({},this.props,{ref:this.setScrollerRef,className:(0,l.default)(f,(e={},e[d.default.scrolling]=E,e)),onResize:this.handleResize,onScroll:this.handleScroll,track:o,theme:s}),n,a(p,{height:h}),this.renderItems(),a(p,{height:_}))},t.prototype.getItems=function(){return this.state.items},t.prototype.isItemVisible=function(e,t){var n=this.getScrollPosition(e,t),o=this.getScrollTop(),r=this.getContainerHeight();return!(n.scrollTop<o-n.rowHeight||n.scrollTop+n.rowHeight>o+r)},t.prototype.getScrollPosition=function(e,t){var n=this.props,o=n.sectionHeight,r=n.rowHeight,a=n.footerHeight,i=n.sections,l=n.uniform;return new h(o,r,a,i,l).computeScrollPosition(e,t)},t.prototype.getScrollerNode=function(){return this._scroller&&this._scroller.getScrollerNode()},t.prototype.getScrollTop=function(){return this._scroller&&this._scroller.getScrollData().scrollTop||0},t.prototype.getContainerHeight=function(){return this._scroller&&this._scroller.getScrollData().offsetHeight||0},t.prototype.getScrollData=function(){return this._scroller&&this._scroller.getScrollData()},t.prototype.scrollIntoView=function(e,t,n){this._scroller&&this._scroller.scrollIntoViewRect(e,t,n)},t.prototype.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];this._scroller&&this._scroller.scrollTo(e,t,n)},t.prototype.scrollToRow=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this.getScrollPosition(e,t),a=this.getScrollTop(),i=this.getContainerHeight();r.scrollTop<a+o?this.scrollTo(r.scrollTop-o,n):r.scrollTop+r.rowHeight>a+i&&this.scrollTo(r.scrollTop-i+r.rowHeight+o,n)},t}(i.PureComponent);_.Themes=u.default.Themes,_.defaultProps={track:!1,renderSection:function(){return null},renderFooter:function(){return null},sectionHeight:0,footerHeight:0,uniform:!0,theme:u.default.Themes.GHOST},t.default=_,e.exports=t.default},6424:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=A(n(8)),u=A(n(6423)),s=A(n(7265)),d=A(n(7263)),f=A(n(7258)),c=A(n(7256)),p=A(n(7255)),h=n(223),_=A(h),E=A(n(531)),y=A(n(363)),g=A(n(269)),v=A(n(112)),m=A(n(958)),T=A(n(18)),I=A(n(5995)),C=(A(n(124)),n(370)),S=n(0),N=A(n(5826));A(n(88));function A(e){return e&&e.__esModule?e:{default:e}}var O={TEXT_CHANNELS:0,TOGGLE_MUTED_CHANNELS:1,VOICE_CHANNELS:2};function b(e,t){var n=0,o=0,r=T.default.getChannel(e);if(null==r)return null;null!=r.parent_id&&t._categories.find(function(e,t){return e.channel.id===r.parent_id&&(n=t,!0)});var a=t[String(r.parent_id)];return null==a?null:(a.find(function(e,t){return e.channel.id===r.id&&(o=t,!0)}),{section:n,row:o})}var M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return R.call(o),o.getTextRowHeight=o.getRowHeight.bind(o,O.TEXT_CHANNELS),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.handleListScroll.cancel()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.scrollToChannel,o=t.guildId,r=t.scrollTop,a=t.channels,i=t.selectedChannelId;n?(this.scrollToChannel(n),I.default.clearChannelListScrollTo(o)):o!==e.guildId?(r||0===r)&&this.scrollTo(r):(0===e.channels[S.ChannelTypes.GUILD_TEXT].length&&a[S.ChannelTypes.GUILD_TEXT].length>0||i!==e.selectedChannelId)&&this.scrollToChannel(i)},t.prototype.scrollTo=function(e){var t=this._list;null!=t&&t.scrollTo(e)},t.prototype.isUnreadVisible=function(){var e=this.props,t=e.mutedChannels,n=e.categories,o=this._list;return null!=o&&o.getItems().some(function(e){var r=e.section,a=e.row;if(null==a)return!1;var i=n._categories[r];if(null==i)return!1;var l=n[i.channel.id][a];if(null==l)return!1;var u=l.channel;if(u.type!==S.ChannelTypes.GUILD_TEXT)return!1;var s=i.channel.id;return!(m.default.isCollapsed(s)&&g.default.isChannelMuted(u.getGuildId(),s)||t.has(u.id)||!o.isItemVisible(r,a))&&y.default.hasUnread(u.id)})},t.prototype.renderSectionContainer=function(e,t){return a("div",{className:"container-"+e},"section-container-"+e,t)},t.prototype.renderList=function(){var e=this.props,t=e.categories,n=e.guild,o=e.collapseMuted,r=e.mutedChannels,a=e.selectedChannelId,l=[];return t._categories.forEach(function(e){var i=e.channel,u=t[i.id].length;0===u&&null!=n&&v.default.can(S.Permissions.MANAGE_CHANNELS,i)&&v.default.can(S.Permissions.VIEW_CHANNEL,i)?u=1:!o||t[i.id].some(function(e){var t=e.channel;return t.id===a||!r.has(t.id)})||"null"!==i.id&&v.default.can(S.Permissions.MANAGE_CHANNELS,n)||(u=0),l.push(u)}),i.createElement(u.default,{key:"guild-channels",ref:this.setListRef,theme:u.default.Themes.GHOST_HAIRLINE_CHANNELS,backgroundColor:S.Colors.PRIMARY_630,className:N.default.scroller,fade:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getFooterHeight,rowHeight:this.getRowHeight,renderSection:this.renderSection,renderFooter:this.renderFooter,wrapSection:this.renderSectionContainer,renderRow:this.renderRow,onScroll:this.handleListScroll,sections:l,uniform:!1})},t.prototype.renderTopUnread=function(){var e=this.state,t=e.topMention,n=e.bottomUnread,o=e.bottomMention,r=e.isUnreadVisible,i=this.props.guildId,l=null==t&&(r||null!=n||null!=o);return a("div",{className:N.default.positionedContainer},void 0,a(p.default,{hide:l,className:N.default.unreadTop,barClassName:N.default.unreadBar,guildId:i,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate}))},t.prototype.renderBottomUnread=function(){var e=this.props.guildId,t=this.state,n=t.bottomMention,o=t.isUnreadVisible,r=null==n&&o;return a(p.default,{reverse:!0,hide:r,className:N.default.unreadBottom,barClassName:N.default.unreadBar,guildId:e,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate})},t.prototype.render=function(){return a(i.Fragment,{},void 0,this.renderTopUnread(),this.renderList(),this.renderBottomUnread())},t}(i.PureComponent),R=function(){var e=this;this.state={isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null},this.setListRef=function(t){e._list=t},this.scrollToChannel=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=e.props.categories,a=e._list,i=b(t,r);null!=i&&null!=a&&a.scrollToRow(i.section,i.row,n,o)},this.jumpToChannel=function(t,n){var o=n[0],r=n[1];return e.scrollToChannel(t,!0,null!=o&&null!=r?32:8)},this.isChannelVisible=function(t,n){var o=b(t,e.props.categories),r=e._list;if(null==r||null==o)return!1;var a=o.row,i=o.section,l=r.getScrollPosition(i,a),u=r.getScrollData();return null!=u&&(!!(n&&l.scrollTop+l.rowHeight<u.scrollTop+u.offsetHeight)||!n&&l.scrollTop>u.scrollTop)},this.handleListScroll=l.default.throttle(function(){var t=e._list;null!=t&&I.default.updateChannelListScroll(e.props.guildId,t.getScrollTop())},100),this.handleUserClick=function(e,t,n){null!=n&&null!=t&&(0,h.openPopout)(n,{closeOnScroll:!1,position:_.default.Positions.BOTTOM_LEFT,render:function(e){return i.createElement(E.default,r({},e,{user:t}))},shadow:!1})},this.handleUnreadCalculate=function(t,n,o){var r=e.isUnreadVisible();o?e.setState({isUnreadVisible:r,bottomUnread:n,bottomMention:t}):e.setState({isUnreadVisible:r,topUnread:n,topMention:t})},this.getSectionHeight=function(t){var n=e.props,o=n.categories,r=n.channels[S.ChannelTypes.GUILD_CATEGORY][t].channel;return 0===t&&o[r.id].length>0?16:0===t?0:48},this.getFooterHeight=function(t){var n=e.props,o=n.categories,r=n.channels,a=n.voiceStates,i=n.selectedVoiceChannelId,l=r[S.ChannelTypes.GUILD_CATEGORY][t].channel;if(!m.default.isCollapsed(l.id))return 0;var u=o[l.id];return null==u||0===u.length?0:u.some(function(e){var t=e.channel,n=a[t.id];return i!==t.id&&null!=n&&n.length>0})?34:0},this.getRowHeight=function(t,n){var o=null!=n?n:0,r=e.props,a=r.channels,i=r.collapsedChannels,l=r.voiceStates,u=r.categories,s=34,d=a[S.ChannelTypes.GUILD_CATEGORY][t],f=d?u[d.channel.id][o]:u.null[o];if(null==f)return 0;var c=f.channel;if((0,C.isChannelCollapsed)(c))return 0;switch(c.type){case S.ChannelTypes.GUILD_VOICE:var p=l[c.id];if(null!=p&&p.length>0){var h=28*p.length;c&&i[c.id]&&(h=Math.ceil(h/6)),s+=h+8}}return s},this.renderSection=function(t){var n=e.props,o=n.categories,r=n.showSimplified,i=o._categories[t];if(-1===i.index)return o.null.length>0?a("div",{style:{height:16}},"spacer"):null;var l=i.channel,u=i.index;return a(f.default,{channel:l,position:u,showTutorial:0===i.index&&!r,hideManageIcons:r},l.id)},this.renderRow=function(t,n){var o=e.props,r=o.guild,i=o.selectedChannelId,l=o.selectedVoiceChannelId,u=o.mutedChannels,f=o.channels,c=o.categories,p=o.collapsedChannels,h=o.voiceStates,_=o.showSimplified,E=c[f[S.ChannelTypes.GUILD_CATEGORY][t].channel.id][n];if(null==E)return null;var y=E.channel;if((0,C.isChannelCollapsed)(y))return null;var g=E.index;switch(E.channel.type){case S.ChannelTypes.GUILD_TEXT:var v=u.has(y.id);return a(s.default,{channel:y,guild:r,position:g,selected:i===y.id,muted:v,hideEditButton:_},y.id);case S.ChannelTypes.GUILD_VOICE:return a(d.default,{channel:y,guild:r,position:g,selected:i===y.id,connected:l===y.id,collapsed:p[y.id],voiceStates:h[y.id],hideEditButton:_},y.id)}},this.renderFooter=function(t){var n=e.props,o=n.channels,r=n.categories,i=n.voiceStates,l=n.selectedVoiceChannelId,u=o[S.ChannelTypes.GUILD_CATEGORY][t].channel;return m.default.isCollapsed(u.id)?a(c.default,{channels:r[u.id],voiceStates:i,selectedChannel:l,onClick:e.handleUserClick},"footer-"+u.id):null}};t.default=M,e.exports=t.default},6426:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(6015)),u=c(n(9)),s=c(n(189)),d=c(n(79)),f=c(n(5838));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={friction:10,tension:300},y=function(e){function t(n){p(this,t);var o=h(this,e.call(this,n));return o.state={translateY:new s.default.Value},o}return _(t,e),t.prototype.componentDidMount=function(){this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)},t.prototype.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()},t.prototype.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},t.prototype.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?this._timeout=setTimeout(function(){s.default.spring(e,a({toValue:0},E)).start()},100):e.setValue(0)},t.prototype.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?s.default.spring(e,a({toValue:1},E)).start():e.setValue(1)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.text,o=e.reverse,a=e.onClick;return r(s.default.div,{className:(0,u.default)(f.default.bar,t),onClick:a,style:this.getAnimatedStyle()},void 0,n,r(d.default,{name:o?d.default.Names.ARROW_DOWN:d.default.Names.ARROW_UP,className:f.default.icon}))},t.prototype.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"150%":"-150%"]})}]}},t}(i.PureComponent),g=40,v=function(e){function t(n){p(this,t);var o=h(this,e.call(this,n));return o.calculateState=(0,l.default)(function(){for(var e=o.props,t=e.items,n=e.isVisible,r=e.isUnread,a=e.isMentioned,i=e.reverse,l=e.onCalculate,u=null,s=null,d=i?t.length-1:0,f=t[d];null!=f&&!n(f,i,t);)null==u&&a(f,i,t)&&(u=f),null==s&&r(f,i,t)&&(s=f),f=t[d+=i?-1:1];null!=l&&l(u,s,i),o.setState({shouldCalculate:!1,mention:u,unread:s})},g),o.handleClick=function(e){e.preventDefault(),e.stopPropagation();var t=o.state,n=t.unread,r=t.mention,a=o.props.onJumpTo,i=r||n;null!=i&&a(i,[r,n])},o.state={shouldCalculate:!0,unread:null,mention:null},o}return _(t,e),t.prototype.componentDidMount=function(){this.calculateState()},t.prototype.componentDidUpdate=function(){this.state.shouldCalculate&&this.calculateState()},t.prototype.componentWillUnmount=function(){this.calculateState.cancel()},t.prototype.UNSAFE_componentWillReceiveProps=function(){this.setState({shouldCalculate:!0})},t.prototype.render=function(){var e=this.state,t=e.unread,n=e.mention,o=this.props,a=o.textMention,i=o.textUnread,l=o.reverse,s=o.className,d=o.barClassName,c=o.hide,p=o.animate;return r("div",{className:s},void 0,r(y,{hide:!0===c||null==t&&null==n,className:(0,u.default)(d,null!=n?f.default.mention:f.default.unread),text:null!=n?a:i,reverse:l,animate:p,onClick:this.handleClick}))},t}(i.Component);v.defaultProps={className:f.default.container,reverse:!1,hide:!1,animate:!0},t.default=v,e.exports=t.default},6427:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={show:function(e,t){o.default.dirtyDispatch({type:r.ActionTypes.TUTORIAL_INDICATOR_SHOW,tutorialId:e,renderData:t})},hide:function(e){o.default.dirtyDispatch({type:r.ActionTypes.TUTORIAL_INDICATOR_HIDE,tutorialId:e})},dismiss:function(e){o.default.dispatch({type:r.ActionTypes.TUTORIAL_INDICATOR_DISMISS,tutorialId:e}),a.default.put(r.Endpoints.TUTORIAL_INDICATORS+"/"+e)},suppressAll:function(){o.default.dispatch({type:r.ActionTypes.TUTORIAL_INDICATOR_SUPPRESS_ALL}),a.default.post(r.Endpoints.TUTORIAL_INDICATORS+"/suppress")}},e.exports=t.default},6428:function(e){e.exports={"voice-conversations":{popoutPosition:"top",highPriority:!0},"writing-messages":{popoutPosition:"top",prerequisites:["voice-conversations"],highPriority:!0},"organize-by-topic":{popoutPosition:"right"},"whos-online":{popoutPosition:"left",prerequisites:["instant-invite"]},"instant-invite":{popoutPosition:"right",prerequisites:["organize-by-topic"],highPriority:!0},"server-settings":{popoutPosition:"bottom",prerequisites:["instant-invite"]},"direct-messages":{popoutPosition:"right"},"create-more-servers":{popoutPosition:"right",prerequisites:["server-settings"]},"create-first-server":{popoutPosition:"right",highPriority:!0},"friends-list":{popoutPosition:"right",prerequisites:["instant-invite"]}}},6429:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetch:function(){a.default.get(r.Endpoints.FRIEND_SUGGESTIONS).then(function(e){return o.default.dispatch({type:r.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})},function(){return o.default.dispatch({type:r.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})})},ignore:function(e){a.default.delete(r.Endpoints.FRIEND_SUGGESTIONS+"/"+e)}},e.exports=t.default},6430:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a,i,l,u=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=M(n(1)),d=b(n(3)),f=b(n(189)),c=b(n(521)),p=b(n(1257)),h=M(n(127)),_=b(n(69)),E=b(n(383)),y=b(n(44)),g=b(n(537)),v=b(n(27)),m=b(n(7283)),T=b(n(142)),I=b(n(79)),C=n(968),S=b(n(6211)),N=n(0),A=b(n(6)),O=b(n(5840));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=Object.freeze(((l={})[N.LocalDispatchApplicationStates.INSTALLING]=((r={})[C.TimeUnits.NONE]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},r[C.TimeUnits.SECONDS]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},r[C.TimeUnits.MINUTES]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},r[C.TimeUnits.HOURS]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},r),l[N.LocalDispatchApplicationStates.UPDATING]=((a={})[C.TimeUnits.NONE]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})},a[C.TimeUnits.SECONDS]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})},a[C.TimeUnits.MINUTES]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})},a[C.TimeUnits.HOURS]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})},a),l[N.LocalDispatchApplicationStates.REPAIRING]=((i={})[C.TimeUnits.NONE]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},i[C.TimeUnits.SECONDS]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},i[C.TimeUnits.MINUTES]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},i[C.TimeUnits.HOURS]=function(e,t){return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},i),l)),P=function(e){function t(){var n,o;R(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=L(this,e.call.apply(e,[this].concat(a))),o.renderProgressBody=function(e,t){var n=o.props,r=n.state,a=n.application,i=r.stage,l=r.progress,u=r.total,s=r.type;if(null==l||null==u||null==i)return null;var d=e[e.length-1]/t*1e3,f=u-l,c=0!==d?Math.max(1,f/d):null,p=null!=c?c/60:null,h=null!=w[s]?Object.keys(w[s]):[],_=(0,C.getTimeAndUnit)(p,h),E=_.unit,y=_.time,g=w[s];if(null!=g&&null!=E){var v=g[E];return null!=v?v(a.name,y):null}return null},L(o,n)}return D(t,e),t.prototype.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===N.LocalDispatchApplicationStates.UPDATING||t.type===N.LocalDispatchApplicationStates.REPAIRING||t.type===N.LocalDispatchApplicationStates.INSTALLING){if(n)return A.default.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===N.DispatchApplicationStages.PATCHING||t.stage===N.DispatchApplicationStages.REPAIRING)return u(S.default,{getHistoricalTotalBytes:_.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressBody)}return null},t.prototype.render=function(){var e=this.renderText();return null!=e?e:A.default.Messages.LIBRARY},t}(s.PureComponent),U=function(e){function t(){var n,o;R(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=L(this,e.call.apply(e,[this].concat(a))),o.state={animationScale:new f.default.Value(0)},o.handleOnClick=function(e){var t=o.props.onClick;e.preventDefault(),e.stopPropagation(),t&&t(e),p.default.transitionTo(N.Routes.GAME_LIBRARY)},L(o,n)}return D(t,e),t.prototype.componentWillAppear=function(e){this.state.animationScale.setValue(1),e()},t.prototype.componentWillEnter=function(e){f.default.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)},t.prototype.componentWillLeave=function(e){f.default.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)},t.prototype.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,o=e.isPaused;return null==t||null==n?A.default.Messages.LIBRARY:u(P,{application:t,state:n,isPaused:o})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.percent,o=e.isPaused;return u(f.default.div,{style:{transform:[{scale:this.state.animationScale}]},className:t,onClick:this.handleOnClick},void 0,u(T.default,{text:this.getTooltipText(),position:T.default.Positions.RIGHT},void 0,u("div",{className:O.default.progressCircleWrapper},void 0,u(m.default,{percent:n,colorOverride:o?N.Colors.PRIMARY_500:null},void 0,u(I.default,{name:I.default.Names.DOWNLOAD,className:O.default.downloadIcon})))))},t}(s.PureComponent);t.default=d.default.connectStores([_.default,E.default,y.default,g.default],function(){var e=E.default.activeItems,t=e.reduce(function(e,t){var n=t.applicationId,o=t.branchId,r=_.default.getState(n,o);return null!=r&&e.push(r),e},[]),n=h.getCombinedProgress(t),o=n.total,r=n.progress;return{percent:h.calculateDownloadProgressPercentage(r,o),hasGameLibrary:g.default.isInExperiment(),isPaused:E.default.paused,firstApplication:e.length>0?v.default.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(function(e){return u(c.default,{},void 0,e.percent>0&&e.percent<100&&e.hasGameLibrary?s.createElement(U,e):null)}),e.exports=t.default},6431:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(73),u=k(n(521)),s=k(n(275)),d=k(n(8)),f=k(n(9)),c=k(n(3)),p=k(n(6)),h=k(n(7285)),_=k(n(7284)),E=k(n(7282)),y=k(n(7281)),g=k(n(7280)),v=k(n(369)),m=k(n(6051)),T=n(6007),I=k(T),C=k(n(142)),S=k(n(6426)),N=k(n(163)),A=k(n(966));n(538);var O=k(n(12)),b=k(n(6003)),M=k(n(363)),R=k(n(191)),L=n(33),D=k(n(6071)),w=k(n(38)),P=k(n(5995)),U=k(n(11)),G=n(0),H=k(n(5560));function k(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var F=58,j=50+(U.default.isOSX()?0:18)+33+12,B={top:9,bottom:18};function V(e){var t=b.default.getMentionCounts();return null!=t[e]?t[e]>0:M.default.getMentionCount(e)>0}function K(){return!1}var W=c.default.connectStores([M.default,b.default,R.default],function(){return{textUnread:p.default.Messages.UNREADS,textMention:p.default.Messages.NEW,isUnread:K,isMentioned:V,animate:R.default.isFocused()}})(S.default),Y=function(e){var t=e.isOwnerOfAny,n=e.children;return a(I.default,{tutorialId:t?"create-more-servers":"create-first-server",position:T.TutorialIndicatorPositions.RIGHT,offsetX:-18,offsetY:-18,autoOpen:!1},void 0,n)},$=a(g.default,{}),z=a(E.default,{}),X=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=x(this,e.call.apply(e,[this].concat(a))),o.initialized=!1,o.guildRefs={},o.handleJumpToGuild=function(e){o.scrollToGuild(e,!0)},o.handleScroll=function(){if(null!=o.scroller){var e=o.scroller.getScrollData().scrollTop;P.default.updateGuildListScrollTo(e)}},o.isItemVisible=function(e,t,n){var r=n.indexOf(e);if(r<0||null==o.scroller)return!1;var a=F*r+j,i=o.scroller.getScrollData();return!!(!t&&a>i.scrollTop||t&&a+F<=i.scrollTop+i.offsetHeight)},o.setScrollerRef=function(e){o.scroller=e},x(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!!e.isVisible&&!(0,s.default)(e,this.props)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.guilds,o=t.selectedGuildId,r=this.initialized;!r&&n.length?(this.scrollToGuild(o,!1),this.initialized=!0):r&&o!==e.selectedGuildId&&this.scrollToGuild(o,!1)},t.prototype.scrollToGuild=function(e,t){var n=this.scroller;if(null!=n){var o=this.guildRefs[e],r=(0,l.findDOMNode)(o);null!=o&&null!=r&&r instanceof HTMLElement?n.scrollIntoView(r,t,B):n.scrollTo(0,t)}},t.prototype.renderCreateJoinGuildButton=function(e,t){if(this.props.isOverlay)return null;var n=d.default.some(this.props.guilds,function(e){return e.guild.isOwner(O.default.getCurrentUser())});return a(Y,{isOwnerOfAny:n},e.length+t.length,a("button",{type:"button",className:(0,f.default)(H.default.guild,H.default.guildsAdd),onClick:function(){return D.default.open(null,"Guild List")},onContextMenu:this.handleContextMenu},void 0,a("span",{className:H.default.guildsAddInner},void 0,"+")))},t.prototype.render=function(){var e=this,t=this.props,n=t.guilds,o=t.channels,r=t.unreadGuilds,i=t.mentionCounts,l=t.selectedGuildId,s=t.selectedVoiceGuildId,c=t.selectedVoiceChannelId,E=t.selectedPrivateChannelId,g=t.totalUnavailableGuilds,m=t.mode,S=t.disableAppDownload,O=t.isOverlay,b=t.className,R=n.map(function(t){var n=t.guild,o=t.index,u=!1,d=!1;return s===n.id&&(u=m===G.ChannelModes.VOICE,d=m===G.ChannelModes.VIDEO),a(h.default,{setRef:function(t){return e.guildRefs[n.id]=t},guild:n,selected:l===n.id,audio:u,video:d,badge:i[n.id]||0,unread:r[n.id]||!1,index:o},n.id)}),L=[],D=void 0;if(D=i.null?(0,d.default)(o).filter(function(e){return e.isPrivate()&&e.id!==c}).map(function(e){return[e,M.default.getMentionCount(e.id)]}).filter(function(e){e[0];return e[1]>0}).map(function(e){var t=e[0],n=e[1];return L.push(t.id),a(y.default,{badge:n,channel:t},t.id)}).value():[],!s&&c){L.push(c);var P=o[c];null!=P&&D.unshift(a(y.default,{channel:P,selected:null===l&&E===c,badge:M.default.getMentionCount(P.id),audio:m===G.ChannelModes.VOICE,video:m===G.ChannelModes.VIDEO},P.id))}n.forEach(function(e){var t=e.guild;return L.push(t.id)});var U=void 0;if(g>0){var k=p.default.Messages.PARTIAL_OUTAGE.format({count:g});U=a("div",{className:H.default.guild},void 0,a(C.default,{text:k,position:C.default.Positions.RIGHT,color:C.default.Colors.RED},void 0,a(N.default,{href:"//twitter.com/discordapp",target:"_blank",className:H.default.guildsError},void 0,"!")))}var x=void 0;return S||(x=a("button",{type:"button",onClick:function(){return w.default.push(v.default,{source:"Guilds"})},className:H.default.downloadAppButton},void 0,$,p.default.Messages.DOWNLOAD_APPS)),a("div",{className:(0,f.default)(H.default.guildsWrapper,b)},void 0,a(W,{items:L,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:H.default.unreadMentionsIndicatorTop,barClassName:H.default.unreadMentionsBar}),a(A.default,{className:H.default.guilds,outerClassName:H.default.scrollerWrap,setRef:this.setScrollerRef,onScroll:this.handleScroll},void 0,a(I.default,{tutorialId:"friends-list",position:T.TutorialIndicatorPositions.RIGHT,offsetX:-18,offsetY:-18},void 0,a(_.default,{selected:null==l,showDMsOnly:O})),z,a(u.default,{className:H.default.dms},void 0,D),a("div",{className:H.default.guildSeparator}),R,U,this.renderCreateJoinGuildButton(R,D),x),a(W,{reverse:!0,items:L,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:H.default.unreadMentionsIndicatorBottom,barClassName:H.default.unreadMentionsBar}))},t.prototype.getRowHeight=function(){return F},t.prototype.getContainerHeight=function(){return null!=this.scroller?this.scroller.getScrollData().offsetHeight:0},t.prototype.handleContextMenu=function(e){(0,L.openContextMenu)(e,function(e){return i.createElement(m.default,r({},e,{type:G.ContextMenuTypes.GUILD_ICON_NEW}))})},t}(i.Component);X.defaultProps={isOverlay:!1,disableAppDownload:U.default.embedded,isVisible:!0},t.default=X,e.exports=t.default},6620:function(e,t,n){e.exports=n.p+"808132e382c228d8fc8c7f9111b9abf7.svg"},6621:function(e,t,n){e.exports=n.p+"cef02719c12d8aaf38894c16dca7fbe6.svg"},6622:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5902));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.data,n=e.disabled,o=t.content,l=t.className,u=t.onClick,s=t.disabled;return r("button",{className:(0,a.default)(i.default.item,l),onClick:u,disabled:n||s},void 0,o)};t.default=function(e){var t=e.buttons,n=e.disabled,o=e.className;return r("div",{role:"group",className:(0,a.default)(i.default.group,o)},void 0,t.map(function(e,t){return r(u,{data:e,disabled:n},t)}))},e.exports=t.default},6623:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(941)),u=n(75),s=y(u),d=y(n(940)),f=y(n(7529)),c=y(n(142)),p=y(n(76)),h=y(n(79)),_=n(0),E=y(n(5900));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getOverwriteValue=function(e){var t=this.props,n=t.allow,o=t.deny;if(null==n||null==o)throw new Error("PermissionsForm.getOverwriteValue: Invalid allow or deny props");return n&e?p.default.ALLOW:o&e?p.default.DENY:p.default.PASSTHROUGH},t.prototype.getPermissionValue=function(e,t){return!!(t&e)},t.prototype.handleChange=function(e,t){(0,this.props.onChange)(e,t)},t.prototype.renderDisabledIndicator=function(e){return r(c.default,{text:e,position:c.default.Positions.TOP,color:c.default.Colors.RED},void 0,r("span",{},void 0,r(h.default,{name:h.default.Names.NOT_ALLOWED,className:E.default.icon,width:18,height:18})))},t.prototype.renderComponent=function(e){var t,n=this,o=e.title,a=e.description,l=e.flag,u=this.props,s=u.permissions,c=u.locked,p=u.permissionRender,h=p&&p(l),y=!(!c&&!h),g="string"==typeof h?this.renderDisabledIndicator(h):null,v=(0,i.default)(((t={})[E.default.title]=null!=g,t));return null==s?r(f.default,{disabled:y,value:this.getOverwriteValue(l),onChange:function(e){return n.handleChange(l,e)},note:a},l,g,r("span",{className:v},void 0,o)):r(d.default,{fill:_.Colors.STATUS_GREEN,disabled:y,value:this.getPermissionValue(l,s),onChange:function(e){var t=e.currentTarget.checked;return n.handleChange(l,t)},note:a},l,g,r("span",{className:v},void 0,o))},t.prototype.render=function(){var e=this.props,t=e.spec,n=e.className;return r(l.default,{className:n},void 0,r(s.default,{tag:u.Tags.H5,className:"margin-bottom-20"},void 0,t.title),t.permissions.map(this.renderComponent,this))},t}(a.PureComponent);t.default=g,e.exports=t.default},6671:function(e,t,n){"use strict";t.__esModule=!0,t.Content=t.Sidebar=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(265)),u=f(n(40)),s=n(0),d=f(n(5906));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=t.Sidebar=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollable,n=e.theme,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["scrollable","theme"]),f=n===s.ThemeTypes.LIGHT?s.Colors.WHITE:s.Colors.PRIMARY_600;return t?a("aside",{className:d.default.sidebarScrollable},void 0,a(l.default,{fade:!0,theme:l.default.Themes.GHOST_HAIRLINE,backgroundColor:f,className:d.default.scroller},void 0,i.createElement(u.default.Child,r({},o,{wrap:!0})))):i.createElement(u.default.Child,r({},o,{wrap:!0}))},t}(i.PureComponent);_.defaultProps={basis:232,grow:0,shrink:0,className:d.default.sidebar};var E=t.Content=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){return i.createElement(u.default.Child,r({wrap:!0},this.props))},t}(i.PureComponent);E.defaultProps={className:d.default.content};var y=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){return i.createElement(u.default,this.props)},t}(i.PureComponent);y.defaultProps={className:d.default.layout,direction:u.default.Direction.HORIZONTAL,justify:u.default.Justify.START,align:u.default.Align.START,wrap:u.default.Wrap.NO_WRAP,shrink:1,grow:1,basis:"auto"},y.Direction=u.default.Direction,y.Justify=u.default.Justify,y.Align=u.default.Align,y.Wrap=u.default.Wrap,y.Sidebar=_,y.Content=E,t.default=y},6672:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(142)),l=c(n(40)),u=c(n(6045)),s=n(6050),d=n(0),f=c(n(5907));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderLock=function(){var e=this.props,t=e.locked,o=e.lockTooltip,a=e.theme;if(!t)return null;var s=a===d.ThemeTypes.DARK?n(7782):n(7781);return r(l.default,{shrink:0,grow:0,align:l.default.Align.CENTER,style:{marginRight:0}},void 0,r(i.default,{text:o,color:i.default.Colors.RED},void 0,r(u.default,{className:f.default.lock,src:s})))},t.prototype.render=function(){var e=this.props,t=e.color,n=e.id,o=e.children,a=e.isDragging,i=e.selectedItem,u=e.onItemSelect,d=e.itemType;return a?r("div",{className:f.default.dragged}):r(s.Item,{className:f.default.role,id:n,color:t||void 0,selectedItem:i,onItemSelect:u,itemType:d},void 0,r(l.default,{align:l.default.Align.CENTER},void 0,this.renderLock(),r(l.default.Child,{className:f.default.roleInner},void 0,o)))},t}(a.PureComponent);t.default=p,e.exports=t.default},6673:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;o.default.dispatch({type:r.ActionTypes.PRUNE_GUILD_MODAL_OPEN,guildId:e,days:t,estimate:0}),a.default.get({url:r.Endpoints.GUILD_PRUNE(e),query:{days:t}}).then(function(n){o.default.dispatch({type:r.ActionTypes.PRUNE_GUILD_MODAL_UPDATE,guildId:e,days:t,estimate:n.body.pruned})},function(){})},close:function(){o.default.dispatch({type:r.ActionTypes.PRUNE_GUILD_MODAL_CLOSE})},prune:function(e,t){a.default.post({url:r.Endpoints.GUILD_PRUNE(e),query:{days:t}}),this.close()}},e.exports=t.default},6674:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=R(n(40)),l=R(n(6)),u=R(n(125)),s=R(n(112)),d=R(n(38)),f=R(n(6127)),c=R(n(13)),p=R(n(75)),h=R(n(266)),_=n(262),E=R(_),y=R(n(939)),g=R(n(944)),v=R(n(526)),m=R(n(6132)),T=R(n(6078)),I=R(n(64)),C=R(n(163)),S=R(n(6262)),N=R(n(523)),A=R(n(123)),O=n(81),b=n(0),M=R(n(5911));function R(e){return e&&e.__esModule?e:{default:e}}var L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.handleChannelChange=o.handleChannelChange.bind(o),o.handleAvatarChange=o.handleAvatarChange.bind(o),o.handleNameChange=o.handleNameChange.bind(o),o.handleSaveWebhook=o.handleSaveWebhook.bind(o);var r=n.webhook,a=r.name,i=r.channel_id,l=r.avatar;return o.state={name:a,channelId:i,avatar:l,submitting:!1,errors:{}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleNameChange=function(e){this.setState({name:e})},t.prototype.handleAvatarChange=function(e){this.setState({avatar:e})},t.prototype.handleChannelChange=function(e){var t=e.value;this.setState({channelId:t})},t.prototype.handleSaveWebhook=function(){var e=this,t=this.state,n=t.avatar,o=t.name,r=t.channelId,a=this.props.webhook,i={name:o,channel_id:r};n!==a.avatar&&(i.avatar=n),this.setState({submitting:!0},function(){f.default.update(a.guild_id,a.id,i).then(function(){d.default.pop()}).catch(function(t){var n=t.body;e.setState({errors:n,submitting:!1})})})},t.prototype.getWebhookURL=function(){var e=this.props.webhook,t=e.id,n=e.token;return""+c.default.getAPIBaseURL(!1)+b.Endpoints.WEBHOOK_INTEGRATION(t,n)},t.prototype.renderNameChannel=function(){var e=this.props.webhook,t=this.state,n=t.name,o=t.channelId,a=t.errors,d=u.default.getChannels(e.guild_id)[b.ChannelTypes.GUILD_TEXT].filter(function(e){var t=e.channel;return s.default.can(b.Permissions.MANAGE_WEBHOOKS,{channelId:t.id})}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString(!0)}});return r(i.default,{},void 0,r(i.default.Child,{basis:"50%"},void 0,r(h.default,{title:l.default.Messages.WEBHOOK_FORM_NAME},void 0,r(y.default,{value:n,onChange:this.handleNameChange,error:a.name}))),r(i.default.Child,{basis:"50%"},void 0,r(h.default,{title:l.default.Messages.CHANNEL},void 0,r(g.default,{value:o,clearable:!1,searchable:!1,options:d,onChange:this.handleChannelChange}))))},t.prototype.renderAvatar=function(){var e=this.props.webhook.id,t=this.state,n=t.avatar,o=t.errors;return r(h.default,{title:l.default.Messages.WEBHOOK_MODAL_ICON_TITLE,className:M.default.container},void 0,r(i.default,{},void 0,r(i.default.Child,{},void 0,r(E.default,{type:_.Types.DESCRIPTION},void 0,l.default.Messages.WEBHOOK_MODAL_ICON_DESCRIPTION),r(I.default,{look:I.default.Looks.OUTLINED,color:I.default.Colors.PRIMARY,className:M.default.uploadButton},void 0,l.default.Messages.UPLOAD_IMAGE,r(T.default,{onChange:this.handleAvatarChange}))),r(i.default.Child,{wrap:!0,grow:0},void 0,r(m.default,{avatar:n,size:b.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(){return(0,O.getUserAvatarURL)({id:e,avatar:n,discriminator:b.NON_USER_BOT_DISCRIMINATOR})}}),o.avatar?r("div",{},void 0,o.avatar):null)))},t.prototype.renderURL=function(){return r(i.default.Child,{className:M.default.urlContainer},void 0,r(h.default,{title:l.default.Messages.WEBHOOK_FORM_URL},void 0,r(S.default,{value:this.getWebhookURL(),className:M.default.copyInput}),r(E.default,{type:_.Types.DESCRIPTION},void 0,r(C.default,{href:N.default.getArticleURL(b.HelpdeskArticles.WEBHOOKS_INTRODUCTION)},void 0,l.default.Messages.WEBHOOK_FORM_WEBHOOK_URL_HELP))))},t.prototype.render=function(){return r(A.default,{size:M.default.size},void 0,r(A.default.Header,{},void 0,r(p.default,{tag:p.default.Tags.H4},void 0,l.default.Messages.WEBHOOK_MODAL_TITLE)),r(A.default.Content,{},void 0,this.renderNameChannel(),r(v.default,{className:M.default.divider}),this.renderAvatar(),r(v.default,{className:M.default.divider}),this.renderURL()),r(A.default.Footer,{},void 0,r(I.default,{submitting:this.state.submitting,onClick:this.handleSaveWebhook},void 0,l.default.Messages.SAVE),r(I.default,{color:I.default.Colors.GREY,look:I.default.Looks.LINK,onClick:this.props.onClose},void 0,l.default.Messages.CANCEL)))},t}(a.PureComponent);t.default=L,e.exports=t.default},6675:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(3)),u=R(n(6)),s=R(n(8)),d=R(n(7791)),f=R(n(6674)),c=R(n(7790)),p=R(n(6001)),h=R(n(941)),_=R(n(526)),E=R(n(262)),y=n(75),g=R(n(224)),v=n(5985),m=R(v),T=R(n(144)),I=R(n(7789)),C=R(n(31)),S=R(n(125)),N=R(n(112)),A=R(n(6127)),O=R(n(267)),b=R(n(38)),M=n(0);function R(e){return e&&e.__esModule?e:{default:e}}var L=["Spidey Bot","Captain Hook"],D=a(p.default,{}),w=a(_.default,{className:"margin-top-20 margin-bottom-20"}),P=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s.default.bindAll(o,["handleCreateWebhook","renderWebhooks"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.props,t=e.channel,n=e.guild;t?A.default.fetchForChannel(n.id,t.id):A.default.fetchForGuild(n.id)},t.prototype.renderWebhooks=function(){var e=this.props,t=e.webhooks,o=e.error,r=e.theme;return e.isFetching?a(g.default,{className:"margin-top-20",type:g.default.Type.SPINNING_CIRCLE}):null!=o?a(E.default,{},void 0,o):0===t.length?a(m.default,{theme:r,className:"margin-top-20"},void 0,a(v.EmptyStateImage,{darkSrc:n(7788),lightSrc:n(7787),width:292,height:182}),a(v.EmptyStateText,{note:u.default.Messages.SETTINGS_WEBHOOKS_EMPTY_BODY},void 0,u.default.Messages.SETTINGS_WEBHOOKS_EMPTY_TITLE)):t.map(function(e,t){return a(d.default,{webhook:e,theme:r,className:"margin-bottom-8"},t)})},t.prototype.render=function(){var e=this.props,t=e.streamerMode,n=e.createChannelId,o=e.error;return t?D:a(h.default,{tag:y.Tags.H2,title:u.default.Messages.WEBHOOKS},void 0,a(c.default,{disabled:null==n||null!=o,onCreate:this.handleCreateWebhook}),w,this.renderWebhooks())},t.prototype.handleCreateWebhook=function(){var e=this.props,t=e.guild,n=e.createChannelId;if(null!=n){var o=L[s.default.random(0,L.length-1)];A.default.create(t.id,n,{name:o}).then(function(e){return b.default.push(function(t){return i.createElement(f.default,r({webhook:e},t))})}).catch(function(e){var t=e.body;t&&t.code===M.AbortCodes.TOO_MANY_WEBHOOKS?O.default.show({title:u.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:u.default.Messages.WEBHOOK_ERROR_MAX_WEBHOOKS_REACHED}):O.default.show({title:u.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:u.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}},t}(i.PureComponent);P.defaultProps={showChannel:!0},t.default=l.default.connectStores([T.default,I.default,C.default,S.default,N.default],function(e){var t=e.channel,n=e.guild,o=void 0,r=void 0;if(null!=t)o=I.default.getWebhooksForChannel(n.id,t.id),r=t.id;else{o=I.default.getWebhooksForGuild(n.id);var a=S.default.getDefaultChannel(n.id);null!=a&&N.default.can(M.Permissions.MANAGE_WEBHOOKS,a)&&(r=a.id)}return{guild:n,webhooks:o,streamerMode:T.default.enabled,theme:C.default.theme,isFetching:0===o.length&&I.default.isFetching(n.id),error:I.default.error,createChannelId:r}})(P),e.exports=t.default},6676:function(e,t,n){e.exports=n.p+"857c505aafbe092e4f6efecebcad0bc8.svg"},6677:function(e,t,n){e.exports=n.p+"712a0fd4d14a1caadd31cb0745e91238.svg"},6678:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(8)),l=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._interval=setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},t.prototype.render=function(){var e=void 0;if(this.props.deadline===1/0)e="";else{var t=Math.max(0,this.props.deadline-Date.now())/1e3,n=[Math.floor(t/86400),Math.floor((t%=86400)/3600),Math.floor((t%=3600)/60),Math.floor(t%60)];if(0===n[0])n.shift();else if(!this.props.showDays){var o=n.shift();n[0]+=24*o}e=(0,i.default)(n).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,r("span",{className:"ui-countdown-number"},t,e)]}).flatten().value()}var a=(0,l.default)("ui-countdown",{"ui-countdown-never":this.props.deadline===1/0});return r("span",{className:a},void 0,e)},t}(a.PureComponent);s.defaultProps={showDays:!0},t.default=s,e.exports=t.default},6679:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(8)),l=S(n(6)),u=S(n(9)),s=S(n(947)),d=S(n(6678)),f=S(n(365)),c=S(n(38)),p=n(6012),h=S(n(40)),_=S(n(224)),E=S(n(6024)),y=n(5985),g=S(y),v=n(520),m=S(n(67)),T=n(0),I=S(n(5558)),C=S(n(5557));function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5912);var b="3",M="3",R="1",L="2",D=function(e){function t(n){N(this,t);var o=A(this,e.call(this,n));return o.handleRevokeInvite=o.handleRevokeInvite.bind(o),o}return O(t,e),t.prototype.renderChannel=function(){var e=this.props,t=e.showChannel,n=e.invite;return t?r(m.default,{size:m.default.Sizes.SMALL,className:"channel-name",style:{opacity:.3}},void 0,n.channel.toString(!0)):null},t.prototype.renderUser=function(){var e=this.props.invite.inviter;return null==e?null:r(h.default,{},void 0,r(s.default,{user:e,size:"xsmall"}),r(m.default,{className:"username"},void 0,e.toString()))},t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hide,o=t.uses;return t.maxUses>0&&(o=t.uses+"/"+t.maxUses),r(h.default,{className:(0,u.default)("invite-settings-invite-row",I.default.card)},void 0,r(h.default,{grow:b,basis:0,align:h.default.Align.CENTER,className:"td z-index-boost"},void 0,r(h.default.Child,{},void 0,this.renderUser(),this.renderChannel())),r(h.default,{grow:M,shrink:1,basis:0,align:h.default.Align.CENTER,className:"td z-index-boost"},void 0,r(m.default,{family:m.default.Family.CODE,className:"overflow-ellipsis user-select-text",style:{opacity:.3}},void 0,n?"...":t.code)),r(h.default,{grow:R,basis:0,justify:h.default.Justify.END,align:h.default.Align.CENTER,className:"td z-index-boost"},void 0,r(m.default,{family:m.default.Family.CODE,className:"text-align-right"},void 0,o)),r(h.default,{grow:L,basis:0,align:h.default.Align.CENTER,justify:h.default.Justify.END,className:"td countdown-column z-index-boost"},void 0,r(m.default,{family:m.default.Family.CODE,className:"text-align-right"},void 0,r(d.default,{deadline:t.getExpiresAt()}))),r("button",{className:(0,u.default)("revoke-invite",C.default.button),onClick:this.handleRevokeInvite}))},t.prototype.handleRevokeInvite=function(){f.default.revokeInvite(this.props.invite.code)},t}(a.PureComponent),w=r(v.FormDivider,{className:"margin-bottom-20"}),P=function(e){function t(){var n,o;N(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=A(this,e.call.apply(e,[this].concat(a))),o.handleShowInviteModal=function(){var e=o.props.guild;c.default.push(E.default,{guild:e,source:T.InstantInviteSources.SETTINGS_INVITE})},A(o,n)}return O(t,e),t.prototype.renderInvites=function(){var e=this.props,t=e.invites,n=e.hide,o=e.showChannel,a=e.loading;return null==t||a?[r(_.default,{className:"margin-top-20",type:_.default.Type.SPINNING_CIRCLE},"spinner")]:(0,i.default)(t).sortBy(function(e){return(e.inviter&&e.inviter.username||"").toLowerCase()}).map(function(e){return r(D,{hide:n,invite:e,showChannel:o},e.code)}).value()},t.prototype.renderHeader=function(){var e=this.props,t=e.invites,o=e.loading,a=e.theme,u=e.canCreateInvites,s=void 0;return null==t||o||(s=i.default.isEmpty(t)?r(g.default,{theme:a,className:"margin-top-20"},void 0,r(y.EmptyStateImage,{darkSrc:n(6677),lightSrc:n(6676),width:256,height:130}),r(y.EmptyStateText,{note:l.default.Messages.NO_INVITES_BODY},void 0,l.default.Messages.NO_INVITES_LABEL)):r(h.default,{},void 0,r(h.default.Child,{grow:b,basis:0,className:"margin-reset"},void 0,r(v.FormTitle,{},void 0,l.default.Messages.INSTANT_INVITE_INVITER)),r(h.default.Child,{basis:0,grow:M,className:"margin-reset"},void 0,r(v.FormTitle,{},void 0,l.default.Messages.INSTANT_INVITE_INVITE_CODE)),r(h.default.Child,{grow:R,basis:0,className:"text-align-right"},void 0,r(v.FormTitle,{},void 0,l.default.Messages.INSTANT_INVITE_USES)),r(h.default.Child,{grow:L,basis:0,className:"text-align-right"},void 0,r(v.FormTitle,{},void 0,l.default.Messages.INSTANT_INVITE_EXPIRES)))),r(v.FormSection,{className:"margin-bottom-4"},void 0,r(v.FormTitle,{tag:v.FormTitleTags.H2},void 0,l.default.Messages.INVITES),r(v.FormText,{className:"margin-bottom-20",type:v.FormTextTypes.DESCRIPTION},void 0,u?l.default.Messages.SETTINGS_INVITE_TIP.format({onCreateInvite:this.handleShowInviteModal}):l.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE),w,s)},t.prototype.render=function(){return r(p.LazyContentScroller,{className:"instant-invite-settings",theme:this.props.theme,header:this.renderHeader(),elementHeight:62},void 0,this.renderInvites())},t}(a.PureComponent);t.default=P,e.exports=t.default},6681:function(e,t,n){e.exports=n.p+"fe5ef0f14b8d025d73465e2d76913e20.svg"},6682:function(e,t,n){e.exports=n.p+"59c726954bd8424f376ca3a7eedc4c54.svg"},6683:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(6)),l=p(n(3)),u=p(n(112)),s=p(n(34)),d=n(33),f=p(n(6073)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.type,n=e.guild;(0,d.closeContextMenu)(),f.default.open(t,n.id,null,null)},t.prototype.render=function(){if(__OVERLAY__)return null;var e=this.props,t=e.type;if(!e.canManageChannels)return null;var n=void 0;return n=t===c.ChannelTypes.GUILD_TEXT?i.default.Messages.CREATE_TEXT_CHANNEL:t===c.ChannelTypes.GUILD_VOICE?i.default.Messages.CREATE_VOICE_CHANNEL:t===c.ChannelTypes.GUILD_CATEGORY?i.default.Messages.CREATE_CATEGORY:i.default.Messages.CREATE_CHANNEL,r(s.default,{label:n,action:this.handleClick})},t}(a.PureComponent);t.default=l.default.connectStores([u.default],function(e){var t=e.guild;return{canManageChannels:u.default.can(c.Permissions.MANAGE_CHANNELS,t)}})(h),e.exports=t.default},6685:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),_(n(43))),l=_(n(57)),u=_(n(6)),s=_(n(3)),d=_(n(195)),f=_(n(269)),c=_(n(6047)),p=n(6130),h=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var E=(0,i.default)({displayName:"ChannelMuteItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{channel:a.default.object.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isMuted:f.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},render:function(){return r(d.default,{label:u.default.Messages.MUTE_CHANNEL.format({name:this.props.channel.toString(!0)}),action:this.handleChannelMute,active:this.state.isMuted})},handleChannelMute:function(){var e=this.state.isMuted,t=this.props.channel;c.default.updateChannelOverrideSettings(t.getGuildId(),t.id,{muted:!e}),t.type===h.ChannelTypes.GUILD_CATEGORY&&(e?(0,p.categoryExpand)(t.id):(0,p.categoryCollapse)(t.id))}});t.default=E,e.exports=t.default},6686:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),u=c(n(526)),s=c(n(6266)),d=c(n(6689)),f=c(n(5924));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["className"]);return i.createElement(s.default,r({},n,{className:(0,l.default)(f.default.popoutListInput,t)}))},t}(i.PureComponent);E.defaultProps={autoFocus:!0};var y=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return a("div",{className:(0,l.default)(f.default.popoutList,t)},void 0,n)},t}(i.PureComponent);y.SearchBar=E,y.Item=d.default,y.Divider=function(){return a(u.default,{className:f.default.divider})},y.Empty=function(e){var t=e.children;return a("div",{className:f.default.popoutListEmpty},void 0,t)},t.default=y,e.exports=t.default},6687:function(e,t,n){"use strict";t.__esModule=!0,t.QuickSelectPopout=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(40)),u=d(n(265)),s=d(n(5926));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),c(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,o=e.renderValue,a=e.className;return r(l.default,{className:(0,i.default)(s.default.quickSelect,a),align:l.default.Align.CENTER},void 0,r("div",{className:s.default.quickSelectLabel},void 0,t),r(l.default,{align:l.default.Align.CENTER,className:s.default.quickSelectClick},void 0,r("div",{className:s.default.quickSelectValue},void 0,o?o(n):n.label),r("div",{className:s.default.quickSelectArrow})))},t}(a.PureComponent),_=function(e){function t(n){f(this,t);var o=c(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.renderOption,o=e.option;return r(l.default,{className:(0,i.default)(s.default.quickSelectPopoutOption,{selected:t}),onClick:this.handleClick},void 0,n(o,t))},t.prototype.handleClick=function(){var e=this.props,t=e.option,n=e.onChange;n&&n(t)},t}(a.PureComponent);t.QuickSelectPopout=function(e){function t(){return f(this,t),c(this,e.apply(this,arguments))}return p(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.options,n=e.renderOption,o=e.value,a=e.scroller,i=e.onChange,l=t.map(function(e){var t=null!=o&&e.value===o.value,a=t?void 0:i;return r(_,{className:s.default.quickSelectPopoutOption,renderOption:n,option:e,onChange:a,selected:t},e.key||e.value)});return a?r(u.default,{className:s.default.quickSelectScroller},void 0,l):l},t.prototype.render=function(){var e,t=this.props,n=t.className,o=t.scroller,a=(0,i.default)(s.default.quickSelectPopout,n,((e={})[s.default.quickSelectPopoutScroll]=o,e));return r(l.default,{className:a,direction:l.default.Direction.VERTICAL},void 0,this.renderContent())},t}(a.PureComponent);t.default=h},6688:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=h(n(6)),u=h(n(6687)),s=h(n(6686)),d=h(n(265)),f=h(n(223)),c=h(n(192)),p=h(n(5923));function h(e){return e&&e.__esModule?e:{default:e}}var _=a(s.default.Divider,{}),E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.renderPopout=o.renderPopout.bind(o),o.renderItems=o.renderItems.bind(o),o.handleChange=o.handleChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderItems=function(){var e=this,t=this.props,n=t.items,o=t.renderItem;return 0===n.length?a(s.default.Empty,{},void 0,l.default.Messages.NONE):a(d.default,{track:!0,className:p.default.scroller,theme:d.default.Themes.GHOST_HAIRLINE},void 0,n.map(function(t,n){return null!=o?o(t,n):i.createElement(s.default.Item,r({key:n},t,{onClick:e.handleChange}))}))},t.prototype.renderPopout=function(e){var t=this.props,n=t.searchProps,o=t.popoutClassName;return i.createElement(s.default,r({},e,{className:o}),i.createElement(s.default.SearchBar,n),_,this.renderItems())},t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,o=e.renderValue,l=e.className,s=e.popoutId,d=e.popoutProps;return i.createElement(f.default,r({},d,{uniqueId:s,render:this.renderPopout}),a("div",{className:l},void 0,a(u.default,{label:t,value:n,renderValue:o})))},t.prototype.handleChange=function(e){var t=this.props,n=t.popoutId,o=t.onChange;c.default.close(n),o&&o(e)},t}(i.PureComponent);t.default=E,e.exports=t.default},6689:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=h(n(9)),u=h(n(40)),s=h(n(79)),d=n(196),f=n(0),c=h(n(5927)),p=h(n(519));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o._getColor=o._getColor.bind(o),o.state={color:o._getColor(n.color)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._getColor=function(e){var t=!1;if(null!=e&&(0,d.isValidHex)(e)){var n=(0,d.hex2int)(e);null!=n&&(t=(0,d.getDarkness)(n)<.2)}return t?f.Colors.BLACK:f.Colors.WHITE},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.color!==e.color&&this.setState({color:this._getColor(e.color)})},t.prototype.render=function(){var e,t=this.state.color,n=this.props,o=n.selected,i=n.color,d=n.className,h=n.children,_=void 0;return o?_={color:t,background:i||f.Colors.BRAND}:null!=i&&(_={color:i}),a(u.default,{className:(0,l.default)(c.default.selectableItem,d,(e={},e[c.default.selected]=o,e)),onClick:this.handleClick,align:u.default.Align.CENTER,style:r({},_,this.props.style)},void 0,a(u.default,{align:u.default.Align.CENTER,className:c.default.selectableItemLabel,shrink:1},void 0,h),o&&a(u.default,{wrap:u.default.Wrap.WRAP,className:p.default.marginReset,grow:0,shrink:0},void 0,a(s.default,{name:s.default.Names.CHECKMARK,color:t})))},t.prototype.handleClick=function(){var e=this.props;(0,e.onClick)(function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["onClick"]))},t}(i.PureComponent);t.default=_,e.exports=t.default},6690:function(e,t,n){"use strict";t.__esModule=!0,t.AuditLogChange=void 0,t.getTargetType=s,t.getActionType=d;var o=l(n(5)),r=l(n(82)),a=l(n(167)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){if(e===i.AuditLogActions.ALL)return i.AuditLogTargetTypes.ALL;if(e<=i.AuditLogActions.GUILD_UPDATE)return i.AuditLogTargetTypes.GUILD;if(e<=i.AuditLogActions.CHANNEL_OVERWRITE_DELETE)return i.AuditLogTargetTypes.CHANNEL;if(e<=i.AuditLogActions.MEMBER_ROLE_UPDATE||e===i.AuditLogActions.MESSAGE_DELETE)return i.AuditLogTargetTypes.USER;if(e<=i.AuditLogActions.ROLE_DELETE)return i.AuditLogTargetTypes.ROLE;if(e<=i.AuditLogActions.INVITE_DELETE)return i.AuditLogTargetTypes.INVITE;if(e<=i.AuditLogActions.WEBHOOK_DELETE)return i.AuditLogTargetTypes.WEBHOOK;if(e<=i.AuditLogActions.EMOJI_DELETE)return i.AuditLogTargetTypes.EMOJI;throw new Error("[AuditLogRecord] Unknown target type for: "+e)}function d(e){switch(e){case i.AuditLogActions.CHANNEL_CREATE:case i.AuditLogActions.CHANNEL_OVERWRITE_CREATE:case i.AuditLogActions.MEMBER_BAN_REMOVE:case i.AuditLogActions.ROLE_CREATE:case i.AuditLogActions.INVITE_CREATE:case i.AuditLogActions.WEBHOOK_CREATE:case i.AuditLogActions.EMOJI_CREATE:return i.AuditLogActionTypes.CREATE;case i.AuditLogActions.CHANNEL_DELETE:case i.AuditLogActions.CHANNEL_OVERWRITE_DELETE:case i.AuditLogActions.MEMBER_KICK:case i.AuditLogActions.MEMBER_PRUNE:case i.AuditLogActions.MEMBER_BAN_ADD:case i.AuditLogActions.ROLE_DELETE:case i.AuditLogActions.INVITE_DELETE:case i.AuditLogActions.WEBHOOK_DELETE:case i.AuditLogActions.EMOJI_DELETE:case i.AuditLogActions.MESSAGE_DELETE:return i.AuditLogActionTypes.DELETE;case i.AuditLogActions.GUILD_UPDATE:case i.AuditLogActions.CHANNEL_UPDATE:case i.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:case i.AuditLogActions.MEMBER_UPDATE:case i.AuditLogActions.MEMBER_ROLE_UPDATE:case i.AuditLogActions.ROLE_UPDATE:case i.AuditLogActions.INVITE_UPDATE:case i.AuditLogActions.WEBHOOK_UPDATE:case i.AuditLogActions.EMOJI_UPDATE:return i.AuditLogActionTypes.UPDATE}return i.AuditLogActionTypes.ALL}t.AuditLogChange=function e(t,n,o){u(this,e),this.key=t,this.oldValue=n,this.newValue=o};var f=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.id=e.id,this.action=e.action,this.actionType=d(this.action),this.targetId=e.targetId,this.timestampStart=e.timestampStart||(0,o.default)(a.default.extractTimestamp(this.id)),this.timestampEnd=e.timestampEnd||this.timestampStart,this.userId=e.userId,this.changes=e.changes||[],this.targetType=s(this.action),this.options=e.options||{},this.target=e.target||e.id,this.user=e.user||null},t}(r.default);t.default=f},6691:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(8)),a=c(n(3)),i=c(n(2)),l=c(n(60)),u=c(n(26)),s=n(6690),d=c(s),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=[f.Permissions.KICK_MEMBERS,f.Permissions.BAN_MEMBERS,f.Permissions.ADMINISTRATOR,f.Permissions.MANAGE_CHANNELS,f.Permissions.MANAGE_GUILD,f.Permissions.MANAGE_NICKNAMES,f.Permissions.MANAGE_ROLES,f.Permissions.MANAGE_WEBHOOKS,f.Permissions.MANAGE_EMOJIS,f.Permissions.MUTE_MEMBERS,f.Permissions.DEAFEN_MEMBERS],h=null,_=[],E=[],y=[],g=!0,v=!1,m=!1,T=!0,I=!1,C=null,S=f.AuditLogActions.ALL,N={},A=0;function O(e){var t=[],n=0;return e.reverse().forEach(function(e){var o=[],r=null,a=null;if(null!=e.reason&&o.push(new s.AuditLogChange(f.AuditLogChangeKeys.REASON,null,e.reason)),e.changes&&e.changes.forEach(function(e){var t=new s.AuditLogChange(e.key,e.old_value,e.new_value);o.push(t),t.key===f.AuditLogChangeKeys.NAME?r=t:t.key===f.AuditLogChangeKeys.TYPE&&(a=t)}),e.action_type===f.AuditLogActions.MEMBER_PRUNE){var i=null!=e&&null!=e.options&&null!=e.options.delete_member_days?e.options.delete_member_days:1,l=new s.AuditLogChange(f.AuditLogChangeKeys.PRUNE_DELETE_DAYS,null,i);o.push(l)}var u=new d.default({id:e.id,action:e.action_type,targetId:e.target_id,userId:e.user_id,changes:o,options:e.options,guildId:h}),c=t[0];if(function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return null!=e&&e.action===t.action&&e.targetId===t.targetId&&e.userId===t.userId&&t.timestampStart.diff(e.timestampStart,"minutes")<o&&n<r&&t.targetType!==f.AuditLogTargetTypes.INVITE&&t.action!==f.AuditLogActions.MESSAGE_DELETE}(c,u,n))return t[0]=c.merge({changes:[].concat(c.changes,u.changes),timestampEnd:u.timestampStart}),void n++;if(u.actionType===f.AuditLogActionTypes.DELETE&&null!=r){var p,_=r.oldValue;if(u.targetType===f.AuditLogTargetTypes.CHANNEL&&null!==a&&a.oldValue===f.ChannelTypes.GUILD_TEXT&&(_="#"+_),null==N[u.targetType])N[u.targetType]=((p={})[u.targetId]=_,p);else N[u.targetType][u.targetId]=_}n=0,t.unshift(u)}),t}function b(e){if(e.section!==f.GuildSettingsSections.AUDIT_LOG)return!1;var t=l.default.getMembers(h),n=u.default.getGuild(h);E=(0,r.default)(t).filter(function(e){return e.roles.some(function(t){if(null!=n){if(e.userId===n.ownerId)return!0;var o=n.roles[t];return null!=o&&p.some(function(e){return e&o.permissions})}})}).map(function(e){return e.userId}).value()}var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"logs",get:function(){return _}},{key:"webhooks",get:function(){return y}},{key:"isInitialLoading",get:function(){return g}},{key:"isLoading",get:function(){return v}},{key:"isLoadingNextPage",get:function(){return m}},{key:"hasOlderLogs",get:function(){return T}},{key:"hasError",get:function(){return I}},{key:"userIds",get:function(){return E}},{key:"userIdFilter",get:function(){return C}},{key:"actionFilter",get:function(){return S}},{key:"deletedTargets",get:function(){return N}},{key:"groupedFetchCount",get:function(){return A}}]),t}(a.default.Store);t.default=new M(i.default,{AUDIT_LOG_FETCH_START:function(e){v=!0},AUDIT_LOG_FETCH_SUCCESS:function(e){var t=e.logs,n=e.webhooks;A=0,g=!1,v=!1,T=!0,I=!1,_=O(t),y=n,t.length<f.AUDIT_LOG_PAGE_LIMIT&&(T=!1)},AUDIT_LOG_FETCH_FAIL:function(e){return v=!1,I=!0,void(_=[])},AUDIT_LOG_FETCH_NEXT_PAGE_START:function(e){var t=e.isGroupedFetch;m=!0,t&&A++},AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS:function(e){var t=e.logs,n=e.webhooks;if(m=!1,y=n,(0===t.length||t.length<f.AUDIT_LOG_PAGE_LIMIT)&&(T=!1),t.length>0){var o=O(t);_=[].concat(_,o)}},AUDIT_LOG_FETCH_NEXT_PAGE_FAIL:function(e){m=!1},AUDIT_LOG_FILTER_BY_ACTION:function(e){var t=e.action;S=t},AUDIT_LOG_FILTER_BY_USER:function(e){var t=e.userId;C=t},GUILD_SETTINGS_SET_SECTION:b,GUILD_SETTINGS_INIT:function(e){var t=e.guildId,n=e.section;return h=t,b({section:n})},GUILD_SETTINGS_CLOSE:function(e){return _=[],E=[],S=f.AuditLogActions.ALL,C=null,N={},A=0,g=!0,void(y=[])}}),e.exports=t.default},6692:function(e,t,n){"use strict";t.__esModule=!0,t.generateVerificationLevelOptions=function(){return[{name:i.default.Messages.VERIFICATION_LEVEL_NONE,desc:i.default.Messages.VERIFICATION_LEVEL_NONE_CRITERIA,value:r.VerificationLevels.NONE},{name:i.default.Messages.VERIFICATION_LEVEL_LOW,desc:i.default.Messages.VERIFICATION_LEVEL_LOW_CRITERIA,value:r.VerificationLevels.LOW,color:r.Colors.STATUS_GREEN},{name:i.default.Messages.VERIFICATION_LEVEL_MEDIUM,desc:i.default.Messages.VERIFICATION_LEVEL_MEDIUM_CRITERIA.format({min:r.VerificationCriteria.ACCOUNT_AGE}),value:r.VerificationLevels.MEDIUM,color:r.Colors.STATUS_YELLOW},{name:"( ",desc:i.default.Messages.VERIFICATION_LEVEL_HIGH_CRITERIA.format({min:r.VerificationCriteria.MEMBER_AGE}),value:r.VerificationLevels.HIGH,color:r.Colors.ORANGE},{name:" ()",desc:i.default.Messages.VERIFICATION_LEVEL_VERY_HIGH_CRITERIA,value:r.VerificationLevels.VERY_HIGH,color:r.Colors.STATUS_RED}]},t.generateContentFilterOptions=function(){return[{name:i.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED,desc:i.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED_DESCRIPTION,value:r.GuildExplicitContentFilterTypes.DISABLED},{name:i.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM,desc:i.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM_DESCRIPTION,value:r.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES},{name:i.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH,desc:i.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH_DESCRIPTION,value:r.GuildExplicitContentFilterTypes.ALL_MEMBERS}]},t.generateDMSafetyOptions=function(){return[{name:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS,desc:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS_HELP,value:r.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS,color:r.Colors.STATUS_GREEN},{name:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS,desc:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS_HELP,value:r.ExplicitContentFilterTypes.NON_FRIENDS,color:r.Colors.STATUS_YELLOW},{name:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED,desc:i.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED_HELP,value:r.ExplicitContentFilterTypes.DISABLED,color:r.Colors.STATUS_RED}]};var o,r=n(0),a=n(6),i=(o=a)&&o.__esModule?o:{default:o}},6693:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(79)),l=d(n(67)),u=d(n(40)),s=d(n(5936));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.subtitle,o=e.iconType;return r(u.default,{className:s.default.wrapper,align:u.default.Align.BASELINE},void 0,null!=o&&r(i.default,{name:o,className:s.default.icon}),r(l.default,{weight:l.default.Weights.NORMAL,size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,className:s.default.title},void 0,t),n&&r(l.default,{weight:l.default.Weights.SEMIBOLD,size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,className:s.default.subtitle},void 0,n))},t}(a.PureComponent);t.default=f,e.exports=t.default},6694:function(e,t,n){var o={"./amsterdam.png":7844,"./brazil.png":7843,"./eu-central.png":7842,"./eu-west.png":7841,"./frankfurt.png":7840,"./hongkong.png":7839,"./japan.png":7838,"./london.png":7837,"./russia.png":7836,"./singapore.png":7835,"./southafrica.png":7834,"./sydney.png":7833,"./unknown.png":6075,"./us-central.png":7832,"./us-east.png":7831,"./us-south.png":7830,"./us-west.png":7829};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=6694},6700:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(9))),i=d(n(79)),l=d(n(87)),u=n(0),s=d(n(5942));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({DEFAULT:"",BOLD:"Bold"}),c=function(e){var t,n,o=e.closeAction,d=e.theme,c=e.variant,p=e.keybind;return r("div",{className:s.default.container},void 0,r(l.default,{className:(0,a.default)(s.default.closeButton,(t={},t[s.default.closeButtonBold]=c===f.BOLD,t)),onClick:o},void 0,r(i.default,{name:i.default.Names.CLOSE,color:u.ThemeTypes.DARK===d?u.Colors.PRIMARY_200:u.Colors.PRIMARY_400,width:18,height:18})),r("div",{className:(0,a.default)(s.default.keybind,(n={},n[s.default.keybindBold]=c===f.BOLD,n))},void 0,p))};c.defaultProps={variant:f.DEFAULT},c.Variants=f,t.default=c,e.exports=t.default},6701:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=c(n(3)),i=c(n(2)),l=c(n(8)),u=n(196),s=c(n(5986)),d=c(n(1036)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new Set,h=f.FormStates.CLOSED,_=!1,E=!1,y=void 0,g=void 0,v=void 0;function m(){return null==y||null==g?[]:d.default.calculatePositionDeltas(l.default.values(y.roles),g,function(e){return e.id},function(e){return e.originalPosition},!1)}function T(e){var t=e.section;if(null!=y||t!==f.GuildSettingsSections.ROLES)return!1;I()}function I(){_=!1,E=!1,p.clear(),h=f.FormStates.OPEN,y=s.default.getProps().guild,g=(0,l.default)(y.roles).values().value(),v=[].concat(g)}var C=l.default.debounce(function(){var e=!1;E&&((E=m().length>0)||(e=!0)),p.forEach(function(t){l.default.isEqual(N(t),function(e){return v.find(function(t){var n=t.id;return n===e})}(t))&&(p.delete(t),e=!0)}),0===p.size&&(_=!1),e&&O.emitChange()},500);function S(e,t){var n=g.indexOf(e);if(n<0)return!1;e=r({},e,t),g[n]=e,g=[].concat(g),_=!0,p.add(e.id),C(e)}function N(e){return g.find(function(t){return t.id===e})}function A(e){var t=e.guildId;if(null==y||t!==y.id||h===f.FormStates.SUBMITTING)return!1;y=s.default.getProps().guild;var n=(0,l.default)(y.roles).values().value();p.forEach(function(e){var t=N(e),o=-1;null==n.find(function(t,n){if(t.id===e)return o=n,!0})?p.delete(e):n[o]=t}),0===p.size&&(_=!1),E=!1,g=[].concat(n)}var O=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default)},t.prototype.hasChanges=function(){return _||E},t.prototype.getSortDeltas=function(){return m()},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getRole=function(e){return N(e)},o(t,[{key:"hasSortChanges",get:function(){return E}},{key:"guild",get:function(){return y}},{key:"editedRoleIds",get:function(){return Array.from(p)}},{key:"roles",get:function(){return g}},{key:"formState",get:function(){return h}}]),t}(a.default.Store))(i.default,__OVERLAY__?{}:{GUILD_SETTINGS_ROLES_INIT:I,GUILD_SETTINGS_INIT:T,GUILD_SETTINGS_SET_SECTION:T,GUILD_SETTINGS_ROLES_SORT_UPDATE:function(e){var t=e.roles;if(t.length!==g.length)return!1;g=t.map(function(e){return N(e)}),E=!0,C()},GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS:function(e){var t=e.id,n=e.flag,o=e.allow,r=N(t);if(null==r)return!1;var a=r.permissions;return o?a|=n:a^=a&n,S(r,{permissions:a})},GUILD_SETTINGS_ROLES_UPDATE_NAME:function(e){var t=e.id,n=e.name;return S(N(t),{name:n})},GUILD_SETTINGS_ROLES_UPDATE_COLOR:function(e){var t=e.id,n=e.color,o=0===n?null:(0,u.int2hex)(n);return S(N(t),{color:n,colorString:o})},GUILD_SETTINGS_ROLES_UPDATE_SETTINGS:function(e){var t=e.id,n=e.hoist,o=e.mentionable;return S(N(t),{hoist:n,mentionable:o})},GUILD_SETTINGS_CLOSE:function(){y=null,v=g=null,p.clear(),_=!1,E=!1,h=f.FormStates.CLOSED},GUILD_ROLE_CREATE:A,GUILD_ROLE_UPDATE:A,GUILD_ROLE_DELETE:A,GUILD_SETTINGS_ROLES_SUBMITTING:function(){h=f.FormStates.SUBMITTING},GUILD_SETTINGS_ROLES_SAVE_SUCCESS:function(){I()}});t.default=O,e.exports=t.default},6702:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(3)),a=i(n(2));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=null,s=!1;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.showNotice=function(){return l!==u},t.prototype.hasError=function(){return s},o(t,[{key:"vanityURLCode",get:function(){return l}},{key:"originalVanityURLCode",get:function(){return u}}]),t}(r.default.Store);t.default=new d(a.default,{GUILD_SETTINGS_SET_VANITY_URL:function(e){u=l=e.code||"",s=!1},GUILD_SETTINGS_VANITY_URL_CLOSE:function(e){return u=l=null,void(s=!1)},GUILD_SETTINGS_VANITY_URL_RESET:function(e){l=u},GUILD_SETTINGS_VANITY_URL_SET:function(e){l=e.code},GUILD_SETTINGS_VANITY_URL_ERROR:function(e){s=!0}}),e.exports=t.default},6703:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getGuildSettingsSections=function(e){return V(x.default.getGuildPermissionProps(e,c.default.getCurrentUser())).filter(function(e){var t=e.section;return t!==_.SectionTypes.HEADER&&t!==_.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=B(n(3)),u=B(n(6)),s=B(n(5986)),d=B(n(6702)),f=B(n(6701)),c=B(n(12)),p=B(n(31)),h=B(n(112)),_=n(6012),E=B(n(7871)),y=B(n(164)),g=B(n(67)),v=B(n(6133)),m=n(7870),T=B(m),I=B(n(7827)),C=B(n(7825)),S=n(7809),N=B(S),A=B(n(7806)),O=B(n(7804)),b=B(n(7799)),M=B(n(7796)),R=B(n(7793)),L=B(n(7792)),D=B(n(7786)),w=n(7783),P=B(w),U=B(n(38)),G=B(n(366)),H=n(270),k=B(n(194)),x=B(n(76)),F=n(143),j=n(0);function B(e){return e&&e.__esModule?e:{default:e}}function V(e){var t=e.guild,n=e.canManageGuild,o=e.canViewAuditLog,l=e.canManageRoles,p=e.canManageEmoji,h=e.canManageWebhooks,v=e.canManageBans,k=e.isOwnerWithRequiredMfaLevel;return[{section:_.SectionTypes.HEADER,label:t.toString()||u.default.Messages.SERVER_SETTINGS},{section:j.GuildSettingsSections.OVERVIEW,label:u.default.Messages.OVERVIEW,element:T.default,notice:{store:s.default,element:m.GuildSettingsOverviewNotice}},{section:j.GuildSettingsSections.MODERATION,label:u.default.Messages.MODERATION,element:I.default,notice:{store:s.default,element:m.GuildSettingsOverviewNotice},predicate:function(){return n}},{section:j.GuildSettingsSections.AUDIT_LOG,label:u.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG,element:C.default,type:_.ContentTypes.CUSTOM,predicate:function(){return o}},{section:j.GuildSettingsSections.ROLES,label:u.default.Messages.ROLES,element:P.default,type:_.ContentTypes.MINIMAL,notice:{store:f.default,element:w.GuildSettingsRolesNotice},predicate:function(){return l}},{section:j.GuildSettingsSections.INTEGRATIONS,label:u.default.Messages.INTEGRATIONS,element:A.default,predicate:function(){return n}},{section:j.GuildSettingsSections.EMOJI,label:u.default.Messages.EMOJI,element:O.default,predicate:function(){return p}},{section:j.GuildSettingsSections.WEBHOOKS,label:u.default.Messages.WEBHOOKS,element:L.default,predicate:function(){return h}},{section:j.GuildSettingsSections.EMBED,label:u.default.Messages.WIDGET,element:M.default,predicate:function(){return n}},{section:j.GuildSettingsSections.VANITY_URL,label:u.default.Messages.VANITY_URL,element:N.default,notice:{store:d.default,element:S.GuildSettingsVanityURLNotice},predicate:function(){return n&&t.hasFeature(j.GuildFeatures.VANITY_URL)}},{section:_.SectionTypes.DIVIDER},{section:_.SectionTypes.HEADER,label:u.default.Messages.USER_MANAGEMENT},{section:j.GuildSettingsSections.MEMBERS,label:u.default.Messages.MEMBERS,element:D.default,type:_.ContentTypes.CUSTOM},{section:j.GuildSettingsSections.INSTANT_INVITES,label:u.default.Messages.INVITES,element:R.default,type:_.ContentTypes.CUSTOM,predicate:function(){return n}},{section:j.GuildSettingsSections.BANS,label:u.default.Messages.BANS,element:b.default,type:_.ContentTypes.CUSTOM,predicate:function(){return v}},{section:_.SectionTypes.DIVIDER,predicate:function(){return k}},{section:j.GuildSettingsSections.DELETE,onClick:function(){var e=c.default.getCurrentUser(),n=t.toString(),o={header:u.default.Messages.DELETE_SERVER_TITLE.format({name:n}),confirmText:u.default.Messages.DELETE_SERVER,cancelText:u.default.Messages.CANCEL,onConfirm:function(){F.ComponentDispatch.subscribeOnce(j.ComponentActions.LAYER_POP_COMPLETE,function(){G.default.deleteGuild(t.id,n)}),(0,H.popLayer)()}};e.mfaEnabled?U.default.push(function(e){return i.createElement(y.default,r({},e,o),a(g.default,{size:g.default.Sizes.MEDIUM,color:g.default.Colors.PRIMARY},void 0,u.default.Messages.DELETE_SERVER_BODY.format({name:n})))}):U.default.push(function(e){return i.createElement(E.default,r({},e,o,{validationText:n,instructionText:u.default.Messages.DELETE_SERVER_ENTER_NAME,errorText:u.default.Messages.DELETE_SERVER_INCORRECT_NAME}),u.default.Messages.DELETE_SERVER_BODY.format({name:n}))})},label:u.default.Messages.DELETE_SERVER,color:j.Colors.STATUS_RED,predicate:function(){return k}}]}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;k.default.trackWithMetadata(j.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",origin_pane:t,destination_pane:e})}var W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){K(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.section,n=this.props,o=n.section,r=n.canManageGuild,a=n.canManageRoles,i=n.canManageBans,l=n.canManageNicknames,u=n.canManageEmoji,s=n.canViewAuditLog,d=n.canManageWebhooks;o!==t&&K(o,t),(r||a||i||l||u||s||d)&&(s||o!==j.GuildSettingsSections.AUDIT_LOG)&&(a||o!==j.GuildSettingsSections.ROLES)&&(u||o!==j.GuildSettingsSections.EMOJI)&&(d||o!==j.GuildSettingsSections.WEBHOOKS)&&(i||o!==j.GuildSettingsSections.BANS)||(0,H.popLayer)()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section;return a(v.default,{theme:t,section:n,onSetSection:G.default.setSection,onClose:H.popLayer,sections:V(this.props)})},t}(i.PureComponent),Y=l.default.connectStores([s.default,c.default,p.default,h.default],function(){var e=s.default.getProps(),t=e.guild,n=e.section;return r({section:n,theme:p.default.theme},x.default.getGuildPermissionProps(t,c.default.getCurrentUser()))})(W);Y.onPop=G.default.close,t.default=Y},6909:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(3)),r=h(n(2)),a=n(0),i=h(n(6417)),l=h(n(236)),u=h(n(5556)),s=h(n(80)),d=h(n(552)),f=h(n(18)),c=h(n(12)),p=h(n(26));function h(e){return e&&e.__esModule?e:{default:e}}var _=void 0,E=a.AppContext.APP,y=null,g=void 0,v=[];function m(){_=null,null!=g&&(g.destroy(),g=null),null!=y&&y()}function T(){var e=null!=_&&null!=_.application_id?l.default.getApplicationActivity(_.application_id):null;if(null!=_&&(null==e||null==e.party||null==e.party.id))return m()}var I=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.isOpen=function(){if(null==_)return!1;var e=__OVERLAY__?a.AppContext.OVERLAY:a.AppContext.APP;return E===e},t.prototype.getProps=function(){if(null==_)throw new Error("Invalid activity.");return{activity:_,query:null!=g?g.query:"",results:null!=g?g.results.map(function(e){switch(e.type){case a.AutocompleterResultTypes.USER:var t=e.record;return{type:a.AutocompleterResultTypes.USER,sent:v.includes(t.id),status:s.default.getStatus(t.id),data:e};case a.AutocompleterResultTypes.TEXT_CHANNEL:var n=e.record,o=f.default.getChannel(n.parent_id),r=p.default.getGuild(n.guild_id);return{type:a.AutocompleterResultTypes.TEXT_CHANNEL,sent:v.includes(n.id),categoryName:null!=o?o.toString():"",guildName:null!=r?r.toString():"",data:e};case a.AutocompleterResultTypes.GROUP_DM:var i=e.record;return{type:a.AutocompleterResultTypes.GROUP_DM,sent:v.includes(i.id),data:e};default:throw new Error("Unknown Result Type: "+e.type)}}):[]}},t}(o.default.Store))(r.default,{ACTIVITY_INVITE_MODAL_OPEN:function(e){_=e.activity,E=e.context,y=e.resolve,v=[],null==g&&(g=new i.default(function(){return I.emitChange()},[a.AutocompleterResultTypes.TEXT_CHANNEL,a.AutocompleterResultTypes.GROUP_DM,a.AutocompleterResultTypes.USER],function(e){var t=[];return u.default.getPrivateChannelIds().forEach(function(n){var o=f.default.getChannel(n);if(null!=o)if(o.type===a.ChannelTypes.DM){var r=c.default.getUser(o.getRecipientId());null!=r&&t.push(e.createResult(a.AutocompleterResultTypes.USER,r))}else o.type===a.ChannelTypes.GROUP_DM&&t.push(e.createResult(a.AutocompleterResultTypes.GROUP_DM,o))}),t})),g.search("")},ACTIVITY_INVITE_MODAL_QUERY:function(e){var t=e.query;null!=g&&g.search(t)},ACTIVITY_INVITE_MODAL_SEND:function(e){null!=_&&(e.channelId?d.default.sendActivityInvite(e.channelId,a.ActivityActionTypes.JOIN,_).then(function(){v=[].concat(v,[e.channelId]),I.emitChange()}):e.userId&&d.default.sendActivityInviteUser(e.userId,a.ActivityActionTypes.JOIN,_).then(function(){v=[].concat(v,[e.userId]),I.emitChange()}))},ACTIVITY_INVITE_MODAL_CLOSE:function(e){return m()},OVERLAY_SET_UI_LOCKED:function(e){return!(!e.locked||null==_||(m(),0))},LOCAL_ACTIVITY_UPDATE:function(e){return T()},RPC_APP_DISCONNECTED:function(e){return T()}});t.default=I,e.exports=t.default},6921:function(e,t,n){"use strict";var o;t.__esModule=!0,t.SHORTCUT_MODAL_LAYOUT=void 0;var r,a=n(0),i=n(143),l=n(6087),u=(r=l)&&r.__esModule?r:{default:r};function s(e){return i.ComponentDispatch.dispatch(a.ComponentActions.DDR_ARROW_DOWN,{direction:e}),!1}function d(e){return i.ComponentDispatch.dispatch(a.ComponentActions.DDR_ARROW_UP,{direction:e}),!1}t.SHORTCUT_MODAL_LAYOUT=((o={})[a.Arrows.UP]={binds:["up"],keydown:s.bind(null,a.Arrows.UP),keyup:d.bind(null,a.Arrows.UP)},o[a.Arrows.DOWN]={binds:["down"],keydown:s.bind(null,a.Arrows.DOWN),keyup:d.bind(null,a.Arrows.DOWN)},o[a.Arrows.LEFT]={binds:["left"],keydown:s.bind(null,a.Arrows.LEFT),keyup:d.bind(null,a.Arrows.LEFT)},o[a.Arrows.RIGHT]={binds:["right"],keydown:s.bind(null,a.Arrows.RIGHT),keyup:d.bind(null,a.Arrows.RIGHT)},o.RAGING_DEMON={binds:["h h right n k"],action:function(){u.default.activateRagingDemon()}},o)},6922:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var o=n(6032);t.QUICKSWITCHER_SHOW={binds:["mod+k","mod+t"],global:!0,action:function(){return(0,o.show)("KEYBIND",""),!1}}},6923:function(e,t,n){e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},6924:function(e,t,n){e.exports=n.p+"264c4f75df7b5cfca2445a01ac303e4c.png"},6925:function(e,t,n){e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},6926:function(e,t,n){e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},6927:function(e,t,n){e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},6928:function(e,t,n){e.exports=n.p+"8d32a8a24b95bbb21533636279d44c4c.png"},6929:function(e,t,n){e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},6930:function(e,t,n){e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},6931:function(e,t,n){e.exports=n.p+"bb7f752540c7f4c7039c6dd6b5dd052e.svg"},6932:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(43))),i=p(n(8)),l=p(n(967)),u=p(n(9)),s=p(n(6087)),d=n(143),f=n(0),c=p(n(5695));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return!0},_=function(){return!0},E=(0,a.default)({displayName:"Explosion",mixins:[l.default],getInitialState:function(){return{animating:!1,renderSecondary:!1,scale:i.default.random(.6,1,!0),offsetX:i.default.random(0,140,!1)-70,offsetY:i.default.random(0,140,!1)-70}},componentDidMount:function(){var e=this;this.setState({animating:!0}),this.setTimeout(function(){e.setState({renderSecondary:!0})},120),this.setTimeout(this.done,1e3),h()},componentDidUpdate:function(e,t){this.state.renderSecondary&&!t.renderSecondary&&_()},done:function(){this.props.onAnimationComplete(this.props.componentId)},renderPrimary:function(){return r("div",{className:c.default.primaryExplosion},"primary-explosion",r("img",{alt:"",className:c.default.circleInner,src:n(6930),width:70,height:69}),r("img",{alt:"",className:c.default.circleOuter,src:n(6929),width:96,height:95}),r("img",{alt:"",className:c.default.linesSecondary,src:n(6928),width:183,height:104}),r("img",{alt:"",className:c.default.linesMain,src:n(6927),width:69,height:180}))},renderSecondary:function(e,t){return r("div",{className:c.default.secondaryExplosion,style:{top:t,left:e}},"secondary-explosion",r("img",{alt:"",className:c.default.circleInner,src:n(6926),width:61,height:58},"circle-inner"),r("img",{alt:"",className:c.default.circleOuter,src:n(6925),width:85,height:85},"circle-outer"),r("img",{alt:"",className:c.default.linesSecondary,src:n(6924),width:162,height:173},"lines-secondary"),r("img",{alt:"",className:c.default.linesMain,src:n(6923),width:156,height:306},"lines-main"))},render:function(){var e,t=this.state,n=t.renderSecondary,o=t.offsetX,a=t.offsetY,i=t.animating,l=t.scale,s=[this.renderPrimary()];return n&&s.push(this.renderSecondary(o,a)),r("div",{className:(0,u.default)(c.default.container,(e={},e[c.default.animate]=i,e)),style:{top:this.props.top,left:this.props.left,transform:"scale("+l+")"}},void 0,s)}}),y=r(function(){return r("div",{className:c.default.symbol},"symbol",r("div",{className:c.default.symbolBackground}),r("img",{alt:"",src:n(6931)}))},{},"symbol"),g=(0,a.default)({displayName:"RagingDemon",mixins:[l.default],getInitialState:function(){return{explosions:0}},UNSAFE_componentWillMount:function(){this.children=[]},componentDidMount:function(){this.setTimeout(function(){return d.ComponentDispatch.dispatch(f.ComponentActions.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)},removeExplosion:function(e){var t=this.children,n=t.find(function(t){return t.props.componentId===e}),o=t.indexOf(n);o>=0&&t.splice(o,1),this.forceUpdate()},createExplosion:function(){var e=this.children,t=window.innerWidth/2>>0,n=window.innerHeight/2>>0;if(this.state.explosions<8){var o="expl-"+this.state.explosions;e.push(r(E,{componentId:o,top:i.default.random(n-100,n+100,!1),left:i.default.random(t-200,t+200,!1),onAnimationComplete:this.removeExplosion},o)),this.setTimeout(this.createExplosion,240),this.setState({explosions:this.state.explosions+1})}else this.setTimeout(this.addSymbol,750)},addSymbol:function(){this.children=[y],this.forceUpdate(),this.setTimeout(this.delayedClose,3e3)},delayedClose:function(){s.default.hide()},componentWillUnmount:function(){this.children.length=0},render:function(){return r("div",{className:c.default.ragingDemon},void 0,this.children)}});t.default=g,e.exports=t.default},6955:function(e,t,n){e.exports=n.p+"7c5e2c588b7325c8433db1ac2a03a6b6.svg"},6956:function(e,t,n){e.exports=n.p+"86deade60ada88b092a0de67a3800ce8.svg"},6957:function(e,t,n){e.exports=n.p+"85761f5edbfdfbeba087f67ced11fe8e.svg"},6958:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),u=c(n(6)),s=n(143),d=n(0),f=c(n(189));function c(e){return e&&e.__esModule?e:{default:e}}n(5706);var p={friction:15,tension:100},h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleResultFocus=o.handleResultFocus.bind(o),o.setRef=o.setRef.bind(o),o.state={shown:!1,translateY:new f.default.Value(0)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({shown:!0}),s.ComponentDispatch.subscribe(d.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},t.prototype.componentWillUnmount=function(){s.ComponentDispatch.unsubscribe(d.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},t.prototype.componentDidUpdate=function(){this.props.hasQuery||this.springTo(0)},t.prototype.setRef=function(e){this.container=e},t.prototype.handleResultFocus=function(e){var t=this,n=e.node;setTimeout(function(){if(t.props.hasQuery&&null!=n){var e=t.container.getBoundingClientRect().top,o=n.getBoundingClientRect().top,r=Math.abs(e-o);t.springTo(r-118+9)}else t.springTo(0)},1)},t.prototype.springTo=function(e){f.default.spring(this.state.translateY,a({toValue:Math.min(e,250)},p)).start()},t.prototype.renderArrowGroup=function(e){return r("div",{className:(0,l.default)("qs-tutorial-arrow-group",e)},void 0,r(f.default.div,{className:"qs-arrow-container horiz",style:this.getStyle()},void 0,r("img",{alt:"",src:n(6957),className:"qs-arrow-icon"})),r("div",{className:"qs-arrow-container diag-1"},void 0,r("img",{alt:"",src:n(6956),className:"qs-arrow-icon"})),r("div",{className:"qs-arrow-container diag-2"},void 0,r("img",{alt:"",src:n(6955),className:"qs-arrow-icon"})))},t.prototype.renderContent=function(){return r("div",{className:"qs-tutorial-messages"},void 0,r("div",{className:"qs-search-message"},void 0,u.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH),r("div",{className:"qs-select-message"},void 0,u.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT))},t.prototype.render=function(){var e=this.props.hasQuery,t=this.state.shown;return i.createElement("div",{ref:this.setRef,className:(0,l.default)("qs-tutorial",{shown:t,"has-query":e})},this.renderContent(),this.renderArrowGroup("left"),this.renderArrowGroup("right"))},t.prototype.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","250px"]})},{translateZ:0}]}},t}(i.PureComponent);t.default=h,e.exports=t.default},6959:function(e,t,n){"use strict";t.__esModule=!0,t.Header=t.Application=t.User=t.GroupDM=t.Channel=t.Guild=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(79)),l=_(n(6008)),u=_(n(5992)),s=_(n(372)),d=_(n(947)),f=_(n(970)),c=_(n(87)),p=n(6025),h=_(n(5707));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(n){E(this,t);var o=y(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o.handleMouseEnter=o.handleMouseEnter.bind(o),o}return g(t,e),t.prototype.handleClick=function(e){e.preventDefault();var t=this.props,n=t.onClick,o=t.result;n&&n(o)},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onMouseEnter,n=e.result;t&&t(n)},t.prototype.renderContent=function(){throw new Error("Results: renderContent must be overridden")},t.prototype.render=function(){var e=this.props.focused;return r(c.default,{className:e?h.default.resultFocused:h.default.resultDefault,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},void 0,this.renderContent())},t}(a.PureComponent);t.Guild=function(e){function t(){return E(this,t),y(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderIcon=function(){var e=this.props.result.record;return r("div",{className:h.default.guildIconContainer},void 0,r(u.default,{guild:e,size:u.default.Sizes.MINI,className:h.default.guildIcon}))},t.prototype.renderName=function(){var e=this.props.result.record;return r("div",{className:h.default.name},void 0,r("span",{className:h.default.match},void 0,e.name))},t.prototype.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return r("div",{className:t?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),r("div",{className:h.default.misc},void 0,n))},t}(v),t.Channel=function(e){function t(){return E(this,t),y(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderIcon=function(){var e=this.props.result.record,t=(0,p.getIconNameForChannel)(e);return null==t?null:r("div",{className:h.default.iconContainer},void 0,r(i.default,{name:t,className:h.default.icon,background:h.default.iconBackground,width:16,height:16}))},t.prototype.renderName=function(){var e=this.props,t=e.mentions,n=e.category,o=e.result.record,a=void 0;null!=t&&t>0&&(a=r(l.default,{className:h.default.badge,value:t}));var i=void 0;return null!=n&&(i=r("span",{className:h.default.note},void 0,n.toString())),r("div",{className:h.default.name},void 0,r("span",{className:h.default.match},void 0,o.toString()),a,this.renderVoiceStates(),i)},t.prototype.renderVoiceStates=function(){var e=this.props.voiceStates;return null==e?null:r(f.default,{users:e.map(function(e){return{user:e.user}}),max:4})},t.prototype.renderContent=function(){var e=this.props,t=e.unread,n=e.mentions,o=e.children;return r("div",{className:t||null!=n&&n>0?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),r("div",{className:h.default.misc},void 0,o))},t}(v),t.GroupDM=function(e){function t(){return E(this,t),y(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderIcon=function(){var e=this.props.result.record;return r("div",{className:h.default.dmIconContainer},void 0,r(d.default,{channel:e,size:"xsmall"}))},t.prototype.renderName=function(){var e=this.props,t=e.mentions,n=e.result.record,o=void 0;return null!=t&&t>0&&(o=r(l.default,{className:h.default.badge,value:t})),r("div",{className:h.default.name},void 0,r("span",{className:h.default.match},void 0,n.toString()),o)},t.prototype.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return r("div",{className:null!=t&&t>0?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),r("div",{className:h.default.misc},void 0,n))},t}(v),t.User=function(e){function t(){return E(this,t),y(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderIcon=function(){var e=this.props.result.record;return r("div",{className:h.default.iconContainer},void 0,r(d.default,{user:e,size:"xsmall"}))},t.prototype.renderName=function(){var e=this.props,t=e.result,n=t.record,o=t.comparator,a=e.mentions,i=e.nickname,u=void 0;null!=a&&a>0&&(u=r(l.default,{className:h.default.badge,value:a}));var s=void 0;if(null!=o&&o===n.tag){var d=o.split("#");d.pop(),s=d.join("#")}else s=o||n.username;return s===n.username&&(s=i||s),r("div",{className:h.default.name},void 0,r("span",{className:h.default.match},void 0,s),u,r("span",{className:h.default.username},void 0,n.tag))},t.prototype.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return r("div",{className:null!=n&&n>0?h.default.contentUnread:h.default.contentDefault},void 0,this.renderIcon(),this.renderName(),r("div",{className:h.default.misc},void 0,t))},t}(v),t.Application=function(e){function t(){return E(this,t),y(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.children,n=e.result.record;return r("div",{className:h.default.contentDefault},void 0,r("div",{className:h.default.iconContainer},void 0,r(s.default,{className:h.default.gameIcon,game:n,size:h.default.gameIconSize})),n.name,r("div",{className:h.default.misc},void 0,t))},t}(v),t.Header=function(e){function t(){return E(this,t),y(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){return r("div",{className:h.default.contentDefault},void 0,r("div",{className:h.default.header},void 0,this.props.result.record.text))},t}(v)},6967:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),r=u(n(2)),a=u(n(60)),i=u(n(12)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=l.FormStates.CLOSED,d=void 0,f=void 0,c=void 0,p={};function h(){s=l.FormStates.CLOSED,d=null,c=null,f=null,p={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default)},t.prototype.isOpen=function(){return s!==l.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:s===l.FormStates.SUBMITTING,errors:p,guildId:d,nick:c,user:f}},t}(o.default.Store);t.default=new _(r.default,{CHANGE_NICKNAME_MODAL_OPEN:function(e){s=l.FormStates.OPEN,d=e.guildId,p={};var t=a.default.getMember(d,e.userId);f=i.default.getUser(e.userId),null==t||null==f?h():c=t.nick},CHANGE_NICKNAME_MODAL_SUBMIT:function(e){s=l.FormStates.SUBMITTING},CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE:function(e){s=l.FormStates.OPEN,p=e.errors||{}},CHANGE_NICKNAME_MODAL_CLOSE:function(e){return h()}}),e.exports=t.default},6968:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=h(n(3)),a=h(n(8)),i=h(n(281)),l=h(n(26)),u=h(n(80)),s=h(n(59)),d=h(n(12)),f=h(n(2)),c=n(0),p=h(n(88));function h(e){return e&&e.__esModule?e:{default:e}}var _=[];function E(e,t){var n=d.default.getUser(e);return null==n?null:{section:c.UserProfileSections.USER_INFO,user:n,relationshipType:s.default.getRelationshipType(e),guildId:t,mutualGuilds:[],mutualFriends:null,connectedAccounts:[],premiumSince:null}}function y(){if(0===_.length)return!1;_=_.reduce(function(e,t){var n=d.default.getUser(t.user.id);return null!=n&&e.push(o({},t,{user:n,relationshipType:s.default.getRelationshipType(t.user.id)})),e},[])}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([s.default,d.default],y)},t.prototype.isOpen=function(){return _.length>0},t.prototype.getProps=function(){return a.default.last(_)},t}(r.default.Store);t.default=new g(f.default,{USER_PROFILE_MODAL_OPEN:function(e){var t=E(e.userId,e.guildId);_=null==t?[]:[t]},USER_PROFILE_MODAL_CLOSE:function(e){_=[]},USER_PROFILE_MODAL_PUSH:function(e){var t=E(e.userId,e.guildId);null!=t&&(_=[].concat(_,[t]))},USER_PROFILE_MODAL_POP:function(e){_.pop()},USER_PROFILE_MODAL_SET_SECTION:function(e){var t=a.default.last(_);null!=t&&(e.section===c.UserProfileSections.MUTUAL_FRIENDS&&null==t.mutualFriends&&i.default.fetchMutualFriends(t.user.id),t.section=e.section,_=[].concat(_))},USER_PROFILE_MODAL_FETCH_SUCCESS:function(e){_=_.map(function(t){if(t.user.id===e.user.id){var n=[];e.mutual_guilds.forEach(function(e){var t=e.id,o=e.nick,r=l.default.getGuild(t);null!=r&&n.push({guild:r,nick:o})});var r=e.premium_since||null;n=a.default.sortBy(n,function(e){return e.guild.name.toLowerCase()});var i=t.user.set("flags",e.user.flags);return o({},t,{user:i,mutualGuilds:n,connectedAccounts:e.connected_accounts,premiumSince:null!=r?new Date(r):null})}return t})},LOAD_MUTUAL_FRIENDS:function(e){var t=a.default.findLast(_,function(t){return t.user.id===e.userId});null!=t&&(t.mutualFriends=(0,a.default)(e.mutualFriends).map(function(e){return{key:e.id,user:new p.default(e),status:u.default.getStatus(e.id),activity:u.default.getPrimaryActivity(e.id),mutualGuildsLength:t.mutualGuilds.length||0,mutualGuilds:t.mutualGuilds.slice(0,c.MAX_MUTUAL_GUILDS)}}).sortBy(function(e){return e.user.username.toLowerCase()}).value())}}),e.exports=t.default},7018:function(e,t,n){"use strict";t.__esModule=!0,t.FOCUS_SEARCH=void 0;var o=n(143),r=n(0);t.FOCUS_SEARCH={binds:["mod+f"],global:!0,action:function(e){e.preventDefault(),e.stopPropagation(),o.ComponentDispatch.dispatch(r.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!0})}}},7019:function(e,t,n){"use strict";t.__esModule=!0,t.UPLOAD_FILE=void 0;var o=n(143),r=l(n(18)),a=l(n(65)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.UPLOAD_FILE={binds:["mod+shift+u"],global:!0,action:function(){var e=r.default.getChannel(a.default.getChannelId());return null==e||e.isManaged()||o.ComponentDispatch.dispatch(i.ComponentActions.UPLOAD_FILE),!1}};t.default={UPLOAD_FILE:u}},7020:function(e,t,n){"use strict";t.__esModule=!0,t.CREATE_GUILD=void 0;var o=i(n(6071)),r=i(n(6348)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=t.CREATE_GUILD={binds:["mod+shift+n"],global:!0,action:function(){r.default.isOpen()?o.default.setScreen(a.CreateGuildModalScreens.JoinGuild):o.default.open(null,"Keyboard Shortcut")}};t.default={CREATE_GUILD:l}},7021:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_HELP=void 0;var o=n(143),r=n(0),a=t.TOGGLE_HELP={binds:["mod+shift+h","f1"],global:!0,action:function(){return o.ComponentDispatch.dispatch(r.ComponentActions.TOGGLE_HELP_MODAL),!1}};t.default={TOGGLE_HELP:a}},7022:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_USERS=void 0;var o,r=n(6376),a=(o=r)&&o.__esModule?o:{default:o},i=n(0);var l=t.TOGGLE_USERS={binds:["mod+u"],global:!0,action:function(){return a.default.toggleSection(i.ChannelSections.MEMBERS),!1}};t.default={TOGGLE_USERS:l}},7023:function(e,t,n){"use strict";t.__esModule=!0,t.CREATE_DM_GROUP=void 0;var o=n(143),r=u(n(225)),a=u(n(6014)),i=n(6030),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=t.CREATE_DM_GROUP={binds:["mod+shift+t"],global:!0,action:function(){return r.default.getGuildId()&&((0,i.transitionToChannel)(l.ME),a.default.flushSelection(!0)),o.ComponentDispatch.safeDispatch(l.ComponentActions.TOGGLE_DM_CREATE),!1}};t.default={CREATE_DM_GROUP:s}},7024:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_MENTIONS=void 0;var o=n(143),r=n(0),a=t.TOGGLE_MENTIONS={binds:["mod+i"],global:!0,action:function(){return o.ComponentDispatch.dispatch(r.ComponentActions.TOGGLE_MENTIONS),!1}};t.default={TOGGLE_MENTIONS:a}},7025:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CHANNEL_PINS=void 0;var o=n(143),r=n(0),a=t.TOGGLE_CHANNEL_PINS={binds:["mod+p"],global:!0,action:function(){return o.ComponentDispatch.dispatch(r.ComponentActions.TOGGLE_CHANNEL_PINS),!1}};t.default={TOGGLE_CHANNEL_PINS:a}},7026:function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(8)),r=c(n(538)),a=c(n(5556)),i=c(n(954)),l=c(n(950)),u=n(6030),s=n(370),d=n(143),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e===f.ME)return a.default.getPrivateChannelIds();var t=i.default.getCategories(e);return(0,s.getFlattenedChannelList)(t._categories,t,function(e){var t=e.channel;return t.type===f.ChannelTypes.GUILD_TEXT&&!(0,s.isChannelCollapsed)(t)}).map(function(e){return e.channel.id})}t.default=o.default.throttle(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},o=l.default.getGuildId()||f.ME,a=function(e,t){var n=[f.ME].concat(r.default.guildPositions),o=n.indexOf(e);return t>0?n.slice(o).concat(n.slice(0,o),e):(n.splice(o,0,e),n.slice(o+1).concat(n.slice(0,o+1)))}(o,e),i=e>0?0:a.length-1,s=p(o),c=s.indexOf(l.default.getChannelId(o))+e,h=void 0;o;){if(h=s[c],n(o))for(;h;){if(t(o,h))return(0,u.transitionToChannel)(o,h);h=s[c+=e]}if(!(o=a[i+=e]))break;s=p(o),c=e<0?s.length-1:0}d.ComponentDispatch.dispatch(f.ComponentActions.SHAKE_APP,{duration:200,intensity:2})},f.NAVIGATION_THROTTLE),e.exports=t.default},7027:function(e,t,n){"use strict";var o;t.__esModule=!0;var r=p(n(8)),a=n(6030),i=p(n(950)),l=p(n(5556)),u=p(n(954)),s=p(n(6055)),d=p(n(6033)),f=n(370),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=[c.Routes.ACTIVITY,c.Routes.GAME_LIBRARY,c.Routes.APPLICATION_STORE,c.Routes.FRIENDS],_=((o={})[c.Routes.ACTIVITY]=0,o[c.Routes.GAME_LIBRARY]=1,o[c.Routes.APPLICATION_STORE]=2,o[c.Routes.FRIENDS]=3,o);function E(e,t){(0,a.transitionToChannel)(e,t)}function y(e){var t=i.default.getChannelId(c.ME),n=l.default.getPrivateChannelIds(),o=__OVERLAY__?n:[].concat(h,n),r=(null==t?function(e){for(var t in _)if(e.startsWith(t))return _[t];return-1}(d.default.getHomeLink()):o.indexOf(t))+e;r>=o.length?r=0:r<0&&(r=o.length-1);var u,f,p=o[r];h.includes(p)?(u=p,f=s.default.getCurrentRoute(),u===c.Routes.APPLICATION_STORE&&null!=f?(0,a.transitionToPage)(f):(0,a.transitionToPage)(u)):E(c.ME,p)}t.default=r.default.throttle(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=i.default.getGuildId();null==t?y(e):function(e,t){var n,o,r=u.default.getCategories(t),a=(0,f.getFlattenedChannelList)(r._categories,r,function(e){var t=e.channel;return t.type===c.ChannelTypes.GUILD_TEXT&&!(0,f.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),l=i.default.getChannelId(t);E(t,a[(n=a.indexOf(l)+e,o=a.length,n<0?o-1:n>=o?0:n)])}(e,t)},c.NAVIGATION_THROTTLE),e.exports=t.default},7028:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(8)),r=s(n(538)),a=s(n(950)),i=s(n(65)),l=n(6030),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.throttle(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r.default.guildPositions,n=a.default.getGuildId(),o=-1;n&&(o=t.indexOf(n)),-2===(o+=e)&&(o=t.length-1);var s=void 0;s=o>=t.length||o<0?u.ME:t[o];var d=i.default.getChannelId(s);(0,l.transitionToChannel)(s,d===s?null:d)},u.NAVIGATION_THROTTLE),e.exports=t.default},7051:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(0),a=n(6),i=(o=a)&&o.__esModule?o:{default:o};t.default={getStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,o=void 0;switch(e){case r.RTCConnectionStates.CONNECTING:n="connecting",o=i.default.Messages.CONNECTION_STATUS_CONNECTING;break;case r.RTCConnectionStates.AUTHENTICATING:n="connecting",o=i.default.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case r.RTCConnectionStates.AWAITING_ENDPOINT:n="connecting",o=i.default.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case r.RTCConnectionStates.RTC_CONNECTED:n="connected",o=t?i.default.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:i.default.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case r.RTCConnectionStates.RTC_CONNECTING:n="connecting",o=i.default.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case r.RTCConnectionStates.ICE_CHECKING:n="connecting",o=i.default.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case r.RTCConnectionStates.NO_ROUTE:n="error",o=i.default.Messages.CONNECTION_STATUS_NO_ROUTE;break;case r.RTCConnectionStates.RTC_DISCONNECTED:n="error",o=i.default.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case r.RTCConnectionStates.DISCONNECTED:default:n="error",o=i.default.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:n,connectionStatusText:o}}},e.exports=t.default},7053:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=G(n(3)),u=G(n(8)),s=G(n(9)),d=G(n(6)),f=G(n(365)),c=G(n(18)),p=G(n(144)),h=G(n(31)),_=G(n(947)),E=G(n(64)),y=G(n(6678)),g=G(n(40)),v=G(n(123)),m=G(n(1006)),T=G(n(224)),I=n(5985),C=G(I),S=n(520),N=G(n(67)),A=G(n(13)),O=G(n(20)),b=n(194),M=n(0),R=G(n(5733)),L=G(n(519)),D=G(n(5558)),w=G(n(5557)),P=G(n(88)),U=G(n(6134));function G(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){function t(){var n,o;H(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=k(this,e.call.apply(e,[this].concat(a))),o.handleRevokeInvite=function(){var e=o.props,t=e.onRevoke,n=e.invite;null!=t&&t(n)},k(o,n)}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hideDiscriminator,o=e.hideInviteCode,r=new P.default(t.inviter);return a(g.default,{className:(0,s.default)(R.default.row,D.default.card)},void 0,a(g.default,{align:g.default.Align.CENTER,className:R.default.userColumn},void 0,a(_.default,{user:r,size:"xsmall",className:R.default.avatar}),a(m.default,{user:r,hideDiscriminator:n,usernameClass:R.default.username,discriminatorClass:R.default.discrimClass})),a(g.default,{align:g.default.Align.CENTER,grow:0,shrink:0,basis:100,className:R.default.boostZIndex},void 0,a(N.default,{family:N.default.Family.CODE,className:R.default.code},void 0,o?"...":t.code)),a(g.default,{basis:100,grow:0,shrink:0,align:g.default.Align.CENTER,justify:g.default.Justify.END,className:R.default.boostZIndex},void 0,a(N.default,{family:N.default.Family.CODE,className:R.default.alignRight},void 0,a(y.default,{deadline:t.getExpiresAt(),showDays:!1})),a("button",{className:(0,s.default)(R.default.revokeInvite,w.default.button),onClick:this.handleRevokeInvite})))},t}(i.PureComponent),j=function(e){function t(){var n,o;H(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=k(this,e.call.apply(e,[this].concat(a))),o.state={loading:!0,invites:null},o.handleRevoke=function(e){f.default.revokeInvite(e.code),o.setState({invites:o.state.invites.filter(function(t){return t!==e})})},o.handleClose=function(){var e=o.props.onClose;e&&e()},k(o,n)}return x(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.channelId;A.default.get({url:M.Endpoints.INSTANT_INVITES(t),retries:3}).then(function(t){var n=t.body.map(function(e){return new U.default(r({},e,{maxUses:e.max_uses,maxAge:e.max_age,createdAt:e.created_at}))});e.setState({loading:!1,invites:n})}),O.default.track(M.AnalyticEvents.OPEN_MODAL,r({},(0,b.collectChannelAnalyticsMetadata)(c.default.getChannel(t)),{type:"Group DM Invites",source:"Group DM Menu"}))},t.prototype.renderContent=function(){var e=this.state,t=e.loading,n=e.invites;return t||null==n?a(T.default,{className:L.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE}):u.default.isEmpty(n)?this.renderEmpty():a("div",{className:R.default.container},void 0,this.renderHeader(),this.renderInvites())},t.prototype.renderEmpty=function(){return a(C.default,{theme:this.props.theme},void 0,a(I.EmptyStateImage,{darkSrc:n(6677),lightSrc:n(6676),width:256,height:130,style:{marginBottom:0}}),a(I.EmptyStateText,{className:L.default.marginTop20},void 0,d.default.Messages.NO_INVITES_CAPTION))},t.prototype.renderHeader=function(){return a(g.default,{},void 0,a(g.default.Child,{wrap:!0},void 0,a(S.FormTitle,{},void 0,d.default.Messages.INSTANT_INVITE_INVITER)),a(g.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,a(S.FormTitle,{},void 0,d.default.Messages.INSTANT_INVITE_INVITE_CODE)),a(g.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,a(S.FormTitle,{className:R.default.alignRight},void 0,d.default.Messages.INSTANT_INVITE_EXPIRES)))},t.prototype.renderInvites=function(){var e=this,t=this.props,n=t.hideDiscriminators,o=t.hideInviteCodes;return(0,u.default)(this.state.invites).sortBy(function(e){return(e.inviter.username||"").toLocaleLowerCase()}).map(function(t){return a(F,{invite:t,hideDiscriminator:n,hideInviteCode:o,onRevoke:e.handleRevoke},t.code)}).value()},t.prototype.render=function(){return a(v.default,{size:v.default.Sizes.MEDIUM},void 0,a(v.default.Header,{direction:g.default.Direction.VERTICAL,align:g.default.Align.START},void 0,a(S.FormTitle,{tag:S.FormTitleTags.H2},void 0,d.default.Messages.INVITES),a(S.FormText,{type:S.FormTextTypes.DESCRIPTION},void 0,d.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE)),a(v.default.Content,{},void 0,this.renderContent()),a(v.default.Footer,{},void 0,a(E.default,{onClick:this.handleClose},void 0,d.default.Messages.DONE)))},t}(i.PureComponent);t.default=l.default.connectStores([p.default,h.default],function(){return{hideDiscriminators:p.default.hidePersonalInformation,hideInviteCodes:p.default.hideInstantInvites,theme:h.default.theme}})(j),e.exports=t.default},7054:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(3)),u=C(n(6)),s=C(n(146)),d=n(33),f=C(n(38)),c=C(n(14)),p=C(n(18)),h=C(n(6078)),_=C(n(227)),E=C(n(34)),y=C(n(6685)),g=C(n(548)),v=C(n(164)),m=C(n(7053)),T=C(n(67)),I=n(0);function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){function t(){var n,o;S(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=N(this,e.call.apply(e,[this].concat(l))),o.handleViewInstantInvites=function(){(0,d.closeContextMenu)(),f.default.push(function(e){return i.createElement(m.default,a({channelId:o.props.channel.id},e))})},N(o,n)}return A(t,e),t.prototype.render=function(){return this.props.channel.isOwner(c.default.getId())?r(E.default,{label:u.default.Messages.INSTANT_INVITES,action:this.handleViewInstantInvites}):null},t}(i.PureComponent),b=function(e){function t(){var n,o;S(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=N(this,e.call.apply(e,[this].concat(a))),o.handleChangeIcon=function(e){(0,d.closeContextMenu)(),s.default.setIcon(o.props.channel.id,e)},N(o,n)}return A(t,e),t.prototype.render=function(){return r(E.default,{label:u.default.Messages.CHANGE_ICON,styles:{position:"relative"}},void 0,r(h.default,{onChange:this.handleChangeIcon,size:I.AVATAR_MAX_SIZE}))},t}(i.PureComponent),M=function(e){function t(){var n,o;S(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=N(this,e.call.apply(e,[this].concat(a))),o.handleRemoveIcon=function(){(0,d.closeContextMenu)(),s.default.setIcon(o.props.channel.id,null)},N(o,n)}return A(t,e),t.prototype.render=function(){return null!=this.props.channel.icon?r(E.default,{label:u.default.Messages.REMOVE_ICON,action:this.handleRemoveIcon}):null},t}(i.PureComponent),R=function(e){function t(){var n,o;S(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=N(this,e.call.apply(e,[this].concat(c))),o.handleConfirmLeave=function(){(0,d.closeContextMenu)();var e=o.props.channel,t=e.toString(),n=u.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:t}),l=u.default.Messages.LEAVE_GROUP_DM_BODY.format({name:t});e.isManaged()&&(n=u.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:t}),l=u.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:t})),f.default.push(function(e){return i.createElement(v.default,a({header:n,confirmText:u.default.Messages.LEAVE_GROUP_DM,cancelText:u.default.Messages.CANCEL,onConfirm:o.handleLeave},e),r(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,l))})},o.handleLeave=function(){var e=o.props,t=e.channel,n=e.selected;s.default.closePrivateChannel(t.id,n)},N(o,n)}return A(t,e),t.prototype.render=function(){return r(E.default,{label:u.default.Messages.LEAVE_GROUP_DM,action:this.handleConfirmLeave,danger:!0})},t}(i.PureComponent),L=function(e){function t(){return S(this,t),N(this,e.apply(this,arguments))}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,o=e.selected,a=e.channel;return null==a?null:a.isManaged()?null:r("div",{className:n,style:t},void 0,r(_.default,{},void 0,r(O,{channel:a}),r(b,{channel:a}),r(M,{channel:a})),r(_.default,{},void 0,r(y.default,{channel:a}),r(R,{channel:a,selected:o})),r(g.default,{id:a.id}))},t}(i.PureComponent);t.default=l.default.connectStores([p.default],function(e){var t=e.channelId;return{channel:p.default.getChannel(t)}})(L),e.exports=t.default},7123:function(e,t,n){"use strict";t.__esModule=!0;var o=n(0),r=i(n(2)),a=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}t.default={dismissForApplicationId:function(e){r.default.dispatch({type:o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,key:e,value:!0}),a.default.track(o.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})}},e.exports=t.default},7124:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),r=i(n(2)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldShowEducation=function(e){return!0!==this.get(e)},t}(o.default.CachedStore);t.default=new l(r.default,"ActivityInviteEducationExperimentStore",a.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,{}),e.exports=t.default},7125:function(e,t,n){"use strict";t.__esModule=!0;var o=g(n(3)),r=g(n(1010)),a=g(n(6)),i=g(n(2)),l=n(0),u=g(n(14)),s=g(n(65)),d=g(n(953)),f=g(n(59)),c=g(n(58)),p=g(n(12)),h=g(n(26)),_=g(n(60)),E=g(n(18)),y=g(n(31));function g(e){return e&&e.__esModule?e:{default:e}}var v=10,m=[],T=null,I=null;function C(){if(!r.default.supported)return!1;var e=y.default.locale;I||(I=window.speechSynthesis&&window.speechSynthesis.getVoices()),T=(T=I.filter(function(t){return t.lang===e||t.lang.slice(0,e.length)===e})).length>0?T[0]:null}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default,d.default,c.default,p.default,y.default,h.default)},t}(o.default.Store);t.default=new S(i.default,__OVERLAY__?{}:{MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message;if(e.optimistic||c.default.isSelfDeaf())return!1;var o=E.default.getChannel(t);if(null==o)return!1;var i=t===s.default.getChannelId(),g=y.default.enableTTSCommand&&n.tts&&i,I=d.default.getTTSType(),S=n.author.id!==u.default.getId()&&(I===l.TTSNotificationTypes.ALL_CHANNELS||I===l.TTSNotificationTypes.SELECTED_CHANNEL&&i);if((g||S)&&!f.default.isBlocked(n.author.id)){if(m.indexOf(n.id)>=0)return!1;m.unshift(n.id)>v&&m.pop();var N=o.getGuildId(),A=h.default.getGuild(N),O=_.default.getNick(N,n.author.id)||n.author.username,b=n.content.replace(/<@!?(\d+)>/g,function(e,t){var n=p.default.getUser(t);return null==n?e:_.default.getNick(N,n.id)||n.username}).replace(/<@&?(\d+)>/g,function(e,t){var n=null!=A?A.roles[t]:null;return null!=n&&null!=n.name?n.name:a.default.Messages.MESSAGE_TTS_DELETED_ROLE}).replace(/<#(\d+)>/g,function(e,t){var n=E.default.getChannel(t);return null==n?e:n.toString()});T||C(),r.default.speak(a.default.Messages.MESSAGE_TTS.format({username:O,body:b}),T)}return!1},AUDIO_TOGGLE_SELF_DEAF:function(e){c.default.isSelfDeaf()&&r.default.cancelAll()},USER_SETTINGS_UPDATE:function(e){return C()},I18N_LOAD_SUCCESS:function(e){return C()}}),e.exports=t.default},7126:function(e,t,n){"use strict";t.__esModule=!0,t.BlockedMessageGroup=t.HasMore=t.LoadingMore=t.Divider=t.NewMessagesBar=t.JumpToPresentBar=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(6)),u=c(n(957)),s=c(n(87)),d=c(n(5758)),f=n(389);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=r(u.default,{type:"pulsing-ellipsis"}),y=(t.JumpToPresentBar=function(e){var t=e.onClick;return r(f.MessagesInteractionContext.Consumer,{},void 0,function(e){return e.disableInteractions?null:r("div",{className:d.default.jumpToPresentBar},void 0,r("button",{type:"button",onClick:t},void 0,l.default.Messages.YOURE_VIEWING_OLDER_MESSAGES),null!=t?r("button",{type:"button",onClick:t},void 0,l.default.Messages.JUMP_TO_PRESENT):E)})},t.NewMessagesBar=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.onScrollTo,o=e.onAck,a=r("button",{type:"button",onClick:n},void 0,t);return r(f.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return e.disableInteractions?null:r("div",{className:(0,i.default)(d.default.newMessagesBar,(t={},t[d.default.disableInteractions]=e.disableInteractions,t))},void 0,a,r("button",{type:"button",onClick:o},void 0,l.default.Messages.MARK_AS_READ))})},t}(a.PureComponent),t.Divider=function(e){var t=e.children,n=e.red,o=e.setElementRef,l=e.className,u=e.backgroundOpacity;return a.createElement("div",{className:(0,i.default)(d.default.divider,n?d.default.dividerRed:null,d.default[u+"BackgroundOpacity"],l),ref:o},r("span",{className:d.default.dividerContent},void 0,t))},r(u.default,{}));t.LoadingMore=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){return r("div",{className:d.default.loadingMore},void 0,y)},t}(a.Component),t.HasMore=function(e){var t=e.onClick;return r(f.MessagesInteractionContext.Consumer,{},void 0,function(e){var n;return r("div",{className:(0,i.default)(d.default.hasMore,(n={},n[d.default.disableInteractions]=e.disableInteractions,n))},void 0,r("button",{type:"button",onClick:t},void 0,l.default.Messages.LOAD_MORE_MESSAGES))})},t.BlockedMessageGroup=function(e){var t,n=e.onClick,o=e.count,a=e.revealed,u=e.children,f=e.className;return r("div",{className:(0,i.default)(d.default.messageGroupBlocked,f,(t={},t[d.default.revealed]=a,t))},void 0,r(s.default,{className:d.default.messageGroupBlockedBtn,onClick:n},void 0,l.default.Messages.BLOCKED_MESSAGES.format({count:o})),a?u:null)}},7127:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var r=i(n(3)),a=i(n(2));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=Object.freeze([]),u={},s={};function d(e,t){var n=u[e];return null!=n&&(u[e]=n.filter(function(e){return e.id!==t}),delete s[t],n.length!==u[e].length)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFiles=function(e){return u[e]||l},t}(r.default.Store);t.default=new f(a.default,{UPLOAD_START:function(e){var t=e.channelId,n=e.file,o=e.uploader,r=u[t]||l;s[n.id]=o,u[t]=[].concat(r,[n])},UPLOAD_PROGRESS:function(e){var t=e.channelId,n=e.file,o=u[t];if(null==o)return!1;u[t]=o.map(function(e){return e.id===n.id?n:e})},UPLOAD_COMPLETE:function(e){return d(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return d(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(e){var t=e.file,n=s[t.id];if(null==n)return!1;o(function(){return n.cancel()})}}),e.exports=t.default}).call(this,n(35).setImmediate)},7128:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(9))),i=m(n(43)),l=m(n(3)),u=m(n(523)),s=m(n(11)),d=m(n(12)),f=m(n(26)),c=m(n(6024)),p=m(n(6383)),h=m(n(369)),_=m(n(38)),E=m(n(230)),y=n(0),g=m(n(6)),v=m(n(5759));function m(e){return e&&e.__esModule?e:{default:e}}var T=(0,i.default)({displayName:"WelcomeMessage",mixins:[l.default.StoreListenerMixin(d.default,f.default),E.default],getDefaultProps:function(){return{channel:null}},getStateFromStores:function(){var e=f.default.getGuild(this.props.channel.getGuildId());return{currentUser:d.default.getCurrentUser(),guild:e}},handleDownloadApps:function(e){_.default.push(h.default,{source:e})},handleOpenInvitePopout:function(){var e=this.props.channel,t=this.state.guild;_.default.push(c.default,{guild:t,channel:e,source:y.InstantInviteSources.WELCOME_MESSAGE})},render:function(){var e=this.state.guild&&this.state.guild.isOwner(this.state.currentUser)?r("h1",{className:v.default.h1},void 0,g.default.Messages.WELCOME_MESSAGE_OWNER_TITLE.format({username:this.state.currentUser.username})):r("h1",{className:v.default.h1},void 0,g.default.Messages.WELCOME_MESSAGE_TITLE.format({username:this.state.currentUser.username})),t=void 0;this.can(y.Permissions.CREATE_INSTANT_INVITE,this.props.channel)&&(t=r("div",{className:v.default.itemContainer},void 0,r("div",{className:(0,a.default)(v.default.icon,v.default.share)}),r("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_INSTANT_INVITE.format({onShareClick:this.handleOpenInvitePopout}))));var n=void 0;return s.default.embedded||(n=r("div",{className:v.default.itemContainer},void 0,r("div",{className:(0,a.default)(v.default.icon,v.default.apps)}),r("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_DESKTOP_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Desktop Apps")})))),r("div",{className:v.default.welcomeMessage},void 0,e,r("div",{className:v.default.itemContainer},void 0,r("div",{className:(0,a.default)(v.default.icon,v.default.exclamation)}),r("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_TUTORIAL.format())),t,n,r("div",{className:v.default.itemContainer},void 0,r("div",{className:(0,a.default)(v.default.icon,v.default.mobile)}),r("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_MOBILE_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Mobile Apps")}))),r("div",{className:v.default.itemContainer},void 0,r("div",{className:(0,a.default)(v.default.icon,v.default.twitter)}),r("p",{},void 0,g.default.Messages.WELCOME_MESSAGE_SUPPORT.format({supportURL:u.default.getCommunityURL(),twitterURL:u.default.getTwitterURL()}))),r(p.default,{className:v.default.emptyMessage}))}});t.default=T,e.exports=t.default},7255:function(e,t,n){"use strict";t.__esModule=!0;var o=p(n(3)),r=p(n(6)),a=p(n(954)),i=p(n(363)),l=p(n(191)),u=p(n(6426)),s=p(n(269)),d=p(n(18)),f=n(370),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=d.default.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!s.default.isChannelMuted(t.getGuildId(),t.id)&&i.default.hasUnread(e))}function _(e){var t=d.default.getChannel(e);if(null==t||null==t.getGuildId())return!1;var n=s.default.isGuildCollapsed(t.getGuildId()),o=s.default.isChannelMuted(t.getGuildId(),t.id);return(!n||!o)&&i.default.getMentionCount(e)>0}t.default=o.default.connectStores([a.default,i.default,l.default],function(e){var t=e.guildId,n=a.default.getCategories(t);return{textUnread:r.default.Messages.NEW_UNREADS,textMention:r.default.Messages.NEW_MENTIONS,isUnread:h,isMentioned:_,items:(0,f.getFlattenedChannelList)(n._categories,n,function(e){var t=e.channel;return t.type===c.ChannelTypes.GUILD_TEXT&&!(0,f.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),animate:l.default.isFocused()}})(u.default),e.exports=t.default},7256:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(45)),l=s(n(970)),u=s(n(5827));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.channels,n=e.voiceStates,o=e.selectedChannel,a=e.onClick,s=[];return t.forEach(function(e){var t=e.channel,r=n[t.id];t.id!==o&&r&&r.forEach(function(e){return s.push(e)})}),0===s.length?null:r("div",{className:u.default.container},void 0,r(l.default,{className:u.default.voiceUserSummaryItem,icon:!0,users:s,max:"Gecko"===i.default.layout?9:10,onClick:a}))},t}(a.PureComponent);t.default=d,e.exports=t.default},7257:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(40)),l=f(n(79)),u=f(n(9)),s=n(99),d=f(n(5829));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){e.stopPropagation()}var p="Hovered",h="HoveredCollapsed",_="Unread",E="Collapsed",y="Muted",g="Default",v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o.handleMouseEnter=o.handleMouseEnter.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o.state={hovered:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){var e=this.props,t=e.muted,n=e.collapsed,o=e.unread,r=this.state.hovered;return r&&n?h:r?p:t?y:!t&&n&&o?_:n?E:g},t.prototype.handleClick=function(e){var t=this.props,n=t.onClick,o=t.channel;n&&n(o,e)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,o=t.channel;n&&n(o,e)},t.prototype.handleMouseEnter=function(e){var t=this.props,n=t.onMouseEnter,o=t.channel;this.setState({hovered:!0}),n&&n(e,o)},t.prototype.handleMouseLeave=function(e){var t=this.props,n=t.onMouseLeave,o=t.channel;this.setState({hovered:!1}),n&&n(e,o)},t.prototype.isClickable=function(){return null!=this.props.onClick},t.prototype.renderIcon=function(){return this.props.hideIcon?null:r(l.default,{expanded:!this.props.collapsed,name:l.default.Names.CARET,width:12,height:12,transition:d.default.iconTransition,className:(0,s.getClass)(d.default,"icon",this.getMode())})},t.prototype.renderName=function(){var e=this.props.channel.name,t=this.getMode();return r(i.default.Child,{className:(0,s.getClass)(d.default,"name",t)},void 0,e)},t.prototype.renderIcons=function(){var e=this.props.children;return 0===a.Children.count(e)?null:r(i.default,{grow:0,onClick:c,align:i.default.Align.CENTER,className:"margin-reset"},void 0,e)},t.prototype.render=function(){var e,t=this.props,n=t.onClick,o=t.onContextMenu,a=this.getMode(),l=this.isClickable();return r(i.default,{className:(0,u.default)((0,s.getClass)(d.default,"wrapper",a),(e={},e[d.default.cursorPointer]=l,e[d.default.cursorDefault]=!l,e)),align:i.default.Align.START,onClick:n&&this.handleClick,onContextMenu:o&&this.handleContextMenu,onMouseEnter:n&&this.handleMouseEnter,onMouseLeave:n&&this.handleMouseLeave},void 0,this.renderIcon(),this.renderName(),this.renderIcons())},t}(a.PureComponent);t.default=v,e.exports=t.default},7258:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),u=O(n(6)),s=O(n(7257)),d=O(n(79)),f=O(n(64)),c=O(n(6049)),p=n(33),h=O(n(142)),_=n(6007),E=O(_),y=O(n(112)),g=O(n(26)),v=O(n(958)),m=O(n(363)),T=O(n(269)),I=O(n(6073)),C=n(6130),S=n(6208),N=n(0),A=O(n(5828));function O(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleCreateChannel=o.handleCreateChannel.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o.handleCollapseToggle=o.handleCollapseToggle.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleCreateChannel=function(){var e=this.props.channel,t=e.type===N.ChannelTypes.GUILD_CATEGORY?null:e.type;I.default.open(t,e.getGuildId(),"null"!==e.id?e.id:null,null)},t.prototype.handleCollapseToggle=function(){var e=this.props,t=e.collapsed,n=e.channel;t?(0,C.categoryExpand)(n.id):(0,C.categoryCollapse)(n.id)},t.prototype.handleContextMenu=function(e,t){var n=this.props,o=n.channel,r=n.unread;if("null"!==o.id){var l=g.default.getGuild(o.getGuildId());(0,p.openContextMenu)(t,function(e){return i.createElement(c.default,a({},e,{type:N.ContextMenuTypes.CHANNEL_CATEGORY,channel:o,guild:l,hasUnread:r}))})}},t.prototype.renderCreateChannel=function(){var e=this.props,t=e.canManageCategory,n=e.hideManageIcons;return t&&!n?r(h.default,{text:u.default.Messages.CREATE_CHANNEL},void 0,r(f.default,{look:f.default.Looks.BLANK,size:f.default.Sizes.NONE,className:A.default.addButton,onClick:this.handleCreateChannel},void 0,r(d.default,{name:d.default.Names.PLUS_ALT,color:N.Colors.WHITE,className:A.default.addButtonIcon}))):null},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.muted,o=e.connectChannelDragSource,a=e.connectChannelDropTarget,i=e.position,l=e.sortingPosition,u=e.collapsed,d=e.hideIcon,f=e.showTutorial,c=void 0;c=null!=l?i>l?A.default.containerDragAfter:A.default.containerDragBefore:A.default.containerDefault;var p=r("div",{className:c},void 0,r(s.default,{channel:t,muted:n,onClick:this.handleCollapseToggle,onContextMenu:this.handleContextMenu,collapsed:u,hideIcon:d||!1},void 0,this.renderCreateChannel()));return f&&(p=r("div",{},void 0,r(E.default,{tutorialId:"organize-by-topic",position:_.TutorialIndicatorPositions.RIGHT,offsetX:-35,offsetY:-5},void 0,p))),null!=a&&null!=o?a(o(p)):p},t}(i.PureComponent);t.default=l.default.connectStores([y.default,v.default,m.default,T.default],function(e){var t=e.channel;return{unread:m.default.hasCategoryUnread(t.id),muted:T.default.isChannelMuted(t.getGuildId(),t.id),collapsed:v.default.isCollapsed(t.id),canManageCategory:y.default.can(N.Permissions.MANAGE_CHANNELS,t)}})((0,S.makeChannelSortable)(b)),e.exports=t.default},7259:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(8)),r=u(n(3)),a=u(n(2)),i=n(0),l=u(n(570));function u(e){return e&&e.__esModule?e:{default:e}}var s=1e4,d={},f={};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getExperimentAssignment=function(e,t){var n=e+":"+t,r=f[n];return null!=r?r:f[n]=function(e,t){var n=l.default.v3(t),r=d[n];if(null==r)return null;var a=(r.hashKey||t)+":"+e,u=l.default.v3(a)%s,f=o.default.find(r.buckets,function(e){var t=e.positions;return o.default.some(t,function(e){var t=e.start,n=e.end;return u>=t&&u<n})}),c=f?f.bucket:0;return-1===c?null:{type:i.ExperimentTypes.GUILD,guildId:e,bucket:c,revision:r.revision,name:t}}(e,t)},t}(r.default.Store);t.default=new c(a.default,{CONNECTION_OPEN:function(e){var t=e.guildExperiments;if(d={},f={},null==t)return!1;t.forEach(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],a=e[4];d[t]={experimentNameHash:t,hashKey:n,revision:o,buckets:r.map(function(e){return{bucket:e[0],positions:e[1].map(function(e){var t=function(e){if(Array.isArray(e))return e;var t=[];if("string"==typeof e)for(var n=0;n<e.length;n++)t.push(Math.min(e.charCodeAt(n),128));else t.push(e.s,e.e);return t}(e);return{start:t[0],end:t[1]}})}}),filters:a.map(function(e){return(t=e)[0],t[1],null;var t})}})}}),e.exports=t.default},7260:function(e,t,n){"use strict";t.__esModule=!0,t.List=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6420)),l=n(6419),u=s(n(5830));function s(e){return e&&e.__esModule?e:{default:e}}t.List=i.default.List;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.connectUserDragSource,n=e.canDrag,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["connectUserDragSource","canDrag"]);return n?t(r("div",{className:u.default.draggable},void 0,a.createElement(i.default,o)))||null:r("div",{className:u.default.draggable},void 0,a.createElement(i.default,o))},t}(a.PureComponent);t.default=(0,l.makeVoiceUserDraggable)(d)},7261:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=T(n(3)),u=n(7260),s=T(u),d=n(33),f=T(n(942)),c=T(n(531)),p=T(n(14)),h=T(n(65)),_=T(n(58)),E=T(n(542)),y=T(n(112)),g=n(223),v=T(g),m=n(0);function T(e){return e&&e.__esModule?e:{default:e}}var I=l.default.connectStores([E.default,h.default,_.default,p.default],function(e){var t,n=e.mute,o=e.deaf,r=e.user.id,a=e.channel,i=!1,l=!1;p.default.getId()===r?(i=!_.default.isEnabled()||_.default.isSelfMute()||_.default.isSelfMutedTemporarily(),l=_.default.isSelfDeaf()):i=_.default.isLocalMute(r),t=E.default.isPrioritySpeaker(r),_.default.isSupported()||(i=!0);var u=!i&&a.id===h.default.getVoiceChannelId();return{mute:n||i,deaf:o||l,speaking:u&&E.default.isSpeaking(r),priority:t}})(s.default),C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleUserClick=o.handleUserClick.bind(o),o.handleUserContextMenu=o.handleUserContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleUserClick=function(e,t,n){var o=this.refs[t.id];null!=o&&(0,g.openPopout)(o,{closeOnScroll:!1,position:this.props.collapsed?v.default.Positions.BOTTOM_LEFT:v.default.Positions.RIGHT,render:function(e){return i.createElement(c.default,a({},e,{user:t,guildId:n.getGuildId(),channelId:n.id}))},shadow:!1})},t.prototype.handleUserContextMenu=function(e,t,n){(0,d.openContextMenu)(e,function(e){return i.createElement(f.default,a({},e,{type:m.ContextMenuTypes.USER_CHANNEL_VOICE,user:t,guildId:n.getGuildId(),channelId:n.id}))})},t.prototype.renderVoiceUsers=function(){var e=this,t=this.props,n=t.channel,o=t.voiceStates,r=t.collapsed;return null==o||0===o.length?null:o.map(function(t){var o=t.user,a=t.nick,l=t.voiceState;return i.createElement(I,{ref:o.id,key:o.id,user:o,nick:a,mute:l.mute||l.selfMute||l.suppress,deaf:l.deaf||l.selfDeaf,channel:n,collapsed:r,onClick:e.handleUserClick,onContextMenu:e.handleUserContextMenu,canDrag:y.default.can(m.Permissions.MOVE_MEMBERS,n)})})},t.prototype.render=function(){var e=this.renderVoiceUsers();if(null==e)return null;var t=this.props,n=t.collapsed,o=t.className;return r(u.List,{className:o,collapsed:n},void 0,e)},t}(i.PureComponent);t.default=C,e.exports=t.default},7262:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(5832),u=(r=l)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.total,n=e.users;return a("div",{className:u.default.wrapper},void 0,n.toString().padStart(2,"0"),"/",t.toString().padStart(2,"0"))},t}(i.PureComponent);t.default=s,e.exports=t.default},7263:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=M(n(3)),u=M(n(9)),s=M(n(6025)),d=M(n(6422)),f=M(n(7262)),c=M(n(7261)),p=n(33),h=M(n(6049)),_=n(6208),E=n(6419),y=M(n(165)),g=M(n(26)),v=M(n(112)),m=M(n(958)),T=M(n(125)),I=M(n(89)),C=M(n(18)),S=M(n(6207)),N=n(370),A=M(n(41)),O=n(0),b=M(n(5567));function M(e){return e&&e.__esModule?e:{default:e}}var R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleVoiceConnect=o.handleVoiceConnect.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleVoiceConnect=function(e){var t=this.props,n=t.locked,o=t.connected,r=t.channel,a=g.default.getGuild(r.getGuildId());n||this.isFull()||null==a||o||y.default.selectVoiceChannel(a.id,r.id),o&&S.default.isAvailable(r.getGuildId())&&function(e,t){var n=t.getGuildId();if(null==n)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");A.default.transitionTo(O.Routes.CHANNEL(n,t.id))}(0,r)},t.prototype.handleContextMenu=function(e){var t=this.props.channel,n=g.default.getGuild(t.getGuildId());(0,p.openContextMenu)(e,function(e){return i.createElement(h.default,a({},e,{type:O.ContextMenuTypes.CHANNEL_LIST_VOICE,channel:t,guild:n}))})},t.prototype.getVoiceStatesCount=function(){var e=this.props.voiceStates;return null!=e?e.length:0},t.prototype.isFull=function(){var e=this.props,t=e.channel;return!e.bypassLimit&&(0,N.isChannelFull)(t,this.getVoiceStatesCount())},t.prototype.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?b.default.containerUserOver:null!=n?t>n?b.default.containerDragAfter:b.default.containerDragBefore:b.default.containerDefault},t.prototype.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.locked,o=this.state.hovered;return o&&v.default.can(O.Permissions.MANAGE_CHANNELS,t)||o&&!n&&v.default.can(O.Permissions.CREATE_INSTANT_INVITE,t)?null:t.userLimit>0&&!n?r("div",{style:{marginLeft:-2}},void 0,r(f.default,{users:this.getVoiceStatesCount(),total:t.userLimit})):void 0},t.prototype.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,o=e.collapsed,a=e.categoryCollapsed;return r(c.default,{channel:t,voiceStates:n,collapsed:o||a})},t.prototype.render=function(){var e,t=this.props,n=t.channel,o=t.selected,a=t.connected,i=t.locked,l=t.video,d=t.connectChannelDropTarget,f=t.connectChannelDragSource,c=t.connectUserDropTarget,p=t.connectDragPreview,h=t.sorting,_=t.sortingType,E=t.canManageCategory,y=t.canMoveMembers,g=this.state.hovered,v=r("div",{className:(0,u.default)(this.getModeClass(),(e={},e[b.default.disabled]=h&&_!==n.type,e))},void 0,r(s.default,{channel:n,selected:o,connected:a,video:l,locked:i,onClick:this.handleVoiceConnect,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,connectDragPreview:p},void 0,g&&this.renderInviteButton(),g&&this.renderEditButton(),this.renderUserLimit()),this.renderVoiceUsers());return y&&(v=c(v)),E&&(v=d(f(v))),v},t}(d.default),L=l.default.connectStores([v.default,m.default,T.default],function(e){var t=e.channel,n=e.guild,o=C.default.getChannel(t.parent_id);return{canManageChannel:n&&v.default.can(O.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=o?v.default.can(O.Permissions.MANAGE_CHANNELS,o):v.default.can(O.Permissions.MANAGE_CHANNELS,n),canMoveMembers:v.default.can(O.Permissions.MOVE_MEMBERS,t),locked:!v.default.can(O.Permissions.CONNECT,t),bypassLimit:v.default.can(O.Permissions.MOVE_MEMBERS,t),categoryCollapsed:m.default.isCollapsed(t.parent_id),video:I.default.hasVideo(t.guild_id,t.id)}})((0,_.makeChannelSortable)((0,E.makeVoiceUserDroppable)(R)));t.default=L,e.exports=t.default},7264:function(e,t,n){"use strict";t.__esModule=!0,t.getDropData=function(e,t,n,o,a){if(null==e||null==n)return null;var i=r.ChannelTypes.GUILD_CATEGORY;if(e.type===i)return o===t||o<t&&e.type===n.type?d(n):o>t?function(e,t,n){var o=r.ChannelTypes.GUILD_CATEGORY,a=n[(s(t,n,!0)||0)+1],i=u(-1,t.id,e.type,n);if(null==i||i&&i.channel.id===e.id)return null;if(null==a||a.channel.type===o)return{referenceId:i.channel.id,parentId:null};return null}(e,n,a):null;if(e.type===n.type)return d(n);if(o<t)return n.type===i?function(e,t,n){var o=r.ChannelTypes.GUILD_CATEGORY,a=r.ChannelTypes.GUILD_VOICE,i=r.ChannelTypes.GUILD_TEXT,l=n[(s(t,n,!0)||0)-1],d=u(1,t.id,e.type,n);if(null==l)return{referenceId:null,parentId:null};if(null!=d){if(l.channel.type===e.type||e.type===a&&l.channel.type===i)return{referenceId:d.channel.id,parentId:l.channel.parent_id};if(l.channel.type===o)return{referenceId:d.channel.id,parentId:l.channel.id}}return null}(e,n,a):function(e,t,n){var o=r.ChannelTypes.GUILD_CATEGORY,a=r.ChannelTypes.GUILD_TEXT,i=r.ChannelTypes.GUILD_VOICE,l=n[(s(t,n,!0)||0)-1],d=u(1,t.id,e.type,n);if(null==l&&e.type!==i)return{referenceId:null!=d?d.channel.id:null,parentId:null};if(e.type===a&&null!=d&&(l.channel.type===a||l.channel.type===o))return{referenceId:d.channel.id,parentId:t.parent_id};return null}(e,n,a);if(n.type===i)return function(e,t,n){var o=r.ChannelTypes.GUILD_CATEGORY,a=r.ChannelTypes.GUILD_VOICE,i=r.ChannelTypes.GUILD_TEXT,l=n[(s(t,n,!0)||0)+1],d=u(-1,t.id,e.type,n);if(null!=d){if(null==l)return{referenceId:d.channel.id,parentId:t.id};if(l.channel.type===e.type||e.type===i&&l.channel.type===a)return{referenceId:d.channel.id,parentId:l.channel.parent_id};if(l.channel.type===o)return{referenceId:d.channel.id,parentId:t.id}}return null}(e,n,a);return function(e,t,n){var o=r.ChannelTypes.GUILD_CATEGORY,a=r.ChannelTypes.GUILD_VOICE,i=n[(s(t,n,!0)||0)+1],l=u(-1,t.id,e.type,n);if(null==l)return null;if(e.type===a){if(null==i||i.channel.type===o)return{referenceId:l.channel.id,parentId:t.parent_id};if(i.channel.type===a)return{referenceId:l.channel.id,parentId:i.channel.parent_id}}if(e.type===o&&(null==i||i.channel.type===o))return{referenceId:l.channel.id,parentId:null};return null}(e,n,a)},t.getDnDUpdates=function(e,t,n,o){var a=r.ChannelTypes.GUILD_CATEGORY,u=r.ChannelTypes.GUILD_VOICE,d=r.ChannelTypes.GUILD_TEXT,f=[],c=[],p=o._categories,h=void 0,_=void 0,E=function(t){var n=void 0;return n=null!=h&&null!=_&&function(e,t,n,o){if(null!=t&&null!=n&&null!=o[t]&&o[t].channel===e&&null!=o[n])return!0;return!1}(e,h,_,t)?i.default.moveItemFromTo(t,h,_):[].concat(t),f=f.concat(i.default.calculatePositionDeltas(t,n,function(e){var t=e.channel;return t.id},function(e){var t=e.channel;return t.position})),n};if(e.type===a){var y=[].concat(p).slice(1);h=s(e,y),_=s(t,y),(c=E(y)).unshift(p[0])}if(e.type===d||e.type===a){var g=(0,l.getFlattenedChannelList)(c.length?c:p,o,function(e){var t=e.channel.type;return t===d});h=s(e,g),_=s(t,g),E(g)}if(e.type===u||e.type===a){var v=(0,l.getFlattenedChannelList)(c.length?c:p,o,function(e){var t=e.channel.type;return t===u});h=s(e,v),_=s(t,v),E(v)}if(e.parent_id!==n){var m=!1;f.find(function(t){return t.id===e.id&&(t.parent_id=n,m=!0)}),m||f.push({id:e.id,parent_id:n})}return f};var o,r=n(0),a=n(1036),i=(o=a)&&o.__esModule?o:{default:o},l=n(370);function u(e,t,n,o){var r=-1;if(o.find(function(e,n){return e.channel.id===t&&(r=n,!0)}),r<0)return null;for(var a=r;a>=0&&a<o.length;a+=e){var i=o[a];if(i.channel.type===n)return i}return null}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return 0;var o=null;return t.filter(function(t){var o=t.channel.type;return null!=e&&(n||e.type===o)}).find(function(t,n){var r=t.channel.id;return null!=e&&r===e.id&&(o=n,!0)}),o}function d(e){return{referenceId:e.id,parentId:e.parent_id}}},7265:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(3)),u=S(n(9)),s=S(n(6008)),d=S(n(6422)),f=S(n(6025)),c=n(33),p=S(n(6049)),h=n(6208),_=S(n(26)),E=S(n(363)),y=S(n(112)),g=S(n(125)),v=S(n(18)),m=S(n(146)),T=S(n(41)),I=n(0),C=S(n(5567));function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");T.default.transitionTo(I.Routes.CHANNEL(n,t.id))}function A(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");m.default.preload(n,t.id)}var O=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleContextMenu=o.handleContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleContextMenu=function(e){var t=this.props,n=t.channel,o=t.selected,r=t.unread,l=t.mentionCount,u=_.default.getGuild(n.getGuildId());(0,c.openContextMenu)(e,function(e){return i.createElement(p.default,a({},e,{type:I.ContextMenuTypes.CHANNEL_LIST_TEXT,guild:u,channel:n,selected:o,hasUnread:r,mentionCount:l}))})},t.prototype.renderMentionBadge=function(){var e=this.props.mentionCount;if(null!=e&&e>0)return r("div",{className:C.default.iconSpacing},void 0,r(s.default,{value:e}))},t.prototype.render=function(){var e,t=this.props,n=t.channel,o=t.selected,a=t.muted,i=t.unread,l=t.connectChannelDropTarget,s=t.connectChannelDragSource,d=t.connectDragPreview,c=t.position,p=t.sorting,h=t.sortingType,_=t.sortingPosition,E=t.canManageCategory,y=C.default.containerDefault;null!=_&&(y=c>_?C.default.containerDragAfter:C.default.containerDragBefore);var g=r("div",{className:(0,u.default)(y,(e={},e[C.default.disabled]=p&&h!==n.type,e))},void 0,r(f.default,{channel:n,selected:o,muted:a,unread:i,onClick:N,onMouseDown:A,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,connectDragPreview:E?d:null},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderMentionBadge()));return E?l(s(g)):g},t}(d.default);t.default=l.default.connectStores([y.default,E.default,g.default],function(e){var t=e.channel,n=e.guild,o=g.default.getDefaultChannel(n.id),r=v.default.getChannel(t.parent_id);return{canManageChannel:y.default.can(I.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?y.default.can(I.Permissions.MANAGE_CHANNELS,r):y.default.can(I.Permissions.MANAGE_CHANNELS,n),permissions:y.default.getChannelPermissions(t.id),unread:E.default.hasUnread(t.id),mentionCount:E.default.getMentionCount(t.id),isDefaultChannel:t===o}})((0,h.makeChannelSortable)(O)),e.exports=t.default},7280:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",xmlnsXlink:"http://www.w3.org/1999/xlink"},void 0,r("defs",{},void 0,r("circle",{id:"a",cx:"25",cy:"25",r:"25"}),r("mask",{id:"b",width:"50",height:"50",x:"0",y:"0",fill:"#fff"},void 0,r("use",{xlinkHref:"#a"}))),r("g",{fill:"none",fillRule:"evenodd"},void 0,r("use",{fill:"#2f3136",stroke:"#FFF",strokeOpacity:".1",strokeWidth:"4",mask:"url(#b)",xlinkHref:"#a"}),r("path",{fill:"#FFF",d:"M17 35v2h16v-2",opacity:".30000001"}),r("path",{fill:"#43B581",d:"M31.59 23.59L26 29.17V13h-2v16.17l-5.58-5.59L17 25l8 8 8-8"})));t.default=function(){return a},e.exports=t.default},7281:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(9)),l=E(n(189)),u=E(n(3)),s=E(n(947)),d=E(n(142)),f=E(n(6008)),c=E(n(6210)),p=E(n(12)),h=n(0),_=E(n(5560));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=u.default.connectStores([p.default],function(e){var t=e.channel;return{user:t.type===h.ChannelTypes.GROUP_DM?null:p.default.getUser(t.getRecipientId()),selectedChannelId:t.id}})(function(e){var t=e.user,n=e.selectedChannelId,o=e.channel;return r(d.default,{text:o.toString(),position:d.default.Positions.RIGHT},void 0,r(s.default,{to:h.Routes.CHANNEL(h.ME,n),user:t,channel:o,draggable:!1}))}),v=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(a))),o.state={translateX:new l.default.Value(0)},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){l.default.spring(this.state.translateX,{toValue:1,friction:5}).start(e)},t.prototype.componentWillLeave=function(e){l.default.timing(this.state.translateX,{toValue:0,duration:200}).start(e)},t.prototype.renderBadge=function(){var e=this.props,t=e.badge,n=e.selected;return t<=0||n?null:r(f.default,{className:_.default.badge,value:this.props.badge})},t.prototype.getAnimatedStyle=function(){return{transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})}]}},t.prototype.render=function(){var e,t=this.props,n=t.channel,o=t.audio,a=t.video,u=t.selected,s=t.unread,d=t.active,f=this.renderBadge(),p=(0,i.default)(((e={})[_.default.guild]=!0,e[_.default.active]=d,e[_.default.unread]=s,e[_.default.audio]=o&&!a&&!u,e[_.default.video]=a&&!u,e));return r(l.default.div,{className:p,style:this.getAnimatedStyle()},void 0,r(c.default,{active:u},void 0,r(g,{channel:n})),f)},t}(a.PureComponent);v.defaultProps={selected:!1,badge:0,audio:!1,video:!1},t.default=v,e.exports=t.default},7282:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(3))),i=s(n(6)),l=s(n(80)),u=s(n(5839));function s(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.connectStores([l.default],function(){return{onlineFriendCount:l.default.getOnlineFriendCount()}})(function(e){var t=e.onlineFriendCount;return r("div",{className:u.default.friendsOnline},void 0,i.default.Messages.FRIENDS_ONLINE.format({n:t}))}),e.exports=t.default},7283:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(147)),u=n(0),s=d(n(5841));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={SMALL:1,MEDIUM:2,LARGE:4},p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(a))),o.linearGradientId="linear-"+l.default.v4(),f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.strokeSize;return null==t?null:a.cloneElement(t,{className:(0,i.default)(t.props.className,s.default.circleInner),style:{height:"calc(75% - "+n+"px)",width:"calc(75% - "+n+"px)"}})},t.prototype.renderCircle=function(){var e=this.props,t=e.strokeSize,n=e.percent,o=e.colorOverride,a=(24-t)/2,i=a*Math.PI*2;return r("svg",{viewBox:"0 0 24 24",className:s.default.circle},void 0,r("defs",{},void 0,r("linearGradient",{id:this.linearGradientId,x1:"0%",y1:"0%",x2:"100%",y2:"100%"},void 0,r("stop",{offset:"0%",stopColor:u.Colors.BRAND_300}),r("stop",{offset:"100%",stopColor:u.Colors.BRAND_500}))),r("circle",{className:s.default.circleBackground,cx:12,cy:12,r:a,strokeWidth:t+"px"}),r("circle",{className:s.default.circleProgress,cx:12,cy:12,r:a,strokeWidth:t+"px",transform:"rotate(-90 12 12)",stroke:null!=o?o:"url(#"+this.linearGradientId+")",style:{strokeDasharray:i,strokeDashoffset:(1-n/100)*i}}))},t.prototype.render=function(){var e=this.props.className;return r("div",{className:(0,i.default)(s.default.progressCircle,e)},void 0,this.renderCircle(),this.renderChildren())},t}(a.Component);p.StrokeSizes=c,p.defaultProps={strokeSize:c.MEDIUM},t.default=p,e.exports=t.default},7284:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(264),l=C(n(9)),u=C(n(3)),s=C(n(6)),d=C(n(6210)),f=C(n(6430)),c=C(n(142)),p=C(n(6008)),h=C(n(79)),_=C(n(6033)),E=C(n(12)),y=C(n(65)),g=C(n(284)),v=C(n(59)),m=C(n(6060)),T=n(0),I=C(n(5560));function C(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n=this.props,o=n.selected,a=n.unread,u=n.user,_=n.link,E=n.badge,y=n.showDMsOnly,g=void 0!==y&&y;if(null==u)return null;var v=E>0&&!o&&!g?r(p.default,{className:I.default.badge,value:E}):null;return r("div",{className:(0,l.default)(I.default.guild,(e={},e[I.default.selected]=o,e[I.default.unread]=a,e))},void 0,r(d.default,{active:o,animateBackgroundColor:!0},void 0,r(c.default,{text:g?s.default.Messages.DIRECT_MESSAGES:s.default.Messages.HOME,position:c.default.Positions.RIGHT},void 0,r(i.Link,{to:{pathname:_,state:{analyticsLocation:T.AnalyticsLocations.HOME_BUTTON}},draggable:!1},void 0,r(h.default,{name:h.default.Names.DISCORD,className:I.default.homeIcon})))),r(f.default,{className:(0,l.default)(I.default.downloadProgressCircle,(t={},t[I.default.hideGameUpdateProgressIndicator]=o,t))}),v)},t}(a.PureComponent);S.defaultProps={selected:!1,unread:!1},t.default=u.default.connectStores([E.default,y.default,v.default,m.default,_.default,g.default],function(){return{user:E.default.getCurrentUser(),selectedChannelId:y.default.getChannelId(T.ME),badge:v.default.getPendingCount()+m.default.getSuggestionCount(),link:_.default.getHomeLink()}})(S),e.exports=t.default},7285:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(992),l=T(n(9)),u=T(n(3)),s=T(n(275)),d=T(n(6210)),f=T(n(142)),c=T(n(6008)),p=T(n(5992)),h=T(n(538)),_=T(n(65)),E=T(n(146)),y=T(n(229)),g=T(n(528)),v=(T(n(228)),n(0)),m=T(n(5560));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=I(this,e.call.apply(e,[this].concat(a))),o.handleMouseDown=function(){var e=o.props,t=e.guild,n=e.selectedChannelId;null!=n&&E.default.preload(t.id,n)},I(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderBadge=function(){var e=this.props,t=e.badge,n=e.selected;return t<=0||n?null:r(c.default,{className:m.default.badge,value:this.props.badge})},t.prototype.render=function(){var e,t=this.props,n=t.selectedChannelId,o=t.guild,i=t.selected,u=t.unread,s=t.audio,c=t.video,h=t.setRef,_=t.dragging,E=t.connectDropTarget,y=t.connectDragSource;if(_)return r("div",{className:(0,l.default)(m.default.guild,m.default.guildPlaceholder)});var g=this.renderBadge(),T=null!=n?v.Routes.CHANNEL(o.id,n):v.Routes.GUILD(o.id),I=((e={})[m.default.selected]=i,e[m.default.unread]=u,e[m.default.audio]=s&&!i,e[m.default.video]=c&&!i,e);return a.createElement("div",{className:(0,l.default)(m.default.guild,I),ref:h},E(y(r("div",{onMouseDown:this.handleMouseDown},void 0,r(d.default,{active:i,animateBackgroundColor:null==o.icon,contextMenu:!0,type:v.ContextMenuTypes.GUILD_ICON_BAR,guild:o,badge:null!=g,selected:i},void 0,r(f.default,{text:o.toString(),position:f.default.Positions.RIGHT},void 0,r(p.default,{guild:o,to:T,draggable:!1,className:m.default.guildIcon})))))),g)},t}(a.PureComponent);C.defaultProps={selected:!1,unread:!1,audio:!1,video:!1,badge:0};var S,N=u.default.connectStores([_.default],function(e){var t=e.guild;return{selectedChannelId:_.default.getChannelId(t.id)}})(C);t.default=(S=N,(0,i.DropTarget)("GUILD",{hover:function(e,t){var n=t.getItem().index,o=e.index;n!==o&&(y.default.move(n,o),t.getItem().index=o)}},function(e){return{connectDropTarget:e.dropTarget()}},{arePropsEqual:s.default})((0,i.DragSource)("GUILD",{beginDrag:function(e){return{guild:e.guild,index:e.index}},endDrag:function(){g.default.updateRemoteSettings({guildPositions:h.default.guildPositions})}},function(e,t){return{connectDragSource:e.dragSource(),dragging:t.isDragging()}},{arePropsEqual:s.default})(S))),e.exports=t.default},7512:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(6)),l=h(n(3)),u=h(n(112)),s=h(n(34)),d=h(n(6024)),f=n(33),c=h(n(38)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.channel,n=e.guild;(0,f.closeContextMenu)(),c.default.push(d.default,{guild:n,channel:t,source:p.InstantInviteSources.GUILD_CONTEXT_MENU})},t.prototype.render=function(){return this.props.canCreateInvite?r(s.default,{label:i.default.Messages.INVITE_PEOPLE,action:this.handleClick,brand:!0}):null},t}(a.PureComponent);t.default=l.default.connectStores([u.default],function(e){var t=e.channel;return{canCreateInvite:u.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}})(_),e.exports=t.default},7513:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=h(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(43))),l=h(n(57)),u=h(n(6)),s=h(n(3)),d=h(n(34)),f=h(n(6003)),c=n(33),p=h(n(229));function h(e){return e&&e.__esModule?e:{default:e}}var _=(0,i.default)({displayName:"GuildMarkReadItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{guildId:a.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{hasUnread:f.default.getUnreadGuildsIgnoreMuted(this.props.guildId)}},render:function(){return r(d.default,{label:u.default.Messages.MARK_AS_READ,action:this.handleMarkAsRead,disabled:!this.state.hasUnread})},handleMarkAsRead:function(){(0,c.closeContextMenu)(),p.default.markGuildAsRead(this.props.guildId)}});t.default=_,e.exports=t.default},7514:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6)),l=f(n(3)),u=f(n(195)),s=f(n(269)),d=f(n(6263));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleMuted=function(){d.default.toggleCollapseGuild(this.props.guildId)},t.prototype.render=function(){var e=this,t=this.props.collapseMuted;return r(u.default,{label:i.default.Messages.HIDE_MUTED_CHANNELS,action:function(){return e.toggleMuted()},active:t})},t}(a.PureComponent);t.default=l.default.connectStores([s.default],function(e){var t=e.guildId;return{collapseMuted:s.default.isGuildCollapsed(t)}})(c),e.exports=t.default},7515:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=s(n(3)),a=s(n(2)),i=n(0),l=s(n(6265)),u=s(n(277));function s(e){return e&&e.__esModule?e:{default:e}}var d=u.default.INVITE_OPTIONS_1_DAY.value,f=u.default.INVITE_OPTIONS_UNLIMITED.value,c=i.FormStates.CLOSED,p=!1,h=void 0,_=void 0,E=void 0,y=void 0,g=void 0;function v(e){E=l.default.getInvite(e),y={channelId:e,maxAge:null!=E?E.maxAge:d,maxUses:null!=E?E.maxUses:f,temporary:null!=E&&E.temporary},g=y}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return c!==i.FormStates.CLOSED},t.prototype.isSubmitting=function(){return c===i.FormStates.SUBMITTING},t.prototype.isChannelForced=function(){return p},t.prototype.getGuildId=function(){return h},t.prototype.getError=function(){return _},t.prototype.getInvite=function(){return E},t.prototype.getInviteSettings=function(){return y},t.prototype.getPendingSettings=function(){return g},t}(r.default.Store);t.default=new m(a.default,{CREATE_INVITE_MODAL_OPEN:function(e){c=i.FormStates.OPEN,p=e.forceChannel,h=e.guildId,_=null,v(e.channelId)},CREATE_INVITE_MODAL_UPDATE_SETTINGS:function(e){var t=e.settings;g=o({},g,t)},CREATE_INVITE_MODAL_RESET_SETTINGS:function(e){g=y},CREATE_INVITE_MODAL_GENERATE_INVITE:function(e){return c=i.FormStates.SUBMITTING,void(y=g)},CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS:function(e){var t=e.channelId;c=i.FormStates.OPEN,_=null,v(t)},CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE:function(e){c=i.FormStates.OPEN,E=null,_=e.message},CREATE_INVITE_MODAL_CLOSE:function(e){c=i.FormStates.CLOSED}}),e.exports=t.default},7516:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(2)),r=n(0),a=s(n(7515)),i=s(n(365)),l=s(n(20)),u=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_OPEN,guildId:e,channelId:t,forceChannel:a}),this.createInvite("IOS InstantInvite Mount",!0),l.default.track(r.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite",Source:n})},updateSettings:function(e){o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_UPDATE_SETTINGS,settings:e})},resetSettings:function(){o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_RESET_SETTINGS})},createInvite:function(e,t){var n=a.default.getPendingSettings();if(null!=n){o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE});var l=n.channelId,s=n.maxAge,d=n.maxUses,f=n.temporary,c=a.default.getInvite(),p=t&&null!=c?c.code:null;i.default.createInvite(l,{validate:p,max_age:parseInt(s,10),max_uses:parseInt(d,10),temporary:f},e).then(function(){o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS,channelId:l})},function(e){var t=u.default.Messages.INSTANT_INVITE_FAILED_TO_GENERATE;null!=e.body&&null!=e.body.message&&(t=e.body.message),o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE,message:t})})}},close:function(){o.default.dispatch({type:r.ActionTypes.CREATE_INVITE_MODAL_CLOSE})}},e.exports=t.default},7517:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(6)),l=c(n(34)),u=c(n(227)),s=n(33),d=c(n(6071)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(a))),o.handleGuildCreate=function(){(0,s.closeContextMenu)(),d.default.open(f.CreateGuildModalScreens.CreateGuild,"Guild List - ContextMenu")},o.handleGuildJoin=function(){(0,s.closeContextMenu)(),d.default.open(f.CreateGuildModalScreens.JoinGuild,"Guild List - ContextMenu")},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r(u.default,{},void 0,r(l.default,{label:i.default.Messages.JOIN_SERVER_BUTTON_CTA,action:this.handleGuildJoin}),r(l.default,{label:i.default.Messages.CREATE_SERVER_BUTTON_CTA,action:this.handleGuildCreate}))},t}(a.PureComponent);t.default=h,e.exports=t.default},7518:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(34)),u=n(33),s=d(n(6047));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(a))),o.handleShowNotificationSettings=function(){(0,u.closeContextMenu)(),s.default.open(o.props.guildId)},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return __OVERLAY__?null:r(l.default,{label:i.default.Messages.NOTIFICATION_SETTINGS,action:this.handleShowNotificationSettings})},t}(a.PureComponent);t.default=c,e.exports=t.default},7519:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=m(n(55)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=m(n(43)),s=m(n(57)),d=m(n(6)),f=m(n(3)),c=m(n(227)),p=m(n(34)),h=m(n(164)),_=m(n(67)),E=m(n(12)),y=n(33),g=m(n(366)),v=m(n(38));function m(e){return e&&e.__esModule?e:{default:e}}var T=(0,u.default)({displayName:"GuildLeaveGroup",mixins:[f.default.StoreListenerMixin(E.default),s.default],propTypes:{guild:i.default.object.isRequired},getStateFromStores:function(){return{amOwner:this.props.guild.isOwner(E.default.getCurrentUser())}},render:function(){return this.state.amOwner?null:a(c.default,{},void 0,a(p.default,{label:d.default.Messages.LEAVE_SERVER,action:this.handleLeaveGuild,danger:!0}))},handleLeaveGuild:function(){var e=this;(0,y.closeContextMenu)(),v.default.push(function(t){return l.createElement(h.default,r({header:d.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.name}),confirmText:d.default.Messages.LEAVE_SERVER,cancelText:d.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),a(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,d.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.name})))})},handleConfirmLeaveGuild:function(){g.default.leaveGuild(this.props.guild.id)}});t.default=T,e.exports=t.default},7520:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=p(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(43))),l=p(n(57)),u=p(n(6)),s=p(n(3)),d=p(n(195)),f=p(n(269)),c=p(n(6047));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({displayName:"GuildMuteItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{guildId:a.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{muted:f.default.isMuted(this.props.guildId)}},render:function(){return r(d.default,{label:u.default.Messages.SERVER_MUTE,action:this.handleServerMute,active:this.state.muted})},handleServerMute:function(){c.default.updateNotificationSettings(this.props.guildId,{muted:!this.state.muted})}});t.default=h,e.exports=t.default},7521:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(34)),u=n(33),s=d(n(6239));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(a))),o.handleOpenPrivacySettings=function(){(0,u.closeContextMenu)(),s.default.open(o.props.guildId)},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return __OVERLAY__?null:r(l.default,{label:i.default.Messages.PRIVACY_SETTINGS,action:this.handleOpenPrivacySettings})},t}(a.PureComponent);t.default=c,e.exports=t.default},7522:function(e,t,n){e.exports=n.p+"bbc9e257da833d4b7d22c82a1de8a0a0.svg"},7523:function(e,t,n){e.exports=n.p+"f081fef9b7d9610309e65b5282bd0ca9.svg"},7524:function(e,t,n){e.exports=n.p+"ffeba954d48c1ac993679084cee38746.svg"},7525:function(e,t,n){e.exports=n.p+"7b5b950896ff4214b058f76ba0e84a7b.svg"},7526:function(e,t,n){e.exports=n.p+"132b1ce1c085ff84256f3b16943bc782.svg"},7527:function(e,t,n){e.exports=n.p+"46eac82bb5b3ccd5049e8b3a96910327.svg"},7528:function(e,t,n){"use strict";t.__esModule=!0,t.PermissionOverrideTypes=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(6622)),u=n(99),s=d(n(5901));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.PermissionOverrideTypes={DENY:"DENY",PASSTHROUGH:"PASSTHROUGH",ALLOW:"ALLOW"},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.keys=Object.keys(f),o.handleToggle=o.handleToggle.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.value,a=t.disabled,d=this.keys.map(function(t){var a=o===t,l=void 0,d=void 0,c=void 0;switch(t){case f.DENY:c=i.default.Messages.PERMISSION_OVERRIDE_DENY,l=n(a?7527:7526),d=f.DENY;break;case f.ALLOW:c=i.default.Messages.PERMISSION_OVERRIDE_ALLOW,l=n(a?7525:7524),d=f.ALLOW;break;case f.PASSTHROUGH:default:c=i.default.Messages.PERMISSION_OVERRIDE_PASSTHROUGH,l=n(a?7523:7522),d=f.PASSTHROUGH}return{content:r("img",{alt:c,src:l,className:s.default.overrideItem}),className:(0,u.getClass)(s.default,d.toLowerCase(),a?"selected":""),onClick:e.handleToggle.bind(e,t)}});return r(l.default,{buttons:d,disabled:a})},t.prototype.handleToggle=function(e){var t=this.props,n=t.value,o=t.onChange;n!==e&&o(e)},t}(a.PureComponent);c.Types=f,c.defaultProps={value:f.PASSTHROUGH,disabled:!1},t.default=c},7529:function(e,t,n){"use strict";t.__esModule=!0,t.PermissionOverrideTypes=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(7528)),u=n(75),s=h(u),d=n(262),f=h(d),c=h(n(526)),p=h(n(40));function h(e){return e&&e.__esModule?e:{default:e}}t.PermissionOverrideTypes=l.default.Types;var _=r(p.default.Child,{className:"margin-top-20"},void 0,r(c.default,{})),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.onChange,o=e.disabled,a=e.hideBorder,c=e.children,h=e.className,E=e.note,y=e.style;return r(p.default,{style:y,className:(0,i.default)("ui-permission-override-item",h),direction:p.default.Direction.VERTICAL},void 0,r(p.default,{},void 0,r(p.default.Child,{},void 0,r(s.default,{className:"margin-reset",tag:u.Tags.H3,disabled:o},void 0,c)),r(p.default.Child,{grow:0,shrink:0},void 0,r(l.default,{value:t,onChange:n,disabled:o}))),E&&r(p.default.Child,{className:"margin-top-4"},void 0,r(f.default,{type:d.Types.DESCRIPTION},void 0,E)),!a&&_)},t}(a.PureComponent);E.defaultProps={disabled:!1,hideBorder:!1,className:"margin-bottom-20"},E.Types=l.default.Types,t.default=E},7776:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=n(7775),s=n(5984),d=n(5904),f=(r=d)&&r.__esModule?r:{default:r};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i("div",{className:f.default.wrapper},void 0,i("div",{className:f.default.saturation},void 0,l.createElement(s.Saturation,this.props)),i("div",{className:f.default.hue},void 0,l.createElement(s.Hue,a({},this.props,{direction:"horizontal"}))))},t}(l.PureComponent);t.default=(0,u.CustomPicker)(c),e.exports=t.default},7777:function(e,t,n){"use strict";t.__esModule=!0,t.CustomColorPicker=t.CustomColorButton=t.DefaultColorButton=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(7776)),u=y(n(9)),s=y(n(40)),d=y(n(939)),f=y(n(79)),c=n(196),p=n(0),h=y(n(5903)),_=y(n(519)),E=y(n(1245));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=function(e){function t(n){g(this,t);var o=v(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return m(t,e),t.prototype.renderCustomIcon=function(e){if(this.props.isCustom)return a(f.default,{className:h.default.colorPickerDropper,foreground:h.default.colorPickerDropperFg,name:f.default.Names.DROPPER,width:14,height:14,color:e?p.Colors.WHITE:p.Colors.BLACK})},t.prototype.renderSelected=function(e){var t=16,n=16;if((this.props.isCustom||this.props.isDefault)&&(t=32,n=24),this.props.isSelected)return a(f.default,{name:f.default.Names.CHECKMARK,width:t,height:n,color:e?p.Colors.WHITE:p.Colors.BLACK})},t.prototype.render=function(){var e,t=this.props,n=t.color,o=t.isDefault,i=t.isCustom,l=t.isSelected,s=t.disabled,d=t.style,f=null!=n?(0,c.int2hex)(n):d.backgroundColor,p=!1;i&&!l?p=!0:(i||l)&&(p=(0,c.getDarkness)(n)>.1);var _=(0,u.default)(h.default.colorPickerSwatch,((e={})[h.default.disabled]=s,e[h.default.default]=o,e[h.default.custom]=i,e[h.default.noColor]=null==n,e));return a("button",{className:_,disabled:s,onClick:this.handleClick,style:r({},d,{backgroundColor:f})},void 0,this.renderCustomIcon(p),this.renderSelected(p))},t.prototype.handleClick=function(){var e=this.props,t=e.color,n=e.onClick;n&&n(t)},t}(i.PureComponent);T.defaultProps={isDefault:!1,isCustom:!1,isSelected:!1,disabled:!1,style:{}};t.DefaultColorButton=function(e){function t(){return g(this,t),v(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.onChange,o=e.value,r=e.disabled;return a(T,{isDefault:!0,color:t,isSelected:t===o||0===o,onClick:n,disabled:r,style:{marginLeft:0}})},t}(i.PureComponent),t.CustomColorButton=function(e){function t(){return g(this,t),v(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.customColor,n=e.value,o=e.disabled;return a(T,{isCustom:!0,color:t,isSelected:n===t,disabled:o,style:{marginLeft:10}})},t}(i.PureComponent),t.CustomColorPicker=function(e){function t(n){g(this,t);var o=v(this,e.call(this,n)),r=n.value,a=(0,c.int2hex)(null!=r?r:0);return o.state={color:a,validColor:a},o.handleHexChange=o.handleHexChange.bind(o),o.handleOnChange=o.handleOnChange.bind(o),o.handleOnChangeComplete=o.handleOnChangeComplete.bind(o),o}return m(t,e),t.prototype.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},t.prototype.render=function(){var e=this.state,t=e.color,n=e.validColor;return a(s.default,{direction:s.default.Direction.VERTICAL,className:h.default.colorPickerCustom},void 0,a(l.default,{onChangeComplete:this.handleOnChangeComplete,onChange:this.handleOnChange,color:n}),a(d.default,{className:(0,u.default)(h.default.customColorPickerInput,_.default.marginTop8),value:t,onChange:this.handleHexChange,maxLength:7}))},t.prototype.callOnChange=function(e){(0,this.props.onChange)((0,c.hex2int)(e))},t.prototype.handleHexChange=function(e){var t="#"===e[0]?e:"#"+e,n=(0,c.isValidHex)(t);this.setState({color:t,validColor:n?t:this.state.validColor}),n&&this.callOnChange(t)},t.prototype.handleOnChange=function(e){this.setState({color:e.hex,validColor:e.hex})},t.prototype.handleOnChangeComplete=function(e){this.callOnChange(e.hex)},t}(i.PureComponent);var I=function(e){function t(n){g(this,t);var o=v(this,e.call(this,n));return o.renderColor=o.renderColor.bind(o),o}return m(t,e),t.prototype.renderColor=function(e){var t=this.props,n=t.value,o=t.onChange,r=t.disabled;return a(T,{color:e,isSelected:e===n,onClick:o,disabled:r},e)},t.prototype.renderRow=function(e){var t=this;return a(s.default,{className:h.default.colorPickerRow,wrap:s.default.Wrap.WRAP},void 0,e.map(function(e){return t.renderColor(e)}))},t.prototype.render=function(){var e=this.props,t=e.defaultColor,n=e.customColor,o=e.colors,r=e.value,i=e.disabled,l=e.onChange,u=e.renderDefaultButton,d=e.renderCustomButton,f=o.slice(0,o.length/2),c=o.slice(o.length/2,o.length);return a(s.default,{},void 0,a(s.default.Child,{shrink:0,grow:0,className:_.default.marginReset,wrap:!0},void 0,u({value:r,color:t,onChange:l,disabled:i})),a(s.default.Child,{shrink:0,grow:0,className:_.default.marginReset,wrap:!0},void 0,d({value:r,customColor:n,disabled:i})),a(s.default,{direction:s.default.Direction.VERTICAL,className:E.default.flexMarginReset,grow:1},void 0,this.renderRow(f),this.renderRow(c)))},t}(i.PureComponent);t.default=I},7778:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=p(n(142)),u=p(n(223)),s=n(7777),d=p(s),f=p(n(192)),c=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={customColor:null},o.renderDefaultButton=o.renderDefaultButton.bind(o),o.renderCustomButton=o.renderCustomButton.bind(o),o.renderCustomColorPopout=o.renderCustomColorPopout.bind(o),o.handleOnChange=o.handleOnChange.bind(o),o.handleCustomOnChange=o.handleCustomOnChange.bind(o),o._removeEventListener=o._removeEventListener.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.value,n=e.defaultColor,o=e.colors;0===t||t===n||o.some(function(e){return e===t})?this.setState({customColor:null}):this.setState({customColor:t})},t.prototype._closeCustomColorPicker=function(){f.default.close("CUSTOM_COLOR_POPOUT_ID")},t.prototype._removeEventListener=function(){window.removeEventListener("wheel",this._closeCustomColorPicker)},t.prototype.renderCustomColorPopout=function(){return this._removeEventListener(),window.addEventListener("wheel",this._closeCustomColorPicker),a(s.CustomColorPicker,{onChange:this.handleCustomOnChange,value:this.state.customColor,onClose:this._removeEventListener})},t.prototype.renderCustomButton=function(e){var t=i.createElement(s.CustomColorButton,e);return e.disabled?t:a(u.default,{uniqueId:"CUSTOM_COLOR_POPOUT_ID",shadow:!1,render:this.renderCustomColorPopout,position:u.default.Positions.BOTTOM,zIndexBoost:1e3},void 0,a(l.default,{text:c.default.Messages.CUSTOM_COLOR,position:l.default.Positions.BOTTOM},void 0,a("div",{},void 0,t)))},t.prototype.renderDefaultButton=function(e){var t=i.createElement(s.DefaultColorButton,e);return this.props.disabled?t:a(l.default,{text:c.default.Messages.DEFAULT,position:l.default.Positions.BOTTOM},void 0,a("div",{},void 0,t))},t.prototype.render=function(){return i.createElement(d.default,r({},this.props,{renderDefaultButton:this.renderDefaultButton,renderCustomButton:this.renderCustomButton,customColor:this.state.customColor,onChange:this.handleOnChange}))},t.prototype.handleOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:null})},t.prototype.handleCustomOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:e})},t}(i.PureComponent);t.default=h,e.exports=t.default},7780:function(e,t,n){"use strict";t.__esModule=!0,t.updateRoleSort=function(e){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_SORT_UPDATE,roles:e})},t.init=function(){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_INIT})},t.updateRolePermissions=function(e,t,n){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS,id:e,flag:t,allow:n})},t.updateRoleName=function(e,t){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_NAME,id:e,name:t})},t.updateRoleColor=function(e,t){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_COLOR,id:e,color:t})},t.toggleRoleSettings=function(e,t,n){o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_SETTINGS,id:e,hoist:t,mentionable:n})},t.saveRoleSettings=function(e,t,n){return o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_SUBMITTING}),new Promise(function(o){var a=function n(){if(null==t||0===t.length)return o();var a=t.pop();if(null==a||""===a.name)return n();r.default.updateRole(e,a.id,a.name,a.permissions,a.color,a.hoist,a.mentionable).then(n,n)};null!=n&&n.length>0?r.default.batchRoleUpdate(e,n).then(a,a):a()}).then(function(){return o.default.dispatch({type:a.ActionTypes.GUILD_SETTINGS_ROLES_SAVE_SUCCESS})})};var o=i(n(2)),r=i(n(229)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7781:function(e,t,n){e.exports=n.p+"89c5bd0afd63d925ba6a8fcd18eeb530.svg"},7782:function(e,t,n){e.exports=n.p+"959a1978f7be567071a1354a98b46ecd.svg"},7783:function(e,t,n){"use strict";t.__esModule=!0,t.GuildSettingsRolesNotice=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=Y(n(3)),u=Y(n(8)),s=Y(n(6)),d=Y(n(9)),f=Y(n(6672)),c=Y(n(76)),p=Y(n(523)),h=Y(n(5986)),_=Y(n(12)),E=Y(n(31)),y=Y(n(6701)),g=Y(n(366)),v=Y(n(229)),m=Y(n(267)),T=n(7780),I=Y(n(142)),C=Y(n(6671)),S=n(7779),N=Y(n(6050)),A=Y(n(7778)),O=Y(n(941)),b=Y(n(266)),M=Y(n(163)),R=Y(n(526)),L=n(262),D=Y(L),w=n(75),P=Y(w),U=Y(n(939)),G=Y(n(940)),H=Y(n(6074)),k=Y(n(6623)),x=Y(n(40)),F=Y(n(64)),j=n(524),B=Y(j),V=Y(n(79)),K=n(0),W=Y(n(5899));function Y(e){return e&&e.__esModule?e:{default:e}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q={paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"};t.GuildSettingsRolesNotice=l.default.connectStores([h.default,y.default],function(){var e=h.default.getProps().guild,t=y.default.formState;return{guild:e,submitting:t===K.FormStates.SUBMITTING,onReset:function(){(0,T.init)()},onSave:function(){var t=e.id,n=y.default.editedRoleIds.map(function(e){return y.default.getRole(e)}),o=y.default.getSortDeltas();(0,T.saveRoleSettings)(t,n,o)}}})(H.default);var Q=(0,S.makeDragItem)("ITEM")(f.default),J=(0,S.makeDragList)("ITEM")(N.default),Z=function(e){function t(n){$(this,t);var o=z(this,e.call(this,n));return o.generalSpec=c.default.generateGuildGeneralPermissionSpec(),o.textSpec=c.default.generateGuildTextPermissionSpec(),o.voiceSpec=c.default.generateGuildVoicePermissionSpec(),u.default.bindAll(o,["handleNameChange","handleColorChange","handleDeleteRole","handlePermissionChange","handlePermissionRender"]),o}return X(t,e),t.prototype.handleNameChange=function(e){var t=this.props.role.id;(0,T.updateRoleName)(t,e)},t.prototype.handleColorChange=function(e){var t=this.props.role,n=t.id;t.color===e||e===K.DEFAULT_ROLE_COLOR&&0===t.color||(e===K.DEFAULT_ROLE_COLOR&&(e=0),(0,T.updateRoleColor)(n,e))},t.prototype.handleSettingChange=function(e,t){var n=t.currentTarget.checked,o=this.props.role,r=o.hoist,a=o.mentionable,i=o.id;"hoist"===e?r=n:a=n,(0,T.toggleRoleSettings)(i,r,a)},t.prototype.handlePermissionChange=function(e,t){var n=this.props.role.id;(0,T.updateRolePermissions)(n,e,t)},t.prototype.handleDeleteRole=function(){var e=this.props,t=e.guild.id,o=e.role,r=o.id,a=o.name;m.default.show({title:s.default.Messages.SETTINGS_ROLES_DELETE_TITLE,body:s.default.Messages.SETTINGS_ROLES_DELETE_BODY.format({name:a}),cancelText:s.default.Messages.CANCEL,onConfirm:function(){return v.default.deleteRole(t,r)},iconUrl:n(6240)})},t.prototype.renderName=function(){var e=this.props,t=e.role,n=e.locked,o=e.everyone;return a(b.default,{title:s.default.Messages.FORM_LABEL_ROLE_NAME,className:W.default.marginBottom20},void 0,a(U.default,{disabled:n||o,style:{color:t.colorString},value:t.name,onChange:this.handleNameChange}))},t.prototype.renderColorPicker=function(){var e,t,n=this.props,o=n.role,r=n.locked,i=n.everyone,l=a(A.default,{defaultColor:K.DEFAULT_ROLE_COLOR,colors:K.ROLE_COLORS,value:o.color,disabled:r||i,onChange:this.handleColorChange});return(r||i)&&(e=l,t=s.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE,l=a(I.default,{color:I.default.Colors.RED,delay:500,position:I.default.Positions.TOP,text:t},void 0,a("div",{className:"not-allowed"},void 0,e))),a(b.default,{title:s.default.Messages.FORM_LABEL_ROLE_COLOR,className:W.default.marginBottom40},void 0,l)},t.prototype.renderDisabledIndicator=function(e){return a(I.default,{text:e,position:I.default.Positions.TOP,color:I.default.Colors.RED},void 0,a("span",{},void 0,a(V.default,{name:V.default.Names.NOT_ALLOWED,className:W.default.notAllowedIcon,width:18,height:18})))},t.prototype.renderRoleSettings=function(){var e=this.props,t=e.role,n=e.locked,o=this.handlePermissionRender(),r=!(!n&&!o),i="string"==typeof o?this.renderDisabledIndicator(o):null,l=null!=i?W.default.rolePermissionTitleDisabled:null;return a(O.default,{className:W.default.marginBottom40},void 0,a(P.default,{tag:w.Tags.H5,className:W.default.marginBottom20},void 0,s.default.Messages.FORM_LABEL_ROLE_SETTINGS),a(G.default,{className:(0,d.default)(W.default.marginBottom20,{disabled:r}),disabled:r,onChange:this.handleSettingChange.bind(this,"hoist"),value:t.hoist},void 0,i,a("span",{className:l},void 0,s.default.Messages.FORM_LABEL_HOIST_DESCRIPTION)),a(G.default,{disabled:r,onChange:this.handleSettingChange.bind(this,"mentionable"),value:t.mentionable},void 0,i,a("span",{className:l},void 0,s.default.Messages.FORM_LABEL_MENTIONABLE.format())))},t.prototype.renderDeleteButton=function(){var e=this.props,t=e.locked,n=e.role,o=e.everyone;return t||n.managed||o?null:a(F.default,{look:F.default.Looks.OUTLINED,color:F.default.Colors.RED,onClick:this.handleDeleteRole},void 0,s.default.Messages.DELETE," ",n.name)},t.prototype.renderManagedNote=function(){if(this.props.role.managed)return a(B.default,{type:j.Types.WARNING,className:W.default.managedNote},void 0,s.default.Messages.MANAGED_ROLE_EXPLAINATION)},t.prototype.handlePermissionRender=function(e){var t,n=this.props,o=n.locked,a=n.guild,i=n.currentUser,l=n.everyone,u=n.role,d=c.default.getHighestRole(a,i.id);return o&&u===d?s.default.Messages.HELP_ROLE_LOCKED_MINE:o?s.default.Messages.HELP_ROLE_LOCKED:null==e&&l?s.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE:null==e||c.default.can(e,i,a)?null!=e&&!c.default.can(e,i,a,null,(t={},t[u.id]=r({},u,{permissions:u.permissions^u.permissions&e}),t))&&s.default.Messages.HELP_SINGULAR_PERMISSION:s.default.Messages.HELP_MISSING_PERMISSION},t.prototype.render=function(){var e=this.props,t=e.locked,n=e.role.permissions;return a(O.default,{},void 0,this.renderManagedNote(),this.renderName(),this.renderColorPicker(),a(R.default,{className:W.default.marginBottom40}),this.renderRoleSettings(),a(k.default,{spec:this.generalSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:W.default.marginBottom40,permissionRender:this.handlePermissionRender}),a(k.default,{spec:this.textSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:W.default.marginBottom40,permissionRender:this.handlePermissionRender}),a(k.default,{spec:this.voiceSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender}),this.renderDeleteButton())},t}(i.PureComponent),ee=a(function(){return a("div",{},void 0,a(N.default.Separator,{style:{marginTop:20,marginBottom:14}}),a(D.default,{type:L.Types.DESCRIPTION,className:W.default.marginBottom20},void 0,s.default.Messages.FORM_LABEL_ROLES_PRO_TIP_DESCRIPTION),a(D.default,{type:L.Types.DESCRIPTION},void 0,a(M.default,{href:p.default.getArticleURL(K.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,s.default.Messages.PERMISSION_HELPDESK)))},{}),te=function(e){function t(n){$(this,t);var o=z(this,e.call(this,n));return u.default.bindAll(o,["handleSelectRole","handleDragStart","handleDrop","handleHover","handleCancel","handleDragLeave","handleCreateRole"]),o.state={dragging:null,roles:null},o}return X(t,e),t.prototype.getSelectedRole=function(){return y.default.getRole(this.props.selectedRoleId)},t.prototype.handleCreateRole=function(){v.default.createRole(this.props.guild.id)},t.prototype.handleSelectRole=function(e){g.default.selectRole(e)},t.prototype.handleDragStart=function(e){var t=this.props.roles;this.setState({dragging:e,roles:[].concat(t)})},t.prototype.handleDragLeave=function(){var e=this.props.roles;this.setState({roles:[].concat(e)})},t.prototype.handleDrop=function(){null!=this.state.roles&&((0,T.updateRoleSort)(this.state.roles.map(function(e){return e.id})),this.setState({dragging:null,roles:null}))},t.prototype.handleHover=function(e,t){if(null!=this.state.roles){var n=[].concat(this.state.roles),o=n.find(function(e){var n=e.id;return t===n}),r=n.find(function(t){var n=t.id;return e===n});if(null!=o&&null!=r){var a=n.indexOf(o),i=n.indexOf(r),l=i-a>0?1:0;n.splice(a,1),i=n.indexOf(r),n.splice(i+l,0,o),this.setState({roles:n})}}},t.prototype.handleCancel=function(){this.setState({dragging:null,roles:null})},t.prototype.renderRoleList=function(){var e=this.props,t=e.currentUser,n=e.guild,o=e.selectedRoleId,r=e.theme,i=this.props.roles,l=c.default.getHighestRole(n,t.id);return this.state.roles&&(i=this.state.roles),i.map(function(e){var i=!c.default.isRoleHigher(n,t.id,l,e),u=i&&e===l,d=e.id,p=e.colorString,h=e.name,_=void 0;return u?_=s.default.Messages.HELP_ROLE_LOCKED_MINE:i&&(_=s.default.Messages.HELP_ROLE_LOCKED),i||u||d===n.id?a(f.default,{theme:r,id:d,locked:i,lockTooltip:_,color:p},o+"-"+d,h):a(Q,{theme:r,dragId:d,id:d,locked:i,lockTooltip:_,color:p},o+"-"+d,h)})},t.prototype.renderRoles=function(){var e=this.props,t=e.selectedRoleId,o=e.theme,i=this.state.dragging,l=this.props.theme===K.ThemeTypes.DARK?n(6621):n(6620);return a(C.default.Sidebar,{style:r({},q,{overflow:"hidden"}),scrollable:!0,theme:o},void 0,a(J,{onItemSelect:this.handleSelectRole,selectedItem:i||t,onDragStart:this.handleDragStart,onHover:this.handleHover,onDrop:this.handleDrop,onCancel:this.handleCancel,onDragLeave:this.handleDragLeave},void 0,a(N.default.Header,{},void 0,a(x.default,{className:W.default.sidebarHeader,onClick:this.handleCreateRole,justify:x.default.Justify.BETWEEN},void 0,s.default.Messages.ROLES,a("img",{alt:"",className:W.default.addRoleIcon,src:l}))),this.renderRoleList(),ee))},t.prototype.renderRoleSettings=function(){var e=this.props,t=e.guild,n=e.currentUser,o=this.getSelectedRole(),i=c.default.getHighestRole(t,n.id),l=!c.default.isRoleHigher(t,n.id,i,o),u=null!=o&&o.id===t.id;return a(C.default.Content,{style:r({},q,{paddingRight:0}),grow:0},void 0,a(Z,{guild:t,role:o,locked:l,everyone:u,currentUser:n}))},t.prototype.render=function(){return a(C.default,{},void 0,this.renderRoles(),this.renderRoleSettings())},t}(i.PureComponent);t.default=l.default.connectStores([h.default,_.default,E.default,y.default],function(){var e=h.default.getProps(),t=e.guild,n=e.selectedRoleId;return{currentUser:_.default.getCurrentUser(),guild:t,selectedRoleId:n,roles:y.default.roles,theme:E.default.theme}})(te)},7784:function(e,t,n){e.exports=n.p+"08a1ba9c05ff71f07dfb0aa35833d745.svg"},7785:function(e,t,n){e.exports=n.p+"1701e23d13cfedc5fdde3b53104215e7.svg"},7786:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=x(n(3)),u=x(n(6)),s=x(n(8)),d=x(n(9)),f=x(n(6026)),c=x(n(5986)),p=x(n(60)),h=x(n(31)),_=x(n(12)),E=x(n(112)),y=x(n(144)),g=x(n(192)),v=x(n(366)),m=x(n(6673)),T=n(6012),I=x(n(942)),C=x(n(1208)),S=x(n(6688)),N=x(n(142)),A=x(n(6045)),O=x(n(79)),b=x(n(1031)),M=x(n(163)),R=x(n(263)),L=x(n(40)),D=n(520),w=x(n(6266)),P=(x(n(88)),x(n(228)),n(33)),U=n(0),G=x(n(5908)),H=x(n(5558)),k=x(n(5559));function x(e){return e&&e.__esModule?e:{default:e}}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=r(b.default,{}),K=function(e){function t(n){F(this,t);var o=j(this,e.call(this,n));return o._isMounted=!1,o.state={overflowShown:!1},o.showOverflow=o.showOverflow.bind(o),o.handleOverflowClose=o.handleOverflowClose.bind(o),o}return B(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.showOverflow=function(e){var t=this.props,n=t.guild,o=t.user;this.setState({overflowShown:!0}),(0,P.openContextMenu)(e,function(e){return i.createElement(I.default,a({type:U.ContextMenuTypes.USER_GUILD_MEMBERS,user:o,guildId:n.id,channelId:n.id},e))},{onClose:this.handleOverflowClose})},t.prototype.renderOwnerHelpIcon=function(){var e=this.props,t=e.user,o=e.theme,a=e.guild;if(t.id!==a.ownerId)return null;var i=o===U.ThemeTypes.DARK?n(7785):n(7784);return r(N.default,{text:u.default.Messages.MEMBER_LIST_SERVER_OWNER_HELP},void 0,r(A.default,{size:A.default.Sizes.SMALL,src:i,className:G.default.ownerHelpIcon}))},t.prototype.render=function(){var e=this.props,t=e.user,n=e.member,o=e.streamerMode,a=e.guild,i=this.state.overflowShown,l={color:n.colorString};return r(L.default,{className:(0,d.default)(G.default.member,H.default.card,{active:i}),align:L.default.Align.CENTER,onContextMenu:this.showOverflow},void 0,r(R.default,{className:G.default.avatar,src:t.getAvatarURL()}),r(L.default,{className:G.default.nameTag,direction:L.default.Direction.VERTICAL,grow:0},void 0,r(L.default,{align:L.default.Align.CENTER},void 0,r(D.FormText,{className:G.default.name,style:l},void 0,n.nick||t.toString()),t.bot?V:null,this.renderOwnerHelpIcon()),o?null:r(D.FormText,{className:G.default.tag},void 0,"@",t.tag)),r(L.default.Child,{className:G.default.roleWrapper},void 0,r("div",{},void 0,r(C.default,{user:t,guild:a,userRoles:n.roles,wrap:!1}))),r(L.default,{className:G.default.overflowButton,align:L.default.Align.CENTER,grow:0,onClick:this.showOverflow},void 0,r(O.default,{name:O.default.Names.OVERFLOW_MENU,className:G.default.overflowIcon,foreground:G.default.overflowIconFg})))},t.prototype.handleOverflowClose=function(){this._isMounted&&this.setState({overflowShown:!1})},t}(i.PureComponent),W=function(e){function t(n){F(this,t);var o=j(this,e.call(this,n));return o.state={roleFilterQuery:""},o.renderHeader=o.renderHeader.bind(o),o.renderPruneAction=o.renderPruneAction.bind(o),o.handleQueryChange=o.handleQueryChange.bind(o),o.handleQueryClear=o.handleQueryClear.bind(o),o.handlePruneClick=o.handlePruneClick.bind(o),o.handleRoleFilterQueryChange=o.handleRoleFilterQueryChange.bind(o),o.handleRoleFilterQueryClear=o.handleRoleFilterQueryClear.bind(o),o}return B(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.roleFilterQuery!==t.roleFilterQuery&&g.default.rerender("quick-roles--select")},t.prototype.handlePruneClick=function(){m.default.open(this.props.guild.id)},t.prototype.renderPruneAction=function(){return this.props.canPrune?r("span",{},void 0,"  ",r(M.default,{onClick:this.handlePruneClick,className:G.default.pruneLink},void 0,u.default.Messages.PRUNE)):null},t.prototype.renderHeader=function(e){var t=this.state.roleFilterQuery,n=this.props,o=n.guild,a=n.searchQuery,i=n.selectedRoleId,l={},c=(0,s.default)(o.roles).sortBy(function(e){return-e.position}).filter(function(e){return e.id===i&&(l.label=e.name),(0,f.default)(t.toLowerCase(),e.name.toLowerCase())}).map(function(e){return{value:e.id,color:e.colorString,children:e.name,selected:e.id===i}}).value(),p={query:t,onChange:this.handleRoleFilterQueryChange,onClear:this.handleRoleFilterQueryClear,placeholder:u.default.Messages.SEARCH_ROLES};return r(D.FormSection,{},void 0,r(D.FormTitle,{tag:D.FormTitleTags.H2},void 0,u.default.Messages.GUILD_SETTINGS_MEMBERS_SERVER_MEMBERS),r(L.default,{className:G.default.membersHeader,align:L.default.Align.CENTER,style:{height:20}},void 0,r(L.default.Child,{},void 0,r(D.FormText,{type:D.FormTextTypes.DESCRIPTION,className:G.default.membersCount},void 0,u.default.Messages.MEMBERS_HEADER.format({members:e.length}),this.renderPruneAction())),r(L.default,{align:L.default.Align.CENTER,grow:0},void 0,r(S.default,{popoutClassName:(0,d.default)(G.default.membersFilterPopout,k.default.elevationBorderLow),popoutId:"quick-roles--select",items:c,label:u.default.Messages.GUILD_SETTINGS_MEMBERS_DISPLAY_ROLE,value:l,onChange:this.handleRoleChange,searchProps:p,popoutProps:{preventInvert:!0,position:"bottom"}}),r(w.default,{query:a,onChange:this.handleQueryChange,onClear:this.handleQueryClear}))),r(D.FormDivider,{className:"margin-top-20",style:{marginBottom:-1}}))},t.prototype.makeSearchFilter=function(){var e=this.props.searchQuery;return null==e||0===e.length?function(){return!0}:function(t){var n=t.user,o=t.member;e=e.toLowerCase();var r=n.username.toLowerCase(),a=null!=o.nick?o.nick.toLowerCase():null;return(0,f.default)(e,r)||null!=a&&(0,f.default)(e,a)}},t.prototype.makeRoleFilter=function(){var e=this.props,t=e.guild,n=e.selectedRoleId;return function(e){var o=e.member;return n===t.id||-1!==o.roles.indexOf(n)}},t.prototype.renderMembers=function(e){var t=this.props,n=t.guild,o=t.currentUser,a=t.streamerMode,i=t.theme;return(0,s.default)(e).sortBy(function(e){return e.comparator}).map(function(e){var t=e.member,l=e.user;return r(K,{currentUser:o,member:t,user:l,guild:n,theme:i,streamerMode:a},t.userId)}).value()},t.prototype.render=function(){var e=this.props.members,t=(0,s.default)(e).map(function(e){var t=_.default.getUser(e.userId);return{member:e,user:t,comparator:(null!=t?e.nick||t.username:"").toLowerCase()}}).filter(this.makeSearchFilter()).filter(this.makeRoleFilter()).value();return r(T.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(t),elementHeight:72},void 0,this.renderMembers(t))},t.prototype.handleQueryChange=function(e){v.default.setSearchQuery(e)},t.prototype.handleQueryClear=function(){v.default.setSearchQuery("")},t.prototype.handleRoleChange=function(e){var t=e.value;v.default.selectRole(t)},t.prototype.handleRoleFilterQueryChange=function(e){this.setState({roleFilterQuery:e})},t.prototype.handleRoleFilterQueryClear=function(){this.setState({roleFilterQuery:""})},t}(i.PureComponent),Y=l.default.connectStores([c.default,h.default,p.default,y.default],function(){var e=c.default.getProps(),t=e.guild,n=e.searchQuery;return{guild:t,selectedRoleId:e.selectedRoleId,searchQuery:n||"",members:p.default.getMembers(t.id),theme:h.default.theme,currentUser:_.default.getCurrentUser(),canPrune:E.default.can(U.Permissions.KICK_MEMBERS,t),streamerMode:y.default.enabled}})(W);t.default=Y,e.exports=t.default},7787:function(e,t,n){e.exports=n.p+"6fad2f9f24cb4f38202a81064da6f859.svg"},7788:function(e,t,n){e.exports=n.p+"97b178f31f0ec28b41387b78891d5b7a.svg"},7789:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(3)),a=u(n(2)),i=(n(0),u(n(6127))),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}var s={},d={},f=void 0;function c(e,t){return null==t&&(t="guild"),e+":"+t}function p(e){return null!=s[e]?s[e]:(s[e]={},s[e])}function h(e){var t=e.guildId,n=e.webhook;p(t)[n.id]=n}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isFetching=function(e,t){return null!=d[c(e,t)]},t.prototype.getWebhooksForGuild=function(e){return l.default.values(p(e))},t.prototype.getWebhooksForChannel=function(e,t){return(0,l.default)(p(e)).values().filter(function(e){return e.channel_id===t}).value()},o(t,[{key:"error",get:function(){return f}}]),t}(r.default.Store);t.default=new _(a.default,{WEBHOOKS_UPDATE:function(e){var t=e.guildId,n=e.channelId,o=e.webhooks,r=e.error;if(o){f=null;var a=[];n&&(a=(0,l.default)(p(t)).values().filter(function(e){return e.channel_id!==n}).value());var u=s[t]={};a.concat(o).forEach(function(e){return u[e.id]=e}),delete d[c(t,n)]}else null!=r?(f=r,delete d[c(t,n)]):null!=n&&null!=s[t]&&(f=null,i.default.fetchForChannel(t,n))},WEBHOOKS_FETCHING:function(e){var t=e.guildId,n=e.channelId;d[c(t,n)]=!0},WEBHOOK_CREATE:h,WEBHOOK_UPDATE:h,WEBHOOK_DELETE:function(e){var t=e.guildId,n=e.webhookId;delete p(t)[n]}}),e.exports=t.default},7790:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(6))),i=c(n(40)),l=n(262),u=c(l),s=c(n(64)),d=c(n(523)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.onCreate,n=e.disabled;return r(i.default,{},void 0,r(i.default.Child,{},void 0,r(u.default,{type:l.Types.DESCRIPTION},void 0,a.default.Messages.SETTINGS_WEBHOOKS_INTRO.format({articleURL:d.default.getArticleURL(f.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}))),r(i.default.Child,{wrap:!0,grow:0},void 0,r(s.default,{disabled:n,onClick:t},void 0,a.default.Messages.WEBHOOK_CREATE)))},e.exports=t.default},7791:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=M(n(40)),u=M(n(9)),s=M(n(6)),d=M(n(263)),f=n(262),c=M(f),p=n(75),h=M(p),_=M(n(64)),E=M(n(167)),y=M(n(524)),g=M(n(6674)),v=M(n(164)),m=M(n(67)),T=M(n(38)),I=M(n(6127)),C=M(n(267)),S=n(81),N=n(0),A=M(n(5557)),O=M(n(5910)),b=M(n(519));function M(e){return e&&e.__esModule?e:{default:e}}var R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleShowModal=o.handleShowModal.bind(o),o.handleRemoveWebhook=o.handleRemoveWebhook.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleRemoveWebhook=function(){var e=this.props.webhook,t=e.name;T.default.push(function(n){return i.createElement(v.default,r({},n,{header:s.default.Messages.WEBHOOK_DELETE_TITLE.format({name:t}),confirmText:s.default.Messages.WEBHOOK_DELETE,cancelText:s.default.Messages.WEBHOOK_CANCEL,onConfirm:function(){I.default.delete(e.guild_id,e.id).catch(function(){C.default.show({title:s.default.Messages.WEBHOOK_ERROR_DELETING_WEBHOOK,body:s.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}}),a(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,s.default.Messages.WEBHOOK_DELETE_BODY.format({name:t})))})},t.prototype.handleShowModal=function(){var e=this.props.webhook;T.default.push(function(t){return i.createElement(g.default,r({webhook:e},t))})},t.prototype.renderAvatar=function(){var e,t,n,o=this.props.webhook;return a(l.default.Child,{wrap:!0,grow:0},void 0,a(d.default,{src:(e=o,t=e.avatar,n=e.id,(0,S.getUserAvatarURL)({id:n,avatar:t,discriminator:N.NON_USER_BOT_DISCRIMINATOR})),size:"large"}))},t.prototype.renderInfo=function(){var e=this.props.webhook,t=e.id,n=e.name,o=e.user;return a(l.default,{direction:l.default.Direction.VERTICAL,justify:l.default.Justify.CENTER},void 0,a(h.default,{tag:p.Tags.H3,className:b.default.marginReset},void 0,n),a(c.default,{type:f.Types.DESCRIPTION},void 0,s.default.Messages.WEBHOOK_CREATED_ON.format({timestamp:E.default.extractTimestamp(t),username:o?o.username:""})))},t.prototype.renderEdit=function(){var e=this.props.theme;return a(l.default,{grow:0,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,a(_.default,{size:_.default.Sizes.SMALL,look:_.default.Looks.OUTLINED,color:e===N.ThemeTypes.DARK?_.default.Colors.WHITE:_.default.Colors.GREY,onClick:this.handleShowModal},void 0,s.default.Messages.EDIT))},t.prototype.render=function(){var e=this.props.className;return a(y.default,{editable:!0,className:(0,u.default)(O.default.webhookRow,e)},void 0,a(l.default,{},void 0,this.renderAvatar(),this.renderInfo(),this.renderEdit()),a("button",{className:(0,u.default)(O.default.removeWebhook,A.default.button),onClick:this.handleRemoveWebhook}))},t}(i.PureComponent);t.default=R,e.exports=t.default},7792:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),r=i(n(5986)),a=i(n(6675));function i(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.connectStores([r.default],function(){return{guild:r.default.getProps().guild}})(a.default),e.exports=t.default},7793:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),r=u(n(5986)),a=u(n(31)),i=u(n(144)),l=u(n(6679));function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default.connectStores([r.default,a.default,i.default],function(){var e=r.default.getProps(),t=e.invites;return{guild:e.guild,invites:t,showChannel:!0,hide:i.default.hideInstantInvites,theme:a.default.theme}})(l.default);t.default=s,e.exports=t.default},7794:function(e,t,n){e.exports=n.p+"5fb477ca84edd15d9a2888ac28365acd.svg"},7795:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(40)),u=n(64),s=c(u),d=n(99),f=c(n(5914));function c(e){return e&&e.__esModule?e:{default:e}}var p={DEFAULT:"default",SUCCESS:"success",ERROR:"error"},h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleButtonClick=o.handleButtonClick.bind(o),o.handleInputClick=o.handleInputClick.bind(o),o.setRef=o.setRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setRef=function(e){this.input=e},t.prototype.select=function(){var e=this.input;e&&e.select()},t.prototype.renderInput=function(e){var t,n=this.props,o=n.value,r=n.mode;return a.createElement("input",{className:(0,i.default)((0,d.getClass)(f.default,"input",r),(t={},t[f.default.inputHidden]=e,t)),ref:this.setRef,placeholder:"input here",type:"text",value:o,onClick:this.handleInputClick,readOnly:!0})},t.prototype.render=function(){var e=this.props,t=e.text,n=e.mode,o=e.hideMessage,a=e.className,c=null!=o,h=void 0;switch(n){case p.SUCCESS:h=u.ButtonColors.GREEN;break;case p.ERROR:h=u.ButtonColors.RED;break;default:h=u.ButtonColors.GREY}return r("div",{className:(0,i.default)((0,d.getClass)(f.default,"copyInput",n),a)},void 0,r(l.default,{className:f.default.layout},void 0,r(l.default,{className:f.default.inputWrapper},void 0,this.renderInput(c),c?r("div",{className:f.default.hiddenMessage},void 0,o):null),r(l.default,{shrink:1,grow:0,style:{margin:0}},void 0,r(s.default,{className:f.default.button,onClick:this.handleButtonClick,size:u.ButtonSizes.MIN,color:h,look:u.ButtonLooks.GHOST},void 0,t))))},t.prototype.handleButtonClick=function(){this.select();var e=this.props;(0,e.onCopy)(e.value)},t.prototype.handleInputClick=function(){this.select()},t}(a.PureComponent);h.defaultProps={text:"Copy",mode:p.DEFAULT},h.Modes=p,t.default=h,e.exports=t.default},7796:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=N(n(8)),l=N(n(3)),u=N(n(40)),s=N(n(941)),d=n(262),f=N(d),c=N(n(526)),p=N(n(266)),h=N(n(940)),_=N(n(944)),E=n(75),y=N(E),g=N(n(6262)),v=N(n(6001)),m=N(n(5986)),T=N(n(18)),I=N(n(144)),C=N(n(366)),S=N(n(6));function N(e){return e&&e.__esModule?e:{default:e}}var A=r(v.default,{}),O=r(c.default,{className:"margin-top-40 margin-bottom-40"}),b=r(c.default,{className:"margin-top-40 margin-bottom-40"}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={internalEnabled:n.widgetEnabled},o.renderToggle=o.renderToggle.bind(o),o.renderChannelSelect=o.renderChannelSelect.bind(o),o.renderAPIInfo=o.renderAPIInfo.bind(o),o.renderWidget=o.renderWidget.bind(o),o.handleToggleWidget=o.handleToggleWidget.bind(o),o.handleChannelSelect=o.handleChannelSelect.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.widgetEnabled!==this.state.internalEnabled&&this.setState({internalEnabled:e.widgetEnabled})},t.prototype.renderToggle=function(){return r(h.default,{className:"margin-bottom-40",value:this.state.internalEnabled,onChange:this.handleToggleWidget},void 0,S.default.Messages.GUILD_SETTINGS_WIDGET_ENABLE_WIDGET)},t.prototype.renderChannelSelect=function(){var e=this.props,t=e.channels,n=e.widgetChannelId,o=e.guildId,a=(0,i.default)(t).filter(function(e){return e.guild_id===o}).map(function(e){return{value:e.id,label:e.toString(!0)}}).value(),l={value:"NO_INSTANT_INVITE",label:S.default.Messages.NO_INSTANT_INVITE};a.unshift(l);var u=n||l;return r(p.default,{title:S.default.Messages.FORM_LABEL_INSTANT_INVITE_CHANNEL},void 0,r(_.default,{className:"margin-bottom-20",options:a,value:u,onChange:this.handleChannelSelect,searchable:!1,clearable:!1}),r(f.default,{type:d.Types.DESCRIPTION},void 0,S.default.Messages.FORM_HELP_INSTANT_INVITE_CHANNEL))},t.prototype.renderAPIInfo=function(){var e=this.props.guildId,t=""+location.protocol+window.GLOBAL_ENV.API_ENDPOINT+"/guilds/"+e+"/widget.json";return r(u.default,{},void 0,r(u.default.Child,{},void 0,r(p.default,{title:S.default.Messages.FORM_LABEL_SERVER_ID},void 0,r(g.default,{value:e}))),r(u.default.Child,{},void 0,r(p.default,{title:S.default.Messages.FORM_LABEL_JSON_API},void 0,r(g.default,{value:t}))))},t.prototype.renderWidget=function(){var e=this.props.guildId,t='<iframe src="'+(""+location.protocol+window.GLOBAL_ENV.WIDGET_ENDPOINT+"?id="+e+"&theme=dark")+'" width="350" height="500" allowtransparency="true" frameborder="0"></iframe>';return r(u.default,{direction:u.default.Direction.VERTICAL},void 0,r(y.default,{},void 0,S.default.Messages.FORM_LABEL_PREMADE_WIDGET),r(u.default,{},void 0,r(u.default.Child,{basis:"50%"},void 0,r(p.default,{},void 0,r(g.default,{value:t}),r(f.default,{type:d.Types.DESCRIPTION},void 0,S.default.Messages.GUILD_SETTINGS_WIDGET_EMBED_HELP.format()))),r(u.default.Child,{basis:"50%"},void 0,r("img",{alt:"",src:n(7794)}))))},t.prototype.render=function(){return this.props.hide?A:r(s.default,{className:"guild-settings-widget",tag:E.Tags.H2,title:S.default.Messages.GUILD_SETTINGS_TITLE_SERVER_WIDGET},void 0,this.renderToggle(),this.renderChannelSelect(),O,this.renderAPIInfo(),b,this.renderWidget())},t.prototype.handleToggleWidget=function(e){var t=this.props,n=t.guildId,o=t.widgetChannelId,r=e.currentTarget.checked;this.setState({internalEnabled:r}),C.default.updateEmbed(n,r,o)},t.prototype.handleChannelSelect=function(e){var t=e.value,n=this.props,o=n.guildId,r=n.widgetEnabled;"NO_INSTANT_INVITE"===t&&(t=null),C.default.updateEmbed(o,r,t)},t}(a.PureComponent);t.default=l.default.connectStores([m.default,I.default],function(){var e=m.default.getProps(),t=e.guild;return{widgetChannelId:e.embedChannelId,widgetEnabled:e.embedEnabled,channels:T.default.getChannels(),guildId:t.id,hide:I.default.enabled}})(M),e.exports=t.default},7797:function(e,t,n){e.exports=n.p+"e3fb8fe698a871db1d0e34ededf8a954.svg"},7798:function(e,t,n){e.exports=n.p+"789de85a973b1d974a21aa03c1e14323.svg"},7799:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=k(n(8)),u=k(n(9)),s=k(n(3)),d=k(n(6)),f=k(n(233)),c=k(n(144)),p=k(n(12)),h=k(n(31)),_=k(n(5986)),E=k(n(366)),y=k(n(229)),g=k(n(38)),v=n(6012),m=n(33),T=k(n(942)),I=n(75),C=k(n(263)),S=k(n(64)),N=n(262),A=k(N),O=n(5985),b=k(O),M=k(n(40)),R=k(n(941)),L=k(n(526)),D=k(n(123)),w=k(n(6266)),P=k(n(224)),U=k(n(67)),G=n(0),H=k(n(5558));function k(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5915);var B=function(e){function t(){return x(this,t),F(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.ban,o=e.theme,r=e.onRevoke,i=e.onClose;return a(D.default,{className:"guild-settings-banned-user-modal",theme:o},void 0,a(D.default.Content,{className:"content user-select-text"},void 0,a("div",{},void 0,a(M.default,{justify:M.default.Justify.CENTER},void 0,a(U.default,{color:U.default.Colors.PRIMARY,className:"user-username"},void 0,t.toString()),a(U.default,{className:"user-discrim"},void 0,"#",t.discriminator)),a(U.default,{className:"reason-header margin-top-40",size:U.default.Sizes.SMALL},void 0,d.default.Messages.BAN_REASON),a(U.default,{className:"reason"},void 0,n.reason||d.default.Messages.NO_BAN_REASON))),a(D.default.Footer,{className:"footer"},void 0,a(M.default,{justify:M.default.Justify.BETWEEN},void 0,a(S.default,{onClick:r,look:S.default.Looks.LINK,color:S.default.Colors.RED},void 0,d.default.Messages.REVOKE_BAN),a(S.default,{onClick:i},void 0,d.default.Messages.DONE))))},t}(i.PureComponent),V=s.default.connectStores([h.default],function(){return{theme:h.default.theme}})(B),K=function(e){function t(n){x(this,t);var o=F(this,e.call(this,n));return o.handleRevokeBan=o.handleRevokeBan.bind(o),o.handleShowModal=o.handleShowModal.bind(o),o.handleCloseModal=o.handleCloseModal.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return j(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.hideDiscriminator;return a(M.default,{className:(0,u.default)("guild-settings-banned-user",H.default.card),align:M.default.Align.CENTER,onClick:this.handleShowModal,onContextMenu:this.handleContextMenu},void 0,a(C.default,{className:"banned-user-avatar",src:t.getAvatarURL()}),a(M.default.Child,{basis:100,className:"margin-reset"},void 0,a("div",{className:"username"},void 0,t.toString(),!n&&a("span",{className:"discrim"},void 0,"#",t.discriminator))))},t.prototype.handleShowModal=function(){var e=this,t=this.props,n=t.user,o=t.hideDiscriminator,a=t.ban;g.default.push(function(t){return i.createElement(V,r({},t,{ban:a,user:n,hideDiscriminator:o,onRevoke:e.handleRevokeBan,onClose:e.handleCloseModal}))})},t.prototype.handleCloseModal=function(){g.default.pop()},t.prototype.handleRevokeBan=function(){var e=this.props,t=e.guildId,n=e.user;y.default.unbanUser(t,n.id).then(g.default.pop)},t.prototype.handleContextMenu=function(e){var t=this;(0,m.openContextMenu)(e,function(e){return i.createElement(T.default,r({},e,{type:G.ContextMenuTypes.USER_BANS,user:t.props.user}))})},t}(i.PureComponent),W=function(e){function t(){return x(this,t),F(this,e.apply(this,arguments))}return j(t,e),t.prototype.makeFilter=function(){var e=this.props.searchQuery;if(null==e||0===e.length)return function(){return!0};var t=new RegExp("^"+f.default.escape(e),"i");return function(e){return null!=e&&t.test(e.username)}},t.prototype.renderHeader=function(){var e=this.props,t=e.bans,o=e.theme,r=e.searchQuery,i=void 0;null==t?i=null:l.default.isEmpty(t)&&(i=a(b.default,{theme:o,className:"margin-top-40"},void 0,a(O.EmptyStateImage,{darkSrc:n(7798),lightSrc:n(7797),width:256,height:212}),a(O.EmptyStateText,{note:d.default.Messages.BANS_NO_USERS_BANNED,style:{maxWidth:300}},void 0,d.default.Messages.NO_BANS)));var u=(0,l.default)(t||{}).keys().value().length;return a(R.default,{tag:I.Tags.H2,title:d.default.Messages.BANS_HEADER.format({bans:u})},void 0,a(M.default,{justify:M.default.Justify.BETWEEN},void 0,a(A.default,{type:N.Types.DESCRIPTION,className:"margin-bottom-20"},void 0,d.default.Messages.BANS_HINT.format({onModerationClick:this.handleModerationClick})),null==i&&a(w.default,{query:r,placeholder:d.default.Messages.BANS_SEARCH_PLACEHOLDER,onChange:this.handleQueryChange,onClear:this.handleQueryClear})),a(L.default,{style:{marginBottom:-1}}),i)},t.prototype.render=function(){var e=this.props,t=e.bans,n=e.guildId,o=e.streamerMode,r=e.theme,i=void 0;return i=null==t?[a(P.default,{className:"margin-top-20",type:P.default.Type.SPINNING_CIRCLE},"spinner")]:(0,l.default)(t).keys().map(p.default.getUser).filter(this.makeFilter()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return a(K,{user:e,ban:t[e.id],hideDiscriminator:o,guildId:n},e.id)}).value(),a(v.LazyContentScroller,{theme:r,header:this.renderHeader(),elementHeight:56},void 0,i)},t.prototype.handleModerationClick=function(){E.default.setSection(G.GuildSettingsSections.MODERATION)},t.prototype.handleQueryChange=function(e){E.default.setSearchQuery(e)},t.prototype.handleQueryClear=function(){E.default.setSearchQuery("")},t}(i.PureComponent),Y=s.default.connectStores([_.default,h.default],function(){var e=_.default.getProps(),t=e.bans,n=e.guild;return{searchQuery:e.searchQuery||"",bans:t,guildId:n.id,theme:h.default.theme,streamerMode:c.default.enabled}})(W);t.default=Y,e.exports=t.default},7800:function(e,t,n){e.exports=n.p+"3236694e0c095adfbbd5334fc8dc7aa0.svg"},7801:function(e,t,n){e.exports=n.p+"a7371de3223292c6f31f8aeed62f17c1.svg"},7802:function(e,t,n){"use strict";t.__esModule=!0;var o=a(n(82)),r=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.id=e.id,this.name=e.name,this.managed=e.managed,this.roles=e.roles,this.requiredColons=e.requiredColons,this.user=new r.default(e.user),this.animated=e.animated},t}(o.default);t.default=i,e.exports=t.default},7803:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),r=l(n(2)),a=l(n(225)),i=l(n(7802));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s={},d=0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default)},t.prototype.isUploadingEmoji=function(){return d>0},t.prototype.getEmojiRevision=function(e){return u[e]||0},t.prototype.getEmojis=function(e){return s[e]},t}(o.default.Store);t.default=new f(r.default,{EMOJI_DELETE:function(e){var t=e.guildId,n=e.emojiId;s[t]=s[t].filter(function(e){return e.id!==n})},EMOJI_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.emojis;s[t]=n.map(function(e){return new i.default(e)})},EMOJI_FETCH_FAILURE:function(e){var t=e.guildId;s[t]=[]},EMOJI_UPLOAD_START:function(e){d++},EMOJI_UPLOAD_STOP:function(e){d--},GUILD_EMOJIS_UPDATE:function(e){var t=e.guildId;u[t]=(u[t]||0)+1}}),e.exports=t.default},7804:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=w(n(9)),l=w(n(3)),u=w(n(8)),s=w(n(7803)),d=w(n(5986)),f=w(n(31)),c=w(n(26)),p=n(75),h=w(p),_=w(n(941)),E=n(262),y=w(E),g=n(5985),v=w(g),m=w(n(939)),T=w(n(40)),I=w(n(64)),C=w(n(224)),S=w(n(6078)),N=w(n(6)),A=w(n(267)),O=w(n(6680)),b=w(n(81)),M=w(n(263)),R=n(0),L=w(n(5558)),D=w(n(5557));function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5916);var H=32,k=/[^a-zA-Z0-9_]/g,x=u.default.throttle(O.default.fetchEmoji,1e3);function F(e){for(e=e.replace(k,"").slice(0,H);e.length<2;)e+="_";return e}var j=function(e){function t(n){P(this,t);var o=U(this,e.call(this,n));return o.handleNameKeyPress=o.handleNameKeyPress.bind(o),o.handleNameChange=o.handleNameChange.bind(o),o.handleNameBlur=o.handleNameBlur.bind(o),o.handleDeleteEmoji=o.handleDeleteEmoji.bind(o),o.state={name:n.emoji.name},o}return G(t,e),t.prototype.handleDeleteEmoji=function(){var e=this.props,t=e.guildId,n=e.emoji;O.default.deleteEmoji(t,n.id)},t.prototype.handleNameKeyPress=function(e){var t=e.currentTarget;13===e.which&&t.blur()},t.prototype.handleNameChange=function(e){this.setState({name:e})},t.prototype.handleNameBlur=function(){var e=this.props.emoji,t=this.state.name;if(t!==e.name){var n=this.props.guildId;O.default.updateEmoji(n,e.id,F(t))}},t.prototype.renderEmoji=function(){var e=this.props.emoji,t=b.default.getEmojiURL({id:e.id,animated:e.animated});return r(T.default.Child,{basis:"40px",grow:0},void 0,r("div",{className:"emoji-image",style:{backgroundImage:"url("+t+")"}}))},t.prototype.renderEmojiName=function(){var e=this.state.name;return r(T.default.Child,{basis:"50%"},void 0,r("div",{className:"position-relative"},void 0,r(m.default,{className:"emoji-alias-input",inputClassName:"emoji-input",placeholder:N.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER,onKeyPress:this.handleNameKeyPress,onChange:this.handleNameChange,onBlur:this.handleNameBlur,size:m.default.Sizes.MINI,value:e,maxLength:H,style:{maxWidth:200}}),r("div",{className:"emoji-alias-placeholder"},void 0,e.length>0?e:N.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER)))},t.prototype.renderUser=function(){var e=this.props.emoji;return r(T.default.Child,{basis:"50%",className:"emoji-uploader"},void 0,r(M.default,{src:e.user.getAvatarURL(),size:M.default.Sizes.XSMALL}),r(y.default,{className:"emoji-row-text overflow-ellipsis"},void 0,e.user.username))},t.prototype.renderDeleteButton=function(){return r("button",{className:(0,i.default)(D.default.button,"emoji-remove"),onClick:this.handleDeleteEmoji})},t.prototype.render=function(){return r(T.default,{className:(0,i.default)("emoji-row",L.default.card),align:T.default.Align.CENTER},void 0,this.renderEmoji(),this.renderEmojiName(),this.renderUser(),this.renderDeleteButton())},t}(a.PureComponent),B=function(e){function t(n){P(this,t);var o=U(this,e.call(this,n));return o.handleFileChange=o.handleFileChange.bind(o),o}return G(t,e),t.prototype.componentDidMount=function(){x(this.props.guildId)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.revision,o=t.guildId;e.revision<n&&x(o)},t.prototype.handleFileChange=function(e,t){var n=this.props.guildId,o=F(t.split(".")[0]);O.default.uploadEmoji(n,e,o).catch(function(e){var t=e.body,n=void 0;null!=t&&(t.code===R.AbortCodes.TOO_MANY_EMOJI?n=N.default.Messages.TOO_MANY_EMOJI:t.code===R.AbortCodes.TOO_MANY_ANIMATED_EMOJI?n=N.default.Messages.TOO_MANY_ANIMATED_EMOJI:null!=t.image&&(n=N.default.Messages.EMOJI_TOO_BIG.format({maxSize:256}))),null!=n&&A.default.show({body:n})})},t.prototype.getMaxSlots=function(){var e=this.props.guildId,t=c.default.getGuild(e);return null!=t&&t.hasFeature(R.GuildFeatures.MORE_EMOJI)?200:50},t.prototype.renderUploader=function(){var e=this.props,t=e.emojis,n=e.isUploading,o=t?t.filter(function(e){return!e.animated}).length:0,a=t?t.filter(function(e){return e.animated}).length:0,i=this.getMaxSlots(),l=i-o,u=Math.max(l,i-a),s=N.default.Messages.GUILD_SETTINGS_EMOJI_UPLOAD_TO_SERVER_MESSAGE;return r(_.default,{className:"margin-bottom-40"},void 0,r(T.default,{align:T.default.Align.START,className:"margin-bottom-20"},void 0,r(T.default.Child,{},void 0,r(y.default,{type:E.Types.DESCRIPTION},void 0,s.format({count:i,maxSize:256}))),r(T.default.Child,{wrap:!0,grow:0},void 0,r(I.default,{disabled:n||0===u,spinner:n},void 0,N.default.Messages.UPLOAD_EMOJI,u>0?r(S.default,{onChange:this.handleFileChange,multiple:!0}):null))))},t.prototype.renderTitle=function(e,t){var n=t.length,o=this.getMaxSlots()-n;return r(h.default,{tag:p.Tags.H5,className:"margin-bottom-20"},void 0,e,r("span",{},void 0,"  ",N.default.Messages.EMOJI_SLOTS_AVAILABLE.format({count:o})))},t.prototype.renderEmojiTable=function(e){if(0===e.length)return r(y.default,{type:E.Types.DESCRIPTION,className:"margin-bottom-40"},void 0,N.default.Messages.NO_EMOJI_BODY);var t=this.props.guildId;return r(_.default,{className:"margin-bottom-40"},void 0,r(T.default,{className:"margin-bottom-4"},void 0,r(T.default.Child,{basis:"40px",grow:0,wrap:!0},void 0,r(y.default,{type:y.default.Types.DESCRIPTION},void 0,N.default.Messages.EMOJI)),r(T.default.Child,{basis:"50%",wrap:!0},void 0,r(y.default,{type:y.default.Types.DESCRIPTION,className:"emoji-alias-offset"},void 0,N.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS)),r(T.default.Child,{basis:"50%",wrap:!0},void 0,r(y.default,{type:y.default.Types.DESCRIPTION},void 0,N.default.Messages.UPLOADED_BY))),e.map(function(e){return r(j,{guildId:t,emoji:e},e.id)}))},t.prototype.renderEmojis=function(){var e=this.props,t=e.emojis,o=e.theme;if(null==t)return r(C.default,{className:"margin-top-40",type:C.default.Type.SPINNING_CIRCLE});if(0===t.length)return r(v.default,{theme:o,className:"margin-top-20"},void 0,r(g.EmptyStateImage,{darkSrc:n(7801),lightSrc:n(7800),width:272,height:212}),r(g.EmptyStateText,{note:N.default.Messages.NO_EMOJI},void 0,N.default.Messages.NO_EMOJI_TITLE));var a=u.default.partition(t,function(e){return!e.animated}),i=a[0],l=a[1];return r("div",{},void 0,this.renderTitle(N.default.Messages.EMOJI,i),this.renderEmojiTable(i),this.renderTitle(N.default.Messages.ANIMATED_EMOJI,l),this.renderEmojiTable(l))},t.prototype.render=function(){return r(_.default,{},void 0,r(h.default,{tag:p.Tags.H2},void 0,N.default.Messages.SERVER_EMOJI),this.renderUploader(),this.renderEmojis())},t}(a.PureComponent);t.default=l.default.connectStores([f.default,s.default,d.default],function(){var e=d.default.getProps().guild.id;return{guildId:e,emojis:s.default.getEmojis(e),revision:s.default.getEmojiRevision(e),isUploading:s.default.isUploadingEmoji(),theme:f.default.theme}})(B),e.exports=t.default},7805:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(9)),l=E(n(6)),u=E(n(262)),s=n(524),d=E(s),f=E(n(163)),c=E(n(945)),p=E(n(40)),h=n(0),_=E(n(5918));function E(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderHeader=function(){var e,t=this.props,n=t.color,o=t.name,a=t.label,s=t.labelUrl,d=t.icon,h=t.enabled,E=t.syncing,y=t.handleSyncToggle,g=t.children,v=s&&a?r(f.default,{href:"//"+s,className:"url"},void 0,r(u.default,{className:_.default.headerText,type:u.default.Types.DESCRIPTION},void 0,a)):null;return r(p.default,{className:(0,i.default)(_.default.header,(e={},e[_.default.headerSimple]=null==g,e)),justify:p.default.Justify.BETWEEN,style:{backgroundColor:n}},void 0,r(p.default,{},void 0,r("img",{alt:"",className:_.default.headerIcon,src:d}),r("div",{},void 0,r(u.default,{className:_.default.headerText,type:u.default.Types.DEFAULT},void 0,o),v)),r(p.default,{align:p.default.Align.CENTER,grow:0},void 0,r(c.default,{color:n,value:h,disabled:E,onChange:y},void 0,r("span",{className:_.default.headerSync},void 0,l.default.Messages.SYNC))))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme;return r(d.default,{className:_.default.integration,type:s.Types.CUSTOM,style:{backgroundColor:n===h.ThemeTypes.DARK?h.Colors.PRIMARY_700:h.Colors.PRIMARY_100}},void 0,this.renderHeader(),r("div",{},void 0,t))},t}(a.PureComponent);y.defaultProps={name:"Twitch",color:h.Colors.TWITCH,icon:null},t.default=y,e.exports=t.default},7806:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=w(n(3)),u=w(n(6)),s=w(n(9)),d=w(n(81)),f=w(n(371)),c=w(n(90)),p=w(n(142)),h=n(520),_=w(n(40)),E=w(n(163)),y=w(n(224)),g=w(n(944)),v=w(n(7805)),m=n(5985),T=w(m),I=w(n(984)),C=w(n(5)),S=w(n(31)),N=w(n(282)),A=w(n(5986)),O=w(n(38)),b=w(n(522)),M=w(n(366)),R=n(0),L=w(n(5917)),D=w(n(519));function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=function(e){function t(n){P(this,t);var o=U(this,e.call(this,n));return o.handleToggleEnabled=o.handleToggleEnabled.bind(o),o.handleExpireBehaviorChange=o.handleExpireBehaviorChange.bind(o),o.handleExpireGracePeriodChange=o.handleExpireGracePeriodChange.bind(o),o.handleSync=o.handleSync.bind(o),o.handleShowRole=o.handleShowRole.bind(o),o.handleToggleEmotes=o.handleToggleEmotes.bind(o),o}return G(t,e),t.prototype.renderTwitchEmoticons=function(e){var t=this.props,n=t.guild,o=t.integration,r=null,i=N.default.getGuildEmoji(n.id);if(o.enable_emoticons&&i){var l=Object.values(i).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(function(e){return e.roles&&e.roles.includes(o.role_id)}).map(function(e,t){return a(p.default,{text:e.name},t,a("img",{alt:u.default.Messages.IMG_ALT_EMOJI.format({name:e.name}),draggable:!1,className:"emoji jumboable",src:d.default.getEmojiURL({id:e.id,animated:e.animated})},e.name))});l.length>0&&(r=a("div",{className:(0,s.default)(L.default.twitchEmojis,D.default.marginTop8)},void 0,l))}return a("div",{},void 0,a(h.FormDivider,{className:(0,s.default)(D.default.marginTop20,D.default.marginBottom20)}),a(_.default,{className:(0,s.default)(L.default.emojiSync,D.default.marginBottom8)},void 0,a(_.default,{align:_.default.Align.CENTER},void 0,a(h.FormText,{},void 0,u.default.Messages.ENABLE_TWITCH_EMOJI_SYNC)),a(_.default.Child,{grow:0,shrink:0},void 0,a(I.default,{value:o.enable_emoticons,onChange:this.handleToggleEmotes,disabled:o.syncing,fill:e.color}))),r)},t.prototype.renderSyncDetails=function(e,t){var n=this.props,o=n.guild,r=n.integration,i=o.getRole(r.role_id),l=void 0;l=null!=i?a(E.default,{className:L.default.syncedRoleLink,onClick:this.handleShowRole},void 0,i.name):u.default.Messages.NONE;var d=void 0;return d=r.revoked?u.default.Messages.SYNC_REVOKED.format({user:r.user,platformName:c.default.get(r.type).name}):u.default.Messages.LAST_SYNC.format({datetime:(0,C.default)(r.synced_at).calendar()}),a(_.default,{},void 0,a(_.default.Child,{basis:"50%"},void 0,a(h.FormTitle,{className:D.default.marginBottom8},void 0,u.default.Messages.FORM_LABEL_SYNCED_ROLE),a(h.FormText,{},void 0,l)),a(_.default.Child,{basis:"50%"},void 0,a("div",{className:L.default.syncWrapper},void 0,a(h.FormTitle,{className:D.default.marginBottom8},void 0,e),a(p.default,{text:u.default.Messages.FORCE_SYNC},void 0,a("button",{className:(0,s.default)(L.default.forceSync,r.syncing?L.default.forceSyncSyncing:null),disabled:r.syncing||r.revoked,onClick:this.handleSync}))),a(h.FormText,{},void 0,t.format({subscribers:r.subscriber_count})),a(h.FormText,{type:h.FormTextTypes.DESCRIPTION},void 0,d)))},t.prototype.renderExpireToggles=function(e){var t=this.props.integration;return a(_.default,{},void 0,a(_.default.Child,{basis:"50%"},void 0,a(h.FormTitle,{className:D.default.marginBottom8},void 0,e),a(g.default,{transparent:!0,value:""+t.expire_behavior,clearable:!1,searchable:!1,options:[{value:"0",label:u.default.Messages.REMOVE_SYNCED_ROLE},{value:"1",label:u.default.Messages.KICK_FROM_SERVER}],disabled:t.syncing,onChange:this.handleExpireBehaviorChange})),a(_.default.Child,{basis:"50%"},void 0,a(h.FormTitle,{className:D.default.marginBottom8},void 0,u.default.Messages.FORM_LABEL_EXPIRE_GRACE_PERIOD),a(g.default,{transparent:!0,value:""+t.expire_grace_period,clearable:!1,searchable:!1,options:[1,3,7,14,30].map(function(e){return{value:""+e,label:u.default.Messages.N_DAYS.format({days:e})}}),disabled:t.syncing,onChange:this.handleExpireGracePeriodChange})))},t.prototype.render=function(){var e=this.props,t=e.integration,n=e.theme,o=t.enabled,r=t.syncing,i=c.default.get(t.type),l=void 0,d=void 0,f=void 0,p=void 0,_=void 0,E=void 0;switch(t.type){case"youtube":l=t.account.name,d="gaming.youtube.com/channel/"+t.account.id,f=u.default.Messages.FORM_LABEL_SPONSOR_EXPIRE_BEHAVIOR,p=u.default.Messages.FORM_LABEL_SYNCED_SPONSORS,_=u.default.Messages.NUM_SPONSORS,E=null;break;case"twitch":default:l=d="twitch.tv/"+t.name,f=u.default.Messages.FORM_LABEL_SUB_EXPIRE_BEHAVIOR,p=u.default.Messages.FORM_LABEL_SYNCED_SUBS,_=u.default.Messages.NUM_SUBSCRIBERS,E=this.renderTwitchEmoticons(i)}var y=void 0;return o&&(y=a("div",{className:L.default.integrationBody},void 0,this.renderSyncDetails(p,_),a(h.FormDivider,{className:(0,s.default)(D.default.marginTop20,D.default.marginBottom20)}),this.renderExpireToggles(f),E)),a(v.default,{name:t.user.toString(),label:l,labelUrl:"//"+d,color:i.color,icon:i.icon.white,enabled:o,syncing:r,theme:n,handleSyncToggle:this.handleToggleEnabled},void 0,y)},t.prototype.handleToggleEnabled=function(){var e=this.props,t=e.guild,n=e.integration;n.syncing||(n.enabled?O.default.push(function(e){var o=0===n.expire_behavior?u.default.Messages.REMOVE_SYNCED_ROLE:u.default.Messages.KICK_FROM_SERVER;return i.createElement(f.default,r({title:u.default.Messages.DISABLE_INTEGRATION_TITLE,body:"youtube"===n.type?u.default.Messages.DISABLE_INTEGRATION_YOUTUBE_BODY:u.default.Messages.DISABLE_INTEGRATION_TWITCH_BODY,confirmText:o,cancelText:u.default.Messages.CANCEL,onConfirm:function(){return M.default.disableIntegration(t.id,n.id)}},e))}):M.default.enableIntegration(t.id,n.type,n.id))},t.prototype.handleExpireBehaviorChange=function(e){var t=this.props,n=t.guild,o=t.integration;M.default.updateIntegration(n.id,o.id,parseInt(e.value),o.expire_grace_period,o.enable_emoticons)},t.prototype.handleExpireGracePeriodChange=function(e){var t=this.props,n=t.guild,o=t.integration;M.default.updateIntegration(n.id,o.id,o.expire_behavior,parseInt(e.value),o.enable_emoticons)},t.prototype.handleSync=function(){var e=this.props,t=e.guild,n=e.integration;M.default.syncIntegration(t.id,n.id)},t.prototype.handleShowRole=function(){var e=this.props.integration;M.default.setSection(R.GuildSettingsSections.ROLES),M.default.selectRole(e.role_id)},t.prototype.handleToggleEmotes=function(e){var t=this.props,n=t.guild,o=t.integration;M.default.updateIntegration(n.id,o.id,o.expire_behavior,o.expire_grace_period,e.currentTarget.checked)},t}(i.PureComponent),k=function(e){function t(){return P(this,t),U(this,e.apply(this,arguments))}return G(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,o=e.integrations,r=e.theme,i=void 0;return i=null==o?a(y.default,{className:D.default.marginTop40,type:y.default.Type.SPINNING_CIRCLE}):0===o.length?a(T.default,{theme:r,className:D.default.marginTop20},void 0,a(m.EmptyStateImage,{darkSrc:n(6682),lightSrc:n(6681),width:294,height:192}),a(m.EmptyStateText,{note:u.default.Messages.NO_INTEGRATIONS.format({onConnect:this.handleConnect})},void 0,u.default.Messages.NO_INTEGRATIONS_LABEL)):o.map(function(e,n){return a(H,{integration:e,guild:t,theme:r},n)}),a(h.FormSection,{tag:h.FormTitleTags.H2,title:u.default.Messages.INTEGRATIONS},void 0,a(h.FormText,{type:h.FormTextTypes.DESCRIPTION},void 0,u.default.Messages.INTEGRATIONS_PRO_TIP.format({streamkitURL:"https://discordapp.com/streamkit"})),a(h.FormDivider,{className:(0,s.default)(D.default.marginTop20,D.default.marginBottom20)}),i)},t.prototype.handleConnect=function(){b.default.open(R.UserSettingsSections.CONNECTIONS)},t}(i.PureComponent);t.default=l.default.connectStores([A.default,S.default],function(){var e=A.default.getProps();return{guild:e.guild,integrations:e.integrations,theme:S.default.theme}})(k),e.exports=t.default},7807:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),r=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={close:function(){o.default.dispatch({type:r.ActionTypes.GUILD_SETTINGS_VANITY_URL_CLOSE})},resetCode:function(){o.default.dispatch({type:r.ActionTypes.GUILD_SETTINGS_VANITY_URL_RESET})},setCode:function(e){o.default.dispatch({type:r.ActionTypes.GUILD_SETTINGS_VANITY_URL_SET,code:e})},saveCode:function(e,t){return a.default.patch({url:r.Endpoints.GUILD_VANITY_URL(e),body:{code:t}}).then(function(e){var t=e.body;o.default.dispatch({type:r.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:t.code})},function(){o.default.dispatch({type:r.ActionTypes.GUILD_SETTINGS_VANITY_URL_ERROR})})}},e.exports=t.default},7808:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(40)),u=d(n(5920)),s=d(n(519));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.setInputRef=o.setInputRef.bind(o),o.handleChange=o.handleChange.bind(o),o.handleFocus=o.handleFocus.bind(o),o.handleBlur=o.handleBlur.bind(o),o.handleFocusInput=o.handleFocusInput.bind(o);var r=o.props.autoFocus;return o.state={focused:null!=r&&r},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setInputRef=function(e){this._inputRef=e},t.prototype.handleChange=function(e){(0,this.props.onChange)(e.currentTarget.value)},t.prototype.handleFocus=function(){this.setState({focused:!0})},t.prototype.handleBlur=function(){this.setState({focused:!1})},t.prototype.handleFocusInput=function(){this._inputRef.focus()},t.prototype.render=function(){var e,t=this.state.focused,n=this.props,o=n.value,d=n.placeholder,f=n.error,c=n.className,p=n.maxLength,h=n.autoFocus,_=n.prefix;return r(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.START,className:(0,i.default)(u.default.prefixInput,c,(e={},e[u.default.focused]=t,e[u.default.error]=f,e)),onClick:this.handleFocusInput},void 0,r(l.default.Child,{grow:0,className:u.default.prefixInputPrefix},void 0,_),r(l.default.Child,{className:s.default.marginReset},void 0,a.createElement("input",{ref:this.setInputRef,className:u.default.prefixInputInput,value:o,placeholder:d,maxLength:p,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:h})))},t}(a.PureComponent);t.default=f,e.exports=t.default},7809:function(e,t,n){"use strict";t.__esModule=!0,t.GuildSettingsVanityURLNotice=void 0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=b(n(3)),l=b(n(8)),u=b(n(6001)),s=b(n(524)),d=b(n(7808)),f=b(n(64)),c=n(262),p=b(c),h=b(n(67)),_=b(n(941)),E=n(75),y=b(E),g=b(n(224)),v=b(n(6074)),m=b(n(5986)),T=b(n(144)),I=b(n(6702)),C=n(7807),S=n(277),N=b(n(6)),A=n(0),O=b(n(5919));function b(e){return e&&e.__esModule?e:{default:e}}t.GuildSettingsVanityURLNotice=i.default.connectStores([m.default,I.default],function(){var e=I.default.vanityURLCode,t=m.default.getGuildId();return{vanityURLCode:e,guildId:t,onReset:function(){(0,C.resetCode)()},onSave:function(){(0,C.saveCode)(t,e)}}})(v.default);var M=r(g.default,{}),R=r(u.default,{}),L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(o,["renderInfo","renderEditCard","handleRemoveVanityURL","handleInviteCodeChange"]),o.state={isRemoving:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){(0,C.close)()},t.prototype.renderEditCard=function(){var e=this.state.isRemoving,t=this.props,n=t.hasError,o=t.originalVanityURLCode,a=t.vanityURLCode;return null==a?M:r(s.default,{editable:!0,className:O.default.editVanityUrlCard},void 0,r(y.default,{},void 0,N.default.Messages.INVITE_URL),r(d.default,{prefix:A.INVITE_ENDPOINT+"/",value:a,onChange:this.handleInviteCodeChange,maxLength:25,autoFocus:!0,error:n}),null!=o&&o.length>0?r(f.default,{className:O.default.removeVanityUrlButton,onClick:this.handleRemoveVanityURL,submitting:e,look:f.default.Looks.LINK,size:f.default.Sizes.MIN,color:f.default.Colors.RED},void 0,N.default.Messages.REMOVE_VANITY_URL):null)},t.prototype.renderInfo=function(){var e=this.props,t=e.hasError,n=e.originalVanityURLCode;if(t)return r(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.RED,className:O.default.marginTop20},void 0,N.default.Messages.CHANGE_VANITY_URL_ERROR);if(null!=n&&n.length>0){var o=(0,S.getInviteURL)(n);return r(p.default,{className:O.default.marginTop20,type:c.Types.LABEL_DESCRIPTOR},void 0,N.default.Messages.VANITY_URL_HELP_EXTENDED_LINK.format({urlText:o,urlValue:o}))}},t.prototype.handleRemoveVanityURL=function(){(0,C.setCode)("")},t.prototype.handleInviteCodeChange=function(e){(0,C.setCode)(e.replace(/ /g,"-"))},t.prototype.render=function(){return this.props.hide?R:r(_.default,{tag:E.Tags.H2,title:N.default.Messages.VANITY_URL},void 0,r(p.default,{type:c.Types.DESCRIPTION,className:O.default.marginBottom8},void 0,N.default.Messages.VANITY_URL_HELP),r(p.default,{type:c.Types.DESCRIPTION,className:O.default.marginBottom20},void 0,N.default.Messages.VANITY_URL_HELP_CONFLICT),this.renderEditCard(),this.renderInfo())},t}(a.PureComponent);t.default=i.default.connectStores([m.default,I.default,T.default],function(){return{vanityURLCode:I.default.vanityURLCode,originalVanityURLCode:I.default.originalVanityURLCode,guildId:m.default.getGuildId(),hasError:I.default.hasError(),hide:T.default.hideInstantInvites}})(L)},7810:function(e,t,n){e.exports=n.p+"0049cd2d5d8dad87fac3811fa651988e.svg"},7811:function(e,t,n){e.exports=n.p+"99253cefda98913b1e9f7d155ad81ed3.svg"},7812:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(548),u=(r=l)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=e.id;return a("div",{className:t,style:n},void 0,a(u.default,{id:o}))},t}(i.PureComponent);t.default=s,e.exports=t.default},7813:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(3)),l=f(n(6)),u=f(n(195)),s=n(6130),d=f(n(958));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleCollapse=function(){var e=this.props,t=e.collapsed,n=e.channel.id;t?(0,s.categoryExpand)(n):(0,s.categoryCollapse)(n)},t.prototype.render=function(){var e=this,t=this.props.collapsed;return r(u.default,{label:l.default.Messages.COLLAPSE_CATEGORY,action:function(){return e.toggleCollapse()},active:t})},t}(a.PureComponent);t.default=i.default.connectStores([d.default],function(e){var t=e.channel;return{collapsed:d.default.isCollapsed(t.id)}})(c),e.exports=t.default},7814:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=p(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(43))),l=p(n(57)),u=p(n(6)),s=p(n(3)),d=p(n(195)),f=p(n(6264)),c=p(n(6263));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({displayName:"ChannelToggleVisibilityItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{channelId:a.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCollapsed:f.default.isCollapsed(this.props.channelId)}},render:function(){return __OVERLAY__?null:r(d.default,{label:u.default.Messages.VOICE_CHANNEL_HIDE_NAMES,action:this.handleChannelToggle,active:this.state.isCollapsed})},handleChannelToggle:function(){c.default.update(this.props.channelId)}});t.default=h,e.exports=t.default},7816:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(77)),r=d(n(145)),a=d(n(146)),i=d(n(14)),l=d(n(18)),u=d(n(1209)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=1010,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{defaultRetryAfter:f,logger:o.default.create("InviteQueue")}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._sendInvite=function(e,t,n){r.default.sendInvite(e.id,t,s.AnalyticsLocations.GUILD_CREATE_INVITE_SUGGESTION).then(function(){return n(null,!0)},function(){return n(null,!1)})},t.prototype.drain=function(e,t){var n=this,o=e.code,r=e.channel,u=e.user;null!=r?this._sendInvite(r,o,t):null!=u?a.default.ensurePrivateChannel(i.default.getId(),u.id).then(function(e){null!=(r=l.default.getChannel(e))&&n._sendInvite(r,o,t)},function(){return t(null,!1)}):t(null,!1)},t}(u.default);t.default=new c,e.exports=t.default},7817:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=y(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(43))),l=y(n(57)),u=y(n(230)),s=y(n(6)),d=y(n(34)),f=y(n(227)),c=n(33),p=y(n(6073)),h=y(n(38)),_=y(n(6024)),E=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var g=(0,i.default)({displayName:"ChannelInviteCreateGroup",mixins:[u.default,l.default],propTypes:{channel:a.default.object.isRequired,guild:a.default.object.isRequired,type:a.default.string.isRequired},render:function(){var e=this.props,t=e.type,n=e.channel,o=void 0;this.can(E.Permissions.CONNECT,n)&&this.can(E.Permissions.CREATE_INSTANT_INVITE,n)&&(o=r(d.default,{label:s.default.Messages.INSTANT_INVITE,action:this.openInviteModal}));var a=void 0,i=void 0,l=void 0;return!__OVERLAY__&&this.can(E.Permissions.MANAGE_CHANNELS,this.props.guild)&&(t!==E.ContextMenuTypes.CHANNEL_LIST_VOICE&&(a=r(d.default,{label:s.default.Messages.CREATE_TEXT_CHANNEL,action:this.handleTextChannelCreate})),t!==E.ContextMenuTypes.CHANNEL_LIST_TEXT&&(i=r(d.default,{label:s.default.Messages.CREATE_VOICE_CHANNEL,action:this.handleVoiceChannelCreate})),l=r(d.default,{label:s.default.Messages.CLONE_CHANNEL,action:this.handleCloneCreate})),r(f.default,{},void 0,o,l,a,i)},openInviteModal:function(){(0,c.closeContextMenu)();var e=this.props,t=e.guild,n=e.channel;h.default.push(_.default,{guild:t,channel:n,source:E.InstantInviteSources.CONTEXT_MENU})},handleCloneCreate:function(){var e=this.props,t=e.channel,n=t.id,o=t.type,r=t.parent_id,a=e.guild.id;(0,c.closeContextMenu)(),p.default.open(o,a,r,n)},handleVoiceChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,c.closeContextMenu)(),p.default.open(E.ChannelTypes.GUILD_VOICE,n,t,null)},handleTextChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,c.closeContextMenu)(),p.default.open(E.ChannelTypes.GUILD_TEXT,n,t,null)}});t.default=g,e.exports=t.default},7818:function(e,t,n){"use strict";t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=m(n(55)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=m(n(43)),s=m(n(57)),d=m(n(6)),f=m(n(230)),c=m(n(227)),p=m(n(34)),h=m(n(164)),_=m(n(67)),E=n(33),y=m(n(38)),g=m(n(6048)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var T=(0,u.default)({displayName:"ChannelDeleteGroup",mixins:[f.default,s.default],propTypes:{channel:i.default.object.isRequired},render:function(){var e=this.props.channel;if(!this.can(v.Permissions.MANAGE_CHANNELS,e)||e.type===v.ChannelTypes.GUILD_TEXT&&!this.can(v.Permissions.VIEW_CHANNEL,e)||e.type===v.ChannelTypes.GUILD_VOICE&&!this.can(v.Permissions.CONNECT,e))return null;var t=e.type===v.ChannelTypes.GUILD_CATEGORY?d.default.Messages.DELETE_CATEGORY:d.default.Messages.DELETE_CHANNEL;return a(c.default,{},void 0,a(p.default,{label:t,action:this.handleChannelDelete,danger:!0}))},handleChannelDelete:function(){var e=this;(0,E.closeContextMenu)();var t=this.props.channel.type===v.ChannelTypes.GUILD_CATEGORY?d.default.Messages.DELETE_CATEGORY:d.default.Messages.DELETE_CHANNEL;y.default.push(function(n){return l.createElement(h.default,r({header:d.default.Messages.DELETE_SERVER_TITLE.format({name:e.props.channel.toString()}),confirmText:t,cancelText:d.default.Messages.CANCEL,onConfirm:e.handleConfirmChannelDelete},n),a(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,d.default.Messages.DELETE_SERVER_BODY.format({name:e.props.channel.toString(!0)})))})},handleConfirmChannelDelete:function(){g.default.deleteChannel(this.props.channel.id)}});t.default=T,e.exports=t.default},7819:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(34)),l=f(n(6)),u=n(33),s=n(270),d=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleJumpToChannel=o.handleJumpToChannel.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r(i.default,{label:l.default.Messages.JUMP_TO_CHANNEL,action:this.handleJumpToChannel})},t.prototype.handleJumpToChannel=function(){var e=this.props,t=e.channel,n=e.guild;d.default.transitionToGuild(n.id,t.id),(0,u.closeContextMenu)(),(0,s.popLayer)()},t}(a.PureComponent);t.default=c,e.exports=t.default},7820:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(34)),u=n(963),s=n(33);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(a))),o.handleChannelTopicCopy=function(){(0,u.copy)(o.props.channel.topic),(0,s.closeContextMenu)()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return u.SUPPORTS_COPY?r(l.default,{label:i.default.Messages.COPY_CHANNEL_TOPIC,action:this.handleChannelTopicCopy}):null},t}(a.PureComponent);t.default=c,e.exports=t.default},7821:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6)),l=f(n(34)),u=n(33),s=n(6129),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=c(this,e.call.apply(e,[this].concat(a))),o.handleMarkAsRead=function(){var e=o.props,t=e.type,n=e.channelId;(0,u.closeContextMenu)(),t===d.ChannelTypes.GUILD_CATEGORY?(0,s.ackCategory)(n,!0,!0):(0,s.ack)(n,!0,!0)},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this;return r(l.default,{label:i.default.Messages.MARK_AS_READ,action:function(){return e.handleMarkAsRead()},disabled:!this.props.hasUnread})},t}(a.PureComponent);t.default=p,e.exports=t.default},7822:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=h(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(43))),l=h(n(57)),u=h(n(6)),s=h(n(230)),d=h(n(34)),f=n(33),c=h(n(6048)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var _=(0,i.default)({displayName:"ChannelEditItem",mixins:[s.default,l.default],propTypes:{channel:a.default.object.isRequired},render:function(){if(__OVERLAY__)return null;var e=this.props.channel;if(!this.can(p.Permissions.MANAGE_CHANNELS,e)&&!this.can(p.Permissions.MANAGE_ROLES,e)&&!this.can(p.Permissions.MANAGE_WEBHOOKS,e))return null;if(e.type===p.ChannelTypes.GUILD_TEXT&&!this.can(p.Permissions.VIEW_CHANNEL,e)||e.type===p.ChannelTypes.GUILD_VOICE&&!this.can(p.Permissions.CONNECT,e))return null;var t=u.default.Messages.EDIT_CHANNEL;return e.type===p.ChannelTypes.GUILD_CATEGORY&&(t=u.default.Messages.EDIT_CATEGORY),r(d.default,{label:t,action:this.handleChannelEdit})},handleChannelEdit:function(){var e=this.props.channel;(0,f.closeContextMenu)(),c.default.open(e.id)}});t.default=_,e.exports=t.default},7823:function(e,t,n){"use strict";t.__esModule=!0,t.AuditLogIcon=void 0;var o,r,a,i,l,u,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),p=(T(n(5)),T(n(9))),h=n(263),_=T(n(79)),E=T(n(40)),y=T(n(6)),g=n(0),v=n(272),m=T(n(5929));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t){return function(n){return null==n.oldValue?e:t}}function A(e,t){return function(n){return null==n.newValue?e:t}}var O=function(){var e;return(e={})[g.AuditLogChangeKeys.REASON]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e},b=((l={})[g.AuditLogTargetTypes.CHANNEL]=((r={})[g.AuditLogChangeKeys.TYPE]=!0,r[g.AuditLogChangeKeys.ID]=!0,r[g.AuditLogChangeKeys.PERMISSION_OVERWRITES]=!0,r),l[g.AuditLogTargetTypes.INVITE]=((a={})[g.AuditLogChangeKeys.INVITER_ID]=!0,a[g.AuditLogChangeKeys.USES]=!0,a),l[g.AuditLogTargetTypes.WEBHOOK]=((i={})[g.AuditLogChangeKeys.TYPE]=!0,i[g.AuditLogChangeKeys.APPLICATION_ID]=!0,i),l);function M(e,t){var n=b[e.targetType];return null!=n&&!0===n[t.key]}var R=((u={})[g.AuditLogActionTypes.CREATE]=m.default.typeCreate,u[g.AuditLogActionTypes.UPDATE]=m.default.typeUpdate,u[g.AuditLogActionTypes.DELETE]=m.default.typeDelete,u),L=t.AuditLogIcon=function(e){function t(){return I(this,t),C(this,e.apply(this,arguments))}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.actionType,n=e.targetType,o=e.action,r=e.themeOverride,a=null!=r?m.default["themeOverride"+(0,v.upperCaseFirstChar)(r)]:null,i=(0,p.default)(m.default.icon,R[t],function(e,t){var n;return t===g.AuditLogActions.MESSAGE_DELETE?m.default.targetMessage:(n={},n[g.AuditLogTargetTypes.ALL]=m.default.targetAll,n[g.AuditLogTargetTypes.GUILD]=m.default.targetGuild,n[g.AuditLogTargetTypes.CHANNEL]=m.default.targetChannel,n[g.AuditLogTargetTypes.USER]=m.default.targetMember,n[g.AuditLogTargetTypes.ROLE]=m.default.targetRole,n[g.AuditLogTargetTypes.INVITE]=m.default.targetInvite,n[g.AuditLogTargetTypes.WEBHOOK]=m.default.targetWebhook,n[g.AuditLogTargetTypes.EMOJI]=m.default.targetEmoji,n)[e]}(n,o),a);return d("div",{className:i})},t}(c.PureComponent),D=function(e){function t(){return I(this,t),C(this,e.apply(this,arguments))}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.onContextMenu;return d("span",{onContextMenu:n,className:m.default.userHook},void 0,d("span",{},void 0,t.username),d("span",{className:m.default.discrim},void 0,"#",t.discriminator))},t}(c.PureComponent),w=function(e){function t(){return I(this,t),C(this,e.apply(this,arguments))}return S(t,e),t.prototype.hasChangesToRender=function(){var e=this.props.log,t=e.changes;return(e.actionType!==g.AuditLogActionTypes.DELETE||e.action===g.AuditLogActions.MEMBER_BAN_ADD||e.action===g.AuditLogActions.MEMBER_KICK||e.action===g.AuditLogActions.MEMBER_PRUNE)&&(null!=t&&t.some(function(t){return!M(e,t)}))},t.prototype.renderTitle=function(){var e=this.props,t=e.log,n=e.onUserContextMenu,o=e.onTargetContextMenu,r=e.onChannelContextMenu,a=t.user,i=t.target,l=t.options,u=function(e){switch(e.action){case g.AuditLogActions.GUILD_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_UPDATE;case g.AuditLogActions.CHANNEL_CREATE:var t=e.changes?e.changes.find(function(e){return e.key===g.AuditLogChangeKeys.TYPE}):null;if(null==t)throw new Error("[AuditLog] Could not find type change for channel create");switch(t.newValue){case g.ChannelTypes.GUILD_VOICE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_VOICE_CREATE;case g.ChannelTypes.GUILD_CATEGORY:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_CATEGORY_CREATE;default:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TEXT_CREATE}case g.AuditLogActions.CHANNEL_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_UPDATE;case g.AuditLogActions.CHANNEL_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_DELETE;case g.AuditLogActions.CHANNEL_OVERWRITE_CREATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_CREATE;case g.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_UPDATE;case g.AuditLogActions.CHANNEL_OVERWRITE_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_DELETE;case g.AuditLogActions.MEMBER_KICK:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_KICK;case g.AuditLogActions.MEMBER_PRUNE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE;case g.AuditLogActions.MEMBER_BAN_ADD:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_ADD;case g.AuditLogActions.MEMBER_BAN_REMOVE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_REMOVE;case g.AuditLogActions.MEMBER_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_UPDATE;case g.AuditLogActions.MEMBER_ROLE_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLE_UPDATE;case g.AuditLogActions.ROLE_CREATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_CREATE;case g.AuditLogActions.ROLE_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_UPDATE;case g.AuditLogActions.ROLE_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_DELETE;case g.AuditLogActions.INVITE_CREATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CREATE;case g.AuditLogActions.INVITE_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_UPDATE;case g.AuditLogActions.INVITE_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_DELETE;case g.AuditLogActions.WEBHOOK_CREATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CREATE;case g.AuditLogActions.WEBHOOK_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_UPDATE;case g.AuditLogActions.WEBHOOK_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_DELETE;case g.AuditLogActions.EMOJI_CREATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_CREATE;case g.AuditLogActions.EMOJI_UPDATE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_UPDATE;case g.AuditLogActions.EMOJI_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_DELETE;case g.AuditLogActions.MESSAGE_DELETE:return y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_DELETE;default:return null}}(t);return null!=u?d("div",{className:"overflow-ellipsis"},void 0,u.format({user:a,target:i,userHook:function(e,o){return d(D,{user:t.user,onContextMenu:n},o)},targetHook:function(e,n){return t.targetType===g.AuditLogTargetTypes.USER?d(D,{user:t.target,onContextMenu:o},n):d("span",{onContextMenu:o},n,e)},count:l.count,channel:l.channel?l.channel.toString(!0):null,channelHook:function(e,t){return d("span",{onContextMenu:r},t,e)}})):null},t.prototype.renderRoleUpdate=function(e){var t=e.newValue;return Array.isArray(t)?t.map(function(e){return d("div",{className:m.default.subListItem},e.id,e.name)}):null},t.prototype.renderPermissionUpdate=function(e){var t=this,n=e.newValue;return Array.isArray(n)?n.map(function(e){return d("div",{className:m.default.subListItem},e,function(e,t){switch(e){case g.Permissions.CREATE_INSTANT_INVITE:return y.default.Messages.CREATE_INSTANT_INVITE;case g.Permissions.KICK_MEMBERS:return y.default.Messages.KICK_MEMBERS;case g.Permissions.BAN_MEMBERS:return y.default.Messages.BAN_MEMBERS;case g.Permissions.ADMINISTRATOR:return y.default.Messages.ADMINISTRATOR;case g.Permissions.MANAGE_CHANNELS:return t.targetType===g.AuditLogTargetTypes.CHANNEL?y.default.Messages.MANAGE_CHANNEL:y.default.Messages.MANAGE_CHANNELS;case g.Permissions.MANAGE_GUILD:return y.default.Messages.MANAGE_SERVER;case g.Permissions.CHANGE_NICKNAME:return y.default.Messages.CHANGE_NICKNAME;case g.Permissions.MANAGE_NICKNAMES:return y.default.Messages.MANAGE_NICKNAMES;case g.Permissions.MANAGE_ROLES:return y.default.Messages.MANAGE_ROLES;case g.Permissions.MANAGE_WEBHOOKS:return y.default.Messages.MANAGE_WEBHOOKS;case g.Permissions.MANAGE_EMOJIS:return y.default.Messages.MANAGE_EMOJIS;case g.Permissions.VIEW_AUDIT_LOG:return y.default.Messages.VIEW_AUDIT_LOG;case g.Permissions.VIEW_CHANNEL:return y.default.Messages.READ_MESSAGES;case g.Permissions.SEND_MESSAGES:return y.default.Messages.SEND_MESSAGES;case g.Permissions.SEND_TSS_MESSAGES:return y.default.Messages.SEND_TTS_MESSAGES;case g.Permissions.MANAGE_MESSAGES:return y.default.Messages.MANAGE_MESSAGES;case g.Permissions.EMBED_LINKS:return y.default.Messages.EMBED_LINKS;case g.Permissions.ATTACH_FILES:return y.default.Messages.ATTACH_FILES;case g.Permissions.READ_MESSAGE_HISTORY:return y.default.Messages.READ_MESSAGE_HISTORY;case g.Permissions.MENTION_EVERYONE:return y.default.Messages.MENTION_EVERYONE;case g.Permissions.USE_EXTERNAL_EMOJIS:return y.default.Messages.USE_EXTERNAL_EMOJIS;case g.Permissions.ADD_REACTIONS:return y.default.Messages.ADD_REACTIONS;case g.Permissions.CONNECT:return y.default.Messages.CONNECT;case g.Permissions.SPEAK:return y.default.Messages.SPEAK;case g.Permissions.MUTE_MEMBERS:return y.default.Messages.MUTE_MEMBERS;case g.Permissions.DEAFEN_MEMBERS:return y.default.Messages.DEAFEN_MEMBERS;case g.Permissions.MOVE_MEMBERS:return y.default.Messages.MOVE_MEMBERS;case g.Permissions.USE_VAD:return y.default.Messages.USE_VAD;case g.Permissions.PRIORITY_SPEAKER:return y.default.Messages.PRIORITY_SPEAKER}return null}(e,t.props.log))}):null},t.prototype.renderChangeDetails=function(e){var t=this,n=this.props,o=n.log,r=n.onContentClick;if(null==o.changes)return null;var a=0,i=o.changes.map(function(n,r){var i=n.oldValue,l=n.newValue,u=null;o.action===g.AuditLogActions.MEMBER_ROLE_UPDATE?u=t.renderRoleUpdate(n):o.targetType!==g.AuditLogTargetTypes.ROLE&&o.action!==g.AuditLogActions.CHANNEL_OVERWRITE_CREATE&&o.action!==g.AuditLogActions.CHANNEL_OVERWRITE_UPDATE||(u=t.renderPermissionUpdate(n));var f=e[n.key];if(M(o,n))return null;if("function"==typeof f&&(f=f(n)),null!=f&&"object"===(void 0===f?"undefined":s(f))){if(null==f.format){var c=f[n.newValue];null==c&&null!=f[-1]?f=f[-1]:null!=c&&(f=c)}null!=f&&null!=f.format&&(f=f.format({user:o.user,target:o.target,oldValue:i,newValue:l,count:Array.isArray(l)?l.length:null,subtarget:o.options.subtarget?o.options.subtarget:null,newColorHook:function(e,t){return d("div",{className:m.default.colorHook,style:{backgroundColor:n.newValue}},t)},oldColorHook:function(e,t){return d("div",{className:m.default.colorHook,style:{backgroundColor:n.oldValue}},t)}}))}if(!f)return console.warn("No change string for",n),null;var h=(0,p.default)(m.default.prefix,R[o.actionType]);return a++,d(E.default,{className:m.default.detail,style:{position:"relative",top:1}},r,d(E.default,{className:h,grow:0},void 0,d("div",{className:m.default.number},void 0,a<10?"0":null,a),d("div",{className:m.default.dash},void 0,"")),d(E.default,{className:m.default.change,direction:E.default.Direction.VERTICAL},void 0,d("div",{className:m.default.changeStr},void 0,f),null!=u?d("div",{},void 0,u):null))});return d(E.default,{onClick:r,className:m.default.changeDetails,direction:E.default.Direction.VERTICAL},void 0,i)},t.prototype.renderChangeSummary=function(){var e,t,n,o,r,a,i,l,u,s,d,c,p,h,_,E,v,m,T=this.props,I=T.expanded,C=T.log;if(I)switch(C.targetType){case g.AuditLogTargetTypes.GUILD:return this.renderChangeDetails(f(((m={})[g.AuditLogChangeKeys.NAME]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_NAME_CHANGE,m[g.AuditLogChangeKeys.ICON_HASH]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_ICON_HASH_CHANGE,m[g.AuditLogChangeKeys.SPLASH_HASH]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SPLASH_HASH_CHANGE,m[g.AuditLogChangeKeys.OWNER_ID]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_OWNER_ID_CHANGE,m[g.AuditLogChangeKeys.REGION]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_REGION_CHANGE,m[g.AuditLogChangeKeys.AFK_CHANNEL_ID]=A(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CLEAR,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CHANGE),m[g.AuditLogChangeKeys.AFK_TIMEOUT]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_TIMEOUT_CHANGE,m[g.AuditLogChangeKeys.SYSTEM_CHANNEL_ID]=A(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_DISABLE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_CHANGE),m[g.AuditLogChangeKeys.MFA_LEVEL]=((h={})[g.MFALevels.NONE]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_DISABLED,h[g.MFALevels.ELEVATED]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_ENABLED,h),m[g.AuditLogChangeKeys.WIDGET_ENABLED]={true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_ENABLED,false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_DISABLED},m[g.AuditLogChangeKeys.WIDGET_CHANNEL_ID]=A(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_DELETE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_CHANGE),m[g.AuditLogChangeKeys.VERIFICATION_LEVEL]=((_={})[g.VerificationLevels.NONE]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_NONE,_[g.VerificationLevels.LOW]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_LOW,_[g.VerificationLevels.MEDIUM]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_MEDIUM,_[g.VerificationLevels.HIGH]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_HIGH,_[g.VerificationLevels.VERY_HIGH]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_VERY_HIGH,_),m[g.AuditLogChangeKeys.DEFAULT_MESSAGE_NOTIFICATIONS]=((E={})[g.UserNotificationSettings.ALL_MESSAGES]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ALL_MESSAGES,E[g.UserNotificationSettings.ONLY_MENTIONS]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ONLY_MENTIONS,E),m[g.AuditLogChangeKeys.VANITY_URL_CODE]=A(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_DELETE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_CHANGE),m[g.AuditLogChangeKeys.EXPLICIT_CONTENT_FILTER]=((v={})[g.GuildExplicitContentFilterTypes.DISABLED]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_DISABLE,v[g.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_MEMBERS_WITHOUT_ROLES,v[g.GuildExplicitContentFilterTypes.ALL_MEMBERS]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_ALL_MEMBERS,v),m),O()));case g.AuditLogTargetTypes.CHANNEL:return this.renderChangeDetails(((p={})[g.AuditLogChangeKeys.NAME]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CHANGE),p[g.AuditLogChangeKeys.POSITION]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CHANGE),p[g.AuditLogChangeKeys.TOPIC]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CHANGE),p[g.AuditLogChangeKeys.BITRATE]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CHANGE),p[g.AuditLogChangeKeys.RATE_LIMIT_PER_USER]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CHANGE),p[g.AuditLogChangeKeys.PERMISSIONS_GRANTED]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_GRANTED,p[g.AuditLogChangeKeys.PERMISSIONS_DENIED]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_DENIED,p[g.AuditLogChangeKeys.REASON]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,p[g.AuditLogChangeKeys.NSFW]={false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_DISABLED,true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_ENABLED},p));case g.AuditLogTargetTypes.USER:return this.renderChangeDetails(f(((l={})[g.AuditLogChangeKeys.NICK]=(u=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CHANGE,s=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CREATE,d=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_DELETE,function(e){return null!=e.newValue&&null!=e.oldValue?u:null!=e.newValue?s:null!=e.oldValue?d:c}),l[g.AuditLogChangeKeys.DEAF]={true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_ON,false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_OFF},l[g.AuditLogChangeKeys.MUTE]={true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_ON,false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_OFF},l[g.AuditLogChangeKeys.ROLES_REMOVE]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_REMOVE,l[g.AuditLogChangeKeys.ROLES_ADD]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_ADD,l[g.AuditLogChangeKeys.PRUNE_DELETE_DAYS]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE_DELETE_DAYS,l),O()));case g.AuditLogTargetTypes.ROLE:return this.renderChangeDetails(f(((i={})[g.AuditLogChangeKeys.NAME]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CHANGE),i[g.AuditLogChangeKeys.PERMISSIONS_GRANTED]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_GRANTED,i[g.AuditLogChangeKeys.PERMISSIONS_DENIED]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_DENIED,i[g.AuditLogChangeKeys.COLOR]=((a={"#000000":y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_NONE})[-1]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR,a),i[g.AuditLogChangeKeys.HOIST]={true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_ON,false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_OFF},i[g.AuditLogChangeKeys.MENTIONABLE]={true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_ON,false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_OFF},i),O()));case g.AuditLogTargetTypes.INVITE:return this.renderChangeDetails(f(((r={})[g.AuditLogChangeKeys.CODE]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CODE_CREATE,r[g.AuditLogChangeKeys.CHANNEL_ID]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CHANNEL_CREATE,r[g.AuditLogChangeKeys.MAX_USES]=((n={0:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE_INFINITE})[-1]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE,n),r[g.AuditLogChangeKeys.MAX_AGE]=((o={0:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE_INFINITE})[-1]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE,o),r[g.AuditLogChangeKeys.TEMPORARY]={true:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_ON,false:y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_OFF},r),O()));case g.AuditLogTargetTypes.WEBHOOK:return this.renderChangeDetails(((t={})[g.AuditLogChangeKeys.CHANNEL_ID]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CHANGE),t[g.AuditLogChangeKeys.NAME]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CHANGE),t[g.AuditLogChangeKeys.AVATAR_HASH]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_AVATAR,t[g.AuditLogChangeKeys.REASON]=y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,t));case g.AuditLogTargetTypes.EMOJI:return this.renderChangeDetails(f(((e={})[g.AuditLogChangeKeys.NAME]=N(y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CREATE,y.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CHANGE),e),O()))}return null},t.prototype.render=function(){var e=this.props,t=e.log,n=e.className,o=e.expanded,r=e.onHeaderClick,a=this.hasChangesToRender(),i=m.default.headerDefault;o?i=m.default.headerExpanded:a&&(i=m.default.headerClickable);var l=t.timestampStart.calendar(),u=t.timestampEnd.calendar(),s=void 0;s=l===u?d("div",{className:m.default.timestamp},void 0,l):d("div",{className:m.default.timestamp},void 0,l,"",u);var f=a?r:g.NOOP;return d(E.default,{direction:E.default.Direction.VERTICAL,className:(0,p.default)(m.default.auditLog,n)},void 0,d(E.default,{className:i,direction:E.default.Direction.HORIZONTAL,align:E.default.Align.CENTER,onClick:f},void 0,d(L,{action:t.action,actionType:t.actionType,targetType:t.targetType}),d(h.AvatarImage,{className:m.default.avatar,src:t.user.getAvatarURL()}),d(E.default,{className:m.default.timeWrap,direction:E.default.Direction.VERTICAL},void 0,d(E.default.Child,{grow:1},void 0,this.renderTitle()),s),a?d(_.default,{name:_.default.Names.CARET,className:m.default.expand,foreground:m.default.expandForeground,expanded:o}):null),o?d("div",{className:m.default.divider}):null,this.renderChangeSummary())},t}(c.PureComponent);t.default=w},7824:function(e,t,n){"use strict";t.__esModule=!0,t.fetchLogs=d,t.fetchNextLogPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a.default.hasOlderLogs||u())return;var n=a.default.logs,r=n[n.length-1],l=null;null!=r&&(l=r.id);return o.default.dirtyDispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_START,before:l,isGroupedFetch:t}),s(e,{before:l}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,a=t.webhooks;o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS,logs:n,users:r,webhooks:a})},function(){return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_FAIL})})},t.filterByAction=function(e,t){if(u())return;return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_ACTION,action:e}),d(t,null,e)},t.filterByUserId=function(e,t){if(u())return;return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_USER,userId:e}),d(t,e)};var o=l(n(2)),r=l(n(13)),a=l(n(6691)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return a.default.isLoading||a.default.isLoadingNextPage}function s(e,t){var n=function(e){var t=e.before,n=e.userId,o=e.action;n=n||a.default.userIdFilter,o=o||a.default.actionFilter;var r={};return r.limit=i.AUDIT_LOG_PAGE_LIMIT,null!=t&&(r.before=t),null!=n&&(r.user_id=n),null!=o&&(r.action_type=o),r}(t);return r.default.get({url:i.Endpoints.GUILD_AUDIT_LOG(e),query:n})}function d(e,t,n){if(!u())return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_START}),s(e,{userId:t,action:n}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,a=t.webhooks;o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_SUCCESS,logs:n,users:r,webhooks:a})},function(){return o.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_FAIL})})}},7825:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=z(n(73)),u=z(n(8)),s=z(n(6026)),d=z(n(9)),f=z(n(3)),c=z(n(6691)),p=n(7824),h=z(n(192)),_=n(6690),E=(z(_),n(7823)),y=z(E),g=z(n(263)),v=z(n(79)),m=n(5985),T=z(m),I=z(n(224)),C=z(n(40)),S=z(n(64)),N=z(n(265)),A=n(520),O=z(n(6689)),b=z(n(6688)),M=n(33),R=z(n(6001)),L=z(n(942)),D=z(n(6049)),w=z(n(7812)),P=z(n(26)),U=z(n(18)),G=z(n(144)),H=z(n(12)),k=z(n(282)),x=z(n(31)),F=z(n(5986)),j=z(n(277)),B=n(196),V=z(n(88)),K=n(0),W=z(n(6)),Y=z(n(5921)),$=z(n(5559));function z(e){return e&&e.__esModule?e:{default:e}}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var J="guild-settings-audit-logs-user-filter",Z="guild-settings-audit-logs-action-filter";function ee(e,t){var n="number"==typeof e?e:0,o="number"==typeof t?t:0,r=o&~n,a=n&~o,i=[],l=[];for(var u in K.Permissions){var s=+K.Permissions[u];(r&s)===s&&i.push(s),(a&s)===s&&l.push(s)}return{added:i,removed:l}}function te(e,t,n){var o=e.newValue,r=e.oldValue;return null!=e.newValue&&(o=t(e.newValue),null!=n&&null!=o&&(o=n(o))),null!=e.oldValue&&(r=t(e.oldValue),null!=n&&null!=r&&(r=n(r))),new _.AuditLogChange(e.key,r||e.oldValue,o||e.newValue)}function ne(e,t,n,o,r){var a=null,i=n(r=r||e.targetId);if(null!=i&&(a=o(i)),null==a){var l=c.default.deletedTargets[e.targetType];null!=l&&l[r]&&(a=l[r])}if(null==a&&null!=e.changes){var u=e.changes.find(function(e){return e.key===t});null!=u&&(a=u.newValue||u.oldValue)}return a||e.targetId}function oe(e,t,n){var o=e,r=t(e);return null!=r&&null!=n&&(o=n(r)),o}function re(e,t){var n=[];return e.forEach(function(e){var o=function(e,t){switch(e.targetType){case K.AuditLogTargetTypes.GUILD:return t;case K.AuditLogTargetTypes.CHANNEL:return ne(e,K.AuditLogChangeKeys.NAME,function(e){return U.default.getChannel(e)},function(e){return e.toString(!0)});case K.AuditLogTargetTypes.USER:return ne(e,K.AuditLogChangeKeys.NICK,function(e){return H.default.getUser(e)},function(e){return e});case K.AuditLogTargetTypes.ROLE:return ne(e,K.AuditLogChangeKeys.NAME,function(e){return t.getRole(e)},function(e){return e.name});case K.AuditLogTargetTypes.INVITE:return ne(e,K.AuditLogChangeKeys.CODE,K.NOOP_NULL,function(e){return e.code});case K.AuditLogTargetTypes.WEBHOOK:return ne(e,K.AuditLogChangeKeys.NAME,function(e){return c.default.webhooks.find(function(t){return t.id===e})},function(e){return e.name});case K.AuditLogTargetTypes.EMOJI:return ne(e,K.AuditLogChangeKeys.NAME,function(e){return k.default.getGuildEmoji(t.id).find(function(t){return t.id===e})},function(e){return e.name});default:return console.warn("[GuildSettingsAuditLog] Unknown targetType for log",e),null}}(e,t),r=H.default.getUser(e.userId);if((null!=o||e.action===K.AuditLogActions.MEMBER_PRUNE)&&null!=r){if(null!=(e=(e=(e=e.set("user",r)).set("target",o)).set("options",function(e){if(null!=e.options){var t=a({},e.options);switch(e.options.type){case K.AuditLogSubtargetTypes.USER:t.subtarget=oe(e.options.id,function(e){return H.default.getUser(e)},function(e){return e.toString()});break;case K.AuditLogSubtargetTypes.ROLE:t.subtarget=oe(e.options.role_name,K.NOOP_NULL)}return null!=e.options.channel_id&&(t.channel=ne(e,"",function(e){return U.default.getChannel(e)},function(e){return e},e.options.channel_id)),e.options.members_removed&&(t.count=e.options.members_removed),t}return e.options}(e))).changes){var i=[];e.changes.forEach(function(e){var t=function(e){switch(e.key){case K.AuditLogChangeKeys.OWNER_ID:return te(e,function(e){return H.default.getUser(e)});case K.AuditLogChangeKeys.AFK_CHANNEL_ID:return te(e,function(e){return U.default.getChannel(e)},function(e){return e.toString(!0)});case K.AuditLogChangeKeys.AFK_TIMEOUT:return te(e,function(e){return e/60});case K.AuditLogChangeKeys.SYSTEM_CHANNEL_ID:return te(e,function(e){return U.default.getChannel(e)},function(e){return e.toString(!0)});case K.AuditLogChangeKeys.BITRATE:return te(e,function(e){return e/1e3});case K.AuditLogChangeKeys.COLOR:return te(e,function(e){return(0,B.int2hex)(e).toUpperCase()});case K.AuditLogChangeKeys.MAX_AGE:return te(e,function(e){var t=j.default.getMaxAgeOptions.find(function(t){var n=t.value;return e===n});return t?t.label:e});case K.AuditLogChangeKeys.CHANNEL_ID:return te(e,function(e){return U.default.getChannel(e)},function(e){return e.toString(!0)});case K.AuditLogChangeKeys.PERMISSIONS:var t=[],n=ee(e.oldValue,e.newValue),o=n.added,r=n.removed;if(o.length>0){var a=new _.AuditLogChange(K.AuditLogChangeKeys.PERMISSIONS_GRANTED,null,o);t.push(a)}if(r.length){var i=new _.AuditLogChange(K.AuditLogChangeKeys.PERMISSIONS_DENIED,null,r);t.push(i)}return t;case K.AuditLogChangeKeys.PERMISSIONS_GRANTED:case K.AuditLogChangeKeys.PERMISSIONS_DENIED:var l=[],u=ee(e.oldValue,e.newValue).added;if(u.length>0){var s=new _.AuditLogChange(e.key,null,u);l.push(s)}return l}return e}(e);Array.isArray(t)?t.forEach(function(e){return i.push(e)}):i.push(t)}),e=e.set("changes",i)}n.push(e)}}),n}var ae=function(e){function t(n){X(this,t);var o=q(this,e.call(this,n));return o.handleHeaderClick=o.handleHeaderClick.bind(o),o.handleUserContextMenu=o.handleUserContextMenu.bind(o),o.handleChannelContextMenu=o.handleChannelContextMenu.bind(o),o.handleTargetContextMenu=o.handleTargetContextMenu.bind(o),o}return Q(t,e),t.prototype.render=function(){var e=this.props,t=(e.onHeaderClick,e.guildId,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["onHeaderClick","guildId"]));return i.createElement(y.default,a({},t,{onHeaderClick:this.handleHeaderClick,onUserContextMenu:this.handleUserContextMenu,onChannelContextMenu:this.handleChannelContextMenu,onTargetContextMenu:this.handleTargetContextMenu}))},t.prototype.handleHeaderClick=function(){var e=this.props,t=e.onHeaderClick,n=e.log;t&&t(n)},t.prototype.handleUserContextMenu=function(e){var t=this.props,n=t.log,o=t.guildId;(0,M.openContextMenu)(e,function(e){return i.createElement(L.default,a({},e,{type:K.ContextMenuTypes.USER_AUDIT_LOG,guildId:o,user:n.user}))})},t.prototype.handleChannelContextMenu=function(e){var t=this.props,n=t.log,o=t.guildId,r=P.default.getGuild(o);null!=n.options.channel&&null!=r&&(0,M.openContextMenu)(e,function(e){return i.createElement(D.default,a({},e,{type:K.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:r,channel:n.options.channel}))})},t.prototype.handleTargetContextMenu=function(e){var t=this.props,n=t.log,o=t.guildId;(0,M.openContextMenu)(e,function(e){switch(n.targetType){case K.AuditLogTargetTypes.CHANNEL:var t=U.default.getChannel(n.targetId),r=P.default.getGuild(o);return null!=t&&null!=r?i.createElement(D.default,a({},e,{type:K.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:r,channel:t})):i.createElement(w.default,a({},e,{id:n.targetId}));case K.AuditLogTargetTypes.USER:var l=H.default.getUser(n.targetId);if(null!=l)return i.createElement(L.default,a({},e,{type:K.ContextMenuTypes.USER_AUDIT_LOG,guildId:o,user:l}))}return null})},t}(i.PureComponent),ie=r(R.default,{}),le=function(e){function t(n){X(this,t);var o=q(this,e.call(this,n));return o._clickedInside=!1,o.state={expandedId:null,lastExpandedId:null,userFilterQuery:"",actionFilterQuery:""},u.default.bindAll(o,["renderActionQuickSelectItem","renderUserQuickSelectItem","renderHeaderDropdowns","handleFilterActionChange","handleFilterUserChange","handleHeaderClick","handleOutsideClick","handleContentClick","handleOnScroll","handleSetScrollerRef","handleUserFilterQueryChange","handleUserFilterQueryClear","handleActionFilterQueryChange","handleActionFilterQueryClear","handleSetExpandedRef","handleSetLastExpandedRef","handleFetchNextPage"]),o}return Q(t,e),t.prototype.componentDidMount=function(){(0,p.fetchLogs)(this.props.guildId),document.addEventListener("click",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick)},t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.state.expandedId!==t.expandedId&&(this._prevRects=this.getRects())},t.prototype.componentDidUpdate=function(e,t){this.state.expandedId!==t.expandedId&&this.fixScroll(),!this.props.showLoadMore&&this.props.logs.length!==e.logs.length&&null!=this._scrollerRef&&this.isScrollerAtBottom(this._scrollerRef)&&(0,p.fetchNextLogPage)(this.props.guildId,!0)},t.prototype.isScrollerAtBottom=function(e){var t=e.getScrollData(),n=t.offsetHeight,o=t.scrollHeight;return t.scrollTop+n>=o},t.prototype.fixScroll=function(){var e=this._scrollerRef;if(null!=e){var t=this.getRects(),n=this._prevRects;if(null!=t.expanded&&null!=t.lastExpanded&&null!=n.expanded&&!(t.expanded.top<t.lastExpanded.top)){var o=n.expanded.height-t.lastExpanded.height,r=e.getScrollData().scrollTop-o;e.scrollTo(r)}}},t.prototype.getRects=function(){var e={lastExpanded:null,expanded:null};if(null!=this._lastExpandedRef){var t=l.default.findDOMNode(this._lastExpandedRef);null!=t&&t instanceof Element&&(e.lastExpanded=t.getBoundingClientRect())}if(null!=this._expandedRef){var n=l.default.findDOMNode(this._expandedRef);null!=n&&n instanceof Element&&(e.expanded=n.getBoundingClientRect())}return e},t.prototype.renderActionQuickSelectItem=function(e,t){var n=this,o=(0,_.getActionType)(e.value),a=(0,_.getTargetType)(e.value);return r(O.default,{className:Y.default.actionItem,selected:e.selected,onClick:function(){return n.handleFilterActionChange(e)}},t,r(E.AuditLogIcon,{themeOverride:e.selected?K.ThemeTypes.DARK:null,actionType:o,targetType:a,action:e.value}),r(C.default.Child,{},void 0,e.label))},t.prototype.renderUserQuickSelectItem=function(e,t){var n=this,o=null;if(e.label instanceof V.default){var a=e.label;o=[r(C.default.Child,{grow:0},"avatar",r(g.default,{size:g.default.Sizes.SMALL,src:a.getAvatarURL()})),r(C.default.Child,{className:Y.default.userText},"user-text",r("span",{className:Y.default.username},void 0,a.username),r("span",{className:Y.default.discriminator},void 0,"#",a.discriminator))]}else o=[r(C.default.Child,{grow:0,shrink:0},"avatar",r(v.default,{name:v.default.Names.MEMBERS,width:30,height:30,foreground:"audit-log-members-icon-fg"})),r(C.default.Child,{},"user-text",e.label)];return r(O.default,{selected:e.selected,onClick:function(){return n.handleFilterUserChange(e)},style:{height:"auto"}},t,o)},t.prototype.renderUserQuickSelectValue=function(e){return e instanceof V.default?e.username:e.valueLabel||e.label},t.prototype.renderActionQuickSelectValue=function(e){return e.valueLabel||e.label},t.prototype.renderHeaderDropdowns=function(){var e=this.props,t=e.actionFilter,n=e.hide,o=e.userIdFilter,i=e.moderators,l=this.state,u=l.userFilterQuery,f=l.actionFilterQuery;if(n)return null;var c=[{value:K.AuditLogActions.ALL,label:W.default.Messages.GUILD_SETTINGS_FILTER_ALL_ACTIONS,valueLabel:W.default.Messages.GUILD_SETTINGS_FILTER_ALL},{value:K.AuditLogActions.GUILD_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_GUILD_UPDATE},{value:K.AuditLogActions.CHANNEL_CREATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_CREATE},{value:K.AuditLogActions.CHANNEL_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_UPDATE},{value:K.AuditLogActions.CHANNEL_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_DELETE},{value:K.AuditLogActions.CHANNEL_OVERWRITE_CREATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_CREATE},{value:K.AuditLogActions.CHANNEL_OVERWRITE_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_UPDATE},{value:K.AuditLogActions.CHANNEL_OVERWRITE_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_DELETE},{value:K.AuditLogActions.MEMBER_KICK,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_KICK},{value:K.AuditLogActions.MEMBER_PRUNE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_PRUNE},{value:K.AuditLogActions.MEMBER_BAN_ADD,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_ADD},{value:K.AuditLogActions.MEMBER_BAN_REMOVE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_REMOVE},{value:K.AuditLogActions.MEMBER_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_UPDATE},{value:K.AuditLogActions.MEMBER_ROLE_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_ROLE_UPDATE},{value:K.AuditLogActions.ROLE_CREATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_CREATE},{value:K.AuditLogActions.ROLE_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_UPDATE},{value:K.AuditLogActions.ROLE_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_DELETE},{value:K.AuditLogActions.INVITE_CREATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_CREATE},{value:K.AuditLogActions.INVITE_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_UPDATE},{value:K.AuditLogActions.INVITE_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_DELETE},{value:K.AuditLogActions.WEBHOOK_CREATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_CREATE},{value:K.AuditLogActions.WEBHOOK_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_UPDATE},{value:K.AuditLogActions.WEBHOOK_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_DELETE},{value:K.AuditLogActions.EMOJI_CREATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_CREATE},{value:K.AuditLogActions.EMOJI_UPDATE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_UPDATE},{value:K.AuditLogActions.EMOJI_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_DELETE},{value:K.AuditLogActions.MESSAGE_DELETE,label:W.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_DELETE}].map(function(e){return a({},e,{selected:e.value===t})}),p=c.filter(function(e){return(0,s.default)(f.toLowerCase(),e.label.toLowerCase())}),h=c.find(function(e){var n=e.value;return t===n}),_={query:f,onChange:this.handleActionFilterQueryChange,onClear:this.handleActionFilterQueryClear,placeholder:W.default.Messages.SEARCH_ACTIONS},E={label:W.default.Messages.GUILD_SETTINGS_FILTER_ALL_USERS,valueLabel:W.default.Messages.GUILD_SETTINGS_FILTER_ALL,value:null,selected:null==o},y=[E].concat(i),g=y.filter(function(e){var t=u.toLowerCase();return e instanceof V.default?(0,s.default)(t,e.username.toLowerCase()):(0,s.default)(t,e.label)}).map(function(e){return e instanceof V.default?{label:e,value:e.id,selected:e.id===o}:e}),v=y.find(function(e){return e instanceof V.default?e.id===o:e.value===o})||E,m={query:u,onChange:this.handleUserFilterQueryChange,onClear:this.handleUserFilterQueryClear,placeholder:W.default.Messages.SEARCH_MEMBERS};return[r(C.default.Child,{},"user-filter",r(b.default,{popoutId:J,popoutClassName:(0,d.default)(Y.default.guildSettingsAuditLogsUserFilterPopout,$.default.elevationBorderHigh),items:g,renderItem:this.renderUserQuickSelectItem,renderValue:this.renderUserQuickSelectValue,value:v,onChange:this.handleFilterUserChange,label:W.default.Messages.GUILD_SETTINGS_FILTER_USER,searchProps:m,popoutProps:{preventInvert:!0,position:"bottom"}})),r(C.default.Child,{},"action-filter",r(b.default,{popoutId:Z,popoutClassName:(0,d.default)(Y.default.guildSettingsAuditLogsUserFilterPopout,$.default.elevationBorderLow),items:p,renderItem:this.renderActionQuickSelectItem,renderValue:this.renderActionQuickSelectValue,value:h,onChange:this.handleFilterActionChange,label:W.default.Messages.GUILD_SETTINGS_FILTER_ACTION,searchProps:_,popoutProps:{preventInvert:!0,position:"bottom"}}))]},t.prototype.renderHeader=function(){return r(C.default,{direction:C.default.Direction.VERTICAL,className:Y.default.customHeader},void 0,r(C.default,{align:C.default.Align.CENTER},void 0,r(A.FormTitle,{tag:A.FormTitleTags.H2,className:Y.default.marginReset},void 0,W.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG),this.renderHeaderDropdowns()),r(A.FormDivider,{className:(0,d.default)(Y.default.marginBottom20,Y.default.marginTop20)}))},t.prototype.renderSpinner=function(){return r(I.default,{type:I.default.Type.SPINNING_CIRCLE})},t.prototype.renderContent=function(){var e=this,t=this.state,o=t.expandedId,a=t.lastExpandedId,l=this.props,u=l.logs,s=l.theme,d=l.hide,f=l.isInitialLoading,c=l.isLoading,p=l.hasError,h=l.guildId;if(d)return ie;if(c||f)return this.renderSpinner();if(0===u.length){var _=p?W.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_BODY:W.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_BODY,E=p?W.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_TITLE:W.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_TITLE;return r(T.default,{theme:s,className:Y.default.marginTop40},void 0,r(m.EmptyStateImage,{darkSrc:n(7811),lightSrc:n(7810),width:272,height:130}),r(m.EmptyStateText,{note:_,style:{maxWidth:300}},void 0,E))}return u.map(function(t){var n=o===t.id,r=a===t.id,l=n?e.handleSetExpandedRef:r?e.handleSetLastExpandedRef:null;return i.createElement(ae,{guildId:h,ref:l,className:Y.default.marginBottom8,onHeaderClick:e.handleHeaderClick,onContentClick:e.handleContentClick,log:t,key:t.id,expanded:n})})},t.prototype.renderLoadMore=function(){var e=this.props,t=e.showLoadMore,n=e.hasOlderLogs,o=e.hide;if(t&&n&&!o)return r(S.default,{color:S.default.Colors.PRIMARY,className:Y.default.marginTop20,onClick:this.handleFetchNextPage},void 0,W.default.Messages.GUILD_SETTINGS_AUDIT_LOG_LOAD_MORE)},t.prototype.render=function(){var e=this.props,t=e.isLoadingNextPage,n=e.hide,o=e.isLoading,a=e.theme===K.ThemeTypes.DARK?K.Colors.PRIMARY_600:K.Colors.WHITE;return r("div",{className:"custom-column guild-settings-audit-logs"},void 0,r("div",{className:"custom-container"},void 0,i.createElement(N.default,{backgroundColor:a,track:!0,theme:N.default.Themes.GHOST,className:"custom-scroller",onScroll:this.handleOnScroll,ref:this.handleSetScrollerRef},r(C.default,{direction:C.default.Direction.VERTICAL,style:{paddingBottom:60}},void 0,this.renderHeader(),this.renderContent(),this.renderLoadMore(),!t||n||o?null:this.renderSpinner()))))},t.prototype.handleFilterActionChange=function(e){var t=e.value;h.default.close(Z),(0,p.filterByAction)(t,this.props.guildId)},t.prototype.handleFilterUserChange=function(e){var t=e.value;h.default.close(J),(0,p.filterByUserId)(t,this.props.guildId)},t.prototype.handleHeaderClick=function(e){var t=this.state.expandedId;t!==e.id?(this._clickedInside=!0,this.setState({expandedId:e.id,lastExpandedId:t})):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},t.prototype.handleOutsideClick=function(){null==this.state.expandedId||this._clickedInside?null!=this.state.expandedId&&(this._clickedInside=!1):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},t.prototype.handleContentClick=function(e){this._clickedInside=!0,e.stopPropagation()},t.prototype.handleSetScrollerRef=function(e){this._scrollerRef=e},t.prototype.handleOnScroll=function(e){this.isScrollerAtBottom(e)&&this.handleFetchNextPage()},t.prototype.handleFetchNextPage=function(){(0,p.fetchNextLogPage)(this.props.guildId)},t.prototype.handleUserFilterQueryChange=function(e){this.setState({userFilterQuery:e}),h.default.rerender(J)},t.prototype.handleUserFilterQueryClear=function(){this.setState({userFilterQuery:""}),h.default.rerender(J)},t.prototype.handleActionFilterQueryChange=function(e){this.setState({actionFilterQuery:e}),h.default.rerender(Z)},t.prototype.handleActionFilterQueryClear=function(){this.setState({actionFilterQuery:""}),h.default.rerender(Z)},t.prototype.handleSetExpandedRef=function(e){this._expandedRef=e},t.prototype.handleSetLastExpandedRef=function(e){this._lastExpandedRef=e},t}(i.PureComponent);t.default=f.default.connectStores([F.default,c.default,P.default,U.default,H.default,k.default,x.default,G.default],function(){var e=F.default.getGuildId(),t=P.default.getGuild(e),n=c.default.logs;return{guildId:e,moderators:c.default.userIds.map(function(e){return H.default.getUser(e)}),isInitialLoading:c.default.isInitialLoading,isLoading:c.default.isLoading,isLoadingNextPage:c.default.isLoadingNextPage,showLoadMore:c.default.groupedFetchCount>2,hasError:c.default.hasError,hasOlderLogs:c.default.hasOlderLogs,logs:null!=n&&null!=t?re(n,t):[],actionFilter:c.default.actionFilter,userIdFilter:c.default.userIdFilter,theme:x.default.theme,hide:G.default.enabled}})(le),e.exports=t.default},7826:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(3)),l=g(n(941)),u=n(262),s=g(u),d=n(64),f=g(d),c=g(n(5986)),p=g(n(12)),h=g(n(522)),_=g(n(366)),E=g(n(6)),y=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.setMFAEnabled=o.setMFAEnabled.bind(o),o.handleEnableMFA=o.handleEnableMFA.bind(o),o.handleDisableMFA=o.handleDisableMFA.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderEnableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,o=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return r(f.default,{disabled:!o,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.PRIMARY,onClick:this.handleEnableMFA},void 0,E.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_ENABLE)},t.prototype.renderDisableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,o=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return r(f.default,{disabled:!o,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.RED,onClick:this.handleDisableMFA},void 0,E.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_DISABLE)},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.mfaLevel;return r(l.default,{className:"guild-settings-security",title:E.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL},void 0,r(s.default,{type:u.Types.DESCRIPTION,className:"margin-bottom-20"},void 0,E.default.Messages.GUILD_SECURITY_REQ_MFA_BODY.format()," ",t.mfaEnabled?null:E.default.Messages.GUILD_SECURITY_REQ_MFA_ENABLE.format({onClick:this.openUserAccountModal})),n===y.MFALevels.ELEVATED?this.renderDisableButton():this.renderEnableButton())},t.prototype.setMFAEnabled=function(e){var t=this.props.guild;_.default.updateMFALevel({guildId:t.id,level:e?y.MFALevels.ELEVATED:y.MFALevels.NONE,isEnabled:!e})},t.prototype.handleEnableMFA=function(){this.setMFAEnabled(!0)},t.prototype.handleDisableMFA=function(){this.setMFAEnabled(!1)},t.prototype.openUserAccountModal=function(){h.default.open(y.UserSettingsSections.ACCOUNT)},t}(a.PureComponent);t.default=i.default.connectStores([p.default,c.default],function(){var e=c.default.getProps(),t=e.mfaLevel,n=e.guild;return{currentUser:p.default.getCurrentUser(),mfaLevel:t,guild:n}})(v),e.exports=t.default},7827:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(3)),l=S(n(6)),u=S(n(7826)),s=S(n(6001)),d=S(n(941)),f=n(75),c=n(262),p=S(c),h=S(n(526)),_=S(n(5990)),E=S(n(14)),y=S(n(144)),g=S(n(5986)),v=S(n(26)),m=S(n(112)),T=n(6692),I=S(n(366)),C=n(0);function S(e){return e&&e.__esModule?e:{default:e}}var N=r(s.default,{}),A=r(h.default,{className:"margin-top-40 margin-bottom-40"}),O=r(h.default,{className:"margin-top-40 margin-bottom-40"}),b=r(u.default,{}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleVerificationLevelChange=o.handleVerificationLevelChange.bind(o),o.handleExplicitContentFilterChange=o.handleExplicitContentFilterChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVerificationLevelSection=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return r(d.default,{title:l.default.Messages.FORM_LABEL_VERIFICATION_LEVEL},void 0,r(p.default,{type:c.Types.DESCRIPTION,className:"margin-bottom-20"},void 0,l.default.Messages.FORM_HELP_VERIFICATION_LEVEL.format()),r(_.default,{value:n.verificationLevel,options:(0,T.generateVerificationLevelOptions)(),disabled:!t,onChange:this.handleVerificationLevelChange}))},t.prototype.renderExplicitContentFilter=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return r(d.default,{title:l.default.Messages.FORM_LABEL_EXPLICIT_CONTENT_FILTER},void 0,r(p.default,{type:c.Types.DESCRIPTION,className:"margin-bottom-20"},void 0,l.default.Messages.FORM_HELP_EXPLICIT_CONTENT_FILTER.format()),r(_.default,{value:n.explicitContentFilter,options:(0,T.generateContentFilterOptions)(),disabled:!t,onChange:this.handleExplicitContentFilterChange}))},t.prototype.render=function(){var e=this.props,t=e.hide,n=e.guild,o=e.currentUserId;if(t)return N;var a=!1;return o===n.ownerId&&(a=!0),r(d.default,{title:l.default.Messages.MODERATION,tag:f.Tags.H2},void 0,this.renderVerificationLevelSection(),A,this.renderExplicitContentFilter(),a&&O,a&&b)},t.prototype.handleVerificationLevelChange=function(e){var t=e.value;I.default.updateGuild({verificationLevel:t})},t.prototype.handleExplicitContentFilterChange=function(e){var t=e.value;I.default.updateGuild({explicitContentFilter:t})},t}(a.PureComponent);t.default=i.default.connectStores([g.default,v.default,E.default,m.default,y.default],function(){var e=g.default.getProps().guild,t=!1;return null!=e&&(t=m.default.can(C.Permissions.MANAGE_GUILD,e)),{currentUserId:E.default.getId(),canManageGuild:t,guild:e,hide:y.default.enabled}})(M),e.exports=t.default},7828:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(40)),l=p(n(9)),u=p(n(87)),s=n(64),d=p(s),f=p(n(6)),c=p(n(5932));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,o=e.region,a=void 0;if("unknown"===o.id)a=n(6075);else{var i=o.id.replace(/^vip-/,"");try{a=n(6694)("./"+i+".png")}catch(e){a=n(6075)}}var u={backgroundImage:'url("'+a+'")'};return r("div",{className:(0,l.default)(c.default.flag,(t={},t[c.default.vip]=o.vip,t)),style:u})},_=function(e){var t=e.region.name.replace(/ \(VIP\)$/,"");return r("div",{className:c.default.name},void 0,t)},E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={hover:!1},o.handleClick=o.handleClick.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o.handleMouseEnter=o.handleMouseEnter.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.onClick;e.disabled||t()},t.prototype.handleMouseLeave=function(){this.setState({hover:!1})},t.prototype.handleMouseEnter=function(){this.setState({hover:!0})},t.prototype.render=function(){var e,t=this.props,n=t.region,o=t.error,a=t.disabled,p=this.state.hover,E=s.ButtonColors.GREY;return a||(p?E=s.ButtonColors.BRAND:!0===o&&(E=s.ButtonColors.RED)),r(u.default,{className:(0,l.default)(c.default.container,(e={},e[c.default.hover]=p,e[c.default.disabled]=a,e[c.default.error]=o,e)),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r(i.default,{className:c.default.layout},void 0,r(i.default,{className:c.default.input,align:i.default.Align.CENTER},void 0,r(i.default.Child,{grow:0,shrink:0},void 0,r(h,{region:n})),r(i.default.Child,{},void 0,r(_,{region:n}))),r(i.default,{shrink:1,grow:0,style:{margin:0}},void 0,r(d.default,{className:c.default.button,onClick:function(){},size:s.ButtonSizes.MIN,color:E,disabled:a,look:s.ButtonLooks.GHOST},void 0,f.default.Messages.CHANGE))))},t}(a.PureComponent);E.defaultProps={disabled:!1},t.default=E,e.exports=t.default},7829:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7830:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7831:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7832:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},7833:function(e,t,n){e.exports=n.p+"1d8d4e2b3fd0e542b6d37cbfa156d55e.png"},7834:function(e,t,n){e.exports=n.p+"3a3ec02f3c9193e85bda10f5d2a42574.png"},7835:function(e,t,n){e.exports=n.p+"92cd1f9eabd48ec32dc2ecef617f706b.png"},7836:function(e,t,n){e.exports=n.p+"64f37efd5319b9b581557604864f042a.png"},7837:function(e,t,n){e.exports=n.p+"3a79cdd1d4af225247f2ba574b97ae78.png"},7838:function(e,t,n){e.exports=n.p+"f23c5c28c4429691f7c54af93876d661.png"},7839:function(e,t,n){e.exports=n.p+"a92f116201fa7ff2b4acbb39f144ec60.png"},7840:function(e,t,n){e.exports=n.p+"7fa2adf98f26db34178bb30a63dabe8c.png"},7841:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},7842:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},7843:function(e,t,n){e.exports=n.p+"7beab7b17eaa9ff7ceed3e5b1af274c2.png"},7844:function(e,t,n){e.exports=n.p+"c9f51873ae719a6b4b8c6724362e999e.png"},7870:function(e,t,n){"use strict";t.__esModule=!0,t.GuildSettingsOverviewNotice=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=B(n(3)),u=B(n(6)),s=B(n(8)),d=B(n(9)),f=B(n(6269)),c=B(n(6132)),p=n(6131),h=B(n(6078)),_=B(n(18)),E=B(n(5986)),y=B(n(112)),g=B(n(6076)),v=B(n(366)),m=B(n(6267)),T=B(n(38)),I=B(n(939)),C=B(n(266)),S=B(n(941)),N=n(75),A=B(N),O=B(n(6693)),b=n(6025),M=B(n(40)),R=n(262),L=B(R),D=B(n(526)),w=n(64),P=B(w),U=B(n(6074)),G=B(n(944)),H=B(n(5990)),k=B(n(7828)),x=B(n(81)),F=n(0),j=B(n(5931));function B(e){return e&&e.__esModule?e:{default:e}}function V(e){var t=e.label,n=e.channel,o=e.category,r=(0,b.getIconNameForChannel)(n),i=null!=o?o.toString():null;return a(O.default,{title:t,iconType:r,subtitle:i})}function K(e){return{value:e.id,label:e.toString(),channel:e,category:_.default.getChannel(e.parent_id)}}t.GuildSettingsOverviewNotice=l.default.connectStores([E.default],function(){var e=E.default.getProps(),t=e.guild,n=e.submitting;return{guild:t,submitting:n,onReset:function(){v.default.init(t.id)},onSave:function(){v.default.saveGuild(t.id,{name:t.name,region:t.region,icon:t.icon,splash:t.splash,afkChannelId:t.afkChannelId,afkTimeout:t.afkTimeout,systemChannelId:t.systemChannelId,verificationLevel:t.verificationLevel,defaultMessageNotifications:t.defaultMessageNotifications,explicitContentFilter:t.explicitContentFilter})}}})(U.default);var W=a(D.default,{className:"margin-bottom-40"}),Y=a(D.default,{className:"margin-bottom-40"}),$=a(D.default,{className:"margin-bottom-40"}),z=a(D.default,{className:"margin-top-40 margin-bottom-20"}),X=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s.default.bindAll(o,["handleNameChange","handleIconChange","handleAFKChannelChange","handleAFKTimeoutChange","handleSystemChannelChange","handleDefaultMessageNotificationsChange","handleSplashChange","handleRegionSelectorClick","handleRegionChange"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){null==this.props.regions&&m.default.fetchRegions(this.props.guild.id)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.guild.id!==e.guild.id&&(null==g.default.getRegions(e.guild.id)&&m.default.fetchRegions(e.guild.id))},t.prototype.handleNameChange=function(e){v.default.updateGuild({name:e})},t.prototype.handleIconChange=function(e){v.default.updateGuild({icon:e})},t.prototype.handleAFKChannelChange=function(e){var t=e.value;"NO_AFK_CHANNEL"===t&&(t=null),v.default.updateGuild({afkChannelId:t})},t.prototype.handleAFKTimeoutChange=function(e){var t=e.value;v.default.updateGuild({afkTimeout:parseInt(t,10)})},t.prototype.handleSystemChannelChange=function(e){var t=e.value;"NO_SYSTEM_CHANNEL"===t&&(t=null),v.default.updateGuild({systemChannelId:t})},t.prototype.handleDefaultMessageNotificationsChange=function(e){var t=e.value;v.default.updateGuild({defaultMessageNotifications:t})},t.prototype.handleSplashChange=function(e){v.default.updateGuild({splash:e})},t.prototype.handleRegionChange=function(e){var t=e.id;v.default.updateGuild({region:t})},t.prototype.handleRegionSelectorClick=function(){var e=this,t=this.props.regions;if(null!=t){var n=t.filter(function(e){return!e.deprecated});T.default.push(function(t){return i.createElement(p.RegionSelectModal,r({regions:n,onChange:e.handleRegionChange},t))})}},t.prototype.renderBaseSettings=function(){var e=this.props,t=e.guild,n=e.region,o=e.regions,r=e.errors,i=e.canManageGuild,l=null==o||0===o.length;return a(M.default,{className:(0,d.default)(j.default.guildSettingsBaseSection,"margin-bottom-40")},void 0,a(M.default,{basis:"50%",justify:M.default.Justify.BETWEEN},void 0,a(M.default.Child,{wrap:!0},void 0,a(f.default,{showIcon:!0,name:t.name,icon:t.icon,onChange:this.handleIconChange,disabled:!i,makeURL:function(e){return e&&x.default.getGuildIconURL({id:t.id,icon:e})}})),a(M.default,{direction:M.default.Direction.VERTICAL,align:M.default.Align.START,style:{maxWidth:180}},void 0,a(L.default,{type:R.Types.DESCRIPTION,className:"margin-bottom-8"},void 0,u.default.Messages.GUILD_SETTINGS_ICON_RECOMMEND),a(P.default,{look:w.ButtonLooks.OUTLINED,color:w.ButtonColors.WHITE,disabled:!i,className:"margin-top-8"},void 0,u.default.Messages.UPLOAD_IMAGE,a(h.default,{onChange:this.handleIconChange,disabled:!i})))),a(M.default.Child,{basis:"50%"},void 0,a(C.default,{title:u.default.Messages.FORM_LABEL_SERVER_NAME,className:"margin-bottom-20"},void 0,a(I.default,{type:"text",disabled:!i,value:t.name,maxLength:100,onChange:this.handleNameChange,error:r.name})),a(C.default,{title:u.default.Messages.FORM_LABEL_SERVER_REGION},void 0,a(k.default,{disabled:!i||l,region:n,onClick:this.handleRegionSelectorClick,error:null!=r.region}))))},t.prototype.renderAFKSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,o=e.channels,r=null!=t.afkTimeout?""+t.afkTimeout:null,i=t.afkChannelId||"NO_AFK_CHANNEL",l=[{value:"60",label:u.default.Messages.DURATION_MINUTES.format({minutes:1})},{value:"300",label:u.default.Messages.DURATION_MINUTES.format({minutes:5})},{value:"900",label:u.default.Messages.DURATION_MINUTES.format({minutes:15})},{value:"1800",label:u.default.Messages.DURATION_MINUTES.format({minutes:30})},{value:"3600",label:u.default.Messages.DURATION_HOURS.format({hours:1})}],d=(0,s.default)(o).filter(function(e){return e.guild_id===t.id}).filter(function(e){return e.type===F.ChannelTypes.GUILD_VOICE}).map(function(e){return K(e)}).value();return d.unshift({value:"NO_AFK_CHANNEL",label:u.default.Messages.NO_AFK_CHANNEL}),a(S.default,{className:"margin-bottom-40"},void 0,a(M.default,{},void 0,a(M.default.Child,{},void 0,a(C.default,{title:u.default.Messages.FORM_LABEL_AFK_CHANNEL},void 0,a(G.default,{value:i,clearable:!1,searchable:!1,options:d,disabled:!n,optionRenderer:V,valueRenderer:V,onChange:this.handleAFKChannelChange}))),a(M.default.Child,{},void 0,a(C.default,{title:u.default.Messages.FORM_LABEL_AFK_TIMEOUT},void 0,a(G.default,{value:r,clearable:!1,searchable:!1,options:l,disabled:"NO_AFK_CHANNEL"===i||!n,onChange:this.handleAFKTimeoutChange})))),a(L.default,{className:"margin-top-8",type:R.Types.DESCRIPTION},void 0,u.default.Messages.FORM_HELP_AFK_CHANNEL))},t.prototype.renderJoinNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,o=e.channels,r=t.systemChannelId||"NO_SYSTEM_CHANNEL",i=(0,s.default)(o).filter(function(e){return e.getGuildId()===t.id}).filter(function(e){return e.type===F.ChannelTypes.GUILD_TEXT}).map(function(e){return K(e)}).value();return i.unshift({value:"NO_SYSTEM_CHANNEL",label:u.default.Messages.NO_SYSTEM_CHANNEL}),a(S.default,{className:"margin-bottom-40"},void 0,a(A.default,{},void 0,u.default.Messages.FORM_LABEL_SYSTEM_CHANNEL),a(G.default,{value:r,clearable:!1,searchable:!1,options:i,disabled:!n,optionRenderer:V,valueRenderer:V,onChange:this.handleSystemChannelChange}),a(L.default,{className:"margin-top-8",type:R.Types.DESCRIPTION},void 0,u.default.Messages.FORM_HELP_SYSTEM_CHANNEL))},t.prototype.renderNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,o=[{name:u.default.Messages.FORM_LABEL_ALL_MESSAGES,value:F.UserNotificationSettings.ALL_MESSAGES},{name:u.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:F.UserNotificationSettings.ONLY_MENTIONS}];return a(S.default,{className:"margin-bottom-40"},void 0,a(A.default,{},void 0,u.default.Messages.FORM_LABEL_DEFAULT_NOTIFICATION_SETTINGS),a(L.default,{type:R.Types.DESCRIPTION,className:"margin-bottom-20"},void 0,u.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_INTRO),a(L.default,{type:R.Types.DESCRIPTION,className:"margin-bottom-20"},void 0,u.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_PROTIP.format({videoURL:"https://www.youtube.com/watch?v=zGl796352RI"})),a(H.default,{options:o,value:t.defaultMessageNotifications,disabled:!n,onChange:this.handleDefaultMessageNotificationsChange}))},t.prototype.renderServerInviteBGSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild;return a(S.default,{title:u.default.Messages.GUILD_SETTINGS_SERVER_INVITE_BACKGROUND,className:j.default.guildSettingsSplashSection},void 0,a(M.default,{},void 0,a(M.default,{basis:"50%",direction:M.default.Direction.VERTICAL,align:M.default.Align.START},void 0,a(L.default,{type:R.Types.DESCRIPTION,className:"margin-bottom-8"},void 0,u.default.Messages.GUILD_SETTINGS_SPLASH_RECOMMEND),a(P.default,{disabled:!n,look:w.ButtonLooks.OUTLINED,color:w.ButtonColors.PRIMARY,className:"margin-top-8"},void 0,u.default.Messages.UPLOAD_BACKGROUND,a(h.default,{disabled:!n,onChange:this.handleSplashChange}))),a(M.default.Child,{wrap:!0,basis:"50%"},void 0,a(c.default,{avatar:t.splash,size:null,makeURL:function(e){return e&&x.default.getGuildSplashURL({id:t.id,splash:e})},disabled:!n,onChange:this.handleSplashChange,hint:u.default.Messages.CHANGE_SPLASH}))))},t.prototype.render=function(){var e=this.props.guild.hasFeature(F.GuildFeatures.INVITE_SPLASH);return a(S.default,{title:u.default.Messages.SERVER_OVERVIEW,tag:N.Tags.H2},void 0,this.renderBaseSettings(),W,this.renderAFKSection(),Y,this.renderJoinNotificationSection(),$,this.renderNotificationSection(),e&&z,e&&this.renderServerInviteBGSection())},t}(i.PureComponent);t.default=l.default.connectStores([_.default,E.default,y.default,g.default],function(){var e=E.default.getProps(),t=e.guild,n=e.errors,o=e.submitting,r=g.default.getRegions(t.id),a={id:"unknown",name:u.default.Messages.UNKNOWN_REGION,vip:!1};null!=r&&(a=r.find(function(e){return e.id===t.region})||a);var i=((y.default.getGuildPermissions(t.id)||0)&F.Permissions.MANAGE_GUILD)===F.Permissions.MANAGE_GUILD;return{channels:_.default.getChannels(),canManageGuild:i,regions:r,region:a,guild:t,errors:n,submitting:o}})(X)},7871:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(6)),l=_(n(123)),u=_(n(75)),s=_(n(266)),d=_(n(67)),f=_(n(524)),c=_(n(939)),p=_(n(64)),h=_(n(5941));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={textVal:"",error:null},o.handleTextChange=o.handleTextChange.bind(o),o.handleSubmit=o.handleSubmit.bind(o),o.handleCancel=o.handleCancel.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.header,n=e.className,o=e.cancelText,_=e.confirmText,E=e.instructionText,y=e.children,g=this.state,v=g.error,m=g.textVal,T=a.Children.count(y)?r(f.default,{type:f.default.Types.WARNING,className:h.default.card},void 0,r(d.default,{color:d.default.Colors.WHITE,size:d.default.Sizes.MEDIUM},void 0,y)):null;return r(l.default,{tag:"form",onSubmit:this.handleSubmit,className:n},void 0,r(l.default.Header,{},void 0,r(u.default,{tag:u.default.Tags.H4},void 0,t)),r(l.default.Content,{},void 0,T,r(s.default,{title:E,className:h.default.spacing},void 0,r(c.default,{id:"text-entry-confirm",type:"text",value:m,autoComplete:"off",onChange:this.handleTextChange,autoFocus:!0}),v?r(d.default,{color:d.default.Colors.RED,size:d.default.Sizes.SMALL,className:h.default.error},void 0,v):null)),r(l.default.Footer,{},void 0,r(p.default,{type:"submit",color:p.default.Colors.RED},void 0,_||i.default.Messages.CONFIRM),r(p.default,{onClick:this.handleCancel,look:p.default.Looks.LINK,color:p.default.Colors.PRIMARY},void 0,o||i.default.Messages.CANCEL)))},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.state.textVal,n=this.props,o=n.onConfirm,r=n.validationText,a=n.errorText;t.toLowerCase()===r.toLowerCase()?(o&&o(),this.handleCancel()):this.setState({error:a})},t.prototype.handleCancel=function(){var e=this.props.onClose;e&&e()},t.prototype.handleTextChange=function(e){this.setState({textVal:e})},t}(a.PureComponent);E.key=function(){return"text-entry-confirm-modal"},t.default=E,e.exports=t.default},7872:function(e,t,n){"use strict";t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=E(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(43))),l=E(n(57)),u=E(n(6)),s=E(n(34)),d=E(n(379)),f=E(n(230)),c=n(33),p=E(n(366)),h=n(6703),_=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"GuildSettingsItem",mixins:[l.default,f.default],propTypes:{guild:a.default.object.isRequired},render:function(){var e=this;if(__OVERLAY__)return null;var t=this.props.guild;return this.can(_.Permissions.MANAGE_GUILD,t)||this.can(_.Permissions.MANAGE_ROLES,t)||this.can(_.Permissions.BAN_MEMBERS,t)||this.can(_.Permissions.MANAGE_NICKNAMES,t)||this.can(_.Permissions.MANAGE_EMOJIS,t)||this.can(_.Permissions.MANAGE_WEBHOOKS,t)||this.can(_.Permissions.VIEW_AUDIT_LOG,t)?r(d.default,{label:u.default.Messages.SERVER_SETTINGS,action:function(){return e.handleShowSettings()},render:this.renderSubMenuItems}):null},renderSubMenuItems:function(){var e=this,t=this.props.guild;return(0,h.getGuildSettingsSections)(t).map(function(t){var n=t.section,o=t.label;return n!==_.GuildSettingsSections.DELETE?r(s.default,{action:function(){return e.handleShowSettings(n)},label:o},n):null})},handleShowSettings:function(e){(0,c.closeContextMenu)(),p.default.open(this.props.guild.id,e)}});t.default=y,e.exports=t.default},994:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(1012),u=(r=l)&&r.__esModule?r:{default:r};var s=a("path",{d:"M13.62,5.22666667 C13.8666667,5.88 14,6.59333333 14,7.33333333 L14,12.6666667 C14,13.7712362 12.6666667,14 12.6666667,14 L10,14 L10,8.84666667 L6,12.8466667 L6,14 L4.84666667,14 L3.18,15.6666667 L2.33333333,14.8133333 L14.1466667,3 L15,3.84666667 L13.62,5.22666667 Z M8,1.33333333 C9.68666667,1.33333333 11.2133333,2.02666667 12.3,3.14666667 L11.36,4.09333333 C10.5133333,3.21333333 9.33333333,2.66666667 8,2.66666667 C5.42267117,2.66666667 3.33333333,4.7560045 3.33333333,7.33333333 L3.33333333,8.66666667 L6,8.66666667 L6,9.45333333 L2.33333333,13.1133333 C2.12666667,12.7933333 2,12.4133333 2,12 L2,7.33333333 C2,4.01962483 4.6862915,1.33333333 8,1.33333333 L8,1.33333333 Z M12.6666667,8.66666667 L12.6666667,7.33333333 C12.6666667,6.97333333 12.6266667,6.62666667 12.5533333,6.29333333 L10.18,8.66666667 L12.6666667,8.66666667 Z",transform:"translate(16 0) scale(-1 1)"}),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:u.default.icon},void 0,s)},t}(i.PureComponent);t.default=d,e.exports=t.default},995:function(e,t,n){"use strict";t.__esModule=!0;var o,r,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(1013),u=(r=l)&&r.__esModule?r:{default:r};var s=a("path",{fill:"#FFFFFF",d:"M10.6666667,6 C10.6666667,6.79333333 10.44,7.53333333 10.0666667,8.18666667 L9.24666667,7.36666667 C9.42666667,6.95333333 9.53333333,6.49333333 9.53333333,6 L10.6666667,6 L10.6666667,6 Z M8,6.10666667 L4,2.12 L4,2 C4,0.8954305 4.8954305,2.96059473e-16 6,0 C7.1045695,0 8,0.8954305 8,2 L8,6 L8,6.10666667 L8,6.10666667 Z M0.846666667,0.666666667 L12,11.82 L11.1533333,12.6666667 L8.36,9.87333333 C7.84666667,10.18 7.27333333,10.3866667 6.66666667,10.48 L6.66666667,12.6666667 L5.33333333,12.6666667 L5.33333333,10.48 C3.14666667,10.1533333 1.33333333,8.27333333 1.33333333,6 L2.46666667,6 C2.46666667,8 4.16,9.4 6,9.4 C6.54,9.4 7.06666667,9.27333333 7.54,9.05333333 L6.43333333,7.94666667 L6,8 C4.8954305,8 4,7.1045695 4,6 L4,5.52 L0,1.51333333 L0.846666667,0.666666667 Z",transform:"translate(2 1.5)"}),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:u.default.icon},void 0,s)},t}(i.PureComponent);t.default=d,e.exports=t.default}}]);
//# sourceMappingURL=4b4e74ba168886ff08e9.js.map