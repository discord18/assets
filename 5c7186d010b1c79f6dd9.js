(window.webpackJsonp=window.webpackJsonp||[]).push([[194,20],{1373:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,a=l(r(9)),o=l(r(25)),i=l(r(1237));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r=e.children,l=e.tag,s=void 0===l?"h2":l,u=e.isFlush,d=void 0!==u&&u;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(o.default,{className:(0,a.default)(i.default.heading,(t={},t[i.default.flush]=d,t)),color:o.default.Colors.WHITE,size:o.default.Sizes.LARGE,tag:s,weight:o.default.Weights.MEDIUM},void 0,r)};s.displayName="PageHeading";var u=s;t.default=u},1374:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,a=l(r(9)),o=l(r(25)),i=l(r(1238));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r=e.children,l=e.className,s=e.tag,u=void 0===s?"p":s,d=e.isFlush,f=void 0!==d&&d;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(o.default,{className:(0,a.default)(i.default.subheading,l,(t={},t[i.default.flush]=f,t)),color:o.default.Colors.PRIMARY_300,size:o.default.Sizes.MEDIUM_LARGE,tag:u,weight:o.default.Weights.NORMAL},void 0,r)};s.displayName="PageSubheading";var u=s;t.default=u},1375:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(1)),a=l(r(9)),o=s(r(177)),i=l(r(1239));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){var t,r;function l(){return e.apply(this,arguments)||this}return r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,l.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["className"]);return n.createElement(o.default,u({},r,{className:(0,a.default)(i.default.formStatusAlert,t)}))},l}(n.Component);t.default=d,d.displayName="FormStatusAlert",d.Types=o.AlertTypes},1381:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,a=l(r(9)),o=l(r(25)),i=l(r(1240));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r=e.children,l=e.className,s=e.isFlush,u=void 0!==s&&s,d=e.tag,f=void 0===d?"p":d;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(o.default,{className:(0,a.default)(i.default.heading,(t={},t[i.default.flush]=u,t),l),color:o.default.Colors.PRIMARY_400,size:o.default.Sizes.MEDIUM,tag:f,weight:o.default.Weights.NORMAL},void 0,r)};s.displayName="PageSectionSubheading";var u=s;t.default=u},1394:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,a=l(r(9)),o=l(r(69)),i=l(r(1247));function l(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.default)({SMALL:null,MEDIUM:null}),u=(0,o.default)({PRIMARY:null,RED:null}),d=function(e){var t,r=e.borderColor,o=void 0===r?u.PRIMARY:r,l=e.children,d=e.className,f=e.size,c=void 0===f?s.MEDIUM:f;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(i.default.wrapper,d,(t={},t[i.default.small]=c===s.SMALL,t[i.default.medium]=c===s.MEDIUM,t[i.default.borderPrimary]=o===u.PRIMARY,t[i.default.borderRed]=o===u.RED,t))},void 0,l)};d.displayName="Panel",d.BorderColor=u,d.Size=s;var f=d;t.default=f},1441:function(e,t,r){"use strict";t.__esModule=!0,t.sizeString=function(e){return a.default.filesize(e)},t.arrayBufferToString=void 0;var n,a=(n=r(1460))&&n.__esModule?n:{default:n};t.arrayBufferToString=function(e){return"string"==typeof e?e:String.fromCharCode.apply(null,new Uint16Array(e))}},1474:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=p(r(1)),o=c(r(9)),i=c(r(1475)),l=p(r(420)),s=c(r(425)),u=r(431),d=c(r(1246)),f=c(r(1263));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getAssetOptions=function(){var e=this;return this.props.assets.map(function(t){return{label:e.renderAsset(t),value:t.id}})},a.renderAsset=function(e){var t=(0,this.props.getAssetUri)(e),r=(0,u.isAssetVideo)(e)?h(l.default,{className:f.default.videoIcon,name:l.IconNames.VIDEO_CAMERA}):h(i.default,{className:f.default.image,assetUri:t||""});return h("div",{className:f.default.assetOption},void 0,h("div",{className:f.default.imageWrapper},void 0,r),h("div",{className:f.default.labelWrapper},void 0,(0,u.getAssetLabel)(e)))},a.render=function(){var e,t=this.props,r=t.onChange,n=t.selectedAssetId,a=t.restrictWidth,i=t.className,l=t.clearable,u=t.name;return h(s.default,{className:(0,o.default)((e={},e[d.default.restrictedWidth]=a,e),i),clearable:l,searchable:!1,onChange:r,options:this.getAssetOptions(),value:n,name:u})},n}(a.Component);t.default=v,v.displayName="AssetSelect",v.defaultProps={clearable:!1,restrictWidth:!1}},1475:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=u(r(1)),o=s(r(9)),i=u(r(53)),l=s(r(1262));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).imagePlaceholderRef=a.createRef(),t.state={isHovered:!1},t.getAssetStyle=function(){var e={backgroundImage:"url("+t.props.assetUri};if(null!=t.imagePlaceholderRef.current){var r=t.imagePlaceholderRef.current.getBoundingClientRect();e.position="fixed",e.left=r.left-r.width/2,e.top=r.top-r.height/2}return e},t.handleMouseEnter=function(){t.setState({isHovered:!0})},t.handleMouseLeave=function(){t.setState({isHovered:!1})},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.assetUri,r=e.className,n=this.state.isHovered;return d(a.Fragment,{},void 0,a.createElement("div",{ref:this.imagePlaceholderRef,className:(0,o.default)(l.default.placeholderImage,r),onMouseEnter:this.handleMouseEnter,style:{backgroundImage:"url("+t}}),n?i.createPortal(d("div",{className:(0,o.default)(l.default.image,this.props.className),style:this.getAssetStyle(),onMouseLeave:this.handleMouseLeave}),window.document.body):null)},n}(a.Component);t.default=f,f.displayName="ExpandOnHover"},1476:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=l(r(9)),i=l(r(1264));function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t=e.type,r=void 0===t?"wandering-cubes":t,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["type"]);return"spinning-circle"===r?u("div",{className:(0,o.default)(i.default.spinner,i.default["spinner-"+r])},void 0,u("div",{className:i.default.spinnerInner},void 0,u("svg",{className:i.default.circular,viewBox:"25 25 50 50"},void 0,u("circle",{className:i.default.path,cx:"50",cy:"50",r:"20"})))):a.createElement("span",s({className:i.default.spinner},n),u("span",{className:(0,o.default)(i.default.spinnerInner,i.default["spinner-"+r])},void 0,u("span",{className:i.default.spinnerItem}),u("span",{className:i.default.spinnerItem}),"pulsing-ellipsis"===r?u("span",{className:i.default.spinnerItem}):null))};d.displayName="Spinner";var f=d;t.default=f},1561:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=y(r(1)),o=g(r(9)),i=g(r(69)),l=g(r(40)),s=y(r(420)),u=g(r(1394)),d=g(r(180)),f=g(r(422)),c=r(431),p=r(1441),h=g(r(437)),v=r(21),m=g(r(1272));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function b(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var O=40,_=(0,i.default)({LOCAL_ASSET:null,REMOTE_ASSET:null}),S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).canvasRef=null,t.state={error:null},t.handleFileLoad=function(e){var r=t.props,n=r.id,a=r.onFileLoad;if(null!=e.target){if(!(e.target instanceof FileReader))return;var o=e.target.result,i=(0,p.arrayBufferToString)(o),l=new Image;l.addEventListener("load",t.handleImageLoad),l.src=i,null!=a&&a(n,i)}},t.handleImageLoad=function(e){if(null!=t.canvasRef){var r=t.props,n=r.id,a=r.minSize,o=r.onAssetValidationError,i=r.onAssetValidationSuccess,l=e.currentTarget;null!=o&&null!=a&&(l.width<a||l.height<a)?(t.setState({error:v.Messages.RichPresence.MINIMUM_ASSET_SIZE.format({size:a})}),o(n)):null!=i&&i(n),t.canvasRef.width=O,t.canvasRef.height=O;var s=O,u=O,d=0,f=0;if(l.width<l.height){var c=O/l.width;u=l.height*c}else if(l.width>l.height){var p=O/l.height;s=l.width*p}u>O?f=(u-O)/-2:s>O&&(d=(s-O)/-2),t.canvasRef.getContext("2d").drawImage(l,d,f,s,u)}},t.handleNameChange=function(e){var r=t.props,n=r.onNameChange,a=r.id;null!=n&&n(a,e)},t.handleRemoveClick=function(){var e=t.props,r=e.id,n=e.onRemove;null!=n&&n(r)},t.setCanvasRef=function(e){t.canvasRef=e},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){return null==t.error&&null!=e.error?{error:e.error}:null};var i=n.prototype;return i.componentDidMount=function(){this.props.type===_.LOCAL_ASSET&&this.loadImage()},i.loadImage=function(){var e=this.props.file;if(null!=e&&!(0,c.isFileVideo)(e)){var t=new FileReader;t.addEventListener("load",this.handleFileLoad),t.readAsDataURL(e)}},i.renderAction=function(){var e=this.props,t=e.isBeingDeleted,r=e.isBeingUploaded;return t||r?b(d.default,{className:m.default.spinner,type:d.default.Type.PULSING_ELLIPSIS}):b(h.default,{onClick:this.handleRemoveClick})},i.renderErrorMessage=function(){var e=this.state.error;return null==e?null:b("div",{className:m.default.error},void 0,e)},i.renderImage=function(){var e=this.props,t=e.file;if(e.type===_.LOCAL_ASSET)return(0,c.isFileVideo)(t)?b("div",{className:m.default.videoPlaceholder},void 0,b(s.default,{className:m.default.videoIcon,name:s.IconNames.VIDEO_CAMERA})):a.createElement("canvas",{className:m.default.image,ref:this.setCanvasRef});var r=this.props,n=r.asset,o=r.getAssetUri;if(null!=n){var i=o(n)||"";return b("div",{className:m.default.image,style:{backgroundImage:"url("+i}},void 0,(0,c.isAssetVideo)(n)?b(s.default,{className:m.default.videoIcon,name:s.IconNames.VIDEO_CAMERA}):null)}return null},i.renderDragHandle=function(){return this.props.isDraggable?b(l.default.Child,{className:m.default.dragIconWrapper,grow:0,shrink:0,wrap:!0},void 0,b(s.default,{className:m.default.dragIcon,name:s.IconNames.DRAG_HANDLE})):null},i.renderName=function(){var e=this.props,t=e.asset,r=e.file,n=e.name;return e.type===_.LOCAL_ASSET&&null!=r?b(f.default,{defaultValue:n,onChange:this.handleNameChange}):null!=t?(0,c.getAssetLabel)(t):null},i.renderValidationMessage=function(){var e=this.props.validationMessage;return null==e?null:b("div",{className:m.default.validationMessage},void 0,e)},i.render=function(){var e,t=this.props.isDragging,r=this.state.error;return b(u.default,{className:(0,o.default)(m.default.wrapper,(e={},e[m.default.isDragging]=t,e)),borderColor:null==r?u.default.BorderColor.PRIMARY:u.default.BorderColor.RED,size:u.default.Size.SMALL},void 0,b(l.default,{className:m.default.content,align:l.default.Align.CENTER,wrap:l.default.Wrap.NO_WRAP},void 0,this.renderDragHandle(),b(l.default.Child,{className:m.default.imageWrapper,grow:0,shrink:0,wrap:!0},void 0,this.renderImage()),b(l.default.Child,{className:m.default.labelWrapper,grow:1,shrink:1,wrap:!0},void 0,b("div",{className:m.default.nameWrapper},void 0,this.renderName()),this.renderValidationMessage()),b(l.default.Child,{grow:0,shrink:0,wrap:!0},void 0,this.renderAction())),this.renderErrorMessage())},n}(a.Component);t.default=S,S.displayName="AssetPanel",S.Types=_,S.defaultProps={isDraggable:!1,isDragging:!1}},1617:function(e,t,r){"use strict";t.__esModule=!0,t.fit=function(e,t,r,n,a,o){void 0===a&&(a=0);void 0===o&&(o=0);if(e!==r||t!==n){var i=e>r?r/e:1;e=Math.max(Math.round(e*i),a);var l=(t=Math.max(Math.round(t*i),o))>n?n/t:1;e=Math.max(Math.round(e*l),a),t=Math.max(Math.round(t*l),o)}return{width:e,height:t}},t.getRatio=function(e,t,r,n){var a=1;e>r&&(a=r/e);e=Math.round(e*a),t=Math.round(t*a);var o=1;t>n&&(o=n/t);return Math.min(a*o,1)}},1738:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function l(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=t.call.apply(t,[this].concat(o))||this).setRef=function(e){r._ref=e},r.triggerResize=function(){null!=r._ref&&r._ref.onResize()},r.renderComponent=function(t){var n=t.width,o=t.height,l=r.props,s=l.setRef,u=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(l,["setRef"]);return a.createElement(e,i({},u,{ref:s,width:n,height:o,triggerResize:r.triggerResize}))},r}n=t,(r=l).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var s=l.prototype;return s.render=function(){return a.createElement(o.default,{ref:this.setRef},this.renderComponent)},l}(a.Component)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=(n=r(2558))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},1741:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.ImageReadyStates=void 0;var n,a=f(r(1)),o=d(r(9)),i=d(r(69)),l=r(1617),s=f(r(180)),u=d(r(1346));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=(0,i.default)({LOADING:null,ERROR:null,READY:null});t.ImageReadyStates=h;var v=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t,r=this.props,n=r.className,i=r.imageClassName,d=r.readyState,f=r.src,v=r.alt,m=r.width,g=r.height,y=r.maxWidth,b=void 0===y?m:y,O=r.maxHeight,_=void 0===O?g:O,S=r.minWidth,w=r.minHeight,P=r.accessory,A=r.zoomable,M=r.original,E=r.children,N=r.renderItem,D=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(r,["className","imageClassName","readyState","src","alt","width","height","maxWidth","maxHeight","minWidth","minHeight","accessory","zoomable","original","children","renderItem"]),I=(0,l.fit)(m,g,b,_,S,w),C={},R="div";return null!=M&&(R="a",C.href=M,C.rel="noreferrer noopener",C.target="_blank"),t=null!=f&&d===h.READY&&"function"==typeof E?null!=N?N():E({src:f,size:I,alt:v,className:i}):d===h.LOADING?p("div",{className:u.default.imageWrapperInner},void 0,f?p("img",{alt:v,className:u.default.imagePlaceholder,src:f,style:I}):null,f?p("div",{className:u.default.imagePlaceholderOverlay}):null,p(s.default,{type:s.SpinnerTypes.WANDERING_CUBES})):p("div",{className:u.default.imageWrapperInner},void 0,p("div",{className:u.default.imageError})),a.createElement(R,c({className:(0,o.default)(u.default.imageWrapper,(e={},e[u.default.imageZoom]=A,e[u.default.imageWrapperBackground]=d!==h.READY,e),n),style:null!=N?null:I},C,D),P?p("div",{className:u.default.imageAccessory},void 0,P):null,t)},n}(a.PureComponent);t.default=v,v.displayName="Image",v.defaultProps={readyState:h.READY,zoomable:!0,alt:"",children:function(e){var t=e.src,r=e.size,n=e.alt;return p("img",{className:e.className,alt:n,src:t,style:r})},minWidth:0,minHeight:0}},1742:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,a=s(r(9)),o=s(r(428)),i=s(r(420)),l=s(r(1347));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t=e.onPlay,r=e.externalURL,n=e.className,s=e.LinkComponent,d=e.inactive;return s=s||"a",u("div",{className:(0,a.default)(n,l.default.wrapper)},void 0,d&&null==t?u("div",{className:l.default.iconWrapper},void 0,u(i.default,{name:i.default.Names.PLAY,className:l.default.iconPlay})):null,null!=t?u(o.default,{onClick:t,className:(0,a.default)(l.default.iconWrapper,l.default.iconWrapperActive)},void 0,u(i.default,{name:i.default.Names.PLAY,className:l.default.iconPlay})):null,null!=r?u(s,{href:r,target:"_blank",rel:"noreferrer noopener",className:(0,a.default)(l.default.iconWrapper,l.default.iconWrapperActive)},void 0,u(i.default,{name:i.default.Names.OPEN_EXTERNAL,className:null!=t?l.default.iconExternalMargins:l.default.iconExternal})):null)};d.displayName="VideoPlayPill";var f=d;t.default=f},2429:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=C(r(1)),o=r(83),i=I(r(15)),l=C(r(129)),s=C(r(1403)),u=I(r(178)),d=I(r(1415)),f=r(130),c=r(431),p=I(r(96)),h=I(r(1474)),v=I(r(2430)),m=I(r(423)),g=I(r(419)),y=I(r(1375)),b=I(r(1373)),O=I(r(421)),_=I(r(1381)),S=I(r(1374)),w=I(r(1476)),P=I(r(426)),A=I(r(2557)),M=I(r(2595)),E=r(4),N=r(21),D=I(r(1355));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function R(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var j=function(e){return 0!==e.storeAssets.length&&null!=e.storeListing&&null!=e.storeListing.carousel_items&&0!==e.storeListing.carousel_items.length?e.storeListing.carousel_items.reduce(function(t,r){if("string"==typeof r.youtube_video_id)t.push((0,c.createYouTubeAssetFromId)(r.youtube_video_id));else if("string"==typeof r.asset_id){var n=r.asset_id,a=e.storeAssets.find(function(e){return e.id===n});null!=a&&t.push(a)}return t},[]):[]},L=R(w.default,{}),V=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).dndAssetsRef=a.createRef(),t.formRef=a.createRef(),t.carouselRef=a.createRef(),t.state={assetsInCarousel:[],hasLoadingError:!1,hasSubmissionError:!1,hasSubmitted:!1,hasUnsavedChanges:!1,isLoading:!0,isSubmitting:!1,lastFormReset:Date.now()},t.getAssetsForApi=function(){return null==t.dndAssetsRef.current||null==t.dndAssetsRef.current.ref.current?null:t.dndAssetsRef.current.ref.current.getAssets().map(function(e){return e.mime_type===E.YOUTUBE_ASSET_TYPE?{youtube_video_id:e.id}:{asset_id:e.id}})},t.getAssetUri=function(e){return e.mime_type===E.YOUTUBE_ASSET_TYPE?(0,c.getYouTubeThumbnailFromId)(e.id):(0,f.getStoreAssetImage)(t.props.match.params.id,e)},t.getAssetValidationMessages=function(){return t.state.assetsInCarousel.reduce(function(e,t){return null==t.width||null==t.height?e:(t.width/t.height!==E.RECOMMENDED_ASSET_ASPECT_RATIO&&(e[t.id]=N.Messages.StoreListingCarousel.SUBOPTIMAL_ASPECT_RATIO),e)},{})},t.getStoreAssetOptions=function(){var e=t.state.assetsInCarousel,r=t.props.storeAssets;return null==r?[]:r.filter(function(t){return null==e.find(function(e){return e.id===t.id})})},t.handleAssetRemove=function(e){t.setState(function(t){return{assetsInCarousel:t.assetsInCarousel.filter(function(t){return t.id!==e})}},t.handleFormChange)},t.handleAssetSelection=function(e){var r=e.value;t.setState(function(e,t){if(null!=e.assetsInCarousel.find(function(e){return e.id===r}))return null;var n=t.storeAssets.find(function(e){return e.id===r});return null==n?null:{assetsInCarousel:e.assetsInCarousel.concat(n)}},t.handleFormChange)},t.handleFormChange=function(){t.setState(function(e){var r=e.assetsInCarousel;return null!=t.dndAssetsRef.current&&null!=t.dndAssetsRef.current.ref.current&&(r=t.dndAssetsRef.current.ref.current.getAssets()),{hasUnsavedChanges:!0,assetsInCarousel:r}})},t.handleFormReset=function(){t.setState({assetsInCarousel:j(t.props),hasUnsavedChanges:!1,lastFormReset:Date.now()})},t.handleFormSubmit=function(){var e=t.props.storeListing;if(null!=e){var r={carousel_items:t.getAssetsForApi()};t.setState({isSubmitting:!0},function(){s.updateStoreListing(e.id,r).then(function(){t.setState({isSubmitting:!1,hasSubmissionError:!1,hasSubmitted:!0,hasUnsavedChanges:!1})}).catch(function(){t.setState({isSubmitting:!1,hasSubmissionError:!0,hasSubmitted:!1})})})}},t.handleVideoAdd=function(e){t.setState(function(t){return{assetsInCarousel:t.assetsInCarousel.concat((0,c.createYouTubeAssetFromId)(e))}},t.handleFormChange)},t.renderCarouselItems=function(){var e=t.state,r=e.assetsInCarousel,n=e.lastFormReset;return 0===r.length?R(_.default,{isFlush:!0},void 0,N.Messages.StoreListingCarousel.NO_ITEMS_ADDED):a.createElement(v.default,{getAssetUri:t.getAssetUri,assets:r,key:n,onOrderChange:t.handleFormChange,onRemove:t.handleAssetRemove,ref:t.dndAssetsRef,validationMessages:t.getAssetValidationMessages()})},t.getCarouselKey=function(){return t.state.assetsInCarousel.reduce(function(e,t){return e+=t.id},"")},t.routeToAssetLibrary=function(){p.default.transitionTo(E.Routes.ASSET_LIBRARY(t.props.match.params.id))},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){return t.isLoading&&0===t.assetsInCarousel.length?{assetsInCarousel:j(e)}:null};var o=n.prototype;return o.componentDidMount=function(){var e=this,t=this.props.match.params.id;l.fetchStoreAssets(t).then(function(){e.setState({isLoading:!1})}).catch(function(){e.setState({hasLoadingError:!0})})},o.renderFormStatus=function(){var e=this.state,t=e.hasSubmissionError,r=e.hasSubmitted;return t?R(y.default,{type:y.default.Types.ERROR},void 0,N.Messages.Alerts.ERROR):r?R(y.default,{type:y.default.Types.SUCCESS},void 0,N.Messages.Alerts.SUCCESS_CHANGES_SAVED):null},o.renderCarouselPreview=function(){var e=this.state,t=e.assetsInCarousel,r=e.hasUnsavedChanges;return 0===t.length?null:R(O.default,{hasBorder:!1,className:r?D.default.extraPadding:void 0},void 0,R(g.default,{},void 0,N.Messages.StoreListingCarousel.PREVIEW_CAROUSEL),R(A.default,{assets:t},this.getCarouselKey()))},o.render=function(){var e=this.state,t=e.hasUnsavedChanges,r=e.isLoading,n=e.isSubmitting;return r?L:a.createElement(m.default,{onChange:this.handleFormChange,onSubmit:this.handleFormSubmit,ref:this.formRef},R(O.default,{},void 0,R(b.default,{},void 0,N.Messages.StoreListingCarousel.HEADING),R(S.default,{isFlush:!0},void 0,N.Messages.StoreListingCarousel.SUBHEADING),this.renderFormStatus()),R(O.default,{},void 0,R(g.default,{},void 0,N.Messages.StoreListingCarousel.ADD_ASSETS),R(_.default,{},void 0,N.Messages.StoreListingCarousel.ADD_ASSETS_DESCRIPTION.format({onClick:this.routeToAssetLibrary})),R(h.default,{assets:this.getStoreAssetOptions(),getAssetUri:this.getAssetUri,onChange:this.handleAssetSelection,restrictWidth:!0})),R(O.default,{},void 0,R(g.default,{},void 0,N.Messages.StoreListingCarousel.ADD_VIDEOS),R(_.default,{},void 0,N.Messages.StoreListingCarousel.ADD_VIDEOS_DESCRIPTION),R(M.default,{onAdd:this.handleVideoAdd})),R(O.default,{},void 0,R(g.default,{},void 0,N.Messages.StoreListingCarousel.ADDED_MEDIA),this.renderCarouselItems()),this.renderCarouselPreview(),R(P.default,{isVisible:t,actionCopy:N.Messages.Actions.PUBLISH_CHANGES,onReset:this.handleFormReset,submitting:n}))},n}(a.Component);V.displayName="CarouselManagement";var T=(0,o.withRouter)(i.default.connectStores([u.default,d.default],function(e){var t=e.match.params,r=t.id,n=t.skuId;return{storeAssets:u.default.getStoreAssets(r),storeListing:d.default.getCurrentStoreListing(n)}})(V));t.default=T},2430:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=d(r(1)),o=r(1534),i=u(r(1614)),l=d(r(418)),s=u(r(2555));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={assets:null},t.getAssets=function(){return t.state.assets},t.handleMove=function(e,r){t.setState(function(t){if(null==t.assets)return null;var n=[].concat(t.assets),a=n[e];return n.splice(e,1),n.splice(r,0,a),{assets:n}},t.props.onOrderChange)},t.handleRemove=function(e){var r=t.props.onRemove;null!=r&&r(e),t.setState(function(t){return null==t.assets?null:{assets:t.assets.filter(function(t){return t.id!==e})}})},t.renderDraggableItems=function(){var e=t.state.assets,r=t.props,n=r.getAssetUri,a=r.validationMessages;return null==e?null:e.map(function(e,r){return f(l.GridChild,{columnSpread:12,columnSpreadMedium:6,columnSpreadLarge:4,columnSpreadExtraLarge:4},e.id,f(s.default,{asset:e,getAssetUri:n,onMove:t.handleMove,onRemove:t.handleRemove,index:r,isDraggable:!0,validationMessage:null!=a?a[e.id]:null}))})},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){if(null==t.assets&&null!=e.assets&&e.assets.length>0)return{assets:e.assets};if(null!=e.assets){var r=e.assets.reduce(function(e,r){return null!=t.assets.find(function(e){return e.id===r.id})||e.push(r),e},[]);if(r.length>0)return{assets:t.assets.concat(r)}}return null},n.prototype.render=function(){return f(l.default,{},void 0,f(l.GridSection,{},void 0,this.renderDraggableItems()))},n}(a.Component);c.displayName="DragAndDropAssets";var p=(0,o.DragDropContext)(i.default)(c);t.default=p},2555:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=r(2556),l=(n=r(1561))&&n.__esModule?n:{default:n};function s(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.asset,r=e.connectDragSource,n=e.connectDropTarget,a=e.getAssetUri,o=e.isDragging,i=e.onRemove,u=e.validationMessage;return n(s("div",{},void 0,r(s("div",{},void 0,s(l.default,{asset:t,getAssetUri:a,id:t.id,isDragging:o,isDraggable:!0,onRemove:i,type:l.default.Types.REMOTE_ASSET,validationMessage:u})))))||null},n}(o.Component);u.displayName="DraggableAssetPanelComponent";var d=(0,i.makeAssetDroppable)((0,i.makeAssetDraggable)(u));t.default=d},2556:function(e,t,r){"use strict";t.__esModule=!0,t.makeAssetDroppable=function(e){var t=-1;return(0,o.DropTarget)(i.ASSET_PANEL,{drop:function(){t=-1},hover:function(e,r){var n=r.getItem().index,a=e.index,o=t>-1?t:n;o!==a&&(e.onMove(o,a),t=a)}},function(e){return{connectDropTarget:e.dropTarget()}})(e)},t.makeAssetDraggable=function(e){return(0,o.DragSource)(i.ASSET_PANEL,{beginDrag:function(e){return{index:e.index}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(e)};var n,a=(n=r(69))&&n.__esModule?n:{default:n},o=r(1534);var i=(0,a.default)({ASSET_PANEL:null})},2557:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.ItemSizes=void 0;var n,a=b(r(1)),o=y(r(9)),i=r(83),l=y(r(97)),s=y(r(1738)),u=y(r(2573)),d=y(r(52)),f=y(r(428)),c=y(r(2574)),p=r(130),h=b(r(2575)),v=y(r(2576)),m=r(4),g=y(r(1353));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function O(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["grayscale(",")"]);return O=function(){return e},e}function _(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=1024,P={SMALL:{width:640,height:360,margin:15},MEDIUM:{width:956,height:495,margin:20}};t.ItemSizes=P;var A={playingVideo:!1,hasInteracted:!1,currentIndex:0,animate:!0},M=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).animatedOpacity=new l.default.Value(1),t.state=S({},A),t.reset=function(){t.setState(S({},A))},t.getItemSize=function(){var e=t.props.width,r=P.MEDIUM;return null!=e&&e<r.width&&(r=P.SMALL),r},t.setPrevious=function(e){e.stopPropagation(),e.preventDefault(),t.setAsset(t.state.currentIndex-1,!0)},t.setNext=function(e){e.stopPropagation(),e.preventDefault(),t.setAsset(t.state.currentIndex+1,!0)},t.parseAsset=function(e,r){var n=t.props.match.params.id;if("video/youtube"===r.mime_type&&e.push({type:m.MediaTypes.YOUTUBE_VIDEO,youtubeVideoId:r.id}),null!=r.id){var a=r.width,o=r.height;if(null==a||null==o)return e;r.mime_type.startsWith("video/")&&e.push({type:m.MediaTypes.VIDEO,thumbnailSrc:(0,p.getStoreAssetImage)(n,r,w,"webp"),src:(0,p.getStoreAssetImage)(n,r),height:o,width:a}),e.push({type:m.MediaTypes.IMG,src:(0,p.getStoreAssetImage)(n,r,w),height:o,width:a})}return e},t.renderCarouselImage=function(e,r,n){return null==e||null==e.src?null:n?_(f.default,{className:g.default.itemImageWrapper},void 0,_("img",{src:e.src,alt:"",className:g.default.currentImage})):_(f.default,{onClick:function(){return t.setAsset(r,!0)},className:g.default.itemImageWrapper},void 0,_("img",{alt:"",className:g.default.itemImage,src:e.src,draggable:!1}))},t.handlePlay=function(){return t.setState({playingVideo:!0})},t.handleVideoClick=function(){t.handlePlay()},t.renderAsset=function(e,r,n){var a,i=t.state,s=i.currentIndex,u=i.playingVideo,d=r===(0,h.normalizeIndex)(s,t.props.assets.length),f=e.type===m.MediaTypes.VIDEO||e.type===m.MediaTypes.YOUTUBE_VIDEO?_(v.default,{item:e,size:t.getItemSize(),onPlay:t.handlePlay,playable:d,onClick:t.handleVideoClick,playing:u&&d}):t.renderCarouselImage(e,r,d);return _(l.default.div,{className:(0,o.default)(g.default.item,(a={},a[g.default.currentItem]=d,a)),style:t.getStyle(r,n)},void 0,f)},t.renderCarousel=function(){var e=t.props.assets,r=t.state,n=r.currentIndex,a=r.animate;return _("div",{className:g.default.carouselButtonsContainer},void 0,_(h.default,{currentIndex:n,itemSize:t.getItemSize(),assets:e.reduce(t.parseAsset,[]),renderAsset:t.renderAsset,animate:a}),_(d.default,{look:d.default.Look.BLANK,size:d.default.Height.NONE,className:g.default.prevButtonContainer,onClick:t.setPrevious},void 0,_(u.default,{className:g.default.arrow,direction:u.default.Directions.LEFT})),_(d.default,{look:d.default.Look.BLANK,size:d.default.Height.NONE,className:g.default.nextButtonContainer,onClick:t.setNext},void 0,_(u.default,{className:g.default.arrow,direction:u.default.Directions.RIGHT})))},t.setAsset=function(e,r){var n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),a=n.props.assets,o=n.state,i=o.currentIndex,l=o.hasInteracted,s=(0,h.normalizeIndex)(i,a.length),u=(0,h.normalizeIndex)(e,a.length),d=1===Math.abs(e-s)||e===a.length-1&&0===s||0===e&&s===a.length-1;r&&(l=!0),t.setState({playingVideo:!1,currentIndex:u,animate:d,hasInteracted:l})},t.autoNext=function(){t.setAsset(t.state.currentIndex+1,!1)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getStyle=function(e,t){var r=t.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:l.default.Extrapolate.CLAMP});return{opacity:t.interpolate({inputRange:[0,1],outputRange:[.3,1],extrapolate:l.default.Extrapolate.CLAMP}),filter:l.default.template(O(),r)}},a.render=function(){var e=this.state,t=e.playingVideo,r=e.hasInteracted;return _(c.default,{pauseOnHover:!0,onInterval:this.autoNext,interval:8e3,disable:t||r},void 0,this.renderCarousel())},n}(a.Component);M.displayName="CarouselPreview";var E=(0,s.default)((0,i.withRouter)(M));t.default=E},2573:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.ArrowDirections=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=u(r(9)),l=u(r(448)),s=u(r(1344));function u(e){return e&&e.__esModule?e:{default:e}}var d={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"};t.ArrowDirections=d;var f=((n={})[d.UP]=s.default.up,n[d.RIGHT]=s.default.right,n[d.DOWN]=s.default.down,n[d.LEFT]=s.default.left,n),c=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t=this.props,r=t.direction,n=t.onClick,o=t.className;return function(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{className:(0,i.default)(s.default.arrow,o,(e={},e[f[r]]=!0,e)),onClick:n})},n}(o.PureComponent);c.displayName="Arrow",c.Directions=d;var p=c;t.default=p},2574:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(1439);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).timer=new a.Interval,t.state={hovered:!1},t.handlePause=function(){t.state.hovered||t.setState({hovered:!0})},t.handleResume=function(){t.setState({hovered:!1})},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null};var l=i.prototype;return l.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,r=e.disable,n=this.state.hovered&&t;r||n||this.startTimer()},l.componentWillUnmount=function(){this.stopTimer()},l.componentDidUpdate=function(e,t){var r=this.props,n=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},a=n(r,this.state),o=n(e,t);a&&!o||e.interval!==r.interval?this.startTimer():!a&&o&&this.stopTimer()},l.startTimer=function(){var e=this.props,t=e.interval,r=e.onInterval;e.disable||this.timer.start(t,function(){r()})},l.stopTimer=function(){this.timer.stop()},l.render=function(){var e=this.props,t=e.children,r=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return n.createElement("div",o({},a,{className:r}),t)},i}(n.Component);i.displayName="IntervalWrapper",i.defaultProps={disable:!1,pauseOnHover:!1};var l=i;t.default=l},2575:function(e,t,r){"use strict";t.__esModule=!0,t.normalizeIndex=h,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=u(r(9)),i=u(r(97)),l=u(r(1738)),s=u(r(1345));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=2,p={tension:7,friction:5,overshootClamping:!0};function h(e,t){return(e%t+t)%t}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).animatedOpacity=new i.default.Value(1),t.animatedIndex=new i.default.Value(t.props.currentIndex),t.getCarouselTranslate=function(){var e=t.props,r=e.width,n=e.itemSize,a=(r-n.width)/2;return c*(n.width+n.margin)-a},t.renderSingleItem=function(){var e=t.props,r=e.renderAsset,n=e.assets,a=e.itemSize,i=a.width,l=a.height;return f("div",{className:(0,o.default)(s.default.singleItemWrapper,s.default.viewport)},void 0,f("div",{className:s.default.singleItem,styles:{width:i,height:l}},void 0,r(n[0],0)))},t.interpolateValueForAsset=function(e){return t.animatedIndex.interpolate({inputRange:[e-1,e,e+1],outputRange:[0,1,0],extrapolate:"clamp"})},t.getAssetStyle=function(){var e=t.props.itemSize,r=e.width;return{flexBasis:r,marginRight:e.margin,height:e.height,width:r}},t.renderCarouselMediaType=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),r=e.animatedOpacity,n=e.animatedIndex,a=t.props,o=a.itemSize,l=a.assets,u=a.renderAsset,d=o.margin,p=o.width,h=t.getCarouselTranslate(),v=[].concat(l.slice(-c),l,l.slice(0,c)).map(function(e,r){return f("div",{style:t.getAssetStyle(),className:s.default.item},r,u(e,r-c,t.interpolateValueForAsset(r-c)))});return f(i.default.div,{className:s.default.carousel,style:{opacity:r,left:n.interpolate({inputRange:[0,1],outputRange:[-h,-d-p-h]})}},void 0,v)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidUpdate=function(e){var t=this.props,r=t.currentIndex,n=t.assets,a=h(r,n.length),o=h(e.currentIndex,n.length);a===o&&n.length===e.assets.length||this.updateAnimatedIndex(a,o)},a.animateToIndex=function(e,t){var r=this.animatedIndex,n=this.props.assets;0===e&&t===n.length-1?r.setValue(-1):0===t&&e===n.length-1&&n.length>2&&r.setValue(n.length),i.default.spring(r,d({},p,{toValue:e})).start()},a.updateAnimatedIndex=function(e,t){var r=this.animatedIndex,n=this.animatedOpacity;this.props.animate?this.animateToIndex(e,t):i.default.timing(n,{fromValue:1,toValue:0,duration:100}).start(function(){r.setValue(e),i.default.timing(n,{fromValue:0,toValue:1,duration:100}).start()})},a.render=function(){return f("div",{className:s.default.viewport},void 0,this.renderCarouselMediaType())},n}(a.Component);v.displayName="CarouselMain";var m=(0,l.default)(v);t.default=m},2576:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=f(r(9)),i=r(2577),l=f(r(2578)),s=r(431),u=r(4),d=f(r(1352));function f(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p={width:1920,height:1080},h={width:1280,height:720},v=function(e){var t,r,f=e.item,v=e.size,m=e.onPlay,g=e.playable,y=e.playing,b=e.onClick;if(f.type===u.MediaTypes.YOUTUBE_VIDEO)t=c({url:(0,s.getYouTubePreviewUrl)(f.youtubeVideoId)},p),r=c({url:(0,s.getYouTubeEmbedUrl)(f.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},h);else{var O=null!=f.width?f.width:0,_=null!=f.height?f.height:0;t={url:f.thumbnailSrc,width:O,height:_},r={url:f.src,proxyURL:f.src,width:O,height:_}}return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i.EmbedVideo,{href:null,thumbnail:t,video:r,allowFullScreen:!0,VideoComponent:l.default,ImageComponent:function(e){var t=e.imageClassName,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["imageClassName"]);return a.createElement("img",c({alt:f.alt},r,{className:(0,o.default)(d.default.itemImage,d.default.itemVideo,t),onClick:b,draggable:!1}))},maxHeight:v.height,maxWidth:v.width,onPlay:m,playable:g,className:d.default.video,autoplay:y})};v.displayName="Video";var m=v;t.default=m},2577:function(e,t,r){"use strict";t.__esModule=!0,t.EmbedVideo=t.EmbedLink=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=c(r(9)),i=c(r(456)),l=r(1617),s=c(r(433)),u=c(r(1741)),d=c(r(1742)),f=c(r(1348));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){return a.createElement(s.default,e)};t.EmbedLink=v,v.displayName="EmbedLink";var m=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={playing:!1},t.handlePlay=function(e){e.preventDefault(),e.stopPropagation();var r=t.props.onPlay;r&&r(),t.setState({playing:!0})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){return e.autoplay&&!t.playing?{playing:!0}:t};var s=n.prototype;return s.componentDidUpdate=function(){!this.props.playable&&this.state.playing&&this.setState({playing:!1})},s.render=function(){var e=this.props,t=e.className,r=e.maxWidth,n=e.maxHeight,s=e.thumbnail,u=e.video,c=e.allowFullScreen,v=e.ImageComponent,m=e.VideoComponent,g=e.LinkComponent,y=e.playable,b=this.state.playing,O=s.width,_=s.height;b&&null!=u&&(O=u.width,_=u.height);var S=(0,l.fit)(O,_,r,n);O=S.width,_=S.height;var w=s.proxyURL||s.url;if(null!=u&&null!=u.proxyURL){var P={poster:w,src:u.proxyURL,width:O,height:_,naturalWidth:u.width,naturalHeight:u.height,maxWidth:r,maxHeight:n};return p("div",{className:(0,o.default)(f.default.embedVideo,t),style:{width:O,height:_}},void 0,null!=m?a.createElement(m,P):a.createElement("video",h({},P,{controls:!0})))}if(b&&null!=u){var A=i.default.parse(u.url,!0);A.query=h({},A.query,{autoplay:1,auto_play:1}),delete A.search;var M=i.default.format(A);return p("div",{className:(0,o.default)(f.default.embedVideo,t),style:{width:O,height:_}},void 0,p("iframe",{className:f.default.embedIframe,src:M,width:O,height:_,frameBorder:0,allowFullScreen:c}))}return p("div",{className:(0,o.default)(f.default.embedVideo,t),style:{width:O,height:_}},void 0,p(v,{src:w,width:O,height:_,className:f.default.embedVideoImageComponent,imageClassName:f.default.embedVideoImageComponentInner}),p("div",{className:f.default.embedVideoActions},void 0,p("div",{className:f.default.centerContent},void 0,y?p(d.default,{onPlay:null!=u?this.handlePlay:null,externalURL:this.props.href,LinkComponent:g}):null)))},n}(a.PureComponent);t.EmbedVideo=m,m.displayName="EmbedVideo",m.defaultProps={allowFullScreen:!0,playable:!0,LinkComponent:v,ImageComponent:u.default}},2578:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=d(r(2579)),i=d(r(2592)),l=r(1441),s=r(4),u=d(r(21));function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=function(e){var t,r;function d(){return e.apply(this,arguments)||this}return r=e,(t=d).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,d.prototype.render=function(){var e=this.props,t=e.src,r=e.fileSize,d=e.className,c=e.poster,p=e.fileName,h=e.naturalWidth,v=e.naturalHeight,m=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["src","fileSize","className","poster","fileName","naturalWidth","naturalHeight"]);return a.createElement(o.default,f({alt:u.default.Messages.VIDEO,className:d,src:c},m,{minWidth:i.default.minWidth,shouldLink:!1,shouldAnimate:!1}),function(e){var a=e.src,o=e.size,u=o.width,d=o.height,f=!(h<=s.MAX_VIDEO_WIDTH&&v<=s.MAX_VIDEO_HEIGHT||h<=s.MAX_VIDEO_HEIGHT&&v<=s.MAX_VIDEO_WIDTH);return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i.default,{forceExternal:f,src:t,poster:a,width:u,height:d,type:i.default.Types.VIDEO,fileName:p,fileSize:(0,l.sizeString)(r)})})},d}(a.Component);t.default=c,c.displayName="LazyVideo"},2579:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=f(r(1)),i=r(2580),l=r(2583),s=r(1617),u=(n=r(2591))&&n.__esModule?n:{default:n},d=f(r(1741));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function c(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=/\.gif($|\?|#)/i,v=c(u.default,{}),m=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={readyState:d.ImageReadyStates.LOADING,hasMouseOver:!1},r._cancellers=new Set,r.observeVisibility=function(){n.visibilityObserver.observe(p(r))},r.unobserveVisibility=function(){n.visibilityObserver.unobserve(p(r))},r.handleImageLoad=function(e){return r.setState({readyState:e?d.ImageReadyStates.ERROR:d.ImageReadyStates.READY})},r.preloadImage=function(e,t){var n=e.width,a=e.height,o=r.props,i=o.width,l=o.height;r.loadImage(r.getSrc((0,s.getRatio)(i,l,n,a)),t)},r.onMouseEnter=function(e){n.isAnimated(r.props)&&r.setState({hasMouseOver:!0});var t=r.props.onMouseEnter;null!=t&&t(e,{preloadImage:r.preloadImage})},r.onMouseLeave=function(){return r.setState({hasMouseOver:!1})},r.onClick=function(e){var t=r.props.onZoom;t&&(e.preventDefault(),t(e,{placeholder:r.getSrc(r.getRatio())}))},(0,l.isImageLoaded)(r.getSrc(r.getRatio(),n.isAnimated(r.props)))&&(r.state.readyState=d.ImageReadyStates.READY),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isAnimated=function(e){var t=e.src,r=e.original;return e.animated||h.test(r||t)};var a=n.prototype;return a.componentDidMount=function(){this.state.readyState===d.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),n.isAnimated(this.props)),this.handleImageLoad),n.isAnimated(this.props)&&this.observeVisibility()},a.componentDidUpdate=function(e){var t=n.isAnimated(this.props);n.isAnimated(e)!==t&&(t?this.observeVisibility():this.unobserveVisibility())},a.componentWillUnmount=function(){n.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(function(e){return e()}),this._cancellers.clear()},a.getSrc=function(e,t){void 0===t&&(t=!1);var r=this.props,n=r.src,a=r.width,o=r.height;return(0,l.getImageSrc)(n,a,o,e,t?"png":null)},a.getWidth=function(){var e=this.props,t=e.width,r=e.minWidth;return Math.max(Math.round(t*this.getRatio()),r)},a.getHeight=function(){var e=this.props,t=e.height,r=e.minHeight;return Math.max(Math.round(t*this.getRatio()),r)},a.getRatio=function(){var e=this.props,t=e.width,r=e.height,n=e.maxWidth,a=void 0===n?400:n,o=e.maxHeight,i=void 0===o?300:o;return(0,s.getRatio)(t,r,a,i)},a.loadImage=function(e,t){var r=this,n=(0,l.loadImage)(e,function(e,a){null!=n&&r._cancellers.delete(n),t&&t(e,a)});null!=n&&this._cancellers.add(n)},a.render=function(){var e=this.props,t=e.alt,r=e.placeholder,a=e.onZoom,i=e.shouldLink,l=e.onContextMenu,s=e.autoPlay,u=e.original,f=e.className,c=e.children,p=e.animated,h=e.shouldAnimate,m=e.minWidth,g=e.minHeight,y=e.renderItem,b=this.state,O=b.readyState,_=b.hasMouseOver,S=!!a,w={alt:t,readyState:O,onContextMenu:l,zoomable:S,className:f,minWidth:m,minHeight:g,width:this.getWidth(),height:this.getHeight(),renderItem:y,src:"",onMouseEnter:this.onMouseEnter};switch(c&&(w.children=function(e){var t=e.src,r=e.size,n=e.alt;return c({src:t,size:r,alt:n})}),S&&(w.onClick=this.onClick),i&&(w.original=u||w.src),O){case d.ImageReadyStates.LOADING:null!=r&&(w.src=r);break;case d.ImageReadyStates.READY:if(n.isAnimated(this.props)){w.onMouseLeave=this.onMouseLeave;var P=(s||_)&&(null==h||h)&&n.visibilityObserver.isVisible(this);P?w.src=this.getSrc(this.getRatio()):(w.src=this.getSrc(this.getRatio(),!p),w.accessory=v),null!=c&&(w.children=function(e){var t=e.src,r=e.size,n=e.alt;return c({src:t,size:r,animating:P,alt:n})})}else w.src=this.getSrc(this.getRatio())}return o.createElement(d.default,w)},n}(o.Component);t.default=m,m.displayName="LazyImage",m.visibilityObserver=new i.VisibilityObserver({threshold:0}),m.defaultProps={alt:"",shouldLink:!1,autoPlay:!1,animated:!1,minWidth:0,minHeight:0}},2583:function(e,t,r){"use strict";t.__esModule=!0,t.isImageLoaded=function(e){var t=d.get(e);return null!=t&&t.loaded},t.loadImage=function(e,t){var r=d.get(e);return r&&r.loaded?(null!=t&&t(!1,r),null):(r||(r={url:e,loaded:!1},d.set(e,r),function(e){var t=new Image;t.onerror=function(){return f(!0,e,t)},t.onload=function(){return f(!1,e,t)},t.src=e.url}(r)),null!=t&&(n=t.bind(null),null==r.callbacks&&(r.callbacks=new Set),r.callbacks.add(n)),function(){null!=n&&null!=r&&null!=r.callbacks&&r.callbacks.delete(n)});var n},t.getDevicePixelRatio=c,t.getBestMediaProxySize=function(e){return i.MEDIA_PROXY_SIZES.find(function(t){return e<=t})||i.MEDIA_PROXY_SIZES[i.MEDIA_PROXY_SIZES.length-1]},t.calculateSize=function(e){var t=c();return e=t>1?e*Math.ceil(t):e,e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,Math.min(e,u)},t.getSrcWithWidthAndHeight=h,t.getSizedImageSrc=function(e,t,r,n){void 0===n&&(n="jpg");var a=c();t=Math.ceil(t*a),r=Math.ceil(r*a);var i=p(e),l=i[0],u=i[1],d=o.default.stringify(s({},u,{width:0|t,height:0|r,format:n}));return l+"?"+d},t.getImageSrc=function(e,t,r,n,a){void 0===n&&(n=1);void 0===a&&(a=null);n*=c();var o=t,i=r;n<1&&(o=Math.ceil(t*n),i=Math.ceil(r*n));return h(e,t,r,o,i,a)};var n=l(r(2584)),a=l(r(2585)),o=l(r(457)),i=r(4);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=1024,d=new a.default({max:1e3});function f(e,t,r){var n=t,a=n.callbacks,o=n.url;if(e)d.del(o);else{var i=r.width,l=r.height;t={url:o,loaded:!0,width:i,height:l},d.set(o,t)}null!=a&&a.forEach(function(r){return r(e,t)})}function c(){return window.devicePixelRatio||1}function p(e){var t=e.split("?"),r=t[0],n=t[1];return[r,o.default.parse(n)]}function h(e,t,r,a,i,l){void 0===l&&(l=null);var s=p(e),u=s[0],d=s[1];return null!=l&&(d.format=l),a===t&&i===r||(d.width=0|a,d.height=0|i),(0,n.default)(d)||(u+="?"+o.default.stringify(d)),u}},2591:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=i(r(9)),o=i(r(1349));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){var t=e.className,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["className"]);return n.createElement("div",l({className:(0,a.default)(o.default.gifTag,t)},r))}},2592:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.Controls=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=v(r(9)),i=v(r(46)),l=v(r(97)),s=r(2593),u=v(r(433)),d=v(r(428)),f=v(r(420)),c=v(r(2594)),p=v(r(1742)),h=v(r(1351));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var O={friction:14,tension:200},_={VIDEO:"VIDEO",AUDIO:"AUDIO"},S={width:"100%",height:"100%",backgroundColor:"black"};function w(e){var t=(e|=0)%60;return(e-t)/60+":"+String(t).padStart(2,"0")}var P=function(e){var t=e.current,r=e.duration,n=null!=t?w(t):"-:--",a=null!=r?w(r):"-:--";return n=n.padStart(a.length,"0"),b("div",{className:h.default.durationTimeWrapper},void 0,b("span",{className:h.default.durationTimeDisplay},void 0,n),b("span",{className:h.default.durationTimeSeparator},void 0,"/"),b("span",{className:h.default.durationTimeDisplay},void 0,a))};P.displayName="DurationTime";var A=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={translateY:new l.default.Value(0),iconHover:!1,barHover:!1},t.setDurationRef=function(e){t.durationBar=e},t.setVolumeRef=function(e){t.volumeBar=e},t}y(t,e);var r=t.prototype;return r.componentDidMount=function(){this.state.translateY.setValue(0)},r.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},r.updateProgress=function(e,t){void 0===t&&(t=!0);var r=this.durationBar;null!=r&&r.setGrabber(e,t)},r.animateControls=function(e){l.default.spring(this.state.translateY,g({toValue:e},O)).start()},r.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}]}},r.renderPlayIcon=function(){var e=this.props,t=e.playing,r=e.currentTime,n=e.duration,a=e.onPause,o=e.onPlay;return t?b(d.default,{onClick:a},void 0,b(f.default,{name:f.default.Names.PAUSE,className:h.default.controlIcon},"pause")):b(d.default,{onClick:o},void 0,null!=r&&r===n?b(f.default,{name:f.default.Names.REPLAY,className:h.default.controlIcon},"replay"):b(f.default,{name:f.default.Names.PLAY,className:h.default.controlIcon},"play"))},r.render=function(){var e,t=this,r=this.props,n=r.buffers,i=r.children,s=r.currentTime,u=r.duration,p=r.muted,v=r.onDrag,m=r.onDragEnd,g=r.onDragStart,y=r.onToggleMuted,O=r.width,S=r.volume,w=r.dragging,A=r.hide,M=r.type,E=this.state,N=E.barHover,D=E.iconHover,I=A||!N&&!D&&w!==c.default.Types.VOLUME,C="string"==typeof O||O>250;return b(l.default.div,{className:M===_.VIDEO?h.default.videoControls:h.default.audioControls,onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},style:this.getAnimatedStyle()},void 0,this.renderPlayIcon(),C?b(P,{current:s,duration:u}):null,a.createElement(c.default,{buffers:n,value:u||0,onDrag:v,onDragEnd:m,onDragStart:g,type:c.default.Types.DURATION,ref:this.setDurationRef}),b("div",{className:h.default.flex,onMouseEnter:function(){clearTimeout(t._timeout),t.setState({barHover:!1,iconHover:!0})},onMouseLeave:function(){clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.setState({iconHover:!1})},500)}},void 0,b(d.default,{onClick:y},void 0,b(f.default,{name:p?f.default.Names.SPEAKER_OFF:f.default.Names.SPEAKER,className:(0,o.default)(h.default.controlIcon,I?void 0:h.default.opaque)}))),b("div",{className:(0,o.default)(M===_.VIDEO?h.default.videoVolumeWrapper:h.default.audioVolumeWrapper,(e={},e[h.default.hidden]=I,e)),onMouseEnter:function(){clearTimeout(t._timeout),t.setState({barHover:!0,iconHover:!1})},onMouseLeave:function(){clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.setState({barHover:!1})},500)}},void 0,a.createElement(c.default,{value:S,onDrag:v,onDragEnd:m,onDragStart:g,type:c.default.Types.VOLUME,ref:this.setVolumeRef})),i)},t}(a.Component);t.Controls=A,A.displayName="Controls";var M=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={translateY:new l.default.Value(0)},t}y(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},r.animateControls=function(e){l.default.spring(this.state.translateY,g({toValue:e},O)).start()},r.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]}},r.renderVideoMetadata=function(){var e=this.props,t=e.fileName,r=e.fileSize,n=e.src;return b(l.default.div,{className:h.default.metadata,style:this.getAnimatedStyle()},void 0,b("div",{className:h.default.metadataContent},void 0,b("div",{className:h.default.metadataName},void 0,t),b("div",{className:h.default.metadataSize},void 0,r)),b(u.default,{href:n,target:"_blank",rel:"noreferrer noopener",className:h.default.metadataDownload},void 0,b(f.default,{name:f.default.Names.DOWNLOAD,className:h.default.metadataIcon})))},r.renderAudioMetadata=function(){var e=this.props,t=e.fileName,r=e.fileSize,n=e.src;return b("div",{className:h.default.audioMetadata},void 0,b("div",{className:h.default.metadataContent},void 0,b(u.default,{className:h.default.metadataName,href:n},void 0,t),b("div",{className:h.default.metadataSize},void 0,r)),b(u.default,{href:n,className:h.default.metadataDownload},void 0,b(f.default,{name:f.default.Names.DOWNLOAD,className:h.default.metadataIcon})))},r.render=function(){return this.props.type===_.AUDIO?this.renderAudioMetadata():this.renderVideoMetadata()},t}(a.Component);M.displayName="Metadata";var E=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={play:!1,scale:new l.default.Value(0),opacity:new l.default.Value(0)},t.popAnimation=function(){var e=t.state,r=e.opacity,n=e.scale;n.setValue(0),r.setValue(0),l.default.parallel([l.default.sequence([l.default.timing(r,{toValue:1,duration:200}),l.default.timing(r,{toValue:0,duration:200})]),l.default.spring(n,g({toValue:1.5},O,{friction:80}))]).start()},t}y(t,e);var r=t.prototype;return r.pop=function(e){void 0===e&&(e=!1),this.setState({play:e},this.popAnimation)},r.getAnimatedStyle=function(){var e=this.state,t=e.opacity,r=e.scale;return l.default.accelerate({opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.8]}),transform:[{scale:r.interpolate({inputRange:[0,1],outputRange:[1,2]})}]})},r.render=function(){var e=this.state.play;return b(l.default.div,{className:h.default.playPausePop,style:this.getAnimatedStyle()},void 0,b(f.default,{name:e?f.default.Names.PLAY:f.default.Names.PAUSE,className:h.default.playPausePopIcon}))},t}(a.Component);E.displayName="PlayPausePop";var N=function(e){function t(){for(var r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this)._unmounted=!1,r._lastMove=0,r.state={buffers:[],currentTime:null,dragging:null,duration:null,fullscreen:!1,hasClickedPlay:!1,hasLoadedMetadata:!1,hideControls:!1,muted:!1,volume:1,playing:!1,preload:"none",width:t.minWidth},r.handleFullScreenExit=function(){(0,s.isFullScreen)()||r.setState({fullscreen:!1})},r.toggleFullscreen=function(){var e=!r.state.fullscreen;r.setState({fullscreen:e})},r.toggleMuted=function(){r.setState({muted:!r.state.muted})},r.setTime=function(e,t){void 0===t&&(t=!0);var n=m(r).elementRef;null!=n&&isFinite(n.duration)&&isFinite(n.currentTime)&&(n.currentTime=e,r.updateValue(e/n.duration,t),r.updateTime(e,n.duration))},r.handleUIUpdate=function(){if(r.state.playing&&!r._unmounted){var e=m(r).elementRef;null!=e&&(e.duration>0&&r.updateValue(e.currentTime/e.duration),r.updateTime(e.currentTime,e.duration),r.updateControlsVisibility(),requestAnimationFrame(r.handleUIUpdate))}},r.handleDrag=function(e,t){var n=m(r).elementRef;t===c.default.Types.DURATION?null!=n&&isFinite(n.duration)&&r.setTime(n.duration*e,!1):t===c.default.Types.VOLUME&&(0===e?r.setState({muted:!0,volume:e}):r.state.muted&&e>0?r.setState({muted:!1,volume:e}):r.setState({volume:e}))},r.handleLoaded=function(){var e=m(r).elementRef;null!=e&&(r.updateTime(e.currentTime,e.duration),r.setState({hasLoadedMetadata:!0,currentTime:e.currentTime,duration:e.duration}))},r.handleDurationChange=function(){var e=m(r).elementRef;null!=e&&(r.updateTime(e.currentTime,e.duration),r.setState({duration:e.duration}))},r.handleBuffer=i.default.debounce(function(){var e=m(r).elementRef,t=[];if(e)for(var n=e.duration,a=0;a<e.buffered.length;a++){var o=e.buffered.start(a),i=e.buffered.end(a);if(!(i-o<1)){var l=(i-o)/n,s=o/n;t.push([s,l])}}r.setState({buffers:t})},400),r.handleEnded=function(){r.setState({playing:!1,hideControls:!1})},r.handleMouseMove=function(){r._lastMove=Date.now()},r.handleMouseLeave=function(){r._lastMove=0},r.handlePreload=function(){r.setState({preload:"metadata"})},r.setControlRef=function(e){r.controlsRef=e},r.setPlayPausePopRef=function(e){r.playPausePopRef=e},r.handleVideoClick=function(){r.setPlay(!r.state.playing)},r.setPlay=function(e){var t=r.props,n=t.onPlay,a=t.onPause,o=r.state.hasClickedPlay,i=m(r).playPausePopRef;e?(n&&n(),r.setState({playing:e,hasClickedPlay:!0},function(){o&&null!=i&&i.pop(e)})):(a&&a(),r.setState({playing:!1,hideControls:!1}))},r.handleDragStart=function(e){r.setState({dragging:e})},r.handleDragEnd=function(){r.setState({dragging:null}),r._lastMove=Date.now()},r}y(t,e);var r=t.prototype;return r.componentDidUpdate=function(e,t){var r=this.state,n=r.playing,a=r.fullscreen,o=r.muted,i=r.dragging,l=r.volume,u=this.elementRef,d=this.controlsRef;null!=u&&(n&&!t.playing?(u.play(),this.handleMouseMove(),this.handleUIUpdate()):!n&&t.playing&&u.pause(),a&&!t.fullscreen&&null!=u.parentNode?((0,s.requestFullScreen)(u.parentNode),document.addEventListener(s.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit)):!a&&t.fullscreen&&(document.removeEventListener(s.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit),(0,s.exitFullScreen)()),i===c.default.Types.DURATION&&t.dragging!==c.default.Types.DURATION&&n?u.pause():i!==c.default.Types.DURATION&&t.dragging===c.default.Types.DURATION&&n&&u.play(),o!==t.muted&&(u.muted=o,null!=d&&null!=d.volumeBar&&(o?d.volumeBar.setGrabber(0):d.volumeBar.setGrabber(l))),null!=d&&null!=d.volumeBar&&l!==t.volume&&(u.volume=l,d.volumeBar.setGrabber(l)),null!=d&&null!=d.volumeBar&&!o&&l>0&&d.volumeBar.setGrabber(l))},r.componentWillUnmount=function(){this._unmounted=!0},r.getWidth=function(){var e=this.props.width;return"100%"===e?e:Math.max(e,t.minWidth)},r.updateValue=function(e,t){void 0===t&&(t=!0);var r=this.controlsRef;null!=r&&r.updateProgress(e,t)},r.updateTime=function(e,t){e|=0,t|=0,this.state.currentTime===e&&this.state.duration===t||this.setState({currentTime:e,duration:t})},r.updateControlsVisibility=function(){var e=this.state,t=e.dragging,r=e.fullscreen?1e3:3e3,n=Math.max(0,Date.now()-this._lastMove)>r;n!==this.state.hideControls&&null==t&&this.setState({hideControls:n})},r.renderVideo=function(){var e=this,t=this.props,r=t.height,n=t.src,o=t.poster,i=t.forceExternal,l=t.onError,s=this.getWidth();return i?b("video",{className:h.default.video,controls:!1,height:r,poster:o,width:s}):a.createElement("video",{className:h.default.video,controls:!1,height:r,onClick:this.handleVideoClick,onEnded:this.handleEnded,onError:l,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,poster:o,preload:this.state.preload,ref:function(t){return e.elementRef=t},width:s},b("source",{src:n}))},r.renderAudio=function(){var e=this;return a.createElement("audio",{className:h.default.audio,controls:!1,onClick:this.handleVideoClick,onEnded:this.handleEnded,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,preload:this.state.preload,ref:function(t){return e.elementRef=t}},b("source",{src:this.props.src}))},r.renderControls=function(){var e=this,t=this.state,r=t.buffers,n=t.currentTime,o=t.duration,i=t.hasClickedPlay,l=t.hideControls,s=t.muted,u=t.playing,c=t.fullscreen,v=t.volume,m=t.dragging,g=this.props.type,y=this.getWidth();return i||g===_.AUDIO?a.createElement(A,{buffers:r,currentTime:n,duration:o,volume:v,hide:g===_.VIDEO&&l,muted:s,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onDurationChange:this.handleDurationChange,onPause:function(){e.setPlay(!1)},onPlay:function(){e.setPlay(!0)},onToggleMuted:this.toggleMuted,playing:u,dragging:m,type:g,ref:this.setControlRef,width:c?window.screen.width:y},g===_.VIDEO?b(d.default,{onClick:this.toggleFullscreen},void 0,b(f.default,{className:h.default.controlIcon,name:f.default.Names.FULL_SCREEN,style:{marginLeft:0}})):null):b("div",{className:h.default.playCenter},void 0,b(p.default,{className:h.default.playButton,onPlay:this.handleVideoClick}))},r.renderMetadata=function(){var e=this.props,t=e.fileName,r=e.fileSize,n=e.src,a=e.type,o=this.state.hideControls;return null==t||null==r?null:b(M,{fileName:t,fileSize:r,src:n,hide:a===_.VIDEO&&o,type:a})},r.renderPlayPausePop=function(){return a.createElement(E,{ref:this.setPlayPausePopRef})},r.render=function(){var e=this.props,t=e.height,r=e.type,n=e.src,a=e.forceExternal,i=e.className,l=this.getWidth(),s=this.state,u=s.fullscreen,d=s.hideControls,f=s.playing,c=s.preload,v=h.default.wrapperPaused;return r===_.AUDIO?v=h.default.wrapperAudio:d?v=h.default.wrapperControlsHidden:f&&(v=h.default.wrapperPlaying),a&&r===_.VIDEO?b("div",{className:v,style:{width:l,height:t}},void 0,this.renderMetadata(),this.renderVideo(),b("div",{className:h.default.playCenter},void 0,b(p.default,{className:h.default.playButton,externalURL:n}))):b("div",{className:(0,o.default)(v,i),"data-fullscreen":u,onMouseEnter:"none"===c?this.handlePreload:null,onMouseLeave:f?this.handleMouseLeave:null,onMouseMove:f?this.handleMouseMove:null,onDoubleClick:r===_.VIDEO?this.toggleFullscreen:null,style:u?S:{width:l,height:r===_.AUDIO?"auto":t}},void 0,this.renderMetadata(),r===_.AUDIO?this.renderAudio():this.renderVideo(),this.renderControls(),r===_.VIDEO?this.renderPlayPausePop():null)},t}(a.PureComponent);N.displayName="MediaPlayer",N.Types=_,N.defaultProps={width:498,height:80,forceExternal:!1},N.minWidth=150;var D=N;t.default=D},2593:function(e,t,r){"use strict";t.__esModule=!0,t.requestFullScreen=function(e,t){if("function"==typeof e.requestFullscreen)e.requestFullscreen();else if("function"==typeof e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if("function"==typeof e.mozRequestFullScreen)e.mozRequestFullScreen();else{if("function"!=typeof e.msRequestFullscreen)return void console.warn("Fullscreen API is not supported.");e.msRequestFullscreen()}null!=t&&t()},t.exitFullScreen=function(e){if("function"==typeof document.exitFullscreen)document.exitFullscreen();else if("function"==typeof document.webkitExitFullscreen)document.webkitExitFullscreen();else if("function"==typeof document.mozCancelFullScreen)document.mozCancelFullScreen();else{if("function"!=typeof document.msExitFullscreen)return void console.warn("Fullscreen API is not supported.");document.msExitFullscreen()}null!=e&&e()},t.isFullScreen=function(){return null!=document.fullscreenElement||null!=document.mozFullScreenElement||null!=document.webkitFullscreenElement||null!=document.msFullscreenElement},t.FULLSCREEN_CHANGE_EVENT=void 0;var n,a="function"==typeof(n=document.createElement("div")).requestFullscreen?"fullscreenchange":"function"==typeof n.webkitRequestFullscreen?"webkitfullscreenchange":"function"==typeof n.mozRequestFullScreen?"mozfullscreenchange":"function"==typeof n.msRequestFullscreen?"msfullscreenchange":"fullscreenchange";t.FULLSCREEN_CHANGE_EVENT=a},2594:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=s(r(9)),i=s(r(97)),l=s(r(1350));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c={friction:14,tension:200},p={DURATION:"DURATION",VOLUME:"VOLUME"};function h(e){var t=(e|=0)%60;return(e-t)/60+":"+String(t).padStart(2,"0")}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={animatedProgress:new i.default.Value(0),dragging:!1,offsetLeft:0,offsetWidth:0,previewWidth:new i.default.Value(0)},t.handlePreviewChange=function(){var e=f(t),r=e.bubble,n=e.state,a=n.dragging,o=n.previewWidth,i=e.props.value;a||null==r||(r.innerHTML=h(o._value*i))},t.handleAnimatedChange=function(){var e=f(t),r=e.bubble,n=e.state,a=n.dragging,o=n.animatedProgress,i=e.props.value;a&&null!=r&&(r.innerHTML=h(o._value*i))},t.handleMouseMove=function(e){var r=t.state,n=r.dragging,a=r.previewWidth;if(!n){var o=e.clientX,i=e.clientY;a.setValue(t.calculatePercentage(o,i))}},t.handleDragMove=function(e){var r=t.props,n=r.onDrag,a=r.type,o=e.clientX,i=e.clientY;n(t.calculatePercentage(o,i),a)},t.handleDragStart=function(e){var r=t.props,n=r.onDragStart,a=r.onDrag,o=r.type,i=e.clientX,l=e.clientY;if(e.preventDefault(),null!=t.wrapper){var s=t.wrapper.getBoundingClientRect(),u=s.left,d=s.width;t.setState({dragging:!0,offsetLeft:u,offsetWidth:d},function(){n(o),a(t.calculatePercentage(i,l),o),window.addEventListener("mouseup",t.handleDragEnd,!1),window.addEventListener("mousemove",t.handleDragMove,!1)})}},t.handleDragEnd=function(){(0,t.props.onDragEnd)(),window.removeEventListener("mouseup",t.handleDragEnd,!1),window.removeEventListener("mousemove",t.handleDragMove,!1),t.setState({dragging:!1})},t.setBubbleRef=function(e){null==e?t.bubble=null:null!=e.componentRef?t.bubble=e.componentRef:null!=e.refs&&(t.bubble=e.refs.node)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=n.prototype;return s.UNSAFE_componentWillMount=function(){var e=this.state,t=e.previewWidth,r=e.animatedProgress;t.addListener(this.handlePreviewChange),r.addListener(this.handleAnimatedChange)},s.componentWillUnmount=function(){var e=this.state,t=e.previewWidth,r=e.animatedProgress;t.removeListener(this.handlePreviewChange),r.removeListener(this.handleAnimatedChange),window.removeEventListener("mouseup",this.handleDragEnd,!1),window.removeEventListener("mousemove",this.handleDragMove,!1)},s.componentDidUpdate=function(e,t){var r=this.state,n=r.dragging,a=r.previewWidth,o=r.animatedProgress;!n&&t.dragging&&a.setValue(o._value)},s.setGrabber=function(e,t){void 0===t&&(t=!0);var r=this.state.animatedProgress;t?i.default.spring(r,d({toValue:e},c)).start():r.setValue(e)},s.calculatePercentage=function(e,t){var r=this.wrapper,n=this.props.type;if(null==r)return 0;var a=r.getBoundingClientRect(),o=a.left,i=a.width,l=a.bottom,s=a.height,u=n===p.VOLUME?(l-t)/s:(e-o)/i;return Math.min(1,Math.max(0,u))},s.render=function(){var e=this,t=this.props,r=t.buffers,n=t.type,s=this.state,d=s.dragging,f=s.previewWidth,c=s.animatedProgress,h=d?c:f;return u("div",{className:n===p.VOLUME?l.default.vertical:l.default.horizontal},void 0,a.createElement("div",{className:(0,o.default)(d?l.default.mediaBarInteractionDragging:l.default.mediaBarInteraction,n===p.VOLUME?l.default.mediaBarInteractionVolume:null),onMouseDown:this.handleDragStart,onMouseMove:this.handleMouseMove,ref:function(t){return e.wrapper=t}},u("div",{className:(0,o.default)(l.default.mediaBarWrapper,n===p.VOLUME?l.default.mediaBarWrapperVolume:null)},void 0,null!=r?r.map(function(e,t){var r=e[0],n=e[1];return u("div",{className:l.default.buffer,style:{width:100*n+"%",left:100*r+"%"}},t)}):null,n===p.DURATION?u(i.default.div,{className:l.default.mediaBarPreview,style:{width:f.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null,u(i.default.div,{className:l.default.mediaBarProgress,style:{width:c.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}},void 0,u("span",{className:l.default.mediaBarGrabber})),n===p.DURATION?a.createElement(i.default.div,{ref:this.setBubbleRef,className:l.default.bubble,style:{left:h.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null)))},n}(a.Component);v.displayName="MediaBar",v.Types=p;var m=v;t.default=m},2595:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=p(r(9)),i=p(r(52)),l=p(r(40)),s=p(r(422)),u=r(431),d=r(21),f=p(r(1246)),c=p(r(1354));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={fieldValue:"",hasValidationError:!1},t.handleAddVideoClick=function(){var e=(0,u.getYouTubeVideoIdFromUrl)(t.state.fieldValue);null!=e?(t.props.onAdd(e),t.setState({fieldValue:""})):t.setState({hasValidationError:!0})},t.handleVideoUrlChange=function(e,r,n){n.stopPropagation(),t.setState({hasValidationError:!1,fieldValue:e})},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.state,t=e.fieldValue,r=e.hasValidationError;return h(l.default,{className:c.default.addVideoWrapper},void 0,h(l.default.Child,{className:(0,o.default)(c.default.videoInput,f.default.restrictedWidth),grow:1,shrink:0,wrap:!0},void 0,h(s.default,{error:r?d.Messages.StoreListingCarousel.INVALID_YOUTUBE_URL:null,name:"youtubeUrl",onChange:this.handleVideoUrlChange,value:t})),h(l.default.Child,{grow:0,shrink:0,wrap:!0},void 0,h(i.default,{onClick:this.handleAddVideoClick},void 0,d.Messages.StoreListingCarousel.ADD_VIDEO)))},n}(a.Component);t.default=v,v.displayName="CarouselVideoInput"},448:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.foreground,r=e.color,i=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["foreground","color"]);return a.createElement("svg",o({},i,{viewBox:"0 0 24 24"}),function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("polygon",{className:t,fill:r,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))},i}(a.PureComponent);i.displayName="ArrowUp",i.defaultProps={width:24,height:24,color:"currentColor"};var l=i;t.default=l}}]);
//# sourceMappingURL=5c7186d010b1c79f6dd9.js.map