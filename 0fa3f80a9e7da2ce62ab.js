(window.webpackJsonp=window.webpackJsonp||[]).push([[281],{5246:function(e,r,t){"use strict";r.__esModule=!0,r.default=void 0;var n=s(t(6)),i=s(t(3)),a=s(t(1)),u=s(t(11)),l=s(t(87)),o=s(t(194)),f=t(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var v={},c={};function y(e,r){return(v[e]||{})[r]||null}function p(e,r){var t=y(e,r);if(null!=t){var n=v[e];delete n[r],0===Object.keys(n)&&delete v[e];var i=c[t];null!=i&&(i.delete(e),0===i.size&&delete c[t])}}function b(e,r,t,n){var i=t.find(function(e){return null!=e.party&&e.party.id}),a=null!=i&&null!=i.party?i.party.id:null,u=y(r,e);if(null==a||n===f.StatusTypes.OFFLINE)return null!=u&&void p(r,e);if(null!=u){if(u===a)return!1;p(r,e)}!function(e,r,t){var n=v[e];if(null==n&&(n=v[e]={}),n[r]=t,!l.default.isBlocked(e)){var i=c[t]||new Set;c[t]=i,i.add(e)}}(r,e,a)}function E(e){var r=e.guild,t=!1,n=r.presences,i=Array.isArray(n),a=0;for(n=i?n:n[Symbol.iterator]();;){var u;if(i){if(a>=n.length)break;u=n[a++]}else{if((a=n.next()).done)break;u=a.value}var l=u,o=l.user,f=l.status,s=l.activities;!1!==b(r.id,o.id,s,f)&&(t=!0)}return t}function A(){var e=u.default.getId(),r=o.default.getActivities();return b(f.ME,e,r)}var h=new(function(e){var r,t;function n(){return e.apply(this,arguments)||this}t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t;var i=n.prototype;return i.initialize=function(){this.syncWith([o.default],A),this.waitFor(o.default,l.default)},i.getParty=function(e){return null!=e&&null!=c[e]?c[e]:null},i.getUserParties=function(){return v},i.getParties=function(){return c},n}(i.default.Store))(a.default,{CONNECTION_OPEN:function(e){var r=e.presences,t=e.guilds,n=!1,i=r,a=Array.isArray(i),u=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(u>=i.length)break;l=i[u++]}else{if((u=i.next()).done)break;l=u.value}var o=l,s=o.user,d=o.status,v=o.activities;null!=s&&!1!==b(f.ME,s.id,v,d)&&(n=!0)}var c=t,y=Array.isArray(c),p=0;for(c=y?c:c[Symbol.iterator]();;){var A;if(y){if(p>=c.length)break;A=c[p++]}else{if((p=c.next()).done)break;A=p.value}!1!==E({guild:A})&&(n=!0)}return n},OVERLAY_INITIALIZE:function(e){var r=e.parties,t=e.userParties;c={},v=d({},t),Object.keys(r).forEach(function(e){return c[e]=new Set(r[e])})},GUILD_CREATE:E,PRESENCES_REPLACE:function(e){var r=!1,t=e.presences,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(i>=t.length)break;a=t[i++]}else{if((i=t.next()).done)break;a=i.value}var u=a,l=u.user,o=u.activities;null!=l&&!1!==b(f.ME,l.id,o)&&(r=!0)}return r},PRESENCE_UPDATE:function(e){var r=e.guildId,t=e.user,n=e.status,i=e.activities;return b(r||f.ME,t.id,i,n)},RELATIONSHIP_ADD:function(e){var r=e.relationship;if(!l.default.isBlocked(r.id))return!1;var t=v[r.id];if(null==t)return!1;var i=n.default.values(t),a=Array.isArray(i),u=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(u>=i.length)break;o=i[u++]}else{if((u=i.next()).done)break;o=u.value}var f=c[o];null!=f&&f.delete(r.id)}},RELATIONSHIP_REMOVE:function(e){var r=e.relationship,t=v[r.id];if(null==t)return!1;var i=n.default.values(t),a=Array.isArray(i),u=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(u>=i.length)break;l=i[u++]}else{if((u=i.next()).done)break;l=u.value}var o=c[l];null!=o&&o.add(r.id)}}});r.default=h}}]);
//# sourceMappingURL=0fa3f80a9e7da2ce62ab.js.map