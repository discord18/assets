(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{5654:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=r(264),l=v(r(3)),s=r(582),u=r(530),f=v(r(41)),c=v(r(537)),d=v(r(948)),p=v(r(31)),_=r(6083),y=r(535),E=v(r(6276)),h=v(r(959)),T=v(r(6082)),I=v(r(6815)),m=v(r(6799)),S=r(6081),A=r(0),O=v(r(5573));function v(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(0,s.makeLazy)(function(){return Promise.all([r.e(0),r.e(203),r.e(204)]).then(r.t.bind(null,6727,7))});l.default.initialize();var C=function(e){function t(){return R(this,t),g(this,e.apply(this,arguments))}return N(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.children;return a("div",{className:t},void 0,r)},t}(o.Component),L=a(E.default,{}),b=function(e){function t(){var r,n;R(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=n=g(this,e.call.apply(e,[this].concat(i))),n.state={pageSize:t.getPageSize(n.props.width)},n.renderApplicationStoreListing=function(e){var t=e.match,r=e.location,o=(0,u.parse)(r.search);return a(m.default,{match:t,location:r,storeListingId:o.store_listing_id,pageSize:n.state.pageSize})},g(n,r)}return N(t,e),t.getDerivedStateFromProps=function(e,r){var n=t.getPageSize(e.width);return n!==r.pageSize?{pageSize:n}:null},t.getPageSize=function(e){return e<S.PAGE_WIDTH_THRESHOLD?S.PageSizes.SMALL:S.PageSizes.LARGE},t.prototype.componentDidMount=function(){this.props.isAuthenticated&&((0,_.updateLocation)(window.location),this.stopListeningToHistory=f.default.getHistory().listen(function(e){e.pathname.startsWith(A.Routes.APPLICATION_STORE)&&(0,_.updateLocation)(e)}),(0,y.fetchPaymentSources)())},t.prototype.componentWillUnmount=function(){null!=this.stopListeningToHistory&&this.stopListeningToHistory()},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,r=e.isGameStoreExperimentLoaded,n=e.isInExperiment,o=e.location,l=e.locale;return r?n?a(t?C:P,{className:O.default.applicationStore,location:o,locale:l},void 0,a(i.Switch,{},void 0,a(i.Route,{path:A.Routes.APPLICATION_STORE,exact:!0,component:I.default}),a(i.Route,{path:A.Routes.APPLICATION_STORE_BROWSE,component:I.default}),a(i.Route,{path:A.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:this.renderApplicationStoreListing}),a(i.Route,{path:A.Routes.APPLICATION_STORE_LISTING_SKU(":skuId"),render:this.renderApplicationStoreListing}))):L:null},t}(o.Component),M=(0,T.default)((0,h.default)(b)),w=l.default.connectStores([c.default,d.default,p.default],function(){return{isInExperiment:c.default.isInExperiment(),isGameStoreExperimentLoaded:c.default.isLoaded(),locale:p.default.locale}})(M);t.default=(0,i.withRouter)(w),e.exports=t.default},5993:function(e,t,r){"use strict";t.__esModule=!0;var n,a,o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),r(5630)),l=(a=i)&&a.__esModule?a:{default:a};t.default=function(e){var t=e.children,r=e.tag;return o(r=null!=r?r:"h3",{className:l.default.title},void 0,t)},e.exports=t.default},6013:function(e,t,r){"use strict";t.__esModule=!0,t.isMobile=t.isTablet=void 0;var n,a=r(45),o=(n=a)&&n.__esModule?n:{default:n};var i=new Set(["iPad","Kindle","Kindle Fire","Nook","PlayBook"]),l=new Set(["Android","iOS","Windows Phone"]),s=i.has(o.default.product),u=!s&&l.has(o.default.os.family);t.isTablet=s,t.isMobile=u},6081:function(e,t,r){"use strict";t.__esModule=!0;t.PAGE_WIDTH_THRESHOLD=1e3,t.PageSizes=Object.freeze({SMALL:"small",LARGE:"large"})},6082:function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){return function(t){function r(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=s(this,t.call.apply(t,[this].concat(o))),e=n,n.state={isAuthenticated:l.default.isAuthenticated()},n.onStoreChange=function(){n.setState({isAuthenticated:l.default.isAuthenticated()})},s(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),r.prototype.componentDidMount=function(){l.default.addChangeListener(this.onStoreChange)},r.prototype.componentWillUnmount=function(){l.default.removeChangeListener(this.onStoreChange)},r.prototype.render=function(){var t=this.props,r=t.setRef,a=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["setRef"]);return o.createElement(e,n({},a,{ref:r,isAuthenticated:this.state.isAuthenticated}))},r}(o.Component)};var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=r(14),l=(a=i)&&a.__esModule?a:{default:a};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6083:function(e,t,r){"use strict";t.__esModule=!0,t.updateLocation=function(e){n.default.wait(function(){return n.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e})})},t.goBack=function(){var e=a.default.getRouteAtIndex(-1);null!=e&&o.default.replaceWith(e,{back:!0})},t.goForward=function(){var e=a.default.getRouteAtIndex(1);null!=e&&o.default.replaceWith(e,{forward:!0})},t.handleDirectoryUnmount=function(e,t){n.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var n=l(r(2)),a=l(r(6055)),o=l(r(41)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}},6139:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=_(r(9)),l=r(533),s=r(6305),u=_(r(163)),f=_(r(79)),c=_(r(6)),d=r(0),p=_(r(5649));function _(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.iconName,r=e.className;return a(f.default,{name:t,className:(0,i.default)(p.default.iconCircle,r)})},E=function(e){var t=e.circle,r=e.smallHeader,n=e.text,o=e.className;return a("div",{className:(0,i.default)(p.default.recommendationReason,o)},void 0,t,a("div",{className:p.default.description},void 0,null!=r?a("div",{className:p.default.smallHeader},void 0,r):null,a("div",{className:p.default.text},void 0,n)))},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReviewAggregator=function(e){var t=this.props.className,r=(0,s.getRatingTier)(e);return null==r?null:a(E,{circle:null!=e.url?a(u.default,{href:e.url,useDefaultUnderlineStyles:!1,className:(0,i.default)(p.default.reviewCircle,p.default.circleAnchor),style:{backgroundColor:r.color}},void 0,e.criticScore):a("div",{className:p.default.reviewCircle,style:{backgroundColor:r.color}},void 0,e.criticScore),smallHeader:c.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC,text:r.label,className:t})},t.prototype.render=function(){var e=this.props,t=e.reason,r=e.className;return t.type===d.StoreRecommendationTypes.RECENT_RELEASE_DATE?a(E,{circle:a(y,{iconName:f.default.Names.CALENDAR}),smallHeader:c.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,l.dateFormat)(t.releaseDate,"LL"),className:r}):t.type===d.StoreRecommendationTypes.RELEASE_DATE?a(E,{className:r,circle:a(y,{iconName:f.default.Names.CALENDAR}),smallHeader:c.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.METACRITIC_SCORE?this.renderReviewAggregator(t.reviewAggregator):t.type===d.StoreRecommendationTypes.FLAVOR_TEXT?a(E,{circle:a(y,{iconName:f.default.Names.CHECKMARK}),text:t.flavorText,className:r}):null},t}(o.Component);t.default=h,e.exports=t.default},6140:function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(3)),a=o(r(2));r(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=void 0,l=void 0,s=void 0;function u(){l={},i={},s=new Set}u();var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStatisticsForApplication=function(e){return i[e]},t.prototype.shouldFetchStatisticsForApplication=function(e){var t=l[e];return!s.has(e)&&(null==t||Date.now()-t>36e5)},t}(n.default.Store);t.default=new f(a.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;s.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;s.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,r=e.applicationId;l[r]=Date.now(),s.delete(r),i[r]=t},LOGOUT:function(e){return u()}}),e.exports=t.default},6298:function(e,t,r){"use strict";t.__esModule=!0,t.MessageStyles=void 0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=p(r(1)),i=d(r(166)),l=d(r(3)),s=d(r(2)),u=d(r(6149)),f=p(r(981)),c=d(r(6));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var _=t.MessageStyles=(0,i.default)({SHORT:null,LONG:null}),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getText=function(e,t){if(429===e.status)switch(t){case _.SHORT:return c.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR_SHORT;case _.LONG:return c.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR}switch(t){case _.SHORT:return c.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR_SHORT;case _.LONG:return c.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR}},t.prototype.componentWillUnmount=function(){this.props.purchaseError&&s.default.wait(function(){return f.clearPurchaseError()})},t.prototype.render=function(){var e=this.props,t=e.className,r=e.purchaseError,n=e.messageStyle;return null==r?null:a("div",{className:t},void 0,this.getText(r,n))},t}(o.PureComponent);y.defaultProps={messageStyle:_.LONG},t.default=l.default.connectStores([u.default],function(){return{purchaseError:u.default.error}})(y)},6299:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=d(r(5)),l=d(r(163)),s=d(r(40)),u=r(533),f=r(169),c=d(r(5625));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCoverImageURL=function(){var e=this.props,t=e.game,r=e.news.thumbnail;return null!=r&&null!=r.proxy_url?(0,f.getSizedImageSrc)(r.proxy_url,700,210,"png"):t.getSplashURL(700)},t.prototype.getCoverImageURLStyle=function(){var e=this.getCoverImageURL();return null!=e?{backgroundImage:"url("+e+")"}:null},t.prototype.getTimestamp=function(){var e=this.props.news;return null!=e.timestamp?(0,u.dateFormat)((0,i.default)(e.timestamp),"LL"):null},t.prototype.renderOpenBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),r=this.getTimestamp();return a(s.default,{className:c.default.openWrap},void 0,a("div",{className:c.default.openBody},void 0,null!=r?a("div",{className:c.default.openTimestamp},void 0,r):null,a("div",{className:c.default.openTitle},void 0,e.title),a("div",{className:c.default.openDescription},void 0,e.description)),a("div",{className:c.default.openImage,style:t}))},t.prototype.renderCollapsedBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),r=null!=e.timestamp?(0,u.dateFormat)((0,i.default)(e.timestamp),"LL"):null;return a(s.default,{className:c.default.collapsedWrap},void 0,a("div",{className:c.default.collapsedImage,style:t}),a(s.default,{className:c.default.collapsedBody,direction:s.default.Direction.VERTICAL,justify:s.default.Justify.CENTER,style:{margin:16}},void 0,null!=r?a("div",{className:c.default.collapsedTimestamp},void 0,r):null,a("div",{className:c.default.collapsedTitle},void 0,e.title)))},t.prototype.render=function(){var e=this.props,t=e.collapsed,r=e.news;return a(l.default,{href:r.url,target:"_blank",className:c.default.item},void 0,t?this.renderCollapsedBody():this.renderOpenBody())},t}(o.PureComponent);t.default=p,e.exports=t.default},6300:function(e,t,r){"use strict";t.__esModule=!0,t.ItemSizes=void 0;var n,a,o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=((a=["grayscale(",")"]).raw=["grayscale(",")"],a),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),u=R(r(9)),f=R(r(189)),c=R(r(6095)),d=r(990),p=R(r(6108)),_=r(6397),y=R(_),E=r(6034),h=R(E),T=R(r(558)),I=R(r(87)),m=R(r(38)),S=R(r(6796)),A=R(r(959)),O=r(0),v=R(r(5632));function R(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=2048,P={top:85,left:85,bottom:85,right:85};function C(e){return e.split("?")[0]+"?size="+N}var L=t.ItemSizes={SMALL:{width:640,height:360,margin:15},MEDIUM:{width:880,height:495,margin:20}},b={width:1920,height:1080},M={width:1280,height:720},w=function(e){var t=e.item,r=e.size,n=e.onPlay,a=e.playable,l=e.playing,f=e.onClick,c=void 0,_=void 0;if(t.type===O.CarouselMediaTypes.YOUTUBE_VIDEO)c=i({url:(0,O.YOUTUBE_PREVIEW_URL)(t.youtubeVideoId)},b),_=i({url:(0,O.YOUTUBE_EMBED_URL)(t.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},M);else{var y=null!=t.width?t.width:0,E=null!=t.height?t.height:0;c={url:t.thumbnailSrc,width:y,height:E},_={url:t.src,proxyURL:t.src,width:y,height:E}}return o(d.EmbedVideo,{href:null,thumbnail:c,video:_,allowFullScreen:!0,VideoComponent:p.default,ImageComponent:function(e){var r=e.imageClassName,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["imageClassName"]);return s.createElement("img",i({alt:t.alt},n,{className:(0,u.default)(v.default.itemImage,v.default.itemVideo,r),onClick:f,draggable:!1}))},maxHeight:r.height,maxWidth:r.width,onPlay:n,playable:a,className:v.default.video,autoplay:l})},D=o(function(){return o("div",{className:v.default.paginationVideoOverlay},void 0,o(T.default,{inactive:!0,className:v.default.paginationVideoPlayPill}))},{}),U=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=n=g(this,e.call.apply(e,[this].concat(i))),n.state={currentIndex:0,animate:!0,playingVideo:!1,hasInteracted:!1},n.getItemSize=function(){var e=n.props.width,t=L.MEDIUM;return null!=e&&e<t.width&&(t=L.SMALL),t},n.setItem=function(e,t){var r=n,a=r.props,o=a.items,i=a.onIntentionalChange,l=r.state,s=l.currentIndex,u=l.hasInteracted,f=(0,_.normalizeIndex)(s,o.length),c=(0,_.normalizeIndex)(e,o.length),d=1===Math.abs(e-f)||e===o.length-1&&0===f||0===e&&f===o.length-1;t&&(u=!0),n.setState({playingVideo:!1,currentIndex:c,animate:d,hasInteracted:u}),t&&null!=i&&i(o[c],f,c)},n.autoNext=function(){n.setItem(n.state.currentIndex+1,!1)},n.manualNext=function(){n.setItem(n.state.currentIndex+1,!0)},n.manualPrevious=function(){n.setItem(n.state.currentIndex-1,!0)},n.handlePlay=function(){return n.setState({playingVideo:!0})},n.handleVideoClick=function(e){n.setItem(e,!0),n.handlePlay()},n.renderZoom=function(e){var t=e.onClose,r=n,a=r.props.items,i=a[r.state.currentIndex],l=0,s=[],u=a,f=Array.isArray(u),c=0;for(u=f?u:u[Symbol.iterator]();;){var d;if(f){if(c>=u.length)break;d=u[c++]}else{if((c=u.next()).done)break;d=c.value}var p=d;if(p.type===O.CarouselMediaTypes.IMG){var _=p.width,y=p.height,E=p.src;p===i&&(l=s.length),s.push({src:C(E),width:_,height:y})}}return o(S.default,{items:s,startWith:l,onClose:t})},n.handleCarouselZoom=function(){n.setState({hasInteracted:!0}),m.default.push(n.renderZoom)},n.renderCarouselImage=function(e,t,r){return r?o(I.default,{onClick:n.handleCarouselZoom,className:v.default.itemImageWrapper},void 0,o("img",{src:e.src,alt:"",className:v.default.currentImage})):o(I.default,{onClick:function(){return n.setItem(t,!0)},className:v.default.itemImageWrapper},void 0,o("img",{alt:"",className:v.default.itemImage,src:e.src,draggable:!1}))},n.renderItem=function(e,t,r){var a,i=n.state,l=i.playingVideo,s=i.currentIndex,c=t===(0,_.normalizeIndex)(s,n.props.items.length);return o(f.default.div,{className:(0,u.default)(v.default.item,(a={},a[v.default.currentItem]=c,a)),style:null!=r?n.getStyle(t,r):null},void 0,e.type===O.CarouselMediaTypes.VIDEO||e.type===O.CarouselMediaTypes.YOUTUBE_VIDEO?o(w,{item:e,size:n.getItemSize(),onPlay:n.handlePlay,playable:c,onClick:function(){return n.handleVideoClick(t)},playing:l&&c}):n.renderCarouselImage(e,t,c))},n.renderPaginationItem=function(e,t){var r=n.state.currentIndex===t;return o("div",{className:(0,u.default)(v.default.paginationItem,r?v.default.selectedStorePaginationItem:v.default.unselectedStorePaginationItem)},"page-"+t,o("img",{alt:null==e.alt?t:e.alt,className:v.default.storePaginationImg,src:n.getPaginationSrc(e),draggable:!1}),e.type===O.CarouselMediaTypes.YOUTUBE_VIDEO||e.type===O.CarouselMediaTypes.VIDEO?D:null,r?o("div",{className:v.default.overlappingBorder}):null)},g(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStyle=function(e,t){var r=t.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:f.default.Extrapolate.CLAMP});return{opacity:t.interpolate({inputRange:[0,1],outputRange:[.3,1],extrapolate:f.default.Extrapolate.CLAMP}),filter:f.default.template(l,r)}},t.prototype.renderCarousel=function(){var e=this.props.items,t=this.state,r=t.currentIndex,n=t.animate,a=o(y.default,{items:e,itemSize:this.getItemSize(),renderItem:this.renderItem,currentIndex:r,animate:n,edgeItems:2});return e.length<=1?a:o("div",{className:v.default.carouselButtonsContainer},void 0,a,o(E.CarouselPrevious,{onClick:this.manualPrevious,className:v.default.arrow}),o(E.CarouselNext,{onClick:this.manualNext,className:v.default.arrow}))},t.prototype.getPaginationSrc=function(e){return e.type===O.CarouselMediaTypes.YOUTUBE_VIDEO?(0,O.YOUTUBE_PREVIEW_URL)(e.youtubeVideoId):e.type===O.CarouselMediaTypes.IMG?e.src:e.type===O.CarouselMediaTypes.VIDEO?e.thumbnailSrc:null},t.prototype.render=function(){var e=this,t=this.props,r=t.items,n=t.className,a=t.autoplayInterval,i=t.paused,l=this.state,s=l.currentIndex,u=l.playingVideo,f=l.hasInteracted;return o(c.default,{pauseOnHover:!0,onInterval:this.autoNext,interval:a,className:n,disable:u||f||i},void 0,this.renderCarousel(),o("div",{className:v.default.pagination},void 0,o(h.default,{renderItem:this.renderPaginationItem,scrollToPadding:P,items:r,selectedIndex:s,onSetItem:function(t){return e.setItem(t,!0)},paginationContainerClass:v.default.scroller})))},t}(s.PureComponent);U.defaultProps={autoplayInterval:8e3,paused:!1},t.default=(0,A.default)(U)},6301:function(e,t,r){"use strict";t.__esModule=!0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=b(r(1)),l=L(r(3)),s=L(r(6)),u=r(1196),f=L(r(536)),c=L(r(41)),d=L(r(983)),p=L(r(525)),_=L(r(6149)),y=L(r(6798)),E=L(r(12)),h=L(r(191)),T=L(r(31)),I=L(r(279)),m=b(r(981)),S=b(r(1014)),A=L(r(38)),O=L(r(522)),v=L(r(64)),R=L(r(978)),g=L(r(79)),N=L(r(142)),P=r(0),C=L(r(5634));function L(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var r,n,a,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=n=M(this,e.call.apply(e,[this].concat(s))),n.handleClick=(a=regeneratorRuntime.mark(function e(t){var r,a,o,l,s,u,f,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.isAuthenticated,o=r.application,l=r.sku,s=r.skuId,u=r.isUserPremium,f=r.onClick,d=r.analyticsLocation,p=r.isInTestMode,null!=l){e.next=3;break}throw new Error("should not be able to buy without sku");case 3:if(a){e.next=6;break}return c.default.transitionTo(P.Routes.LOGIN_AND_REDIRECT(P.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug))),e.abrupt("return");case 6:if(!l.premium||u||p){e.next=10;break}O.default.open(P.UserSettingsSections.PREMIUM),e.next=22;break;case 10:if(l.requiresPayment){e.next=21;break}return e.prev=11,e.next=14,m.purchaseSKU(l.applicationId,l.id);case 14:A.default.push(y.default,{application:o,sku:l,onClose:function(){return A.default.pop()}}),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(11);case 19:e.next=22;break;case 21:S.openSKUPaymentModal(o.id,s,!1,d);case 22:null!=f&&f(t);case 23:case"end":return e.stop()}},e,i,[[11,17]])}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,r){return function n(a,o){try{var i=e[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)}),M(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,r=e.application,n=e.skuId;null==t&&m.fetchSKU(r.id,n).catch(function(){})},t.prototype.componentDidUpdate=function(e){this.props.locale!==e.locale&&m.fetchSKU(this.props.application.id,this.props.skuId).catch(function(){})},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,r=e.isEntitled,n=e.sku,l=e.isUserPremium,u=e.isPurchasing,f=e.isWindowFocused,c=e.tooltipPosition,d=e.isInTestMode,p=(e.skuId,e.application,e.analyticsLocation,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["isAuthenticated","isEntitled","sku","isUserPremium","isPurchasing","isWindowFocused","tooltipPosition","isInTestMode","skuId","application","analyticsLocation"])),_=v.default,y=void 0,E=null,h=!0===r,T=!1,I=p,m=!0===r?s.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY:null;null!=n?n.restricted?(h=!0,E=s.default.Messages.APPLICATION_STORE_BUY,m=s.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION):n.premium?(y=o(g.default,{name:g.default.Names.NITRO_WHEEL,className:C.default.premiumIcon}),E=l||d?s.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY:s.default.Messages.APPLICATION_STORE_GET_PREMIUM,_=R.default,I=a({},I,{pauseAnimation:!f})):null==n.getPrice()?(h=!0,E=s.default.Messages.GAME_ACTION_BUTTON_INSTALL):E=t?0===n.getPrice()?s.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY:s.default.Messages.APPLICATION_STORE_BUY:s.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY:T=!0;var S=i.createElement(_,a({},I,{innerClassName:C.default.applicationBuyButton,disabled:h,submitting:T||u,onClick:this.handleClick}),y,E);return h?o("div",{className:C.default.disabledButtonWrapper},void 0,S,o(N.default,{text:m,position:c},void 0,o("div",{className:C.default.disabledButtonOverlay}))):S},t}(i.Component);w.defaultProps={tooltipPosition:N.default.Positions.TOP},t.default=l.default.connectStores([d.default,p.default,_.default,E.default,T.default,h.default,I.default],function(e){var t=e.skuId,r=e.application,n=E.default.getNullableCurrentUser();return{sku:p.default.get(t),isInTestMode:I.default.inTestModeForApplication(r.id),isEntitled:(0,u.isEntitledToSku)(t,r.id,r.id),isUserPremium:f.default.canInstallPremiumApplications(n),isWindowFocused:h.default.isFocused(),isAuthenticated:null!=n,isPurchasing:_.default.isPurchasingSKU,locale:T.default.locale}})(w),e.exports=t.default},6302:function(e,t,r){"use strict";t.__esModule=!0,t.getGenreText=function(e){switch(e){case a.SKUGenres.ACTION:return i.default.Messages.APPLICATION_STORE_GENRE_ACTION;case a.SKUGenres.ACTION_RPG:return i.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case a.SKUGenres.BRAWLER:return i.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;case a.SKUGenres.HACK_AND_SLASH:return i.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case a.SKUGenres.PLATFORMER:return i.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case a.SKUGenres.STEALTH:return i.default.Messages.APPLICATION_STORE_GENRE_STEALTH;case a.SKUGenres.SURVIVAL:return i.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case a.SKUGenres.ADVENTURE:return i.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case a.SKUGenres.ACTION_ADVENTURE:return i.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case a.SKUGenres.METROIDVANIA:return i.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case a.SKUGenres.OPEN_WORLD:return i.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case a.SKUGenres.PSYCHOLOGICAL_HORROR:return i.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case a.SKUGenres.SANDBOX:return i.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;case a.SKUGenres.SURVIVAL_HORROR:return i.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case a.SKUGenres.VISUAL_NOVEL:return i.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case a.SKUGenres.DRIVING_RACING:return i.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case a.SKUGenres.VEHICULAR_COMBAT:return i.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case a.SKUGenres.MASSIVELY_MULTIPLAYER:return i.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case a.SKUGenres.MMORPG:return i.default.Messages.APPLICATION_STORE_GENRE_MMORPG;case a.SKUGenres.ROLE_PLAYING:return i.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case a.SKUGenres.DUNGEON_CRAWLER:return i.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case a.SKUGenres.ROGUELIKE:return i.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case a.SKUGenres.SHOOTER:return i.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;case a.SKUGenres.LIGHT_GUN:return i.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case a.SKUGenres.SHOOT_EM_UP:return i.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case a.SKUGenres.FPS:return i.default.Messages.APPLICATION_STORE_GENRE_FPS;case a.SKUGenres.DUAL_JOYSTICK_SHOOTER:return i.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case a.SKUGenres.SIMULATION:return i.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;case a.SKUGenres.FLIGHT_SIMULATOR:return i.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case a.SKUGenres.TRAIN_SIMULATOR:return i.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case a.SKUGenres.LIFE_SIMULATOR:return i.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case a.SKUGenres.FISHING:return i.default.Messages.APPLICATION_STORE_GENRE_FISHING;case a.SKUGenres.SPORTS:return i.default.Messages.APPLICATION_STORE_GENRE_SPORTS;case a.SKUGenres.BASEBALL:return i.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;case a.SKUGenres.BASKETBALL:return i.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case a.SKUGenres.BILLIARDS:return i.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case a.SKUGenres.BOWLING:return i.default.Messages.APPLICATION_STORE_GENRE_BOWLING;case a.SKUGenres.BOXING:return i.default.Messages.APPLICATION_STORE_GENRE_BOXING;case a.SKUGenres.FOOTBALL:return i.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case a.SKUGenres.GOLF:return i.default.Messages.APPLICATION_STORE_GENRE_GOLF;case a.SKUGenres.HOCKEY:return i.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;case a.SKUGenres.SKATEBOARDING_SKATING:return i.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case a.SKUGenres.SNOWBOARDING_SKIING:return i.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case a.SKUGenres.SOCCER:return i.default.Messages.APPLICATION_STORE_GENRE_SOCCER;case a.SKUGenres.TRACK_FIELD:return i.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case a.SKUGenres.SURFING_WAKEBOARDING:return i.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case a.SKUGenres.WRESTLING:return i.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;case a.SKUGenres.STRATEGY:return i.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;case a.SKUGenres.FOUR_X:return i.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;case a.SKUGenres.ARTILLERY:return i.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case a.SKUGenres.RTS:return i.default.Messages.APPLICATION_STORE_GENRE_RTS;case a.SKUGenres.TOWER_DEFENSE:return i.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case a.SKUGenres.TURN_BASED_STRATEGY:return i.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case a.SKUGenres.WARGAME:return i.default.Messages.APPLICATION_STORE_GENRE_WARGAME;case a.SKUGenres.MOBA:return i.default.Messages.APPLICATION_STORE_GENRE_MOBA;case a.SKUGenres.FIGHTING:return i.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;case a.SKUGenres.PUZZLE:return i.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;case a.SKUGenres.CARD_GAME:return i.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case a.SKUGenres.EDUCATION:return i.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;case a.SKUGenres.FITNESS:return i.default.Messages.APPLICATION_STORE_GENRE_FITNESS;case a.SKUGenres.GAMBLING:return i.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;case a.SKUGenres.MUSIC_RHYTHM:return i.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case a.SKUGenres.PARTY_MINI_GAME:return i.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case a.SKUGenres.PINBALL:return i.default.Messages.APPLICATION_STORE_GENRE_PINBALL;case a.SKUGenres.TRIVIA_BOARD_GAME:return i.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;default:return i.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}};var n,a=r(0),o=r(6),i=(n=o)&&n.__esModule?n:{default:n}},6303:function(e,t,r){"use strict";t.__esModule=!0,t.getApplicationTrailer=function(e){return n+"/"+e+"/trailer.mp4"},t.getApplicationBackground=function(e){return n+"/"+e+"/hero-background.jpg"};var n="https://cdn.discordapp.com/store-directory-assets/applications"},6304:function(e,t,r){"use strict";t.__esModule=!0;var n,a,o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),s=T(r(9)),u=T(r(6)),f=T(r(970)),c=T(r(142)),d=T(r(263)),p=T(r(968)),_=T(r(223)),y=T(r(531)),E=(T(r(88)),r(0)),h=T(r(5648));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(527);var m=((a={})[E.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,r){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return r(e)},user2:t.username,user2Hook:function(){return r(t)}})},other:function(e){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},a[E.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,r){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return r(e)},user2:t.username,user2Hook:function(){return r(t)}})},other:function(e){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},a[E.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,r){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return r(e)},user2:t.username,user2Hook:function(){return r(t)}})},other:function(e){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},a),S=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=n=I(this,e.call.apply(e,[this].concat(u))),n.renderUserPopout=function(e,t){return l.createElement(y.default,i({},t,{user:e}))},n.renderPlayer=function(e,t,r,a){var i,l=e;if(null==l)return null;var u=n.props.reason.userInfo.find(function(e){return e.user===l});return null==u?null:o(_.default,{render:function(e){return n.renderUserPopout(l,e)},position:_.default.Positions.RIGHT,closeOnScroll:!1},l.id,o(c.default,{text:o(p.default,{location:p.default.Locations.ACTIVITY_FEED,start:u.startTime,end:u.endTime})},void 0,o(d.default,{className:(0,s.default)(h.default.playerAvatar,(i={},i[h.default.avatarMasked]=!a,i)),src:l.getAvatarURL(),size:d.default.Sizes.SMALL})))},n.renderPlayerOverflow=function(e,t,r){return o("div",{className:h.default.playerOverflow},r,e)},I(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(e,t){var r=this,n=m[e];return 1===t.length?n.single(t[0].user,function(e){return r.renderActivityDiscordTag(e)}):2===t.length?n.double(t[0].user,t[1].user,function(e){return r.renderActivityDiscordTag(e)}):n.other(t.length)},t.prototype.renderActivityDiscordTag=function(e){var t=this;return o(_.default,{render:function(r){return t.renderUserPopout(e,r)},position:_.default.Positions.RIGHT,closeOnScroll:!1},e.id,o("span",{className:h.default.username},void 0,e.username))},t.prototype.render=function(){var e=this.props,t=e.reason,r=e.className,n=t.type,a=t.userInfo;return 0===a.length?null:o("div",{className:r},void 0,o(f.default,{className:h.default.players,users:a.map(function(e){return e.user}),renderUser:this.renderPlayer,max:8,renderMoreUsers:this.renderPlayerOverflow}),o("div",{className:h.default.description},void 0,this.renderDescription(n,a)))},t}(l.PureComponent);t.default=S,e.exports=t.default},6305:function(e,t,r){"use strict";var n;t.__esModule=!0,t.getRatingTier=function(e){var t=f[e.aggregator];if(null==t)return null;if(e.aggregator===l.ReviewAggregators.METACRITIC&&e.criticTotalRatings<s)return null;return t.find(function(t){return t.minimumScore<=e.criticScore})};var a,o=r(6),i=(a=o)&&a.__esModule?a:{default:a},l=r(0);var s=4;function u(e,t,r){return{minimumScore:e,color:t,get label(){return r()}}}var f=((n={})[l.ReviewAggregators.METACRITIC]=[u(90,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_UNIVERSAL_ACCLAIM}),u(75,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_FAVORABLE}),u(50,"#fc3",function(){return i.default.Messages.METACRITIC_VERDICT_MIXED_OR_AVERAGE}),u(20,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_UNFAVORABLE}),u(0,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_OVERWHELMING_DISLIKE})],n)},6306:function(e,t,r){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=void 0;t.fetchStatisticsForApplication=(n=regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.dispatch({type:s.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,o.default.get(s.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return r=e.sent,n=r.body,l.default.dispatch({type:s.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n,applicationId:t}),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(1),l.default.dispatch({type:s.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new i.default(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}),a=function(){var e=n.apply(this,arguments);return new Promise(function(t,r){return function n(a,o){try{var i=e[a](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)});var n,a,o=u(r(13)),i=u(r(394)),l=u(r(2)),s=r(0);function u(e){return e&&e.__esModule?e:{default:e}}},6307:function(e,t,r){"use strict";t.__esModule=!0,t.OperatingSystemSection=void 0;var n,a,o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}});t.default=_;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1));var i=d(r(9)),l=d(r(79)),s=d(r(142)),u=d(r(6)),f=r(0),c=d(r(5650));function d(e){return e&&e.__esModule?e:{default:e}}var p=((a={})[f.OperatingSystems.WINDOWS]={iconName:l.default.Names.OS_WINDOWS,label:u.default.Messages.WINDOWS},a[f.OperatingSystems.MACOS]={iconName:l.default.Names.OS_MAC,label:u.default.Messages.MACOS},a[f.OperatingSystems.LINUX]={iconName:l.default.Names.OS_LINUX,label:u.default.Messages.LINUX},a);function _(e){var t=e.operatingSystem,r=e.className,n=p[t];if(null==n)throw new Error("Unexpected operating system: "+t);return o(s.default,{text:n.label,className:r},void 0,o(l.default,{name:n.iconName}))}t.OperatingSystemSection=function(e){var t=e.systems,r=e.className,n=e.iconClassName;return o("div",{className:(0,i.default)(c.default.OSSection,r)},void 0,t.map(function(e){return o(_,{operatingSystem:e,className:(0,i.default)(c.default.purchaseUnitOperatingSystem,n)},e)}))}},6308:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),u(r(9))),i=u(r(6)),l=u(r(79)),s=u(r(5651));function u(e){return e&&e.__esModule?e:{default:e}}var f=a("div",{});t.default=function(e){var t=e.sku,r=e.className,n=e.inLibrary,u=e.libraryClass,c=e.saleClass,d=e.premiumClass,p=e.iconClass;return n?a("div",{className:(0,o.default)(s.default.inLibrary,u,r)},void 0,a(l.default,{className:(0,o.default)(s.default.inLibraryIcon,p),name:l.default.Names.LIBRARY}),i.default.Messages.APPLICATION_STORE_IN_LIBRARY):null!=t.getPrice()?t.isOnSale?a("div",{className:(0,o.default)(s.default.priceSale,c,r)},void 0,a("div",{className:s.default.priceSalePercentage},void 0,t.getDisplaySalePercentage()),a("div",{className:s.default.priceOriginalAmount},void 0,t.getDisplayPrice(!1)),a("span",{},void 0,t.getDisplayPrice())):a("div",{className:(0,o.default)(c,r)},void 0,t.getDisplayPrice()):t.premium?a("div",{className:(0,o.default)(s.default.freeWithNitro,d,r)},void 0,a(l.default,{className:(0,o.default)(s.default.nitroWheel,p),name:l.default.Names.NITRO_WHEEL}),t.getDisplayPrice()):f},e.exports=t.default},6309:function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=i(r(3)),o=i(r(2));r(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={matureAgree:!1,muted:!0};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"didMatureAgree",get:function(){return l.matureAgree}},{key:"isDirectoryMuted",get:function(){return l.muted}}]),t}(a.default.Store);t.default=new s(o.default,{APPLICATION_STORE_MATURE_AGREE:function(e){l.matureAgree=!0},APPLICATION_STORE_DIRECTORY_MUTE:function(e){l.muted=!0},APPLICATION_STORE_DIRECTORY_UNMUTE:function(e){l.muted=!1}}),e.exports=t.default},6310:function(e,t,r){"use strict";t.__esModule=!0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=S(r(3)),s=S(r(9)),u=r(272),f=S(r(5)),c=S(r(525)),d=S(r(191)),p=S(r(44)),_=r(6813),y=S(_),E=S(r(40)),h=r(0),T=S(r(5645)),I=S(r(5644)),m=S(r(6));function S(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=(0,u.cssValueToNumber)(I.default.mediaQueryMobileHeader),v=(0,f.default)(new Date(0)),R=function(e){if(e.type===h.StoreDirectoryTileTypes.BLOG)throw new Error("Should not be getting a sku for the blog");var t=c.default.get(e.skuId);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},g=function(e,t){var r=R(e),n=R(t);return r.name.localeCompare(n.name,"en",{sensitivity:"base"})},N=function(e,t){return g(t,e)},P=function(e,t){var r=R(e),n=R(t),a=r.releaseDate,o=n.releaseDate,i=Date.now();return(null==a||a.isAfter(i))&&(a=v),(null==o||o.isAfter(i))&&(o=v),a.isAfter(o)?-1:a.isBefore(o)?1:0},C=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=A(this,e.call.apply(e,[this].concat(o))),n.getSortedTiledLayout=function(){var e=n.props,t=e.directoryLayout;switch(e.sort){case h.StoreApplicationSort.FEATURED:return t.featured;case h.StoreApplicationSort.BEST_SELLERS:return t.bestSellers;case h.StoreApplicationSort.NEW_RELEASES:return t.allSkuTiles.sort(P);case h.StoreApplicationSort.PREMIUM:return t.premium;case h.StoreApplicationSort.ALPHABETICAL:return t.allSkuTiles.sort(g);case h.StoreApplicationSort.REVERSE_ALPHABETICAL:return t.allSkuTiles.sort(N);default:return t.allSkuTiles}},A(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getApplicationPriceType=function(e){return e.premium?h.StoreApplicationPriceType.PREMIUM:null!=e.getPrice()?h.StoreApplicationPriceType.DISTRIBUTION:h.StoreApplicationPriceType.COMING_SOON},t.prototype.getFilteredTileLayout=function(e,t){var r=this,n=e.titleQuery,a=e.hideApplicationsInUserLibrary,o=e.tileTypes,i=e.applicationTypes,l=e.genre,s=t;return null!=l&&l!==h.StoreApplicationGenresFilter.ANY_GENRES&&(s=s.filter(function(e){if(e.type===h.StoreDirectoryTileTypes.BLOG)return!1;var t=R(e);return null!=t.genres&&t.genres.has(l)})),null!=i&&(s=s.filter(function(e){if(e.type===h.StoreDirectoryTileTypes.BLOG)return!1;var t=R(e);return null!=t&&i.has(r.getApplicationPriceType(t))})),null!=n&&(s=s.filter(function(e){if(e.type===h.StoreDirectoryTileTypes.BLOG)return!1;var t=R(e);return null!=t&&t.name.toLowerCase().includes(n.toLowerCase())})),null!=o&&(s=s.filter(function(e){var t=e.type;return o.has(t)})),a&&(s=s.filter(function(e){if(e.type===h.StoreDirectoryTileTypes.BLOG)return!1;var t=R(e);return!p.default.hasApplication(t.applicationId,!0)})),s},t.prototype.renderEmptyState=function(){var e=this.props.className;return o("div",{className:e},void 0,o("div",{className:T.default.emptyWumpus}),o("h1",{className:T.default.noMatches},void 0,m.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:T.default.noMatchesDescription},void 0,m.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_SUBHEADER))},t.prototype.render=function(){var e=this.props,t=e.directoryLayout,r=e.sort,n=e.className,l=e.analyticsLoadId,u=e.viewConfig,f=e.maxTiles,c=e.isSmallResolution,d=null!=r?this.getSortedTiledLayout():t.allSkuTiles,p=null!=u?this.getFilteredTileLayout(u,d):d;return 0===p.length&&null!=u?this.renderEmptyState():(null!=f&&(p=p.slice(0,f)),o("div",{className:n},void 0,o(E.default,{wrap:E.default.Wrap.WRAP},void 0,p.map(function(e,t){if(e.type===h.StoreDirectoryTileTypes.BLOG)return o(_.BlogTile,{title:m.default.Messages.APPLICATION_STORE_BLOG_TILE_TITLE,description:m.default.Messages.APPLICATION_STORE_BLOG_TILE_DESCRIPTION,href:"https://blog.discordapp.com/the-discord-store-beta-9a35596fdd4",className:(0,s.default)(T.default.tile,T.default.tileBlog),analyticsLoadId:l},t);var r,n=c?h.StoreDirectoryTileTypes.REGULAR:e.type;return i.createElement(y.default,a({key:e.skuId},e,{type:n,className:(0,s.default)(T.default.tile,(r={},r[T.default.tileRegular]=n===h.StoreDirectoryTileTypes.REGULAR,r[T.default.tileMedia]=n===h.StoreDirectoryTileTypes.MEDIA,r[T.default.tileStaff]=n===h.StoreDirectoryTileTypes.STAFF,r)),analyticsLoadId:l}))}))))},t}(i.Component);t.default=l.default.connectStores([d.default],function(){return{isSmallResolution:d.default.windowSize().width<O}})(C),e.exports=t.default},6772:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=r(373),l=f(r(6373)),s=(f(r(101)),f(r(6))),u=f(r(5610));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=c(this,e.call.apply(e,[this].concat(o))),n.handleDisagree=function(){(0,i.matureDisagree)()},n.handleAgree=function(){(0,i.matureAgree)()},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.game.name;return a("div",{className:u.default.matureListing},void 0,a(l.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:s.default.Messages.MATURE_LISTING_TITLE.format({name:e}),description:s.default.Messages.MATURE_LISTING_DESCRIPTION,agreement:s.default.Messages.MATURE_LISTING_ACCEPT,disagreement:s.default.Messages.MATURE_LISTING_DECLINE}))},t}(o.PureComponent);t.default=d,e.exports=t.default},6773:function(e,t,r){"use strict";t.__esModule=!0,t.TestModeStoreListingButtonEnums=void 0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=E(r(1)),l=y(r(3)),s=y(r(948)),u=y(r(44)),f=y(r(27)),c=E(r(33)),d=y(r(34)),p=y(r(6413)),_=y(r(6));function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeStoreListingButtonEnums={DropdownSizes:p.default.DropdownSizes,Sizes:p.default.Sizes,Colors:p.default.Colors,Looks:p.default.Looks};var T=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=n=h(this,e.call.apply(e,[this].concat(i))),n.renderContextMenu=function(e){var t=e.className,r=e.style,a=n.props,i=a.storeListings,l=a.onStoreListingSelect,s=a.currentStoreListingId,u=i.map(function(e){return e.id!==s?o(d.default,{label:e.id,action:function(){c.closeContextMenu(),l&&l(e)}},e.id):null});return o("div",{className:t,style:r},void 0,u)},n.handleContextMenu=function(e){e.stopPropagation(),c.openContextMenu(e,n.renderContextMenu)},h(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.storeListings,r=e.primaryStoreListing,n=(e.skuId,e.onStoreListingSelect,e.currentStoreListingId,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"])),o=null!=r?1:0;return(o+=t.length)<2?null:i.createElement(p.default,a({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},n),_.default.Messages.APPLICATION_TEST_MODE_VIEW_OTHER_LISTINGS)},t}(i.PureComponent);t.default=l.default.connectStores([s.default,u.default,f.default],function(e){var t=e.skuId;return{storeListings:s.default.getUnpublishedForSKU(t),primaryStoreListing:s.default.getForSKU(t)}})(T)},6774:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=d(r(87)),l=d(r(40)),s=r(79),u=d(s),f=d(r(67)),c=d(r(5611));function d(e){return e&&e.__esModule?e:{default:e}}var p=Object.freeze({METACRITIC:s.IconNames.METACRITIC});var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIcon=function(){var e=this.props.icon;return null==e?null:a(u.default,{name:e,width:100,height:100,className:c.default.icon})},t.prototype.renderCard=function(){var e=this.props,t=e.score,r=e.scoreColor,n=e.children;return a(l.default,{direction:l.default.Direction.HORIZONTAL,className:c.default.card},void 0,a(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,grow:0,shrink:0,className:c.default.score,style:{backgroundColor:r}},void 0,t),a(l.default,{direction:l.default.Direction.VERTICAL,className:c.default.body},void 0,this.renderIcon(),n))},t.prototype.render=function(){var e=this.props.url;return null==e?this.renderCard():a(i.default,{tag:"a",href:e,rel:"noreferrer noopener",target:"_blank",className:c.default.clickableWrapper},void 0,this.renderCard())},t}(o.PureComponent);_.Icons=p,_.Verdict=function(e){var t=e.children;return a(f.default,{size:f.default.Sizes.MEDIUM,weight:f.default.Weights.SEMIBOLD,className:c.default.verdict},void 0,t)},t.default=_,e.exports=t.default},6775:function(e,t,r){"use strict";var n;t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,n){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}});t.default=function(e){var t=e.review,r=e.className,n=c[t.aggregator];if(null==n)throw new Error("unknown review aggregator "+t.aggregator);return o(n,{review:t,className:r})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1));var i=f(r(6)),l=f(r(5993)),s=f(r(6774)),u=r(6305);function f(e){return e&&e.__esModule?e:{default:e}}var c=((n={})[r(0).ReviewAggregators.METACRITIC]=function(e){var t=e.review,r=e.className,n=(0,u.getRatingTier)(t);return null==n?null:o("div",{className:r},void 0,o(l.default,{},void 0,i.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC),o(s.default,{score:t.criticScore,scoreColor:n.color,icon:s.default.Icons.METACRITIC,url:t.url},void 0,o(s.default.Verdict,{},void 0,n.label),o("span",{},void 0,i.default.Messages.METACRITIC_NUM_CRITIC_RATINGS.format({numRatings:t.criticTotalRatings})),o("span",{},void 0,i.default.Messages.METACRITIC_USER_SCORE.format({score:t.secondaryScore,numRatings:t.secondaryTotalRatings}))))},n);e.exports=t.default},6776:function(e,t,r){"use strict";t.__esModule=!0;var n,a,o,i=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),s=I(r(9)),u=I(r(40)),f=I(r(64)),c=I(r(6)),d=r(382),p=r(11),_=I(p),y=I(r(5993)),E=I(r(5612)),h=r(6081),T=r(0);function I(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=((a={})[T.OperatingSystems.WINDOWS]=c.default.Messages.WINDOWS,a[T.OperatingSystems.MACOS]=c.default.Messages.MACOS,a[T.OperatingSystems.LINUX]=c.default.Messages.LINUX,a),v=((o={})[T.OperatingSystems.WINDOWS]=p.PlatformTypes.WINDOWS,o[T.OperatingSystems.MACOS]=p.PlatformTypes.OSX,o[T.OperatingSystems.LINUX]=p.PlatformTypes.LINUX,o),R=function(e){function t(){return m(this,t),S(this,e.apply(this,arguments))}return A(t,e),t.prototype.render=function(){var e,t=this.props,r=t.active,n=t.children,a=t.pageSize,o=t.onClick,l=a===h.PageSizes.LARGE;return i(f.default,{size:l?f.default.Sizes.MIN:f.default.Sizes.LARGE,fullWidth:!l,color:r?E.default.tabSelectedColor:E.default.tabNotSelectedColor,className:(0,s.default)((e={},e[E.default.tabPageLarge]=l,e[E.default.tabPageSmall]=!l,e[E.default.tabSelected]=r,e[E.default.tabNotSelected]=!r,e)),onClick:o},void 0,n)},t}(l.PureComponent),g=function(e){function t(r){m(this,t);var n=S(this,e.call(this,r));n.handleSelectOperatingSystem=function(e){n.setState({selectedOperatingSystem:e})};var a=_.default.getPlatform(),o=Object.keys(r.systemRequirements),i=o[0],l=o,s=Array.isArray(l),u=0;for(l=s?l:l[Symbol.iterator]();;){var f;if(s){if(u>=l.length)break;f=l[u++]}else{if((u=l.next()).done)break;f=u.value}var c=f;v[c]===a&&(i=c)}return n.state={selectedOperatingSystem:i},n}return A(t,e),t.prototype.renderTabs=function(){var e=this,t=this.props,r=t.pageSize,n=t.systemRequirements,a=this.state.selectedOperatingSystem,o=Object.keys(n);return 1===o.length?null:i(u.default,{className:E.default.tabs},void 0,i("div",{className:E.default.separator}),o.map(function(t){return i(R,{active:t===a,onClick:function(){return e.handleSelectOperatingSystem(t)},pageSize:r},t,O[t])}))},t.prototype.renderRequirementsSection=function(e,t){if(null==e)return null;var r=function(e){return[{key:c.default.Messages.APPLICATION_STORE_SPECS_OS,value:e.operating_system_version},{key:c.default.Messages.APPLICATION_STORE_SPECS_CPU,value:e.cpu},{key:c.default.Messages.APPLICATION_STORE_SPECS_MEMORY,value:null!=e.ram?c.default.Messages.APPLICATION_STORE_SPECS_MEMORY_VALUE.format({size:(0,d.formatSize)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:c.default.Messages.APPLICATION_STORE_SPECS_VIDEO,value:e.gpu},{key:c.default.Messages.APPLICATION_STORE_SPECS_STORAGE,value:null!=e.disk?(0,d.formatSize)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:c.default.Messages.APPLICATION_STORE_SPECS_SOUND,value:e.sound_card},{key:c.default.Messages.APPLICATION_STORE_SPECS_NETWORK,value:e.network},{key:c.default.Messages.APPLICATION_STORE_SPECS_NOTES,value:e.notes}]}(e).map(function(e,t){return null==e.value?null:i("div",{className:E.default.requirement},t,i("span",{className:E.default.requirementKey},void 0,e.key,":"),e.value)}).filter(function(e){return null!=e});return i("div",{className:E.default.requirements},void 0,i(y.default,{tag:"h4"},void 0,t),r)},t.prototype.renderBody=function(){var e=this.props.systemRequirements[this.state.selectedOperatingSystem],t=e.minimum,r=e.recommended;return i("div",{className:E.default.requirementsContainer},void 0,this.renderRequirementsSection(t,c.default.Messages.APPLICATION_STORE_SPECS_MINIMUM),this.renderRequirementsSection(r,c.default.Messages.APPLICATION_STORE_SPECS_RECOMMENDED))},t.prototype.render=function(){return i("div",{className:this.props.className},void 0,i(y.default,{},void 0,c.default.Messages.APPLICATION_STORE_SECTION_TITLE_SYSTEM_REQUIREMENTS),this.renderTabs(),this.renderBody())},t}(l.PureComponent);t.default=g,e.exports=t.default},6777:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=I(r(3)),l=I(r(41)),s=I(r(26)),u=r(373),f=I(r(40)),c=I(r(64)),d=I(r(5992)),p=I(r(79)),_=I(r(5993)),y=I(r(228)),E=I(r(6)),h=r(0),T=I(r(5613));function I(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=m(this,e.call.apply(e,[this].concat(o))),n.handleJoinOrView=function(){var e=n.props,t=e.applicationId,r=e.guild.id,a=function(){return l.default.transitionTo(h.Routes.GUILD(r))};e.isInGuild?a():(0,u.joinApplicationGuild)(t).then(a)},m(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderMemberInfo=function(){var e=this.props.guild,t=e.approximateMemberCount,r=e.approximatePresenceCount;return null==t||null==r?null:a(f.default,{className:T.default.memberInfo,align:f.default.Align.CENTER},void 0,a("div",{className:T.default.dotOnline}),E.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r}),a("div",{className:T.default.dotOffline}),E.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t}))},t.prototype.render=function(){var e=this.props,t=e.guild,r=e.isInGuild,n=e.className,o=new y.default(t);return a("div",{className:n},void 0,a(_.default,{},void 0,E.default.Messages.APPLICATION_STORE_SECTION_TITLE_VERIFIED_GUILD),a("div",{className:T.default.content},void 0,a(f.default,{align:f.default.Align.CENTER,className:T.default.info},void 0,a(d.default,{guild:o,active:!0,size:d.default.Sizes.MEDIUM,className:T.default.guildIcon}),a("div",{className:T.default.infoText},void 0,a("div",{className:T.default.name},void 0,t.name),this.renderMemberInfo())),a(c.default,{size:c.default.Sizes.SMALL,color:r?T.default.buttonColorInGuild:c.default.Colors.PRIMARY,look:r?c.default.Looks.OUTLINED:c.default.Looks.FILLED,onClick:this.handleJoinOrView},void 0,r?a(f.default,{align:f.default.Align.CENTER},void 0,a("div",{},void 0,E.default.Messages.JOINED_SERVER),a(p.default,{name:p.default.Names.CHECKMARK,className:T.default.joinedCheckmark,width:18,height:18})):E.default.Messages.JOIN_SERVER)))},t}(o.PureComponent);t.default=i.default.connectStores([s.default],function(e){var t=e.guild;return{isInGuild:null!=s.default.getGuild(t.id)}})(S),e.exports=t.default},6778:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),y(r(3))),i=y(r(9)),l=y(r(191)),s=y(r(947)),u=y(r(163)),f=r(263),c=y(r(6139)),d=y(r(6)),p=r(0),_=y(r(5615));function y(e){return e&&e.__esModule?e:{default:e}}var E=Object.freeze({STAFF_NOTES:1,METACRITIC_REVIEW:2}),h=o.default.connectStores([l.default],function(){return{animate:l.default.isFocused()}})(function(e){var t=e.user,r=e.className,n=e.animate;return a("div",{className:(0,i.default)(_.default.staffReviewHeader,r)},void 0,a(s.default,{size:f.AvatarSizes.LARGE,user:t,animate:n}),a("div",{className:_.default.headerText},void 0,a("div",{className:_.default.label},void 0,d.default.Messages.APPLICATION_STORE_STAFF_PICK),a("div",{className:_.default.username},void 0,t.username)))}),T=function(e){var t=e.data,r=e.className;if(t.type===E.STAFF_NOTES){if(null==t.staffNotes)return null;var n=t.staffNotes,o=n.user,i=n.content;return null==o?null:a("div",{className:r},void 0,a(h,{user:o,className:_.default.header}),a("div",{className:_.default.notes},void 0,i))}if(t.type===E.METACRITIC_REVIEW){var l=t.reviewAggregator;if(null==l.reviews)return null;var s=l.reviews[0];return a("div",{className:r},void 0,a(c.default,{reason:{type:p.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:t.reviewAggregator},className:_.default.header}),a("div",{className:_.default.notes},void 0,s.quote),a("div",{className:_.default.publisher},void 0,a(u.default,{href:s.url,className:_.default.publisherAnchor},void 0,s.publisher)))}throw new Error("Unknown type")};T.Types=E,t.default=T,e.exports=t.default},6779:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=S(r(9)),l=S(r(3)),s=r(527),u=S(r(525)),f=S(r(948)),c=S(r(559)),d=S(r(553)),p=S(r(6140)),_=S(r(12)),y=S(r(6139)),E=S(r(6304)),h=S(r(6778)),T=S(r(6)),I=r(0),m=S(r(5614));function S(e){return e&&e.__esModule?e:{default:e}}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSocialReasons=function(e){return 0===e.length?null:a("div",{className:m.default.section},void 0,a("div",{className:m.default.sectionContent},void 0,e.map(function(e){return a("div",{className:m.default.unit},e.type,a(E.default,{reason:e}))})))},t.prototype.renderNonSocialReasons=function(e){return 0===e.length?null:a("div",{className:m.default.section},void 0,a("div",{className:m.default.sectionContent},void 0,e.map(function(e){return a("div",{className:m.default.unit},e.type,a(y.default,{reason:e}))})))},t.prototype.getReviewToRender=function(){var e=this.props,t=e.storeListing,r=e.nonSocialReasons;if(null!=t.staffNotes)return{type:h.default.Types.STAFF_NOTES,staffNotes:t.staffNotes};var n=r.find(function(e){return e.type===I.StoreRecommendationTypes.METACRITIC_SCORE&&null!=e.reviewAggregator.reviews&&e.reviewAggregator.reviews.length>0});if(null!=n){if(n.type!==I.StoreRecommendationTypes.METACRITIC_SCORE||null==n.reviewAggregator)throw new Error("Unexpected null reviewAggregator");return{type:h.default.Types.METACRITIC_REVIEW,reviewAggregator:n.reviewAggregator}}return null},t.prototype.render=function(){var e=this.props,t=e.socialReasons,r=e.nonSocialReasons,n=e.storeListing,o=e.className;if(0===t.length&&0===r.length&&null==n.staffNotes)return null;var l=r,s=this.getReviewToRender();return null!=s&&s.type===h.default.Types.METACRITIC_REVIEW&&(l=r.filter(function(e){return e.type!==I.StoreRecommendationTypes.METACRITIC_SCORE})),a("div",{className:(0,i.default)(m.default.root,o)},void 0,a("div",{className:m.default.header},void 0,T.default.Messages.APPLICATION_STORE_SECTION_TITLE_RECOMMENDATION),this.renderSocialReasons(t),this.renderNonSocialReasons(l),null!=s?a(h.default,{data:s,className:m.default.review}):null)},t}(o.Component);t.default=l.default.connectStores([u.default,_.default,f.default,c.default,d.default,p.default],function(e){var t=e.sku;return{socialReasons:(0,s.getSocialRecommendationReasons)(t.id,u.default,_.default,c.default,d.default,p.default),nonSocialReasons:(0,s.getNonSocialRecommendationReasons)(t.id,u.default,f.default)}})(A),e.exports=t.default},6780:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=r(264),l=h(r(3)),s=r(527),u=h(r(27)),f=h(r(948)),c=h(r(525)),d=r(373),p=h(r(64)),_=h(r(6)),y=r(0),E=h(r(5617));function h(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e){var t=e.applicationId,r=(0,s.getPrimarySKUForApplication)(t,u.default,c.default);return null!=r?f.default.getForSKU(r.id):null}var m=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=T(this,e.call.apply(e,[this].concat(o))),n.state={isCollapsed:!0},n.handleCollapsedToggle=function(){n.setState({isCollapsed:!n.state.isCollapsed})},T(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.sku;null==I(e)&&(0,d.fetchStoreListingForSku)(e.id)},t.prototype.renderSection=function(e,t,r){var n=this.props.sku,l=this.state.isCollapsed,s=5===t.length?5:4,u=l?t.slice(0,s):t,f=u.map(function(e,t){return a(i.Link,{className:r&&t===u.length-1?E.default.skuLast:E.default.skuNormal,to:{pathname:y.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug),state:{analyticsLocation:y.AnalyticsLocations.APPLICATION_STORE_RELATED_CONTENT}}},e.id,a("div",{className:E.default.name},void 0,e.name),a("div",{className:E.default.price},void 0,null!=e.getPrice()?e.getDisplayPrice():null))});return 0===f.length?null:a(o.Fragment,{},void 0,a("div",{className:E.default.title},void 0,function(e,t){if(e===t)switch(e){case y.SKUTypes.GAME:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_SAME;case y.SKUTypes.DLC:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_SAME;case y.SKUTypes.CONSUMABLE:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLE_SAME;case y.SKUTypes.BUNDLE:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLE_SAME}else switch(e){case y.SKUTypes.GAME:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_DIFFERENT;case y.SKUTypes.DLC:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_DIFFERENT;case y.SKUTypes.CONSUMABLE:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLE_DIFFERENT;case y.SKUTypes.BUNDLE:return _.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLE_DIFFERENT}}(e,n.type)),f,s<t.length&&l?a(p.default,{color:p.default.Colors.PRIMARY,size:p.default.Sizes.SMALL,onClick:this.handleCollapsedToggle,className:E.default.collapseButton},void 0,_.default.Messages.APPLICATION_STORE_EXPAND_DOWNLOADABLE_CONTENT):null)},t.prototype.render=function(){var e=this.props.relatedSKUs;if(0===e.length)return null;var t=e.filter(function(e){return e.type===y.SKUTypes.BUNDLE}),r=e.filter(function(e){return e.type===y.SKUTypes.DLC});return a("div",{},void 0,this.renderSection(y.SKUTypes.BUNDLE,t,0===r.length),this.renderSection(y.SKUTypes.DLC,r,!0))},t}(o.PureComponent);t.default=l.default.connectStores([f.default,c.default],function(e){var t=e.sku,r=I(t);return{relatedSKUs:null!=r?r.childSkuIds.filter(function(e){return t.id!==e}).map(c.default.get):[]}})(m),e.exports=t.default},6781:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=r(264),l=S(r(9)),s=S(r(3)),u=r(11),f=S(u),c=r(527),d=S(r(31)),p=S(r(525)),_=S(r(983)),y=S(r(38)),E=S(r(369)),h=S(r(87)),T=S(r(6)),I=r(0),m=S(r(5618));function S(e){return e&&e.__esModule?e:{default:e}}var A=Object.freeze({RESTRICTED_IN_REGION:1,REQUIRES_DESKTOP_APP:2,UNAVAILABLE_OPERATING_SYSTEM:3,DLC_REQUIRES_BASE_APPLICATION:4,EARLY_ACCESS:5,UNAVAILABLE_IN_LANGUAGE:6}),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getType=function(){var e=this.props,t=e.sku,r=e.dependentSku,n=e.isEntitledToDependentSku,a=e.locale;return t.restricted?A.RESTRICTED_IN_REGION:f.default.isWeb()?A.REQUIRES_DESKTOP_APP:t.supportedOperatingSystems.includes((0,c.nativePlatformTypeToSKUOperatingSystem)(f.default.getPlatform()))?null==r||n?t.accessType===I.SKUAccessTypes.EARLY_ACCESS?A.EARLY_ACCESS:t.locales.includes(a)?void 0:A.UNAVAILABLE_IN_LANGUAGE:A.DLC_REQUIRES_BASE_APPLICATION:A.UNAVAILABLE_OPERATING_SYSTEM},t.prototype.getTitle=function(e){switch(e){case A.RESTRICTED_IN_REGION:return T.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_TITLE;case A.REQUIRES_DESKTOP_APP:return T.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE;case A.UNAVAILABLE_OPERATING_SYSTEM:switch(f.default.getPlatform()){case u.PlatformTypes.WINDOWS:return T.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_WINDOWS_TITLE;case u.PlatformTypes.OSX:return T.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_MAC_OS_TITLE;case u.PlatformTypes.LINUX:return T.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_LINUX_TITLE;default:return T.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE}case A.DLC_REQUIRES_BASE_APPLICATION:return T.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_TITLE;case A.EARLY_ACCESS:return T.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_TITLE;case A.UNAVAILABLE_IN_LANGUAGE:return T.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_TITLE}},t.prototype.getDescription=function(e){var t=this;switch(e){case A.RESTRICTED_IN_REGION:return T.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_DESCRIPTION;case A.REQUIRES_DESKTOP_APP:return T.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_DESCRIPTION.format({downloadHook:function(e,r){return a(h.default,{className:m.default.link,tag:"a",onClick:t.handleDownloadApps},r,e)}});case A.UNAVAILABLE_OPERATING_SYSTEM:return T.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_OS_DESCRIPTION;case A.DLC_REQUIRES_BASE_APPLICATION:var r=this.props.dependentSku;return null==r?null:T.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_DESCRIPTION.format({baseName:r.name,baseHook:function(e,t){return a(i.Link,{to:{pathname:I.Routes.APPLICATION_STORE_LISTING_SKU(r.id),state:{analyticsLocation:I.AnalyticsLocations.APPLICATION_STORE_WARNING}}},t,e)}});case A.EARLY_ACCESS:return T.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_DESCRIPTION;case A.UNAVAILABLE_IN_LANGUAGE:return T.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_DESCRIPTION}},t.prototype.handleDownloadApps=function(){y.default.push(E.default,{source:I.AnalyticsLocations.APPLICATION_STORE_WARNING})},t.prototype.getColorClass=function(e){switch(e){case A.RESTRICTED_IN_REGION:return m.default.red;default:return m.default.yellow}},t.prototype.render=function(){var e=this.getType();if(null==e)return null;var t=this.getTitle(e),r=this.getDescription(e);return a("div",{className:(0,l.default)(m.default.warning,this.getColorClass(e),this.props.className)},void 0,a("div",{className:m.default.title},void 0,t),a("div",{className:m.default.description},void 0,r))},t}(o.PureComponent);t.default=s.default.connectStores([d.default,_.default],function(e){var t=e.sku,r=null!=t.dependentSkuId?p.default.get(t.dependentSkuId):null;return{locale:d.default.locale,dependentSku:r,isEntitledToDependentSku:null==r||_.default.isEntitledToSku(r.id)}})(O),e.exports=t.default},6782:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=y(r(1)),i=_(r(9)),l=r(264),s=_(r(6)),u=r(6302),f=y(r(533)),c=_(r(5993)),d=r(0),p=_(r(5619));_(r(101)),_(r(969));function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var E=function(e){var t=e.label,r=e.value;return a("div",{className:p.default.row},void 0,a("label",{className:p.default.label},void 0,t,":"),a("span",{className:p.default.info},void 0,r))},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReleaseDate=function(){var e=this.props.sku;return null==e.releaseDate?null:a(E,{label:s.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,value:f.dateFormat(e.releaseDate,"LL")})},t.prototype.renderGenres=function(){var e=this.props.sku;if(null==e.genres||0===e.genres.size)return null;var t=Array.from(e.genres).map(function(e,t){return a(l.Link,{to:{pathname:d.Routes.APPLICATION_STORE_BROWSE,search:"?genre="+e,state:{analyticsLocation:d.AnalyticsLocations.APPLICATION_STORE_LISTING_DETAILS}},className:p.default.genre},t,(0,u.getGenreText)(e))});return a(E,{label:s.default.Messages.APPLICATION_STORE_DETAILS_GENRES,value:t})},t.prototype.renderDevelopers=function(){var e=this.props.game;return 0===e.developers.length?null:a(E,{label:s.default.Messages.APPLICATION_STORE_DETAILS_DEVELOPER,value:e.developers.join(", ")})},t.prototype.renderPublishers=function(){var e=this.props.game;return 0===e.publishers.length?null:a(E,{label:s.default.Messages.APPLICATION_STORE_DETAILS_PUBLISHER,value:e.publishers.join(", ")})},t.prototype.render=function(){var e=this.props.className;return a("div",{className:(0,i.default)(e,p.default.details)},void 0,a(c.default,{},void 0,s.default.Messages.APPLICATION_STORE_SECTION_TITLE_DETAILS),this.renderReleaseDate(),this.renderGenres(),this.renderDevelopers(),this.renderPublishers())},t}(o.Component);t.default=h,e.exports=t.default},6783:function(e,t,r){"use strict";t.__esModule=!0,t.ApplicationStorePurchaseUnit=void 0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=N(r(3)),l=N(r(536)),s=N(r(41)),u=r(955),f=N(r(12)),c=N(r(983)),d=N(r(44)),p=N(r(522)),_=N(r(64)),y=N(r(87)),E=N(r(40)),h=N(r(79)),T=N(r(6301)),I=N(r(6782)),m=N(r(6298)),S=r(6307),A=N(r(6781)),O=N(r(6780)),v=N(r(6)),R=r(0),g=N(r(5616));function N(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=t.ApplicationStorePurchaseUnit=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=n=P(this,e.call.apply(e,[this].concat(i))),n._applicationBuyButtonRef=o.createRef(),n.handleViewLibrary=function(){var e=n.props.libraryApplication;s.default.transitionTo(R.Routes.GAME_LIBRARY,{state:{applicationId:null!=e?e.id:null}})},P(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getApplicationBuyButton=function(){return this._applicationBuyButtonRef.current},t.prototype.getActionText=function(){var e=this.props.sku,t=function(e){switch(e.type){case R.SKUTypes.DLC:return{distribution:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_DLC,free:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_DLC};case R.SKUTypes.CONSUMABLE:return{distribution:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_CONSUMABLE,free:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_CONSUMABLE};case R.SKUTypes.BUNDLE:return{distribution:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_BUNDLE,free:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_BUNDLE};case R.SKUTypes.GAME:default:return{distribution:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_APPLICATION,free:v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_APPLICATION}}}(e);return e.requiresPayment?t.distribution:t.free},t.prototype.handleViewLibrarySettings=function(){p.default.open(R.UserSettingsSections.GAME_LIBRARY)},t.prototype.renderHeader=function(){var e=this.props,t=e.isEntitled,r=e.libraryApplication,n=e.sku,o=e.currentUser;if(t){var i=null!=r&&r.isHidden();return a(y.default,{className:g.default.entitledHeader,onClick:i?this.handleViewLibrarySettings:this.handleViewLibrary},void 0,a(h.default,{name:h.default.Names.LIBRARY,className:g.default.entitledHeaderIcon}),a("div",{},void 0,i?v.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:v.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}return n.exclusive?a("div",{className:g.default.exclusiveHeader},void 0,a("div",{className:g.default.exclusiveHeaderExclusive},void 0,v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FIRST_ON),a(h.default,{name:h.default.Names.DISCORD_WORDMARK,className:g.default.exclusiveHeaderIcon})):n.premium?a("div",{className:g.default.premiumHeader},void 0,a(h.default,{name:h.default.Names.NITRO,className:g.default.premiumHeaderIcon}),null!=o&&o.premium?null:a("div",{className:g.default.premiumHeaderPrice},void 0,v.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,u.formatPrice)(R.PremiumPlanPrices.MONTHLY,R.CurrencyCodes.USD)}))):null},t.prototype.renderPrice=function(){var e=this.props.sku;return e.restricted?a("div",{className:g.default.price},void 0,v.default.Messages.APPLICATION_STORE_RESTRICTED):e.premium||null!=e.getPrice()?a("div",{className:g.default.price},void 0,a("div",{className:g.default.priceRow},void 0,e.getDisplayPrice(),e.isOnSale?a("div",{className:g.default.priceSalePercentage},void 0,e.getDisplaySalePercentage()):null),e.isOnSale?a("div",{className:g.default.priceOriginalAmount},void 0,e.getDisplayPrice(!1)):null):a("div",{className:g.default.price},void 0,v.default.Messages.APPLICATION_STORE_COMING_SOON)},t.prototype.renderBody=function(){var e=this.props,t=e.sku,r=e.game;return a(o.Fragment,{},void 0,a(E.default,{justify:E.default.Justify.BETWEEN},void 0,a("div",{className:g.default.actionText},void 0,this.getActionText()),a(S.OperatingSystemSection,{systems:t.supportedOperatingSystems})),this.renderPrice(),a(T.default,{setRef:this._applicationBuyButtonRef,skuId:t.id,application:r,analyticsLocation:R.AnalyticsLocations.APPLICATION_STORE,color:_.default.Colors.GREEN,fullWidth:!0}),a(m.default,{className:g.default.purchaseError}),a(A.default,{className:g.default.warning,sku:t}))},t.prototype.render=function(){var e=this.props,t=e.game,r=e.storeListing,n=e.sku,o=e.className,i=this.renderHeader();return a("div",{className:o},void 0,i,a("div",{className:g.default.bodySection},void 0,this.renderBody()),a("div",{className:g.default.bodySection},void 0,a(O.default,{storeListing:r,sku:n})),a("div",{className:g.default.bodySection},void 0,a(I.default,{game:t,sku:n})))},t}(o.PureComponent);t.default=i.default.connectStores([f.default,c.default,d.default],function(e){var t=e.sku,r=e.game,n=f.default.getNullableCurrentUser();return{isUserPremium:l.default.canInstallPremiumApplications(n),isEntitled:c.default.isEntitledToSku(t.id,r.id),libraryApplication:d.default.getLibraryApplication(r.id),currentUser:n}})(C)},6784:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=u(r(6)),l=u(r(5993)),s=(u(r(969)),u(r(5620)));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.sku;return null==r.legalNotice?null:a("div",{className:t},void 0,a(l.default,{},void 0,i.default.Messages.APPLICATION_STORE_SECTION_TITLE_COPYRIGHT),a("div",{className:s.default.content},void 0,r.legalNotice))},t}(o.PureComponent);t.default=f,e.exports=t.default},6785:function(e,t,r){"use strict";t.__esModule=!0,t.Categories=void 0;var n,a,o,i,l=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),c(r(9))),u=r(0),f=c(r(5622));function c(e){return e&&e.__esModule?e:{default:e}}var d=t.Categories={ESRB:{EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},PEGI:{THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"}},p=((i={})[u.ContentRatingAgencies.ESRB]=((a={})[d.ESRB.EVERYONE]=f.default.esrbEveryone,a[d.ESRB.EVERYONE_TEN_PLUS]=f.default.esrbEveryoneTenPlus,a[d.ESRB.TEEN]=f.default.esrbTeen,a[d.ESRB.MATURE]=f.default.esrbMature,a[d.ESRB.ADULT]=f.default.esrbAdult,a[d.ESRB.RATING_PENDING]=f.default.esrbRatingPending,a),i[u.ContentRatingAgencies.PEGI]=((o={})[d.PEGI.THREE]=f.default.pegiThree,o[d.PEGI.SEVEN]=f.default.pegiSeven,o[d.PEGI.TWELVE]=f.default.pegiTwelve,o[d.PEGI.SIXTEEN]=f.default.pegiSixteen,o[d.PEGI.EIGHTEEN]=f.default.pegiEighteen,o),i);t.default=function(e){var t=e.agency,r=e.rating,n=e.className,a=p[t][r];return null==a?null:l("div",{className:(0,s.default)(f.default.contentRating,a,n)})}},6786:function(e,t,r){"use strict";t.__esModule=!0;var n,a,o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=p(r(6)),s=p(r(6785)),u=p(r(40)),f=p(r(5993)),c=(p(r(969)),r(0)),d=p(r(5621));function p(e){return e&&e.__esModule?e:{default:e}}var _=((a={})[c.ContentRatingAgencies.ESRB]={1:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ALCOHOL_REFERENCE,2:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_BLOOD,3:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD,4:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD_AND_GORE,5:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CARTOON_VIOLENCE,6:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_COMIC_MISCHIEF,7:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CRUDE_HUMOR,8:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_DRUG_REFERENCE,9:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_FANTASY_VIOLENCE,10:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_INTENSE_VIOLENCE,11:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LANGUAGE,12:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LYRICS,13:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MATURE_HUMOR,14:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_NUDITY,15:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_PARTIAL_NUDITY,16:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_REAL_GAMBLING,17:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_CONTENT,18:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_THEMES,19:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_VIOLENCE,20:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SIMULATED_GAMBLING,21:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LANGUAGE,22:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LYRICS,23:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_SEXUAL_CONTENT,24:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SUGGESTIVE_THEMES,25:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_TOBACCO_REFERENCE,26:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_ALCOHOL,27:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_DRUGS,28:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_TOBACCO,29:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENCE,30:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENT_REFERENCES,31:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_IN_GAME_PURCHASES,32:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USERS_INTERACT,33:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SHARES_LOCATION,34:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_UNRESTRICTED_INTERNET},a[c.ContentRatingAgencies.PEGI]={1:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_VIOLENCE,2:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_BAD_LANGUAGE,3:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_FEAR,4:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_GAMBLING,5:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_SEX,6:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DRUGS,7:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DISCRIMINATION},a),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContentRatingImage=function(){var e=this.props.sku,t=e.contentRating,r=e.contentRatingAgency;return null==t||null==r?null:o(s.default,{className:d.default.rating,agency:r,rating:t.rating})},t.prototype.render=function(){var e=this.props,t=e.sku,r=t.contentRating,n=t.contentRatingAgency,a=e.className;if(null==r||null==n)return null;var i=r.descriptors.map(function(e){return _[n][e]}).join(", ");return o("div",{className:a},void 0,o(f.default,{},void 0,l.default.Messages.APPLICATION_STORE_SECTION_TITLE_RATINGS),o(u.default,{className:d.default.content},void 0,this.renderContentRatingImage(),o("div",{className:d.default.info},void 0,i)))},t}(i.PureComponent);t.default=y,e.exports=t.default},6787:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=_(r(3)),l=_(r(380)),s=_(r(40)),u=_(r(123)),f=_(r(6299)),c=_(r(38)),d=_(r(6)),p=_(r(5624));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=y(this,e.call.apply(e,[this].concat(o))),n.close=function(){c.default.pop()},y(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.application,r=e.news;return a(u.default,{size:u.default.Sizes.LARGE,className:p.default.modal},void 0,a(u.default.Header,{justify:s.default.Justify.BETWEEN},void 0,a("div",{},void 0,a("div",{className:p.default.headerTitle},void 0,t.name),a("div",{className:p.default.headerSubtitle},void 0,d.default.Messages.APPLICATION_STORE_ALL_NEWS)),a(u.default.CloseButton,{onClick:this.close})),a(u.default.Content,{},void 0,r.map(function(e){return a(f.default,{game:t,news:e,collapsed:!1},e.url)})))},t}(o.PureComponent);t.default=i.default.connectStores([l.default],function(e){var t=e.application;return{news:l.default.getByGameId(t.id)}})(E),e.exports=t.default},6788:function(e,t,r){"use strict";(function(n){t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,n){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=h(r(3)),s=h(r(380)),u=h(r(6299)),f=h(r(6787)),c=h(r(64)),d=h(r(5993)),p=h(r(6)),_=h(r(128)),y=h(r(38)),E=h(r(5623));function h(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=T(this,e.call.apply(e,[this].concat(o))),n.handleViewAllClick=function(){var e=n.props.application;y.default.push(f.default,{application:e})},T(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isFetched,r=e.application;t||n(function(){return _.default.getGameNews([r.id])})},t.prototype.render=function(){var e=this.props,t=e.application,r=e.news,n=e.className,a=r.length>4;return 0===r.length?null:o("div",{className:n},void 0,o(d.default,{},void 0,p.default.Messages.APPLICATION_STORE_SECTION_TITLE_NEWS),r.slice(0,4).map(function(e,r){return o(u.default,{game:t,news:e,collapsed:0!==r},e.url)}),a?o(c.default,{className:E.default.viewAllButton,size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,onClick:this.handleViewAllClick},void 0,p.default.Messages.APPLICATION_STORE_VIEW_ALL_NEWS):null)},t}(i.Component);t.default=l.default.connectStores([s.default],function(e){var t=e.application;return{news:s.default.getByGameId(t.id),isFetched:s.default.isFetched(t.id)}})(I),e.exports=t.default}).call(this,r(35).setImmediate)},6789:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=c(r(5993)),l=c(r(79)),s=r(0),u=c(r(6)),f=c(r(5626));function c(e){return e&&e.__esModule?e:{default:e}}var d=[{feature:s.SKUFeatureTypes.SINGLE_PLAYER,text:u.default.Messages.APPLICATION_STORE_SINGLE_PLAYER,iconName:l.default.Names.PERSON},{feature:s.SKUFeatureTypes.LOCAL_MULTIPLAYER,text:u.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER,iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_MULTIPLAYER,text:u.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER,iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.PVP,text:u.default.Messages.APPLICATION_STORE_PVP,iconName:l.default.Names.MODERATION},{feature:s.SKUFeatureTypes.LOCAL_COOP,text:u.default.Messages.APPLICATION_STORE_LOCAL_COOP,iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_COOP,text:u.default.Messages.APPLICATION_STORE_ONLINE_COOP,iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.CROSS_PLATFORM,text:u.default.Messages.APPLICATION_STORE_CROSS_PLATFORM,iconName:l.default.Names.SYNCED},{feature:s.SKUFeatureTypes.RICH_PRESENCE,text:u.default.Messages.APPLICATION_STORE_RICH_PRESENCE,iconName:l.default.Names.RICH_ACTIVITY},{feature:s.SKUFeatureTypes.DISCORD_GAME_INVITES,text:u.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES,iconName:l.default.Names.PLUS_CIRCLE_PLAY},{feature:s.SKUFeatureTypes.SPECTATOR_MODE,text:u.default.Messages.APPLICATION_STORE_SPECTATOR_MODE,iconName:l.default.Names.VIDEO_CAMERA},{feature:s.SKUFeatureTypes.CONTROLLER_SUPPORT,text:u.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT,iconName:l.default.Names.GAMEPAD},{feature:s.SKUFeatureTypes.CLOUD_SAVES,text:u.default.Messages.APPLICATION_STORE_CLOUD_SAVES,iconName:l.default.Names.CLOUD},{feature:s.SKUFeatureTypes.SECURE_NETWORKING,text:u.default.Messages.APPLICATION_STORE_SECURE_NETWORKING,iconName:l.default.Names.SECURE_NETWORKING}],p=function(e){var t=e.iconName,r=e.text;return a("div",{className:f.default.row},void 0,a(l.default,{name:t,className:f.default.featureIcon}),a("span",{className:f.default.featureText},void 0,r),a(l.default,{name:l.default.Names.CHECKMARK,className:f.default.checkmarkIcon}))},_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.sku,t=d.filter(function(t){var r=t.feature;return e.features.has(r)}).map(function(e){var t=e.feature,r=e.text,n=e.iconName;return a(p,{iconName:n,text:r},t)});return 0===t.length?null:a("div",{className:f.default.features},void 0,a(i.default,{},void 0,u.default.Messages.APPLICATION_STORE_SECTION_TITLE_FEATURES),t)},t}(o.PureComponent);t.default=_,e.exports=t.default},6790:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=p(r(232)),s=p(r(1035)),u=p(r(9)),f=p(r(5993)),c=p(r(5628)),d=p(r(387));function p(e){return e&&e.__esModule?e:{default:e}}var _=new RegExp("https?://{{cf_shim}}CDN_HOST{{/cf_shim}}");function y(e){return"string"==typeof e.content?e.content:I(e)}var E=o({},l.default.defaultRules,{heading:o({},l.default.defaultRules.heading,{react:function(e,t,r){var n="h"+e.level;return a(f.default,{tag:n},r.key,t(e.content,r))}}),paragraph:o({},l.default.defaultRules.paragraph,{react:function(e,t,r){return a("div",{className:c.default.paragraph},r.key,t(e.content,r))}}),strong:o({},l.default.defaultRules.strong,{order:6}),em:o({},l.default.defaultRules.em,{order:6}),u:o({},l.default.defaultRules.u,{order:5}),del:o({},l.default.defaultRules.del,{order:6}),link:o({},l.default.defaultRules.link,{order:6}),blockQuote:o({},l.default.defaultRules.blockQuote,{react:function(e,t,r){return a("blockquote",{className:c.default.blockquote},r.key,y(e))}}),image:o({},l.default.defaultRules.image,{order:6,match:function(e,t,r){var n=l.default.defaultRules.image;if(null==n||null==n.match)return!1;var a=n.match(e,t,r);if(null!=a&&Array.isArray(a)&&a.length>=3){var o=a[2];if("string"==typeof o)return null!=o.match(_)?a:null}return!1}}),inlineCode:o({},l.default.defaultRules.inlineCode,{order:6,react:function(e,t,r){return a("code",{className:c.default.codeInline},r.key,y(e))}}),codeBlock:o({},l.default.defaultRules.codeBlock,{react:function(e,t,r){if(e.lang&&null!=s.default.getLanguage(e.lang)){var n=s.default.highlight(e.lang,e.content,!0);return a("pre",{},r.key,a("code",{className:(0,u.default)(d.default.scrollbarGhost,"hljs",n.language),dangerouslySetInnerHTML:{__html:n.value}}))}return a("pre",{},r.key,a("code",{className:(0,u.default)(d.default.scrollbarGhost,"hljs")},void 0,y(e)))}})}),h=l.default.parserFor(E),T=l.default.ruleOutput(E,"react"),I=l.default.reactFor(T),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.children,n=e.state,i=e.parser,l=(0,e.output)(i(r+"\n\n",o({inline:!1},n)));return a("div",{className:(0,u.default)(c.default.markdown,t)},void 0,l)},t}(i.PureComponent);m.rules=E,m.defaultProps={parser:h,output:I},t.default=m,e.exports=t.default},6791:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=y(r(9)),s=y(r(232)),u=r(527),f=y(r(5993)),c=y(r(6790)),d=y(r(64)),p=y(r(6)),_=y(r(5627));function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=/^!\[([^\]]*)\]\(asset:\/\/(\d+)\)/,T=o({},c.default.rules,{heading:o({},c.default.rules.heading,{react:function(e,t,r){var n="h"+Math.min(Math.max(2,e.level+1),4);return a(f.default,{tag:n},r.key,t(e.content,r))}}),assetImage:{order:5,match:function(e,t){var r=e.match(h);if(null!=r){var n=r[2],a=t.assets.find(function(e){return e.id===n});return null!=a&&[].concat(r,[a,t.applicationId])}return!1},parse:function(e){return{asset:e[3],alt:e[1],applicationId:e[4]}},react:function(e,t,r){return a("div",{className:_.default.assetWrapper},r.key,a("img",{alt:e.alt,src:(0,u.getAssetUrl)(e.applicationId,e.asset,800),className:_.default.asset}))}}}),I=s.default.parserFor(T),m=s.default.ruleOutput(T,"react"),S=s.default.reactFor(m),A=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=E(this,e.call.apply(e,[this].concat(o))),n.state={collapsed:!0,collapsable:!0},n.handleToggleCollapse=function(){n.setState({collapsed:!n.state.collapsed})},n.setContentContainerRef=function(e){n._container=e},E(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){if(null!=this._container){var e=this._container.getBoundingClientRect().height>400;this.setState({collapsable:e})}},t.prototype.render=function(){var e,t=this.props,r=t.applicationId,n=t.description,o=t.blurb,s=t.className,u=t.assets,f=this.state,y=f.collapsed,E=f.collapsable;return a("div",{className:s},void 0,a("div",{className:(0,l.default)((e={},e[_.default.collapsed]=E&&y,e))},void 0,i.createElement("div",{ref:this.setContentContainerRef},a("div",{className:_.default.blurb},void 0,o),a(c.default,{className:_.default.description,parser:I,output:S,state:{assets:u,applicationId:r}},void 0,n))),E?a(d.default,{className:_.default.toggleCollapseButton,onClick:this.handleToggleCollapse,color:d.default.Colors.PRIMARY},void 0,y?p.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_MORE:p.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_LESS):null)},t}(i.PureComponent);t.default=A,e.exports=t.default},6792:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=y(r(9)),s=r(6300),u=r(990),f=y(r(1224)),c=y(r(6108)),d=r(0),p=r(6081),_=y(r(5629));function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){var t=e.className,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["className"]);return i.createElement(c.default,o({},r,{className:(0,l.default)(_.default.sizedToParent,t),mediaPlayerClassName:_.default.sizedToParent}))},T={width:1280,height:720},I={width:640,height:360},m=function(e){var t=e.item,r=e.onPlay,n=void 0,i=void 0;if(t.type===d.CarouselMediaTypes.YOUTUBE_VIDEO)n=o({url:(0,d.YOUTUBE_PREVIEW_URL)(t.youtubeVideoId)},T),i=o({url:(0,d.YOUTUBE_EMBED_URL)(t.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},I);else{var l=null!=t.width?t.width:0,f=null!=t.height?t.height:0;n={url:t.thumbnailSrc,width:l,height:f},i={url:t.src,proxyURL:t.src,width:l,height:f}}return a("div",{className:_.default.embedContainer},void 0,a(u.EmbedVideo,{className:_.default.sizedToParent,href:null,thumbnail:n,VideoComponent:h,video:i,maxHeight:s.ItemSizes.SMALL.height,maxWidth:p.PageSizes.SMALL,onPlay:r,playable:!0}))},S=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=n=E(this,e.call.apply(e,[this].concat(i))),n.state={paused:!1},n.handleOnPlay=function(){n.setState({paused:!0})},n.handleIntentionalChange=function(e,t,r,a){n.setState({paused:!0});var o=n.props.onIntentionalChange;null!=o&&o(e,t,r,a)},n.renderSmallCarouselItem=function(e){var t=void 0;switch(e.type){case d.CarouselMediaTypes.YOUTUBE_VIDEO:case d.CarouselMediaTypes.VIDEO:t=a(m,{item:e,onPlay:n.handleOnPlay});break;case d.CarouselMediaTypes.IMG:t=a("img",{className:_.default.smallCarouselImage,src:e.src,alt:""})}return a("div",{className:_.default.smallCarouselItem},void 0,t)},E(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,r=e.autoplayInterval,n=e.paused,o=this.state.paused;return a(f.default,{items:t.slice(0,12),delay:r,paused:n||o,renderItem:this.renderSmallCarouselItem,className:_.default.smallCarousel,onIntentionalChange:this.handleIntentionalChange})},t}(i.PureComponent);S.defaultProps={paused:!1},t.default=S,e.exports=t.default},6793:function(e,t,r){"use strict";t.__esModule=!0;var n,a,o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),r(5631)),l=(a=i)&&a.__esModule?a:{default:a};t.default=function(){return o("div",{className:l.default.divider})},e.exports=t.default},6794:function(e,t,r){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_PREV=t.MODAL_CAROUSEL_NEXT=void 0;var n=r(143),a=r(0);t.MODAL_CAROUSEL_NEXT={binds:["right","down","space"],global:!0,action:function(){return n.ComponentDispatch.dispatch(a.ComponentActions.MODAL_CAROUSEL_NEXT),!1}},t.MODAL_CAROUSEL_PREV={binds:["left","up"],global:!0,action:function(){return n.ComponentDispatch.dispatch(a.ComponentActions.MODAL_CAROUSEL_PREV),!1}}},6795:function(e,t,r){"use strict";var n;t.__esModule=!0,t.MODAL_CAROUSEL_LAYOUT=void 0;var a=r(6153),o=r(6794),i=r(0);t.MODAL_CAROUSEL_LAYOUT=((n={})[i.KeybindActions.MARK_SERVER_READ]=a.MARK_CHANNEL_READ,n[i.KeybindActions.MODAL_CAROUSEL_NEXT]=o.MODAL_CAROUSEL_NEXT,n[i.KeybindActions.MODAL_CAROUSEL_PREV]=o.MODAL_CAROUSEL_PREV,n)},6796:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=h(r(521)),s=h(r(189)),u=h(r(6213)),f=r(6034),c=h(r(6070)),d=r(169),p=h(r(5999)),_=r(0),y=r(6795),E=h(r(5633));function h(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S={friction:10,tension:100};function A(e,t){return(e%t+t)%t}var O=function(e){function t(){var r,n;T(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=I(this,e.call.apply(e,[this].concat(o))),n.state={translate:new s.default.Value(0),opacity:new s.default.Value(1)},I(n,r)}return m(t,e),t.prototype.componentWillEnter=function(e){var t=this.props.directionHistory,r=this.state,n=r.translate,a=r.opacity;n.setValue(t[t.length-1]),a.setValue(0),e(),s.default.parallel([s.default.timing(a,{toValue:1,easing:s.default.Easing.out(s.default.Easing.linear),duration:200}),s.default.spring(n,o({toValue:0},S))]).start()},t.prototype.componentWillLeave=function(e){var t=this.props.directionHistory,r=this.state,n=r.opacity,a=r.translate;s.default.parallel([s.default.timing(n,{toValue:0,easing:s.default.Easing.in(s.default.Easing.linear),duration:200}),s.default.spring(a,o({toValue:-1*t[t.length-1]},S))]).start(e)},t.prototype.getStyle=function(){var e=this.state,t=e.translate,r=e.opacity;return s.default.accelerate({opacity:r,transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0px","300px"]})}]})},t.prototype.render=function(){var e=this.props.item;return a(s.default.img,{src:e.src,alt:"",className:E.default.slide,style:this.getStyle()})},t}(i.Component),v=function(e){function t(r){T(this,t);var n=I(this,e.call(this,r));return n.gotoNext=function(){var e=n.state.currentIndex;n.navigateTo(e+1)},n.gotoPrev=function(){var e=n.state.currentIndex;n.navigateTo(e-1)},n.state={currentIndex:r.startWith,directionHistory:[]},n}return m(t,e),t.prototype.componentDidMount=function(){this.preloadNextImages(),p.default.disable(),p.default.enableTemp(y.MODAL_CAROUSEL_LAYOUT)},t.prototype.componentWillUnmount=function(){p.default.disableTemp()},t.prototype.preloadNextImages=function(){var e=this.state.currentIndex,t=this.props.items,r=A(e+1,t.length),n=A(e-1,t.length);this.preloadImage(t[r]),this.preloadImage(t[n])},t.prototype.preloadImage=function(e){(0,d.loadImage)(e.src)},t.prototype.componentDidUpdate=function(e,t){this.state.currentIndex!==t.currentIndex&&this.preloadNextImages()},t.prototype.navigateTo=function(e){var t=this.state,r=t.directionHistory,n=t.currentIndex;r.push(e-n),e=A(e,this.props.items.length),this.setState({currentIndex:e,directionHistory:r})},t.prototype.render=function(){var e=this.props.onClose,t=this.state,r=t.currentIndex,n=t.directionHistory;return a(l.default,{component:"div",className:E.default.wrapper,onClick:e},void 0,a(f.CarouselPrevious,{className:E.default.navPrev,onClick:this.gotoPrev}),a(O,{item:this.props.items[r],directionHistory:n},this.props.items[r].src),a(f.CarouselNext,{className:E.default.navNext,onClick:this.gotoNext}))},t}(i.Component);v.defaultProps={startWith:0},t.default=(0,c.default)(function(e,t){var r;return(r={})[_.ComponentActions.MODAL_CAROUSEL_NEXT]=(0,u.default)(t.gotoNext,300),r[_.ComponentActions.MODAL_CAROUSEL_PREV]=(0,u.default)(t.gotoPrev,300),r})(v),e.exports=t.default},6797:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1));var s=Object.freeze({THING:"Thing",PERSON:"Person",PRODUCT:"Product",OFFER:"Offer",AGGREGATE_OFFER:"AggregateOffer",RATING:"Rating",AGGREGATE_RATING:"AggregateRating",ORGANIZATION:"Organization",ITEM_PAGE:"ItemPage",UNIT_PRICE_SPECIFICATION:"UnitPriceSpecification",QUANTITATIVE_VALUE:"QuantitativeValue"});function u(e){return function e(t){return Object.keys(t).forEach(function(r){null==t[r]?delete t[r]:"object"===i(t[r])?t[r]=e(t[r]):t[r]=t[r]}),t}(function(e){var t=void 0;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new Error("[JSONLD] Invalid object format")}return t}(e))}function f(e,t){return o({"@type":e},u(t))}function c(e){return f(s.THING,e)}var d=c;function p(e){return f(s.PRODUCT,e)}p.Image=function(e){if(null==e)return null;var t=e.filter(function(e){return null!=e&&""!==e});return 0===t.length?null:1===t.length?t[0]:t};var _=Object.freeze({DAMAGED:"http://schema.org/DamagedCondition",NEW:"http://schema.org/NewCondition",REFURBISHED:"http://schema.org/RefurbishedCondition",USED:"http://schema.org/UsedCondition"}),y=Object.freeze({DISCONTINUED:"http://schema.org/Discontinued",IN_STOCK:"http://schema.org/InStock",IN_STORE_ONLY:"http://schema.org/InStoreOnly",LIMITED_AVAILABILITY:"http://schema.org/LimitedAvailability",ONLINE_ONLY:"http://schema.org/OnlineOnly",OUT_OF_STOCK:"http://schema.org/OutOfStock",PREORDER:"http://schema.org/PreOrder",PRESALE:"http://schema.org/PreSale",SOLD_OUT:"http://schema.org/SoldOut"});function E(e){return f(s.OFFER,e)}E.ItemConditions=_,E.ItemAvailability=y;var h=Object.freeze({ANNUAL:"ANN",MONTHLY:"MON"});function T(e){return f(s.QUANTITATIVE_VALUE,e)}T.UnitCodes=h;var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.debug,e.data),r=JSON.stringify(o({"@context":"http://schema.org"},t));return a("script",{type:"application/ld+json"},void 0,r)},t}(l.Component);I.Thing=c,I.Brand=d,I.Person=function(e){return f(s.PERSON,e)},I.Organization=function(e){return f(s.ORGANIZATION,e)},I.ItemPage=function(e){return f(s.ITEM_PAGE,e)},I.Product=p,I.Offer=E,I.Rating=function(e){return f(s.RATING,e)},I.AggregateRating=function(e){return f(s.AGGREGATE_RATING,e)},I.AggregateOffer=function(e){return f(s.AGGREGATE_OFFER,e)},I.QuantitativeValue=T,I.UnitPriceSpecification=function(e){return f(s.UNIT_PRICE_SPECIFICATION,e)},t.default=I,e.exports=t.default},6798:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),r(6150)),i=c(r(6326)),l=c(r(123)),s=c(r(40)),u=c(r(5577)),f=c(r(5580));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.sku,r=e.application,n=e.onClose,c=e.isIAP,d=void 0!==c&&c;return a(l.default,{size:l.default.Sizes.SMALL,className:f.default.modal},void 0,a(o.Background,{application:r}),a(l.default.Content,{className:f.default.content},void 0,a(s.default,{direction:s.default.Direction.VERTICAL,className:u.default.confirmContent},void 0,a(l.default.CloseButton,{onClick:n,className:u.default.confirmCloseButton}),a(i.default,{application:r,sku:t,isIAP:d,onClose:n}))))},e.exports=t.default},6799:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=Ee(r(73)),s=Ee(r(2)),u=Ee(r(147)),f=r(8),c=Ee(r(6)),d=Ee(r(9)),p=Ee(r(539)),_=Ee(r(3)),y=r(56),E=r(955),h=Ee(r(41)),T=Ee(r(20)),I=Ee(r(983)),m=Ee(r(27)),S=Ee(r(191)),A=Ee(r(380)),O=Ee(r(525)),v=Ee(r(6309)),R=Ee(r(279)),g=Ee(r(6055)),N=Ee(r(6140)),P=Ee(r(553)),C=Ee(r(948)),L=Ee(r(31)),b=r(564),M=r(373),w=r(6306),D=Ee(r(552)),U=r(6083),G=Ee(r(6082)),k=Ee(r(64)),B=Ee(r(79)),H=Ee(r(6301)),x=Ee(r(40)),j=Ee(r(6797)),F=Ee(r(6020)),V=Ee(r(265)),W=Ee(r(224)),K=Ee(r(142)),Y=Ee(r(6300)),$=Ee(r(6793)),z=Ee(r(5993)),q=Ee(r(6792)),X=Ee(r(6791)),Q=Ee(r(6789)),J=Ee(r(6788)),Z=Ee(r(6786)),ee=Ee(r(6784)),te=r(6298),re=Ee(te),ne=Ee(r(6783)),ae=Ee(r(6779)),oe=Ee(r(6777)),ie=Ee(r(6776)),le=Ee(r(6775)),se=r(6773),ue=Ee(se),fe=(Ee(r(101)),Ee(r(6772))),ce=(Ee(r(1217)),Ee(r(969)),r(527)),de=r(963),pe=r(0),_e=r(6081),ye=Ee(r(5609));function Ee(e){return e&&e.__esModule?e:{default:e}}function he(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Te=8e3,Ie=1500,me=50,Se=a(W.default,{}),Ae=a($.default,{}),Oe=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,d=Array(s),p=0;p<s;p++)d[p]=arguments[p];return r=n=he(this,e.call.apply(e,[this].concat(d))),n.showCopyLinkTextTimeout=new y.Timeout,n._purchaseRef=i.createRef(),n._loadId=u.default.v4(),n._loadDate=Date.now(),n._trackedViewed=!1,n.state={showHeaderPurchaseUnit:!1,showLinkCopied:!1},n.trackCarouselScroll=function(e,t,r){var a=n.props.sku;null!=a&&T.default.track(pe.AnalyticEvents.STORE_LISTING_MEDIA_SCROLLED,o({},a.getAnalyticsData(),{card_index:r,card_type:e.type===pe.CarouselMediaTypes.IMG?"image":"video"}))},n.copyCurrentUrl=function(){var e=n.props.sku;if(null==e)throw new Error("SKU missing when copying current URL on store listing");(0,de.copy)(location.protocol+"//"+location.host+pe.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug)),n.setState({showLinkCopied:!0},function(){n.showCopyLinkTextTimeout.start(Ie,function(){n.setState({showLinkCopied:!1})})})},n.handleGoBack=function(){var e=n.props,t=e.sku,r=e.game,a=e.previousPath;null!=t&&null!=r&&r.getDiscordSkuId()!==t.id?h.default.transitionTo(pe.Routes.APPLICATION_STORE_LISTING_SKU(t.applicationId,t.slug)):null!=a&&a.startsWith(pe.Routes.APPLICATION_STORE)?(0,U.goBack)():h.default.transitionTo(pe.Routes.APPLICATION_STORE,{state:{analyticsLocation:pe.AnalyticsLocations.APPLICATION_STORE_LISTING_BACK_BUTTON}})},n.renderCopyLink=function(){var e=n.state.showLinkCopied;return a(K.default,{text:e?c.default.Messages.APPLICATION_STORE_LINK_COPIED:null,position:K.default.Positions.LEFT,forceOpen:e},void 0,a(k.default,{look:k.default.Looks.BLANK,size:k.default.Sizes.NONE,onClick:n.copyCurrentUrl,className:ye.default.link},void 0,a(B.default,{name:B.default.Names.LINK,className:ye.default.linkIcon})))},n.getBackTooltip=function(e,t){var r=n.props.previousPath;return null!=e&&null!=t&&t.getDiscordSkuId()!==e.id?c.default.Messages.APPLICATION_STORE_BACK_TO_LISTING.format({name:t.name}):r===pe.Routes.APPLICATION_STORE_BROWSE?c.default.Messages.APPLICATION_STORE_BACK_TO_BROWSE:c.default.Messages.APPLICATION_STORE_BACK_TO_DIRECTORY},n.renderCarousel=function(e,t){if(0===t.carouselItems.length)return null;var r=n.props,o=r.pageSize,i=r.isFocused,l=o===_e.PageSizes.SMALL?q.default:Y.default;return a(l,{items:t.carouselItems.map(function(r){return n.parseMediaItems(e,r,t.assets)}),autoplayInterval:Te,paused:!i,onChange:n.trackCarouselScroll,onIntentionalChange:n.trackCarouselScroll})},n.handleScroll=(0,f.debounce)(function(){if(null!=n._purchaseRef.current){var e=l.default.findDOMNode(n._purchaseRef.current.getApplicationBuyButton());if(e instanceof HTMLElement){var t=e.getBoundingClientRect().top<0;n.state.showHeaderPurchaseUnit!==t&&n.setState({showHeaderPurchaseUnit:t})}}},me),n.renderListing=function(){var e=n.props,t=e.game,r=e.storeListing,o=e.sku,i=e.pageSize;return null==t||null==o||null==r||r.isSlimDirectoryVersion()?a(x.default,{align:x.default.Align.CENTER,justify:x.default.Justify.CENTER},void 0,Se):i===_e.PageSizes.SMALL?n.renderSmall(t,r,o):n.renderLarge(t,r,o)},he(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,r=e.storeListing,n=e.isFetchingEntitlements,a=e.shouldFetchStatistics,o=e.hasFetchedActivities,i=e.didFetchEntitlements,l=e.isAuthenticated;(null==r||r.isSlimDirectoryVersion())&&this.fetchStoreListing(),null!=t&&(n||i||(0,b.fetchUserEntitlementsForApplication)(t.applicationId),a&&(0,w.fetchStatisticsForApplication)(t.applicationId)),l&&!o&&D.default.getActivities(),this.handleScroll(),this.trackViewed(),this.replaceUrlWithSlug()},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.locale,n=t.skuId,a=t.sku,o=t.shouldFetchStatistics;if(r===e.locale&&n===e.skuId||this.fetchStoreListing(),o&&!e.shouldFetchStatistics){if(null==a)throw new Error("Unexpected missing sku");s.default.wait(function(){return(0,w.fetchStatisticsForApplication)(a.applicationId)})}this.props.skuId===e.skuId&&this.props.storeListingId===e.storeListingId||(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()},t.prototype.componentWillUnmount=function(){this.showCopyLinkTextTimeout.stop(),T.default.track(pe.AnalyticEvents.STORE_LISTING_EXITED,{load_id:this._loadId,duration_ms:Date.now()-this._loadDate})},t.prototype.replaceUrlWithSlug=function(){var e=this.props,t=e.sku,r=e.slug;null!=t&&r!==t.slug&&h.default.replaceWith({pathname:pe.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),search:location.search})},t.prototype.trackViewed=function(){var e=this.props,t=e.sku,r=e.storeListing,n=e.location,a=e.hasFetchedNews,i=e.hasNews;if(!this._trackedViewed&&null!=t&&null!=r&&null!=r.description&&a){var l=r.carouselItems.reduce(function(e,t){return null!=t.assetId?e.images++:e.videos++,e},{images:0,videos:0});T.default.track(pe.AnalyticEvents.STORE_LISTING_VIEWED,o({load_id:this._loadId,has_description:null!=r.description&&r.description.length>0,has_staff_review:null!=r.staffNotes,carousel_image_count:l.images,carousel_video_count:l.videos,has_news:i,location:null!=n.state?n.state.analyticsLocation:null},t.getAnalyticsData(!0))),this._trackedViewed=!0}},t.prototype.fetchStoreListing=function(){var e=this.props,t=e.storeListingId,r=e.skuId;null!=t?(0,M.fetchStoreListingById)(t):null!=r&&(0,M.fetchStoreListingForSku)(r)},t.prototype.renderHeader=function(e,t){var r,n=this.props,o=n.isAuthenticated,i=n.isInTestMode,l=n.slug,s=n.storeListing,u=this.state.showHeaderPurchaseUnit;return a(F.default,{title:null!=t?t.name:null,isAuthenticated:o,onGoBack:this.handleGoBack,backText:this.getBackTooltip(t,e)},void 0,a("div",{className:ye.default.headerBarListing},void 0,a("div",{className:ye.default.headerSection},void 0,i&&null!=t?a(ue.default,{size:se.TestModeStoreListingButtonEnums.Sizes.MIN,dropdownSize:se.TestModeStoreListingButtonEnums.DropdownSizes.MEDIUM,look:se.TestModeStoreListingButtonEnums.Looks.OUTLINED,color:se.TestModeStoreListingButtonEnums.Colors.YELLOW,skuId:t.id,className:ye.default.testModeSelectButton,currentStoreListingId:null!=s?s.id:null,onStoreListingSelect:function(e){null!=t&&(0,M.goToApplicationStoreListing)(t.id,l,pe.AnalyticsLocations.APPLICATION_TEST_MODE_NOTICE,e.id)}}):null),a("div",{className:ye.default.headerSection},void 0,a("div",{className:(0,d.default)(ye.default.headerPurchase,(r={},r[ye.default.active]=u,r))},void 0,null!=t?t.getDisplayPrice():null,null!=e&&null!=t?a(H.default,{className:ye.default.headerActionButton,skuId:t.id,application:e,color:k.default.Colors.GREEN,size:k.default.Sizes.SMALL,tooltipPosition:K.default.Positions.BOTTOM,analyticsLocation:pe.AnalyticsLocations.APPLICATION_STORE_HEADER}):null,a(re.default,{messageStyle:te.MessageStyles.SHORT,className:ye.default.purchaseError})),null),null))},t.prototype.parseMediaItems=function(e,t,r){var n=t.assetId,a=t.youtubeVideoId;if(null!=n){var o=r.find(function(e){return e.id===n});if(null!=o){var i=o.width,l=o.height;if(null==i||null==l)throw new Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return o.mimeType.startsWith("video/")?{type:pe.CarouselMediaTypes.VIDEO,thumbnailSrc:(0,ce.getAssetUrl)(e.id,o,1024,"webp"),src:(0,ce.getAssetUrl)(e.id,o),height:l,width:i}:{type:pe.CarouselMediaTypes.IMG,src:(0,ce.getAssetUrl)(e.id,o,1024),height:l,width:i}}}if(null!=a)return{type:pe.CarouselMediaTypes.YOUTUBE_VIDEO,youtubeVideoId:a};throw new Error("Store carousel item must have one of assetId or youtubeVideoId")},t.prototype.renderHeaderAssets=function(e,t,r){var n=this.props.theme,o=t.headerBackground,i=n===pe.ThemeTypes.LIGHT?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==o||null==i?a("div",{className:ye.default.noHeaderSpacer}):a("div",{className:ye.default.headerAssets},void 0,a("div",{className:ye.default.headerBackground,style:{backgroundImage:"url("+(0,ce.getAssetUrl)(e.id,o,1024)+")"}}),a("img",{className:ye.default.headerLogo,src:(0,ce.getAssetUrl)(e.id,i,1024),alt:r.name}))},t.prototype.renderPurchaseSection=function(e,t,r){return a(ne.default,{storeListing:e,game:t,sku:r,className:ye.default.purchaseUnit,setRef:this._purchaseRef})},t.prototype.renderWhyYouMightLikeThis=function(e,t){return a(ae.default,{sku:e,storeListing:t,className:ye.default.whyYouMightLikeIt})},t.prototype.renderVerifiedGuildInvite=function(e,t){return null==e.guild?null:a(oe.default,{applicationId:t.applicationId,guild:e.guild,className:ye.default.guildInvite})},t.prototype.renderFeatures=function(e){return a(Q.default,{sku:e})},t.prototype.renderSystemRequirements=function(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:a(ie.default,{className:ye.default.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})},t.prototype.renderDescription=function(e,t){if(null==t.description)throw new Error("Rendering ApplicationStoreListing without description");return a(i.Fragment,{},void 0,a(z.default,{tag:"h1"},void 0,c.default.Messages.APPLICATION_STORE_ABOUT_THIS_GAME),Ae,a(X.default,{applicationId:e.id,blurb:t.summary,description:t.description,className:ye.default.description,assets:t.assets}))},t.prototype.renderNews=function(e){return a(J.default,{application:e,className:ye.default.news})},t.prototype.renderReviews=function(e){return null==e.reviews?null:e.reviews.map(function(e){return a(le.default,{review:e,className:ye.default.reviewAggregator},e.aggregator)})},t.prototype.renderApplicationContentRating=function(e){return a(Z.default,{sku:e,className:ye.default.contentRating})},t.prototype.renderApplicationLegalInfo=function(e){return a(ee.default,{sku:e,className:ye.default.legalInfo})},t.prototype.renderJsonLD=function(){var e=this.props,t=e.sku,r=e.storeListing,n=e.game;if(null==t||null==r||null==n)return null;var o=[],i=n.getSplashURL(1024);null!=i&&o.push(i),null!=r.headerLogoLightTheme&&o.unshift((0,ce.getAssetUrl)(n.id,r.headerLogoLightTheme,1024,"jpg"));var l=j.default.Product({name:t.name,description:t.summary||r.tagline,image:j.default.Product.Image(o),sku:t.id}),s=t.getPrice();if(null!=s){var u=s.amount,f=s.currency;l.offers=j.default.Offer({priceCurrency:f.toUpperCase(),price:(0,E.formatPrice)(u,f,{style:"decimal"})})}var c=j.default.ItemPage({mainEntity:l});return a(j.default,{data:c})},t.prototype.renderSmall=function(e,t,r){return a("div",{className:(0,d.default)(ye.default.listing,ye.default.listingSmall)},void 0,this.renderHeaderAssets(e,t,r),this.renderCarousel(e,t),this.renderPurchaseSection(t,e,r),this.renderWhyYouMightLikeThis(r,t),this.renderDescription(e,t),this.renderVerifiedGuildInvite(t,r),this.renderFeatures(r),this.renderNews(e),this.renderReviews(r),this.renderSystemRequirements(r),this.renderApplicationContentRating(r),this.renderApplicationLegalInfo(r))},t.prototype.renderLarge=function(e,t,r){return a("div",{className:ye.default.listing},void 0,this.renderHeaderAssets(e,t,r),this.renderCarousel(e,t),a("div",{className:ye.default.listingLarge},void 0,a("div",{className:ye.default.body},void 0,a("div",{className:ye.default.leftColumn},void 0,this.renderWhyYouMightLikeThis(r,t),this.renderDescription(e,t),this.renderVerifiedGuildInvite(t,r),this.renderNews(e),this.renderSystemRequirements(r),this.renderApplicationContentRating(r),this.renderApplicationLegalInfo(r)),a("div",{className:ye.default.rightColumn},void 0,this.renderPurchaseSection(t,e,r),this.renderReviews(r),this.renderFeatures(r)))))},t.prototype.render=function(){var e=this.props,t=e.game,r=e.sku,n=e.storeListing,o=e.matureAgree,l=e.isAuthenticated;if(null==t||null==r||null==n||n.isSlimDirectoryVersion())return a(i.Fragment,{},void 0,this.renderHeader(t,r),a(x.default,{align:x.default.Align.CENTER,justify:x.default.Justify.CENTER},void 0,a(W.default,{className:ye.default.spinner})));if(!o&&r.showAgeGate){var s=l?null:a("div",{className:ye.default.gatedListing},void 0,this.renderListing());return a(i.Fragment,{},void 0,a(p.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,r),a(fe.default,{game:t}),s)}return l?a("div",{className:ye.default.listingWrapper},void 0,a(p.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,r),a(V.default,{onScroll:this.handleScroll,track:!0},void 0,this.renderListing())):a("div",{},void 0,a(p.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,r),this.renderListing())},t}(i.PureComponent);t.default=(0,G.default)(_.default.connectStores([m.default,O.default,C.default,I.default,v.default,N.default,P.default,A.default,R.default,S.default],function(e){var t=e.match.params,r=t.skuId,n=t.slug,a=e.storeListingId,o=e.isAuthenticated,i=O.default.get(r),l=null!=i?i.applicationId:null,s=void 0;if(null!=a?s=C.default.get(a):null!=i&&(s=C.default.getForSKU(i.id)),null!=i&&null==s&&R.default.inTestModeForApplication(i.applicationId)){var u=C.default.getUnpublishedForSKU(i.id);s=null!=u?u[0]:null}var f=g.default.getLocationAtIndex(-1);return{skuId:r,game:null!=l?m.default.getGame(l):null,isFetchingEntitlements:null!=l&&I.default.applicationIdsFetching.has(l),didFetchEntitlements:null!=l&&I.default.applicationIdsFetched.has(l),shouldFetchStatistics:o&&null!=l&&N.default.shouldFetchStatisticsForApplication(l),hasFetchedActivities:P.default.hasFetchedActivities,sku:i,slug:n,isFocused:S.default.isFocused(),storeListing:s,isInTestMode:null!=l&&R.default.inTestModeForApplication(l),matureAgree:v.default.didMatureAgree,previousPath:null!=f?f.pathname:null,hasFetchedNews:null!=l&&A.default.isFetched(l),hasNews:null!=l&&A.default.getByGameId(l).length>0,theme:L.default.theme}})(Oe)),e.exports=t.default},6800:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=c(r(9)),l=c(r(939)),s=c(r(87)),u=c(r(79)),f=c(r(5636));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.autoFocus,r=e.label,n=e.placeholder,o=e.searchTerm,c=e.inputClassName,d=e.className,p=e.onClear,_=e.onChange,y=null!=o&&o.length>0;return a("div",{className:(0,i.default)(f.default.searchBox,d)},void 0,a(l.default,{name:"search",maxLength:100,className:f.default.searchBoxInputWrapper,inputClassName:(0,i.default)(f.default.searchBoxInput,c),onChange:_,value:y?o:"",placeholder:n,autoFocus:t,"aria-label":r}),y?a(s.default,{onClick:p,className:f.default.clear},void 0,a(u.default,{name:u.default.Names.CLEAR,className:f.default.clearIcon})):a(u.default,{className:f.default.searchIcon,name:u.default.Names.SEARCH}))},t}(o.Component);t.default=d,e.exports=t.default},6801:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=U(r(539)),l=U(r(3)),s=U(r(2)),u=U(r(148)),f=r(6302),c=r(6274),d=U(r(41)),p=U(r(1007)),_=(U(r(6168)),U(r(6310))),y=U(r(525)),E=U(r(6055)),h=U(r(6169)),T=r(6089),I=U(r(44)),m=U(r(31)),S=r(6083),A=U(r(192)),O=r(979),v=U(r(6082)),R=U(r(6800)),g=U(r(265)),N=U(r(224)),P=U(r(40)),C=U(r(945)),L=U(r(1025)),b=U(r(6020)),M=r(0),w=U(r(6)),D=U(r(5635));function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=new Set([M.StoreDirectoryTileTypes.REGULAR,M.StoreDirectoryTileTypes.MEDIA,M.StoreDirectoryTileTypes.STAFF]),B=new Set([M.StoreApplicationPriceType.PREMIUM,M.StoreApplicationPriceType.DISTRIBUTION,M.StoreApplicationPriceType.COMING_SOON]),H=new Set([M.StoreApplicationPriceType.PREMIUM]),x=new Set([M.StoreApplicationPriceType.DISTRIBUTION]),j=function(e){var t=e.label,r=e.options,n=e.value,o=e.onChange,i=e.onOpen,l=e.onClose;return a("div",{className:D.default.filterBrowsing},void 0,a("label",{},void 0,t),a(L.default,{className:D.default.filterBrowsingSelectValue,popoutClassName:D.default.filterBrowsingSelectPopout,look:L.default.Looks.MINIMAL,options:r,value:n,onChange:o,onOpen:i,onClose:l}))},F=(0,c.cachedFunction)(function(e){for(var t=new Set,r=Array.from(e),n=0;n<r.length;n++){var a=y.default.get(r[n]);null!=a&&null!=a.genres&&a.genres.size>0&&Array.from(a.genres).forEach(function(e){return t.add(e)})}return[{label:w.default.Messages.APPLICATION_STORE_FILTER_ANY_GENRE,value:M.StoreApplicationGenresFilter.ANY_GENRES}].concat(Array.from(t).map(function(e){return{label:(0,f.getGenreText)(e),value:e}}))}),V=a(i.default,{title:"Discord"}),W=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=n=G(this,e.call.apply(e,[this].concat(i))),n.scrollerRef=o.createRef(),n._popoutCount=0,n.filterByApplicationType=function(e){var t=e.value;n.updateUrlWithFilters({type:t},{persistForBackButton:!0})},n.filterByGenre=function(e){var t=e.value;n.updateUrlWithFilters({genre:t},{persistForBackButton:!0})},n.sortByApplicationOrder=function(e){var t=e.value;n.updateUrlWithFilters({sort:t},{persistForBackButton:!0})},n.filterByTitle=function(e){n.updateUrlWithFilters({q:e})},n.handlePopoutOpen=function(){n._popoutCount+=1},n.handlePopoutClose=function(){n._popoutCount=Math.max(0,n._popoutCount-1)},n.handleScroll=function(){n._popoutCount>0&&A.default.closeAll()},n.handleGoBack=function(){var e=n.props.previousPath;null!=e&&e.startsWith(M.Routes.APPLICATION_STORE)?(0,S.goBack)():d.default.transitionTo(M.Routes.APPLICATION_STORE)},n.handleToggleHideLibraryApplications=function(e,t){(0,T.setHideLibraryGames)(t)},n.handleFilterTitleChange=function(e){n.filterByTitle(e)},n.reset=function(){n.filterByTitle("")},G(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateUrlWithFilters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).persistForBackButton,r=this.props.filters,n=null!=e.q?e.q:r.q,a=null!=e.type?e.type:r.type,o=null!=e.sort?e.sort:r.sort,i=null!=e.genre?e.genre:r.genre,l=p.default.formatPathWithQuery(M.Routes.APPLICATION_STORE_BROWSE,{q:n,type:a,sort:o,genre:String(i)});t?d.default.transitionTo(l):d.default.replaceWith(l)},t.prototype.getFilteredApplicationTypes=function(){switch(this.props.filters.type){case M.StoreApplicationTypeFilter.ALL:return B;case M.StoreApplicationTypeFilter.PREMIUM:return H;case M.StoreApplicationTypeFilter.DISTRIBUTION:return x}},t.prototype.renderListings=function(){var e=this.props,t=e.directoryLayout,r=e.isLibraryApplicationsHidden,n=e.filters,i=n.sort,l=n.genre,s=n.q;if(null==t)return this.renderLoading();var u={titleQuery:null!=s&&s.length>=3?s:null,hideApplicationsInUserLibrary:r,tileTypes:k,applicationTypes:this.getFilteredApplicationTypes(),genre:l};return o.createElement(g.default,{ref:this.scrollerRef,track:!0,onScroll:this.handleScroll},this.renderFilters(),a("div",{className:D.default.browse},void 0,a(_.default,{className:D.default.applications,directoryLayout:t,viewConfig:u,sort:i,analyticsLoadId:this.props.analyticsLoadId})))},t.prototype.componentDidMount=function(){var e=this.props,t=e.lastDirectoryScrollTop,r=e.directoryLayoutId,n=e.shouldFetchDirectoryLayout;null!=t&&null!=this.scrollerRef.current&&this.scrollerRef.current.scrollTo(t),n&&s.default.wait(function(){(0,T.loadDirectory)(r)})},t.prototype.componentWillUnmount=function(){var e=this;s.default.wait(function(){null!=e.scrollerRef.current&&(0,S.handleDirectoryUnmount)(e.scrollerRef.current.getScrollData().scrollTop,M.DirectoryLocations.BROWSE),(0,O.muteStoreDirectory)()})},t.prototype.renderLoading=function(){return a(P.default,{align:P.default.Align.CENTER,justify:P.default.Justify.CENTER},void 0,a(N.default,{className:D.default.spinner}))},t.prototype.renderFilterByType=function(){var e=this.props.filters.type,t=[{label:w.default.Messages.APPLICATION_STORE_FILTER_TYPE_ALL,value:M.StoreApplicationTypeFilter.ALL},{label:w.default.Messages.APPLICATION_STORE_FILTER_TYPE_PREMIUM,value:M.StoreApplicationTypeFilter.PREMIUM},{label:w.default.Messages.APPLICATION_STORE_FILTER_TYPE_DISTRIBUTION,value:M.StoreApplicationTypeFilter.DISTRIBUTION}];return a(j,{label:w.default.Messages.APPLICATION_STORE_BROWSE_BY_TYPE_LABEL,options:t,value:e,onChange:this.filterByApplicationType,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilterByGenre=function(){var e=this.props,t=e.directoryLayout,r=e.filters.genre;if(null==t)return null;var n=F(t.allSkuIds);return a(j,{label:w.default.Messages.APPLICATION_STORE_BROWSE_BY_GENRE_LABEL,options:n,value:r,onChange:this.filterByGenre,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilterByTitle=function(){var e=this.props.filters.q;return a(R.default,{searchTerm:e,className:D.default.filterByTitle,inputClassName:D.default.filterByTitleInput,label:w.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,placeholder:w.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,onChange:this.handleFilterTitleChange,onClear:this.reset,autoFocus:null!=e&&e.length>0})},t.prototype.renderSortBy=function(){var e=this.props.filters.sort;return a(j,{label:w.default.Messages.APPLICATION_STORE_SORT_BY,options:[{label:w.default.Messages.APPLICATION_STORE_BROWSE_SORT_NEW_RELEASES,value:M.StoreApplicationSort.NEW_RELEASES},{label:w.default.Messages.APPLICATION_STORE_BROWSE_SORT_BEST_SELLERS,value:M.StoreApplicationSort.BEST_SELLERS},{label:w.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_ALPHABETICAL,value:M.StoreApplicationSort.ALPHABETICAL},{label:w.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_REVERSE_ALPHABETICAL,value:M.StoreApplicationSort.REVERSE_ALPHABETICAL}],value:e,onChange:this.sortByApplicationOrder,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilters=function(){var e=this.props,t=e.isLibraryApplicationsHidden,r=e.libraryApplicationsSize,n=e.isAuthenticated,o=e.theme;return a("div",{className:D.default.filterBackground},void 0,a("header",{className:D.default.filters},void 0,a("div",{className:D.default.filterBrowsingHeaderWrapper},void 0,this.renderFilterByTitle()),a("div",{className:D.default.sortFilterBar},void 0,a("div",{className:D.default.filterAndSort},void 0,this.renderFilterByType(),this.renderFilterByGenre(),this.renderSortBy()),n?a(C.default,{className:D.default.hideGames,value:t,onChange:this.handleToggleHideLibraryApplications,type:o===M.ThemeTypes.DARK?C.default.Types.INVERTED:C.default.Types.DEFAULT,reverse:!0},void 0,t?w.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY_HIDDEN.format({gamesHidden:r}):w.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY):null)))},t.prototype.render=function(){var e=this.props.isAuthenticated;return a("div",{className:D.default.browseWrapper},void 0,V,a(b.default,{title:w.default.Messages.APPLICATION_STORE_BROWSE,isAuthenticated:e,onGoBack:this.handleGoBack,backText:w.default.Messages.APPLICATION_STORE_BACK_TO_DIRECTORY}),this.props.isFetchingDirectoryLayout?this.renderLoading():this.renderListings())},t}(o.PureComponent);function K(e,t,r){return new Set(Object.values(t)).has(e)?e:r}var Y=(0,v.default)(W);t.default=l.default.connectStores([h.default,I.default,m.default],function(e){var t=e.location,r=h.default.lastBrowseDirectoryView,n=u.default.parse(t.search.slice(1)),a=n[M.STORE_DIRECTORY_LAYOUT_ID_QUERY_OVERRIDE]||M.STORE_DIRECTORY_LAYOUT_ID,o=null!=n.genre?parseInt(n.genre,10):null,i=E.default.getLocationAtIndex(-1);return{directoryLayoutId:a,directoryLayout:h.default.getDirectoryLayout(a),shouldFetchDirectoryLayout:h.default.shouldFetch(),isFetchingDirectoryLayout:h.default.isFetching,lastDirectoryScrollTop:null!=r&&r.scrollTop,isLibraryApplicationsHidden:h.default.isLibraryApplicationsHidden,filters:{q:n.q,type:K(n.type,M.StoreApplicationTypeFilter,M.StoreApplicationTypeFilter.ALL),sort:K(n.sort,M.StoreApplicationSort,M.StoreApplicationSort.NEW_RELEASES),genre:K(o,M.StoreApplicationGenresFilter,M.StoreApplicationGenresFilter.ANY_GENRES)},libraryApplicationsSize:Object.keys(I.default.getAllLibraryApplications()).length,theme:m.default.theme,previousPath:null!=i?i.pathname:null}})(Y),e.exports=t.default},6802:function(e,t,r){e.exports=r.p+"5cf4181401e3d81acd4e811fae0797da.png"},6803:function(e,t,r){"use strict";t.__esModule=!0,t.HeroCarouselPaginationItem=void 0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=_(r(3)),s=r(6303),u=_(r(525)),f=_(r(9)),c=_(r(189)),d=_(r(5639)),p=_(r(87));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=300,I=c.default.Easing.bezier(.17,.67,.16,.99),m=l.default.connectStores([u.default],function(e){var t=e.skuId,r=null!=t?u.default.get(t):null;return{applicationId:null!=r?r.applicationId:null}})(function(e){function t(){return y(this,t),E(this,e.apply(this,arguments))}return h(t,e),t.prototype.getBackgroundStyle=function(){var e=this.props,t=e.backgroundOverride,r=e.applicationId,n=null!=r?(0,s.getApplicationBackground)(r):t;return o({},this.props.style,{backgroundImage:"url("+n+")"})},t.prototype.render=function(){return a(c.default.div,{className:d.default.itemBackground,style:this.getBackgroundStyle()})},t}(i.PureComponent)),S=function(e){function t(){var r,n;y(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=E(this,e.call.apply(e,[this].concat(o))),n._animatedItemContainer=new c.default.Value(1),n._animatedMedia=new c.default.Value(1),n.state={playing:!1,videoError:!1},n.componentWillEnter=function(e){n._animatedMedia.setValue(0),n._animatedItemContainer.setValue(0),c.default.parallel([c.default.timing(n._animatedMedia,{toValue:1,duration:400}),c.default.timing(n._animatedItemContainer,{toValue:1,delay:150,duration:350})]).start(e)},n.componentWillLeave=function(e){c.default.parallel([c.default.timing(n._animatedMedia,{toValue:0,delay:25,duration:T}),c.default.timing(n._animatedItemContainer,{toValue:0,duration:T})]).start(e)},E(n,r)}return h(t,e),t.prototype.getBackgroundStyle=function(){return c.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})},{scale:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[.98,1]})}]})},t.prototype.getDescriptionStyle=function(){return c.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}]})},t.prototype.getMediaStyle=function(){return c.default.accelerate({transform:[{scale:this._animatedMedia.interpolate({inputRange:[0,1],outputRange:[.8,1],easing:I})}],opacity:this._animatedMedia.interpolate({inputRange:[0,.4,1],outputRange:[0,0,1],easing:I})})},t.prototype.getContainerStyle=function(){return c.default.accelerate({opacity:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[0,1],easing:c.default.Easing.out(c.default.Easing.ease)})})},t.prototype.renderMedia=function(){var e=this.props.media;return a(c.default.div,{style:this.getMediaStyle(),className:d.default.itemMedia},void 0,e)},t.prototype.render=function(){var e=this.props,t=e.description,r=e.skuId,n=e.backgroundOverride;return a(c.default.div,{className:d.default.carouselItem,style:this.getContainerStyle()},void 0,a(m,{style:this.getBackgroundStyle(),skuId:r,backgroundOverride:n}),a(c.default.div,{className:d.default.itemDescriptionContainer,style:this.getDescriptionStyle()},void 0,t),a("div",{className:d.default.itemMediaContainer},void 0,this.renderMedia()))},t}(i.PureComponent);t.HeroCarouselPaginationItem=function(e){function t(){return y(this,t),E(this,e.apply(this,arguments))}return h(t,e),t.prototype.render=function(){var e,t=this.props,r=t.pagination,n=t.selected,o=t.onClick;return a(p.default,{onClick:o,className:(0,f.default)(d.default.paginationItemContainer,(e={},e[d.default.paginationSelected]=n,e))},void 0,r,n?a("div",{className:d.default.overlappingBorder}):null)},t}(i.PureComponent);t.default=S},6804:function(e,t,r){"use strict";t.__esModule=!0,t.HeroCarouselApplicationPagination=t.HeroCarouselApplicationMedia=t.HeroCarouselApplicationDescription=void 0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=O(r(3)),s=O(r(20)),u=r(6303),f=O(r(27)),c=O(r(525)),d=O(r(948)),p=r(373),_=O(r(64)),y=O(r(79)),E=O(r(558)),h=O(r(87)),T=O(r(6234)),I=r(0),m=O(r(6)),S=O(r(5640)),A=r(527);function O(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=400,P=l.default.connectStores([d.default,f.default,c.default],function(e){var t=e.skuId,r=c.default.get(t);return{sku:r,storeListing:null!=r?d.default.getForSKU(r.id):null}});t.HeroCarouselApplicationDescription=P(function(e){function t(){var r,n;v(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=n=R(this,e.call.apply(e,[this].concat(i))),n.trackLinkClicked=function(){var e=n.props,t=e.sku,r=e.analyticsLoadId;null!=t&&s.default.track(I.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,o({},t.getAnalyticsData(),{is_hero:!0,load_id:r}))},n.handleGoToStoreListing=function(){var e=n.props.sku;if(null==e)throw new Error("Should not be clicking HeroCarouselApplication without SKU");(0,p.goToApplicationStoreListing)(e.id,e.slug,I.AnalyticsLocations.APPLICATION_STORE_HERO),n.trackLinkClicked()},R(n,r)}return g(t,e),t.prototype.getHeader=function(e){return e.exclusive?m.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD:e.premium?m.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_PREMIUM_GAME:m.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_GAME},t.prototype.render=function(){var e=this.props,t=e.sku,r=e.storeListing;return null!=t&&null!=r?a("div",{className:S.default.itemDescription},void 0,a("h2",{className:S.default.featuredGame},void 0,this.getHeader(t)),a(h.default,{onClick:this.handleGoToStoreListing},void 0,a("h1",{className:S.default.title},void 0,t.name)),a("div",{className:S.default.tagline},void 0,r.tagline),a("div",{className:S.default.actionsContainer},void 0,t.premium?a("span",{className:S.default.freeWithNitro},void 0,a(y.default,{className:S.default.nitroWheel,name:y.default.Names.NITRO_WHEEL}),t.getDisplayPrice()):null,null!=t.getPrice()?a("span",{},void 0,t.getDisplayPrice()):null,a(_.default,{onClick:this.handleGoToStoreListing,look:_.default.Looks.OUTLINED,color:_.default.Colors.WHITE,className:S.default.learnMoreButton},void 0,m.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_LEARN_MORE))):null},t}(i.PureComponent)),t.HeroCarouselApplicationMedia=P(function(e){function t(){var r,n;v(this,t);for(var l=arguments.length,f=Array(l),c=0;c<l;c++)f[c]=arguments[c];return r=n=R(this,e.call.apply(e,[this].concat(f))),n._trailerRef=i.createRef(),n._previewRef=i.createRef(),n.state={trailerPlaying:!1,trailerVideoError:!1,showTrailer:!1},n.setPlayPreview=function(e){var t=n._previewRef.current;null!=t&&(e?t.play():t.pause())},n.setPlayTrailer=function(e){var t=n._trailerRef.current;null!=t&&t.setPlay(e)},n.handleTrailerError=function(){n.setState({trailerVideoError:!0})},n.play=function(){n.setState({trailerPlaying:!0});var e=n.props,t=e.sku,r=e.analyticsLoadId;null!=t&&s.default.track(I.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,o({},t.getAnalyticsData(),{is_hero:!0,watch_trailer:!0,load_id:r}))},n.pause=function(){n.setState({trailerPlaying:!1})},n.renderTrailer=function(){var e=n.props,t=e.sku,r=e.storeListing;return null==r||null==t?null:i.createElement(T.default,{width:"100%",height:"100%",ref:n._trailerRef,className:S.default.itemTrailer,poster:null!=r.thumbnail?(0,A.getAssetUrl)(t.applicationId,r.thumbnail,N):null,onError:n.handleTrailerError,src:n.state.trailerVideoError&&null!=r.previewVideo?(0,A.getAssetUrl)(t.applicationId,r.previewVideo):(0,u.getApplicationTrailer)(t.applicationId),type:T.default.Types.VIDEO,onPlay:n.play,onPause:n.pause})},n.renderPreview=function(){var e=n.props,t=e.sku,r=e.storeListing;return null==r||null==t?null:a("div",{className:S.default.itemPreviewContainer},void 0,a("div",{className:S.default.playContainer},void 0,a(E.default,{className:S.default.playPill,onPlay:n.showTrailer,playText:m.default.Messages.PLAY_FULL_TRAILER})),i.createElement("video",{ref:n._previewRef,className:S.default.itemPreview,muted:!0,loop:!0,autoPlay:!0},a("source",{src:null!=r.previewVideo?(0,A.getAssetUrl)(t.applicationId,r.previewVideo):null,type:"video/mp4"})))},n.showTrailer=function(e){e.preventDefault(),e.stopPropagation(),n.state.showTrailer||n.setState({showTrailer:!0,trailerPlaying:!0})},R(n,r)}return g(t,e),t.getDerivedStateFromProps=function(e,t){return t.showTrailer&&e.forcePaused&&t.trailerPlaying?{trailerPlaying:!1}:null},t.prototype.componentDidUpdate=function(e){var t=this.props.forcePaused;this.state.showTrailer&&this.setPlayTrailer(this.state.trailerPlaying),this.props.forcePaused!==e.forcePaused&&this.setPlayPreview(!t)},t.prototype.render=function(){var e=this.state.showTrailer;return a(h.default,{className:S.default.applicationMedia,onClick:this.showTrailer},void 0,e?this.renderTrailer():this.renderPreview())},t}(i.PureComponent)),t.HeroCarouselApplicationPagination=P(function(e){var t=e.sku,r=e.storeListing;return null!=r&&null!=t?a("img",{className:S.default.paginationItem,src:null!=r.thumbnail?(0,A.getAssetUrl)(t.applicationId,r.thumbnail,80):null,alt:null!=t?t.name:null}):null})},6805:function(e,t,r){e.exports=r.p+"dad6864f16434469ab69a4af34842335.png"},6806:function(e,t,r){"use strict";t.__esModule=!0,t.HeroCarouselPremiumIntroPagination=t.HeroCarouselPremiumIntroMedia=t.HeroCarouselPremiumIntroDescription=void 0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=p(r(20)),l=r(955),s=p(r(64)),u=p(r(87)),f=r(0),c=p(r(6)),d=p(r(5641));function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={amount:f.PremiumPlanPrices.MONTHLY,currency:f.CurrencyCodes.USD};function T(e){i.default.track(f.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,{is_hero:!0,premium_learn_more:!0,load_id:e})}t.HeroCarouselPremiumIntroDescription=function(e){function t(){var r,n;_(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=y(this,e.call.apply(e,[this].concat(o))),n.handleScrollToPremium=function(){var e=n.props,t=e.scrollToPremium,r=e.analyticsLoadId;t(),T(r)},y(n,r)}return E(t,e),t.prototype.render=function(){return a("div",{className:d.default.itemDescription},void 0,a(u.default,{onClick:this.handleScrollToPremium},void 0,a("h2",{className:d.default.title},void 0,c.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_PREMIUM_ANNOUNCEMENT_TITLE)),a("div",{className:d.default.summary},void 0,c.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_PREMIUM_ANNOUNCEMENT_DESCRIPTION),a("div",{className:d.default.actionsContainer},void 0,a("span",{className:d.default.premiumCost},void 0,(0,l.formatRate)((0,l.formatPrice)(h.amount,h.currency),l.Periods.MONTHLY)),a(s.default,{look:s.default.Looks.OUTLINED,color:s.default.Colors.WHITE,className:d.default.learnMoreButton,onClick:this.handleScrollToPremium},void 0,c.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_LEARN_MORE)))},t}(o.PureComponent),t.HeroCarouselPremiumIntroMedia=function(e){function t(){var r,n;_(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=y(this,e.call.apply(e,[this].concat(o))),n.handleScrollToPremium=function(){var e=n.props,t=e.scrollToPremium,r=e.analyticsLoadId;t(),T(r)},y(n,r)}return E(t,e),t.prototype.render=function(){return a(u.default,{onClick:this.handleScrollToPremium},void 0,a("img",{className:d.default.premiumImage,alt:c.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_PREMIUM_ANNOUNCEMENT_TITLE}))},t}(o.PureComponent),t.HeroCarouselPremiumIntroPagination=function(){return a("img",{className:d.default.paginationItem,src:r(6805),alt:c.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_PREMIUM_ANNOUNCEMENT_TITLE})}},6807:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=m(r(9)),l=m(r(521)),s=r(551),u=m(r(20)),f=m(r(27)),c=m(r(525)),d=r(6034),p=m(d),_=r(6806),y=r(6804),E=r(6803),h=m(E),T=r(0),I=m(r(5638));function m(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=a(_.HeroCarouselPremiumIntroPagination,{}),O=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=o=S(this,e.call.apply(e,[this].concat(l))),o.state={visibleIndex:0,isVisible:!0},o.handleVisibilityChange=function(e){o.setState({isVisible:e})},o.trackChangeItem=function(){var e=o.state.visibleIndex,t=o.props,r=t.items,n=t.analyticsLoadId,a=r[e];if(null!=a)if(a.type===T.StoreDirectoryHeroCarouselItemTypes.PREMIUM_ANNOUNCEMENT)u.default.track(T.AnalyticEvents.STORE_DIRECTORY_HERO_SCROLLED,{card_index:e,card_type:"premium",load_id:n});else if(a.type===T.StoreDirectoryHeroCarouselItemTypes.APPLICATION){var i=c.default.get(a.skuId);if(null==i)return;var l=f.default.getGame(i.applicationId);if(null==l)return;u.default.track(T.AnalyticEvents.STORE_DIRECTORY_HERO_SCROLLED,{card_index:e,card_type:"application",application_id:l.id,sku_id:a.skuId,load_id:n})}},o.prevItem=function(){var e=o.state.visibleIndex,t=o.props.items;0===e?o.setState({visibleIndex:t.length-1},o.trackChangeItem):o.setState({visibleIndex:e-1},o.trackChangeItem)},o.nextItem=function(){var e=o.props.items,t=o.state.visibleIndex;o.setState({visibleIndex:(t+1)%e.length},o.trackChangeItem)},o.handleSetItem=function(e){o.setState({visibleIndex:e},o.trackChangeItem)},o.renderHero=function(e){if(e.type===T.StoreDirectoryHeroCarouselItemTypes.PREMIUM_ANNOUNCEMENT){var t=o.props,n=t.scrollToPremium,i=t.analyticsLoadId;return a(h.default,{backgroundOverride:r(6802),media:a(_.HeroCarouselPremiumIntroMedia,{scrollToPremium:n,analyticsLoadId:i}),description:a(_.HeroCarouselPremiumIntroDescription,{scrollToPremium:n,analyticsLoadId:i})},"premiumHero")}if(e.type===T.StoreDirectoryHeroCarouselItemTypes.APPLICATION){var l=o.props.analyticsLoadId;return a(h.default,{media:a(y.HeroCarouselApplicationMedia,{skuId:e.skuId,forcePaused:!o.state.isVisible,analyticsLoadId:l}),description:a(y.HeroCarouselApplicationDescription,{skuId:e.skuId,analyticsLoadId:l}),skuId:e.skuId},e.skuId)}return null},o.renderPaginationItem=function(e,t){var r=o.state.visibleIndex===t;return e.type===T.StoreDirectoryHeroCarouselItemTypes.PREMIUM_ANNOUNCEMENT?a(E.HeroCarouselPaginationItem,{selected:r,pagination:A},"premiumPagination"):a(E.HeroCarouselPaginationItem,{selected:r,pagination:a(y.HeroCarouselApplicationPagination,{skuId:e.skuId})},e.skuId)},S(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPagination=function(){var e=this.props.items,t=this.state.visibleIndex;return a("div",{className:I.default.paginationContainer},void 0,a("div",{className:I.default.pagination},void 0,a(d.CarouselPrevious,{className:I.default.prevArrow,onClick:this.prevItem}),a(p.default,{renderItem:this.renderPaginationItem,items:e,selectedIndex:t,onSetItem:this.handleSetItem}),a(d.CarouselNext,{className:I.default.nextArrow,onClick:this.nextItem})))},t.prototype.render=function(){var e=this.props,t=e.className,r=e.items,n=this.state.visibleIndex;return a(s.VisibilitySensor,{onChange:this.handleVisibilityChange},void 0,a("div",{className:(0,i.default)(I.default.heroCarousel,t)},void 0,a(l.default,{className:I.default.carouselContainer},void 0,this.renderHero(r[n])),this.renderPagination()))},t}(o.PureComponent);t.default=O,e.exports=t.default},6808:function(e,t,r){"use strict";t.__esModule=!0,t.ApplicationResultsEmpty=t.ApplicationResult=void 0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),d(r(6))),i=d(r(9)),l=d(r(79)),s=d(r(87)),u=d(r(6308)),f=r(527),c=d(r(5643));function d(e){return e&&e.__esModule?e:{default:e}}t.ApplicationResult=function(e){var t,r=e.focused,n=e.sku,o=e.onSelect,l=e.onHighlight,d=e.storeListing,p=e.inLibrary,_=null;if(null!=d){var y=d.thumbnail;_=null!=y?(0,f.getAssetUrl)(n.applicationId,y,128):null}return a(s.default,{className:(0,i.default)(c.default.result,(t={},t[c.default.focused]=r,t)),onMouseEnter:l,onClick:o},void 0,a("div",{className:c.default.resultAssetContainer},void 0,null!=_?a("img",{className:c.default.resultAsset,src:_,alt:""}):a("div",{className:c.default.resultAssetEmpty})),a("div",{className:c.default.resultContent},void 0,a("div",{className:c.default.resultName},void 0,n.name),a(u.default,{sku:n,inLibrary:p,className:c.default.price,iconClass:c.default.iconClass})))},t.ApplicationResultsEmpty=function(e){var t=e.onViewAllGamesClick;return a("div",{className:c.default.empty},void 0,a("div",{className:c.default.emptyTitle},void 0,o.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),a("div",{className:c.default.emptyNote},void 0,o.default.Messages.APPLICATION_STORE_SEARCH_EMPTY_SUBHEADER),a(s.default,{tag:"a",onClick:t,className:c.default.allGamesContainer},void 0,o.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,a(l.default,{name:l.default.Names.RIGHT_CARET,className:c.default.caret})))}},6809:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=R(r(3)),l=R(r(9)),s=R(r(6046)),u=R(r(41)),f=R(r(1007)),c=r(6089),d=R(r(192)),p=R(r(948)),_=R(r(44)),y=R(r(939)),E=R(r(223)),h=R(r(79)),T=R(r(87)),I=r(6808),m=R(r(6474)),S=r(143),A=R(r(6)),O=r(0),v=R(r(5642));function R(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=370,P=4;function C(e){(0,c.updateSearchTerm)(e),u.default.transitionTo(f.default.formatPathWithQuery(O.Routes.APPLICATION_STORE_BROWSE,{q:e}))}function L(){return a(I.ApplicationResultsEmpty,{onViewAllGamesClick:function(){return C("")}})}var b=i.default.connectStores([p.default],function(e){var t=e.sku;return{storeListing:p.default.getForSKU(t.id),inLibrary:_.default.hasApplication(t.applicationId,!0)}})(I.ApplicationResult),M=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),f=0;f<i;f++)l[f]=arguments[f];return r=n=g(this,e.call.apply(e,[this].concat(l))),n.popoutRef=o.createRef(),n.state={query:"",focused:!1,focusedIndex:-1,results:[]},n.inputRef=null,n.setInputRef=function(e){n.inputRef=e},n.focusInput=function(){var e=n.inputRef;null!=e&&e.focus()},n.reset=function(){n.setState({query:"",results:[]})},n.handleInputChange=function(e){var t=n.state,r=t.query,a=t.results,o=e.trim();""===o?a=[]:o!==r.trim()&&(a=s.default.querySKUs(o,P,!0)),n.setState({query:e,results:a})},n.handleSelect=function(e){var t,r=n.state,a=r.query,o=r.results[e];null==o?C(a):(t=o.sku,u.default.transitionTo(O.Routes.APPLICATION_STORE_LISTING_SKU(t.id)))},n.handleHighlight=function(e){n.setState({focusedIndex:e})},n.handleFocus=function(){n.setState({focused:!0})},n.handleBlur=function(){n.setState({focused:!1})},n.handleKeyDown=function(e){var t=e.ctrlKey,r=e.altKey,a=e.metaKey,o=e.which,i=n,l=i.inputRef,s=i.state,u=s.query,f=s.focusedIndex,c=s.results;if(!(t||r||a))switch(e.stopPropagation(),o){case O.KeyboardKeys.ESCAPE:""!==u?n.reset():null!=l&&l.blur();break;case O.KeyboardKeys.ENTER:n.handleSelect(f),e.preventDefault();break;case O.KeyboardKeys.ARROW_UP:f=Math.max(f-1,-1),n.handleHighlight(f),e.preventDefault();break;case O.KeyboardKeys.ARROW_DOWN:f=Math.min(f+1,c.length-1),n.handleHighlight(f),e.preventDefault()}},n.renderPopoutResult=function(e){var t=n.state,r=t.results,o=t.focusedIndex,i=r[e];return null!=i?a(b,{sku:i.sku,focused:e===o,onSelect:function(){return n.handleSelect(e)},onHighlight:function(){return n.handleHighlight(e)}},i.sku.id):null},n.renderPopout=function(){var e=n.state,t=e.results,r=e.query,o=e.focusedIndex;return""!==r.trim()?a(m.default,{numResults:t.length,query:r,width:N,renderResult:n.renderPopoutResult,renderNoResults:L,focusedIndex:o,onSelectQuery:function(){return n.handleSelect(-1)},onHighlightQuery:function(){return n.handleHighlight(-1)}}):null},g(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){S.ComponentDispatch.subscribe(O.ComponentActions.TEXTAREA_FOCUS,this.focusInput),S.ComponentDispatch.subscribe(O.ComponentActions.FOCUS_SEARCH,this.focusInput)},t.prototype.componentDidUpdate=function(e,t){var r=this.popoutRef.current,n=this.state,a=n.focused,o=n.query,i=n.focusedIndex;o=o.trim(),a&&!t.focused?null!=r&&r.open():!a&&t.focused&&d.default.close("game-store-search"),o===t.query.trim()&&i===t.focusedIndex||d.default.rerender("game-store-search")},t.prototype.componentWillUnmount=function(){S.ComponentDispatch.unsubscribe(O.ComponentActions.TEXTAREA_FOCUS,this.focusInput),S.ComponentDispatch.unsubscribe(O.ComponentActions.FOCUS_SEARCH,this.focusInput),this.reset()},t.prototype.render=function(){var e,t,r=this.props.className,n=this.state.query;return o.createElement(E.default,{ref:this.popoutRef,offsetX:-156,uniqueId:"game-store-search",position:E.default.Positions.BOTTOM_LEFT,toggleClose:!1,render:this.renderPopout,animationType:E.default.Animations.NONE},a("div",{className:(0,l.default)(v.default.browseSearch,r)},void 0,a(y.default,{inputClassName:v.default.browseSearchInput,className:v.default.inputWrapper,inputRef:this.setInputRef,size:y.default.Sizes.MINI,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,name:"search",maxLength:100,value:n,placeholder:A.default.Messages.APPLICATION_STORE_BROWSE_SEARCH_PLACEHOLDER,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),a(h.default,{className:(0,l.default)(v.default.icon,(e={},e[v.default.iconVisible]=""===n,e)),name:h.default.Names.SEARCH}),a(T.default,{onMouseDown:function(e){e.preventDefault()},onClick:this.reset},void 0,a(h.default,{className:(0,l.default)(v.default.icon,v.default.clearIcon,(t={},t[v.default.iconVisible]=""!==n,t)),name:h.default.Names.CLEAR}))))},t}(o.PureComponent);t.default=M,e.exports=t.default},6810:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=N(r(5)),l=N(r(3)),s=N(r(9)),u=N(r(189)),f=N(r(521)),c=r(527),d=r(272),p=(N(r(969)),N(r(6140))),_=N(r(948)),y=N(r(559)),E=N(r(525)),h=N(r(12)),T=r(6306),I=N(r(552)),m=r(373),S=N(r(6139)),A=r(223),O=N(r(6304)),v=N(r(553)),R=r(0),g=N(r(5647));function N(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(0,d.cssValueToNumber)(g.default.popoutWidth),M=function(e){function t(){var r,n;P(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=C(this,e.call.apply(e,[this].concat(o))),n._animated=new u.default.Value(0),n.componentWillEnter=function(e){u.default.timing(n._animated,{toValue:1,duration:200}).start(e)},C(n,r)}return L(t,e),t.prototype.getPopoutOutputRange=function(){switch(this.props.popoutPosition){case A.Positions.LEFT:case A.Positions.TOP:return["8px","0px"];case A.Positions.BOTTOM:default:return["-8px","0px"]}},t.prototype.getPopoutStyle=function(){var e=this.props.popoutPosition,t=e===A.Positions.RIGHT||e===A.Positions.LEFT?[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateY:"-50%"}]:[{translateY:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateX:"-50%"}];return u.default.accelerate({transform:t,opacity:this._animated.interpolate({inputRange:[0,1],outputRange:[0,1],easing:u.default.Easing.in(u.default.Easing.ease)})})},t.prototype.renderSocial=function(){var e=this.props.socialReason;return null==e?null:a(O.default,{className:g.default.popoutSocialInfo,reason:e})},t.prototype.renderNonSocial=function(){var e=this.props.nonSocialReasons;return 0===e.length?null:e.map(function(e,t){return a(S.default,{reason:e,className:g.default.reason},t)})},t.prototype.renderReleaseDate=function(){return a(S.default,{reason:this.props.dateReason,className:g.default.reason})},t.prototype.render=function(){var e,t=this.props.className,r=this.renderSocial();return a(u.default.div,{style:this.getPopoutStyle(),className:(0,s.default)(g.default.popout,(e={},e[g.default.popoutWithoutSocial]=null==r,e),t)},void 0,r,this.renderNonSocial(),this.renderReleaseDate())},t}(o.Component),w=function(e){function t(){var r,n;P(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=C(this,e.call.apply(e,[this].concat(o))),n.state={popoutPosition:null},C(n,r)}return L(t,e),t.getDerivedStateFromProps=function(e,t){if(e.showPopout&&null==t.popoutPosition&&null!=e.tileRef.current){var r=e.tileRef.current.getBoundingClientRect(),n=window.innerWidth,a=A.Positions.RIGHT;return r.right+b>n&&(a=r.left-b-310>0?A.Positions.LEFT:window.innerHeight-r.bottom>r.top?A.Positions.BOTTOM:A.Positions.TOP),{popoutPosition:a}}return e.showPopout||null==t.popoutPosition?null:{popoutPosition:null}},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.shouldFetchStatistics,n=t.applicationId,a=t.showPopout,o=t.hasFetchedActivities,i=t.sku,l=t.hasFetchedStoreListing;a&&!e.showPopout&&(r&&(0,T.fetchStatisticsForApplication)(n),o||I.default.getActivities(),null==i||l||(0,m.fetchStoreListingForSku)(i.id))},t.prototype.render=function(){var e,t=this.props,r=t.className,n=t.socialReason,o=t.nonSocialReasons,i=t.dateReason,l=t.hasFetchedActivities,u=t.hasFetchedStatistics,c=t.hasFetchedStoreListing,d=this.state.popoutPosition,p=l&&u&&c;return a(f.default,{},void 0,null!=d&&p?a(M,{socialReason:n,nonSocialReasons:o,dateReason:i,popoutPosition:d,className:(0,s.default)((e={},e[g.default.popoutWrapperRight]=d===A.Positions.RIGHT,e[g.default.popoutWrapperLeft]=d===A.Positions.LEFT,e[g.default.popoutWrapperTop]=d===A.Positions.TOP,e[g.default.popoutWrapperBottom]=d===A.Positions.BOTTOM,e),r)}):null)},t}(o.Component);t.default=l.default.connectStores([E.default,p.default,y.default,v.default,h.default,_.default],function(e){var t=e.sku,r=t.applicationId,n=_.default.getForSKU(t.id);return{applicationId:r,hasFetchedActivities:v.default.hasFetchedActivities,shouldFetchStatistics:p.default.shouldFetchStatisticsForApplication(r),hasFetchedStatistics:null!=p.default.getStatisticsForApplication(r),hasFetchedStoreListing:null!=n&&!n.isSlimDirectoryVersion(),socialReason:function(e){var t=(0,c.getNowPlayingReason)(e,h.default,y.default),r=(0,c.getRecentlyPlayedReason)(e,h.default,v.default),n=null!=t?t.userInfo.length:0,a=null!=r?r.userInfo.length:0,o=(0,c.getEverPlayedReason)(e,h.default,p.default),i=null!=o?o.userInfo.length:0;return n>0&&(n>1||a<4)?t:a>0&&(a>1||i<4)?r:o}(r),nonSocialReasons:function(e){var t=(0,c.getNonSocialRecommendationReasons)(e.id,E.default,_.default).filter(function(e){return e.type!==R.StoreRecommendationTypes.RECENT_RELEASE_DATE}).slice(0,2);if(t.length<2&&null!=e.reviews&&null==t.find(function(e){return e.type===R.StoreRecommendationTypes.METACRITIC_SCORE})){var r=e.reviews.find(function(e){return e.aggregator===R.ReviewAggregators.METACRITIC});null!=r&&t.push({type:R.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:r})}return t}(t),dateReason:function(e){return{type:(0,i.default)().diff(e.releaseDate,"months")<c.RECENTLY_RELEASED_MONTHS_THRESHOLD?R.StoreRecommendationTypes.RECENT_RELEASE_DATE:R.StoreRecommendationTypes.RELEASE_DATE,releaseDate:e.releaseDate}}(t)}})(w),e.exports=t.default},6811:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=E(r(9)),l=r(56),s=E(r(189)),u=E(r(521)),f=r(6013),c=E(r(79)),d=E(r(87)),p=E(r(6095)),_=E(r(5652)),y=E(r(224));function E(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=400,S=function(e){function t(){var r,n;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=T(this,e.call.apply(e,[this].concat(o))),n._animatedValue=new s.default.Value(1),n.state={imageLoadError:!1,imageLoading:!0},n.componentWillEnter=function(e){n._animatedValue.setValue(0),s.default.timing(n._animatedValue,{toValue:1,duration:m}).start(e)},n.componentWillLeave=function(e){s.default.timing(n._animatedValue,{toValue:0,duration:m}).start(e)},n.getImageStyle=function(){return{opacity:n._animatedValue}},n.handleImageError=function(){n.setState({imageLoadError:!0,imageLoading:!1})},n.handleImageLoaded=function(){n.setState({imageLoading:!1})},T(n,r)}return I(t,e),t.prototype.renderMedia=function(){var e,t=this.props,r=t.src,n=t.className,o=t.title,l=this.state.imageLoading;return a(s.default.img,{className:(0,i.default)((e={},e[_.default.imageLoading]=l,e),n),src:r,alt:o,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})},t.prototype.render=function(){var e=this.props,t=e.className,r=e.title,n=e.src,o=this.state,l=o.imageLoadError,u=o.imageLoading;return null==n||l?a(s.default.div,{className:(0,i.default)(_.default.titleContainer,t),style:this.getImageStyle()},void 0,r):a(s.default.div,{className:(0,i.default)(u?_.default.loadingContainer:null,t),style:this.getImageStyle()},void 0,u?a(y.default,{className:_.default.spinner,itemClassName:_.default.spinnerItem,type:y.default.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia())},t}(o.Component),A=function(e){function t(){var r,n;h(this,t);for(var s=arguments.length,p=Array(s),y=0;y<s;y++)p[y]=arguments[y];return r=n=T(this,e.call.apply(e,[this].concat(p))),n.state={currentIndex:0,videoLoadError:!1,videoLoaded:!1},n._video=o.createRef(),n.videoTimeout=new l.Timeout,n.videoPlaying=!1,n.handleToggleMute=function(e){e.stopPropagation(),e.preventDefault();var t=n.props.onToggleMute;t&&t(e)},n.handleVideoError=function(){n.setState({videoLoadError:!0})},n.handleVideoLoaded=function(){n.setState({videoLoaded:!0})},n.renderTypeVideo=function(){var e,t=n.state.videoLoaded,r=n.props,l=r.video,s=r.image,p=r.title,y=r.playing,E=r.muted;return a(o.Fragment,{},void 0,f.isMobile?null:o.createElement("video",{className:_.default.splash,muted:E,loop:!0,preload:"none",ref:n._video,onLoadedMetadata:n.handleVideoLoaded,onError:n.handleVideoError},a("source",{src:l,type:"video/mp4"})),a(u.default,{},void 0,y&&t?null:a(S,{className:_.default.splashPlaceholder,src:s,title:p},0)),a(d.default,{className:(0,i.default)(_.default.muteContainer,(e={},e[_.default.muteContainerPlaying]=y&&t,e)),onClick:n.handleToggleMute},void 0,y&&t?a(c.default,{name:E?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:_.default.mute}):null))},n.nextItem=function(){var e=n.props.slideImages;null!=e&&n.setState({currentIndex:(n.state.currentIndex+1)%e.length})},n.renderSlideItem=function(e){var t=n.props,r=t.image,o=t.title,i=t.playing,l=n.state.currentIndex;return i?a(S,{className:_.default.splash,src:e[l],title:o},l):a(S,{className:_.default.splash,src:r,title:o},"image")},T(n,r)}return I(t,e),t.prototype.componentWillUnmount=function(){this.videoTimeout.stop()},t.prototype.componentDidUpdate=function(e){var t=this,r=this.props.playing,n=this._video.current;if(null!=n)if(r&&!e.playing){this.videoTimeout.stop(),n.currentTime=0,n.volume=.3;var a=n.play();null!=a&&a.then(function(){t.videoPlaying=!0})}else e.playing&&!r&&this.videoTimeout.start(m,function(){t.videoPlaying&&(n.pause(),t.videoPlaying=!1)})},t.prototype.renderTypeImage=function(){var e=this.props,t=e.playing,r=e.slideImages,n=e.image,o=e.title;return null==r?a(S,{className:_.default.splash,src:n,title:o},"image"):a(p.default,{onInterval:this.nextItem,interval:2e3,className:_.default.slideshowWrapper,disable:!t},void 0,a(u.default,{},void 0,this.renderSlideItem(r)))},t.prototype.render=function(){var e=this.props,t=e.video,r=e.className;return e.placeholder?a("div",{className:r}):a("figure",{className:(0,i.default)(_.default.tileMedia,r)},void 0,null==t||this.state.videoLoadError?this.renderTypeImage():this.renderTypeVideo())},t}(o.Component);t.default=A,e.exports=t.default},6812:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(r(1)),s(r(9))),i=s(r(6)),l=s(r(5653));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return a("div",{className:(0,o.default)(l.default.tag,t)},void 0,a("span",{className:l.default.text},void 0,i.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD))},e.exports=t.default},6813:function(e,t,r){"use strict";t.__esModule=!0,t.BlogTile=void 0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=L(r(9)),s=L(r(3)),u=r(56),f=r(551),c=r(527),d=L(r(20)),p=L(r(525)),_=L(r(6309)),y=L(r(27)),E=L(r(948)),h=L(r(44)),T=r(979),I=r(373),m=L(r(6812)),S=L(r(163)),A=L(r(79)),O=L(r(6811)),v=L(r(6308)),R=L(r(87)),g=r(6307),N=L(r(6810)),P=r(0),C=L(r(5646));function L(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=300,U=1e3,G=600;function k(e){var t,r=e.sku,n=e.storeListing,a=e.playing,s=e.muted,u=e.inLibrary,f=e.hasSeen,d=e.onToggleMute;return o(i.Fragment,{},void 0,o(O.default,{className:C.default.splashContainer,video:null!=n.previewVideo?(0,c.getAssetUrl)(r.applicationId,n.previewVideo):null,image:null!=n.thumbnail?(0,c.getAssetUrl)(r.applicationId,n.thumbnail,G):null,title:r.name,playing:a,muted:s,placeholder:!f,onToggleMute:d}),o("div",{className:C.default.description},void 0,o("h2",{className:C.default.gameTitle},void 0,r.name),o("div",{className:C.default.tagline},void 0,n.tagline),o("div",{className:C.default.priceOSSection},void 0,o(v.default,{sku:r,inLibrary:u,libraryClass:C.default.inLibrary,premiumClass:C.default.freeWithNitro}),o(g.OperatingSystemSection,{systems:[P.OperatingSystems.WINDOWS],className:C.default.platform})),r.exclusive?o(m.default,{className:(0,l.default)(C.default.exclusiveRegular,(t={},t[C.default.exclusivePlaying]=a,t))}):null))}function B(e){var t,r,n=e.sku,a=e.storeListing,s=e.playing,u=e.stationaryExtendedPlay,f=e.muted,d=e.inLibrary,p=e.hasSeen,_=e.onToggleMute;return o(i.Fragment,{},void 0,o(O.default,{className:C.default.mediaSplashContainer,video:null!=a.previewVideo?(0,c.getAssetUrl)(n.applicationId,a.previewVideo):null,image:null!=a.thumbnail?(0,c.getAssetUrl)(n.applicationId,a.thumbnail,G):null,title:n.name,playing:s,muted:f,placeholder:!p,onToggleMute:_}),o("div",{className:C.default.mediaFade}),o("div",{className:(0,l.default)(C.default.mediaDescription,(t={},t[C.default.mediaDescriptionExtendedPlay]=u,t))},void 0,o("h2",{className:C.default.gameTitle},void 0,n.name),o("div",{className:C.default.tagline},void 0,a.tagline),o("div",{className:C.default.priceOSSection},void 0,o(v.default,{sku:n,inLibrary:d}),o(g.OperatingSystemSection,{systems:[P.OperatingSystems.WINDOWS],className:C.default.platform,iconClassName:C.default.osIcon}))),n.exclusive?o(m.default,{className:(0,l.default)(C.default.exclusiveMedia,(r={},r[C.default.exclusivePlaying]=s,r))}):null)}t.BlogTile=function(e){function t(){return b(this,t),M(this,e.apply(this,arguments))}return w(t,e),t.prototype.trackLinkClick=function(){d.default.track(P.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,{blog_post_opened:!0,load_id:this.props.analyticsLoadId})},t.prototype.render=function(){var e=this.props,t=e.href,r=e.title,n=e.description,a=e.className;return o(S.default,{href:t,className:(0,l.default)(C.default.tileWrapper,a),onClick:this.trackLinkClick},void 0,o("div",{className:C.default.blog},void 0,o("h1",{className:C.default.blogTitle},void 0,r),o("h2",{className:C.default.blogDescription},void 0,n,o(A.default,{name:A.default.Names.EXTERNAL_LINK,className:C.default.blogLaunch}))))},t}(i.PureComponent);var H=function(e){function t(){var r,n;b(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return r=n=M(this,e.call.apply(e,[this].concat(l))),n._tileRef=i.createRef(),n.mouseoverTimeout=new u.Timeout,n.extendedPlayTimeout=new u.Timeout,n.isUnmounted=!1,n.state={playing:!1,stationaryExtendedPlay:!1,hasSeen:!1},n.handleMouseEnter=function(){n.mouseoverTimeout.start(D,function(){if(!n.isUnmounted){var e=n.props.analyticsLoadId;n.setState({playing:!0});var t=n.props.sku;null!=t&&d.default.track(P.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,a({},t.getAnalyticsData(),{watch_trailer:!0,load_id:e}))}})},n.handleMouseLeave=function(){n.mouseoverTimeout.stop(),n.extendedPlayTimeout.stop(),n.state.playing&&!n.isUnmounted&&n.setState({playing:!1,stationaryExtendedPlay:!1})},n.handleMouseMove=function(){n.state.stationaryExtendedPlay&&n.setState({stationaryExtendedPlay:!1}),n.extendedPlayTimeout.start(D+U,function(){n.isUnmounted||n.setState({stationaryExtendedPlay:!0})})},n.handleToggleMute=function(){var e=n.props,t=e.sku,r=e.analyticsLoadId;null!=t&&d.default.track(P.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,a({},t.getAnalyticsData(),{audio_enabled:n.props.muted,load_id:r})),n.props.muted?(0,T.unmuteStoreDirectory)():(0,T.muteStoreDirectory)()},n.handleGoToStoreListing=function(){var e=n.props.sku;if(null==e)throw new Error("Should not be clicking ApplicationDirectoryTile without SKU");(0,I.goToApplicationStoreListing)(e.id,e.slug,P.AnalyticsLocations.APPLICATION_STORE_TILE)},n.handleVisibilityChange=function(e){!n.state.hasSeen&&e&&n.setState({hasSeen:e})},M(n,r)}return w(t,e),t.prototype.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.extendedPlayTimeout.stop()},t.prototype.renderTile=function(){var e=this.props,t=e.type,r=e.sku,n=e.storeListing,a=e.muted,o=e.inLibrary,l=this.state,s=l.hasSeen,u=l.playing,f=l.stationaryExtendedPlay;if(null==r)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU");if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");var c={onToggleMute:this.handleToggleMute,sku:r,storeListing:n,playing:u,stationaryExtendedPlay:f,muted:a,inLibrary:o,hasSeen:s};switch(t){case P.StoreDirectoryTileTypes.MEDIA:case P.StoreDirectoryTileTypes.STAFF:return i.createElement(B,c);case P.StoreDirectoryTileTypes.REGULAR:default:return i.createElement(k,c)}},t.prototype.renderTilePopout=function(){var e=this.props.sku;return null==e?null:o(N.default,{tileRef:this._tileRef,className:C.default.popoutWrapper,sku:e,showPopout:this.state.playing})},t.prototype.render=function(){var e,t=this.props,r=t.className,n=t.type;return o(f.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,i.createElement("div",{className:(0,l.default)(C.default.tilePopoutContainer,r),ref:this._tileRef},o(R.default,{onClick:this.handleGoToStoreListing,className:(0,l.default)(C.default.tileWrapper,(e={},e[C.default.tileRegular]=n===P.StoreDirectoryTileTypes.REGULAR,e[C.default.tileMedia]=n===P.StoreDirectoryTileTypes.MEDIA,e[C.default.tileStaff]=n===P.StoreDirectoryTileTypes.STAFF,e))},void 0,o("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,className:C.default.tile},void 0,this.renderTile())),this.renderTilePopout()))},t}(i.PureComponent);H.defaultProps={type:P.StoreDirectoryTileTypes.REGULAR},t.default=s.default.connectStores([p.default,_.default,h.default,y.default],function(e){var t=e.skuId,r=p.default.get(t);return{sku:r,inLibrary:null!=r&&h.default.hasApplication(r.applicationId,!0),storeListing:null!=r?E.default.getForSKU(r.id):null,muted:_.default.isDirectoryMuted}})(H)},6814:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),i=U(r(9)),l=U(r(73)),s=U(r(539)),u=U(r(148)),f=U(r(3)),c=U(r(2)),d=U(r(41)),p=U(r(1007)),_=r(6083),y=r(979),E=r(6089),h=U(r(64)),T=U(r(6082)),I=U(r(265)),m=U(r(224)),S=U(r(974)),A=U(r(40)),O=U(r(79)),v=U(r(87)),R=U(r(6020)),g=U(r(6310)),N=U(r(6398)),P=U(r(6809)),C=U(r(6169)),L=U(r(31)),b=U(r(6807)),M=r(0),w=U(r(6)),D=U(r(5637));function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=100,B=a(P.default,{}),H=a(s.default,{title:"Discord"}),x=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return r=n=G(this,e.call.apply(e,[this].concat(u))),n.scrollerRef=o.createRef(),n.premiumRef=o.createRef(),n.state={sort:M.StoreApplicationSort.FEATURED},n.scrollToPremium=function(){var e=n.props.location,t=n.scrollerRef.current,r=n.premiumRef.current;if(null!=t&&null!=r){var a=l.default.findDOMNode(r);a instanceof HTMLElement&&t.scrollTo(a.offsetTop-k,!0)}d.default.replaceWith(e.pathname+e.search)},n.renderFilterTab=function(e,t){var r;return a(v.default,{onClick:function(){n.setState({sort:e})},className:(0,i.default)(D.default.distributionApplicationsSort,(r={},r[D.default.selectedSort]=e===n.state.sort,r))},void 0,t)},n.renderToolbar=function(){return B},G(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,r=e.lastDirectoryScrollTop,n=e.directoryLayoutId,a=e.shouldFetchDirectoryLayout,o=e.directoryLayout;t.hash===M.PREMIUM_ROUTE_HASH&&null!=o?this.scrollToPremium():null!=r&&null!=this.scrollerRef.current&&this.scrollerRef.current.scrollTo(r),a&&c.default.wait(function(){return(0,E.loadDirectory)(n)})},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.directoryLayout;e.location.hash===M.PREMIUM_ROUTE_HASH&&null!=t&&this.scrollToPremium()},t.prototype.componentWillUnmount=function(){var e=this;c.default.wait(function(){null!=e.scrollerRef.current&&(0,_.handleDirectoryUnmount)(e.scrollerRef.current.getScrollData().scrollTop,M.DirectoryLocations.HOME),(0,y.muteStoreDirectory)()})},t.prototype.renderViewLink=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=p.default.formatPathWithQuery(M.Routes.APPLICATION_STORE_BROWSE,t);return a(v.default,{className:D.default.viewAllGames,onClick:function(){return d.default.transitionTo(r)}},void 0,a("span",{},void 0,e),a(O.default,{name:O.default.Names.CARET,className:D.default.viewAllIcon,direction:S.default.Directions.RIGHT}))},t.prototype.renderViewAll=function(){var e=this.state.sort,t=e===M.StoreApplicationSort.NEW_RELEASES||e===M.StoreApplicationSort.BEST_SELLERS?e:null;return this.renderViewLink(w.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,{sort:t})},t.prototype.renderViewAllPremium=function(){return this.renderViewLink(w.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_PREMIUM_APPLICATIONS,{type:M.StoreApplicationTypeFilter.PREMIUM})},t.prototype.renderTopListings=function(e){return a(o.Fragment,{},void 0,a("div",{className:D.default.distributionApplicationsActions},void 0,a("div",{className:D.default.distributionSorts},void 0,this.renderFilterTab(M.StoreApplicationSort.FEATURED,w.default.Messages.APPLICATION_STORE_HOME_FILTERS_FEATURED),this.renderFilterTab(M.StoreApplicationSort.NEW_RELEASES,w.default.Messages.APPLICATION_STORE_HOME_FILTERS_NEW_RELEASES),this.renderFilterTab(M.StoreApplicationSort.BEST_SELLERS,w.default.Messages.APPLICATION_STORE_HOME_FILTERS_BEST_SELLERS),a(v.default,{onClick:this.scrollToPremium,className:D.default.announcingNitro},void 0,w.default.Messages.APPLICATION_STORE_HOME_ANNOUNCING_NITRO)),a("div",{className:D.default.viewAllDistributionWrapper},void 0,this.renderViewAll())),a(g.default,{className:D.default.distributionApplications,directoryLayout:e,maxTiles:12,analyticsLoadId:this.props.analyticsLoadId,sort:this.state.sort}))},t.prototype.renderPremiumListings=function(e){return a(o.Fragment,{},void 0,a("div",{className:D.default.premiumApplicationsHeader},void 0,a("h3",{className:D.default.gridHeader},void 0,w.default.Messages.APPLICATION_STORE_HOME_PREMIUM_TITLES),this.renderViewAllPremium()),a(g.default,{className:D.default.premiumApplications,directoryLayout:e,analyticsLoadId:this.props.analyticsLoadId,sort:M.StoreApplicationSort.PREMIUM}))},t.prototype.renderContent=function(){var e=this.props,t=e.directoryLayout,r=e.analyticsLoadId,n=e.theme,i=e.isAuthenticated;return null==t?this.renderLoading():a(o.Fragment,{},void 0,a("div",{className:D.default.home},void 0,a(b.default,{className:D.default.heroCarousel,items:t.hero,scrollToPremium:this.scrollToPremium,analyticsLoadId:r}),this.renderTopListings(t),a(h.default,{onClick:function(){return d.default.transitionTo(M.Routes.APPLICATION_STORE_BROWSE)},className:D.default.viewAllGamesButton,innerClassName:D.default.viewAllGamesButtonInner,look:h.default.Looks.OUTLINED,color:n===M.ThemeTypes.DARK?h.default.Colors.WHITE:h.default.Colors.BLACK},void 0,a("div",{},void 0,w.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS),a(O.default,{name:O.default.Names.CARET,className:D.default.viewAllIcon,direction:S.default.Directions.RIGHT})),o.createElement(N.default,{isAuthenticated:i,ref:this.premiumRef,items:t.premiumCarousel}),this.renderPremiumListings(t)),a("footer",{className:D.default.footer},void 0,a("h1",{className:D.default.footerMain},void 0,w.default.Messages.APPLICATION_STORE_HOME_FOOTER_MAIN),a("h2",{className:D.default.footerSub},void 0,w.default.Messages.APPLICATION_STORE_HOME_FOOTER_SUB)))},t.prototype.renderLoading=function(){return a(A.default,{align:A.default.Align.CENTER,justify:A.default.Justify.CENTER},void 0,a(m.default,{className:D.default.spinner}))},t.prototype.render=function(){var e=this.props.isAuthenticated,t=e?o.createElement(I.default,{ref:this.scrollerRef,track:!0},this.renderContent()):this.renderContent(),r=e?D.default.homeWrapper:D.default.marketingWrapper;return a("div",{className:r},void 0,H,a(R.default,{title:w.default.Messages.STORE,renderToolbar:this.renderToolbar,isAuthenticated:e}),this.props.isFetchingDirectoryLayout?this.renderLoading():t)},t}(o.PureComponent);t.default=f.default.connectStores([C.default,L.default],function(e){var t=e.location,r=C.default.lastHomeDirectoryView,n=u.default.parse(t.search.slice(1))[M.STORE_DIRECTORY_LAYOUT_ID_QUERY_OVERRIDE]||M.STORE_DIRECTORY_LAYOUT_ID;return{directoryLayoutId:n,directoryLayout:C.default.getDirectoryLayout(n),shouldFetchDirectoryLayout:C.default.shouldFetch(),isFetchingDirectoryLayout:C.default.isFetching,lastDirectoryScrollTop:null!=r&&r.scrollTop,theme:L.default.theme}})((0,T.default)(x)),e.exports=t.default},6815:function(e,t,r){"use strict";t.__esModule=!0;var n,a=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,r,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),l=_(r(147)),s=r(264),u=_(r(148)),f=_(r(20)),c=_(r(6814)),d=_(r(6801)),p=r(0);function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=n=y(this,e.call.apply(e,[this].concat(s))),n._loadId=l.default.v4(),n._loadDate=Date.now(),n.renderHome=function(e){return i.createElement(c.default,o({},e,{analyticsLoadId:n._loadId}))},n.renderBrowse=function(e){return i.createElement(d.default,o({},e,{analyticsLoadId:n._loadId}))},y(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.location,t=null!=e.query?u.default.parse(e.query.slice(1)):null;f.default.track(p.AnalyticEvents.STORE_DIRECTORY_VIEWED,{load_id:this._loadId,location:null!=e.state?e.state.analyticsLocation:null,utm_campaign_current:null!=t?t.utm_campaign_current:null})},t.prototype.componentWillUnmount=function(){f.default.track(p.AnalyticEvents.STORE_DIRECTORY_EXITED,{load_id:this._loadId,duration_ms:Date.now()-this._loadDate})},t.prototype.render=function(){return a(s.Switch,{},void 0,a(s.Route,{path:p.Routes.APPLICATION_STORE,exact:!0,render:this.renderHome}),a(s.Route,{path:p.Routes.APPLICATION_STORE_BROWSE,render:this.renderBrowse}))},t}(i.Component);t.default=E,e.exports=t.default}}]);
//# sourceMappingURL=5df9b43423483e85732f.js.map