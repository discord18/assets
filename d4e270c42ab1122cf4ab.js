(window.webpackJsonp=window.webpackJsonp||[]).push([[3,10,16,281,282,283],{5236:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=w(r(11)),i=w(r(20)),l=w(r(5855)),u=w(r(5853)),s=w(r(6327)),d=w(r(5909)),c=w(r(7199)),f=w(r(7200)),p=w(r(7201)),y=w(r(7224)),h=w(r(7225)),v=w(r(6660)),_=w(r(7226)),m=w(r(7227)),g=w(r(7228)),O=w(r(7229)),A=w(r(7230)),I=w(r(7231)),E=w(r(7293)),S=w(r(7294)),b=w(r(7295)),T=w(r(7296)),P=w(r(7297)),N=w(r(7298)),M=w(r(7299)),C=w(r(7301)),R=w(r(7302)),L=r(0);function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var U=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var w=n.prototype;return w.renderAdminGroup=function(){var e=this.props,t=e.user,r=e.guildId,n=e.channelId;return null!=r&&null!=n?D(p.default,{user:t,guildId:r,channelId:n}):null},w.renderRolesGroup=function(){var e=this.props,t=e.user,r=e.guildId,n=e.invertChildY;return null!=r?D(T.default,{userId:t.id,guildId:r,invertChildY:n}):null},w.renderCloseChatItem=function(){var e=this.props,t=e.channelId,r=e.selected;return null!=t?D(_.default,{selected:r,channelId:t}):null},w.renderChangeNicknameItem=function(){var e=this.props,t=e.user,r=e.guildId;return null!=r?D(v.default,{userId:t.id,guildId:r}):null},w.renderMoveToItem=function(){var e=this.props,t=e.user,r=e.guildId,n=e.invertChildY;return null!=r?D(c.default,{user:t,guildId:r,invertChildY:n}):null},w.renderMenu=function(){if(this.props.user.isNonUserBot())return null;var e=this.props,t=e.user,r=e.type,n=e.guildId,o=e.channelId,l=e.target,c=e.mediaEngineContext;switch(r){case L.ContextMenuTypes.USER_CHANNEL_MEMBERS:case L.ContextMenuTypes.USER_CHANNEL_VOICE:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(O.default,{user:t,guildId:n}),D(A.default,{userId:t.id}),D(h.default,{userId:t.id}),D(I.default,{user:t,guildId:n,channelId:o,target:l,position:r===L.ContextMenuTypes.USER_CHANNEL_MEMBERS?I.default.LEFT:I.default.RIGHT}),D(P.default,{userId:t.id})),D(R.default,{userId:t.id}),D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),null!=n?D(v.default,{userId:t.id,guildId:n}):null,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_MESSAGE:case L.ContextMenuTypes.USER_CHANNEL_MENTION:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(O.default,{user:t,guildId:n}),D(A.default,{userId:t.id}),D(h.default,{userId:t.id}),D(I.default,{user:t,guildId:n,channelId:o,target:l})),D(u.default,{},void 0,this.renderChangeNicknameItem(),D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_PRIVATE_CHANNELS:var p=i.default.getChannel(o);return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(h.default,{userId:t.id}),D(I.default,{user:t,guildId:n,channelId:o,target:l}),this.renderCloseChatItem(),D(P.default,{userId:t.id})),D(u.default,{},void 0,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t}),null!=p?D(s.default,{channel:p}):null),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GROUP_DM:case L.ContextMenuTypes.USER_CALL_AVATAR:var _,T;null!=o&&(_=D(b.default,{userId:t.id,channelId:o}),T=D(u.default,{},void 0,D(S.default,{userId:t.id,channelId:o})));var w=i.default.getChannel(o);return w&&w.isManaged()&&(_=null,T=null),D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(O.default,{user:t}),D(A.default,{userId:t.id}),_,D(I.default,{user:t,channelId:o,target:l}),D(P.default,{userId:t.id})),D(R.default,{userId:t.id}),T,D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),null!=o?D(C.default,{userId:t.id,channelId:o,guildId:n}):null,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_FRIEND_LIST:case L.ContextMenuTypes.USER_PROFILE_MUTUAL:case L.ContextMenuTypes.USER_GENERIC_LIST:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(A.default,{userId:t.id}),D(h.default,{userId:t.id}),D(I.default,{user:t,guildId:n,channelId:o,target:l}),D(P.default,{userId:t.id})),D(u.default,{},void 0,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_TITLE:case L.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(h.default,{userId:t.id}),D(I.default,{user:t,guildId:n,channelId:o,target:l}),D(P.default,{userId:t.id}),this.renderCloseChatItem()),D(u.default,{},void 0,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GUILD_MEMBERS:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),this.renderChangeNicknameItem()),this.renderAdminGroup(),this.renderRolesGroup(),null!=n?D(u.default,{},void 0,D(M.default,{user:t,guildId:n})):null,D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_AUDIT_LOG:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(A.default,{userId:t.id})),this.renderRolesGroup(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_BANS:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(E.default,{userId:t.id,guildId:n}),D(A.default,{userId:t.id})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_ACTIVITY_FEED:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(N.default,{user:t})));default:console.warn("Error - no such ctx menu type")}return null},w.render=function(){var e=this.props,t=e.analyticsContext,r=e.className,n=e.style;if(o.default.isGuest())return null;var a=this.renderMenu();return null!=a?D(l.default,{context:t,object:L.AnalyticsObjects.CONTEXT_MENU},void 0,D("div",{className:r,style:n},void 0,a)):null},n}(a.PureComponent);U.displayName="UserContextMenu",U.defaultProps={selected:!1};var j=U;t.default=j},5237:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=H(r(2)),o=V(r(17)),i=V(r(29)),l=V(r(3)),u=V(r(134)),s=V(r(843)),d=V(r(6070)),c=V(r(233)),f=V(r(11)),p=V(r(35)),y=V(r(74)),h=V(r(23)),v=V(r(318)),_=V(r(101)),m=V(r(87)),g=V(r(42)),O=V(r(14)),A=V(r(5849)),I=V(r(231)),E=V(r(158)),S=V(r(6153)),b=V(r(5988)),T=r(234),P=V(r(18)),N=H(r(81)),M=V(r(443)),C=r(326),R=r(313),L=r(192),w=V(r(6687)),D=V(r(5855)),U=V(r(5929)),j=V(r(6689)),G=V(r(7249)),k=V(r(6333)),F=r(0),x=V(r(10)),B=V(r(5235)),Y=V(r(5615));function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function W(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var $=[r(7286),r(7287),r(7288),r(7289),r(7290),r(7291),r(7292)],X=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={show:!1},t}z(t,e);var r=t.prototype;return r.componentDidMount=function(){this.setState({show:!0})},r.getWumpusImage=function(){var e=this.props.userId;if("string"!=typeof e)return $[0];var t=parseInt(e.slice(-6),10);return $[t%$.length]},r.render=function(){var e;return W("div",{className:Y.default.wumpusWrapper},void 0,W("div",{className:(0,o.default)(Y.default.wumpus,(e={},e[Y.default.wumpusShown]=this.state.show,e))},void 0,W("img",{alt:x.default.Messages.IMG_ALT_ICON.format({name:x.default.Messages.WUMPUS}),src:this.getWumpusImage()}),W("span",{className:Y.default.wumpusTooltip},void 0,x.default.Messages.USER_POPOUT_WUMPUS_TOOLTIP)))},t}(a.PureComponent);X.displayName="BouncyWumpus";var q=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).close=function(){var e=t.props.onClose;e&&e()},t.handleOpenProfile=function(){s.default.open(t.props.user.id,t.props.guildId||void 0),t.close()},t}z(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;this.fetchApplication().then(function(){return e.trackOpenPopout()})},r.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},r.fetchApplication=function(){var e=this.props.activity;return null!=e&&null!=e.application_id&&null==p.default.getGame(e.application_id)?u.default.fetchApplication(e.application_id):Promise.resolve()},r.trackOpenPopout=function(){var e,t,r,n=this.props,a=n.activity,o=n.user,i=n.status,l=n.showMobileIndicator,u=n.isApplicationStreaming,s=n.analyticsParams;null!=a&&(e=a.party,t=a.assets,r=null!=a.application_id?p.default.getGame(a.application_id):null);var d=i;i===F.StatusTypes.ONLINE&&(d=l?F.AnalyticsUserStatusTypes.ONLINE_MOBILE:F.AnalyticsUserStatusTypes.ONLINE_DESKTOP),P.default.track(F.AnalyticEvents.OPEN_POPOUT,K({type:"Profile Popout",other_user_id:o.id,application_id:null!=a?a.application_id:void 0,application_name:null!=a?a.name:void 0,sku_id:null!=r?r.primarySkuId:null,is_friend:m.default.isFriend(o.id),has_images:!(null==t||!t.large_image&&!t.small_image),party_max:null!=e&&null!=e.size?e.size[1]:void 0,party_id:null!=e?e.id:void 0,party_platform:null!=e&&(0,C.isSpotifyParty)(e.id)?F.PlatformTypes.SPOTIFY:null,game_platform:(0,T.getGamePlatform)(a),profile_user_status:d,is_streaming:u},s))},r.getMode=function(){var e=this.props,t=e.activity,r=e.isApplicationStreaming;return null==t?"Normal":r?"Playing":(0,T.isStreaming)(t)?"Streaming":(0,T.isOnXbox)(t)?"Xbox":(0,T.isListeningOnSpotify)(t)?"Spotify":"Playing"},r.getStatusMode=function(){var e=this.props,t=e.activity,r=e.status;return(0,T.isStreaming)(t)?"Streaming":(0,R.upperCaseFirstChar)(r)},r.getNonUserBotMode=function(){var e=this.props.disableUserProfileLink;return this.props.user.isNonUserBot()||e?"NonUserBot":"Normal"},r.renderHeaderName=function(e){var t,r,n,a=this.props,i=a.nickname,l=a.showMobileIndicator;return null==i?null:W("div",{className:(0,o.default)(Y.default.headerNameWrapper,(t={},t[Y.default.nameWithMobileIndicator]=l,t))},void 0,W("span",{className:(0,o.default)(Y.default.headerName,(r={},r[Y.default.headerNameWithMobileIndicator]=l,r))},void 0,i),l?W(S.default,{className:(0,o.default)(Y.default.mobileIndicator,(n={},n[Y.default.mobileIndicatorPrimary]="Normal"===e,n[Y.default.mobileIndicatorWhite]="Normal"!==e,n))}):null)},r.renderHeader=function(){var e,t,r=this.props,n=r.user,a=r.nickname,i=r.status,l=r.theme,u=r.disableUserProfileLink,s=r.isGuest,d=r.showMobileIndicator,c=N.hasAnimatedAvatar(n)?n.getAvatarURL("gif"):n.getAvatarURL(),f=n.isNonUserBot(),p=this.getMode(),y=this.getNonUserBotMode(),h=W(A.default,{src:c,size:A.default.Sizes.POPOUT,status:i,statusClassName:Y.default.avatarStatus});return W("div",{className:(0,L.getClass)(Y.default,"header",p)},void 0,W(E.default,{align:E.default.Align.CENTER,justify:E.default.Justify.CENTER,direction:E.default.Direction.VERTICAL,className:Y.default.headerTop},void 0,s?h:W(I.default,{className:(0,L.getClass)(Y.default,"avatarWrapper",y),onClick:f||u?null:this.handleOpenProfile},void 0,h,W(E.default,{align:E.default.Align.CENTER,justify:E.default.Justify.CENTER,className:Y.default.avatarHint},void 0,W("div",{className:Y.default.avatarHintInner},void 0,x.default.Messages.VIEW_PROFILE))),W("div",{className:Y.default.headerText},void 0,this.renderHeaderName(p),W(U.default,{user:n,invertBotTagColor:l!==F.ThemeTypes.LIGHT||"Normal"!==p,hideDiscriminator:f,className:(0,o.default)((e={},e[Y.default.headerTagNoNickname]=null==a,e[Y.default.headerTagWithNickname]=null!=a,e[Y.default.nameWithMobileIndicator]=null==a&&d,e)),usernameClass:null==a?Y.default.headerTagUsernameNoNickname:null,botClass:null==a?Y.default.headerBotTag:Y.default.headerBotTagWithNickname,showMobileIndicator:d&&null==a,mobileIndicatorClassName:(0,o.default)(Y.default.mobileIndicator,(t={},t[Y.default.mobileIndicatorPrimary]="Normal"===p,t[Y.default.mobileIndicatorWhite]="Normal"!==p,t))}))),this.renderActivity())},r.renderActivity=function(){var e=this.props,t=e.activity,r=e.user,n=e.guildId,a=e.channelId;return null==t?null:W(k.default,{type:k.default.Types.USER_POPOUT,activity:t,className:Y.default.activity,user:r,guildId:n,channelId:a,source:F.AnalyticsLocations.PROFILE_POPOUT,onOpenGameProfile:this.close,onOpenConnections:this.close},"activity")},r.renderRoles=function(){var e=this.props,t=e.guild,r=e.user,n=e.guildMember;return null==t||null==n?null:[W("div",{className:Y.default.bodyTitle},"title",x.default.Messages.ROLES_LIST.format({numRoles:n.roles.length})),W(w.default,{className:(0,o.default)(Y.default.rolesList,Y.default.endBodySection),guild:t,user:r,userRoles:n.roles},"roles")]},r.renderNote=function(){var e=this.props,t=e.user,r=e.setNote;return[W("div",{className:Y.default.bodyTitle},"title",x.default.Messages.NOTE),W(j.default,{className:Y.default.note,userId:t.id,autoFocus:r},"note")]},r.renderBody=function(){return this.props.user.isNonUserBot()?null:W("div",{className:Y.default.body},void 0,this.renderRoles(),this.renderNote())},r.renderProtip=function(e){var t;return W(b.default,{type:b.default.Types.INLINE,className:(0,o.default)(Y.default.protip,(t={},t[B.default.marginTop8]=e,t))},void 0,x.default.Messages.CONTEXT_MENU_HINT)},r.renderFooter=function(){var e=this.props,t=e.user,r=e.setNote,n=e.isMe,a=e.isLurking;if(t.isNonUserBot())return null;var o=!n&&!a&&(m.default.isFriend(t.id)||null!=y.default.memberOf(t.id).find(function(e){return!g.default.isGuildRestricted(e)})),i=o&&Date.now()-t.createdAt<6048e5;return __OVERLAY__&&!o?null:W("div",{className:Y.default.footer},void 0,i?W(X,{userId:t.id}):null,o?W(G.default,{className:Y.default.quickMessage,user:t,autoFocus:!r,onClose:this.close}):null,i||__OVERLAY__?null:this.renderProtip(o))},r.render=function(){return W(D.default,{section:F.AnalyticsSections.PROFILE_POPOUT},void 0,W("div",{className:Y.default.userPopout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(a.PureComponent);q.displayName="UserPopout",q.defaultProps={disableUserProfileLink:__OVERLAY__,analyticsParams:{}};var J=l.default.connectStores([h.default,y.default,_.default,g.default,O.default,v.default,f.default,c.default],function(e){var t=e.userId,r=e.guildId,n=e.channelId,a=O.default.getUser(t);return(0,i.default)(null!=a,"Unexpected missing user"),{user:a,guild:null!=r?h.default.getGuild(r):null,nickname:M.default.getNickname(r,n,a),guildMember:null!=r?y.default.getMember(r,a.id):null,activity:_.default.getPrimaryActivity(a.id),status:a.isNonUserBot()?null:_.default.getStatus(a.id),isMe:O.default.getCurrentUser()===a,theme:g.default.theme,showMobileIndicator:_.default.isMobileOnline(a.id),isLurking:null!=r&&v.default.isLurking(r),isGuest:f.default.isGuest(),isApplicationStreaming:null!=c.default.getStreamForUser(a.id)}})((0,d.default)(function(e){var t,r=e.guildId,n=e.user;return(t={})[r]=[n.id],t})(q));t.default=J},5245:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),a=r(59),o=l(r(1)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={},d={},c=12e4;function f(e,t,r){var n=r.applicationId,l=s[n]||{};if(l[t]=e,s[n]=l,!__OVERLAY__&&e===i.ActivityActionStates.FAILED){null!=d[n]&&d[n].stop();var u=new a.Timeout;u.start(c,function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_LAUNCH_FAIL,applicationId:n,activityType:t})}),d[n]=u}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getState=function(e,t){var r=s[e];return r&&r[t]},a.getStates=function(){return s},n}(n.default.Store))(o.default,{OVERLAY_INITIALIZE:function(e){var t=e.activityLauncherStates;s=u({},t)},ACTIVITY_JOIN_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.JOIN,e)},ACTIVITY_SPECTATE_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_LAUNCH_FAIL:function(e){var t=e.applicationId,r=e.activityType,n=s[t];if(null==n||n[r]!==i.ActivityActionStates.FAILED)return!1;delete n[r]}});t.default=p},5246:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(6)),a=d(r(3)),o=d(r(1)),i=d(r(11)),l=d(r(87)),u=d(r(194)),s=r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={},p={};function y(e,t){return(f[e]||{})[t]||null}function h(e,t){var r=y(e,t);if(null!=r){var n=f[e];delete n[t],0===Object.keys(n)&&delete f[e];var a=p[r];null!=a&&(a.delete(e),0===a.size&&delete p[r])}}function v(e,t,r,n){var a=r.find(function(e){return null!=e.party&&e.party.id}),o=null!=a&&null!=a.party?a.party.id:null,i=y(t,e);if(null==o||n===s.StatusTypes.OFFLINE)return null!=i&&void h(t,e);if(null!=i){if(i===o)return!1;h(t,e)}!function(e,t,r){var n=f[e];if(null==n&&(n=f[e]={}),n[t]=r,!l.default.isBlocked(e)){var a=p[r]||new Set;p[r]=a,a.add(e)}}(t,e,o)}function _(e){var t=e.guild,r=!1,n=t.presences,a=Array.isArray(n),o=0;for(n=a?n:n[Symbol.iterator]();;){var i;if(a){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var l=i,u=l.user,s=l.status,d=l.activities;!1!==v(t.id,u.id,d,s)&&(r=!0)}return r}function m(){var e=i.default.getId(),t=u.default.getActivities();return v(s.ME,e,t)}var g=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.syncWith([u.default],m),this.waitFor(u.default,l.default)},a.getParty=function(e){return null!=e&&null!=p[e]?p[e]:null},a.getUserParties=function(){return f},a.getParties=function(){return p},n}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){var t=e.presences,r=e.guilds,n=!1,a=t,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var u=l,d=u.user,c=u.status,f=u.activities;null!=d&&!1!==v(s.ME,d.id,f,c)&&(n=!0)}var p=r,y=Array.isArray(p),h=0;for(p=y?p:p[Symbol.iterator]();;){var m;if(y){if(h>=p.length)break;m=p[h++]}else{if((h=p.next()).done)break;m=h.value}!1!==_({guild:m})&&(n=!0)}return n},OVERLAY_INITIALIZE:function(e){var t=e.parties,r=e.userParties;p={},f=c({},r),Object.keys(t).forEach(function(e){return p[e]=new Set(t[e])})},GUILD_CREATE:_,PRESENCES_REPLACE:function(e){var t=!1,r=e.presences,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o,l=i.user,u=i.activities;null!=l&&!1!==v(s.ME,l.id,u)&&(t=!0)}return t},PRESENCE_UPDATE:function(e){var t=e.guildId,r=e.user,n=e.status,a=e.activities;return v(t||s.ME,r.id,a,n)},RELATIONSHIP_ADD:function(e){var t=e.relationship;if(!l.default.isBlocked(t.id))return!1;var r=f[t.id];if(null==r)return!1;var a=n.default.values(r),o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(i>=a.length)break;u=a[i++]}else{if((i=a.next()).done)break;u=i.value}var s=p[u];null!=s&&s.delete(t.id)}},RELATIONSHIP_REMOVE:function(e){var t=e.relationship,r=f[t.id];if(null==r)return!1;var a=n.default.values(r),o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var u=p[l];null!=u&&u.add(t.id)}}});t.default=g},5257:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=o(r(3)),a=o(r(1));r(0);function o(e){return e&&e.__esModule?e:{default:e}}var i={};function l(e){i=e.notes||{}}var u=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getNotes=function(){return i},a.getNote=function(e){return i[e]||""},n}(n.default.Store))(a.default,{CONNECTION_OPEN:l,OVERLAY_INITIALIZE:l,USER_NOTE_UPDATE:function(e){i[e.id]=e.note}});t.default=u},5848:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(231)),i=l(r(824));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t,r=e.styles,n=e.label,l=e.hint,s=e.action,d=e.danger,c=void 0!==d&&d,f=e.disabled,p=void 0!==f&&f,y=e.brand,h=void 0!==y&&y,v=e.children,_=void 0===v?null:v;return u(o.default,{className:(0,a.default)(i.default.item,(t={},t[i.default.danger]=c,t[i.default.disabled]=p,t[i.default.brand]=h,t)),style:r,onClick:p?null:s},void 0,u("span",{},void 0,n),u("div",{className:i.default.hint},void 0,l),_)};s.displayName="MenuItem";var d=s;t.default=d},5851:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=a.forwardRef(function(t,r){return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(o.AnalyticsContext.Consumer,{},void 0,function(n){return a.createElement(e,i({},t,{ref:r,analyticsContext:n}))})});return t.displayName="withAnalyticsContext("+(e.displayName||e.name||"")+")",t};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(18);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},5853:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=(n=r(824))&&n.__esModule?n:{default:n};var l=function(e){var t=e.children;return o.Children.toArray(t).length?function(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:i.default.itemGroup},void 0,t):null};l.displayName="MenuGroup";var u=l;t.default=u},5855:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=(n=r(135))&&n.__esModule?n:{default:n},l=r(18),u=r(841),s=r(0);function d(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._loadId=t.props.root?i.default.v4():null,t._loadDate=t.props.root?Date.now():null,t.getLocation=(0,u.cachedFunction)(function(e,t,r,n){var a={};return null!=e&&(a.page=e),null!=t&&(a.section=t),null!=r&&(a.object=r),null!=n&&(a.objectType=n),a}),t.mergeLocation=(0,u.cachedFunction)(function(e,t){return c({},e,t)}),t.getContext=(0,u.cachedFunction)(function(e,t,r){return{location:e,loadDate:t,loadId:r}}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderProvider=function(e){var t=this.props,r=t.section,n=t.page,a=t.object,o=t.objectType,i=t.children,u=this.mergeLocation(e.location,this.getLocation(n,r,a,o)),s=this.getContext(u,this._loadDate||e.loadDate,this._loadId||e.loadId);return d(l.AnalyticsContext.Provider,{value:s},void 0,i)},a.render=function(){var e=this,t=this.props.context;return null!=t?this.renderProvider(t):d(l.AnalyticsContext.Consumer,{},void 0,function(t){return e.renderProvider(t)})},n}(o.Component);t.default=f,f.displayName="AnalyticsContext",f.Pages=s.AnalyticsPages,f.Sections=s.AnalyticsSections,f.Objects=s.AnalyticsObjects,f.ObjectTypes=s.AnalyticsObjectTypes,f.defaultProps={root:!1}},5856:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=y(r(2)),o=p(r(17)),i=r(849),l=p(r(158)),u=p(r(6024)),s=r(806),d=p(r(811)),c=y(r(428)),f=p(r(5617));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t,r,n=this.props,a=n.value,p=n.onChange,y=n.disabled,v=n.fill,_=n.hideBorder,m=n.children,g=n.className,O=n.tooltipNote,A=n.note,I=n.style,E=n.theme,S=n.size;S===u.default.Sizes.MINI?(t=f.default.titleMini,r=f.default.dividerMini):(t=f.default.titleDefault,r=f.default.dividerDefault);var b=function(e){return h(u.default,{id:e,value:a,fill:v,onChange:p,disabled:y,theme:E,size:S})};return h(l.default,{style:I,className:(0,o.default)(g,(e={},e[f.default.disabled]=y,e)),direction:l.default.Direction.VERTICAL},void 0,h(i.SmartUID,{},void 0,function(e){return h(l.default,{align:l.default.Align.START},void 0,h(l.default.Child,{wrap:!0},void 0,h("label",{htmlFor:e,className:t},void 0,m)),h(l.default.Child,{grow:0,shrink:0},void 0,null!=O?h(s.TooltipContainer,{text:O},void 0,b(e)):b(e)))}),A&&h(l.default.Child,{className:f.default.note},void 0,h(c.default,{disabled:y,type:c.Types.DESCRIPTION},void 0,A)),!_&&h(d.default,{className:r}))},n}(a.PureComponent);v.displayName="SwitchItem",v.Sizes=u.default.Sizes,v.Themes=u.default.Themes,v.defaultProps={disabled:!1,size:u.default.Sizes.DEFAULT,theme:u.default.Themes.DEFAULT,hideBorder:!1,className:f.default.switchItem};var _=v;t.default=_},5857:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(9)),a=s(r(1)),o=s(r(491)),i=r(808),l=r(0),u=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c={init:function(e,t){void 0===t&&(t=null),a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_INIT,guildId:e,section:t})},open:function(e,t){(0,i.pushLayer)(l.Layers.GUILD_SETTINGS),c.init(e,t)},close:function(){a.default.wait(function(){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_CLOSE})})},setSection:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SECTION,section:e})},setSearchQuery:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SEARCH_QUERY,searchQuery:e})},selectRole:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_ROLE_SELECT,roleId:e})},updateEmbed:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_EMBED(e),body:{enabled:t,channel_id:r}}).then(function(t){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_EMBED,guildId:e,enabled:t.body.enabled,channelId:t.body.channel_id})})},updateMFALevel:function(e){var t=e.guildId,r=e.level,i=e.isEnabled;(0,o.default)({title:u.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL,actionText:i?u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_OFF:u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_ON},function(e){return n.default.post({url:l.Endpoints.GUILD_MFA(t),body:d({level:r},e)})}).then(function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_MFA_SUCCESS,level:e.body.level})})},updateIcon:function(e,t){n.default.patch({url:l.Endpoints.GUILD(e),body:{icon:t}}).then(function(){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_UPDATE,icon:t})},function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},cancelChanges:function(e){a.default.dirtyDispatch({type:l.ActionTypes.GUILD_SETTINGS_CANCEL_CHANGES,guildId:e})},updateGuild:function(e){a.default.dispatch(d({type:l.ActionTypes.GUILD_SETTINGS_UPDATE},e))},saveGuild:function(e,t){var r=t.name,o=t.description,i=t.icon,u=t.splash,s=t.banner,d=t.region,c=t.afkChannelId,f=t.afkTimeout,p=t.systemChannelId,y=t.verificationLevel,h=t.defaultMessageNotifications,v=t.explicitContentFilter,_=t.features,m=t.systemChannelFlags,g=t.preferredLocale;return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT}),n.default.patch({url:l.Endpoints.GUILD(e),body:{name:r,description:o,icon:i,splash:u,banner:s,region:d,features:_,preferred_locale:g,afk_channel_id:c,afk_timeout:f,system_channel_id:p,verification_level:y,default_message_notifications:h,explicit_content_filter:v,system_channel_flags:m}}).then(function(){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS})},function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},updateGuildModeration:function(e,t){return n.default.patch({url:l.Endpoints.GUILD(e),body:{verification_level:t.verificationLevel,explicit_content_filter:t.explicitContentFilter}})},transferOwnership:function(e,t){return(0,o.default)({title:u.default.Messages.TRANSFER_OWNERSHIP,actionText:u.default.Messages.TRANSFER_OWNERSHIP},function(r){return n.default.patch({url:l.Endpoints.GUILD(e),body:d({owner_id:t},r)})})},deleteGuild:function(e,t){(0,o.default)({title:u.default.Messages.DELETE_SERVER_TITLE.format({name:t}),actionText:u.default.Messages.DELETE_SERVER},function(t){return n.default.post({url:l.Endpoints.GUILD_DELETE(e),body:t})}).then(function(){return c.close()})},leaveGuild:function(e){n.default.delete(l.Endpoints.GUILD_LEAVE(e)).then(function(){return c.close()})},updateMemberRoles:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_MEMBER(e,t),body:{roles:r}})},enableIntegration:function(e,t,r){n.default.post({url:l.Endpoints.GUILD_INTEGRATIONS(e),body:{type:t,id:r}})},disableIntegration:function(e,t){n.default.delete(l.Endpoints.GUILD_INTEGRATION(e,t))},updateIntegration:function(e,t,r,a,o){var i={expire_behavior:r,expire_grace_period:a,enable_emoticons:o};n.default.patch({url:l.Endpoints.GUILD_INTEGRATION(e,t),body:i})},syncIntegration:function(e,t){n.default.post(l.Endpoints.GUILD_INTEGRATION_SYNC(e,t))}},f=c;t.default=f},5874:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=s(r(17)),o=s(r(231)),i=s(r(427)),l=s(r(869)),u=s(r(824));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r,n=e.styles,s=e.label,c=e.action,f=e.active,p=void 0!==f&&f,y=e.disabled,h=void 0!==y&&y,v=e.danger,_=void 0!==v&&v,m=e.loading,g=void 0!==m&&m,O=e.className;return h||(r=function(e){return c(e,s,p)}),d(o.default,{className:(0,a.default)(u.default.item,u.default.itemToggle,O,(t={},t[u.default.danger]=_,t)),style:n,onClick:r},void 0,d("div",{className:u.default.label},void 0,g?d(i.default,{type:i.default.Type.PULSING_ELLIPSIS}):s),d(l.default,{checked:p,disabled:h,containerClassName:u.default.checkbox,onChange:function(){}}))};c.displayName="ToggleMenuItem";var f=c;t.default=f},5882:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function l(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=t.call.apply(t,[this].concat(o))||this).setRef=function(e){r._ref=e},r.triggerResize=function(){null!=r._ref&&r._ref.onResize()},r.renderComponent=function(t){var n=t.width,o=t.height,l=r.props,u=l.setRef,s=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(l,["setRef"]);return a.createElement(e,i({},s,{ref:u,width:n,height:o,triggerResize:r.triggerResize}))},r}n=t,(r=l).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var u=l.prototype;return u.render=function(){return a.createElement(o.default,{ref:this.setRef},this.renderComponent)},l}(a.Component)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=(n=r(7232))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},5883:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(5603)),i=l(r(961));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=Object.freeze({SIZE_10:i.default.size10,SIZE_12:i.default.size12,SIZE_14:i.default.size14,SIZE_16:i.default.size16,SIZE_20:i.default.size20,SIZE_24:i.default.size24}),d=Object.freeze({H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6"}),c=function(e){var t,r=e.tag,i=void 0===r?d.H3:r,l=e.muted,c=void 0!==l&&l,f=e.className,p=void 0===f?o.default.wrapper:f,y=e.size,h=void 0===y?s.SIZE_14:y,v=e.selectable,_=void 0!==v&&v,m=e.children,g=e.color,O=e.onClick,A=e.onContextMenu,I=e.style;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i,{role:null!=O?"button":null,onClick:O,onContextMenu:A,className:(0,a.default)(p,(t={},t[o.default.base]=!0,t[h]=!0,t[o.default.selectable]=_,t[o.default.muted]=c,t)),style:null!=g?u({},I,{color:g}):I},void 0,m)};c.displayName="Header",c.Sizes=s,c.Tags=d;var f=c;t.default=f},5884:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=y(r(17)),l=r(232),u=y(r(3)),s=r(6339),d=y(r(161)),c=r(5849),f=r(81),p=(r(0),y(r(5618)));function y(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=Object.freeze(((n={})[c.AvatarSizes.XSMALL]=p.default.avatarXSmall,n[c.AvatarSizes.SMALL]=p.default.avatarSmall,n[c.AvatarSizes.LARGE]=p.default.avatarLarge,n[c.AvatarSizes.XLARGE]=p.default.avatarXLarge,n[c.AvatarSizes.XXLARGE]=p.default.avatarXXLarge,n[c.AvatarSizes.POPOUT]=p.default.avatarPopout,n[c.AvatarSizes.PROFILE]=p.default.avatarProfile,n[c.AvatarSizes.ACTIVITY_FEED_24]=p.default.avatarXSmall,n)),m=Object.freeze({xsmall:20,small:30,large:40,xlarge:60,xxlarge:100,popout:90,profile:128,activityFeed24:24}),g=(0,s.backgroundImagePreloader)(function(e){return o.createElement("div",e)}),O=(0,s.backgroundImagePreloader)(function(e){return o.createElement(l.Link,e)}),A=function(e){var t,r;function n(t){var r;r=e.call(this,t)||this;var n=t.user,a=!!n&&(0,f.hasAnimatedAvatar)(n);return r.state={animatedAvatar:a,animatedAvatarLoaded:!1},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getStyle=function(){var e,t=this.props,r=t.user,n=t.channel,a=t.size,o=t.animate,i=t.game,l=this.state.animatedAvatar;return null!=r?e=l&&o?r.getAvatarURL("gif"):r.avatarURL||r.getAvatarURL("jpg"):null!=i?e=i.getIconURL(m[a]):null!=n&&(e=n.getIconURL()),{backgroundImage:e?'url("'+e+'")':null}},a.renderStatus=function(){var e=this.props,t=e.status,r=e.size,n=e.streaming,a=e.typing,o=e.isFocused,l=e.statusClassName,u=e.hideTooltip;return null!=t||n?v(c.AvatarStatusIcon,{status:n?c.AvatarStatusIcon.Statuses.STREAMING:t,size:r,isTyping:a,className:(0,i.default)(p.default.status,l),hideTooltip:u,shouldAnimateTypingIndicator:o}):null},a.render=function(){var e,t=this.props,r=t.size,n=t.to,a=t.className,l=t.isFocused,u=(t.streaming,t.typing,t.animate,t.theme),s=(t.statusClassName,t.hideTooltip,t.outerClassName),d=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["size","to","className","isFocused","streaming","typing","animate","theme","statusClassName","hideTooltip","outerClassName"]),f=(0,i.default)(a,p.default.inner,((e={})[p.default.animate]=l,e["stop-animation"]=!l,e));return v(c.AvatarWrapper,{size:r,theme:u,className:(0,i.default)(s,_[r])},void 0,null!=n?o.createElement(O,h({},d,{to:n,className:f,style:this.getStyle()})):o.createElement(g,h({},d,{className:f,style:this.getStyle()})),this.renderStatus())},n}(o.PureComponent);A.displayName="Avatar",A.defaultProps={size:c.AvatarSizes.SMALL,typing:!1,streaming:!1,animate:!1};var I=u.default.connectStores([d.default],function(){return{isFocused:d.default.isFocused()}})(A);t.default=I},5903:function(e,t,r){"use strict";t.__esModule=!0,t.getSKUIdFromURL=function(e){var t=(0,a.matchPath)(e,{path:l.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug")});return null!=t?t.params.skuId:null},t.getGenreURLSlugFromId=function(e){return c[e]},t.getGenreIdFromURLSlug=function(e){return d[e]},t.getGenreText=function(e){switch(e){case l.SKUGenres.ACTION:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION;case l.SKUGenres.ACTION_RPG:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case l.SKUGenres.BRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;case l.SKUGenres.HACK_AND_SLASH:return u.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case l.SKUGenres.PLATFORMER:return u.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case l.SKUGenres.STEALTH:return u.default.Messages.APPLICATION_STORE_GENRE_STEALTH;case l.SKUGenres.SURVIVAL:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case l.SKUGenres.ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case l.SKUGenres.ACTION_ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case l.SKUGenres.METROIDVANIA:return u.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case l.SKUGenres.OPEN_WORLD:return u.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case l.SKUGenres.PSYCHOLOGICAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case l.SKUGenres.SANDBOX:return u.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;case l.SKUGenres.SURVIVAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case l.SKUGenres.VISUAL_NOVEL:return u.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case l.SKUGenres.DRIVING_RACING:return u.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case l.SKUGenres.VEHICULAR_COMBAT:return u.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case l.SKUGenres.MASSIVELY_MULTIPLAYER:return u.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case l.SKUGenres.MMORPG:return u.default.Messages.APPLICATION_STORE_GENRE_MMORPG;case l.SKUGenres.ROLE_PLAYING:return u.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case l.SKUGenres.DUNGEON_CRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case l.SKUGenres.ROGUELIKE:return u.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case l.SKUGenres.SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;case l.SKUGenres.LIGHT_GUN:return u.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case l.SKUGenres.SHOOT_EM_UP:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case l.SKUGenres.FPS:return u.default.Messages.APPLICATION_STORE_GENRE_FPS;case l.SKUGenres.DUAL_JOYSTICK_SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case l.SKUGenres.SIMULATION:return u.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;case l.SKUGenres.FLIGHT_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case l.SKUGenres.TRAIN_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case l.SKUGenres.LIFE_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case l.SKUGenres.FISHING:return u.default.Messages.APPLICATION_STORE_GENRE_FISHING;case l.SKUGenres.SPORTS:return u.default.Messages.APPLICATION_STORE_GENRE_SPORTS;case l.SKUGenres.BASEBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;case l.SKUGenres.BASKETBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case l.SKUGenres.BILLIARDS:return u.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case l.SKUGenres.BOWLING:return u.default.Messages.APPLICATION_STORE_GENRE_BOWLING;case l.SKUGenres.BOXING:return u.default.Messages.APPLICATION_STORE_GENRE_BOXING;case l.SKUGenres.FOOTBALL:return u.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case l.SKUGenres.GOLF:return u.default.Messages.APPLICATION_STORE_GENRE_GOLF;case l.SKUGenres.HOCKEY:return u.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;case l.SKUGenres.SKATEBOARDING_SKATING:return u.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case l.SKUGenres.SNOWBOARDING_SKIING:return u.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case l.SKUGenres.SOCCER:return u.default.Messages.APPLICATION_STORE_GENRE_SOCCER;case l.SKUGenres.TRACK_FIELD:return u.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case l.SKUGenres.SURFING_WAKEBOARDING:return u.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case l.SKUGenres.WRESTLING:return u.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;case l.SKUGenres.STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;case l.SKUGenres.FOUR_X:return u.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;case l.SKUGenres.ARTILLERY:return u.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case l.SKUGenres.RTS:return u.default.Messages.APPLICATION_STORE_GENRE_RTS;case l.SKUGenres.TOWER_DEFENSE:return u.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case l.SKUGenres.TURN_BASED_STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case l.SKUGenres.WARGAME:return u.default.Messages.APPLICATION_STORE_GENRE_WARGAME;case l.SKUGenres.MOBA:return u.default.Messages.APPLICATION_STORE_GENRE_MOBA;case l.SKUGenres.FIGHTING:return u.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;case l.SKUGenres.PUZZLE:return u.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;case l.SKUGenres.CARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case l.SKUGenres.EDUCATION:return u.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;case l.SKUGenres.FITNESS:return u.default.Messages.APPLICATION_STORE_GENRE_FITNESS;case l.SKUGenres.GAMBLING:return u.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;case l.SKUGenres.MUSIC_RHYTHM:return u.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case l.SKUGenres.PARTY_MINI_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case l.SKUGenres.PINBALL:return u.default.Messages.APPLICATION_STORE_GENRE_PINBALL;case l.SKUGenres.TRIVIA_BOARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;default:return u.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}},t.canUserInstall=function(e){var t=(0,i.nativePlatformTypeToSKUOperatingSystem)(o.default.getPlatform());return e.type===l.SKUTypes.GAME&&null!=t&&e.supportedOperatingSystems.includes(t)},t.getReadablePreorderReleaseDate=function(e){var t=e.preorderReleaseAt,r=e.preorderApproximateReleaseDate;if(null!=t)return t.format("MMMM DD");if(null==r)return null;for(var a=0;a<f.length;a++){var o=f[a],i=o[0],l=o[1],u=(0,n.default)(r,i,!0);if(u.isValid())return u.format(l)}return r};var n=s(r(4)),a=r(157),o=s(r(8)),i=r(130),l=r(0),u=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}var d={},c={};Object.keys(l.StoreApplicationGenresFilter).forEach(function(e){var t=e.toLowerCase().replace(/_/g,"-"),r=l.StoreApplicationGenresFilter[e];d[t]=r,c[r]=t});var f=[["YYYY-MM-DD","MMMM DD, Y"],["YYYY-MM","MMMM Y"],["MM-DD","MMMM DD"],["MM","MMMM"],["YYYY","Y"]]},5909:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=p(r(797)),o=p(r(5850)),i=p(r(3)),l=r(303),u=p(r(42)),s=r(5869),d=p(r(5853)),c=p(r(5848)),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=(0,a.default)({displayName:"DeveloperModeGroup",mixins:[i.default.StoreListenerMixin(u.default),o.default],getStateFromStores:function(){return{developerMode:u.default.developerMode}},render:function(){return!__OVERLAY__&&this.state.developerMode&&s.SUPPORTS_COPY?y(d.default,{},void 0,y(c.default,{label:f.default.Messages.COPY_ID,action:this.handleCopyID})):null},handleCopyID:function(e){(0,l.closeContextMenu)();var t=this.props,r=t.shiftId,n=t.id,a=r&&e.shiftKey?r:n;(0,s.copy)(a)}});t.default=h},5910:function(e,t,r){"use strict";t.__esModule=!0,t.installApplication=I,t.updateApplication=E,t.repairApplication=function(e,t,r){var n=f.default.getGame(e);if(null==n)return;return o.repairApplication(n,t,r)},t.playApplication=S,t.getDefaultLibraryApplicationAction=T,t.performDefaultLibraryApplicationAction=function(e,t){var r=T(e,d.default,c.default),n=t.analyticsParams;switch(r){case _.LibraryApplicationActions.PLAY:return S(e.id,e,{analyticsParams:n});case _.LibraryApplicationActions.INSTALL:return I(e.id,e.branchId,n.source);case _.LibraryApplicationActions.UPDATE:return E(e.id,e.branchId)}};var n=g(r(2)),a=g(r(7029)),o=g(r(325)),i=m(r(134)),l=m(r(73)),u=m(r(7257)),s=r(201),d=m(r(167)),c=m(r(837)),f=m(r(35)),p=m(r(456)),y=m(r(18)),h=r(322),v=r(7258),_=r(0);function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function I(e,t,r){var n=f.default.getGame(e);if(null!=n){var a=p.default.getTargetBuildId(n.id,t),o=p.default.getTargetManifests(n.id,t);null!=a&&null!=o&&null!=v.installApplication&&(0,v.installApplication)(n,t,a,o,r)}}function E(e,t){var r=f.default.getGame(e);if(null!=r)return o.updateApplication(r,t,p.default.getTargetBuildId(r.id,t),p.default.getTargetManifests(r.id,t))}function S(e,t,r){return b.apply(this,arguments)}function b(){var e;return e=regeneratorRuntime.mark(function e(t,r,o){var d,c,p,h,v,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(d=f.default.getGame(t))){e.next=3;break}return e.abrupt("return");case 3:if(c=o.cloudSync,p=void 0===c||c,h=o.cloudSyncForceHash,v=void 0===h?null:h,m=o.analyticsParams,!(p&&null!=r&&r instanceof s.LibraryApplicationRecord)){e.next=15;break}return g=r.branchId,e.prev=6,e.next=9,a.sync(r.id,g,v);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),l.default.push(function(e){return n.createElement(u.default,e)},{libraryApplication:r,analyticsParams:m,branchId:g}),e.abrupt("return");case 15:return y.default.track(_.AnalyticEvents.APPLICATION_OPENED,O({application_id:d.id,application_name:d.name,type:_.AnalyticsGameOpenTypes.LAUNCH,distributor:null!=r?r.getDistributor():null},m)),e.abrupt("return",i.default.launch(d.id,r instanceof s.LibraryApplicationRecord?r.branchId:null));case 17:case"end":return e.stop()}},e,null,[[6,11]])}),(b=function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){A(o,n,a,i,l,"next",e)}function l(e){A(o,n,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function T(e,t,r){if(e instanceof s.LocalApplicationRecord)return _.LibraryApplicationActions.PLAY;var n=t.getState(e.id,e.branchId),a=r.getQueuePosition(e.id,e.branchId),o=r.paused;if(null!=n){if(null==a||-1===a)switch(n.type){case _.LocalDispatchApplicationStates.INSTALLING:return _.LibraryApplicationActions.INSTALL;case _.LocalDispatchApplicationStates.UPDATING:case _.LocalDispatchApplicationStates.UPDATE_REQUIRED:return _.LibraryApplicationActions.UPDATE}switch(n.type){case _.LocalDispatchApplicationStates.INSTALLING:case _.LocalDispatchApplicationStates.UPDATING:case _.LocalDispatchApplicationStates.UPDATE_REQUIRED:case _.LocalDispatchApplicationStates.REPAIRING:return a>0?_.LibraryApplicationActions.MOVE_UP:o?_.LibraryApplicationActions.RESUME:_.LibraryApplicationActions.PAUSE;case _.LocalDispatchApplicationStates.UP_TO_DATE:return _.LibraryApplicationActions.PLAY;case _.LocalDispatchApplicationStates.UNINSTALLING:return null}}return null!=a&&a>0?_.LibraryApplicationActions.MOVE_UP:(0,h.isSupportedPlatform)()?_.LibraryApplicationActions.INSTALL:null}},5921:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=j(r(2)),o=U(r(17)),i=r(435),l=U(r(3)),u=U(r(164)),s=r(905),d=j(r(315)),c=j(r(892)),f=r(818),p=U(r(800)),y=U(r(5851)),h=U(r(35)),v=U(r(42)),_=U(r(14)),m=U(r(161)),g=U(r(827)),O=U(r(6076)),A=U(r(189)),I=U(r(200)),E=U(r(112)),S=U(r(302)),b=U(r(5911)),T=U(r(426)),P=U(r(18)),N=r(136),M=U(r(190)),C=U(r(45)),R=r(5903),L=r(0),w=U(r(10)),D=U(r(5605));function U(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function F(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){F(o,n,a,i,l,"next",e)}function l(e){F(o,n,a,i,l,"throw",e)}i(void 0)})}}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleViewInStore=function(e){var r=t.props,n=r.sku,a=r.skuId,o=r.application,i=r.onClick;if(null==n)throw new Error("Unexpected missing sku");null!=i&&i(e),null!=a?(0,f.goToSKUStoreListing)(n.id,{analyticsSource:t.analyticsLocation,slug:n.slug}):null!=o&&(0,f.goToApplicationStoreListing)(o.id,{analyticsSource:t.analyticsLocation,slug:o.slug})},t.handleClick=function(){var e=x(regeneratorRuntime.mark(function e(r){var n,a,o,l,d,f,y,h,v,_,m,g,O,A,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.isAuthenticated,o=n.applicationId,l=n.sku,d=n.targetSkuId,f=n.entitlementBranchId,y=n.isUserPremium,h=n.onClick,v=n.isInTestMode,_=n.storeListingAnalyticsProperties,m=n.asGift,g=n.forceDistribution,null!=l){e.next=3;break}throw new Error("should not be able to buy without sku");case 3:if(null!=h&&null!=r&&h(r),null==l.externalPurchaseUrl){e.next=7;break}return window.open(l.externalPurchaseUrl),e.abrupt("return");case 7:if(a){e.next=11;break}return O={redirect_to:L.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug)},C.default.transitionTo(L.Routes.LOGIN,{search:(0,i.stringify)(O)}),e.abrupt("return");case 11:if(A=null!=f,!l.premium||g||y||v||A){e.next=17;break}E=t.analyticsLocation,P.default.track(L.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E}),p.default.open(L.UserSettingsSections.PREMIUM),e.next=37;break;case 17:if((l.requiresPayment||g)&&!A){e.next=29;break}return e.prev=18,e.next=21,t.purchaseOrGrantSKU(l);case 21:I=e.sent,(0,s.openPurchaseConfirmationModal)(l.applicationId,l.id,I,{analyticsSource:t.analyticsLocation}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(18);case 27:e.next=37;break;case 29:return e.prev=29,e.next=32,c.openSKUPaymentModal(o,d,t.analyticsLocation,{promotionId:null!=_?_.promotionId:null,isGift:m});case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(29),e.t1===L.PaymentModalPriceChangedError&&u.default.show({title:w.default.Messages.PAYMENT_PRICE_CHANGE_TITLE,body:w.default.Messages.PAYMENT_PRICE_CHANGE_BODY,confirmText:w.default.Messages.OKAY});case 37:case"end":return e.stop()}var E},e,null,[[18,25],[29,34]])}));return function(t){return e.apply(this,arguments)}}(),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l,y,h,v=n.prototype;return v.componentDidMount=function(){var e=this.props,t=e.sku,r=e.applicationId,n=e.targetSkuId;null==t&&d.fetchSKU(r,n).catch(function(){})},v.componentDidUpdate=function(e){this.props.locale!==e.locale&&d.fetchSKU(this.props.applicationId,this.props.targetSkuId).catch(function(){})},v.purchaseOrGrantSKU=function(){var e=x(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.channelId,a=r.entitlementBranchId,o=r.analyticsContext,null==n||null==a){e.next=6;break}return e.next=4,d.grantChannelBranchEntitlement(t.applicationId,n,t.id);case 4:return i=e.sent,e.abrupt("return",i);case 6:return e.next=8,d.purchaseSKU(t.applicationId,t.id,{analyticsLoadId:o.loadId});case 8:return l=e.sent,e.abrupt("return",l.entitlements);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v.wrapWithDisabledTooltip=function(e,t){var r=this.props,n=r.className,a=r.tooltipPosition;return k("div",{className:(0,o.default)(D.default.disabledButtonWrapper,n)},void 0,e,k(T.default,{text:t,position:a},void 0,k("div",{className:D.default.disabledButtonOverlay})))},v.renderButton=function(e,t){void 0===t&&(t=Object.freeze({}));var r,n=this.props,i=n.isPurchasing,l=n.wrapperClassName,u=n.className,s=n.fullWidth,d=n.size,c=n.isWindowFocused,f=n.color,p=n.customDisabledColor,y=n.pauseAnimation,h=n.isEntitled,v=n.asGift,_=n.sku,m=n.entitlementBranchId,g=n.isInTestMode,O=n.innerClassName,A=!0===h&&(null==_||_.type!==L.SKUTypes.CONSUMABLE),I=null!=m,S=!0===t.disabled||null!=_&&!_.available&&!I&&!g||A&&!v,T=t.disabledTooltipText,P={wrapperClassName:l,className:u,fullWidth:s,size:d,color:S&&null!=p?p:null!=f?f:E.default.Colors.GREEN,hover:this.hover,innerClassName:(0,o.default)(null!=O?O:null,D.default.applicationBuyButton),disabled:S,submitting:i||!0===t.submitting,onClick:null!=t.onClick?t.onClick:this.handleClick};return r=!0===t.useShinyButton?a.createElement(b.default,G({},P,{pauseAnimation:!c||y}),t.buttonIcon,e):a.createElement(E.default,P,t.buttonIcon,e),null!=T?this.wrapWithDisabledTooltip(r,T):r},v.renderFreeButton=function(e,t){var r=this.props,n=r.isEntitled,a=r.isUserPremium,o=r.isInTestMode,i=r.forceDistribution;if(null!=r.entitlementBranchId)return(0,R.canUserInstall)(e)&&!n?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY);var l=e.getPrice();return e.premium&&!i&&(a||o)?(0,R.canUserInstall)(e)&&!n?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL,t):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY,t):null==l||0!==l.amount||e.premium&&!(0,N.hasFlag)(e.flags,L.SKUFlags.PREMIUM_AND_DISTRIBUTION)?void 0:(0,R.canUserInstall)(e)&&!n?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY)},v.render=function(){var e=this.props,t=e.isAuthenticated,r=e.sku,n=e.onStoreListing,a=e.shouldRenderPrice,o=e.forceDistribution,i=e.asGift,l=e.isInTestMode,u={useShinyButton:!0,buttonIcon:k(S.default,{name:S.default.Names.NITRO_WHEEL,className:D.default.premiumIcon})};if(null==r)return this.renderButton(null,{submitting:!0});if(i)return r.isPreorder()?this.renderButton(w.default.Messages.APPLICATION_STORE_PREORDER_AS_GIFT):this.renderButton(w.default.Messages.APPLICATION_STORE_BUY_AS_GIFT);var s=this.renderFreeButton(r,u);if(null!=s)return s;if(!n)return this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE,{onClick:this.handleViewInStore});var d=r.getPrice();return!r.available&&!l||!r.premium&&null==d?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE,{disabled:!0}):r.restricted?this.renderButton(w.default.Messages.APPLICATION_STORE_BUY,{disabledTooltipText:w.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION}):r.premium&&!o?this.renderButton(w.default.Messages.APPLICATION_STORE_GET_PREMIUM,u):t||null!=r.externalPurchaseUrl?r.isPreorder()?this.renderButton(a?w.default.Messages.APPLICATION_STORE_PREORDER_FOR_PRICE.format({price:r.getDisplayPrice(!0,!0)}):w.default.Messages.APPLICATION_STORE_PREORDER):this.renderButton(a?w.default.Messages.APPLICATION_STORE_BUY_FOR_PRICE.format({price:r.getDisplayPrice(!0,!0)}):w.default.Messages.APPLICATION_STORE_BUY):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY)},l=n,(y=[{key:"analyticsLocation",get:function(){var e=this.props,t=e.storeListingAnalyticsProperties,r=e.asGift,n=null!=t?t.promotionId:null;return G({},this.props.analyticsContext.location,{object:L.AnalyticsObjects.BUTTON_CTA,objectType:r?L.AnalyticsObjectTypes.GIFT:L.AnalyticsObjectTypes.BUY,promotionId:n})}},{key:"hover",get:function(){var e=this.props,t=e.hover,r=e.color;return null!=t?t:null!=r?E.default.Hovers.GREEN:E.default.Hovers.DEFAULT}}])&&B(l.prototype,y),h&&B(l,h),n}(a.Component);Y.displayName="ApplicationBuyButton",Y.defaultProps={tooltipPosition:T.default.Positions.TOP,onStoreListing:!1,shouldRenderPrice:!1,pauseAnimation:!1,asGift:!1,forceDistribution:!1};var V=l.default.connectStores([g.default,A.default,O.default,_.default,v.default,m.default,I.default],function(e){var t=e.skuId,r=e.applicationId,n=e.entitlementBranchId,a=e.channelId,o=_.default.getNullableCurrentUser(),i=h.default.getGame(r),l=null!=n?n:r,u=t;if(null==u&&null!=i&&(u=i.destinationSkuId),null!=n&&null==a)throw new Error("Unexpected entitlementBranchId without a channelId");return{targetSkuId:u,sku:null!=u?A.default.get(u):null,application:i,isInTestMode:I.default.inTestModeForApplication(r),isEntitled:null!=u?g.default.isEntitledToSku(o,u,r,l):null,isUserPremium:M.default.canInstallPremiumApplications(o),isWindowFocused:m.default.isFocused(),isAuthenticated:null!=o,isPurchasing:O.default.isPurchasingSKU,locale:v.default.locale}},{forwardRef:!0})((0,y.default)(Y));t.default=V},5929:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=u(r(17)),o=u(r(3)),i=u(r(306)),l=u(r(6331));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){var t,r;function o(){return e.apply(this,arguments)||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this.props,t=e.usernameClass,r=e.discriminatorClass,o=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["usernameClass","discriminatorClass"]);return n.createElement(l.default,s({},o,{usernameClass:(0,a.default)("username",t),discriminatorClass:(0,a.default)("discriminator",r)}))},o}(n.Component);d.displayName="DiscordTag",d.defaultProps={className:"discord-tag",invertBotTagColor:!1,hideDiscriminator:!1};var c=o.default.connectStores([i.default],function(e){return{hideDiscriminator:e.hideDiscriminator||i.default.hidePersonalInformation}})(d);t.default=c},5930:function(e,t,r){"use strict";t.__esModule=!0,t.applyChatRestrictions=function(e,t,r,h,v){void 0===h&&(h=!0);void 0===v&&(v=!0);return new Promise(function(A){return function(e,t,r,h,v,A){if(0===t.length&&e.props.type!==p.TextareaTypes.FORM)return void A({valid:!1,failureReason:p.MessageRestrictionTypes.EMPTY_MESSAGE});if(t.length>p.MAX_MESSAGE_LENGTH)return a.default.push(function(e){return n.createElement(o.default,_({title:y.default.Messages.MESSAGE_TOO_LONG_HEADER,body:y.default.Messages.MESSAGE_TOO_LONG_BODY.format({maxLength:p.MAX_MESSAGE_LENGTH}),confirmText:y.default.Messages.OKAY},e))}),void A({valid:!1,failureReason:p.MessageRestrictionTypes.MESSAGE_TOO_LONG});var I=null!=r&&null!=r.getGuildId();if(v&&I){var E=s.default.getSlowmodeCooldownGuess(r.id)>0;if(E)return void A({valid:!1,failureReason:p.MessageRestrictionTypes.SLOWMODE_COOLDOWN})}if(I&&h&&t.match(g)){var S=0,b=t.match(g)[0],T=u.default.getProps(r.getGuildId(),r.id);if(T.groups.forEach(function(e){"@everyone"!==b&&e.id===p.StatusTypes.OFFLINE||(S+=e.count)}),S>O&&f.default.can(p.Permissions.MENTION_EVERYONE,d.default.getCurrentUser(),r))return e?void(0,c.openPopout)(e,{onClose:function(){return A({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},closeOnScroll:!1,backdrop:!0,shadow:!1,position:c.default.Positions.TOP_LEFT,animationType:c.default.Animations.NONE,zIndexBoost:e.props.type===p.TextareaTypes.FORM?1e3:0,render:function(e){return n.createElement(i.default,_({},e,{channel:r,onConfirm:function(){return A({valid:!0})},onCancel:function(){return A({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},numPeople:S,role:b}))}},m):void A({valid:!0})}if(l.default.isFull())return a.default.push(function(e){return n.createElement(o.default,_({title:y.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:y.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:y.default.Messages.MESSAGE_RATE_LIMITED_BUTTON},e))}),void A({valid:!1,failureReason:p.MessageRestrictionTypes.RATE_LIMITED});A({valid:!0})}(e,t,r,h,v,A)})};var n=v(r(2)),a=h(r(73)),o=h(r(444)),i=h(r(7250)),l=h(r(948)),u=h(r(6332)),s=h(r(5989)),d=h(r(14)),c=v(r(795)),f=h(r(102)),p=r(0),y=h(r(10));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m="popout-channel-text-area-shouting",g=new RegExp(/@(:?everyone|here)/,"i"),O=30},5946:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(17)),i=h(r(797)),l=(h(r(798)),h(r(100))),u=r(950),s=h(r(3)),d=h(r(42)),c=h(r(231)),f=h(r(307)),p=r(0),y=h(r(824));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=(0,i.default)({displayName:"SubMenuItem",getInitialState:function(){return{open:!1,position:{top:0,left:0}}},uiMenuNode:null,_timer:void 0,componentDidMount:function(){this.uiMenuNode=l.default.findDOMNode(this)},componentWillUnmount:function(){clearTimeout(this._timer)},render:function(){var e,t=this.props,r=t.label,n=t.render,i=t.disabled,l=t.action,s=t.invertChildY,d=this.props.theme,h="function"==typeof n?n():n.filter(function(e){return e}),_=(0,u.isFragment)(h)?h.props.children.length:h.length;if(0===_)return null;var m,g=_<=9,O=s?30*(Math.min(_,9)-1):0,A={className:(0,o.default)(y.default.contextMenu,"theme-"+d),style:{top:this.state.position.top-O,left:this.state.position.left},onClick:function(e){e.stopPropagation()}};if(this.state.open)if(g)m=a.createElement("div",A,h);else{var I=d===p.ThemeTypes.LIGHT?"#ffffff":"#282b30";m=a.createElement("div",A,v(f.default,{theme:f.default.Themes.GHOST_HAIRLINE,backgroundColor:I,className:y.default.scroller},void 0,h))}return v(c.default,{className:(0,o.default)(y.default.item,y.default.itemSubMenu,(e={},e[y.default.itemSubMenuHasScroller]=g,e)),onClick:i?function(){}:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r,m)},handleMouseEnter:function(){if(clearTimeout(this._timer),this.uiMenuNode&&!this.props.disabled){var e=this.uiMenuNode.getBoundingClientRect(),t=e.top,r=e.left;this.setState({open:!0,position:{top:t-2,left:r}})}},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.setState({open:!1})},100)}}),m=s.default.connectStores([d.default],function(){return{theme:d.default.theme}})(_);t.default=m},5948:function(e,t,r){"use strict";t.__esModule=!0,t.acceptPurchaseTerms=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_ACCEPT_STORE_TERMS})},t.acceptEULA=function(e){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_ACCEPT_EULA,eulaId:e})},t.muteStoreDirectory=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_MUTE})},t.unmuteStoreDirectory=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMUTE})};var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(0)},5949:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=s(r(17)),o=s(r(231)),i=s(r(302)),l=r(853),u=s(r(5597));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.onPlay,r=e.externalURL,n=e.className,s=e.linkComponent,c=e.inactive,f=e.playText,p=s||"a",y=null!=f;return d(l.MessagesInteractionContext.Consumer,{},void 0,function(e){var l,s;return d("div",{className:(0,a.default)(n,u.default.wrapper,(l={},l[u.default.disableInteractions]=e.disableInteractions,l[u.default.wrapperHasPlayText]=y,l))},void 0,c&&null==t?d("div",{className:u.default.iconWrapper},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay})):null,null!=t?d(o.default,{onClick:t,className:(0,a.default)(u.default.iconWrapperActive,(s={},s[u.default.iconWrapperHasPlayText]=y,s))},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay}),y?d("span",{className:u.default.text},void 0,f):null):null,y||null==r||null==p?null:d(p,{href:r,target:"_blank",rel:"noreferrer noopener",className:u.default.iconWrapperActive},void 0,d(i.default,{name:i.default.Names.OPEN_EXTERNAL,className:null!=t?u.default.iconExternalMargins:u.default.iconExternal})))})};c.displayName="VideoPlayPill";var f=c;t.default=f},5964:function(e,t,r){"use strict";t.__esModule=!0,t.getTimeUnit=R,t.getTimeAndUnit=function(e,t){var r=null!=e?R(e,function(e){return t.includes(e)}):b.NONE,n=null!=r?P[r]:null;return{unit:r,time:null!=e&&null!=n?Math.floor(n(e)):null}},t.default=t.TimeUnitMax=t.TimeUnitConversion=t.TimeUnits=void 0;var n,a,o,i,l,u,s,d,c,f,p,y,h,v,_,m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),g=I(r(6)),O=r(59),A=I(r(10));function I(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=Object.freeze({ACTIVITY_FEED:"ACTIVITY_FEED",ACTIVITY_FEED_NEW:"ACTIVITY_FEED_NEW",USER_ACTIVITY:"USER_ACTIVITY",GAME_LIBRARY_TIME_PLAYED:"GAME_LIBRARY_TIME_PLAYED",GAME_LIBRARY_LAST_PLAYED:"GAME_LIBRARY_LAST_PLAYED"}),b=Object.freeze({NONE:"NONE",SECONDS:"SECONDS",MINUTES:"MINUTES",HOURS:"HOURS",DAYS:"DAYS",WEEKS:"WEEKS",MONTHS:"MONTHS",YEARS:"YEARS"});t.TimeUnits=b;var T=Object.freeze({START:"START",END:"END",TIME:"TIME"}),P=((n={})[b.NONE]=function(e){return 0},n[b.SECONDS]=function(e){return 60*e},n[b.MINUTES]=function(e){return e},n[b.HOURS]=function(e){return e/60},n[b.DAYS]=function(e){return e/60/24},n[b.WEEKS]=function(e){return e/60/24/7},n[b.MONTHS]=function(e){return e/60/24/31},n[b.YEARS]=function(e){return e/60/24/365},n);t.TimeUnitConversion=P;var N=[{unit:b.NONE,max:0},{unit:b.SECONDS,max:1},{unit:b.MINUTES,max:60},{unit:b.HOURS,max:1440},{unit:b.DAYS,max:44640},{unit:b.WEEKS,max:40320},{unit:b.MONTHS,max:525600},{unit:b.YEARS,max:1/0}];t.TimeUnitMax=N;var M=function(e){return function(t,r){return null==r?"":e.format(E({time:t},r))}},C=((v={})[S.ACTIVITY_FEED]=((i={})[T.START]=((a={})[b.SECONDS]=function(){return A.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},a[b.MINUTES]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e})},a[b.HOURS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e})},a[b.DAYS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e})},a),i[T.END]=((o={})[b.SECONDS]=function(){return A.default.Messages.GAME_FEED_USER_PLAYING_JUST_ENDED},o[b.MINUTES]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},o[b.HOURS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},o[b.DAYS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},o[b.WEEKS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_WEEKS_AGO.format({time:e})},o[b.MONTHS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_MONTHS_AGO.format({time:e})},o[b.YEARS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_YEARS_AGO.format({time:e})},o),i),v[S.ACTIVITY_FEED_NEW]=((s={})[T.START]=((l={})[b.SECONDS]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_JUST_STARTED),l[b.MINUTES]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_MINUTES),l[b.HOURS]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_HOURS),l[b.DAYS]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_DAYS),l),s[T.END]=((u={})[b.SECONDS]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_SECONDS_AGO.format({time:e})},u[b.MINUTES]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},u[b.HOURS]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},u[b.DAYS]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},u),s),v[S.USER_ACTIVITY]=((c={})[T.START]=((d={})[b.SECONDS]=function(){return A.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},d[b.MINUTES]=function(e,t,r){return void 0===r&&(r=!1),r?A.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e}):A.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_MINUTES.format({time:e})},d[b.HOURS]=function(e,t,r){return void 0===r&&(r=!1),r?A.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e}):A.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_HOURS.format({time:e})},d[b.DAYS]=function(e,t,r){return void 0===r&&(r=!1),r?A.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e}):A.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_DAYS.format({time:e})},d),c),v[S.GAME_LIBRARY_TIME_PLAYED]=((p={})[T.TIME]=((f={})[b.NONE]=function(){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_NONE},f[b.SECONDS]=function(e){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_SECONDS.format({time:e})},f[b.MINUTES]=function(e){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_MINUTES.format({time:e})},f[b.HOURS]=function(e){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_HOURS.format({time:e})},f),p),v[S.GAME_LIBRARY_LAST_PLAYED]=((h={})[T.END]=((y={})[b.NONE]=function(){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE},y[b.SECONDS]=function(){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_JUST_NOW},y[b.MINUTES]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_MINUTES.format({time:e})},y[b.HOURS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_HOURS.format({time:e})},y[b.DAYS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_DAYS.format({time:e})},y[b.WEEKS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_WEEKS.format({time:e})},y[b.MONTHS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_MONTHS.format({time:e})},y[b.YEARS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_YEARS.format({time:e})},y),h),v);function R(e,t){var r=N.findIndex(function(t){var r=t.max;return t.unit===b.NONE&&e===r||e<r}),n=g.default.findLast(N,function(e){var r=e.unit;return t(r)},r);if(null!=n)return n.unit;var a=N.find(function(e){var r=e.unit;return t(r)});return a?a.unit:null}var L=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).timer=new O.Interval,t.state={time:t.getDiff()},t.update=function(){t.setState({time:t.getDiff()})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){this.timer.start(1e4,this.update)},a.componentDidUpdate=function(e){var t=this.props,r=t.start,n=t.end,a=t.time;e.start===r&&e.end===n&&e.time===a||this.update()},a.componentWillUnmount=function(){this.timer.stop()},a.getDiff=function(){var e=this.props,t=e.start,r=e.end,n=e.time;if(null!=n)return n/1e3/60;var a=Date.now(),o=0;return null!=t?o=a-t:null!=r&&(o=a-r),Math.abs(o)/1e3/60},a.getTimeUnit=function(e,t,r){var n=R(e,function(e){return function(e,t,r){var n=C[r];if(null!=n){var a=n[t];if(null!=a)return null!=a[e]}return!1}(e,r,t)});if(null==n)throw new Error("Could not get the time unit in PlayTime with time: "+e+" in location: "+t);return n},a.getType=function(){var e=this.props,t=e.start,r=e.end,n=e.time;return null!=t?T.START:null!=r?T.END:null!=n?T.TIME:null},a.transformTime=function(e,t){return P[e](t)},a.render=function(){var e=this.props,t=e.location,r=e.className,n=e.messageProps,a=e.isApplicationStreaming,o=this.state.time,i=this.getType();if(null==i)return null;var l=this.getTimeUnit(o,t,i),u=C[t][i];return null==u?null:function(e,t,r,n){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=n;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:r},void 0,(0,u[l])(Math.floor(this.transformTime(l,o)),n,a))},n}(m.PureComponent);L.displayName="PlayTime",L.Locations=S,L.Types=T;var w=L;t.default=w},5987:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(0);var i={startTyping:function(e){a.default.dispatch({type:o.ActionTypes.TYPING_START_LOCAL,channelId:e})},stopTyping:function(e){a.default.dispatch({type:o.ActionTypes.TYPING_STOP_LOCAL,channelId:e})}};t.default=i},5988:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=s(r(128)),l=s(r(10)),u=s(r(5575));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c={BLOCK:u.default.block,INLINE:u.default.inline},f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.children,r=e.className,n=e.textClassName,a=e.type,s=void 0===a?c.BLOCK:a,f=e.style;return d("div",{className:(0,o.default)(r,s),style:f},void 0,d(i.default,{size:i.default.Sizes.SMALL,color:i.default.Colors.GREEN,weight:i.default.Weights.BOLD,className:u.default.pro},void 0,l.default.Messages.FORM_LABEL_ROLES_PRO_TIP,":"),d(i.default,{color:i.default.Colors.PRIMARY,className:(0,o.default)(u.default.tip,n)},void 0,t))},n}(a.PureComponent);f.displayName="Protip",f.Types=c;var p=f;t.default=p},5989:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(3)),a=r(59),o=s(r(1)),i=s(r(20)),l=s(r(159)),u=r(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={};function c(e){var t=e.channelId,r=e.cooldownMs,n=i.default.getChannel(t);if(null!=n){var s=d[t];if(l.default.can(u.Permissions.MANAGE_CHANNELS,n)||l.default.can(u.Permissions.MANAGE_MESSAGES,n))null!=s&&(d[t].timer.stop(),delete d[t]);else if(null==s&&(s={cooldownMs:0,timer:new a.Timeout},d[t]=s),s.timer.stop(),null!=r&&r>0){var c=Math.max(r-1e3,0);s.cooldownMs=r,s.timer.start(1e3,function(){o.default.dispatch({type:u.ActionTypes.SLOWMODE_COOLDOWN_CHANGE,channelId:t,cooldownMs:c})},!0)}else delete d[t]}}function f(e){var t=e.channelId,r=e.cooldownMs,n=i.default.getChannel(t);if(null!=n){var a=r||1e3*n.rateLimitPerUser;return a>0?c({channelId:n.id,cooldownMs:a+u.SLOWMODE_COOLDOWN_BUFFER_MS}):void 0}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getSlowmodeCooldownGuess=function(e){var t=d[e];return null!=t?t.cooldownMs:0},n}(n.default.Store))(o.default,{SLOWMODE_COOLDOWN_CHANGE:c,UPLOAD_START:f,SLOWMODE_START_COOLDOWN:f,LOGOUT:function(e){return Object.keys(d).forEach(function(e){return d[e].timer.stop()}),void(d={})}});t.default=p},6016:function(e,t,r){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(0)},6017:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(9)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={open:function(e){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_SETTINGS_MODAL_CLOSE})},updateNotificationSettings:function(e,t,r){void 0===r&&(r=!1),n.default.patch({url:o.Endpoints.USER_GUILD_SETTINGS(e||o.ME),body:t}),a.default.dispatch({type:o.ActionTypes.USER_GUILD_SETTINGS_UPDATE,userGuildSettings:[l({guild_id:e||o.ME},t)],partial:r})},updateChannelOverrideSettings:function(e,t,r){var n;this.updateNotificationSettings(e,{channel_overrides:(n={},n[t]=r,n)},!0)}};t.default=u},6019:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(3)),a=r(59),o=d(r(1)),i=d(r(35)),l=d(r(101)),u=d(r(447)),s=d(r(14));r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=72e5,y=1728e5,h={},v={},_={},m=!1,g=new a.Interval;function O(){var e=Date.now(),t=!1,r=function(t){return null!=t&&e-t.date>y};for(var n in h){var a=h[n];if(null!=a)for(var o in a){r(a[o])&&(delete h[n][o],null!=v[o]&&delete v[o][n],t=!0)}}return t}function A(e){var t=e.user,r=e.activities;if(null==t||!u.default.isOnFeed(t.id))return!1;var n=!1,a=_[t.id]||new Set,o=new Set;return r.forEach(function(e){var r=i.default.getGameByName(e.name),a=null!=r?r.id:null;null!=a&&(o.add(a),null!=h[t.id]&&null!=h[t.id][a]&&h[t.id][a].gameId===a&&(delete(h=f({},h))[t.id][a],null!=v[a]&&delete(v=f({},v))[a][t.id],n=!0))}),a.forEach(function(e){if(!o.has(e)){var r,a,i,l,u=Date.now();h=f({},h,((a={})[t.id]=f({},h[t.id],((r={})[e]={gameId:e,date:u},r)),a)),v=f({},v,((l={})[e]=f({},v[e],((i={})[t.id]={userId:t.id,date:u},i)),l)),n=!0}}),_[t.id]=o,n}function I(){l.default.getUserIds().forEach(function(e){var t=s.default.getUser(e);null!=t&&A({user:t,activities:l.default.getActivities(t.id)})})}var E=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,l,s=n.prototype;return s.initialize=function(){this.waitFor(i.default,u.default),this.syncWith([i.default],I),O()},s.getUserGames=function(e){return h[e]||[]},s.getRecentlyPlayedForApplication=function(e){return v[e]},a=n,(o=[{key:"gamesByUser",get:function(){return h}},{key:"usersByGame",get:function(){return v}},{key:"hasFetchedActivities",get:function(){return m}}])&&c(a.prototype,o),l&&c(a,l),n}(n.default.Store))(o.default,{ACTIVITY_FEED_MOUNT:function(e){return g.start(p,O),O()},ACTIVITY_FEED_UNMOUNT:function(e){g.stop()},ACTIVITIES_UPDATE:function(e){var t=e.activities;h={};var r=t,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o,l=i.user_id,u=i.application_id,s=i.updated_at,d=Date.parse(s);null!=_[l]&&_[l].has(u)||(null==h[l]||null==h[l][u]||h[l][u].date<d)&&(null==h[l]&&(h[l]={}),null==v[u]&&(v[u]={}),h[l][u]={gameId:u,date:d},v[u][l]={userId:l,date:d})}m=!0},PRESENCE_UPDATE:A,CONNECTION_OPEN:function(e){var t=e.presences;_={};var r=t,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}A(o)}},LOGOUT:function(e){return h={},v={},void(_={})}});t.default=E},6020:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=P(r(5887)),o=P(r(6)),i=P(r(4)),l=P(r(3)),u=P(r(1)),s=r(201),d=r(322),c=r(841),f=r(5910),p=r(117),y=P(r(8)),h=P(r(321)),v=P(r(167)),_=P(r(837)),m=P(r(35)),g=P(r(88)),O=P(r(60)),A=P(r(306)),I=P(r(42)),E=P(r(324)),S=P(r(246)),b=P(r(6694)),T=r(0);function P(e){return e&&e.__esModule?e:{default:e}}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=5,C=(0,i.default)().subtract(1,"week"),R=[],L="",w=!1;function D(e,t){return e.application.name.localeCompare(t.application.name,I.default.locale,{sensitivity:"base"})}function U(e,t){return null!=e&&((0,i.default)(e.createdAt).isAfter(C)&&0===t&&!(e instanceof s.LocalApplicationRecord))}var j=((n={})[T.GameTableListKeys.NAME]=D,n[T.GameTableListKeys.PLATFORM]=function(e,t,r){var n=e.libraryApplication.getDistributor(),a=t.libraryApplication.getDistributor();return n===a?(r===T.TableSortDirections.DESCENDING?-1:1)*D(e,t):null==n?1:null==a?-1:n.localeCompare(a)},n[T.GameTableListKeys.LAST_PLAYED]=function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1},n[T.GameTableListKeys.ACTIONS]=null,n),G=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary})}),k=(0,c.cachedFunction)(function(e){return e.filter(function(e){return e.isLaunchable&&(null==e.libraryApplication||e.shouldShowInLibrary)})}),F=(0,c.cachedFunction)(function(e,t){return e.filter(function(e){return(0,a.default)(t.toLowerCase(),e.application.name.toLowerCase())})}),x=(0,c.cachedFunction)(function(e,t,r,n){var a=j[t];if(null==a)return e;var o=[].concat(e).sort(a);return r===T.TableSortDirections.DESCENDING?o.reverse():o}),B=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()})});function Y(e,t){var r=E.default.getCurrentUserStatisticsForApplication(e.id);if(null!=r)return new Date(r.last_played_at).getTime();var n=t[e.id];return null!=n?n:0}function V(e,t,r,n,a){if(!a&&t.has(e.id))return null;var o=m.default.getGame(e.id);if(null==o)return null;var i=Y(o,r);return t.add(e.id),e instanceof s.LocalApplicationRecord||(0,p.isUserEntitledToLibraryApplication)(e)||v.default.isInstalled(e.id,e.branchId)?{key:e.id+"-"+e.branchId,application:o,libraryApplication:e,lastPlayed:i,supportsCloudSync:null!=e&&!(e instanceof s.LocalApplicationRecord)&&v.default.supportsCloudSync(e.id,e.branchId),isNew:U(e,i),isLaunching:m.default.launchingGames.has(e.id),isRunning:n.has(e.id),isLaunchable:(0,d.isLaunchable)(g.default,m.default,v.default,h.default,e.id,e.branchId),isUpdatingFlags:g.default.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,p.shouldShowGameInLibrary)(o,e,S.default,A.default),defaultAction:(0,f.getDefaultLibraryApplicationAction)(e,v.default,_.default)}:null}function H(){var e=new Set(O.default.getRunningVerifiedApplicationIds()),t={},r=new Set,n=O.default.getGamesSeen(!1,!1).map(function(e){var r=m.default.getGameBySettingGame(e);return null!=r?(t[r.id]=1e3*e.lastFocused,r.id):null}),a=Object.values(g.default.getAllLibraryApplications()).map(function(n){return V(n,r,t,e,!0)}).filter(Boolean),i=Object.values(S.default.localApplications).map(function(n){return V(n,r,t,e,!1)}).filter(Boolean),l=n.map(function(n){return function(e,t,r,n){var a=null!=e?m.default.getGame(e):null;if(null==a||null==e||t.has(e))return null;var o=Y(a,r);return t.add(e),{key:e,application:a,lastPlayed:o,supportsCloudSync:!1,isNew:!1,isLaunching:m.default.launchingGames.has(e),isRunning:n.has(e),isLaunchable:(0,d.isLaunchable)(g.default,m.default,v.default,h.default,e,null),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(n,r,t,e)}).filter(Boolean),u=[].concat(l,i,a).sort(function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1});return w=null!=m.default.lastFetched&&g.default.fetched,!o.default.isEqual(u,R)&&(R=u,y.default.embedded&&y.default.setSystemTrayApplications(k(R).map(function(e){return e.application}).slice(0,M)),!0)}var K=new(function(e){var t,r,n,a,o;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.initialize=function(){this.syncWith([m.default,O.default,v.default,_.default,g.default,E.default,A.default,h.default],H,200),this.syncWith([b.default,I.default],function(){return!0})},n=i,(a=[{key:"applicationFilterQuery",get:function(){return L}},{key:"applicationViewItems",get:function(){return R}},{key:"launchableApplicationViewItems",get:function(){return k(R)}},{key:"libraryApplicationViewItems",get:function(){return G(R)}},{key:"filteredLibraryApplicationViewItems",get:function(){return F(this.libraryApplicationViewItems,L)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return x(this.filteredLibraryApplicationViewItems,b.default.sortKey,b.default.sortDirection,I.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){return B(R)}},{key:"hasFetchedApplications",get:function(){return w}}])&&N(n.prototype,a),o&&N(n,o),i}(l.default.Store))(u.default,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;L=t}});t.default=K},6021:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=p(r(3)),o=(r(201),p(r(88))),i=p(r(246)),l=p(r(189)),u=p(r(112)),s=r(117),d=p(r(5921)),c=p(r(7034)),f=p(r(6696));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.application,r=e.isDiscordStoreApplication,a=e.libraryApplication,o=e.localApplication,i=e.fullWidth,l=e.size,u=e.color,p=e.customDisabledColor,h=e.hideNotLaunchable,v=e.tooltipPosition,_=e.onClick,m=e.className,g=e.source,O=e.storeListingAnalyticsProperties,A=e.pauseAnimation,I={fullWidth:i,size:l,color:u,customDisabledColor:p,tooltipPosition:v,onClick:_,className:m,hover:e.hover,innerClassName:e.innerClassName};return null!=a&&(0,s.isUserEntitledToLibraryApplication)(a)?n.createElement(f.default,y({},I,{libraryApplication:a,source:g})):null==o&&r?n.createElement(d.default,y({},I,{skuId:null!=a?a.sku.id:null,applicationId:t.id,pauseAnimation:A,storeListingAnalyticsProperties:O})):n.createElement(c.default,y({},I,{hideNotLaunchable:h,applicationId:t.id}))},a}(n.PureComponent);h.displayName="ApplicationActionButton",h.defaultProps={fullWidth:!1,size:u.default.Sizes.LARGE};var v=a.default.connectStores([o.default,i.default,l.default],function(e){var t=e.application,r=o.default.getActiveLibraryApplication(t.id),n=null!=r?r.sku.id:null,a=null!=n?n:t.primarySkuId;return{isDiscordStoreApplication:null!=a&&!l.default.didFetchingSkuFail(a),libraryApplication:r,localApplication:i.default.getLocalApplication(t.id)}})(h);t.default=v},6022:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=S(r(3)),i=S(r(35)),l=S(r(88)),u=S(r(246)),s=S(r(7265)),d=S(r(7266)),c=S(r(7267)),f=S(r(7268)),p=S(r(7269)),y=S(r(7270)),h=S(r(7271)),v=S(r(7272)),_=S(r(7273)),m=S(r(7274)),g=S(r(7275)),O=S(r(7276)),A=S(r(7277)),I=S(r(5909)),E=r(0);function S(e){return e&&e.__esModule?e:{default:e}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var P=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.renderFallback=function(){return T(I.default,{id:this.props.applicationId})},o.renderLibraryApplicationItems=function(e){var t=this.props,r=t.libraryApplication,n=t.application;return null==r||null==n?null:T(a.Fragment,{},void 0,T(c.default,{libraryApplication:r,analyticsLocation:e}),T(p.default,{libraryApplication:r}),T(m.default,{libraryApplication:r}),T(O.default,{libraryApplication:r}),T(g.default,{libraryApplication:r}),T(h.default,{application:n,analyticsLocation:e}),T(v.default,{application:n}),T(s.default,{application:n,libraryApplication:r}),T(_.default,{application:n,libraryApplication:r}),T(d.default,{application:n,libraryApplication:r}))},o.renderMenuItems=function(){var e=this.props,t=e.type,r=e.libraryApplication,n=e.application,o=e.onPlay,i=e.analyticsContext;if(null==n)return this.renderFallback();if(t===E.ContextMenuTypes.APPLICATION_STORE_DIRECTORY)return T(a.Fragment,{},void 0,T(y.default,{application:n}),T(d.default,{application:n,libraryApplication:r}));var l=b({},null!=i?i.location:null,{object:E.AnalyticsObjects.CONTEXT_MENU});switch(t){case E.ContextMenuTypes.APPLICATION_ACTIVITY_FEED:case E.ContextMenuTypes.APPLICATION_GAME_LIBRARY:case E.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES:return T(a.Fragment,{},void 0,this.renderLibraryApplicationItems(l),T(v.default,{application:n}),T(A.default,{application:n}));case E.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER:return null==r?this.renderFallback():T(a.Fragment,{},void 0,T(c.default,{libraryApplication:r,analyticsLocation:l}),T(d.default,{application:n,libraryApplication:r}));case E.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS:return null==r?this.renderFallback():T(f.default,{libraryApplication:r,onPlay:o})}},o.render=function(){var e=this.props,t=e.className,r=e.style,n=this.renderMenuItems();return null==n?null:T("div",{className:t,style:r},void 0,n)},n}(a.PureComponent);P.displayName="ApplicationContextMenu";var N=o.default.connectStores([l.default,i.default],function(e){var t=e.applicationId,r=e.branchId,n=null!=r?l.default.getLibraryApplication(t,r):l.default.getActiveLibraryApplication(t),a=null==n?u.default.getLocalApplication(t):null;return{libraryApplication:n||a,application:i.default.getGame(t)}})(P);t.default=N},6023:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=u(r(17)),i=r(0),l=u(r(5607));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),f=function(e){var t,r,n,u,f=e.className,p=e.percent,y=e.size,h=void 0===y?c.SMALL:y,v=e.foregroundColor,_=void 0===v?i.Colors.BRAND:v,m=e.backgroundColor,g=void 0===m?"#e9e7e7":m,O=e.foregroundGradientColor,A=e.animate,I=void 0===A||A,E=null!=p?p:0;return u=null!=O?{background:"linear-gradient(to right, "+O[0]+", "+O[1]+")"}:{backgroundColor:_},s("div",{className:(0,o.default)(f,l.default.progress,l.default[h]),style:{backgroundColor:g}},void 0,"indeterminate"!==E&&"number"==typeof E?s("div",{className:(0,o.default)(l.default.progressBar,l.default[h],(t={},t[l.default.animating]=I,t)),style:d({transform:"translate3d("+(Math.min(Math.max(0,E),100)-100)+"%, 0, 0)"},u)}):s(a.Fragment,{},void 0,s("div",{className:(0,o.default)(l.default.indeterminateBar1,l.default[h],(r={},r[l.default.animating]=I,r)),style:u}),s("div",{className:(0,o.default)(l.default.indeterminateBar2,l.default[h],(n={},n[l.default.animating]=I,n)),style:u})))};f.displayName="Progress",f.Sizes=c,f.INDETERMINATE="indeterminate";var p=f;t.default=p},6024:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=r(192),l=r(0),u=s(r(5616));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=Object.freeze({DEFAULT:u.default.themeDefault,CLEAR:u.default.themeClear}),f=Object.freeze({DEFAULT:u.default.sizeDefault,MINI:u.default.sizeMini}),p=Object.freeze({CHECKED:u.default.valueChecked,UNCHECKED:u.default.valueUnchecked}),y=Object.freeze({ENABLED:"enabled",DISABLED:"disabled"}),h=function(e){var t,r;function s(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleKeyPress=function(e){e.charCode!==l.KeyboardKeys.SPACE&&e.charCode!==l.KeyboardKeys.ENTER||(e.preventDefault(),null!=t.ref&&t.ref.click())},t}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e=this,t=this.props,r=t.id,l=t.onChange,s=t.value,c=t.fill,f=t.theme,h=t.disabled,v=t.className,_=t.size,m=h?y.DISABLED:y.ENABLED,g=s?p.CHECKED:p.UNCHECKED,O=this.props.style;return null!=c&&s&&(O=d({},O,{backgroundColor:c})),function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(v,(0,i.getClass)(u.default,"switch",m),g,_,f),style:O,onKeyPress:this.handleKeyPress,tabIndex:h?-1:0},void 0,a.createElement("input",{id:r,ref:function(t){return e.ref=t},className:(0,i.getClass)(u.default,"checkbox",m),type:"checkbox",disabled:h,onChange:l,checked:s,tabIndex:-1}))},s}(a.Component);h.displayName="Switch",h.Themes=c,h.Sizes=f,h.defaultProps={theme:c.DEFAULT,size:f.DEFAULT};var v=h;t.default=v},6070:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r="SubscribeGuildMembersContainer("+function(e){return e.displayName||e.name||"Component"}(t)+")",l=function(r){var l,s;function d(t){var n;n=r.call(this,t)||this;var o=e(t);return a.default.forEach(o,function(e,t){return(0,i.subscribeMembers)(t,e)}),n._subscriptions=o,n}s=r,(l=d).prototype=Object.create(s.prototype),l.prototype.constructor=l,l.__proto__=s;var c=d.prototype;return c.componentDidUpdate=function(t){if(!(0,o.default)(this.props,t)){var r=e(this.props);null!=this._subscriptions&&a.default.isEqual(this._subscriptions,r)||(null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)}),a.default.forEach(r,function(e,t){return(0,i.subscribeMembers)(t,e)}),this._subscriptions=r)}},c.componentWillUnmount=function(){null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)})},c.render=function(){var e=this.props,r=e.forwardedRef,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["forwardedRef"]);return n.createElement(t,u({ref:r},a))},d}(n.Component);l.displayName="WrappedComponent",l.displayName=r;var s=n.forwardRef(function(e,t){return n.createElement(l,u({},e,{forwardedRef:t}))});return s.displayName="ForwardRef("+r+")",s}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=l(r(6)),o=l(r(197)),i=r(7016);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6072:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o,i=s(r(2)),l=s(r(7024)),u=(n=r(7247))&&n.__esModule?n:{default:n};function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function d(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=Object.freeze({NONE:"1",TRANSLATE:"2",SCALE:"3"}),f=Object.freeze(((a={})[c.TRANSLATE]=u.default.Types.TRANSLATE,a[c.SCALE]=u.default.Types.SCALE,a));function p(e){switch(e){case l.PopoutPositions.TOP:case l.PopoutPositions.BOTTOM:return l.PopoutAlign.LEFT;case l.PopoutPositions.LEFT:case l.PopoutPositions.RIGHT:return l.PopoutAlign.TOP}throw new Error("Unexpected position: "+e)}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).renderPopout=function(e){var r=t.props,n=r.renderPopout,a=r.animation;switch(a){case c.TRANSLATE:case c.SCALE:return d(u.default,{position:e.position,type:f[a]},void 0,n(e));case c.NONE:return n(e)}throw new Error("Unsupported animation config: "+JSON.stringify(a))},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.children,r=e.shouldShow,n=e.position,a=e.onRequestClose,o=e.align,i=e.autoInvert,u=e.nudgeAlignIntoViewport,s=e.spacing;return d(l.default,{position:n,align:null!=o?o:p(n),autoInvert:i,nudgeAlignIntoViewport:u,renderPopout:this.renderPopout,spacing:s,shouldShow:r,onRequestClose:a},void 0,t)},n}(i.Component);t.default=y,y.displayName="Popout",y.Positions=l.PopoutPositions,y.Align=l.PopoutAlign,y.Animation=c,y.defaultProps={position:l.PopoutPositions.RIGHT,autoInvert:!0,nudgeAlignIntoViewport:!0,spacing:8,animation:c.TRANSLATE}},6073:function(e,t,r){"use strict";t.__esModule=!0,t.trackGameNewsChanged=function(e,t,r,n){return o.default.track(i.AnalyticEvents.GAME_NEWS_CHANGED,{location:e,load_id:null!=n?n.loadId:void 0,game_id:null!=t?t.id:null,game_name:null!=t?t.name:null,af_news:!0,change_count:r})},t.trackGameNewsOpened=function(e,t,r,n,a){var u={location:e,news_url:t.url,news_index:r,news_id:t.id},s=null!=a?{load_id:a.loadId,card_index:a.index,card_type:a.type}:{},d=null!=n?{game_id:n.id,game_name:n.name,af_news:!0}:{af_news:!0};return o.default.track(i.AnalyticEvents.GAME_NEWS_OPENED,l({},u,s,d))},t.trackUserMessaged=function(e,t,r,n,u){var s={game_name:null!=r?r.name:null,game_id:null!=r?r.id:null},d=null!=n?{af_voice_chat:n.voiceChannels.length>0,af_people_count:n.partiedMembers.length,af_recently_played:!1,af_rich_presence:n.currentActivities.some(function(e){var t=e.activity;return(0,a.hasRichActivity)(t)}),game_platform:n.currentActivities.length>0?(0,a.getGamePlatform)(n.currentActivities[0].activity):null}:{af_recently_played:!0},c={load_id:u.loadId,card_index:u.index,card_type:u.type},f={channel_id:t,recipient_id:e.id};return o.default.track(i.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,l({},s,d,c,f))},t.trackGamePopoutOpened=function(e,t,r){return o.default.track(i.AnalyticEvents.OPEN_POPOUT,{type:i.AnalyticsLocations.GAME_POPOUT,source:t,location:r,game_id:e.id,sku_id:e.primarySkuId,application_id:e.id,application_name:e.name})},t.trackGameModalOpened=function(e,t,r){return o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:i.AnalyticsLocations.GAME_MODAL,source:t,location:r,application_id:e.id,application_name:e.name,sku_id:e.primarySkuId})};var n,a=r(234),o=(n=r(18))&&n.__esModule?n:{default:n},i=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6074:function(e,t,r){"use strict";t.__esModule=!0,t.mount=function(){a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_MOUNT})},t.unmount=function(){a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_UNMOUNT})},t.handleRedirect=function(){o.default.transitionTo(i.Routes.APP),a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_HANDLE_REDIRECT})},t.addMembersToFeed=function(e){u({subscribeUsers:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD,userIds:e})})},t.removeMembersFromFeed=function(e){u({unsubscribeUsers:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_REMOVE,userIds:e})})},t.addGamesToFeed=function(e){u({subscribeGames:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_ADD,gameIds:e})})},t.removeGamesFromFeed=function(e){u({unsubscribeGames:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_REMOVE,gameIds:e})})};var n=l(r(9)),a=l(r(1)),o=l(r(45)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return n.default.patch({url:i.Endpoints.USER_FEED_SETTINGS,body:{subscribe_users:e.subscribeUsers,unsubscribe_users:e.unsubscribeUsers,subscribe_games:e.subscribeGames,unsubscribe_games:e.unsubscribeGames}})}},6075:function(e,t,r){"use strict";t.__esModule=!0,t.isRealGameId=function(e){return"string"==typeof e&&e!==p.SPOTIFY_APPLICATION_ID&&!e.startsWith(h.XBOX_APPLICATION_ID_PREFIX)&&!e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)},t.default=void 0;var n=Y(r(6)),a=Y(r(135)),o=Y(r(3)),i=Y(r(1)),l=Y(r(848)),u=r(238),s=Y(r(134)),d=r(860),c=Y(r(7255)),f=B(r(6552)),p=(Y(r(115)),r(839)),y=B(r(6550)),h=B(r(6551)),v=r(234),_=Y(r(20)),m=Y(r(445)),g=Y(r(474)),O=Y(r(830)),A=Y(r(5246)),I=Y(r(35)),E=Y(r(23)),S=Y(r(6334)),b=Y(r(101)),T=Y(r(6019)),P=Y(r(87)),N=Y(r(60)),M=Y(r(954)),C=Y(r(447)),R=Y(r(14)),L=Y(r(7256)),w=Y(r(132)),D=Y(r(859)),U=Y(r(330)),j=Y(r(7028)),G=Y(r(6020)),k=Y(r(324)),F=Y(r(7031)),x=r(0);function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function Y(e){return e&&e.__esModule?e:{default:e}}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K,W="party-",z="channel-",$="user-",X=6e5,q=216e5,J=7,Z=3,Q=4,ee=30,te=!1,re=!1,ne=[],ae=[],oe=[],ie=[],le=[],ue={},se={},de=new Set,ce=new Set,fe=null,pe=!1,ye=!1,he=null,ve=new Set,_e=[],me=[],ge=[],Oe=[];function Ae(e){var t;null==ue[e]&&(ue=H({},ue,((t={})[e]=new h.default({name:e}),t)));return ue[e]}function Ie(e){var t;null==se[e]&&(se=H({},se,((t={})[e]=new y.default({url:e}),t)));return se[e]}function Ee(e){ce.has(e)||de.add(e)}function Se(e){if((0,v.isListeningOnSpotify)(e))return p.SpotifyApplication;var t=null!=e.application_id?I.default.getGame(e.application_id):null;return null!=t?t:(0,v.isOnXbox)(e)?Ae(e.name):(0,v.isStreaming)(e)&&null!=e.url?Ie(e.url):(null!=e.application_id&&Ee(e.application_id),t)}function be(e){return P.default.isFriend(e.id)}function Te(){var e=Date.now();null!=he&&e-he<q||(l.default.getActivities(),he=e)}function Pe(){re&&C.default.isAutosubscribedGamesFetched&&(ae=Ue(),oe=ae.map(function(e){var t=e.news,r=e.applicationId;return{news:t,application:I.default.getGame(r)}}),$e())}function Ne(){$e()}function Me(e,t){var r,a=e.map(function(e){return e.id}),o=e.filter(function(e){return C.default.isOnFeed(e.id)}),i=!1,l=[],u=new Set,s=!1,d=function(){if(f){if(v>=c.length)return"break";m=c[v++]}else{if((v=c.next()).done)return"break";m=v.value}var t=m,r=S.default.getUserGame(t.id),a=null!=r?r.gameId:null;if(null==a)return"continue";s=a===p.SPOTIFY_APPLICATION_ID;var o=function(e){var t=I.default.getGame(e);return null!=t?t:e===p.SPOTIFY_APPLICATION_ID?p.SpotifyApplication:e.startsWith(h.XBOX_APPLICATION_ID_PREFIX)?Ae(e.slice(h.XBOX_APPLICATION_ID_PREFIX.length)):e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)?Ie(e.slice(y.TWITCH_APPLICATION_ID_PREFIX.length)):(Ee(e),null)}(a);if(null==r||null==o||u.has(o.id))return"continue";var d=b.default.getPrimaryActivity(t.id),_=null!=d?Se(d):null;null!=_&&_.id===o.id||(d=null);var g=[];if(null!=d&&null!=d.party&&null!=d.party.id){var O=A.default.getParty(d.party.id)||[];g=Array.from(O).reduce(function(e,t){var r=R.default.getUser(t);return null!=r&&e.push(r),e},[])}else g=e.filter(function(e){var t=b.default.getPrimaryActivity(e.id),r=null!=t?Se(t):null;return null!=r&&r.id===o.id});if(s&&g.length<2)return"continue";(g=n.default.orderBy(g,[be],["desc"])).length!==e.length&&(i=!0),u.add(o.id),l.push({game:o,activity:d,activityUser:t,startedPlayingTime:r.startedPlaying,playingMembers:g})};var c=e,f=Array.isArray(c),v=0;e:for(c=f?c:c[Symbol.iterator]();;){var m;switch(d()){case"break":break e;case"continue":continue}}var g,O,T=1===o.length,P=[],N=new Set,M=new Set,D=e,U=Array.isArray(D),j=0;for(D=U?D:D[Symbol.iterator]();;){var G;if(U){if(j>=D.length)break;G=D[j++]}else{if((j=D.next()).done)break;G=j.value}var k=G,F=L.default.getChannel(k.id).channelId,x=_.default.getChannel(F),B=null!=x?x.getGuildId():null,Y=E.default.getGuild(B);if(M.has(B)&&N.has(F)||null==x||null==Y)null==x&&(r=null,T=!0);else{var V=(0,n.default)(w.default.getVoiceStatesForChannel(B,F)).map(function(e){var t=e.userId;return R.default.getUser(t)}).filter(function(e){return null!=e}).orderBy([be],["desc"]).value();V.filter(function(e){return!a.includes(e.id)}).forEach(function(t){return e.push(t)}),T?M.has(B)||(r=null):(r=Y,T=!0),M.add(B),N.add(F),P.push({channel:x,guild:Y,members:V})}}return{id:t,voiceChannels:P,isSpotifyActivity:s,priorityMembers:o.map(function(e){return{user:e,status:b.default.getStatus(e.id)}}),partiedMembers:e,showPlayingMembers:i,guildContext:r,currentActivities:(g=l,O=function(e){return e.startedPlayingTime},(0,n.default)(g).orderBy([O,function(e){return e.game.name}],["desc","asc"])).value()}}function Ce(){var e=new Set,t=j.default.getExperimentDescriptor(),r=C.default.gameIDsToShow,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o;e.add(i)}return 0!==e.size||null!=t&&t.bucket!==x.ExperimentBuckets.CONTROL||M.default.trendingApplications.map(function(t){var r=t.game_id;return e.add(r)}),e}function Re(){var e=Ce();i.default.wait(function(){return s.default.getGameNews(Array.from(e))}),pe=!0}function Le(){C.default.isAutosubscribedGamesFetched||f.fetchSettings({includeAutosubscribedGames:!0})}function we(){var e=D.default.isEligibleForExperiment()?D.default.getGuilds():U.default.getGuilds();null!=e&&(ve.forEach(function(t){null==e||e.some(function(e){return e===t})||ve.delete(t)}),(e=e.filter(function(e){return!ve.has(e)})).length>0&&((0,d.fetchGuildDiscoveryMetadata)(e),e.forEach(function(e){return ve.add(e)})))}var De=function(e){return null!=e&&null!=e.title&&null!=e.url&&(null==e.type||e.type===x.EmbedTypes.VIDEO||e.type===x.EmbedTypes.ARTICLE||e.type===x.EmbedTypes.RICH||e.type===x.EmbedTypes.APPLICATION_NEWS||e.type===x.EmbedTypes.LINK)};function Ue(){var e=new Set,t=Ce(),r=[],a=function(){if(i){if(l>=o.length)return"break";u=o[l++]}else{if((l=o.next()).done)return"break";u=l.value}var t=u;O.default.getRecentByGameId(t).filter(De).forEach(function(n){return a=n,o=t,e.add(a.url),void r.push({news:a,applicationId:o});var a,o})},o=t,i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var u;if("break"===a())break}return(0,n.default)(r).orderBy(function(e){var t=e.news;return new Date(t.timestamp||new Date).getTime()},["desc"]).value().slice(0,ee)}function je(){return te&&m.default.isConnected()}function Ge(){if(!je())return!1;de.clear();var e,t,r,a,o=Array.from(C.default.feedUserIDs).reduce(function(e,t){var r=R.default.getUser(t);return null==r||r.bot||e.push(r),e},[]),l=(e=o,void 0===t&&(t=!1),(0,n.default)(e).groupBy(function(e){if(t)return $+"-"+e.id;var r=L.default.getChannel(e.id).channelId,n=b.default.getPrimaryActivity(e.id);return null!=r?z+"-"+r:null!=n&&null!=n.party&&null!=n.party.id?W+"-"+n.party.id:$+"-"+e.id})),u=(r=l,(0,n.default)(r).mapValues(Me)),d=u.values().orderBy([function(e){return e.currentActivities.length>0},function(e){return e.partiedMembers.length>1},function(e){return e.priorityMembers.map(function(e){return e.user.username.toLowerCase()}).join(" ")}],["desc","desc","asc"]).value();ne=function(e){return e.filter(function(e){return e.isSpotifyActivity?e.partiedMembers.length>1:e.priorityMembers.length>1||e.currentActivities.length>0})}(d),ie=function(e){var t=n.default.groupBy(e,function(e){var t=e.id,r=e.priorityMembers,n=e.voiceChannels,a=e.currentActivities;if(r.length>1||n.length>0)return"party-"+t;var o=a[0],i=o.game,l=o.activity;return null!=l&&(0,v.hasRichActivity)(l)?"party-"+t:"game-"+i.id});return Object.keys(t).map(function(e){var r=t[e];return 1===r.length?{type:x.ActivityCardTypes.USER,party:r[0]}:{type:x.ActivityCardTypes.GAME,game:r[0].currentActivities[0].game,parties:r}})}(ne),a=[],ie.forEach(function(e){e.type===x.ActivityCardTypes.GAME?e.parties.forEach(function(e){a.push({type:x.ActivityCardTypes.USER,party:e})}):a.push(e)}),le=a,re&&C.default.isAutosubscribedGamesFetched&&(ae=Ue(),oe=ae.map(function(e){var t=e.news,r=e.applicationId;return{news:t,application:I.default.getGame(r)}})),!M.default.loaded&&M.default.shouldFetch()&&i.default.wait(function(){return c.default.fetchTrendingApplications()}),Re(),function(){if(!ye&&re&&pe&&!(de.size>0)){var e=Ce(),t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}var a=n;if(!O.default.isFetched(a))return}ye=!0}}(),$e(),function(){if(de.size>0){var e=Array.from(de);s.default.fetchApplications(e),e.forEach(function(e){return ce.add(e)}),de.clear()}}()}var ke=n.default.throttle(function(){Ge(),Xe.emitChange()},500,{leading:!1}),Fe=n.default.throttle(function(){Ge(),Xe.emitChange()},500,{leading:!1});var xe=n.default.throttle(function(){Ge(),Xe.emitChange()},500,{leading:!1});function Be(e){return{type:x.FeedCardTypes.NEWS,key:e.news.game_id+"-"+(e.news.url||"no-url"),data:e}}function Ye(){return{type:x.FeedCardTypes.SIDE_BAR,key:"side-bar"}}function Ve(e){for(var t,r=[],n=0;n<e;n++)r.push((t=n.toString(),{type:x.FeedCardTypes.PLACEHOLDER,key:t}));return r}function He(){return{type:x.FeedCardTypes.NO_NEWS,key:"no-news"}}function Ke(){return{type:x.FeedCardTypes.GDPR,key:"opt-in"}}function We(){return{type:x.FeedCardTypes.GDPR_SIDE_BAR,key:"gdpr-side-bar"}}function ze(){return{type:x.FeedCardTypes.NO_GAMES,key:"no-games"}}function $e(){var e,t=F.default.promotions,r=C.default.gameIDsToShow.size,n=t.length>0?(e=t[0],{type:x.FeedCardTypes.PROMOTION,key:e.id,data:e}):null,a=g.default.hasConsented(x.Consents.PERSONALIZATION),o=C.default.hasDismissedPersonalizationNotice,i=C.default.hasDismissedNoGamesNotice,l=ae.map(Be);a?0!==r&&0!==ae.length||i?0===ae.length&&null==n?(_e=[He()],me=[He()]):(_e=l.slice(),me=l.slice(),n&&(_e.splice(1,0,n),me.splice(0,0,n))):(me=[ze()],_e=[ze()],n&&(_e.push(n),me.push(n)),me=me.concat(l),_e=_e.concat(l)):(_e=o?[]:[Ke()],me=o?[]:[Ke()],n&&(_e.push(n),me.push(n)),me=me.concat(l),_e=_e.concat(l)),ge=[a?Ye():We()],me.splice(1,0,a?Ye():We());var u=J-_e.length,s=J-me.length;_e.length<Z&&u>0&&(_e=_e.concat(Ve(u))),me.length<Q&&s>0&&(me=me.concat(Ve(s)))}var Xe=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,i,l=n.prototype;return l.initialize=function(){this.syncWith([S.default,R.default,I.default,b.default,A.default,w.default,P.default,L.default,T.default,g.default],function(){return!!je()&&(ye?(ke(),!1):void Ge())}),this.syncWith([C.default,j.default],Ge),this.syncWith([N.default,G.default,k.default,M.default],function(){return xe(),!1}),this.syncWith([U.default,D.default],we),this.waitFor(m.default,E.default,I.default,C.default,k.default,U.default,D.default,R.default)},l.getFeed=function(e){switch(e){case x.FeedLayouts.TWO_COL:return me;case x.FeedLayouts.THREE_COL:default:return _e}},l.getSidebar=function(e){switch(e){case x.FeedLayouts.TWO_COL:return Oe;case x.FeedLayouts.THREE_COL:default:return ge}},a=n,(o=[{key:"currentActivityParties",get:function(){return ne}},{key:"nowPlayingCards",get:function(){return ie}},{key:"nowPlayingCardsAF2",get:function(){return le}},{key:"news",get:function(){return ae}},{key:"newsAF1",get:function(){return oe}},{key:"loaded",get:function(){return ye&&F.default.loaded}},{key:"loadId",get:function(){return fe}},{key:"isMounted",get:function(){return te}}])&&V(a.prototype,o),i&&V(a,i),n}(o.default.Store))(i.default,{ACTIVITY_FEED_MOUNT:function(e){return te=!0,ye=null!=K&&Date.now()-K<X,fe=a.default.v4(),pe=!1,Ge(),m.default.isConnected()&&(Le(),Te()),void(ye||Re())},ACTIVITY_FEED_UNMOUNT:function(e){return te=!1,void(ye&&(K=Date.now()))},ACTIVITIES_UPDATE:function(e){return re=!0,Fe(),!1},CONNECTION_OPEN:function(e){return function(){if(je()){i.default.wait(function(){return c.default.fetchTrendingApplications()}),Le(),Te(),Re();var e=D.default.isEligibleForExperiment(),t=R.default.getCurrentUser();e&&null!=t&&t.premiumType!==x.PremiumTypes.NONE&&i.default.wait(function(){return(0,u.fetchSubscriptions)()})}}()},PROMOTIONS_FETCH_START:function(e){return Ne()},PROMOTIONS_FETCH_SUCCESS:function(e){return Ne()},PROMOTIONS_FETCH_FAIL:function(e){return Ne()},GAME_NEWS_FETCH:function(e){return Pe()},GAME_NEWS_UPDATE:function(e){return Pe()},GAME_NEWS_READ:function(e){return Pe()},GAME_NEWS_HIDE:function(e){return Pe()},LOGOUT:function(e){return te=!1,re=!1,ne=[],ae=[],he=null,fe=null,pe=!1,ye=!1,_e=[],me=[],ge=[],void de.clear()}}),qe=Xe;t.default=qe},6076:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(3)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s,d,c=null,f=null,p=null,y=null,h=null,v={},_=null,m=!1,g=null,O=!1,A=!1,I=!1,E=!1,S=null;function b(e){null!=s&&null!=_?s(_):null!=d&&d(e),s=null,d=null}function T(e,t){return e+"-"+(null!=t?t:"")}var P=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,i,u,s=n.prototype;return s.getPrice=function(e,t){return v[T(e,t)]},s.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return S===e&&I},s.getProps=function(){return{appContext:S,skuId:c,applicationId:p}},a=n,(i=[{key:"isPurchasingSKU",get:function(){return m}},{key:"forceConfirmationStepOnMount",get:function(){return O}},{key:"error",get:function(){return g}},{key:"skuId",get:function(){return c}},{key:"applicationId",get:function(){return p}},{key:"analyticsLocation",get:function(){return y}},{key:"promotionId",get:function(){return h}},{key:"isIAP",get:function(){return A}},{key:"giftCode",get:function(){return f}},{key:"isGift",get:function(){return E}}])&&l(a.prototype,i),u&&l(a,u),n}(n.default.Store))(a.default,{SKU_PURCHASE_MODAL_OPEN:function(e){b(),c=e.skuId,p=e.applicationId,A=e.isIAP,y=e.analyticsLocation,S=e.context,E=e.isGift,I=!0,O=!1,s=e.resolve,d=e.reject,g=null,_=null,h=e.promotionId},SKU_PURCHASE_MODAL_CLOSE:function(e){var t=e.error;I=!1,S=null,b(t)},SKU_PURCHASE_PREVIEW_FETCH_SUCCESS:function(e){var t,r=e.skuId,n=e.paymentSourceId,a=e.price;v=u({},v,((t={})[T(r,n)]=a,t))},SKU_PURCHASE_START:function(e){m=!0},SKU_PURCHASE_SUCCESS:function(e){var t=e.entitlements,r=e.giftCode;m=!1,_=t,f=r},SKU_PURCHASE_FAIL:function(e){var t=e.error;m=!1,g=t},SKU_PURCHASE_SHOW_CONFIRMATION_STEP:function(e){O=!0},SKU_PURCHASE_CLEAR_ERROR:function(e){g=null},SKU_PURCHASE_UPDATE_IS_GIFT:function(e){E=e.isGift},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==S)return!1;I=!1,S=null,b()}});t.default=P},6077:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.SpotifyActionTypes=void 0;var n=A(r(2)),a=O(r(3)),o=r(59),i=O(r(73)),l=O(r(802)),u=A(r(468)),s=O(r(7282)),d=O(r(166)),c=O(r(11)),f=O(r(74)),p=O(r(247)),y=O(r(18)),h=O(r(443)),v=r(326),_=r(6553),m=r(0),g=O(r(10));function O(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var I=3e4,E=d.default.get(m.PlatformTypes.SPOTIFY).name,S={USER_ACTIVITY_PLAY:"user_activity_play",USER_ACTIVITY_SYNC:"user_activity_sync",EMBED_SYNC:"embed_sync"};t.SpotifyActionTypes=S;var b=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={loading:!1},t.loadingTimeout=new o.Timeout,t._mounted=!1,t.handleClick=function(){var e=t.props,r=e.activity,n=e.hasSpotifyAccount,a=e.type,o=e.user,d=e.source;n?null!=r.sync_id&&(t.setState({loading:!0}),t.loadingTimeout.start(I,t.clearLoading),(0,v.ensureSpotifyPlayable)().then(function(){switch(a){case S.USER_ACTIVITY_PLAY:u.play(r,o.id),y.default.track(m.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:a,source:d,is_premium:(0,v.isSpotifyPremium)(),other_user_id:o.id});break;case S.USER_ACTIVITY_SYNC:case S.EMBED_SYNC:(0,v.ensureSpotifyPremium)().then(function(){return u.sync(t.props.activity,o.id)},function(e){return i.default.push(s.default),Promise.reject(e)}).catch(function(){t.clearLoading(),l.default.close()}),y.default.track(m.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:a,source:d,is_premium:(0,v.isSpotifyPremium)(),party_id:null!=r.party?r.party.id:null,other_user_id:o.id})}}).catch(function(){return t.clearLoading()})):(0,_.authorize)(m.PlatformTypes.SPOTIFY,"Spotify Button")},t.clearLoading=function(){t._mounted&&(t.loadingTimeout.stop(),t.setState({loading:!1}))},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){this._mounted=!0},a.UNSAFE_componentWillReceiveProps=function(e){(null!=e.currentUserTrackId&&e.currentUserTrackId!==this.props.currentUserTrackId||e.isSyncingWithUser)&&this.state.loading&&this.clearLoading()},a.componentWillUnmount=function(){this.loadingTimeout.stop(),this._mounted=!1},a.renderPlayButton=function(){var e,t=this.props,r=t.activity,n=t.hasSpotifyAccount,a=t.isSpotifyPlayable,o=t.isCurrentUser,i=t.currentUserTrackId,l=(t.channelId,t.guildId,t.nickname,t.source,t.user,t.isSyncingWithUser,t.isSyncingWithParty,t.children),u=this.state.loading;e=n?g.default.Messages.USER_ACTIVITY_PLAY_ON_PLATFORM.format({platform:E}):g.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:E});var s,d=n&&!a,c=i===r.sync_id;return o?s=g.default.Messages.USER_ACTIVITY_CANNOT_PLAY_SELF:c?s=g.default.Messages.USER_ACTIVITY_ALREADY_PLAYING:d&&(s=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:E})),l({disabled:!u&&(o||d||c),loading:u,tooltip:s,label:e,onClick:this.handleClick})},a.renderSyncButton=function(){var e=this.props,t=e.hasSpotifyAccount,r=e.isSpotifyPlayable,n=e.isCurrentUser,a=e.isSyncingWithUser,o=e.isSyncingWithParty,i=e.user,l=e.nickname,u=(e.currentUserTrackId,e.size,e.activity,e.channelId,e.guildId,e.source,e.children),s=this.state.loading;return t&&r?u({disabled:!s&&(n||a||o),loading:s,tooltip:n?g.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:a||o?g.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:g.default.Messages.USER_ACTIVITY_LISTEN_ALONG_DESCRIPTION.format({name:l||i}),onClick:this.handleClick}):null},a.renderJoinButton=function(){var e,t=this.props,r=t.hasSpotifyAccount,n=t.isSpotifyPlayable,a=t.isCurrentUser,o=t.isSyncingWithUser,i=t.isSyncingWithParty,l=(t.activity,t.channelId,t.currentUserTrackId,t.guildId,t.nickname,t.source,t.user,t.children),u=this.state.loading;e=r?o||i?g.default.Messages.INVITE_EMBED_JOINED:g.default.Messages.JOIN:g.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:E});var s,d=r&&!n,c=a||o||i||d;return a?s=g.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:o||i?s=g.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:d&&(s=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:E})),l({disabled:c,loading:u,tooltip:s,label:e,onClick:this.handleClick})},a.render=function(){switch(this.props.type){case S.USER_ACTIVITY_PLAY:return this.renderPlayButton();case S.USER_ACTIVITY_SYNC:return this.renderSyncButton();case S.EMBED_SYNC:return this.renderJoinButton();default:return null}},n}(n.Component);b.displayName="SpotifyAction";var T=a.default.connectStores([p.default,c.default,f.default],function(e){var t,r=p.default.getTrack(),n=p.default.getSyncingWith(),a=e.activity.party,o=p.default.getActivity();return t=null!=r?r.id:null!=o?o.sync_id:p.default.getLastPlayedTrackId(),{isCurrentUser:e.user.id===c.default.getId(),hasSpotifyAccount:p.default.hasConnectedAccount(),isSpotifyPlayable:(0,v.isSpotifyPlayable)(p.default),isSyncingWithParty:null!=o&&null!=o.party&&null!=a&&a.id===o.party.id,isSyncingWithUser:null!=n&&n.userId===e.user.id,currentUserTrackId:t,nickname:h.default.getNickname(e.guildId,e.channelId,e.user)}})(b);t.default=T},6078:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=_(r(6)),a=_(r(3)),o=_(r(24)),i=_(r(1)),l=_(r(6554)),u=_(r(7036)),s=_(r(166)),d=_(r(18)),c=_(r(8)),f=_(r(460)),p=_(r(306)),y=_(r(42)),h=_(r(161)),v=r(0);function _(e){return e&&e.__esModule?e:{default:e}}var m,g="DetectedPlatformAccountsStore",O=[],A=[],I=[],E=v.DetectedPlatformAccountsDisplayTypes.NONE,S={},b=[],T=new u.default(function(e,t){var r=f.default.getAccounts(),n=s.default.filter(function(e){return!e.serverSync&&e.enabled}).map(function(e){return e.type}).filter(function(e){return-1===A.indexOf(e)}).filter(function(e){return!r.some(function(t){return t.type===e})}).filter(function(e){return!O.some(function(t){return t.type===e})});n.length>0&&(t||y.default.detectPlatformAccounts)&&l.default.detectAccounts(n),e()});function P(){if(I=[],!p.default.enabled){var e=f.default.getAccounts().filter(function(e){return v.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type});I=n.default.without.apply(n.default,[[v.PlatformTypes.FACEBOOK].concat(A)].concat(e))}}var N=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.waitFor(f.default,h.default,p.default,y.default),A=o.default.get(g)||A},a.getDetectedAccounts=function(){return O},a.getDisplayType=function(){return p.default.enabled?v.DetectedPlatformAccountsDisplayTypes.NONE:E},a.getAvailablePlatformTypes=function(){return I},a.hasAvailablePlatformType=function(e){return I.includes(e)},a.getNotDetectedPlatformTypes=function(){return b},a.isDetecting=function(e){return S[e]||!1},a.isOpen=function(){return this.getDisplayType()===v.DetectedPlatformAccountsDisplayTypes.MODAL},a.getProps=function(){return{detectedAccounts:O,displayType:E,analyticsLocation:m}},n}(a.default.Store))(i.default,{CONNECTION_OPEN:function(e){return c.default.embedded&&(T.start(6e4),T.run()),void P()},CONNECTION_CLOSED:function(e){return T.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return c.default.embedded&&T.run(),void P()},PLATFORM_ACCOUNTS_DETECTING:function(e){var t=e.platformTypes,r=e.location;t.forEach(function(e){return S[e]=!0}),null!=r&&(b=[])},PLATFORM_ACCOUNTS_DETECTED:function(e){var t=e.platformTypes,r=e.accounts,n=e.location;t.forEach(function(e){return S[e]=!1});var a=f.default.getAccounts();O=[].concat(O.filter(function(e){return-1===t.indexOf(e.type)}),r.filter(function(e){return!a.some(function(t){return e.type===t.type&&e.id===t.id})}));var o=null!=n;O.length>0?(o?E=v.DetectedPlatformAccountsDisplayTypes.MODAL:E===v.DetectedPlatformAccountsDisplayTypes.NONE&&(E=h.default.isFocused()?v.DetectedPlatformAccountsDisplayTypes.NOTICE:v.DetectedPlatformAccountsDisplayTypes.MODAL),r.forEach(function(e){d.default.track("detect_platform_account",{platform_type:e.type,display_type:E,location:n})})):E=v.DetectedPlatformAccountsDisplayTypes.NONE,o&&(b=t.filter(function(e){return!O.some(function(t){return t.type===e})})),m=n},PLATFORM_ACCOUNTS_IGNORE:function(e){var t=e.platformTypes;null==t&&(t=(0,n.default)(O).map(function(e){return e.type}).uniq().value()),t.forEach(function(e){d.default.track("ignore_platform_account",{platform_type:e,display_type:E})}),A=n.default.uniq([].concat(A,O.map(function(e){return e.type}))),o.default.set(g,A),P(),O=[],E=v.DetectedPlatformAccountsDisplayTypes.NONE},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){E=e.displayType},WINDOW_FOCUS:function(e){var t=e.focused;E!==v.DetectedPlatformAccountsDisplayTypes.NOTICE||t||(E=v.DetectedPlatformAccountsDisplayTypes.MODAL)},STREAMER_MODE_UPDATE:function(e){return P()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return P()},EXPERIMENT_OVERRIDE_BUCKET:function(e){return P()},EXPERIMENT_OVERRIDE_TYPE:function(e){return P()}});t.default=N},6079:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=l(r(17)),i=l(r(5366));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).containerRef=a.createRef(),r.getMarkerState=function(e){var t=e.markers,n=e.defaultValue,a=e.minValue,o=e.maxValue,i=[],l=[];if(null==t)return{min:a,max:o,range:o-a,sortedMarkers:i,markerPositions:l};i=t.sort(function(e,t){return e-t});var u=r.findClosestMarkerByIndex(n,i),s=i[0],d=i[i.length-1],c=d-s;if(r.props.equidistant){var f=100/(i.length-1);l=i.map(function(e,t){return t*f})}else{l=i.map(function(e){return 100*(e-s)/c})}return{min:s,max:d,range:c,sortedMarkers:i,markerPositions:l,closestMarkerIndex:u}},r.moveGrabber=function(e){var t=r.state,n=t.sortedMarkers,a=t.value,o=t.min,i=t.max,l=r.props,u=l.asValueChanges,s=l.onValueChange,d={};if(l.stickToMarkers){var c=n.indexOf(a);if(c<0)return;var f=c+e,p=n[f];if(null==p)return;d.value=p,d.closestMarkerIndex=f,d.newClosestIndex=f}else{var y=a+e;if(y>i||y<o)return;d.value=y}r.setState(d),u&&u(d.value),s&&s(d.value)},r.handleKeyDown=function(e){if(!r.props.disabled){var t=e.key;"ArrowLeft"===t||"ArrowDown"===t?(e.preventDefault(),r.moveGrabber(-1)):"ArrowRight"!==t&&"ArrowUp"!==t||(e.preventDefault(),r.moveGrabber(1))}},r.handleMouseDown=function(e){if(!r.props.disabled){document.addEventListener("mousemove",r.handleMouseMove,!0),document.addEventListener("mouseup",r.handleMouseUp,!0);var t=r.containerRef.current;if(null==t||t instanceof Text)throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");r.setState({x:e.clientX,boundingRect:t.getBoundingClientRect(),newClosestIndex:r.state.closestMarkerIndex})}},r.handleMouseUp=function(){r.reset();var e=r.props,t=e.onValueChange,n=e.stickToMarkers,a=r.state.newClosestIndex;n&&null!=a?(t&&t(r.state.sortedMarkers[a]),r.setState({newClosestIndex:null,closestMarkerIndex:a})):t&&t(r.state.value)},r.handleMouseMove=function(e){e.preventDefault(),r.props.stickToMarkers?r.moveStaggered(e):r.moveSmoothly(e)},r.state=s({value:t.defaultValue},r.getMarkerState(t),{newClosestIndex:null}),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=n.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){null==this.state.newClosestIndex&&this.props.defaultValue!==e.defaultValue&&this.setState(s({value:e.defaultValue},this.getMarkerState(e)))},l.componentWillUnmount=function(){this.reset()},l.renderBubble=function(e){var t=this.state.value,r=this.props,n=r.stickToMarkers,a=r.onValueRender;if(!n)return u("span",{className:i.default.bubble},void 0,a?a(t):e.toFixed(0)+"%")},l.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e},l.render=function(){var e,t=this,r=this.state,n=r.value,l=r.sortedMarkers,d=r.markerPositions,c=r.closestMarkerIndex,f=r.newClosestIndex,p=r.min,y=r.max,h=this.props,v=h.disabled,_=h.stickToMarkers,m=h.className,g=h.children,O=h.barStyles,A=h.fillStyles,I=h.mini,E=h.hideBubble,S=0;_?null!=d&&(null!=f?S=d[f]:null!=c&&(S=d[c])):S=this.scaleValue(n);var b=S+"%",T=d&&l?d.map(function(e,r){var n=t.renderMark(l[r]);return u("div",{className:i.default.mark,style:{left:e+"%"}},r,u("div",{className:i.default.markValue},void 0,n),u("div",{className:i.default["markDash"+(null==n?"simple":"")]}))}):null;return a.createElement("div",{className:(0,o.default)(i.default.slider,m,(e={},e[i.default.disabled]=v,e[i.default.mini]=I,e)),"aria-valuemin":p,"aria-valuemax":y,"aria-valuenow":n,"aria-disabled":v,role:"slider",tabIndex:"0",onKeyDown:this.handleKeyDown,ref:this.containerRef},u("input",{type:"number",className:i.default.input,value:S.toFixed(0),readOnly:!0}),u("div",{className:i.default.track},void 0,T),u("div",{className:i.default.bar,style:O},void 0,u("div",{className:i.default.barFill,style:s({},A,{width:b})})),g,u("div",{className:i.default.track},void 0,u("div",{className:i.default.grabber,style:{left:b},onMouseDown:this.handleMouseDown},void 0,E?null:this.renderBubble(S))))},l.reset=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0)},l.findClosestMarkerByIndex=function(e,t){for(var r=null!=t?t:this.state.sortedMarkers,n=0,a=0;a<r.length;a++){var o=r[a];if(e===o)return a;if(e<o)return 0===n?a:o-e<n?a:a-1;n=e-o}return null},l.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range},l.unscaleValue=function(e){return e*this.state.range/100+this.state.min},l.moveStaggered=function(e){var t=this.state,r=t.boundingRect,n=t.x,a=void 0===n?0:n,o=t.closestMarkerIndex,i=t.markerPositions,l=t.sortedMarkers,u=this.props.asValueChanges,s=r||{},d=s.left,c=s.right;if(!(e.clientX<=d||e.clientX>=c)){var f,p=c-d,y=(e.clientX-a)/p,h=i[o]+100*y;if(this.props.equidistant)f=this.findClosestMarkerByIndex(h,i);else{var v=this.unscaleValue(h);f=this.findClosestMarkerByIndex(v)}null!=f&&u&&u(l[f]),this.setState({newClosestIndex:f})}},l.moveSmoothly=function(e){var t=this.props,r=t.minValue,n=t.maxValue,a=t.handleSize,o=t.asValueChanges,i=this.state.boundingRect,l=i.left,u=i.right,s=this.state.x-e.clientX,d=(this.state.value-r)/(n-r);if(!(e.clientX<=l&&s<0||e.clientX>=u&&s>0)){var c=u-l-a,f=c*d;d=Math.min(Math.max(f-s,0),c)/c}var p=r+d*(n-r);o&&o(p),this.setState({value:p,x:e.clientX})},n}(a.PureComponent);d.displayName="Slider",d.defaultProps={defaultValue:10,minValue:0,maxValue:100,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}};var c=d;t.default=c},6151:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.NO_VOICE_STATES=void 0;var n=f(r(6)),a=f(r(3)),o=f(r(1)),i=f(r(131)),l=f(r(11)),u=f(r(74)),s=f(r(14)),d=f(r(132)),c=r(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=Object.freeze([]);t.NO_VOICE_STATES=y;var h={},v=[];function _(e){var t=h[e];return null==t&&(t=new A(e),h[e]=t),t}function m(e,t){return u.default.getNick(e,t.id)||t.toString()}function g(e){return{nick:e,comparator:e.toLowerCase()}}function O(e,t,r){var n=s.default.getUser(r),a=null==n;null==n&&(n=new i.default({id:r,username:"...",discriminator:r.slice(-5,-1)}));var o=p({voiceState:e,user:n},function(e,t){return g(m(e,t))}(t,n));return a&&(o._isPlaceholder=!0),o}var A=function(){function e(e){this.guildId=e,this._voiceStates={},this._sortedVoiceStates=null}var t=e.prototype;return t.isInvalid=function(){return null==this._sortedVoiceStates},t.invalidate=function(){this._sortedVoiceStates=null},t.updateVoiceState=function(e){var t=d.default.getVoiceState(this.guildId,e),r=this._voiceStates[e];null!=t?null==r?(this._voiceStates[e]=O(t,this.guildId,e),this.invalidate()):r.voiceState!==t&&(this._voiceStates[e]=p({},r,{voiceState:t}),this.invalidate()):null!=r&&(delete this._voiceStates[e],this.invalidate())},t.updateNick=function(e){var t=this._voiceStates[e];if(null!=t){var r=m(this.guildId,t.user);if(r!==t.nick)return this._voiceStates[e]=p({},t,g(r)),this.invalidate(),!0}return!1},t.forEach=function(e){var t=this.isInvalid();n.default.forEach(this._voiceStates,e);var r=this.isInvalid();return r&&r!==t},t.updateUsers=function(){var e=this;return this.forEach(function(t,r){var n=s.default.getUser(r);null!=n&&t.user!==n&&(e._voiceStates[r]=O(t.voiceState,e.guildId,r),e.invalidate())})},t.updateNicks=function(){var e=this;return this.forEach(function(t,r){if(!t._isPlaceholder){var n=m(e.guildId,t.user);t.nick!==n&&(e._voiceStates[r]=p({},t,g(n)),e.invalidate())}})},t.getVoiceStates=function(){return null==this._sortedVoiceStates&&(this._sortedVoiceStates=(0,n.default)(this._voiceStates).sortBy(function(e){return e.comparator}).sortBy(function(e){return!e.voiceState.selfStream}).groupBy(function(e){return e.voiceState.channelId}).value()),this._sortedVoiceStates},e}();function I(){return n.default.reduce(h,function(e,t){return t.updateUsers()||e},!1)}function E(){v.forEach(function(e){var t=e.guildId,r=e.userId;_(t||c.ME).updateVoiceState(r)}),v=[]}var S=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.waitFor(l.default,s.default,u.default,d.default),this.syncWith([s.default],I),this.syncWith([d.default],E)},a.getVoiceStates=function(e){return _(e||c.ME).getVoiceStates()},a.getVoiceStatesForChannel=function(e,t){return this.getVoiceStates(e||c.ME)[t]||y},n}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){return h={},void(v=[])},OVERLAY_INITIALIZE:function(e){return function(){h={},v=[];var e=d.default.getAllVoiceStates();Object.keys(e).forEach(function(t){Object.keys(e[t]).forEach(function(e){_(t||c.ME).updateVoiceState(e)})})}()},VOICE_CHANNEL_SELECT:function(e){var t=e.guildId,r=l.default.getId();return null!=r&&v.push({guildId:t||c.ME,userId:r}),!1},VOICE_STATE_UPDATE:function(e){var t=e.guildId,r=e.userId;return v.push({guildId:t||c.ME,userId:r}),!1},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,r=e.user;return _(t).updateNick(r.id)},GUILD_DELETE:function(e){var t=e.guild;delete h[t.id]}});t.default=S},6152:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=d(r(17)),i=d(r(6329)),l=d(r(885)),u=d(r(5572)),s=d(r(862));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onChange=function(e){var r=t.props,n=r.onChange,a=r.name;n&&n(e.currentTarget.value,a)},t.onFocus=function(e){var r=t.props,n=r.onFocus,a=r.name;n&&n(e,a)},t.onBlur=function(e){var r=t.props,n=r.onBlur,a=r.name;n&&n(e,a)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getPaddingRight=function(){var e=this.props.maxLength;return null==e?10:7.23*(""+e).length+10},a.renderMaxLength=function(){var e=this.props,t=e.maxLength,r=e.value;if(null==t)return null;var n=t-(null!=r?r.length:0);return c("div",{className:u.default.maxLength},void 0,n)},a.renderErrorMessage=function(){var e=this.props.error;return null==e?null:c("div",{className:s.default.errorMessage},void 0,e)},a.render=function(){var e,t,r,n=this.props,a=n.disabled,d=n.value,f=n.placeholder,p=n.error,y=n.autoFocus,h=n.maxLength,v=n.resizeable,_=n.className,m=n.id,g=n.rows,O=n.flex,A=n.autosize?i.default:"textarea";return c("div",{className:(0,o.default)(s.default.inputWrapper,(e={},e[u.default.flex]=O,e))},void 0,c("div",{className:(0,o.default)(u.default.inputMaxLength,(t={},t[u.default.flex]=O,t))},void 0,c(A,{type:"text",className:(0,o.default)(s.default.inputDefault,u.default.textArea,l.default.scrollbarDefault,_,(r={},r[s.default.error]=p,r[s.default.disabled]=a,r[u.default.resizeable]=v,r)),style:{paddingRight:this.getPaddingRight()},id:m,disabled:a,placeholder:f,value:d,autoFocus:y,maxLength:h,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,rows:g}),this.renderMaxLength()),this.renderErrorMessage())},n}(a.PureComponent);f.displayName="TextArea",f.defaultProps={name:"",disabled:!1,placeholder:"",autoFocus:!1,resizeable:!1,flex:!1,autosize:!1,rows:3};var p=f;t.default=p},6153:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=u(r(302)),i=u(r(426)),l=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.className,r=e.invertTooltip,n=s(o.default,{name:o.default.Names.MOBILE_DEVICE,className:t});return s(i.default,{text:l.default.Messages.ACTIVE_ON_MOBILE,position:r?i.default.Positions.BOTTOM:i.default.Positions.TOP},void 0,n)},n}(a.PureComponent);t.default=d,d.displayName="MobileIndicator",d.defaultProps={invertTooltip:!1}},6154:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=i(r(17)),o=i(r(5579));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.invertColor,r=void 0!==t&&t,i=e.className;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:(0,a.default)(r?o.default.botTagInvert:o.default.botTagRegular,i)},void 0,"BOT")};l.displayName="BotTag";var u=l;t.default=u},6155:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=X(r(2)),o=$(r(17)),i=$(r(6)),l=$(r(3)),u=r(6074),s=r(303),d=$(r(134)),c=$(r(801)),f=$(r(73)),p=$(r(802)),y=($(r(131)),$(r(830))),h=$(r(35)),v=$(r(23)),_=$(r(6334)),m=$(r(6019)),g=$(r(50)),O=$(r(447)),A=$(r(14)),I=$(r(6075)),E=$(r(7264)),S=$(r(5849)),b=$(r(112)),T=$(r(6695)),P=$(r(231)),N=$(r(158)),M=$(r(5966)),C=$(r(5862)),R=$(r(302)),L=$(r(5964)),w=$(r(795)),D=$(r(426)),U=$(r(811)),j=$(r(98)),G=$(r(5883)),k=$(r(809)),F=X(r(6073)),x=$(r(865)),B=$(r(5855)),Y=$(r(5236)),V=$(r(6021)),H=$(r(5237)),K=r(0),W=$(r(10)),z=$(r(5609));function $(e){return e&&e.__esModule?e:{default:e}}function X(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ee=600,te=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={playingNewsVideo:!1},t.numIntentionalNewsChange=0,t.handleNewsClick=function(e,r){var n=t.props,a=n.game,o=n.location;F.trackGameNewsOpened(o,e,r,a)},t.handleVideoPlay=function(){t.setState({playingNewsVideo:!0})},t.handleIntentionalCarouselChange=function(){t.numIntentionalNewsChange++,t.setState({playingNewsVideo:!1})},t.renderNewsItem=function(e,r){return Z(E.default,{game:t.props.game,news:e,className:z.default.news,backgroundClassname:z.default.background,onClick:function(){return t.handleNewsClick(e,r)},onVideoPlay:t.handleVideoPlay})},t.renderEmptyBody=function(){var e=t.props.game.getSplashURL(ee)||r(7278);return Z("div",{className:z.default.newsEmpty,style:null!=e?{backgroundImage:"url("+e+")"}:null})},t}Q(t,e);var n=t.prototype;return n.componentWillUnmount=function(){if(this.numIntentionalNewsChange>0){var e=this.props,t=e.game,r=e.location;F.trackGameNewsChanged(r,t,this.numIntentionalNewsChange)}},n.render=function(){var e=this.props.gameNews;return 0===e.length?this.renderEmptyBody():1===e.length?Z("div",{className:z.default.news},void 0,this.renderNewsItem(e[0])):Z(T.default,{className:z.default.carousel,paginationClassName:z.default.carouselPagination,includeHitboxPadding:!1,items:e,renderItem:this.renderNewsItem,delay:1e4,onIntentionalChange:this.handleIntentionalCarouselChange})},t}(a.PureComponent);te.displayName="GamePreviewNews";var re=l.default.connectStores([y.default],function(e){var t=e.game;return{gameNews:y.default.getByGameId(t.id)}})(te),ne=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderUserPopout=function(e,r){return a.createElement(H.default,J({},r,{analyticsParams:{location:t.props.location},userId:e.id}))},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(Y.default,J({},e,{type:K.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.renderPlayer=function(e,r){var n=e.user,a=e.lastPlayedDate;void 0===r&&(r=!1);var o=r?Z(D.default,{text:n.username},void 0,Z(S.default,{className:z.default.overflowAvatar,size:S.default.Sizes.ACTIVITY_FEED_24,src:n.getAvatarURL()})):Z("div",{className:z.default.player},void 0,Z(D.default,{text:n.username},void 0,Z(S.default,{src:n.getAvatarURL(),size:S.default.Sizes.ACTIVITY_FEED_24})),Z(k.default,{className:z.default.username},void 0,n.username),null!=a?Z(L.default,{className:z.default.playtime,end:a,location:L.default.Locations.ACTIVITY_FEED_NEW}):Z(k.default,{className:z.default.nowPlaying,size:k.default.Sizes.SIZE_12},void 0,W.default.Messages.ACTIVITY_FEED_USER_PLAYING));return Z(w.default,{render:function(e){return t.renderUserPopout(n,e)},position:w.default.Positions.LEFT,closeOnScroll:!1,dependsOn:t.props.popoutKey},n.id,Z("div",{onContextMenu:function(e){return t.handleContextMenu(e,n)}},void 0,o))},t}Q(t,e);var n=t.prototype;return n.renderOverflowPlayers=function(){var e=this,t=this.props,r=t.nowPlayingUsers,n=t.recentlyPlayedUsers,o=r.concat(n);if(o.length<=3)return null;var l=o.slice(3),u=(0,i.default)(l).take(4).map(function(t){return e.renderPlayer(t,!0)}).value();return 5===l.length?u.push(this.renderPlayer(l[4],!0)):l.length>5&&u.push(Z("div",{className:z.default.overflowPlayerCount},void 0,"+",l.length-5+1)),Z(a.Fragment,{},void 0,Z(U.default,{className:z.default.divider}),Z("div",{className:z.default.overflowPlayers},void 0,u))},n.render=function(){var e=this,t=this.props,n=t.nowPlayingUsers,a=t.recentlyPlayedUsers,o=n.concat(a);if(0===o.length)return Z("div",{className:z.default.emptyPlayers},void 0,Z("img",{src:r(7279),alt:""}),Z(k.default,{color:k.default.Colors.MUTED},void 0,W.default.Messages.GAME_POPOUT_NO_RECENT_PLAYERS));var l=(0,i.default)(o).take(3).value();return Z("div",{className:z.default.players},void 0,Z(j.default,{tag:j.default.Tags.H5,className:z.default.title},void 0,W.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),l.map(function(t){return e.renderPlayer(t)}),this.renderOverflowPlayers())},t}(a.PureComponent);function ae(e){return null==e?[]:i.default.values(e).sort(function(e,t){return t.date-e.date}).map(function(e){var t=e.date,r=e.userId;return{lastPlayedDate:t,user:A.default.getUser(r)}}).filter(function(e){var t=e.user;return null!=t&&O.default.isOnFeed(t.id)})}ne.displayName="GamePreviewUsers";var oe=l.default.connectStores([m.default,_.default],function(e){var t,r=e.game;return{nowPlayingUsers:(t=_.default.getNowPlaying(r.id),null==t?[]:i.default.values(t).sort(function(e,t){return t.startedPlaying-e.startedPlaying}).map(function(e){var t=e.userId;return{lastPlayedDate:null,user:A.default.getUser(t)}}).filter(function(e){var t=e.user;return null!=t&&O.default.isOnFeed(t.id)})),recentlyPlayedUsers:ae(m.default.usersByGame[r.id])}})(ne),ie=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).close=function(){var e=t.props,r=e.popoutKey,n=e.onClose;r&&p.default.close(r),n&&n()},t.handleViewGuild=function(){var e=t.props.game.guildId;e&&(t.close(),x.default.transitionTo(K.Routes.CHANNEL(e,g.default.getChannelId(e))))},t.handleJoinGuild=function(){var e=t.props.game.guildId;e&&c.default.joinGuild(e,!0).then(function(){t.close(),c.default.transitionToGuildSync(e)})},t.handleActionButtonClick=function(){var e=t.props,r=e.isModal,n=e.popoutKey;r?f.default.popAll():p.default.close(n)},t}Q(t,e);var r,n,i,l=t.prototype;return l.getLocation=function(){return this.props.isModal?K.AnalyticsLocations.GAME_MODAL:K.AnalyticsLocations.GAME_POPOUT},l.componentDidMount=function(){var e=this.props,t=e.isNewsFetched,r=e.game;t||d.default.getGameNews([this.props.game.id]),null!=r.guildId&&null==r.guild&&d.default.fetchApplication(r.id,!0)},l.renderGameInfoVerified=function(){var e=this.props.game;if(null==e.guildId)return null;var t=v.default.getGuild(e.guildId),r=null;if(null!=e.guild){var n=e.guild;r=Z(N.default,{align:N.default.Align.CENTER},void 0,Z("div",{className:z.default.dotOnline}),Z(k.default,{size:k.default.Sizes.SIZE_12},void 0,W.default.Messages.GAME_POPOUT_ONLINE_IN_SERVER.format({membersOnline:n.approximate_presence_count})))}return Z(a.Fragment,{},void 0,Z(P.default,{className:(0,o.default)(z.default.gameIcon,z.default.verified),onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,Z(C.default,{game:e}),Z(D.default,{text:W.default.Messages.GUILD_VERIFIED,position:D.default.Positions.BOTTOM,className:z.default.verifiedIcon},void 0,Z(M.default,{width:16,height:16,color:K.Colors.BRAND_500},void 0,Z(R.default,{name:R.default.Names.VERIFIED,width:16,height:16,color:K.Colors.WHITE})))),Z("div",{className:z.default.gameInfo},void 0,Z(P.default,{onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,Z(G.default,{className:(0,o.default)(z.default.gameTitle,z.default.verified),size:G.default.Sizes.SIZE_16},void 0,e.name)),r))},l.renderGameInfo=function(){var e=this.props.game,t=e.publishers;return Z(a.Fragment,{},void 0,Z("div",{className:z.default.gameIcon},void 0,Z(C.default,{game:e})),Z("div",{className:z.default.gameInfo},void 0,Z(G.default,{className:z.default.gameTitle,size:G.default.Sizes.SIZE_16},void 0,e.name),t.length>0?Z(k.default,{size:k.default.Sizes.SIZE_12},void 0,t[0].name):null))},l.renderFooter=function(){var e=this.props,t=e.game,r=e.isSubscribedOnFeed,n=e.analyticsContext,a=[];if(a.push(Z(V.default,{application:t,source:this.getLocation(),size:b.default.Sizes.SMALL,color:b.default.Colors.GREY,customDisabledColor:z.default.disabledButton,onClick:this.handleActionButtonClick,location:J({},n.location,{section:K.AnalyticsSections.ACTIVITY_FEED_GAME_POPOUT}),hideNotLaunchable:!0},"action-button")),t.guildId){var o=v.default.getGuild(t.guildId);a.push(Z(b.default,{className:z.default.button,size:b.default.Sizes.SMALL,color:b.default.Colors.GREY,onClick:o?this.handleViewGuild:this.handleJoinGuild},"guild-button",o?W.default.Messages.GAME_POPOUT_GO_TO_SERVER:W.default.Messages.GAME_POPOUT_VIEW_SERVER))}return a.push(Z(b.default,{className:z.default.button,look:r?b.default.Looks.OUTLINED:b.default.Looks.FILLED,size:b.default.Sizes.SMALL,color:b.default.Colors.GREY,onClick:function(){return r?(0,u.removeGamesFromFeed)([t.id]):(0,u.addGamesToFeed)([t.id])}},"follow-button",r?W.default.Messages.GAME_POPOUT_UNFOLLOW:W.default.Messages.GAME_POPOUT_FOLLOW)),Z("div",{className:z.default.footer},void 0,null!=t.guildId?this.renderGameInfoVerified():this.renderGameInfo(),a)},l.render=function(){var e=this.props,t=e.game,r=e.isNewsFetched,n=e.popoutKey;return Z(B.default,{context:this.props.analyticsContext,section:this.contextSection},void 0,Z(N.default,{className:z.default.container},void 0,Z("div",{className:z.default.header},void 0,Z(re,{game:t,isFetched:r,location:this.getLocation()}),Z(oe,{game:t,popoutKey:n,location:this.getLocation()})),this.renderFooter()))},r=t,(n=[{key:"contextSection",get:function(){return this.props.isModal?K.AnalyticsSections.GAME_MODAL:K.AnalyticsSections.GAME_POPOUT}}])&&q(r.prototype,n),i&&q(r,i),t}(a.PureComponent);ie.displayName="GamePreview",ie.defaultProps={isModal:!1};var le=l.default.connectStores([h.default,A.default,I.default,O.default],function(e){var t=e.game;return{game:h.default.getGame(t.id),isSubscribedOnFeed:O.default.gameIDsToShow.has(t.id),isNewsFetched:y.default.isFetched(t.id)}})(ie);t.default=le},6327:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=p(r(797)),o=(p(r(798)),p(r(5850))),i=p(r(3)),l=r(6016),u=p(r(6017)),s=p(r(237)),d=p(r(5874)),c=r(0),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"ChannelMuteItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isMuted:s.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},render:function(){return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.MUTE_CHANNEL.format({name:this.props.channel.toString(!0)}),action:this.handleChannelMute,active:this.state.isMuted})},handleChannelMute:function(){var e=this.state.isMuted,t=this.props.channel;u.default.updateChannelOverrideSettings(t.getGuildId(),t.id,{muted:!e}),t.type===c.ChannelTypes.GUILD_CATEGORY&&(e?(0,l.categoryExpand)(t.id):(0,l.categoryCollapse)(t.id))}});t.default=y},6329:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=i(r(17)),o=i(r(885));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,d=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],c=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).handleSetRef=function(e){r._textArea=e},r.handleChange=function(e){var t=r.props.onChange;t&&t(e),r.calculateSize()},r.state={height:"auto"},r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c,f,p,y=i.prototype;return y.componentDidMount=function(){this.calculateSize()},y.componentDidUpdate=function(e,t){if(this.state.height!==t.height){var r=this.props.onResize;r&&r(this.state.height)}e.value!==this.props.value&&this.calculateSize()},y.calculateSize=function(){var e=this._textArea;if(null!=e){var t=this.props,r=t.fontWidthEstimate,n=t.rows,a=e.value;if(null!=r&&-1===a.indexOf("\n")&&a.length*r<.8*e.offsetWidth)this.setState({height:"auto"});else{null==s&&null!=document.body&&(s=document.createElement("textarea"),document.body.appendChild(s));var o=this.calculateNodeStyling(e),i=o.paddingSize,l=o.borderSize,u=o.boxSizing,d=o.sizingStyle;s.setAttribute("style",d+";\n  visibility:hidden;\n  overflow:hidden;\n  position:absolute;\n  z-index:-1000;\n  top:0;\n  right:0;\n"),s.value=a,null!=n?s.setAttribute("rows",""+n):s.removeAttribute("rows");var c=s.scrollHeight;"border-box"===u?c+=l:"content-box"===u&&(c-=i),this.setState({height:c})}}},y.calculateNodeStyling=function(e){var t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:d.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:a,boxSizing:r}},y.clear=function(){null!=this._textArea&&(this._textArea.value=""),this.calculateSize()},y.blur=function(){this._textArea&&this._textArea.blur()},y.focus=function(){this._textArea&&this._textArea.focus()},y.setSelection=function(e,t){null!=this._textArea&&(this._textArea.selectionStart=e,this._textArea.selectionEnd=t)},y.render=function(){var e=this.props,t=e.style,r=e.className,i=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["style","className"]);delete i.fontWidthEstimate,delete i.onResize;var u=l({},this.state,t);return n.createElement("textarea",l({},i,{className:(0,a.default)(r,o.default.scrollbarGhostHairline),ref:this.handleSetRef,style:u,onChange:this.handleChange}))},c=i,(f=[{key:"selectionStart",get:function(){return this._textArea&&this._textArea.selectionStart||0}},{key:"selectionEnd",get:function(){return this._textArea&&this._textArea.selectionEnd||0}},{key:"value",get:function(){return this._textArea&&this._textArea.value||""}}])&&u(c.prototype,f),p&&u(c,p),i}(n.PureComponent);c.displayName="TextAreaAutosize";var f=c;t.default=f},6331:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=s(r(6154)),l=s(r(6153)),u=s(r(5580));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t=this.props,r=t.user,n=t.nick,s=t.hideDiscriminator,f=t.invertBotTagColor,p=t.className,y=t.usernameClass,h=t.discriminatorClass,v=t.botClass,_=t.showMobileIndicator,m=t.mobileIndicatorClassName,g=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["user","nick","hideDiscriminator","invertBotTagColor","className","usernameClass","discriminatorClass","botClass","showMobileIndicator","mobileIndicatorClassName"]),O=null!=n?n:r.toString();return a.createElement("div",d({className:(0,o.default)(p,u.default.nameTag)},g),c("span",{className:y},void 0,O),s||null!=n?null:c("span",{className:(0,o.default)(h,(e={},e[u.default.discriminatorWithMobileIndicator]=_,e))},void 0,"#",r.discriminator),_?c(l.default,{className:m}):null,r.bot?c(i.default,{invertColor:f,className:(0,o.default)(v,u.default.bot)}):null)},n}(a.PureComponent);f.displayName="NameTag",f.defaultProps={usernameClass:u.default.username,discriminatorClass:u.default.discriminator};var p=f;t.default=p},6332:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.MemberListRowTypes=void 0;var n=O(r(163)),a=O(r(6)),o=O(r(479)),i=O(r(3)),l=O(r(1)),u=O(r(102)),s=O(r(233)),d=O(r(11)),c=O(r(20)),f=O(r(329)),p=O(r(74)),y=O(r(23)),h=O(r(101)),v=O(r(194)),_=O(r(14)),m=r(0),g=O(r(10));function O(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var I="everyone",E=(0,n.default)({GROUP:null,MEMBER:null});function S(e,t,r,n){switch(t){case m.StatusTypes.ONLINE:case m.StatusTypes.OFFLINE:case m.StatusTypes.UNKNOWN:return{type:E.GROUP,key:t,id:t,get title(){switch(t){case m.StatusTypes.ONLINE:return g.default.Messages.STATUS_ONLINE;case m.StatusTypes.OFFLINE:return g.default.Messages.STATUS_OFFLINE;default:return g.default.Messages.STATUS_UNKNOWN}},count:r,index:n};default:var a=y.default.getGuild(e),o=null!=a?a.getRole(t):null;return{type:E.GROUP,key:t,id:t,title:null!=o?o.name:"",count:r,index:n}}}function b(e,t,r){var n=r===d.default.getId(),a=h.default.isMobileOnline(r),o=n?v.default.getStatus():h.default.getStatus(r,e),i=n?v.default.getPrimaryActivity():h.default.getPrimaryActivity(r,e),l=s.default.getStreamForUser(r),u=_.default.getUser(r);return null==u?null:A({type:E.MEMBER},p.default.getMember(e,r),{user:u,status:o,activity:i,applicationStream:l,isOwner:t===r,isMobileOnline:a})}function T(e){var t=c.default.getChannel(e);return null==t?I:null==t.memberListId?function(e){if(u.default.canEveryone(m.Permissions.VIEW_CHANNEL,e))return I;return o.default.v3((0,a.default)(e.permissionOverwrites).reduce(function(e,t){var r=t.id,n=t.allow,a=t.deny;return(n&m.Permissions.VIEW_CHANNEL)>0?e.push("allow:"+r):(a&m.Permissions.VIEW_CHANNEL)>0&&e.push("deny:"+r),e},[]).sort().join(",")).toString()}(t):t.memberListId}t.MemberListRowTypes=E;var P=function(){function e(e,t){this.rows=[],this.groups=[],this.members={},this.version=0,this.guildId=e,this.listId=t,this.updateOwnerId()}var t=e.prototype;return t.updateOwnerId=function(){var e=y.default.getGuild(this.guildId);if(null==e)return!1;var t=a.default.some(e.roles,function(e){return e.hoist&&(e.permissions&m.Permissions.ADMINISTRATOR)===m.Permissions.ADMINISTRATOR})?null:e.ownerId;return this.ownerId!==t&&(this.ownerId=t,!0)},t.setGroups=function(e){var t=this,r=0;this.groups=e.map(function(e){var n=r;return r+=e.count+1,S(t.guildId,e.id,e.count,n)}),this.rows.length=r},t.sync=function(e,t){var r=this,n=e[0];t.forEach(function(e,t){return r.update(n+t,e)})},t.invalidate=function(e){for(var t=e[0],r=e[1],n=t;n<=r;n++){var a=this.rows[n];if(null==a)break;delete this.rows[n],a.type===E.MEMBER&&delete this.members[a.user.id]}this.version++},t.insert=function(e,t){var r=t.group,n=t.member;if(null!=r)this.rows.splice(e,0,S(this.guildId,r.id,r.count));else if(null!=n){var a=b(this.guildId,this.ownerId,n.user.id);if(null==a)return;this.rows.splice(e,0,a),this.members[n.user.id]=a}this.version++},t.update=function(e,t){var r=t.group,n=t.member,a=this.rows[e];if(null!=a&&a.type===E.MEMBER&&delete this.members[a.user.id],null!=r)this.rows[e]=S(this.guildId,r.id,r.count);else if(null!=n){var o=b(this.guildId,this.ownerId,n.user.id);if(null==o)return;this.rows[e]=o,this.members[n.user.id]=o}this.version++},t.delete=function(e){var t=this.rows[e];null!=t&&(t.type===E.MEMBER&&delete this.members[t.user.id],this.rows.splice(e,1),this.version++)},t.rebuildMember=function(e){var t=this.members[e];null!=t&&(Object.assign(t,b(this.guildId,this.ownerId,e)),this.version++)},t.rebuildMembers=function(){var e=this;a.default.forEach(this.members,function(t,r){e.rebuildMember(r)})},e}(),N=new(function(){function e(){this._guildLists={}}var t=e.prototype;return t.get=function(e,t){var r=this._guildLists[e];null==r&&(r=this._guildLists[e]={});var n=r[t];return null==n&&((n=new P(e,t)).setGroups([{id:m.StatusTypes.UNKNOWN,count:f.default.getMemberCount(e)||0}]),r[t]=n),n},t.forEach=function(e,t){if(null==e)a.default.forEach(this._guildLists,function(e){a.default.forEach(e,t)});else{var r=this._guildLists[e];null!=r&&a.default.forEach(r,t)}},t.delete=function(e){delete this._guildLists[e]},t.reset=function(){this._guildLists={}},e}());function M(){N.reset()}function C(e){var t=e.guildId,r=e.user;N.forEach(t,function(e){return e.rebuildMember(r.id)})}var R=[];function L(){var e=s.default.getAllApplicationStreams(),t=R.concat(e);R=e,t.forEach(function(e){N.forEach(e.guildId,function(t){return t.rebuildMember(e.ownerId)})})}function w(){var e=d.default.getId();N.forEach(null,function(t){return t.rebuildMember(e)})}var D=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.waitFor(_.default,y.default,c.default,p.default,h.default,v.default,d.default,f.default,s.default),this.syncWith([v.default],w),this.syncWith([s.default],L)},a.getProps=function(e,t){var r=N.get(e,T(t));return{listId:r.guildId+":"+r.listId,groups:r.groups,rows:r.rows,version:r.version}},n}(i.default.Store))(l.default,{CONNECTION_OPEN:function(e){return M()},OVERLAY_INITIALIZE:function(e){return M()},GUILD_MEMBER_LIST_UPDATE:function(e){var t=N.get(e.guildId,e.id);e.ops.forEach(function(e){var r=e.op,n=e.index,a=e.item,o=e.range,i=e.items;switch(r){case"SYNC":t.sync(o,i);break;case"INVALIDATE":t.invalidate(o);break;case"INSERT":t.insert(n,a);break;case"UPDATE":t.update(n,a);break;case"DELETE":t.delete(n)}}),t.setGroups(e.groups)},GUILD_UPDATE:function(e){var t=e.guild;N.forEach(t.id,function(e){e.updateOwnerId()&&e.rebuildMembers()})},GUILD_DELETE:function(e){var t=e.guild;N.delete(t.id)},GUILD_ROLE_UPDATE:function(e){var t=e.guildId;N.forEach(t,function(e){return e.rebuildMembers()})},GUILD_MEMBER_UPDATE:C,PRESENCE_UPDATE:C,CHANNEL_UPDATE:function(e){return!0}});t.default=D},6333:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=_(r(3)),i=r(467),l=_(r(233)),u=_(r(35)),s=_(r(23)),d=_(r(159)),c=_(r(132)),f=_(r(7026)),p=r(192),y=_(r(6690)),h=_(r(6697)),v=_(r(5365));function _(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var O=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).renderGameOpener=function(e,r,n){var a=t.props,o=a.source,i=a.onOpenGameProfile;return g(y.default,{game:r,source:o,interactiveClassName:n,onOpen:i},void 0,e)},t.renderActions=function(){var e=t.props,r=e.type,n=e.source,a=e.activity,o=e.applicationStream,i=e.user,l=e.guildId,u=e.channelId,s=e.onOpenConnections;return g(h.default,{className:(0,p.getClass)(v.default,"actions",r),type:r,source:n,activity:a,applicationStream:o,user:i,guildId:l,channelId:u,onOpenConnections:s,showBuyDiscordGame:null==o})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.render=function(){var e=this.props.showActions;return a.createElement(f.default,m({},this.props,{renderActions:e?this.renderActions:null,renderGameOpener:this.renderGameOpener,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum}))},o.handleOpenSpotifyTrack=function(e){(0,i.openTrack)(e)},o.handleOpenSpotifyArtist=function(e,t,r){(0,i.openArtist)(e,t,r)},o.handleOpenSpotifyAlbum=function(e,t){(0,i.openAlbum)(e,t)},n}(a.PureComponent);O.displayName="UserActivityContainer",O.defaultProps={showActions:!0,hideHeader:!1};var A=o.default.connectStores([u.default,d.default,c.default,l.default],function(e){var t=e.activity,r=e.user,n=l.default.getStreamForUser(r.id);return{game:u.default.getGameByName(t.name),applicationStream:n,streamingGuild:null!=n?s.default.getGuild(n.guildId):null}})(O);A.Types=f.default.Types;var I=A;t.default=I},6334:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=f(r(3)),a=f(r(1)),o=r(839),i=r(6550),l=r(6551),u=r(234),s=f(r(101)),d=f(r(447)),c=f(r(14));r(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=!1,v={},_={};function m(e){var t=!1;return e.forEach(function(e){t=!1!==O(e)||t}),t}function g(e){var t=_[e];if(null==t)return!1;var r=t.gameId;return v[r]&&(delete(v=y({},v))[r][e],0===Object.values(v[r]).length&&delete v[r]),delete(_=y({},_))[e],!0}function O(e){var t=e.user,r=e.activities;if(null==t||!d.default.isOnFeed(t.id))return!1;var n,a=r[0];if(null==a)return g(t.id);if((0,u.isOnXbox)(a))n=l.XBOX_APPLICATION_ID_PREFIX+a.name;else if((0,u.isListeningOnSpotify)(a)&&null!=a.party&&null!=a.party.id)n=o.SpotifyApplication.id;else if((0,u.isStreaming)(a)&&null!=a.url)n=i.TWITCH_APPLICATION_ID_PREFIX+a.url;else{if(null==a.application_id)return g(t.id);n=a.application_id}var s=_[t.id];s&&s.gameId!==n&&g(t.id);var c=null!=a.timestamps&&a.timestamps.start||Date.now();return function(e,t){var r,n,a;v=y({},v,((n={})[e]=y({},v[e],((r={})[t.userId]=t,r)),n)),_=y({},_,((a={})[t.userId]={gameId:e,startedPlaying:t.startedPlaying},a))}(n,{userId:t.id,activity:a,startedPlaying:c}),!0}function A(){var e=!1;return d.default.hasLoadedSettings&&!h&&(e=function(){v={},_={};var e=!1;return s.default.getUserIds().forEach(function(t){var r=c.default.getUser(t);null!=r&&(e=O({user:r,activities:s.default.getActivities(t)})||e)}),e}()),h=d.default.hasLoadedSettings,e}var I=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,i,l=n.prototype;return l.initialize=function(){this.waitFor(d.default),this.syncWith([d.default],A)},l.getNowPlaying=function(e){return v[e]},l.getUserGame=function(e){return _[e]},a=n,(o=[{key:"games",get:function(){return v}},{key:"usersPlaying",get:function(){return _}},{key:"gameIds",get:function(){return Object.keys(v)}}])&&p(a.prototype,o),i&&p(a,i),n}(n.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.presences;return v={},_={},m(t)},LOGOUT:function(e){return v={},void(_={})},PRESENCE_UPDATE:function(e){return O(e)},PRESENCES_REPLACE:function(e){return m(e.presences)},ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD:function(e){var t=e.userIds,r=!1;return t.forEach(function(e){var t=s.default.getActivities(e);if(0!==t.length){var n=c.default.getUser(e);null!=n&&(r=O({user:n,activities:t})||r)}}),r}});t.default=I},6336:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.ArrowDirections=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=s(r(17)),l=s(r(908)),u=s(r(5599));function s(e){return e&&e.__esModule?e:{default:e}}var d={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"};t.ArrowDirections=d;var c=((n={})[d.UP]=u.default.up,n[d.RIGHT]=u.default.right,n[d.DOWN]=u.default.down,n[d.LEFT]=u.default.left,n),f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t=this.props,r=t.direction,n=t.onClick,o=t.className;return function(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{className:(0,i.default)(u.default.arrow,o,(e={},e[c[r]]=!0,e)),onClick:n})},n}(o.PureComponent);f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},6337:function(e,t,r){"use strict";t.__esModule=!0,t.getApplicationTrailer=function(e){return a+"/"+e+"/trailer.mp4"},t.getApplicationBackground=function(e){return a+"/"+e+"/hero-background.jpg"},t.getStoreListingLink=function(e){var t;t=location.protocol+"//"+location.host;return""+t+n.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug)};var n=r(0),a="https://cdn.discordapp.com/store-directory-assets/applications"},6338:function(e,t,r){"use strict";t.__esModule=!0,t.canStreamInChannel=l,t.canWatchStream=function(e,t){return!__OVERLAY__&&a.default.can(o.Permissions.CONNECT,e,t)},t.getStreamEligibleChannels=function(e,t){for(var r=[],n=t[o.ChannelTypes.GUILD_VOICE],a=Array.isArray(n),i=0,n=a?n:n[Symbol.iterator]();;){var u;if(a){if(i>=n.length)break;u=n[i++]}else{if((i=n.next()).done)break;u=i.value}var s=u,d=s.channel;l(e,d)&&r.push(d)}return r};var n=i(r(23)),a=i(r(102)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){if(void 0===r&&(r=!0),r&&!a.default.can(o.Permissions.CONNECT,e,t))return!1;if(!a.default.can(o.Permissions.STREAM,e,t))return!1;var i=n.default.getGuild(t.getGuildId());return null==i||i.afkChannelId!==t.id}},6546:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(9)),a=l(r(1)),o=l(r(11)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={open:function(e,t){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_OPEN,guildId:e,userId:t})},close:function(){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_CLOSE})},changeNickname:function(e,t,r){var l,u=this;a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT}),l=o.default.getId()===t?i.Endpoints.GUILD_MEMBER_NICK(e,i.ME):i.Endpoints.GUILD_MEMBER(e,t),n.default.patch({url:l,body:{nick:r}}).then(function(){return u.close()},function(e){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE,errors:e.body||{}})})}};t.default=u},6549:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=(n=r(305))&&n.__esModule?n:{default:n};function l(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props,r=e.onClick,n=e.index;r&&r(n)},t}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.text,r=e.lastItem,n=e.className;return l("span",{},void 0,l(i.default,{className:n,onClick:this.handleClick},void 0,t),r?"":", ")},t}(o.PureComponent);s.displayName="SpotifyArtistLink";var d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleOpenSpotifyArtist=function(e){var r=t.props.onOpenSpotifyArtist;r&&r(e)},t}return u(t,e),t.prototype.render=function(){var e=this,t=this.props.artists.split(";");if(!this.props.canOpen)return t.join(", ");var r=t.length-1;return t.map(function(t,n){return l(s,{text:t,index:n,lastItem:n===r,onClick:e.handleOpenSpotifyArtist,className:e.props.linkClassName},"spotify-artist-"+n)})},t}(o.PureComponent);t.default=d,d.displayName="SpotifyArtists"},6550:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.TWITCH_APPLICATION_ID_PREFIX=void 0;var n=i(r(166)),a=i(r(115)),o=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}t.TWITCH_APPLICATION_ID_PREFIX="twitch:";var l=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.initialize=function(t){e.prototype.initialize.call(this,t),this.id="twitch:"+t.url,this.name=o.default.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH},i.getIconURL=function(){return n.default.get("twitch").icon.svg},a}(a.default);t.default=l},6551:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.XBOX_APPLICATION_ID_PREFIX=void 0;var n=o(r(166)),a=o(r(115));function o(e){return e&&e.__esModule?e:{default:e}}t.XBOX_APPLICATION_ID_PREFIX="xbox:";var i=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.initialize=function(t){e.prototype.initialize.call(this,t),this.id="xbox:"+t.name,this.name=t.name},o.getIconURL=function(){return n.default.get("xbox").icon.svg},a}(a.default);t.default=i},6552:function(e,t,r){"use strict";t.__esModule=!0,t.fetchSettings=function(e){void 0===e&&(e={});var t={};!0===e.includeAutosubscribedGames&&(t.include_autosubscribed_games=!0);n.default.get({url:l.Endpoints.USER_FEED_SETTINGS,query:t}).then(function(e){a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_FETCH_SUCCESS,settings:s({autosubscribed_games:[]},e.body)})})},t.dismissPersonalizationNotice=function(){a.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_PERSONALIZATION_NOTICE})},t.dismissNoGamesNotice=function(){a.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_NO_GAMES_NOTICE})},t.fetchUnknownUnsubscribedUsers=function(){var e=o.default.unsubscribedUserIds,t=Array.from(e).filter(function(e){return null==i.default.getUser(e)});if(0===t.length)return void a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:[]});var r={user_ids:t};n.default.get({url:l.Endpoints.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS,query:r}).then(function(e){a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:e.body.unsubscribed_users})})};var n=u(r(9)),a=u(r(1)),o=u(r(447)),i=u(r(14)),l=r(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6553:function(e,t,r){"use strict";t.__esModule=!0,t.authorize=g,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=_(r(17)),o=_(r(797)),i=(_(r(798)),_(r(5850))),l=_(r(3)),u=_(r(339)),s=_(r(6554)),d=_(r(166)),c=_(r(6078)),f=_(r(427)),p=_(r(18)),y=_(r(8)),h=r(0),v=_(r(5612));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){var r,n=Math.round(screen.width/2-350),a=screen.height>640?Math.round(screen.height/2-320):0;y.default.isDesktop()||(r=window.open(location.protocol+"//"+location.host+h.Routes.CONNECTIONS(e)+"?loading=true","authorize","scrollbars=yes,resizable=yes,toolbar=no,location=yes,top="+a+",left="+n+",width=700,height=640")),u.default.authorize(e,t).then(function(e){var t=e.body.url;null!=t&&(null!=r?r.location.href=t:window.open(t))})}var O=(0,o.default)({displayName:"ConnectAccountButton",mixins:[i.default,l.default.LazyStoreListenerMixin(c.default)],getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isDetecting:c.default.isDetecting(this.props.type)}},handleConnect:function(e){var t=d.default.get(e);t.serverSync?g(t.type,"Friends List"):s.default.detectAccounts([t.type],this.props.location),p.default.track(h.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})},render:function(){var e,t=this,r=this.state.isDetecting,n=this.props,o=n.className,i=n.innerClassName,l=d.default.get(this.props.type);return r&&(e=m(f.default,{type:f.default.Type.PULSING_ELLIPSIS,className:v.default.ellipsis,itemClassName:v.default.spinnerItem})),m("div",{className:(0,a.default)(v.default.wrapper,o)},void 0,m("button",{className:(0,a.default)(v.default.inner,i),type:"button",disabled:this.props.disabled||r,style:{backgroundImage:"url('"+l.icon.color+"')"},onClick:function(){return t.handleConnect(t.props.type)}}),e)}});t.default=O},6554:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(7035),i=r(0);var l={detectAccounts:function(e,t){return a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTING,platformTypes:e,location:t}),(0,o.fetchAccounts)(e).then(function(r){return a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTED,platformTypes:e,accounts:r,location:t}),r})},ignore:function(e){a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_IGNORE,platformTypes:e})},changeDisplayType:function(e){a.default.dispatch({type:i.ActionTypes.DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE,displayType:e})}};t.default=l},6555:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(1)),a=r(191),o=l(r(18)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={selectParticipant:function(e,t){n.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_SELECT_PARTICIPANT,channelId:e,userId:t})},updateLayout:function(e,t){o.default.track(i.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,u({video_layout:t},(0,a.collectVoiceAnalyticsMetadata)(e))),n.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_UPDATE_LAYOUT,channelId:e,layout:t})}};t.default=s},6660:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(3)),i=h(r(6546)),l=r(303),u=h(r(6070)),s=h(r(11)),d=h(r(23)),c=h(r(159)),f=h(r(5848)),p=r(0),y=h(r(10));function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t,r;function a(t){var r;return(r=e.call(this,t)||this).handleOpenChangeNickname=function(){(0,l.closeContextMenu)(),i.default.open(r.props.guildId,r.props.userId)},r.state={guild:d.default.getGuild(t.guildId),currentUserId:s.default.getId()},r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.render=function(){var e=this.props.userId,t=this.state.guild;return this.canChangeNickname()||null!=t&&c.default.canManageUser(p.Permissions.MANAGE_NICKNAMES,e,t)?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(f.default,{label:y.default.Messages.CHANGE_NICKNAME,action:this.handleOpenChangeNickname}):null},o.canChangeNickname=function(){var e=this.props.userId,t=this.state,r=t.currentUserId,n=t.guild;return r===e&&null!=n&&(c.default.can(p.Permissions.CHANGE_NICKNAME,n)||c.default.can(p.Permissions.MANAGE_NICKNAMES,n))},a}(a.PureComponent);v.displayName="UserChangeNicknameItem";var _=o.default.connectStores([c.default],function(e){var t=e.guildId;return{permissionVersion:c.default.getGuildVersion(t)}})(v),m=(0,u.default)(function(e){var t,r=e.guildId,n=e.userId;return(t={})[r]=[n],t})(_);t.default=m},6687:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),l=P(r(17)),u=P(r(6)),s=P(r(100)),d=r(239),c=P(r(3)),f=r(303),p=P(r(5857)),y=P(r(5882)),h=P(r(74)),v=P(r(159)),_=P(r(14)),m=P(r(158)),g=P(r(302)),O=P(r(6072)),A=P(r(102)),I=P(r(7025)),E=P(r(6688)),S=r(0),b=P(r(10)),T=P(r(5578));function P(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function C(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var L=30,w=4,D=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handlerFilterResults=function(e){var r=t.props,n=r.guild,a=r.userId,o=_.default.getCurrentUser(),i=A.default.getHighestRole(n,o.id),l=(0,u.default)(n.roles).filter(function(e){return e.id!==n.id}).filter(function(e){return!e.managed}).filter(function(e){return A.default.isRoleHigher(n,o.id,i,e)}).filter(function(t){return e(t.name.toLowerCase())}),s=h.default.getMember(n.id,a);return s&&(l=l.filter(function(e){return-1===s.roles.indexOf(e.id)})),l.value()},t.renderRole=function(e){var t;return e.colorString&&(t={color:e.colorString}),C("span",{style:t},void 0,e.name)},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,r=e.onClose,n=e.position;return C(I.default,{label:b.default.Messages.ADD_ROLE_LABEL,placeholder:b.default.Messages.ADD_ROLE_PLACEHOLDER,onRenderResult:this.renderRole,onFilterResults:this.handlerFilterResults,onSelect:t,onClose:r,position:n})},t}(i.Component);D.displayName="AddRolesPopout";var U=function(e){function t(){return e.apply(this,arguments)||this}return R(t,e),t.prototype.render=function(){var e,t=this.props,r=t.userRoles,n=t.position,a=M(t,["userRoles","position"]);return C("div",{className:(0,l.default)(T.default.overflowRolesPopout,(e={},e[T.default.popoutBottom]=n===O.default.Positions.BOTTOM,e[T.default.popoutTop]=n===O.default.Positions.TOP,e))},void 0,C("div",{className:T.default.overflowRolesPopoutArrowWrapper},void 0,C("div",{className:T.default.overflowRolesPopoutArrow})),C(m.default,{className:T.default.overflowRolesPopoutHeader,align:m.default.Align.CENTER},void 0,C(g.default,{name:g.default.Names.FLAG,color:S.Colors.PRIMARY_DARK_400,className:T.default.overflowRolesPopoutHeaderIcon}),C("div",{className:T.default.overflowRolesPopoutHeaderText},void 0,b.default.Messages.ROLES_LIST.format({numRoles:r.length}))),i.createElement(G,N({},a,{userRoles:r})))},t}(i.PureComponent);U.displayName="OverflowRolesPopout";var j=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleContextMenu=function(e){(0,f.openContextMenu)(e,function(e){return i.createElement(E.default,N({},e,{roleId:t.props.role.id}))})},t}return R(t,e),t.prototype.render=function(){var e,t=this.props,r=t.role,n=t.canRemove,a=t.onRemove,o=S.Colors.PRIMARY_DARK_300;if(null!=r.colorString&&(o=r.colorString),n){var i=S.Colors.WHITE,l=(0,d.hex2int)(o);null!=l&&(0,d.getDarkness)(l)<.3&&(i=S.Colors.PRIMARY_DARK_630),e=C("button",{onClick:a,className:T.default.roleCircleButton,style:{backgroundColor:o}},void 0,C(g.default,{name:g.default.Names.CLOSE,color:i,className:T.default.roleRemoveIcon}))}else e=C("div",{className:T.default.roleCircle,style:{backgroundColor:o}});return C("li",{className:T.default.role,style:{borderColor:(0,d.hex2rgb)(o,.6)},onContextMenu:this.handleContextMenu},void 0,e,C("div",{className:T.default.roleName},void 0,r.name))},t}(i.Component);j.displayName="MemberRole";var G=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={numPillsToShow:null},t._pillRefs={},t.setPillRef=function(e,r){null!=r?t._pillRefs[e]=r:delete t._pillRefs[e]},t.handleRemoveRole=function(e){var r=t.props.userRoles.filter(function(t){return t!==e.id});p.default.updateMemberRoles(t.props.guild.id,t.props.user.id,r)},t.renderOverflowRolesPopout=function(e){var r=e.position,n=t.props,a=(n.wrap,M(n,["wrap"]));return i.createElement(U,N({},a,{position:null!=r?r:O.default.Positions.TOP}))},t.renderAddRolesPopout=function(e){var r=e.position,n=e.closePopout;return C(D,{guild:t.props.guild,userId:t.props.user.id,onSelect:t.handleAddRole,position:null!=r?r:O.default.Positions.TOP,onClose:n})},t.handleAddRole=function(e){if(null!=e){var r=t.props.userRoles;-1===r.indexOf(e.id)&&(r=r.concat([e.id])),p.default.updateMemberRoles(t.props.guild.id,t.props.user.id,r)}},t.filterPillsToFit=function(){var e=t.props,r=e.wrap,n=e.width;if(!r){var a=t.getRolesToRender(),o=0,i=0;if("number"!=typeof n)throw new Error("Unexpected null width");for(var l=n-L-w,u=0;u<a.length;u++){var d=a[u];if(null!=t._pillRefs[d.id]){var c=s.default.findDOMNode(t._pillRefs[d.id]);if(c instanceof HTMLElement){if((i+=c.offsetWidth+w)>l)break;o++}}}var f=null;o<a.length&&(f=o),t.state.numPillsToShow!==f&&t.setState({numPillsToShow:f})}},t}R(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.wrap||this.filterPillsToFit()},r.componentDidUpdate=function(e){var t=this,r=this.props,n=r.wrap,a=r.width,o=r.userRoles;n||a===e.width&&o===e.userRoles||this.setState({numPillsToShow:null},function(){return t.filterPillsToFit()})},r.componentWillUnmount=function(){var e=this;Object.keys(this._pillRefs).forEach(function(t){return e._pillRefs[t]=null})},r.getRolesToRender=function(){var e=this.props,t=e.guild,r=e.userRoles;return u.default.values(t.roles).filter(function(e){return r.includes(e.id)})},r.render=function(){var e=this,t=_.default.getCurrentUser(),r=this.props,n=r.guild,a=r.className,o=this.state.numPillsToShow,u=v.default.can(S.Permissions.MANAGE_ROLES,n),s=A.default.getHighestRole(n,t.id),d=this.getRolesToRender(),c=0;null!=o&&(c=d.length-o,d=d.slice(0,o));var f,p,y=d.map(function(r){return i.createElement(j,{role:r,canRemove:u&&A.default.isRoleHigher(n,t.id,s,r),onRemove:function(){return e.handleRemoveRole(r)},ref:function(t){return e.setPillRef(r.id,t)},key:r.id})});return 0!==c?f=C(O.default,{renderPopout:this.renderOverflowRolesPopout,position:O.default.Positions.TOP,align:O.default.Align.CENTER},void 0,function(e){return i.createElement("button",N({},e,{className:T.default.overflowButton}),"+"+c)}):u&&(p=C(O.default,{renderPopout:this.renderAddRolesPopout,position:O.default.Positions.BOTTOM,align:O.default.Align.CENTER},void 0,function(e){return i.createElement("button",N({},e,{className:T.default.addButton}),C(g.default,{name:g.default.Names.PLUS,className:T.default.addButtonIcon}))})),C("ul",{className:(0,l.default)(T.default.root,a)},void 0,y,f,p)},t}(i.PureComponent);G.displayName="MemberRolesList",G.defaultProps={wrap:!0};var k=(0,y.default)(G),F=c.default.connectStores([v.default],function(){var e=v.default.getState();return{permissionGuilds:e.guilds,permisisonChannels:e.channels}})((a=n=function(e){function t(){return e.apply(this,arguments)||this}R(t,e);var r=t.prototype;return r.UNSAFE_componentWillReceiveProps=function(e){0},r.render=function(){return!1===this.props.wrap?i.createElement(k,this.props):i.createElement(G,this.props)},t}(i.Component),n.defaultProps=G.defaultProps,a));t.default=F},6688:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=l(r(42)),i=l(r(5909));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.style,r=e.roleId,n=e.className;return o.default.developerMode?u("div",{className:n,style:t},void 0,u(i.default,{id:r})):null},n}(a.PureComponent);s.displayName="GuildRoleContextMenu";var d=s;t.default=d},6689:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=v(r(17)),i=v(r(797)),l=(v(r(798)),v(r(5850))),u=v(r(100)),s=v(r(3)),d=v(r(7248)),c=v(r(5257)),f=v(r(306)),p=v(r(6329)),y=v(r(10)),h=v(r(5581));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,i.default)({displayName:"Note",mixins:[s.default.StoreListenerMixin(c.default,f.default),l.default],getDefaultProps:function(){return{autoFocus:!1}},getStateFromStores:function(){return{note:c.default.getNote(this.props.userId),hideNote:f.default.hidePersonalInformation}},handleBlur:function(e){var t=e.currentTarget.value;this.state.note!==t&&d.default.updateNote(this.props.userId,t)},handleKeyPress:function(e){13===e.which&&(e.shiftKey?(e.currentTarget.value.match(/\n/g)||[]).length>=5&&e.preventDefault():(e.preventDefault(),e.currentTarget.blur()))},componentDidMount:function(){if(this.props.autoFocus&&!this.state.hideNote){var e=u.default.findDOMNode(this.refs.NOTE_REF);null!=e&&null!=e.selectionStart&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)}},render:function(){var e=this.state,t=e.note;return e.hideNote?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(h.default.note,this.props.className)},void 0,a.createElement(p.default,{ref:"NOTE_REF",placeholder:y.default.Messages.NOTE_PLACEHOLDER,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,defaultValue:t,maxLength:256}))}});t.default=_},6690:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(2)),a=s(r(17)),o=s(r(73)),i=s(r(5851)),l=(s(r(115)),d(r(6073))),u=s(r(6155));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(e){var r=t.props,n=r.children,a=r.source,i=r.game,s=r.onOpen,d=r.analyticsContext,c=n.props.onClick;null!=i&&(e.preventDefault(),e.stopPropagation(),o.default.push(u.default,{game:i,source:a,analyticsContext:d,isModal:!0}),s&&s(),l.trackGameModalOpened(i,a,d.location)),c&&c(e)},t}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.children,r=e.interactiveClassName;return null==e.game?t:n.cloneElement(t,{onClick:this.handleClick,className:(0,a.default)(t.props.className,r)})},i}(n.PureComponent);c.displayName="GameModalOpener";var f=(0,i.default)(c);t.default=f},6691:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o,i=v(r(3)),l=v(r(1)),u=h(r(7029)),s=v(r(88)),d=v(r(60)),c=h(r(912)),f=r(117),p=v(r(8)),y=r(0);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var _=new(function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=i.prototype;return l.initialize=function(){p.default.embedded&&c.init(),n={},a=new Set,o=[]},l.getState=function(e,t){var r=(0,f.getComboId)(e,t);return n[r]},l.isSyncing=function(e,t){var r=(0,f.getComboId)(e,t);return a.has(r)},i}(i.default.Store))(l.default,{GAME_CLOUD_SYNC_START:function(e){var t=e.applicationId,r=e.branchId,n=(0,f.getComboId)(t,r);a.add(n)},GAME_CLOUD_SYNC_UPDATE:function(e){for(var t=e.state,r=0,a=Object.keys(t);r<a.length;r++){var o=a[r];n[o]=t[o]}},GAME_CLOUD_SYNC_COMPLETE:function(e){var t=e.applicationId,r=e.branchId,o=(0,f.getComboId)(t,r);return a.delete(o),n[o]={type:y.CloudSyncStateTypes.DONE,timestamp:Date.now()},!0},GAME_CLOUD_SYNC_CONFLICT:function(e){var t=e.applicationId,r=e.branchId,o=e.next,i=e.remote,l=(0,f.getComboId)(t,r);n[l]={type:y.CloudSyncStateTypes.CONFLICT,next:o,remote:i},a.delete(l)},GAME_CLOUD_SYNC_ERROR:function(e){var t=e.applicationId,r=e.branchId,o=(0,f.getComboId)(t,r);n[o]={type:y.CloudSyncStateTypes.ERROR},a.delete(o)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=d.default.getRunningDiscordApplicationIds(),t=function(){if(n){if(a>=r.length)return"break";i=r[a++]}else{if((a=r.next()).done)return"break";i=a.value}var e=i,t=s.default.getActiveLibraryApplication(e);if(null==t)return"continue";l.default.wait(function(){try{u.sync(t.id,t.branchId)}catch(e){}})},r=o.filter(function(t){return!e.includes(t)}),n=Array.isArray(r),a=0;e:for(r=n?r:r[Symbol.iterator]();;){var i;switch(t()){case"break":break e;case"continue":continue}}return o=e,!1}()}});t.default=_},6693:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=y(r(3)),i=r(7030),l=y(r(331)),u=y(r(5965)),s=y(r(98)),d=r(847),c=y(r(8)),f=y(r(10)),p=y(r(5595));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v="select",_=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={directoryMetadata:{},newInstallationPath:null},t.fetchedMetadataPaths=new Set,t.handleChange=function(e){var r=e.value;r===v?c.default.showOpenDialog(["openDirectory"]).then(function(e){if(null!=e&&e.length>0){var r=e[0];t.setState({newInstallationPath:t.props.installationPaths.find(function(e){return e.path===r})?null:r}),t.sendChange(r)}}):t.sendChange(r)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.fetchAllDirectoryMetadata=function(){var e=this,t=this.props.installationPaths.map(function(e){return e.path}),r=this.state.newInstallationPath;null!=r&&t.push(r),t=t.filter(function(t){return!e.fetchedMetadataPaths.has(t)}),(0,i.fetchMetadata)(t);var n=t,a=Array.isArray(n),o=0;for(n=a?n:n[Symbol.iterator]();;){var l;if(a){if(o>=n.length)break;l=n[o++]}else{if((o=n.next()).done)break;l=o.value}var u=l;this.fetchedMetadataPaths.add(u)}},a.componentDidMount=function(){this.fetchAllDirectoryMetadata()},a.componentDidUpdate=function(e){this.fetchAllDirectoryMetadata(),this.props.requiredDiskKB===e.requiredDiskKB&&this.props.installationPathsMetadata===e.installationPathsMetadata||this.sendChange(this.props.value)},a.getOptions=function(){var e=this,t=this.props.installationPaths,r=this.state.newInstallationPath,n=t.map(function(t){var r=t.path,n=t.label;return{value:r,label:e.renderLabel(r,n)}});return null!=r&&n.push({value:r,label:this.renderLabel(r)}),n.push({value:v,label:f.default.Messages.APPLICATION_INSTALLATION_MODAL_SELECT_DIRECTORY}),n},a.hasEnoughDiskSpace=function(e){var t=this.props,r=t.requiredDiskKB,n=t.installationPathsMetadata,a=null!=n[e]?n[e].availableKB:null;return null==r||null==a||r<a},a.sendChange=function(e){var t=this.props,r=t.installationPathsMetadata;(0,t.onChange)(e,null!=r[e]&&!1===r[e].hasPermission||!this.hasEnoughDiskSpace(e))},a.renderError=function(){var e=this.props,t=e.value,r=e.installationPathsMetadata;return null!=r[t]&&!1===r[t].hasPermission?h("div",{className:p.default.error},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_NO_PERMISSION):this.hasEnoughDiskSpace(t)?null:h("div",{className:p.default.error},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_NOT_ENOUGH_SPACE)},a.renderLabel=function(e,t){var r=this.props.installationPathsMetadata,n=null!=t?t:e;return null!=r[e]&&null!=r[e].availableKB?f.default.Messages.APPLICATION_INSTALLATION_MODAL_DIRECTORY_WITH_SPACE.format({path:n,size:(0,d.formatSize)(r[e].availableKB,{useKibibytes:!0})}):n},a.render=function(){var e=this.props,t=e.value,r=e.className,n=e.autoFocus;return h("div",{className:r},void 0,h(s.default,{tag:s.default.Tags.H5},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_LOCATION),h(u.default,{autoFocus:n,options:this.getOptions(),value:t,onChange:this.handleChange}),this.renderError())},n}(a.PureComponent);_.displayName="InstallationLocationSelector";var m=o.default.connectStores([l.default],function(){return{installationPaths:l.default.installationPaths,installationPathsMetadata:l.default.installationPathsMetadata}})(_);t.default=m},6694:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(6)),a=u(r(3)),o=u(r(24)),i=u(r(1)),l=r(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d,c="GameLibraryViewStore",f=l.TableSortDirections.ASCENDING,p=l.GameTableListKeys.LAST_PLAYED,y=!1,h=n.default.debounce(function(){y=!1,v.emitChange()},200);var v=new(function(e){var t,r,n,a,i;function l(){return e.apply(this,arguments)||this}return r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,l.prototype.initialize=function(){var e=o.default.get(c)||{};null!=e.sortDirection&&null!=e.sortKey&&(f=e.sortDirection,p=e.sortKey)},n=l,(a=[{key:"sortDirection",get:function(){return f}},{key:"sortKey",get:function(){return p}},{key:"activeRowKey",get:function(){return d}},{key:"isNavigatingByKeyboard",get:function(){return y}}])&&s(n.prototype,a),i&&s(n,i),l}(a.default.Store))(i.default,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,r=e.key;f=t,p=r,o.default.set(c,{sortDirection:f,sortKey:p})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;e.isKeyboardEvent&&(y=!0,h()),d=t}}),_=v;t.default=_},6695:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(17)),i=h(r(6)),l=r(59),u=r(113),s=h(r(6336)),d=h(r(7032)),c=h(r(158)),f=h(r(7033)),p=r(0),y=h(r(5602));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m={JUMP:"jump",NEXT:"next",PREVIOUS:"previous"},g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleDotClick=function(e){var r=t.props,n=r.onSetItem,a=r.onIntentionalChange,o=r.current;a&&a(o,e,m.JUMP),n(e)},t.handleNext=function(){var e=t.props,r=e.onIntentionalChange,n=e.current,a=(0,e.onChangePage)(1);r&&r(n,a,m.NEXT)},t.handlePrevious=function(){var e=t.props,r=e.onIntentionalChange,n=e.current,a=(0,e.onChangePage)(-1);r&&r(n,a,m.PREVIOUS)},t}_(t,e);var r=t.prototype;return r.componentDidMount=function(){u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},r.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},r.render=function(){var e,t=this,r=this.props,n=r.current,a=r.count,l=r.includeHitboxPadding,u=i.default.times(a,function(e){return v("button",{onClick:function(){return t.handleDotClick(e)},className:e===n?y.default.dotSelected:y.default.dotNormal},"dot-"+e)}),d=(0,o.default)(y.default.arrowHitbox,((e={})[y.default.arrowHitboxPadding]=l,e));return v(c.default,{className:this.props.className,justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER},void 0,v("button",{className:d,onClick:this.handlePrevious},void 0,v(s.default,{className:y.default.arrow,direction:s.default.Directions.LEFT})),v("div",{className:y.default.dots},void 0,u),v("button",{className:d,onClick:this.handleNext},void 0,v(s.default,{className:y.default.arrow,direction:s.default.Directions.RIGHT})))},t}(a.PureComponent);g.displayName="PaginationController",g.defaultProps={includeHitboxPadding:!0};var O=function(e){function t(t){var r;return(r=e.call(this,t)||this).timer=new l.Interval,r.getCurrentDirection=function(){return r.state.direction},r.nextItem=function(){var e=r.props.items;r.changeItem(e,1)},r.previousItem=function(){var e=r.props.items;r.changeItem(e,-1)},r.handleSetItem=function(e){var t=r.state.visibleIndex,n=r.props.items;r.changeItem(n,e-t)},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},r.handleIntentionalChange=function(e,t,n){var a=r.props,o=a.items,i=a.onIntentionalChange;return i&&i(o[t],e,t,n)},r.state={visibleIndex:!0===t.randomize?i.default.random(0,t.items.length-1):0,direction:1,hovered:!1},r}_(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.paused||this.state.hovered||this.startTimer()},r.componentWillUnmount=function(){this.stopTimer()},r.UNSAFE_componentWillReceiveProps=function(e){var t=e.items;null==t[this.state.visibleIndex]&&this.changeItem(t,1)},r.componentDidUpdate=function(e,t){var r=function(e,t){return!e.paused&&!t.hovered},n=r(this.props,this.state),a=r(e,t);n&&!a?this.startTimer():!n&&a&&this.stopTimer()},r.startTimer=function(){this.timer.start(this.props.delay,this.nextItem)},r.stopTimer=function(){this.timer.stop()},r.changeItem=function(e,t){var r=this.state.visibleIndex+t;r<0?r=e.length-1:r>e.length-1&&(r=0);var n=this.props.onChangeItem;return n&&n(e[r],this.state.visibleIndex,r),this.setState({visibleIndex:r,direction:t>0?1:-1}),r},r.render=function(){var e=this,t=this.props,r=t.items,n=t.renderItem,a=t.className,i=t.paginationClassName,l=t.themedPagination,u=t.includeHitboxPadding,s=t.style,c=this.state.visibleIndex;return v("div",{className:(0,o.default)(y.default.root,a),style:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,v(d.default,{aspectRatio:16/9},void 0,v(f.default,{step:c,getDirection:this.getCurrentDirection,className:y.default.carousel},void 0,n(r[c],c))),v(g,{className:(0,o.default)(i,l?y.default.themedPagination:y.default.pagination),includeHitboxPadding:u,current:c,count:r.length,onChangePage:function(t){return e.changeItem(r,t)},onSetItem:this.handleSetItem,onIntentionalChange:this.handleIntentionalChange}))},t}(a.PureComponent);O.displayName="CarouselWithSlide";var A=O;t.default=A},6696:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=P(r(2)),i=T(r(3)),l=P(r(327)),u=T(r(5851)),s=r(201),d=T(r(6691)),c=T(r(167)),f=T(r(837)),p=T(r(456)),y=T(r(112)),h=T(r(6023)),v=T(r(426)),_=P(r(5910)),m=P(r(117)),g=T(r(8)),O=T(r(45)),A=P(r(5903)),I=T(r(7034)),E=r(0),S=T(r(10)),b=T(r(5608));function T(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function C(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function R(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){C(o,n,a,i,l,"next",e)}function l(e){C(o,n,a,i,l,"throw",e)}i(void 0)})}}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=Object.freeze({PLAY:"play",NOW_PLAYING:"now_playing",INSTALL:"install",UPDATE:"update",PAUSED:"paused",LOCATE:"locate",UNINSTALLING:"uninstalling",QUEUED:"queued",DOWNLOADING:"downloading",UNSUPPORTED_OS:"unsupported_os",ADD_TO_LIBRARY:"add_to_library",PREORDER_WAIT:"preorder_wait"}),D=Object.freeze(((n={})[E.LibraryApplicationActions.PLAY]=w.PLAY,n[E.LibraryApplicationActions.INSTALL]=w.INSTALL,n[E.LibraryApplicationActions.UPDATE]=w.UPDATE,n[E.LibraryApplicationActions.PAUSE]=w.DOWNLOADING,n[E.LibraryApplicationActions.MOVE_UP]=w.QUEUED,n[E.LibraryApplicationActions.RESUME]=w.PAUSED,n));var U=function(e){var t,r;function n(){for(var t,r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this)._uninstallStringIndex=null,r.handleAddToLibrary=R(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.props.libraryApplication,e.next=4,l.updateFlags(t.id,t.branchId,t.getFlags()&~E.LibraryApplicationFlags.HIDDEN);case 4:O.default.transitionTo(E.Routes.APPLICATION_LIBRARY),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),r.handleInstall=function(){var e=r.props,t=e.libraryApplication,n=e.source;_.installApplication(t.id,t.branchId,n)},r.handleUpdate=function(){var e=r.props.libraryApplication;_.updateApplication(e.id,e.branchId)},r.onClickHandlers=((t={})[w.ADD_TO_LIBRARY]=r.handleAddToLibrary,t[w.INSTALL]=r.handleInstall,t[w.UPDATE]=r.handleUpdate,t),r.handleClick=function(e,t){var n=r.props.onClick;n&&n(e),t(e)},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,i,u=n.prototype;return u.getText=function(e){switch(e!==w.UNINSTALLING&&(this._uninstallStringIndex=null),e){case w.INSTALL:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case w.UPDATE:return S.default.Messages.GAME_ACTION_BUTTON_UPDATE;case w.PAUSED:return S.default.Messages.GAME_ACTION_BUTTON_PAUSED;case w.LOCATE:return S.default.Messages.GAME_ACTION_BUTTON_LOCATE;case w.UNINSTALLING:var t=[S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];return null==this._uninstallStringIndex&&(this._uninstallStringIndex=Math.floor(Math.random()*t.length)),t[this._uninstallStringIndex];case w.QUEUED:return S.default.Messages.GAME_ACTION_BUTTON_QUEUED;case w.DOWNLOADING:return S.default.Messages.GAME_ACTION_BUTTON_DOWNLOADING;case w.UNSUPPORTED_OS:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case w.ADD_TO_LIBRARY:return S.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;case w.PREORDER_WAIT:return S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;default:throw new Error("Unexpected button state")}},u.getButtonState=function(){var e=this.props,t=e.libraryApplication,r=e.dispatchState,n=e.actionState;if(t.isHidden())return w.ADD_TO_LIBRARY;if(t.isPreorder())return w.PREORDER_WAIT;var a=null!=n?D[n]:null;return null!=a?a:null!=r&&r.type===E.LocalDispatchApplicationStates.UNINSTALLING?w.UNINSTALLING:g.default.isWeb()?w.PLAY:w.UNSUPPORTED_OS},u.renderPlayButton=function(){var e=this.props,t=e.libraryApplication,r=e.fullWidth,n=e.size,a=e.color,o=e.customDisabledColor,i=e.isPlayShiny,l=e.onDropdownOpen,u=e.onDropdownClose,s=e.analyticsListSort,d=e.analyticsListIndex;return M(I.default,{applicationId:t.id,libraryApplication:t,fullWidth:r,size:n,color:a,customDisabledColor:o,isShiny:i,onDropdownOpen:l,onDropdownClose:u,analyticsListSort:s,analyticsListIndex:d})},u.renderDisabledButton=function(e,t){var r=this.props,n=r.className,a=r.fullWidth,o=r.size,i=r.customDisabledColor,l=r.tooltipPosition;return M("div",{className:b.default.disabledButtonWrapper},void 0,M(y.default,{className:n,fullWidth:a,size:o,color:null!=i?i:b.default.disabledButtonColor,disabled:!0},void 0,this.getText(e),this.renderProgressBar()),M(v.default,{text:t,position:l},void 0,M("div",{className:b.default.disabledButtonOverlay})))},u.renderProgressBar=function(){var e=this.props,t=e.hideProgress,r=e.dispatchState;if(t)return null;var n=m.convertToTransitionState(r);if(null==n)return null;var a=n.type===E.LocalDispatchApplicationStates.UNINSTALLING?h.default.INDETERMINATE:m.calculateProgressPercentage(n.progress,n.total);return M(h.default,{percent:a,size:h.default.Sizes.XSMALL,foregroundColor:n.paused?E.Colors.PRIMARY_DARK:E.Colors.STATUS_GREEN,backgroundColor:E.Colors.TRANSPARENT,className:b.default.progress})},u.renderActionButton=function(e,t){var r=this,n=this.props,a=n.className,o=n.fullWidth,i=n.size,l=n.color,u=n.isCloudSyncing;return M(y.default,{className:a,fullWidth:o,size:i,color:null!=l?l:y.default.Colors.GREEN,hover:null!=l?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:e===w.UNINSTALLING||u,onClick:function(e){return r.handleClick(e,t)}},void 0,this.getText(e),this.renderProgressBar())},u.render=function(){var e=this.props,t=e.hasNoBuild,r=e.libraryApplication,n=this.getButtonState();if(n===w.PLAY)return this.renderPlayButton();if(n===w.PREORDER_WAIT)return this.renderDisabledButton(n,function(e){if(e instanceof s.LibraryApplicationRecord){var t=A.getReadablePreorderReleaseDate(e.sku);return null!=t?S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({date:t}):null}}(r));if(n===w.UNSUPPORTED_OS)return this.renderDisabledButton(n,S.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({operatingSystem:S.default.Messages.WINDOWS}));if(n===w.INSTALL&&t)return this.renderDisabledButton(n,S.default.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);var a=this.onClickHandlers[n];return null==a?this.renderDisabledButton(n):this.renderActionButton(n,a)},a=n,(o=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:E.AnalyticsObjects.BUTTON_CTA})}}])&&L(a.prototype,o),i&&L(a,i),n}(o.Component);U.displayName="LibraryApplicationButton",U.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,hideProgress:!1,isPlayShiny:!1,tooltipPosition:v.default.Positions.TOP},U.ButtonStates=w;var j=(0,u.default)(i.default.connectStores([c.default,f.default,p.default,d.default],function(e){var t=e.libraryApplication;return{actionState:_.getDefaultLibraryApplicationAction(t,c.default,f.default),isCloudSyncing:d.default.isSyncing(t.id,t.branchId),hasNoBuild:p.default.hasNoBuild(t.id,t.branchId),dispatchState:c.default.getState(t.id,t.branchId)}})(U));t.default=j},6697:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=B(r(2)),o=x(r(3)),i=B(r(887)),l=x(r(134)),u=x(r(73)),s=x(r(834)),d=x(r(133)),c=r(818),f=r(323),p=x(r(5851)),y=x(r(166)),h=r(6338),v=x(r(863)),_=x(r(233)),m=x(r(20)),g=x(r(460)),O=x(r(321)),A=x(r(167)),I=x(r(35)),E=x(r(88)),S=x(r(87)),b=x(r(14)),T=x(r(5245)),P=x(r(7280)),N=x(r(18)),M=r(113),C=r(322),R=x(r(8)),L=x(r(440)),w=x(r(7281)),D=x(r(7283)),U=x(r(7284)),j=x(r(7285)),G=r(0),k=x(r(10)),F=x(r(5365));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function Y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var H=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderSpotifyPlayButton=function(e){var r=t.props,n=r.channelId,o=r.guildId,i=r.source;return a.createElement(w.default,V({guildId:o,channelId:n,source:i},e))},t.renderSpotifySyncButton=function(e){var r=t.props,n=r.channelId,o=r.guildId,i=r.source;return a.createElement(D.default,V({guildId:o,channelId:n,source:i},e))},t.renderXboxButton=function(e){return a.createElement(U.default,V({onOpenConnections:t.props.onOpenConnections},e))},t.handleWatchStream=function(){var e=t.props,r=e.applicationStream,n=e.isWatchingStream;null!=r&&(d.default.selectVoiceChannel(r.guildId,r.channelId),n||(0,f.watchStreamAndTransitionToStream)(r),M.ComponentDispatch.dispatch(G.ComponentActions.POPOUT_CLOSE),u.default.popAll())},t.handleJoinRequest=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(i.request(t.props.user,e),t.trackApplicationOpened(e,G.AnalyticsGameOpenTypes.ASK_TO_JOIN))},t.handleSpectate=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(l.default.spectate(t.props.user.id,e.session_id,e.application_id),t.trackApplicationOpened(e,G.AnalyticsGameOpenTypes.SPECTATE))},t.handleSendFriendRequest=function(){var e=t.props.user;s.default.addRelationship(e.id,{location:"Spectate Modal"}),u.default.pop()},t.handleCloseModal=function(){null!=t.modalKey?u.default.popWithKey(t.modalKey):u.default.pop()},t.handleOpenDownloads=function(){u.default.push(L.default,{source:"Spectate Modal"})},t.handleViewInStore=function(){var e=t.props,r=e.game,n=e.analyticsContext;if(null==r)throw new Error("Unexpected missing game");(0,c.goToApplicationStoreListing)(r.id,{analyticsSource:V({},n.location,{object:G.AnalyticsObjects.BUTTON_CTA}),slug:r.slug})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.render=function(){var e=this.props,t=(e.channelId,e.guildId,e.onOpenConnections,e.source,e.isGameLaunchable),r=(e.analyticsContext,function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["channelId","guildId","onOpenConnections","source","isGameLaunchable","analyticsContext"]));return a.createElement(P.default,V({},r,{isBrowser:!R.default.embedded,isLaunchable:t,renderXboxButton:this.renderXboxButton,renderSpotifyPlayButton:this.renderSpotifyPlayButton,renderSpotifySyncButton:this.renderSpotifySyncButton,onJoinRequest:this.handleJoinRequest,onSpectate:this.handleSpectate,onNotify:this.handleNotify,onViewInStore:this.handleViewInStore,onWatchStream:this.handleWatchStream}))},o.validateAction=function(){var e=this,t=this.props.user;return R.default.embedded?!!S.default.isFriend(t.id)||(this.modalKey=u.default.push(function(){return Y(j.default,{title:k.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_TITLE,imageClass:F.default.notFriendsImage,body:k.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_BODY.format({user:t.username}),confirmText:k.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_ACTION,cancelText:k.default.Messages.CANCEL,onConfirm:e.handleSendFriendRequest,onClose:e.handleCloseModal})}),!1):(this.modalKey=u.default.push(function(){return Y(j.default,{title:k.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_TITLE,cancelText:k.default.Messages.CANCEL,body:k.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_BODY,confirmText:k.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_ACTION,onConfirm:e.handleOpenDownloads,onClose:e.handleCloseModal})}),!1)},o.trackApplicationOpened=function(e,t){var r=this.props,n=r.source,a=r.user,o=null!=e.application_id?E.default.getActiveLibraryApplication(e.application_id):null,i=null!=e.application_id?I.default.getGame(e.application_id):null;N.default.track(G.AnalyticEvents.APPLICATION_OPENED,{type:t,source:n,application_id:e.application_id,application_name:null!=i?i.name:e.name,other_user_id:a.id,distributor:null!=o?o.getDistributor():null})},o.handleNotify=function(e,t){console.log("notify",t,e)},n}(a.PureComponent);H.displayName="UserActivityActionsContainer",H.defaultProps={showBuyDiscordGame:!1};var K=o.default.connectStores([T.default,v.default,b.default,I.default,E.default,A.default,O.default,_.default],function(e){var t=e.activity,r=e.applicationStream,n=e.user,a=null!=t&&null!=t.application_id?I.default.getGame(t.application_id):null;null==a&&null!=t&&(a=I.default.getGameByName(t.name));var o=null!=r?m.default.getChannel(r.channelId):null,i=_.default.getActiveStream();return{spectateState:null!=t&&null!=t.application_id?T.default.getState(t.application_id,G.ActivityActionTypes.SPECTATE):null,hasActiveJoinRequest:!!v.default.getRequest(n.id),currentUser:b.default.getCurrentUser(),game:a,hasXboxAccount:g.default.getAccounts().some(function(e){return e.type===y.default.get(G.PlatformTypes.XBOX).type}),isGameLaunchable:null!=t&&null!=t.application_id&&(0,C.isLaunchable)(E.default,I.default,A.default,O.default,t.application_id),canBuyDiscordGame:null!=a&&null!=a.primarySkuId&&null==E.default.getActiveLibraryApplication(a.id),activeStream:_.default.getActiveStream(),isStreamWatchable:null!=o&&(0,h.canWatchStream)(b.default.getCurrentUser(),o),isWatchingStream:null!=i&&null!=r&&i.state!==G.ApplicationStreamStates.ENDED&&i.ownerId===r.ownerId}})((0,p.default)(H));t.default=K},6698:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(6079)),i=l(r(824));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t=e.defaultValue,r=void 0===t?0:t,n=e.minValue,l=void 0===n?0:n,s=e.maxValue,d=void 0===s?100:s,c=e.onValueChange,f=e.onValueRender,p=e.label;return u("div",{className:(0,a.default)(i.default.item,i.default.itemSlider)},void 0,u("div",{className:i.default.label},void 0,p),u(o.default,{mini:!0,handleSize:16,className:i.default.slider,defaultValue:r,minValue:l,maxValue:d,onValueChange:c,onValueRender:f}))};s.displayName="SliderMenuItem";var d=s;t.default=d},7016:function(e,t,r){"use strict";t.__esModule=!0,t.subscribeMembers=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD,guildId:e,userIds:t})},t.unsubscribeMembers=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE,guildId:e,userIds:t})},t.subscribeChannel=l,t.subscribeChannelDimensions=function(e,t,r,n,a){function i(e,t){return void 0===t&&(t=0),Math.max(0,Math.ceil(Math.ceil(e/a))+t)}var u=[];function s(e){var t=e+(o.MINIMUM_RANGE-1);return u.push([e,t]),t+1}var d=i(.5*n),c=i(r,-d),f=i(r+n,d);c>0&&(c=Math.max(s(0),c));c=Math.floor(c/o.MINIMUM_RANGE)*o.MINIMUM_RANGE;for(;c<=f;)c=s(c);l(e,t,u)};var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(7017),i=r(0);function l(e,t,r){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL,guildId:e,channelId:t,ranges:r})}},7017:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var n=o(r(6)),a=o(r(866));function o(e){return e&&e.__esModule?e:{default:e}}t.MINIMUM_RANGE=100;var i=[[0,99]];function l(e){var t={};return e.forEach(function(e,r){t[r]=e}),t}t.DEFAULT_RANGES=i;var u=function(){function e(e){this._subscriptions={},this._onChange=e}var t=e.prototype;return t.reset=function(){this._subscriptions={}},t.get=function(e){return l(this._get(e))},t._get=function(e){return this._subscriptions[e]||new a.default({max:5})},t.clear=function(e){delete this._subscriptions[e]},t.subscribe=function(e,t,r){var a=this._get(e);n.default.isEqual(a.get(t),r)||(a.set(t,r),this._subscriptions[e]=a,this._onChange(e,l(a)))},e}();t.default=u},7024:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.PopoutAlign=t.PopoutPositions=void 0;var n,a=c(r(2)),o=d(r(29)),i=d(r(100)),l=r(113),u=c(r(951)),s=r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=u.Positions;t.PopoutPositions=y;var h=u.Align;t.PopoutAlign=h;var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={domElement:null,shouldShowPopout:!1},t.renderPopout=function(e){return(0,t.props.renderPopout)(p({},e,{closePopout:t.close}))},t.close=function(){var e=t.props,r=e.onRequestClose;null==e.shouldShow?t.toggleShow(!1):r&&r()},t.handleClick=function(){null==t.props.shouldShow&&t.setState(function(e){return{shouldShowPopout:!e.shouldShowPopout}})},t.handleDocumentClick=function(e){var r=e.target,n=t.state.domElement;(0,o.default)(null!=n,"Missing domElement"),(0,u.referencePortalAwareContains)(n,r)||t.close()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=n.prototype;return d.shouldShowPopout=function(e,t){return null!=e.shouldShow?e.shouldShow:t.shouldShowPopout},d.componentDidMount=function(){this.shouldShowPopout(this.props,this.state)&&this.setupShowPopout()},d.componentDidUpdate=function(e,t){e.shouldShow,this.props.shouldShow;var r=this.shouldShowPopout(this.props,this.state);this.shouldShowPopout(e,t)!==r&&(r?this.setupShowPopout():this.unsubscribe())},d.setupShowPopout=function(){var e=i.default.findDOMNode(this);if(null==e||1!==e.nodeType)throw new Error("Popout cannot find DOM node");this.setState({domElement:e}),e.ownerDocument.addEventListener("click",this.handleDocumentClick,!0),l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_CLOSE,this.close)},d.unsubscribe=function(){var e=this.state.domElement;null!=e&&e.ownerDocument.removeEventListener("click",this.handleDocumentClick,!0),l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_CLOSE,this.close)},d.componentWillUnmount=function(){this.unsubscribe()},d.render=function(){var e=this.props.children;return f(a.Fragment,{},void 0,e({onClick:this.handleClick}),this.renderLayer())},d.renderLayer=function(){if(!this.shouldShowPopout(this.props,this.state))return null;var e=this.props,t=e.position,r=e.align,n=e.nudgeAlignIntoViewport,a=e.spacing,o=e.autoInvert,i=this.state.domElement;return null==i?null:f(u.default,{referenceElement:i,position:t,align:r,nudgeAlignIntoViewport:n,spacing:a,autoInvert:o},void 0,this.renderPopout)},d.toggleShow=function(e){this.state.shouldShowPopout!==e&&this.setState({shouldShowPopout:e})},n}(a.Component);t.default=v,v.displayName="BasePopout",v.Positions=u.Positions,v.Align=u.Align,v.defaultProps={autoInvert:!1,nudgeAlignIntoViewport:!1,spacing:0}},7025:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=v(r(17)),i=v(r(3)),l=v(r(42)),u=v(r(231)),s=v(r(6072)),d=r(841),c=v(r(198)),f=v(r(822)),p=r(0),y=v(r(10)),h=v(r(5577));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e){switch(e){case s.default.Positions.BOTTOM:return h.default.positionBottom;default:return h.default.positionTop}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).inputRef=a.createRef(),t.state={query:null,selectedSection:null,selectedRow:0},t.memoizedGetRows=(0,d.cachedFunction)(function(e,t,r){var n=new RegExp("^"+c.default.escape(null!=e?e.trim():""),"i"),a=function(e){return n.test(e)};return r.map(function(e,r){return t(a,r)})}),t.getRows=function(){var e=t.props,r=e.onFilterResults,n=e.sections,a=t.state.query;return t.memoizedGetRows(a,r,n)},t.handleChange=function(e){var r=e.target.value;t.props.onQueryChange&&t.props.onQueryChange(r),t.setState({query:r,selectedSection:null,selectedRow:0})},t.handleMouseEnter=function(e,r){t.setState({selectedSection:e,selectedRow:r})},t.handleClick=function(e,r){var n=t.getRows();t.props.onSelect(n[e][r],e),t.props.onClose()},t.handleKeyDown=function(e){var r=t.state.selectedRow,n=t.getRows(),a=t.getSelectedSection(n);switch(e.keyCode){case p.KeyboardKeys.TAB:if(p.EnableAccessibility)break;case p.KeyboardKeys.ARROW_DOWN:e.preventDefault(),t.props.sections.length>a&&++r>=n[a].length&&(++a>=t.props.sections.length&&(a=0),r=0),t.setState({selectedSection:a,selectedRow:r});break;case p.KeyboardKeys.ARROW_UP:e.preventDefault(),--r<0&&(--a<0&&(a=t.props.sections.length-1),r=n[a].length-1),t.setState({selectedSection:a,selectedRow:r});break;case p.KeyboardKeys.ENTER:e.preventDefault(),t.props.sections.length>a&&n[a].length>r&&(t.props.onSelect(n[a][r],a),t.props.onClose());break;case p.KeyboardKeys.ESCAPE:e.preventDefault(),t.props.onSelect(null,null),t.props.onClose()}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getSelectedSection=function(e){var t=this.state.selectedSection;if(null!=t)return t;for(var r=0;r<e.length;r++)if(e[r].length>0)return r;return 0},i.componentDidMount=function(){this.focus()},i.render=function(){var e=this,t=this.props,r=t.theme,n=t.position,i=this.getRows(),l=[];if(0===i.reduce(function(e,t){return e+t.length},0))l.push(_("div",{className:h.default.empty},"empty",_("h4",{className:h.default.noResultsHeader},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_HEADER),_("p",{},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_BODY)));else{var s=this.state.selectedRow;this.props.sections.forEach(function(t,r){var n=i[r];if(0!==n.length){l.push(_("div",{className:h.default.section},r,t));var a=e.getSelectedSection(i);n.forEach(function(t,n){var i;l.push(_(u.default,{onClick:e.handleClick.bind(e,r,n),onMouseEnter:e.handleMouseEnter.bind(e,r,n),className:(0,o.default)(h.default.row,(i={},i[h.default.selected]=a===r&&s===n,i))},r+"-"+n,_("span",{},void 0,e.props.onRenderResult(t,r))))})}})}return _("div",{className:(0,o.default)(h.default.container,m(n))},void 0,_("div",{className:h.default.autocompleteShadow}),_("div",{className:h.default.autocompleteArrowWrapper},void 0,_("div",{className:h.default.autocompleteArrow})),_("header",{className:h.default.header},void 0,_("div",{className:h.default.autocompleteHeaderBackground}),_("h3",{className:h.default.headerText},void 0,this.props.label),a.createElement("input",{type:"text",className:h.default.input,placeholder:this.props.placeholder,ref:this.inputRef,onChange:this.handleChange,onKeyDown:this.handleKeyDown})),_("section",{className:h.default.sectionTag},void 0,_(f.default,{className:h.default.autocompleteScroller,fade:!0,theme:r===p.ThemeTypes.DARK?f.default.Themes.DARK:f.default.Themes.LIGHT,elementHeight:44},void 0,l)))},i.focus=function(){null!=this.inputRef.current&&this.inputRef.current.focus()},n}(a.Component);g.displayName="AutocompletePopout",g.defaultProps={sections:[null]};var O=i.default.connectStores([l.default],function(){return{theme:l.default.theme}})(g);t.default=O},7026:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=E(r(17)),l=E(r(7027)),u=E(r(166)),s=r(234),d=r(192),c=E(r(7251)),f=E(r(305)),p=E(r(158)),y=E(r(5862)),h=E(r(5964)),v=E(r(6549)),_=E(r(128)),m=E(r(426)),g=r(0),O=E(r(10)),A=E(r(5586)),I=E(r(5587));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var P={USER_POPOUT:"UserPopout",ACTIVITY_FEED:"ActivityFeed",PROFILE:"Profile"},N=64,M=160,C=((n={})[P.USER_POPOUT]=[108,60],n[P.PROFILE]=[162,90],n[P.ACTIVITY_FEED]=[900,500],n),R=r(253).getAssetImage;var L=(0,l.default)(function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){return b("div",{className:I.default.timestamp},void 0,this.props.message)},t}(o.PureComponent)),w=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleOpenSpotifyTrack=function(){var e=t.props,r=e.activity,n=e.onOpenSpotifyTrack;n&&n(r)},t.handleOpenSpotifyArtist=function(e){var r=t.props,n=r.activity,a=r.onOpenSpotifyArtist,o=r.user;a&&a(n,o.id,e)},t.handleOpenSpotifyAlbum=function(){var e=t.props,r=e.activity,n=e.onOpenSpotifyAlbum,a=e.user;n&&n(r,a.id)},t}T(t,e);var r,n,a,o=t.prototype;return o.getTypeClass=function(e,t){return(0,d.getClass)(I.default,e,this.props.type,t)},o.isStreamerOnTypeProfile=function(){return(0,s.isStreaming)(this.activity)&&this.props.type===P.PROFILE},o.isStreamerOnTypeActivityFeed=function(){return(0,s.isStreaming)(this.activity)&&this.props.type===P.ACTIVITY_FEED},o.renderHeader=function(e){var t,r=this.props,n=r.hideHeader,a=r.streamingGuild,o=this.activity.name;if(n)return null;switch(this.activity.type){case g.ActivityTypes.STREAMING:t=O.default.Messages.USER_ACTIVITY_HEADER_LIVE_ON_PLATFORM.format({platform:u.default.get(g.PlatformTypes.TWITCH).name});break;case g.ActivityTypes.LISTENING:t=O.default.Messages.USER_ACTIVITY_HEADER_LISTENING.format({name:o});break;case g.ActivityTypes.WATCHING:t=O.default.Messages.USER_ACTIVITY_HEADER_WATCHING.format({name:o});break;case g.ActivityTypes.PLAYING:t=(0,s.isOnXbox)(this.activity)?O.default.Messages.USER_ACTIVITY_HEADER_PLAYING_ON_PLATFORM.format({platform:u.default.get(g.PlatformTypes.XBOX).name}):O.default.Messages.USER_ACTIVITY_HEADER_PLAYING}return null!=a&&(t=O.default.Messages.USER_ACTIVITY_HEADER_STREAMING_TO_SERVER.format({server:a.name})),b(_.default,{className:(0,d.getClass)(I.default,"headerText",e?"EmptyBody":"Normal"),weight:_.default.Weights.BOLD,size:_.default.Sizes.SMALL},void 0,t)},o.renderXboxImage=function(){return b("div",{className:I.default.xboxAssets},void 0,b("img",{alt:"",src:u.default.get(g.PlatformTypes.XBOX).icon.color3d,className:(0,i.default)(this.getTypeClass("assetsLargeImage","Xbox"))}))},o.renderImage=function(){var e,t,r=this.props.type,n=this.activity,a=n.assets,o=n.application_id;if(null==a||null==a.large_image)return null;(0,s.isStreaming)(n)&&(t=C[r]);var l,u=b("img",{alt:a.large_text||"",src:R(o,a.large_image,t||[M,M]),className:(0,i.default)(this.getTypeClass("assetsLargeImage",this.isStreamerOnTypeProfile()||this.isStreamerOnTypeActivityFeed()?g.PlatformTypes.TWITCH:""),(e={},e[this.getTypeClass("assetsLargeMask")]=null!=a.small_image,e))});return(0,s.isListeningOnSpotify)(n)&&(u=b(f.default,{onClick:this.handleOpenSpotifyAlbum},void 0,u)),this.isStreamerOnTypeActivityFeed()&&n.url&&(u=b("div",{className:I.default.twitchImageContainer},void 0,b("div",{className:I.default.twitchImageOverlay},void 0,b("h3",{className:I.default.streamName},void 0,n.name),b("div",{className:I.default.streamGame},void 0,O.default.Messages.STREAMER_PLAYING.format({game:n.details}))),b(f.default,{className:I.default.twitchBackgroundImage,href:n.url},void 0,u))),null!=a.large_text&&(u=b(m.default,{text:a.large_text,position:m.default.Positions.TOP},void 0,u)),null!=a.small_image&&(l=b("img",{alt:a.small_text||"",src:R(o,a.small_image,[N,N]),className:this.getTypeClass("assetsSmallImage")}),null!=a.small_text&&(l=b(m.default,{text:a.small_text,position:m.default.Positions.TOP},void 0,l))),b("div",{className:I.default.assets},void 0,u,l)},o.renderGameImage=function(){var e=this.props,t=e.user,r=e.type,n=e.renderGameOpener,a=e.game;return(0,s.hasRichActivity)(this.activity)||this.activity.type!==g.ActivityTypes.PLAYING||r===P.ACTIVITY_FEED||t.bot?null:n(b(y.default,{className:I.default.gameIcon,game:a}),a,A.default.iconHover)},o.renderName=function(){var e=this.props,t=e.user,r=e.game,n=e.renderGameOpener;if(e.hideName)return null;var a=this.activity,o=(0,s.isGameActivity)(a),i=a.name,l=a.details,u=i;return o&&null!=r?i=n(b("span",{className:I.default.activityName},void 0,i),r,A.default.textHover):o||(u=l,i=l,(0,s.isListeningOnSpotify)(a)&&null!=a.sync_id&&null!=l&&(i=b(f.default,{className:I.default.bodyLink,onClick:this.handleOpenSpotifyTrack},void 0,l))),null==i?null:b(_.default,{title:u,weight:_.default.Weights.SEMIBOLD,className:(0,d.getClass)(I.default,"name",t.bot||this.isStreamerOnTypeProfile()?"wrap":"normal")},void 0,i)},o.renderDetails=function(){var e=this,t=this.activity,r=t.details,n=t.state,a=r,o=r;if(!(0,s.isGameActivity)(t)&&(o=a=n,(0,s.isListeningOnSpotify)(t)&&null!=n)){a=O.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:o,artistsHook:function(r,a){return b(v.default,{artists:n,linkClassName:I.default.bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},a)}})}return null==a||0===a.length?null:((0,s.isStreaming)(t)&&(a=O.default.Messages.STREAMER_PLAYING.format({game:a})),b("div",{title:o,className:(0,s.isStreaming)(t)||(0,s.isListeningOnSpotify)(t)?I.default.detailsWrap:I.default.details},void 0,a))},o.renderTimePlayed=function(){var e=this.props.streamingGuild,t=this.activity;if(!(0,s.isGameActivity)(t)||(0,s.isListeningOnSpotify)(t))return null;var r=t.timestamps;return null==r?null:(0,s.hasRichActivity)(t)?b(L,{timestamps:r}):b(h.default,{start:r.start,end:r.end,location:h.default.Locations.USER_ACTIVITY,className:I.default.playTime,isApplicationStreaming:null!=e})},o.renderTimeBar=function(){var e=this.activity;if(!(0,s.isListeningOnSpotify)(e))return null;var t=e.timestamps;if(null==t)return null;var r=t.start,n=t.end;return null==r||null==n?null:b(c.default,{start:r,end:n,className:this.getTypeClass("timeBar")})},o.renderState=function(){var e,t=this,r=this.activity,n=r.state,a=r.party,o=r.assets,i=n,l=i;if(!(0,s.isGameActivity)(r)){if(null==o||null==o.large_text)return null;if(i=o.large_text,l=i,(0,s.isListeningOnSpotify)(r)){i=O.default.Messages.USER_ACTIVITY_LISTENING_ALBUM.format({album:l,albumHook:function(e,n){return null!=r.sync_id&&null!=l?b(f.default,{className:I.default.bodyLink,onClick:t.handleOpenSpotifyAlbum},n,l):l}})}}return null==i||0===i.length?null:(null!=a&&null!=a.size&&a.size.length>=2&&(e=O.default.Messages.USER_ACTIVITY_STATE_SIZE.format({count:a.size[0],max:a.size[1]})),b("div",{className:I.default.state},void 0,b("span",{title:l},void 0,i),null!=e?b("span",{},void 0," ",e):null))},o.render=function(){var e=this.props,t=e.type,r=e.renderActions,n=e.streamingGuild,a=e.className,o=this.activity;if(null==o)return null;var l,u=t===P.USER_POPOUT,c=t===P.PROFILE,f=t===P.ACTIVITY_FEED,y=!1;(0,s.isOnXbox)(o)?(l=this.renderXboxImage(),y=!0):null==(l=this.renderImage())&&(y=null!=(l=this.renderGameImage()));var h=this.renderName(),v=this.renderDetails(),_=this.renderState(),m=this.renderTimePlayed(),g=null!=r?r():null,O=this.renderTimeBar(),A=c||(0,s.isGameActivity)(this.props.activity)||null==n,E=![l,h,v,_,m,O,g].some(function(e){return null!=e});return b("div",{className:(0,i.default)(this.getTypeClass("activity"),a)},void 0,this.renderHeader(E),A?b("div",{className:y?I.default.bodyAlignCenter:I.default.bodyNormal},void 0,l,this.isStreamerOnTypeActivityFeed()?null:b(p.default.Child,{className:(0,i.default)((0,d.getClass)(I.default,"content",y?"GameImage":null!=l?"Images":"NoImages",t))},void 0,h,v,_,m,u?null:O,f?g:null),c?g:null):null,u?O:null,u?g:null)},r=t,(n=[{key:"activity",get:function(){var e=this.props,t=e.activity;return null==e.streamingGuild||(0,s.isGameActivity)(t)?t:{type:g.ActivityTypes.PLAYING,name:O.default.Messages.UNKNOWN_GAME}}}])&&S(r.prototype,n),a&&S(r,a),t}(o.PureComponent);w.displayName="UserActivity",w.Types=P;var D=w;t.default=D},7027:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function u(e){var r;return(r=t.call(this,e)||this)._interval=new o.Interval,r.state=l({},r.getUpdatedTime()),r}n=t,(r=u).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var d=u.prototype;return d.componentDidMount=function(){var e=this;this._interval.start(1e3,function(){return e.setState(e.getUpdatedTime())})},d.componentWillUnmount=function(){this._interval.stop()},d.componentDidUpdate=function(e){e.timestamps.end===this.props.timestamps.end&&e.timestamps.start===this.props.timestamps.start||this.setState(this.getUpdatedTime())},d.getUpdatedTime=function(){var e=this.props.timestamps,t=Date.now()/1e3;return null!=e.end?this.getDiff(t,s(e.end)/1e3):null!=e.start?this.getDiff(s(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}},d.renderTime=function(e,t){return void 0===t&&(t=!1),t&&e<=0?-1:e<10?"0"+e:e},d.getDiff=function(e,t){var r=Math.max(t-e,0),n=Math.floor(r)%60,a=Math.floor(r/60)%60,o=Math.floor(r/3600)%24;return{hours:o,minutes:a,seconds:n}},d.render=function(){var t=this.props,r=t.timestamps,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["timestamps"]),o=this.state,u=o.hours,s=o.minutes,d=o.seconds,c={hours:this.renderTime(u,!0),minutes:this.renderTime(s),seconds:this.renderTime(d)};return null!=r.end?a.createElement(e,l({},n,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_END.format(c)})):null!=r.start?a.createElement(e,l({},n,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_START.format(c)})):null},u}(a.PureComponent)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(59),i=(n=r(10))&&n.__esModule?n:{default:n};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=13;function s(e){return(""+e).length<u?1e3*e:e}},7028:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(828))&&n.__esModule?n:{default:n},o=r(0);var i=(0,a.default)(o.Experiments.AF2_TRENDING_APPLICATIONS,"AF2 Trending Games","Test the effect of showing news for trending games on new user habits in AF");t.default=i},7029:function(e,t,r){"use strict";t.__esModule=!0,t.sync=function(e,t,r){return c.apply(this,arguments)},t.ConflictError=void 0;var n=l(r(1)),a=l(r(67)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(912)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}var s=a.default.create("CloudSync"),d=function(e){this.message=e};function c(){var e;return e=regeneratorRuntime.mark(function e(t,r,a){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=null),n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_START,applicationId:t,branchId:r}),e.prev=2,e.next=5,o.syncApplication(t,r,a);case 5:if((l=e.sent).type!==i.CloudSyncResultTypes.CONFLICT){e.next=11;break}throw n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_CONFLICT,applicationId:t,branchId:r,next:l.next,remote:l.remote}),new d("Conflict in cloud sync.");case 11:l.type!==i.CloudSyncResultTypes.PULL&&l.type!==i.CloudSyncResultTypes.PUSH||s.info("Sync complete",l);case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(2),!(e.t0 instanceof d)){e.next=18;break}throw e.t0;case 18:throw n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_ERROR,applicationId:t,branchId:r}),s.error("Failed to cloud sync:",e.t0),new Error("Failed to cloud sync.");case 21:return n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_COMPLETE,applicationId:t,branchId:r}),e.abrupt("return",l);case 23:case"end":return e.stop()}},e,null,[[2,14]])}),(c=function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,l,"next",e)}function l(e){u(o,n,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}t.ConflictError=d},7030:function(e,t,r){"use strict";t.__esModule=!0,t.addInstallLocation=function(e){a.default.queryDirectory(e,function(t,r){null==t&&null!=r&&n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:r})})},t.removeInstallLocation=function(e){n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})},t.updateInstallLocation=function(e,t){var r=t.label,a=t.isDefault;n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:r,isDefault:a})},t.fetchMetadata=function(e){var t={},r=0,i=function(){if(u){if(s>=l.length)return"break";d=l[s++]}else{if((s=l.next()).done)return"break";d=s.value}var i=d;if(null==i||"string"!=typeof i)return"continue";a.default.queryDirectory(i,function(a,l){++r,null==a&&null!=l&&(t[i]=l),r===e.length&&n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:t})})};e:for(var l=e,u=Array.isArray(l),s=0,l=u?l:l[Symbol.iterator]();;){var d,c=i();switch(c){case"break":break e;case"continue":continue}}};var n=i(r(1)),a=i(r(350)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}},7031:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),a=l(r(1)),o=l(r(7263)),i=l(r(42));r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=[],d=!1,c=null,f=i.default.locale;function p(){s=[],c=null}var y=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,l,p=n.prototype;return p.initialize=function(){this.waitFor(i.default),f=i.default.locale},p.shouldFetch=function(){return null==c||Date.now()>c+6e5},a=n,(o=[{key:"promotions",get:function(){return s}},{key:"loaded",get:function(){return d}}])&&u(a.prototype,o),l&&u(a,l),n}(n.default.Store))(a.default,{PROMOTIONS_FETCH_START:function(e){d=!1},PROMOTIONS_FETCH_SUCCESS:function(e){var t=e.promotions;s=t.slice(0,1).map(o.default.createFromServer),c=Date.now(),d=!0},PROMOTIONS_FETCH_FAIL:function(e){d=!0},USER_SETTINGS_UPDATE:function(e){return function(){if(f===i.default.locale)return!1;f=i.default.locale,p()}()},LOGOUT:function(e){return p()}});t.default=y},7032:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=i(r(17)),o=i(r(5600));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=function(e){var t=e.aspectRatio,r=e.className,n=e.children;return l("div",{className:(0,a.default)(o.default.outer,r),style:{paddingTop:1/t*100+"%"}},void 0,l("div",{className:o.default.inner},void 0,n))};u.displayName="AspectRatioSizer";var s=u;t.default=s},7033:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=s(r(304)),l=s(r(803)),u=s(r(5601));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={friction:7,tension:40,overshootClamping:!0},p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this)._animated=new i.default.Value(-1*t.getDirection()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentWillEnter=function(e){this._animated.setValue(-this.props.getDirection()),i.default.spring(this._animated,c({toValue:0},f)).start(e)},a.componentDidAppear=function(){this._animated.setValue(0)},a.componentWillLeave=function(e){i.default.spring(this._animated,c({toValue:this.props.getDirection()},f)).start(e)},a.getStyle=function(){return i.default.accelerate({transform:[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]})},a.render=function(){return d(i.default.div,{style:this.getStyle(),className:u.default.item},void 0,this.props.children)},n}(a.PureComponent);p.displayName="Item";var y=function(e){var t=e.children,r=e.step,n=e.getDirection,a=e.className;return d(l.default,{component:"div",className:(0,o.default)(u.default.animator,a)},void 0,d(p,{getDirection:n},r,t))};y.displayName="SlideAnimator";var h=y;t.default=h},7034:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=T(r(2)),o=b(r(17)),i=b(r(3)),l=T(r(303)),u=b(r(5851)),s=b(r(321)),d=b(r(167)),c=b(r(35)),f=b(r(60)),p=b(r(246)),y=b(r(112)),h=b(r(231)),v=b(r(302)),_=b(r(5911)),m=b(r(426)),g=T(r(5910)),O=b(r(8)),A=b(r(6022)),I=r(0),E=b(r(10)),S=b(r(5606));function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function P(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleDropdownClick=function(e){e.stopPropagation();var r=t.props,n=r.libraryApplication,o=r.onDropdownOpen,i=r.onDropdownClose,u=r.analyticsContext;if(o&&o(e),null==n)throw new Error("Unexpected missing libraryApplication");l.openContextMenu(e,function(e){return a.createElement(A.default,N({},e,{type:I.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS,applicationId:n.id,branchId:n.branchId,onPlay:t.handleClick,analyticsContext:u}))},{onClose:i})},t.handleClick=function(e){var r=t.props,n=r.applicationId,a=r.libraryApplication,o=r.analyticsListSort,i=r.analyticsListIndex,l=r.onClick;g.playApplication(n,a,{analyticsParams:{location:t.analyticsLocation,list_sort:o,list_index:i}}),l&&l(e)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,u,s,d=n.prototype;return d.renderDropdown=function(){var e=this.props.dispatchState;return null!=e&&null!=e.launchOptions&&Object.keys(e.launchOptions).length>1?P(h.default,{"aria-label":E.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_OPTIONS,className:S.default.dropdownArrowHitbox,onClick:this.handleDropdownClick},void 0,P("div",{className:S.default.arrowSeparator}),P(v.default,{name:v.default.Names.ARROW_DROP_DOWN,className:S.default.dropdownArrow})):null},d.renderDisabledButton=function(e,t){var r=this.props,n=r.className,a=r.fullWidth,o=r.size,i=r.customDisabledColor,l=r.tooltipPosition;return P("div",{className:S.default.disabledButtonWrapper},void 0,P(y.default,{className:n,fullWidth:a,size:o,color:null!=i?i:S.default.disabledButtonColor,disabled:!0},void 0,e),P(m.default,{text:t,position:l},void 0,P("div",{className:S.default.disabledButtonOverlay})))},d.render=function(){var e=this.props,t=e.className,r=e.fullWidth,n=e.size,a=e.color,i=e.isLaunchable,l=e.isLaunching,u=e.isRunning,s=e.isShiny,d=e.hideNotLaunchable;return i?u?this.renderDisabledButton(E.default.Messages.GAME_ACTION_BUTTON_NOW_PLAYING):P(s?_.default:y.default,{className:(0,o.default)(S.default.playButton,t),innerClassName:S.default.playButtonContents,fullWidth:r,size:n,color:null!=a?a:y.default.Colors.GREEN,hover:null!=a?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:l,onClick:this.handleClick},void 0,P("div",{className:S.default.buttonText},void 0,E.default.Messages.GAME_ACTION_BUTTON_PLAY),this.renderDropdown()):d?null:this.renderDisabledButton(E.default.Messages.GAME_ACTION_BUTTON_PLAY,O.default.embedded?E.default.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED:E.default.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP)},i=n,(u=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:I.AnalyticsObjects.BUTTON_CTA})}}])&&M(i.prototype,u),s&&M(i,s),n}(a.PureComponent);C.displayName="ApplicationPlayButton",C.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,tooltipPosition:m.default.Positions.TOP,isShiny:!1,hideNotLaunchable:!1};var R=(0,u.default)(i.default.connectStores([c.default,f.default,p.default,s.default],function(e){var t=e.applicationId,r=e.libraryApplication,n=new Set(f.default.getRunningVerifiedApplicationIds());return{isLaunchable:s.default.isConnected(t)||c.default.isLaunchable(t)||null!=r&&d.default.isLaunchable(r.id,r.branchId),isLaunching:c.default.launchingGames.has(t),isRunning:n.has(t),dispatchState:null!=r?d.default.getState(r.id,r.branchId):null}})(C));t.default=R},7035:function(e,t,r){"use strict";t.__esModule=!0,t.fetchAccounts=function(e){return Promise.all(e.map(_)).then(n.default.flatten)};var n=l(r(6)),a=l(r(24)),o=l(r(8)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="InProgressContactImports",s=1,d={},c=!1;function f(e,t){t?d[e]=!0:delete d[e],0===Object.keys(d).length?a.default.remove(u):a.default.set(u,{version:s,potentiallyFailedFetches:d})}function p(e){var t=e.platform,r=e.username,n=e.name;switch(t){case i.PlatformTypes.BATTLENET:case i.PlatformTypes.SKYPE:return r;default:return n}}function y(e){var t=e.username,r=e.name,n=e.friend_id_hashes;return r&&t&&n.length>0}function h(e){return function(){if(!c){var e=a.default.get(u);c=!0,e&&e.version===s&&(d=e.potentiallyFailedFetches)}}(),new Promise(function(t){o.default.ensureModule("discord_contact_import").then(function(){return o.default.requireModule("discord_contact_import")}).then(function(r){r.isAvailable(e)&&!function(e){return!0===d[e]}(e)?(f(e,!0),r.fetch(e,{debug:!1},function(r,n){f(e,!1),n||(n=[]),t(n.filter(y).map(function(e){return{id:e.username,idHash:e.id_hash,type:e.platform,name:p(e),friendIdHashes:e.friend_id_hashes,resultHash:e.result_hash}}))})):t([])},function(){return t([])})})}var v={};function _(e){var t=null!=v[e];return null==v[e]&&(v[e]=[]),new Promise(function(r,n){if(v[e].push({resolve:r,reject:n}),!t){var a=function(t,r){var n=v[e];delete v[e],n&&n.forEach(function(e){return e[t](r)})};h(e).then(function(e){return a("resolve",e)},function(e){return a("reject",e)})}})}},7036:function(e,t,r){"use strict";(function(e){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.__esModule=!0,t.default=void 0;var n=function(){function t(e){this._running=!1,this._callback=e}var n,a,o,i=t.prototype;return i.start=function(e){var t=this;this.stop(),this._ref=setInterval(function(){return t._run(!1)},e)},i.stop=function(){null!=this._ref&&(clearInterval(this._ref),this._ref=null,this._running=!1)},i.run=function(){var t=this;e(function(){return t._run(!0)})},i._run=function(e){var t=this;this._running||(this._running=!0,this._callback(function(){t._running=!1},e))},n=t,(a=[{key:"running",get:function(){return this._running}}])&&r(n.prototype,a),o&&r(n,o),t}();t.default=n}).call(this,r(30).setImmediate)},7199:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=I(r(797)),o=(I(r(798)),I(r(5850))),i=I(r(3)),l=r(303),u=I(r(801)),s=I(r(133)),d=I(r(11)),c=I(r(20)),f=I(r(99)),p=I(r(159)),y=I(r(132)),h=I(r(6151)),v=r(437),_=I(r(102)),m=I(r(5848)),g=I(r(5946)),O=r(0),A=I(r(10));function I(e){return e&&e.__esModule?e:{default:e}}function E(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var S=(0,a.default)({displayName:"GuildVoiceMoveToItem",mixins:[i.default.LazyStoreListenerMixin(f.default,y.default,c.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.guildId,r=e.user,n=y.default.getCurrentVoiceChannelId(t,r.id),a=n?c.default.getChannel(n):null;return{voiceChannels:f.default.getChannels(t)[O.ChannelTypes.GUILD_VOICE],currentVoiceChannel:a}},checkPermissionsForCurrentUser:function(e){if(!p.default.can(O.Permissions.CONNECT,e))return!1;if(p.default.can(O.Permissions.MOVE_MEMBERS,e))return!0;var t=e.getGuildId(),r=null!=t?h.default.getVoiceStatesForChannel(t,e.id):[];return!(0,v.isChannelFull)(e,r.length)},checkPermissionsForOtherUser:function(e){return function(t){return p.default.can(O.Permissions.MOVE_MEMBERS,t)&&(p.default.can(O.Permissions.CONNECT,t)||_.default.can(O.Permissions.CONNECT,e,t))}},getTargetChannels:function(){var e=this.props.user,t=this.state,r=t.voiceChannels,n=t.currentVoiceChannel,a=e.id===d.default.getId();if(null==n)throw new Error("[App]GuildVoiceMoveToItem.getTargetChannels(): assert failed: currentVoiceChannel != null");if(!a&&!p.default.can(O.Permissions.MOVE_MEMBERS,n))return[];var o=a?this.checkPermissionsForCurrentUser:this.checkPermissionsForOtherUser(e);return r.filter(function(e){var t=e.channel;return t.id!==n.id&&o(t)})},render:function(){var e=this,t=this.props.invertChildY;if(!this.state.currentVoiceChannel)return null;var r=this.getTargetChannels();if(0===r.length)return null;var n=r.map(function(t){var r=t.channel;return E(m.default,{action:function(){return e.handleChannelMove(r)},label:r.toString()},r.id)});return E(g.default,{label:A.default.Messages.MOVE_TO,invertChildY:t,render:n})},handleChannelMove:function(e){(0,l.closeContextMenu)(),this.props.user.id===d.default.getId()?s.default.selectVoiceChannel(this.props.guildId,e.id):u.default.setChannel(this.props.guildId,this.props.user.id,e.id)}}),b=i.default.connectStores([p.default],function(e){var t=e.guildId;return{permissionVersion:p.default.getGuildVersion(t)}})(S);t.default=b},7200:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=_(r(797)),i=(_(r(798)),_(r(5850))),l=_(r(3)),u=r(303),s=_(r(73)),d=_(r(834)),c=_(r(87)),f=_(r(14)),p=_(r(128)),y=_(r(5848)),h=_(r(433)),v=_(r(10));function _(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var O=(0,o.default)({displayName:"UserAddFriendItem",mixins:[l.default.StoreListenerMixin(c.default),i.default],getInitialState:function(){return{requestSent:!1}},getStateFromStores:function(){var e=this.props.user.id;return{me:f.default.getCurrentUser().id===e,isFriend:c.default.isFriend(e),isBlocked:c.default.isBlocked(e)}},render:function(){if(this.props.user.bot)return null;var e=null;if(!this.state.me){var t=v.default.Messages.ADD_FRIEND;this.state.isFriend?t=v.default.Messages.REMOVE_FRIEND:this.state.requestSent&&(t=v.default.Messages.ADD_FRIEND_BUTTON_AFTER),e=g(y.default,{label:t,action:this.handleToggleFriend,disabled:this.state.isBlocked||this.state.requestSent&&!this.state.isFriend})}return e},handleToggleFriend:function(){var e=this;this.state.requestSent||(this.state.isFriend?((0,u.closeContextMenu)(),s.default.push(function(t){return a.createElement(h.default,m({header:v.default.Messages.REMOVE_FRIEND_TITLE.format({name:e.props.user.username}),confirmText:v.default.Messages.REMOVE_FRIEND,cancelText:v.default.Messages.CANCEL,onConfirm:e.performRemoval},t),g(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,v.default.Messages.REMOVE_FRIEND_BODY.format({name:e.props.user.username})))})):(d.default.addRelationship(this.props.user.id,{location:"ContextMenu"}),this.setState({requestSent:!0})))},performRemoval:function(){d.default.removeRelationship(this.props.user.id,{location:"ContextMenu"}),this.setState({requestSent:!1})}});t.default=O},7201:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=A(r(3)),i=r(303),l=A(r(801)),u=A(r(73)),s=A(r(6070)),d=A(r(23)),c=A(r(159)),f=A(r(14)),p=A(r(132)),y=A(r(5853)),h=A(r(5848)),v=A(r(5874)),_=A(r(7202)),m=A(r(7223)),g=r(0),O=A(r(10));function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleToggleServerMute=function(){var e=t.props,r=e.user,n=e.guildId,a=e.mute,o=e.suppress;l.default.setServerMute(n,r.id,!(a||o))},t.handleToggleServerDeaf=function(){var e=t.props,r=e.user,n=e.guildId,a=e.deaf;l.default.setServerDeaf(n,r.id,!a)},t.handleVoiceDisconnect=function(){var e=t.props,r=e.guildId,n=e.user;l.default.setChannel(r,n.id,null),(0,i.closeContextMenu)()},t.handleKick=function(){var e=t.props,r=e.user,n=e.guildId;u.default.push(function(e){return a.createElement(m.default,E({},e,{guildId:n,user:r}))}),(0,i.closeContextMenu)()},t.handleBan=function(){var e=t.props,r=e.user,n=e.guildId;u.default.push(function(e){return a.createElement(_.default,E({},e,{guildId:n,user:r}))}),(0,i.closeContextMenu)()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.channelId,r=e.user,n=e.guild,a=e.me,o=e.mute,i=e.deaf,l=e.suppress,u=e.isVoiceConnected,s=null,d=null,f=null,p=null,_=null;return u&&(c.default.can(g.Permissions.MUTE_MEMBERS,{channelId:t})&&(s=I(v.default,{danger:!0,label:O.default.Messages.SERVER_VOICE_MUTE,action:this.handleToggleServerMute,active:o||l})),c.default.can(g.Permissions.DEAFEN_MEMBERS,{channelId:t})&&(d=I(v.default,{danger:!0,label:O.default.Messages.SERVER_DEAFEN,action:this.handleToggleServerDeaf,active:i}))),a||null==n||(u&&c.default.can(g.Permissions.MOVE_MEMBERS,{channelId:t})&&(f=I(h.default,{danger:!0,label:O.default.Messages.DISCONNECT,action:this.handleVoiceDisconnect})),c.default.canManageUser(g.Permissions.KICK_MEMBERS,r,n)&&(p=I(h.default,{danger:!0,label:O.default.Messages.KICK+" "+r.username,action:this.handleKick})),c.default.canManageUser(g.Permissions.BAN_MEMBERS,r,n)&&(_=I(h.default,{danger:!0,label:O.default.Messages.BAN+" "+r.username,action:this.handleBan}))),I(y.default,{},void 0,s,d,f,p,_)},n}(a.Component);S.displayName="UserAdminItemGroup";var b=o.default.connectStores([f.default,p.default,d.default,c.default],function(e){var t=e.user,r=e.guildId,n=f.default.getCurrentUser()===t,a=!1,o=!1,i=!1,l=!1,u=p.default.getVoiceState(r,t.id);return null!=u&&(a=u.mute,o=u.deaf,i=u.suppress,l=null!=u.channelId),{guild:d.default.getGuild(r),me:n,mute:a,deaf:o,suppress:i,isVoiceConnected:l}})(S),T=(0,s.default)(function(e){var t,r=e.user;return(t={})[e.guildId]=[r.id],t})(b);t.default=T},7202:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(801)),i=p(r(5858)),l=p(r(6152)),u=p(r(432)),s=p(r(433)),d=r(0),c=p(r(10)),f=p(r(5573));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=[{value:"0",label:c.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE},{value:"1",label:c.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR},{value:"7",label:c.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D}],m=1,g=function(e){var t,n;function p(t){var r;return v(r=e.call(this,t)||this).handleSubmit=r.handleSubmit.bind(v(r)),v(r).handleChangeDeleteDuration=r.handleChangeDeleteDuration.bind(v(r)),v(r).handleChangeReason=r.handleChangeReason.bind(v(r)),r.state={duration:_[m].value,reason:""},r}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=p.prototype;return g.handleSubmit=function(){var e=this.props,t=e.guildId,r=e.user,n=this.state,a=n.duration,i=n.reason;o.default.banUser(t,r.id,a,i)},g.handleChangeDeleteDuration=function(e){var t=e.value;this.setState({duration:t})},g.handleChangeReason=function(e){this.setState({reason:e})},g.render=function(){var e=this.state,t=e.duration,n=e.reason,o=this.props,p=o.user,v=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(o,["user"]);return a.createElement(s.default,y({header:c.default.Messages.BAN_CONFIRM_TITLE.format({username:"@"+p.toString()}),confirmText:c.default.Messages.BAN,cancelText:c.default.Messages.CANCEL,onConfirm:this.handleSubmit,red:!0},v),h("video",{autoPlay:!0,loop:!0,className:f.default.spacing,width:400},void 0,h("source",{src:r(7220),type:"video/webm"}),h("source",{src:r(7221),type:"video/mp4"}),h("img",{alt:"",src:r(7222)})),h(u.default,{title:c.default.Messages.FORM_LABEL_DELETE_MESSAGE_HISTORY,className:f.default.spacing},void 0,h(i.default,{clearable:!1,searchable:!1,options:_,value:t,onChange:this.handleChangeDeleteDuration})),h(u.default,{title:c.default.Messages.FORM_LABEL_REASON_BAN,className:f.default.spacing},void 0,h(l.default,{maxLength:d.MAX_REASON_LENGTH,onChange:this.handleChangeReason,value:n,rows:2})))},p}(a.PureComponent);g.displayName="BanConfirm";var O=g;t.default=O},7220:function(e,t,r){e.exports=r.p+"62ac6016dc438a1fe4926ed43d3fe280.webm"},7221:function(e,t,r){e.exports=r.p+"6b3cc6ff5c09de83cc37561a43304dee.mp4"},7222:function(e,t,r){e.exports=r.p+"1923b5f96b83785235595042bd7f5a0d.png"},7223:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(801)),i=p(r(128)),l=p(r(6152)),u=p(r(432)),s=p(r(433)),d=r(0),c=p(r(10)),f=p(r(5574));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,r;function n(t){var r;return v(r=e.call(this,t)||this).handleReasonChange=r.handleReasonChange.bind(v(r)),v(r).handleKick=r.handleKick.bind(v(r)),r.state={reason:""},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=n.prototype;return p.render=function(){var e=this.props.user;return a.createElement(s.default,y({header:c.default.Messages.KICK_USER_TITLE.format({user:e.username}),confirmText:c.default.Messages.KICK,cancelText:c.default.Messages.CANCEL,onConfirm:this.handleKick,red:!0},this.props),h(i.default,{size:i.default.Sizes.MEDIUM,color:i.default.Colors.PRIMARY,className:f.default.spacing},void 0,c.default.Messages.KICK_USER_BODY.format({user:"@"+e.toString()})),h(u.default,{title:c.default.Messages.FORM_LABEL_REASON_KICK,className:f.default.spacing},void 0,h(l.default,{maxLength:d.MAX_REASON_LENGTH,onChange:this.handleReasonChange,value:this.state.reason,rows:2})))},p.handleReasonChange=function(e){this.setState({reason:e})},p.handleKick=function(){var e=this.props,t=e.guildId,r=e.user;o.default.kickUser(t,r.id,this.state.reason)},n}(a.PureComponent);_.displayName="KickConfirm";var m=_;t.default=m},7224:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=m(r(797)),i=(m(r(798)),m(r(5850))),l=m(r(3)),u=r(303),s=m(r(73)),d=m(r(834)),c=m(r(87)),f=m(r(14)),p=m(r(128)),y=m(r(5848)),h=m(r(433)),v=r(0),_=m(r(10));function m(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A=(0,o.default)({displayName:"UserBlockItem",mixins:[l.default.StoreListenerMixin(c.default,f.default),i.default],getStateFromStores:function(){var e=this.props.user.id;return{me:f.default.getCurrentUser().id===e,isBlocked:c.default.isBlocked(e),isFriend:c.default.isFriend(e)}},render:function(){return this.state.me?null:O(y.default,{label:this.state.isBlocked?_.default.Messages.UNBLOCK:_.default.Messages.BLOCK,action:this.handleBlock})},handleBlock:function(){var e=this;(0,u.closeContextMenu)(),this.state.isBlocked?d.default.removeRelationship(this.props.user.id,{location:"ContextMenu"}):s.default.push(function(t){return a.createElement(h.default,g({header:_.default.Messages.CONFIRM_USER_BLOCK_TITLE.format({name:e.props.user.username}),confirmText:_.default.Messages.BLOCK,cancelText:_.default.Messages.CANCEL,onConfirm:e.performBlock},t),O(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,_.default.Messages.CONFIRM_USER_BLOCK_BODY.format({name:e.props.user.username})))})},performBlock:function(){d.default.addRelationship(this.props.user.id,{location:"ContextMenu"},v.RelationshipTypes.BLOCKED)}});t.default=A},7225:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=d(r(430)),i=r(303),l=d(r(11)),u=d(r(5848)),s=d(r(10));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleCall=function(){(0,i.closeContextMenu)(),o.default.openPrivateChannel(l.default.getId(),t.props.userId,!0)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return l.default.getId()===this.props.userId?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.CALL,action:this.handleCall})},a}(a.PureComponent);t.default=c,c.displayName="UserCallItem"},7226:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=c(r(430)),i=r(303),l=c(r(20)),u=c(r(5848)),s=r(0),d=c(r(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClose=function(){o.default.closePrivateChannel(t.props.channelId,t.props.selected),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=l.default.getChannel(this.props.channelId);return null==e||e.type===s.ChannelTypes.GROUP_DM?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.CLOSE_DM,action:this.handleClose})},a}(a.PureComponent);f.displayName="UserCloseChatItem";var p=f;t.default=p},7227:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=I(r(797)),o=I(r(6)),i=(I(r(798)),I(r(5850))),l=I(r(3)),u=I(r(430)),s=I(r(311)),d=I(r(162)),c=I(r(20)),f=I(r(99)),p=I(r(159)),y=I(r(87)),h=I(r(441)),v=I(r(14)),_=r(196),m=I(r(5848)),g=I(r(5946)),O=r(0),A=I(r(10));function I(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b=(0,a.default)({displayName:"UserInviteItem",mixins:[i.default],getInitialState:function(){return{guilds:h.default.getSortedGuilds().map(function(e){return e.guild}),currentUser:v.default.getCurrentUser(),invitedGuilds:{}}},render:function(){var e=this.props,t=e.user,r=e.guildId,n=this.state,a=n.currentUser,o=n.guilds,i=1===o.length&&o[0].id===r;return a.id===t.id||t.bot||i||y.default.isBlocked(t.id)?null:S(g.default,{label:A.default.Messages.INVITE_TO_SERVER,render:this.renderSubMenuItems})},renderSubMenuItems:function(){var e=this,t=this.props,r=t.user,n=t.guildId,a=this.state,i=a.guilds,l=a.currentUser,u=a.invitedGuilds;return(0,o.default)(i).filter(function(e){return(0,_.canViewInviteModal)(e,e)&&e.id!==n}).map(function(t){return u[t.id]?S(m.default,{disabled:!0,label:A.default.Messages.INVITE_SENT},t.id):S(m.default,{label:t.name,action:function(){return e.handleInvite(t,l.id,r.id)}},t.id)}).value()},handleInvite:function(e,t,r){var n,a=f.default.getDefaultChannel(e.id);if(null!=a){var o,i=this.state.invitedGuilds;if(this.setState({invitedGuilds:E({},i,(n={},n[e.id]=!0,n))}),p.default.can(O.Permissions.CREATE_INSTANT_INVITE,e))s.default.createInvite(a.id,(o={},o.max_uses=1,o.unique=!0,o),"User Invite Context Menu").then(function(e){var n=e.body;u.default.ensurePrivateChannel(t,r).then(function(e){var t=c.default.getChannel(e);null!=t&&d.default.sendInvite(t.id,n.code,"context_menu")})});else u.default.ensurePrivateChannel(t,r).then(function(t){var r=c.default.getChannel(t);null!=r&&d.default.sendInvite(r.id,e.vanityURLCode,"context_menu")})}}}),T=l.default.connectStores([p.default],function(){return{guildsPermissionState:p.default.getState().guilds}})(b);t.default=T},7228:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=r(37),l=f(r(235)),u=f(r(43)),s=f(r(14)),d=f(r(5874)),c=f(r(10));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggleMute=function(){var e=t.props,r=e.me,n=e.userId,a=e.mediaEngineContext;r?l.default.toggleSelfMute(a):l.default.toggleLocalMute(n,a)},t.handleToggleDeaf=function(){var e=t.props,r=e.me,n=e.mediaEngineContext;r&&l.default.toggleSelfDeaf(n)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.me,r=e.localMute,n=e.selfDeafen;return p("div",{},void 0,p(d.default,{label:c.default.Messages.SOUND_MUTE,action:this.handleToggleMute,active:r}),t?p(d.default,{label:c.default.Messages.DEAFEN,action:this.handleToggleDeaf,active:n}):null)},n}(a.PureComponent);y.displayName="UserLocalMuteDeafenItem",y.defaultProps={mediaEngineContext:i.MediaEngineContextTypes.DEFAULT};var h=o.default.connectStores([u.default,s.default],function(e){var t=e.userId,r=e.mediaEngineContext,n=s.default.getCurrentUser().id===t,a=!1,o=!1;return n?(a=!u.default.isEnabled()||u.default.isSelfMute(r),o=u.default.isSelfDeaf(r)):a=u.default.isLocalMute(t,r),{me:n,localMute:a,selfDeafen:o}})(y);t.default=h},7229:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=_(r(797)),o=(_(r(798)),_(r(5850))),i=_(r(3)),l=r(303),u=_(r(5987)),s=_(r(20)),d=_(r(159)),c=_(r(50)),f=_(r(306)),p=r(113),y=_(r(5848)),h=r(0),v=_(r(10));function _(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"UserMentionItem",mixins:[i.default.LazyStoreListenerMixin(c.default,s.default,d.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getChannelId(this.props.guildId),t=s.default.getChannel(e);return{channelId:e,canSendMessages:null!=t&&(t.isGroupDM()||d.default.can(h.Permissions.SEND_MESSAGES,t))}},render:function(){return this.state.canSendMessages?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(y.default,{label:v.default.Messages.MENTION,action:this.handleMention}):null},handleMention:function(){var e=this.props.user,t=e.username,r=e.discriminator;(0,l.closeContextMenu)();var n="@"+t;f.default.hidePersonalInformation||(n+="#"+r),p.ComponentDispatch.dispatchToLastSubscribed(h.ComponentActions.INSERT_TEXT,{content:n}),null!=this.state.channelId&&u.default.startTyping(this.state.channelId)}});t.default=m},7230:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=c(r(430)),i=r(303),l=r(808),u=c(r(11)),s=c(r(5848)),d=c(r(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={currentUserId:u.default.getId()},t.handleMessage=function(){(0,i.closeContextMenu)(),o.default.openPrivateChannel(t.state.currentUserId,t.props.userId),(0,l.popLayer)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=null;return this.state.currentUserId!==this.props.userId&&(e=function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.USER_POPOUT_MESSAGE,action:this.handleMessage})),e},a}(a.PureComponent);f.displayName="UserMessageItem";var p=f;t.default=p},7231:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=_(r(2)),o=v(r(797)),i=(v(r(798)),v(r(5850))),l=v(r(3)),u=r(303),s=v(r(11)),d=v(r(5257)),c=v(r(306)),f=_(r(795)),p=v(r(5848)),y=v(r(5237)),h=v(r(10));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=(0,o.default)({displayName:"UserNoteItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],statics:{LEFT:f.default.Positions.LEFT,RIGHT:f.default.Positions.RIGHT},getDefaultProps:function(){return{position:f.default.Positions.RIGHT}},getStateFromStores:function(){return{hasNote:d.default.getNote(this.props.user.id).length>0}},render:function(){return this.props.user.id===s.default.getId()||c.default.hidePersonalInformation?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(p.default,{label:this.state.hasNote?h.default.Messages.EDIT_NOTE:h.default.Messages.ADD_NOTE,action:this.handleOpenUserPopout})},renderUserPopout:function(e){var t=this.props,r=t.user,n=t.guildId,o=t.channelId;return a.createElement(y.default,m({},e,{userId:r.id,guildId:n,channelId:o,setNote:!0}))},handleOpenUserPopout:function(){var e=this.props,t=e.target,r=e.position;(0,f.openPopout)(t||this,{closeOnScroll:!1,render:this.renderUserPopout,position:r,offsetX:15,shadow:!1}),(0,u.closeContextMenu)()}});t.default=g},7247:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),l=c(r(17)),u=r(59),s=r(7024),d=c(r(5576));function c(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({TRANSLATE:1,SCALE:2}),p=Object.freeze(((n={})[f.TRANSLATE]=d.default.translate,n[f.SCALE]=d.default.scale,n)),y=Object.freeze(((a={})[s.PopoutPositions.TOP]=d.default.animatorTop,a[s.PopoutPositions.BOTTOM]=d.default.animatorBottom,a[s.PopoutPositions.LEFT]=d.default.animatorLeft,a[s.PopoutPositions.RIGHT]=d.default.animatorRight,a)),h=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={didRenderWithPosition:!1},t.timeout=new u.Timeout,t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){null!=this.props.position&&this.setState({didRenderWithPosition:!0})},a.componentDidUpdate=function(e){var t=this;null!=this.props.position&&null==e.position&&this.timeout.start(10,function(){t.setState({didRenderWithPosition:!0})})},a.componentWillUnmount=function(){this.timeout.stop()},a.render=function(){var e,t=this.props,r=t.children,n=t.position,a=t.type,i=this.state.didRenderWithPosition;return function(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,l.default)(null!=n?y[n]:null,(e={},e[p[a]]=null!=n,e[d.default.didRender]=i,e))},void 0,r)},n}(i.Component);t.default=h,h.displayName="PopoutCSSAnimator",h.Types=f},7248:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(9))&&n.__esModule?n:{default:n},o=r(0);var i={updateNote:function(e,t){a.default.put({url:o.Endpoints.NOTE(e),body:{note:t}})}};t.default=i},7249:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=v(r(17)),o=v(r(797)),i=(v(r(798)),v(r(5850))),l=v(r(430)),u=v(r(162)),s=v(r(20)),d=v(r(87)),c=v(r(14)),f=r(5930),p=v(r(314)),y=v(r(10)),h=v(r(5583));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,o.default)({displayName:"QuickMessage",mixins:[i.default],handleKeyPress:function(e){var t=this;if(13===e.which){e.preventDefault();var r=this.refs.DM_INPUT_REF.value.trim();return(0,f.applyChatRestrictions)(null,r,null).then(function(e){if(e.valid){l.default.openPrivateChannel(c.default.getCurrentUser().id,t.props.user.id).then(function(e){var t=s.default.getChannel(e);u.default.sendMessage(t.id,p.default.parse(t,r))});var n=t.props.onClose;n&&n()}}),!0}},render:function(){var e=this.props,t=e.user,r=e.autoFocus,o=e.className,i=d.default.isBlocked(t.id);return n.createElement("input",{className:(0,a.default)(h.default.quickMessage,o,{isBlocked:i}),ref:"DM_INPUT_REF",autoFocus:r,placeholder:i?y.default.Messages.QUICK_DM_BLOCKED:y.default.Messages.QUICK_DM_USER.format({name:t.username}),onKeyPress:this.handleKeyPress,disabled:i})}});t.default=_},7250:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=v(r(6018)),i=v(r(802)),l=r(191),u=v(r(42)),s=v(r(112)),d=v(r(302)),c=v(r(128)),f=v(r(18)),p=r(0),y=v(r(10)),h=v(r(5582));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=function(e){var t,n;function v(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).animItem=null,t.handleConfirm=function(){var e=t.props.onConfirm;null!=e&&e(),t.close()},t.handleCancel=function(){var e=t.props.onCancel;null!=e&&e(),t.close()},t}n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=v.prototype;return g.componentDidMount=function(){var e=this,t=u.default.theme;r.e(278).then(function(n){var a=t===p.ThemeTypes.DARK?r(8112):r(8113);e.animItem=o.default.loadAnimation({container:e.animRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a})}.bind(null,r)).catch(r.oe),f.default.track(p.AnalyticEvents.OPEN_POPOUT,m({type:"@Everyone Warning"},(0,l.collectChannelAnalyticsMetadata)(this.props.channel)))},g.componentWillUnmount=function(){null!=this.animItem&&(this.animItem.destroy(),this.animItem=void 0)},g.close=function(){var e=this.props.popoutKey;i.default.close(e)},g.render=function(){var e=this,t=this.props,r=t.numPeople,n=t.role,o=r>100?100:10;return _("form",{className:h.default.everyonePopout,onSubmit:this.handleConfirm},void 0,_("div",{className:h.default.body},void 0,a.createElement("div",{className:h.default.animation,ref:function(t){e.animRef=t}}),_("div",{className:h.default.content},void 0,_("div",{className:h.default.header},void 0,y.default.Messages.SELF_XSS_HEADER),_(c.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_BODY.format({role:n,count:(parseInt(r/o,10)*o).toLocaleString()})),_("div",{className:h.default.buttonWrapper},void 0,_("div",{className:h.default.buttonContainer},void 0,_(s.default,{className:h.default.button,look:s.default.Looks.OUTLINED,onClick:this.handleCancel},void 0,y.default.Messages.EDIT_MESSAGE),_(c.default,{className:h.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ESC.format())),_("div",{className:h.default.buttonContainer},void 0,_(s.default,{className:h.default.button,onClick:this.handleConfirm,type:"submit",autoFocus:!0},void 0,y.default.Messages.EVERYONE_POPOUT_SEND_NOW),_(c.default,{className:h.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ENTER.format()))))),_("div",{className:h.default.footer},void 0,_(d.default,{name:d.default.Names.INFO,color:p.Colors.PRIMARY_DARK_400,className:h.default.icon}),_(c.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_FOOTER)))},v}(a.PureComponent);t.default=g,g.displayName="EveryonePopout"},7251:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(59),i=u(r(158)),l=u(r(5584));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(e){var t=e.percentage;return s("div",{className:l.default.bar},void 0,s("div",{className:l.default.barInner,style:{width:100*Math.max(Math.min(t,1),0)+"%"}}))}function c(e){return String(e).padStart(2,"0")}function f(e){var t=Math.floor(e)%60,r=Math.floor(e/60)%60,n=Math.floor(e/3600);return 0===n?r+":"+c(t):n+":"+c(r)+":"+c(t)}d.displayName="Bar";var p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).timer=new o.Interval,t.state={now:Date.now()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){var e=this;this.timer.start(500,function(){e.setState({now:Date.now()})})},a.componentWillUnmount=function(){this.timer.stop()},a.render=function(){var e=this.props,t=e.start,r=e.end,n=e.className,a=this.state.now,o=(r-t)/1e3,u=Math.max(Math.min((a-t)/1e3,o),0);return s("div",{className:n},void 0,s(d,{percentage:u/o}),s(i.default,{},void 0,s(i.default.Child,{grow:1,className:l.default.textLeft},void 0,f(u)),s(i.default.Child,{grow:0,className:l.default.textRight},void 0,f(o))))},n}(a.PureComponent);p.displayName="ActivityTimeBar";var y=p;t.default=y},7255:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(9)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}var u={fetchTrendingApplications:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH}),e.prev=1,e.next=4,n.default.get({url:o.Endpoints.APPLICATIONS_TRENDING});case 4:t=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH_FAIL}),e.t0;case 11:r=t.body,a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH_SUCCESS,trendingApplications:r});case 13:case"end":return e.stop()}},e,null,[[1,7]])}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,u,"next",e)}function u(e){l(o,n,a,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()};t.default=u},7256:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),a=l(r(1)),o=l(r(159)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getChannel=function(e){var t=u[e];return null!=t&&o.default.can(i.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t:{channelId:null,guildId:null}},n}(n.default.Store))(a.default,{CONNECTION_OPEN:function(e){u={}},VOICE_STATE_UPDATE:function(e){var t=e.userId,r=e.guildId,n=e.channelId;if(null!=r&&null!=n){var a=u[t];if(null==a||a.guildId!==r||a.channelId!==n)return u[t]={guildId:r,channelId:n},!0}else if(null!=u[t])return delete u[t],!0;return!1}});t.default=s},7257:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=O(r(2)),o=g(r(4)),i=g(r(3)),l=g(r(73)),u=g(r(6691)),s=g(r(35)),d=g(r(112)),c=g(r(158)),f=g(r(188)),p=g(r(98)),y=O(r(5910)),h=r(0),v=g(r(10)),_=g(r(5235)),m=g(r(5588));function g(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function A(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handlePlay=function(e,r){void 0===e&&(e=!0),void 0===r&&(r=null);var n=t.props,a=n.libraryApplication,o=n.analyticsParams;t.onClose(),y.playApplication(a.id,a,{analyticsParams:o,cloudSync:e,cloudSyncForceHash:r})},t.handleChooseDownload=function(){var e=t.props.cloudSyncState;e.type===h.CloudSyncStateTypes.CONFLICT&&t.handlePlay(!0,e.remote.hash)},t.handleChooseUpload=function(){var e=t.props.cloudSyncState;e.type===h.CloudSyncStateTypes.CONFLICT&&t.handlePlay(!0,e.next.hash)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.onClose=function(){l.default.pop()},i.renderConflictButton=function(e,t,r,n){return A(d.default,{className:m.default.conflictButton,innerClassName:m.default.conflictButtonInner,onClick:n},void 0,A("div",{className:r}),A("div",{className:m.default.buttonBody},void 0,A("div",{className:m.default.conflictTitle},void 0,e),A("div",{},void 0,v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_LAST_MODIFIED),A("div",{className:m.default.timestamp},void 0,(0,o.default)(t).calendar())))},i.renderError=function(){var e=this,t=this.props.application;return A(a.Fragment,{},void 0,A(f.default.Content,{},void 0,A(c.default,{justify:c.default.Justify.CENTER},void 0,A("div",{className:m.default.errorArt})),A("div",{className:m.default.description},void 0,v.default.Messages.CLOUD_SYNC_MODAL_ERROR_DESCRIPTION.format({applicationName:t.name}))),A(f.default.Footer,{},void 0,A(c.default,{justify:c.default.Justify.BETWEEN},void 0,A(d.default,{className:m.default.linkButton,size:m.default.linkButtonSize,look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:this.onClose},void 0,v.default.Messages.CANCEL),A(c.default,{direction:c.default.Direction.HORIZONTAL,justify:c.default.Justify.END},void 0,A(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:function(){return e.handlePlay()},className:m.default.retryButton},void 0,v.default.Messages.RETRY),A(d.default,{onClick:function(){return e.handlePlay(!1)}},void 0,v.default.Messages.GAME_ACTION_BUTTON_PLAY)))))},i.renderConflict=function(){var e=this.props,t=e.application,r=e.cloudSyncState;if(r.type!==h.CloudSyncStateTypes.CONFLICT)throw new Error("Cannot render conflict for non conflict type");return A(f.default.Content,{className:_.default.marginBottom20},void 0,A("div",{className:m.default.description},void 0,v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_DESCRIPTION.format({applicationName:t.name})),this.renderConflictButton(v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_DOWNLOAD,r.remote.timestamp,m.default.conflictDownloadArt,this.handleChooseDownload),A(c.default,{className:m.default.choiceWrapper,align:c.default.Align.CENTER},void 0,A("div",{className:m.default.choiceLine}),A("div",{className:m.default.choiceTitle},void 0,v.default.Messages.CLOUD_SYNC_MODAL_OR),A("div",{className:m.default.choiceLine})),this.renderConflictButton(v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_UPLOAD,r.next.timestamp,m.default.conflictUploadArt,this.handleChooseUpload))},i.render=function(){var e=this.props.cloudSyncState;return A(f.default,{className:m.default.modal},void 0,A(f.default.Header,{separator:!1},void 0,A(f.default.CloseButton,{className:m.default.closeButton,onClick:this.onClose}),A(p.default,{tag:p.default.Tags.H2,className:_.default.marginReset},void 0,e.type===h.CloudSyncStateTypes.CONFLICT?v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_HEADER:v.default.Messages.CLOUD_SYNC_MODAL_ERROR_HEADER)),e.type===h.CloudSyncStateTypes.CONFLICT?this.renderConflict():this.renderError())},n}(a.PureComponent);I.displayName="CloudSyncResolutionModal";var E=i.default.connectStores([u.default,s.default],function(e){var t=e.libraryApplication,r=e.branchId;return{cloudSyncState:u.default.getState(t.id,r),application:s.default.getGame(t.id)}})(I);t.default=E},7258:function(e,t,r){"use strict";t.__esModule=!0,t.installApplication=function(e,t,r,s,c){var f=l.default.getInstallationPath(e.id,t),p=null!=e.eulaId&&!u.default.hasAcceptedEULA(e.eulaId);null==f||p?i.default.push(function(r){return a.createElement(n,d({},r,{applicationId:e.id,branchId:t,analyticsLocation:c}))}):(0,o.installApplication)(e,t,r,s,f,c)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(325),i=s(r(73)),l=(s(r(115)),s(r(331))),u=s(r(6335));r(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}n=r(7259).default},7259:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=P(r(3)),i=P(r(1)),l=r(478),u=r(5948),s=r(325),d=P(r(73)),c=P(r(35)),f=P(r(331)),p=P(r(456)),y=P(r(6335)),h=P(r(112)),v=P(r(158)),_=P(r(5862)),m=P(r(188)),g=P(r(98)),O=r(847),A=P(r(45)),I=P(r(6156)),E=P(r(6693)),S=r(0),b=P(r(10)),T=P(r(5596));function P(e){return e&&e.__esModule?e:{default:e}}function N(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={selectedInstallationPath:t.props.defaultInstallationPath,hasError:!1,isInstalling:!1,hasAcceptedNeccessaryTerms:!1},t.isUnmounted=!1,t.handleChangePath=function(e,r){t.setState({selectedInstallationPath:e,hasError:r})},t.install=function(e,r){var n=t.props,a=n.application,o=n.branchId,i=n.analyticsLocation;if(null==a)return null;(0,s.installApplication)(a,o,e,r,t.state.selectedInstallationPath,i),A.default.transitionTo(S.Routes.APPLICATION_LIBRARY),t.close()},t.handleInstall=function(){var e=t.props,r=e.application,n=e.buildId,a=e.manifestIds,o=e.hasPreviouslyAcceptedStoreTerms;if(null==n||null==a)throw new Error("Unexpected missing build info for non-premium product");o||(0,u.acceptPurchaseTerms)(),null!=r.eulaId&&(0,u.acceptEULA)(r.eulaId),t.install(n,a)},t.handlePurchaseTermsChange=function(e){t.setState({hasAcceptedNeccessaryTerms:e})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.fetchInstallSize=function(){var e=this.props,t=e.applicationId,r=e.branchId,n=e.buildId,a=e.manifestIds,o=e.buildSizeKB;null!=n&&null!=a&&null==o&&i.default.wait(function(){(0,l.fetchBuildSize)(t,r,n,a)})},a.componentDidMount=function(){var e=this.props,t=e.applicationId,r=e.branchId,n=e.buildId,a=e.manifestIds;null==n||null==a?(0,l.fetchLiveBuild)(t,r):this.fetchInstallSize()},a.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},a.componentWillUnmount=function(){this.isUnmounted=!0},a.close=function(){d.default.pop()},a.renderButton=function(){var e=this.props.buildId,t=this.state,r=t.hasError,n=t.hasAcceptedNeccessaryTerms;return N(h.default,{disabled:r||null==e||!n,color:h.default.Colors.GREEN,onClick:this.handleInstall},void 0,b.default.Messages.GAME_ACTION_BUTTON_INSTALL)},a.render=function(){var e=this.props,t=e.application,r=e.buildSizeKB,n=this.state,a=n.selectedInstallationPath,o=n.isInstalling,i=t.getSplashURL(440);return N(m.default,{size:m.default.Sizes.SMALL},void 0,null!=i?N("div",{className:T.default.splash,style:{backgroundImage:"url("+i+")"}}):null,N(m.default.Header,{},void 0,N(v.default.Child,{grow:1},void 0,N(g.default,{tag:g.default.Tags.H4},void 0,b.default.Messages.APPLICATION_INSTALLATION_MODAL_TITLE)),N(v.default.Child,{grow:0},void 0,N(m.default.CloseButton,{onClick:this.close}))),N(m.default.Content,{},void 0,N(v.default,{align:v.default.Align.CENTER},void 0,N(_.default,{game:t,size:_.default.Sizes.MEDIUM,className:T.default.gameIcon}),N("div",{className:T.default.gameName},void 0,t.name),null!=r?N("div",{className:T.default.installSize},void 0,(0,O.formatSize)(r,{useKibibytes:!0})):null),N("div",{className:T.default.divider}),N(E.default,{autoFocus:!0,className:T.default.selector,value:a,requiredDiskKB:r,onChange:this.handleChangePath}),N(I.default,{eulaId:t.eulaId,applicationName:t.name,disabled:o,onChange:this.handlePurchaseTermsChange,className:T.default.terms})),N(m.default.Footer,{},void 0,this.renderButton()))},n}(a.Component);M.displayName="ApplicationInstallationModal";var C=o.default.connectStores([f.default,c.default,p.default,y.default],function(e){var t=e.applicationId,r=e.branchId,n=p.default.getTargetBuildId(t,r);return{application:c.default.getGame(t),defaultInstallationPath:f.default.defaultInstallationPath,buildId:n,manifestIds:p.default.getTargetManifests(t,r),buildSizeKB:null!=n?p.default.getBuildSize(n):null,hasPreviouslyAcceptedStoreTerms:y.default.hasAcceptedStoreTerms}})(M);t.default=C},7263:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(52)),a=i(r(814)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.createFromServer=function(e){return Object.values(o.PromotionTypes).includes(e.data.type)?new n({id:e.promotion_id,title:e.data.title,description:e.data.description,ctaButtonLabel:e.data.type===o.PromotionTypes.GENERAL?e.data.cta_button_label:null,imageUrl:e.data.image_url,videoUrl:e.data.video_url,ackKey:e.impression_ack_key,destination:e.data.type===o.PromotionTypes.GAME?{type:o.PromotionTypes.GAME,sku:a.default.createFromServer(e.data.sku)}:{type:o.PromotionTypes.GENERAL,linkUrl:e.data.link_url}}):null},n.prototype.initialize=function(e){this.id=e.id,this.title=e.title,this.description=e.description,this.ctaButtonLabel=e.ctaButtonLabel,this.imageUrl=e.imageUrl,this.videoUrl=e.videoUrl,this.ackKey=e.ackKey,this.destination=e.destination},n}(n.default);t.default=l},7264:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(17)),i=h(r(4)),l=r(114),u=r(810),s=r(242),d=h(r(305)),c=h(r(231)),f=h(r(5949)),p=r(0),y=h(r(5598));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={playingVideo:!1},t.handlePlay=function(){t.setState({playingVideo:!0});var e=t.props.onVideoPlay;e&&e()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=n.prototype;return h.getBackgroundURL=function(){var e=this.props,t=e.game,r=e.news.thumbnail;return null!=r&&null!=r.proxy_url?(0,s.getSizedImageSrc)(r.proxy_url,600,210,"png"):t.getSplashURL(600)},h.getSubtitle=function(){var e=this.props.news,t=null!=e.timestamp?(0,u.dateFormat)((0,i.default)(e.timestamp),"LL"):null,r=e.author;return null!=t&&null!=r?t+" · "+r.name:null!=r?r.name:null!=t?t:void 0},h.renderBase=function(e){var t=this.props,r=t.news,n=r.title,i=r.description,l=t.backgroundClassname,u=this.getBackgroundURL(),s=this.getSubtitle();return m(a.Fragment,{},void 0,m("div",{className:(0,o.default)(l,y.default.background,null!=u?y.default.splash:y.default.splashBackup),style:null!=u?{backgroundImage:"url("+u+")"}:null}),m("div",{className:y.default.body},void 0,m("div",{className:y.default.title},void 0,n),e&&null!=i?m("div",{className:y.default.description},void 0,i):null,null!=s?m("div",{className:y.default.subtitle},void 0,s):null))},h.renderArticle=function(){var e,t=this.props,r=t.news,n=t.className,i=(t.backgroundClassname,t.game,t.onVideoPlay,_(t,["news","className","backgroundClassname","game","onVideoPlay"]));return a.createElement(d.default,v({},i,{href:r.url,className:(0,o.default)(y.default.newsLink,(e={},e[y.default.fixedHeight]=null!=this.getBackgroundURL(),e),n)}),this.renderBase(!0))},h.renderVideo=function(){var e=this.props,t=e.news,r=e.className,n=e.onClick;e.game,_(e,["news","className","onClick","game"]);if(this.state.playingVideo&&null!=t.video){var a=(0,l.parse)(t.video.url,!0);return a.query=v({},a.query,{autoplay:1}),m(c.default,{onClick:n,className:(0,o.default)(y.default.newsPlayingVideo,r)},void 0,m("iframe",{src:(0,l.format)(a),frameBorder:0,allowFullScreen:!0,className:y.default.video}))}return m(c.default,{onClick:n,className:(0,o.default)(y.default.news,y.default.fixedHeight,r)},void 0,this.renderBase(!1),m("div",{className:y.default.videoControls},void 0,m(f.default,{externalURL:t.url,onPlay:this.handlePlay})))},h.render=function(){switch(this.props.news.type){case p.EmbedTypes.VIDEO:return this.renderVideo();default:case p.EmbedTypes.ARTICLE:return this.renderArticle()}},n}(a.Component);t.default=g,g.displayName="ActivityFeedCardNews"},7265:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(3)),i=r(303),l=p(r(167)),u=p(r(88)),s=p(r(208)),d=p(r(8)),c=p(r(5848)),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.application,a=e.installPath,o=r.getBranchedName(n);s.default.createShortcuts(!0,!1,o,r.id,a),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return null!=this.props.installPath&&d.default.isDesktop()?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_CREATE_DESKTOP_SHORTCUT,action:this.handleAction}):null},a}(a.PureComponent);y.displayName="ApplicationCreateDesktopShortcut";var h=o.default.connectStores([u.default,l.default],function(e){var t,r=e.libraryApplication,n=l.default.getState(r.id,r.branchId);return null!=n&&(t=n.installPath),{installPath:t}})(y);t.default=h},7266:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=y(r(3)),i=r(303),l=r(201),u=y(r(42)),s=r(5869),d=y(r(5853)),c=y(r(5848)),f=y(r(5946)),p=y(r(10));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderItems=function(){var e=t.props,r=e.libraryApplication,n=e.application,o=n.primarySkuId;return h(a.Fragment,{},void 0,h(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_APPLICATION_ID,action:function(){return t.handleCopy(n.id)}}),null==r||r instanceof l.LocalApplicationRecord?null:h(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_BRANCH_ID,action:function(){return t.handleCopy(r.branchId)}}),null!=o?h(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_SKU_ID,action:function(){return t.handleCopy(o)}}):null)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.handleCopy=function(e){(0,s.copy)(e),(0,i.closeContextMenu)()},o.render=function(){var e=this,t=this.props,r=t.developerMode,n=t.application;return!__OVERLAY__&&r&&s.SUPPORTS_COPY?h(d.default,{},void 0,h(f.default,{label:p.default.Messages.COPY,render:this.renderItems,action:function(){return e.handleCopy(n.id)}})):null},n}(a.PureComponent);v.displayName="ApplicationDeveloperModeGroup";var _=o.default.connectStores([u.default],function(){return{developerMode:u.default.developerMode}})(v);t.default=_},7267:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=_(r(2)),o=v(r(3)),i=r(303),l=v(r(321)),u=v(r(167)),s=v(r(35)),d=v(r(88)),c=v(r(60)),f=r(322),p=_(r(5910)),y=v(r(5848)),h=v(r(10));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var m=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.isLaunchable,a=e.analyticsLocation;n&&p.playApplication(r.id,r,{analyticsParams:{location:a}}),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return!this.props.isLaunchable||this.props.isRunning?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(y.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,action:this.handleAction})},a}(a.PureComponent);m.displayName="ApplicationLaunchItem";var g=o.default.connectStores([s.default,u.default,d.default,c.default,l.default],function(e){var t=e.libraryApplication;return{isRunning:c.default.getRunningVerifiedApplicationIds().includes(t.id),isLaunchable:(0,f.isLaunchable)(d.default,s.default,u.default,l.default,t.id,t.branchId)}})(m);t.default=g},7268:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=f(r(2)),o=c(r(3)),i=r(303),l=f(r(327)),u=c(r(167)),s=c(r(88)),d=c(r(5848));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(e,r){var n=t.props,a=n.libraryApplication,o=n.onPlay,u=n.activeLaunchOptionId;r.id!==u&&l.setActiveLaunchOptionId(a.id,a.branchId,r.id),o&&o(e),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this,t=this.props.launchOptions;return t.length<2?null:t.map(function(t){var r=t.id,a=t.name;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:a,action:function(r){return e.handleAction(r,t)}},r)})},a}(a.PureComponent);p.displayName="ApplicationLaunchOptionSelectorItem";var y=o.default.connectStores([s.default,u.default],function(e){var t=e.libraryApplication;return{launchOptions:u.default.getLaunchOptions(t.id,t.branchId),activeLaunchOptionId:s.default.getActiveLaunchOptionId(t.id,t.branchId)}})(p);t.default=y},7269:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=h(r(2)),o=y(r(3)),i=r(303),l=y(r(167)),u=y(r(88)),s=y(r(60)),d=h(r(5910)),c=y(r(5848)),f=r(0),p=y(r(10));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var v=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.libraryApplication;d.repairApplication(e.id,e.branchId,f.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.isUpToDate,r=e.isRunning,a=e.shouldPatch;return t&&!r&&a?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_REPAIR,action:this.handleAction}):null},a}(a.PureComponent);v.displayName="ApplicationRepairItem";var _=o.default.connectStores([l.default,u.default,s.default],function(e){var t=e.libraryApplication;return{isRunning:s.default.getRunningVerifiedApplicationIds().includes(t.id),isUpToDate:l.default.isUpToDate(t.id,t.branchId),shouldPatch:l.default.shouldPatch(t.id,t.branchId)}})(v);t.default=_},7270:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=r(303),l=f(r(189)),u=r(6337),s=r(5869),d=f(r(5848)),c=f(r(10));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.sku;if(null==e)throw new Error("SKU null in ApplicationStoreCopyLinkItem");(0,s.copy)((0,u.getStoreListingLink)(e)),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return null==this.props.sku||__OVERLAY__||!s.SUPPORTS_COPY?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:c.default.Messages.APPLICATION_CONTEXT_MENU_COPY_STORE_LINK,action:this.handleAction})},a}(a.PureComponent);p.displayName="ApplicationStoreLinkItem";var y=o.default.connectStores([l.default],function(e){var t=e.application.primarySkuId;return{sku:null!=t?l.default.get(t):null}})(p);t.default=y},7271:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(303),i=r(818),l=s(r(5848)),u=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.application,n=e.analyticsLocation;(0,i.goToApplicationStoreListing)(r.id,{analyticsSource:n,slug:r.slug}),(0,o.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return null==this.props.application.primarySkuId?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK,action:this.handleAction})},a}(a.PureComponent);d.displayName="ApplicationStoreLinkItem";var c=d;t.default=c},7272:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=c(r(2)),o=d(r(3)),i=c(r(6074)),l=d(r(447)),u=d(r(5874)),s=d(r(10));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var f=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggle=function(){var e=t.props,r=e.application;e.isFollowing?i.removeGamesFromFeed([r.id]):i.addGamesToFeed([r.id])},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props.isFollowing;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:e})},a}(a.PureComponent);f.displayName="ApplicationShowInActivityFeedItem";var p=o.default.connectStores([l.default],function(e){var t=e.application;return{isFollowing:l.default.applicationIsOnFeed(t.id)}})(f);t.default=p},7273:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=E(r(2)),o=I(r(3)),i=r(303),l=E(r(327)),u=I(r(73)),s=E(r(864)),d=r(201),c=I(r(167)),f=I(r(35)),p=I(r(88)),y=I(r(246)),h=I(r(128)),v=I(r(18)),_=r(136),m=I(r(5848)),g=I(r(433)),O=r(0),A=I(r(10));function I(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var T=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.application,a=e.shouldShowConfirmationModal;null!=r&&null!=n&&(r.isHidden()||!a?t.toggleHidden(r):t.openRemoveConfirmationModal(r,n),(0,i.closeContextMenu)())},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.track=function(e){var t=this.props.libraryApplication;v.default.track(O.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,b({hidden_enabled:e},t.getAnalyticsData()))},o.openRemoveConfirmationModal=function(e,t){var r=this;u.default.push(function(n){return a.createElement(g.default,b({header:A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_HEADER,confirmText:A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_CONFIRM,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return r.removeFromLibrary(e)},red:!1},n),S(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_BODY.format({name:t.name})))})},o.removeFromLibrary=function(e){this.props.isInstalled||this.toggleHidden(e)},o.toggleHidden=function(e){var t=(0,_.toggleFlag)(e.getFlags(),O.LibraryApplicationFlags.HIDDEN);e instanceof d.LocalApplicationRecord?s.updateFlags(e.id,t):e instanceof d.LibraryApplicationRecord&&l.updateFlags(e.id,e.branchId,t),this.track((0,_.hasFlag)(t,O.LibraryApplicationFlags.HIDDEN))},o.render=function(){var e=this.props,t=e.isInstalled,r=e.libraryApplication;return t&&!r.isHidden()?null:S(m.default,{label:r.isHidden()?A.default.Messages.APPLICATION_CONTEXT_MENU_SHOW:A.default.Messages.APPLICATION_CONTEXT_MENU_HIDE,action:this.handleAction})},n}(a.PureComponent);T.displayName="ApplicationToggleInLibraryItem";var P=o.default.connectStores([p.default,c.default,y.default,f.default],function(e){var t=e.libraryApplication;return{isInstalled:c.default.isInstalled(t.id,t.branchId),shouldShowConfirmationModal:!p.default.hasRemovedLibraryApplicationThisSession}})(T);t.default=P},7274:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=_(r(2)),o=v(r(3)),i=r(303),l=_(r(325)),u=v(r(167)),s=v(r(88)),d=v(r(60)),c=v(r(456)),f=_(r(5910)),p=v(r(5848)),y=r(0),h=v(r(10));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleInstall=function(){var e=t.props.libraryApplication;f.installApplication(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t.handleUninstall=function(){var e=t.props.libraryApplication;l.uninstallBranchPrompt(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.isInstalled,r=e.targetManifests,n=e.isRunning;return t?n?null:m(p.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_UNINSTALL,action:this.handleUninstall}):null==r?null:m(p.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_INSTALL,action:this.handleInstall})},n}(a.PureComponent);g.displayName="ApplicationToggleInstallItem";var O=o.default.connectStores([u.default,c.default,s.default,d.default],function(e){var t=e.libraryApplication;return{isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),isInstalled:u.default.isInstalled(t.id,t.branchId),targetManifests:c.default.getTargetManifests(t.id,t.branchId)}})(g);t.default=O},7275:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=y(r(2)),o=y(r(327)),i=y(r(864)),l=r(201),u=p(r(18)),s=r(136),d=p(r(5874)),c=r(0),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var r=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.OVERLAY_DISABLED);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,r):o.updateFlags(e.id,e.branchId,r),t.track((0,s.hasFlag)(r,c.LibraryApplicationFlags.OVERLAY_DISABLED))}},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=a.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,h({overlay_disabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_TOGGLE_OVERLAY_DISABLE,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.OVERLAY_DISABLED)})},a}(a.PureComponent);v.displayName="ApplicationToggleOverlayItem";var _=v;t.default=_},7276:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=y(r(2)),o=y(r(327)),i=y(r(864)),l=r(201),u=p(r(18)),s=r(136),d=p(r(5874)),c=r(0),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var r=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.PRIVATE);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,r):o.updateFlags(e.id,e.branchId,r),t.track((0,s.hasFlag)(r,c.LibraryApplicationFlags.PRIVATE))}},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=a.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,h({private_enabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_PRIVATE_STATUS,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.PRIVATE)})},a}(a.PureComponent);v.displayName="ApplicationTogglePrivateItem";var _=v;t.default=_},7277:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=r(303),l=r(891),u=f(r(43)),s=f(r(5848)),d=r(0),c=f(r(10));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.application;(0,l.openModal)(e.id,d.CURRENT_APP_CONTEXT,e.name),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return this.props.hasMediaEngineContext?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:c.default.Messages.IN_GAME_VOICE_SETTINGS,action:this.handleAction}):null},a}(a.PureComponent);p.displayName="ApplicationVoiceSettingsItem";var y=o.default.connectStores([u.default],function(e){var t=e.application;return{hasMediaEngineContext:u.default.hasContext(t.id)}})(p);t.default=y},7278:function(e,t,r){e.exports=r.p+"6a0d045ec452de05f71ee63fece2327f.svg"},7279:function(e,t,r){e.exports=r.p+"5917566c2502226aa777df2eadbb19e6.svg"},7280:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=_(r(17)),i=r(234),l=r(192),u=_(r(112)),s=_(r(158)),d=_(r(302)),c=_(r(128)),f=_(r(7026)),p=_(r(426)),y=r(0),h=_(r(10)),v=_(r(5610));function _(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleJoinRequest=function(){var e=t.props,r=e.activity,n=e.onJoinRequest,a=e.user;null!=r&&n&&n(r,a.id)},t.handleSpectate=function(){var e=t.props,r=e.activity,n=e.onSpectate,a=e.user;null!=r&&n&&n(r,a.id)},t.handleNotify=function(){var e=t.props,r=e.activity,n=e.onNotify,a=e.user;null!=r&&n&&n(r,a.id)},t.handleWatchStream=function(){var e=t.props.onWatchStream;e&&e()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,_,A,I=n.prototype;return I.getTypeClass=function(e){return(0,l.getClass)(v.default,e,this.props.type)},I.isListeningActivity=function(){var e=this.props.activity;return null!=e&&e.type===y.ActivityTypes.LISTENING},I.processActions=function(e){var t=this.props,r=t.showPrimaryActionOnly,n=t.reverse;return r?e.find(function(e){return null!=e})||null:n?[].concat(e).reverse():e},I.renderBuyButton=function(){var e=this.props,t=e.color,r=e.look,n=e.hover,a=e.onViewInStore;return g(u.default,{className:v.default.button,color:t,look:r,hover:n,size:v.default.buttonSize,onClick:a},"buy",h.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},I.renderJoinRequest=function(){var e=this.props,t=e.activity,r=e.hasActiveJoinRequest,n=e.isBrowser,a=e.isLaunchable,o=e.color,l=e.look,s=e.hover;if(null==t||!(0,i.hasFlag)(t,y.ActivityFlags.JOIN)||null==t.application_id)return null;var d=!this.isCurrentUser&&(n||a)&&!r,c=null;return this.isCurrentUser?c=h.default.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:n||a||(c=h.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name})),g(p.default,{text:c},"join-request",g(u.default,{className:v.default.button,onClick:this.handleJoinRequest,color:o,look:l,hover:s,disabled:!d,size:v.default.buttonSize,fullWidth:!0},void 0,h.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN))},I.renderSpectate=function(){var e=this.props,t=e.activity,r=e.spectateState,n=e.isBrowser,a=e.isLaunchable,o=e.color,l=e.look,d=e.applicationStream;if(null==t||!(0,i.hasFlag)(t,y.ActivityFlags.SPECTATE)||null==t.application_id||null!=d)return null;var f=r===y.ActivityActionStates.FAILED,_=r===y.ActivityActionStates.LOADING,m=!this.isCurrentUser&&(n||a),O=null;this.isCurrentUser?O=h.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:n||a||(O=h.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name}));var A=g(p.default,{text:O},"spectate",g(u.default,{className:v.default.button,onClick:this.handleSpectate,submitting:_,disabled:!m,color:o,look:l,size:v.default.buttonSize,fullWidth:!0},void 0,h.default.Messages.USER_ACTIVITY_ACTION_SPECTATE));return f?g(s.default,{direction:s.default.Direction.VERTICAL},void 0,A,g(c.default,{color:c.default.Colors.RED,className:v.default.actionError},void 0,h.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH)):A},I.renderNotify=function(){return(0,i.hasFlag)(this.props.activity,y.ActivityFlags.INSTANCE)?g(u.default,{className:v.default.button,look:u.default.Looks.OUTLINED,size:v.default.buttonSize,onClick:this.handleNotify,fullWidth:!0},"notify",h.default.Messages.USER_ACTIVITY_ACTION_NOTIFY_ME):null},I.renderSync=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,a=e.user,o=e.renderSpotifySyncButton;if(!(0,i.hasFlag)(t,y.ActivityFlags.SYNC))return null;var l={key:"sync",className:v.default.button,size:v.default.buttonSize,color:r,look:n};return(0,i.isListeningOnSpotify)(t)?o(m({},l,{activity:t,user:a})):null},I.renderXboxConnectButton=function(){var e=this.props,t=e.color,r=e.look,n=e.hasXboxAccount,a=e.type,o=e.renderXboxButton;return n||a===f.default.Types.ACTIVITY_FEED?null:g(s.default,{grow:0,className:this.getTypeClass("actions")},void 0,o({className:v.default.button,size:v.default.buttonSize,color:t,look:r,fullWidth:!0}))},I.renderPlay=function(){var e=this.props,t=e.activity,r=e.user,n=e.color,a=e.look,o=e.renderSpotifyPlayButton;if(!(0,i.hasFlag)(t,y.ActivityFlags.PLAY))return null;var l={key:"play",className:v.default.button,size:v.default.buttonSize,color:n,look:a};return(0,i.isListeningOnSpotify)(t)?o(m({},l,{activity:t,user:r,fullWidth:!0})):null},I.renderWatch=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,a=e.applicationStream,o=e.isWatchingStream,l=e.isStreamWatchable,c=null!=a;if(!(0,i.isStreaming)(t)&&!c)return null;var f=h.default.Messages.WATCH;return c&&(f=h.default.Messages.WATCH_STREAM,this.isCurrentUser?f=h.default.Messages.WATCH_STREAM_STREAMING:o&&(f=h.default.Messages.WATCH_STREAM_WATCHING)),g(u.default,{className:v.default.button,disabled:c&&(this.isCurrentUser||o||!l),size:v.default.buttonSize,onClick:c?this.handleWatchStream:function(){return window.open((0,i.getStreamURL)(t))},color:r,look:n,fullWidth:!0},"play",g(s.default,{align:s.default.Align.CENTER},void 0,c?g(d.default,{name:d.default.Names.LIVE_STREAM,className:v.default.streamIcon}):null,f))},I.render=function(){var e=this.props,t=e.activity,r=e.type,n=e.isLaunchable,a=e.showBuyDiscordGame,l=e.canBuyDiscordGame,u=e.applicationStream;if((0,i.isOnXbox)(t))return this.renderXboxConnectButton();var d,c=r===f.default.Types.PROFILE,p=c?s.default.Align.END:s.default.Align.STRETCH,y=c?s.default.Direction.VERTICAL:s.default.Direction.HORIZONTAL;if(this.isListeningActivity()&&null==u){var h=this.renderSync(),v=this.renderPlay();return g(s.default,{grow:0,align:p,className:this.getTypeClass("listeningActions")},void 0,v,h)}if(!n&&a&&l)d=[this.renderBuyButton()];else{var _=this.renderJoinRequest(),m=this.renderSpectate(),O=this.renderNotify(),A=this.renderWatch();if(null==_&&null==m&&null==O&&null==A)return null;d=[_,m,O,A]}return g(s.default,{grow:0,align:p,direction:y,className:(0,o.default)(this.props.className,this.getTypeClass("actions"))},void 0,this.processActions(d))},a=n,(_=[{key:"isCurrentUser",get:function(){var e=this.props,t=e.user,r=e.currentUser;return t.id===r.id}}])&&O(a.prototype,_),A&&O(a,A),n}(a.PureComponent);A.displayName="UserActivityActions",A.defaultProps={color:u.default.Colors.WHITE,look:u.default.Looks.OUTLINED,showPrimaryActionOnly:!1,isStreamWatchable:!0,reverse:!1};var I=A;t.default=I},7281:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=f(r(2)),o=c(r(112)),i=c(r(158)),l=c(r(302)),u=c(r(426)),s=f(r(6077)),d=c(r(5364));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=function(e){var t=e.activity,r=e.user,n=e.channelId,c=e.guildId,f=e.source,h=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["activity","user","channelId","guildId","source"]);return y(s.default,{activity:t,user:r,channelId:n,guildId:c,source:f,type:s.SpotifyActionTypes.USER_ACTIVITY_PLAY},void 0,function(e){var t=e.tooltip,r=e.disabled,n=e.loading,s=e.label,c=e.onClick;return y(u.default,{text:t},void 0,a.createElement(o.default,p({},h,{onClick:c,disabled:r,submitting:n}),y(i.default,{align:i.default.Align.CENTER},void 0,y(l.default,{name:l.default.Names.PLATFORM_SPOTIFY,className:d.default.spotifyButtonLogo}),s)))})};h.displayName="SpotifyPlayButton";var v=h;t.default=v},7282:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=y(r(73)),i=r(467),l=y(r(112)),u=y(r(158)),s=y(r(188)),d=y(r(128)),c=y(r(98)),f=y(r(10)),p=y(r(5611));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleCancel=function(){o.default.pop()},t.handleUpgrade=function(){(0,i.openPremiumSite)(),o.default.pop()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){return h(s.default,{size:s.default.Sizes.SMALL},void 0,h(s.default.Header,{},void 0,h(c.default,{tag:c.default.Tags.H4},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_HEADER)),h(s.default.Content,{},void 0,h(u.default,{justify:u.default.Justify.CENTER},void 0,h("div",{className:p.default.image})),h(d.default,{color:d.default.Colors.PRIMARY,className:p.default.text},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BODY)),h(s.default.Footer,{},void 0,h(l.default,{onClick:this.handleUpgrade},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BUTTON),h(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:this.handleCancel},void 0,f.default.Messages.CANCEL)))},n}(a.PureComponent);v.displayName="SpotifyPremiumUpgrade";var _=v;t.default=_},7283:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=f(r(2)),o=c(r(17)),i=c(r(112)),l=c(r(302)),u=c(r(426)),s=f(r(6077)),d=c(r(5364));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=function(e){var t=e.activity,r=e.user,n=e.channelId,c=e.guildId,f=e.source,h=e.size,v=e.className,_=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["activity","user","channelId","guildId","source","size","className"]);return y(s.default,{activity:t,user:r,channelId:n,guildId:c,source:f,type:s.SpotifyActionTypes.USER_ACTIVITY_SYNC},void 0,function(e){var r=e.tooltip,n=e.disabled,s=e.loading,c=e.onClick;return y(u.default,{text:r},void 0,a.createElement(i.default,p({},_,{size:(0,o.default)(h,d.default.iconButtonSize),className:(0,o.default)(v,d.default.iconButton),onClick:c,disabled:n,submitting:s,"aria-label":r||t.name}),y(l.default,{name:l.default.Names.PERSON_PLAY,className:d.default.listenAlongIcon})))})};h.displayName="SpotifySyncButton";var v=h;t.default=v},7284:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(800)),i=p(r(166)),l=p(r(112)),u=p(r(158)),s=p(r(302)),d=r(0),c=p(r(10)),f=p(r(5613));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=i.default.get(d.PlatformTypes.XBOX).name,v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props.onOpenConnections;e&&e(),o.default.open(d.UserSettingsSections.CONNECTIONS)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.className;return y(l.default,{className:e,onClick:this.handleClick},void 0,y(u.default,{align:u.default.Align.CENTER},void 0,y(s.default,{name:s.default.Names.PLATFORM_XBOX,className:f.default.xboxButtonLogo}),c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:h})))},n}(a.Component);t.default=v,v.displayName="XboxButton"},7285:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=d(r(17)),i=d(r(112)),l=d(r(188)),u=d(r(98)),s=d(r(5614));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,r;function n(t){var r;return f(r=e.call(this,t)||this).handleCancel=r.handleCancel.bind(f(r)),f(r).handleConfirm=r.handleConfirm.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderCancel=function(){var e=this.props.cancelText;return null==e?null:c(i.default,{look:i.default.Looks.LINK,onClick:this.handleCancel},void 0,e)},a.renderConfirm=function(){var e=this.props.confirmText;return null==e?null:c(i.default,{onClick:this.handleConfirm},void 0,e)},a.render=function(){var e=this.props,t=e.title,r=e.imageClass,n=e.body;return c(l.default,{},void 0,c(l.default.Header,{},void 0,c(u.default,{tag:u.default.Tags.H4},void 0,t)),c(l.default.Content,{},void 0,r&&c("div",{className:(0,o.default)(s.default.image,r)}),c("div",{className:s.default.body},void 0,n)),c(l.default.Footer,{},void 0,this.renderConfirm(),this.renderCancel()))},a.handleCancel=function(){var e=this.props,t=e.onCancel,r=e.onClose;r&&r(),t&&t()},a.handleConfirm=function(){var e=this.props,t=e.onConfirm,r=e.onClose;r&&r(),t&&t()},n}(a.PureComponent);p.displayName="ActionableError";var y=p;t.default=y},7286:function(e,t,r){e.exports=r.p+"c613a8513d53c5b2a4d5941419100a11.svg"},7287:function(e,t,r){e.exports=r.p+"14ce1e8528e32f1a13659e476a3c0716.svg"},7288:function(e,t,r){e.exports=r.p+"69599bf4774238ea687b769da6a9595e.svg"},7289:function(e,t,r){e.exports=r.p+"006ca0d19c6267812c15ff9611d4e6d5.svg"},7290:function(e,t,r){e.exports=r.p+"b3bbdcadbdb67b466e9330da22ed0221.svg"},7291:function(e,t,r){e.exports=r.p+"273ec1aee7edca70e8038dfcb26436b1.svg"},7292:function(e,t,r){e.exports=r.p+"5947547ef2316bb7db5650751f2ccb2f.svg"},7293:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(303),i=d(r(802)),l=d(r(843)),u=d(r(5848)),s=d(r(10));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleViewProfile=function(){l.default.open(t.props.userId,t.props.guildId),i.default.close(),(0,o.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.PROFILE,action:this.handleViewProfile})},a}(a.PureComponent);c.displayName="UserProfileItem";var f=c;t.default=f},7294:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=p(r(797)),o=(p(r(798)),p(r(5850))),i=p(r(3)),l=p(r(430)),u=r(303),s=p(r(20)),d=p(r(14)),c=p(r(5848)),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"UserRemoveFromGroupItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{currentUser:d.default.getCurrentUser(),channel:s.default.getChannel(this.props.channelId)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({channel:s.default.getChannel(e.channelId)})},render:function(){var e=this.props.userId,t=this.state,r=t.currentUser,a=t.channel;return null==a||a.isOwner(e)||!a.isOwner(r.id)?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:f.default.Messages.REMOVE_FROM_GROUP,action:this.handleRemoveFromGroup,danger:!0})},handleRemoveFromGroup:function(){var e=this.props,t=e.channelId,r=e.userId;l.default.removeRecipient(t,r),(0,u.closeContextMenu)()}});t.default=y},7295:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=y(r(797)),o=y(r(6)),i=(y(r(798)),y(r(5850))),l=y(r(3)),u=y(r(333)),s=r(303),d=y(r(11)),c=y(r(823)),f=y(r(5848)),p=y(r(10));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=(0,a.default)({displayName:"UserRingHangItem",mixins:[l.default.LazyStoreListenerMixin(c.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{me:d.default.getId()===this.props.userId,participants:c.default.getParticipants(this.props.channelId)}},render:function(){var e=this,t=this.state.participants;if(this.state.me||!t||!t.length)return null;var r=o.default.find(t,function(t){return t.user.id===e.props.userId});return null==r?h(f.default,{label:p.default.Messages.RING,action:this.handleRing}):r.ringing?h(f.default,{label:p.default.Messages.STOP_RINGING,action:this.handleStopRinging}):null},handleRing:function(){(0,s.closeContextMenu)(),u.default.ring(this.props.channelId,[this.props.userId])},handleStopRinging:function(){(0,s.closeContextMenu)(),u.default.stopRinging(this.props.channelId,[this.props.userId])}});t.default=v},7296:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=O(r(797)),o=O(r(6)),i=(O(r(798)),O(r(5850))),l=O(r(3)),u=O(r(5857)),s=O(r(74)),d=O(r(23)),c=O(r(159)),f=O(r(14)),p=O(r(102)),y=O(r(5853)),h=O(r(5848)),v=O(r(5946)),_=O(r(5874)),m=r(0),g=O(r(10));function O(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=(0,a.default)({displayName:"UserRolesGroup",mixins:[l.default.LazyStoreListenerMixin(s.default,c.default),i.default],getInitialState:function(){return this.getStateFromStores()},getDefaultProps:function(){return{invertChildY:!1}},getStateFromStores:function(){var e=d.default.getGuild(this.props.guildId),t=s.default.getMember(this.props.guildId,this.props.userId);return{guild:e,userRoles:t?t.roles:null,isGuildMember:!!t,canManageRoles:null!=e&&c.default.can(m.Permissions.MANAGE_ROLES,e)}},render:function(){var e=this;if(__OVERLAY__)return null;var t=this.state,r=t.guild,n=t.userRoles,a=t.canManageRoles,i=this.props.invertChildY,l=n&&n.length,u=f.default.getCurrentUser(),s=null;if(this.state.isGuildMember&&(l>0||a)){var d=p.default.getHighestRole(r,u.id),c=(0,o.default)(r.roles).filter(function(e){return e.id!==r.id&&(a||-1!==n.indexOf(e.id))}).map(function(t){if(a){var o=t.managed||!p.default.isRoleHigher(r,u.id,d,t),i=-1!==n.indexOf(t.id);return o&&!i?null:A(_.default,{label:t.name,disabled:o,styles:{color:t.colorString},boxStyles:{background:t.colorString},action:function(){return e.handleRoleToggle(t)},active:i},t.id)}return A(h.default,{styles:{color:t.colorString},label:t.name},t.id)}).value();c.length&&(s=A(y.default,{},void 0,A(v.default,{label:g.default.Messages.ROLES_LIST.format({numRoles:3}),render:c,invertChildY:i})))}return s},handleRoleToggle:function(e){var t=this.state.userRoles;t=-1===t.indexOf(e.id)?t.concat([e.id]):t.filter(function(t){return t!==e.id}),u.default.updateMemberRoles(this.props.guildId,this.props.userId,t)}});t.default=I},7297:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=c(r(797)),o=(c(r(798)),c(r(5850))),i=c(r(3)),l=c(r(101)),u=r(234),s=c(r(5848)),d=c(r(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"UserStreamItem",mixins:[i.default.LazyStoreListenerMixin(l.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{streamURL:(0,u.getStreamURL)(l.default.getPrimaryActivity(this.props.userId))}},render:function(){return null==this.state.streamURL?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.WATCH_STREAM,action:this.handleWatchStream})},handleWatchStream:function(){window.open(this.state.streamURL,"_blank")}});t.default=f},7298:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=f(r(2)),o=c(r(3)),i=f(r(6074)),l=c(r(447)),u=c(r(14)),s=c(r(5874)),d=c(r(10));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggle=function(){var e=t.props,r=e.user;e.isFollowing?i.removeMembersFromFeed([r.id]):i.addMembersToFeed([r.id])},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.user,r=e.isFollowing,a=e.isCurrentUser;return t.bot||a?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:r})},a}(a.PureComponent);p.displayName="UserToggleFeedVisibilityItem";var y=o.default.connectStores([l.default],function(e){var t=e.user;return{isFollowing:l.default.isOnFeed(t.id),isCurrentUser:u.default.getCurrentUser().id===t.id}})(p);t.default=y},7299:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(3)),i=r(303),l=p(r(73)),u=p(r(23)),s=p(r(14)),d=p(r(5848)),c=p(r(7300)),f=p(r(10));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,r;function o(t){var r;return h(r=e.call(this,t)||this).handleTransferOwnership=r.handleTransferOwnership.bind(h(r)),r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=o.prototype;return u.render=function(){var e=this.props,t=e.guild,r=e.currentUser,a=e.user;return null==t||null==r||a.id===t.ownerId||a.bot||!t.isOwnerWithRequiredMfaLevel(r)?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{danger:!0,label:f.default.Messages.TRANSFER_OWNERSHIP,action:this.handleTransferOwnership})},u.handleTransferOwnership=function(){var e=this.props,t=e.guild,r=e.currentUser,n=e.user;l.default.push(function(e){return a.createElement(c.default,y({},e,{guild:t,fromUser:r,toUser:n}))}),(0,i.closeContextMenu)()},o}(a.PureComponent);v.displayName="UserTransferOwnershipItem";var _=o.default.connectStores([u.default,s.default],function(e){var t=e.guildId;return{currentUser:s.default.getCurrentUser(),guild:u.default.getGuild(t)}})(v);t.default=_},7300:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=_(r(5857)),i=r(808),l=_(r(73)),u=_(r(112)),s=_(r(158)),d=_(r(188)),c=_(r(5856)),f=_(r(428)),p=_(r(98)),y=_(r(5884)),h=_(r(10)),v=_(r(5619));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){var t,r;function n(t){var r;return g(r=e.call(this,t)||this).handleTransfer=r.handleTransfer.bind(g(r)),g(r).handleAcknowledged=r.handleAcknowledged.bind(g(r)),r.state={acknowledged:!1},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.handleTransfer=function(e){e.preventDefault(),l.default.pop(),o.default.transferOwnership(this.props.guild.id,this.props.toUser.id).then(function(){return(0,i.popLayer)()}).catch(function(){})},a.handleAcknowledged=function(e){e.currentTarget.checked?this.setState({acknowledged:!0}):this.setState({acknowledged:!1})},a.render=function(){var e=this.props,t=e.fromUser,r=e.toUser,n=e.onClose,a=this.state.acknowledged;return m(d.default,{tag:"form",onSubmit:this.handleTransfer},void 0,m(d.default.Header,{},void 0,m(p.default,{tag:p.default.Tags.H4},void 0,h.default.Messages.TRANSFER_OWNERSHIP,"—",this.props.toUser.toString())),m(d.default.Content,{},void 0,m(s.default,{className:v.default.fromToWrapper,justify:s.default.Justify.CENTER},void 0,m("div",{className:v.default.from},void 0,m(y.default,{user:t,size:"xxlarge"})),m("div",{className:v.default.to},void 0,m(y.default,{user:r,size:"xxlarge"}))),m(c.default,{hideBorder:!0,value:a,onChange:this.handleAcknowledged},void 0,m(f.default,{type:f.default.Types.DESCRIPTION},void 0,h.default.Messages.TRANSFER_OWNERSHIP_ACKNOWLEDGE.format({username:r.toString()})))),m(d.default.Footer,{},void 0,m(u.default,{type:"submit",disabled:!a,color:u.default.Colors.RED},void 0,h.default.Messages.TRANSFER_OWNERSHIP),m(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:n},void 0,h.default.Messages.CANCEL)))},n}(a.PureComponent);O.displayName="TransferOwnership",O.key=function(){return"transfer-ownership-modal"};var A=O;t.default=A},7301:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=f(r(6555)),l=f(r(823)),u=f(r(20)),s=f(r(132)),d=f(r(5848)),c=f(r(10));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.render=function(){var e=this,t=this.props,r=t.focused;if(t.hidden)return null;var a=r?c.default.Messages.UNFOCUS_PARTICIPANT:c.default.Messages.FOCUS_PARTICIPANT;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:a,action:function(){return e.handleFocus()}})},o.handleFocus=function(){var e=this.props,t=e.focused,r=e.channelId,n=e.userId;i.default.selectParticipant(r,t?null:n)},a}(a.PureComponent);p.displayName="UserVideoFocusItem";var y=o.default.connectStores([l.default,s.default],function(e){var t=e.channelId,r=e.userId,n=e.guildId,a=l.default.getSelectedParticipantId(t),o=u.default.getChannel(t),i=s.default.isInChannel(n,t,r)&&s.default.hasVideo(n,t);return{hidden:null==o||(o.isDM()||!i),focused:a===r}})(p);t.default=y},7302:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(235)),i=f(r(43)),l=f(r(14)),u=f(r(8)),s=f(r(5853)),d=f(r(6698)),c=f(r(10));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={me:null!=t.props.me?t.props.me:l.default.getCurrentUser().id===t.props.userId,volume:null!=t.props.volume?t.props.volume:i.default.getLocalVolume(t.props.userId)},t.handleVolumeChange=function(e){t.state.me||o.default.setLocalVolume(t.props.userId,u.default.embedded?2*e:e)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=null;if(!this.state.me){var t,r=this.state.volume;u.default.embedded?(t=function(e){return(2*e).toFixed(0)+"%"},r/=2):t=function(e){return e.toFixed(0)+"%"},e=p(d.default,{label:c.default.Messages.USER_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:t,defaultValue:r})}return p(s.default,{},void 0,e)},n}(a.PureComponent);y.displayName="UserVolumeGroup";var h=y;t.default=h},846:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=l(r(17)),i=l(r(872));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"});function c(e){switch(e){case d.LEFT:return i.default.left;case d.RIGHT:return i.default.right;case d.UP:return null;case d.DOWN:return i.default.down;default:throw new Error("Invalid Direction "+e)}}var f=function(e){var t=e.width,r=void 0===t?24:t,n=e.height,i=void 0===n?24:n,l=e.color,d=void 0===l?"currentColor":l,f=e.direction,p=e.foreground,y=e.className,h=e.title,v=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["width","height","color","direction","foreground","className","title"]);return a.createElement("svg",u({},v,{width:r,height:i,className:(0,o.default)(y,c(f)),viewBox:"0 0 24 24"}),null!=h?s("title",{},void 0,h):null,s("polygon",{className:p,fill:d,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))};f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},908:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=(n=r(846))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return a.createElement(o.default,i({},e,{direction:o.default.Directions.UP}))}}}]);
//# sourceMappingURL=d4e270c42ab1122cf4ab.js.map