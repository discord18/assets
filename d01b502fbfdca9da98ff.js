(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{5948:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=P(n(1)),i=n(264),l=R(n(3)),s=R(n(7880)),u=R(n(7879)),d=R(n(6995)),f=R(n(949)),c=R(n(376)),p=R(n(952)),h=R(n(14)),m=R(n(69)),y=R(n(44)),v=R(n(129)),g=R(n(943)),_=R(n(522)),E=R(n(1034)),S=R(n(281)),b=R(n(6071)),C=n(544),T=P(n(171)),N=R(n(11)),O=P(n(127)),I=P(n(231)),A=n(6325),M=n(0);function R(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(e){var t=e.match.params.id;return E.default.call(function(){return S.default.open(t)}),a(i.Redirect,{to:p.default.defaultRoute})}function k(e){var t=e.match,n=/-/g,o=t.params.section&&t.params.section.toUpperCase().replace(n,"_"),r=t.params.subsection&&t.params.subsection.toUpperCase().replace(n,"_");return!M.UserSettingsSections.hasOwnProperty(o)||r&&!M.UserSettingsSections.hasOwnProperty(r)||E.default.call(function(){return _.default.open(o,r)}),a(i.Redirect,{to:p.default.defaultRoute})}function F(){return E.default.call(function(){return b.default.open(M.CreateGuildModalScreens.CreateGuild,"External link")}),a(i.Redirect,{to:p.default.defaultRoute})}function x(e){var t=e.match.params,n=t.guildId,o=t.channelId,r=t.type;return E.default.call(function(){return(0,C.open)()}),a(i.Redirect,{to:parseInt(r)===M.ChannelTypes.GUILD_VOICE?M.Routes.CHANNEL(n):M.Routes.CHANNEL(n,o)})}n(1042),n(399),n(549),n(6905),n(1232),n(1236),n(6904),n(6324),n(6338),n(226),n(6903),n(975),n(6902),n(6901),n(6899),n(6896),n(198),n(948),n(525),l.default.initialize(),N.default.embedded&&(N.default.on("USER_SETTINGS_OPEN",function(){return _.default.open(M.UserSettingsSections.ACCOUNT)}),N.default.on("LAUNCH_APPLICATION",function(e,t){var n=O.getLibraryApplicationForApplicationId(t,y.default,v.default);I.playApplication(t,n,{analyticsParams:{source:M.AnalyticsLocations.TRAY_CONTEXT_MENU}})}));var G=(0,A.makeAuthenticated)(u.default);f.default.registerModals(d.default);var B=l.default.connectStores([c.default,p.default,h.default],function(){return{isConnected:c.default.isConnected(),defaultRoute:p.default.defaultRoute,token:h.default.getToken()}})(function(e){function t(){return w(this,t),L(this,e.apply(this,arguments))}return D(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.props,t=e.isConnected,n=e.token;t||null==n||g.default.startSession()},t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute;return null==e.token?a(i.Redirect,{to:M.Routes.LOGIN}):t?a(i.Redirect,{to:n}):null},t}(r.Component));function j(e){var t=e.match.params,n=t.gameId,o=t.action;return m.default.whenInitialized(function(){y.default.whenInitialized(function(){switch(o){case"launch":var e=y.default.getLibraryApplication(n);if(null==e)return;I.playApplication(e.id,e,{analyticsParams:{source:M.AnalyticsLocations.URI_SCHEME}});break;case"uninstall":T.uninstallPrompt(y.default.getLibraryApplication(n),M.AnalyticsLocations.URI_SCHEME)}})}),a(i.Redirect,{to:M.Routes.GAME_LIBRARY})}var V=a(i.Redirect,{exact:!0,from:"/channels",to:"/"}),H=a(i.Redirect,{to:"/"}),Y=a(s.default,{}),W=function(e){function t(){return w(this,t),L(this,e.apply(this,arguments))}return D(t,e),t.prototype.render=function(){return a(r.Fragment,{},void 0,a(i.Switch,{},void 0,V,a(i.Route,{path:M.Routes.APP,component:B}),a(i.Route,{path:M.Routes.USERS(":id"),render:U}),a(i.Route,{path:M.Routes.SETTINGS(":section"),render:k}),a(i.Route,{path:M.Routes.SETTINGS(":section",":subsection"),render:k}),a(i.Route,{path:M.Routes.WELCOME(":guildId",":channelId",":type"),render:x}),a(i.Route,{path:M.Routes.MESSAGE(":guildId",":channelId",":messageId"),render:G}),a(i.Route,{path:M.Routes.CHANNEL(":guildId",":channelId?"),render:G}),a(i.Route,{path:M.Routes.ACTIVITY,render:G}),a(i.Route,{path:M.Routes.GAME_LIBRARY_ACTION(":gameId",":action"),render:j}),a(i.Route,{path:M.Routes.GAME_LIBRARY,render:G}),a(i.Route,{path:M.Routes.GUILD_CREATE,render:F}),a(i.Route,{path:M.Routes.APPLICATION_STORE,render:G}),H),Y)},t}(r.PureComponent);t.default=W,e.exports=t.default},6029:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=m(n(3)),r=m(n(2)),i=n(0),l=m(n(18)),s=m(n(88)),u=m(n(228)),d=m(n(124)),f=m(n(6134)),c=m(n(13)),p=m(n(5)),h=m(n(8));function m(e){return e&&e.__esModule?e:{default:e}}var y=i.FormStates.CLOSED,v=void 0,g=void 0,_=void 0,E=void 0,S={},b={},C=void 0,T=!1,N=!1,O=["name","topic","bitrate","userLimit","nsfw","rateLimitPerUser"];function I(e){y=i.FormStates.OPEN,null!=(_=g=l.default.getChannel(e.channelId))&&(_=_.set("nsfw",_.isNSFW())),E=l.default.getChannel(_.parent_id),C=_.guild_id,S={},A({section:v||i.ChannelSettingsSections.OVERVIEW})}function A(e){(v=e.section)===i.ChannelSettingsSections.INSTANT_INVITES&&(T=!0,c.default.get(i.Endpoints.INSTANT_INVITES(_.id)).then(function(e){T=!1,r.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})},function(){return T=!1}))}var M=h.default.debounce(function(){var e=!0;h.default.forEach(O,function(t){if(_[t]!==g[t])return e=!1}),e&&_!==g&&(_=g,P.emitChange())},500);function R(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new s.default(e.inviter):null,channel:new d.default(e.channel),guild:null!=e.guild?new u.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,p.default)(e.created_at)})}var P=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return _!==g},t.prototype.isOpen=function(){return N},t.prototype.getSection=function(){return v},t.prototype.getInvites=function(){return{invites:b,loading:T}},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getChannel=function(){return _},t.prototype.getFormState=function(){return y},t.prototype.getCategory=function(){return E},t.prototype.getProps=function(){return{submitting:y===i.FormStates.SUBMITTING,errors:S,channel:_,section:v,invites:b,selectedOverwriteId:C,hasChanges:this.hasChanges()}},t}(a.default.Store))(r.default,{CHANNEL_SETTINGS_INIT:I,CHANNEL_SETTINGS_OPEN:function(e){N=!0,I(e)},CHANNEL_SETTINGS_SUBMIT:function(){y=i.FormStates.SUBMITTING},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(e){I(e)},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){y=i.FormStates.OPEN,S=e.errors||{}},CHANNEL_SETTINGS_CLOSE:function(){N=!1,v=null,y=i.FormStates.CLOSED,_=g=null,E=null,b={}},CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;C=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.topic,o=e.bitrate,a=e.userLimit,r=e.nsfw,i=e.rateLimitPerUser;null!=t&&(_=_.set("name",t)),null!=n&&(_=_.set("topic",n)),null!=o&&(_=_.set("bitrate",o)),null!=a&&(_=_.set("userLimit",a)),null!=r&&(_=_.set("nsfw",r)),null!=i&&(_=_.set("rateLimitPerUser",i)),M()},CHANNEL_SETTINGS_SET_SECTION:A,CHANNEL_SETTINGS_LOADED_INVITES:function(e){b={},e.invites.forEach(function(e){b[e.code]=R(e)})},CHANNEL_UPDATE:function(e){if(!function(e){return null!=g&&g.id===e&&(g===_?(_=g=l.default.getChannel(e),E=l.default.getChannel(_.parent_id)):(g=l.default.getChannel(e),_=_.set("permissionOverwrites",g.permissionOverwrites),E=l.default.getChannel(_.parent_id)),!0)}(e.channel.id))return!1;null==_.permissionOverwrites[C]&&(C=_.guild_id)},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=_&&_.id===t&&void(y=i.FormStates.CLOSED)},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(b=o({},b))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;b=o({},b,((t={})[e.invite.code]=R(e.invite),t))}});t.default=P,e.exports=t.default},6054:function(e,t,n){"use strict";t.__esModule=!0,t.Pages=void 0;var o,a,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=g(n(3)),s=g(n(2)),u=g(n(166)),d=g(n(126)),f=g(n(12)),c=g(n(26)),p=g(n(534)),h=g(n(11)),m=g(n(20)),y=g(n(25)),v=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var _="homepageNUFComplete",E="homepageNUFPage",S="NUX_WEB_WELCOME",b=h.default.isWeb(),C=t.Pages=(0,u.default)({INITIAL:null,CLAIM:null,JOIN:null,CREATE:null,DOWNLOAD:null,DISABLED:null}),T=((o={})[C.CLAIM]=function(){var e=f.default.getCurrentUser();return null!=e&&(b&&!e.isClaimed())},o[C.JOIN]=function(){return b&&!(Object.keys(c.default.getGuilds()).length>0)},o[C.CREATE]=function(){return b&&!(Object.keys(c.default.getGuilds()).length>0)},o[C.DOWNLOAD]=function(){return b},o),N=[[C.CLAIM,!0],[C.JOIN,!0],[C.CREATE,!0],[C.DOWNLOAD,!1]],O=[[C.JOIN,!0],[C.CREATE,!0],[C.CLAIM,!0],[C.DOWNLOAD,!1]],I=!1,A=null,M=null,R=y.default.get(_)||!1,P=null;function w(e){return null!=e&&null!=M&&null!=M[e]?M[e][0]:C.INITIAL}function L(e,t,n){b&&m.default.track(v.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:S,from_step:e,to_step:t,skip:n,seconds_on_from_step:null!=P?(Date.now()-P)/1e3:0})}function D(){if(I=!0,!R){M=function(){var e=k.getExperimentDescriptor();if(null==e||e.bucket===v.ExperimentBuckets.CONTROL)return null;var t=(e.bucket===v.ExperimentBuckets.TREATMENT_1?N:O).filter(function(e){var t=e[0];return null!=T[t]&&T[t]()});return t.length>0?t:null}();var e=k.getExperimentDescriptor();if(null!=e&&b&&p.default.trigger(e),null==M)return void U(!0);var t=y.default.get(E,null);null!=t&&M.forEach(function(e,n){e[0]===t&&(A=n)}),null==A&&(A=0),P=Date.now(),L(C.INITIAL,w(A),!1)}}function U(e){var t=k.getExperimentDescriptor();null!=t&&t.bucket!==v.ExperimentBuckets.CONTROL&&(R=!0,y.default.remove(E),y.default.set(_,!0),L(w(A),C.DISABLED,e))}var k=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getExperimentId=function(){return v.Experiments.HOMEPAGE_NUF},t.prototype.getMetaData=function(){return{title:"Homepage NUF",description:["CONTROL: Off","TREATMENT_1: Claim frontloaded","TREATMENT_2: Join/Create frontloaded"]}},t.prototype.initialize=function(){this.waitFor(d.default,f.default,c.default)},t.prototype.getExperimentDescriptor=function(){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||d.default.getEligibleExperiment(this.getExperimentId())},t.prototype.isInExperiment=function(){return null!=this.getExperimentDescriptor()},t.prototype.isOpen=function(){var e=this.getExperimentDescriptor();return!R&&I&&null!=e&&e.bucket!==v.ExperimentBuckets.CONTROL},t.prototype.isTreatment1=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===v.ExperimentBuckets.TREATMENT_1},t.prototype.getProps=function(){return{progress:this.progress,pages:this.pages,page:this.page}},i(t,[{key:"page",get:function(){return A}},{key:"pages",get:function(){return M}},{key:"progress",get:function(){var e=this.page;return null==e||null==M?1:Math.min((e+1)/M.length,1)}}]),t}(l.default.Store))(s.default,{CONNECTION_OPEN:function(e){return D()},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},LOGOUT:function(e){return A=null,M=null,void(I=!1)},HOMEPAGE_NUF_NEXT:function(e){var t=e.isSkip,n=e.autoAdvance;if(null==M)return!1;var o=A;null==M[A+=n?2:1]?U(t):(y.default.set(E,M[A][0]),L(w(o),w(A),t)),P=Date.now()},HOMEPAGE_NUF_DISMISS:function(e){U(e.isSkip)}});p.default.register(k,((r={})[v.ExperimentTypes.NONE]=function(){return null},r[v.ExperimentTypes.USER]=((a={})[v.ExperimentBuckets.CONTROL]=function(){return null},a[v.ExperimentBuckets.TREATMENT_1]=function(){return null},a[v.ExperimentBuckets.TREATMENT_2]=function(){return null},a),r)),t.default=k},6056:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(2)),a=s(n(364)),r=s(n(267)),i=(s(n(124)),n(0)),l=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(null!=e)switch(e.type){case i.ScreenshareChromeExtensionResponseTypes.SCREENSHARE_START_SUCCESS:return function(e){a.default.setDesktopSource(e.streamId)}(e)}else window.chrome.app.isInstalled||r.default.show({title:l.default.Messages.SCREENSHARE_EXTENSION_TITLE,body:l.default.Messages.SCREENSHARE_EXTENSION_BODY,confirmText:l.default.Messages.YES_TEXT,cancelText:l.default.Messages.NO_TEXT,onConfirm:window.chrome.webstore.install})}t.default={open:function(e){null!=window.chrome?window.chrome.runtime.sendMessage(i.SCREENSHARE_CHROME_EXTENSION_ID,{command:i.ScreenshareChromeExtensionCommands.SCREENSHARE},u):o.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_OPEN,channel:e})},close:function(){o.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_CLOSE})},selectSourceType:function(e){o.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_SELECT_SOURCE_TYPE,sourceType:e})}},e.exports=t.default},6085:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedPage=t.PageWrapper=t.Text=t.Title=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(189)),u=f(n(40)),d=f(n(5578));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Title=function(e){var t=e.children,n=e.className;return r("h1",{className:(0,l.default)(n,d.default.title)},void 0,t)},t.Text=function(e){var t=e.children,n=e.className;return r("div",{className:(0,l.default)(n,d.default.text)},void 0,t)},t.PageWrapper=function(e){var t=e.illustration,n=e.children,o=e.style,a=e.illustrationStyle;return r(s.default.div,{className:d.default.modalContent,style:o},void 0,r(u.default,{align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:d.default.illustrationWrapper,grow:0,shrink:0},void 0,r(s.default.div,{style:a},void 0,r("img",{alt:"",src:t}))),r(u.default,{align:u.default.Align.START},void 0,r("div",{className:d.default.padded},void 0,n)))};var p={friction:15,tension:200};t.AnimatedPage=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.translateX=new s.default.Value(0),c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){(0,this.props.setRef)(this),this.translateX.setValue(0)},t.prototype.componentWillEnter=function(e){var t=this.translateX;t.setValue(1),setTimeout(function(){s.default.spring(t,a({toValue:0},p)).start(e)},220)},t.prototype.componentWillLeave=function(e){var t=this.translateX;s.default.spring(t,{toValue:.14,friction:10,tension:100}).start(),setTimeout(function(){s.default.spring(t,a({toValue:-1},p)).start(e)},220)},t.prototype.submit=function(){return new Promise(function(e){return e()})},t.prototype.getAnimatedStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t=this.translateX;return s.default.accelerate({transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0%",e]})}]})},t}(i.Component)},6086:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(2)),r=s(n(58)),i=n(56),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=l.RTCDebugSections.TRANSPORT,d=void 0,f=new i.Interval;function c(){r.default.getMediaEngine().eachConnection(function(e){e.getStats().then(function(e){a.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_UPDATE,stats:e})})})}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSection=function(){return u},t.prototype.getStats=function(){return d},t}(o.default.Store);t.default=new p(a.default,{RTC_DEBUG_MODAL_OPEN:function(e){u=e.section||l.RTCDebugSections.TRANSPORT,d=null,c(),f.start(1e3,c)},RTC_DEBUG_MODAL_CLOSE:function(e){return f.stop(),void(d=null)},RTC_DEBUG_MODAL_SET_SECTION:function(e){u=e.section},RTC_DEBUG_MODAL_UPDATE:function(e){d=e.stats}}),e.exports=t.default},6090:function(e,t,n){"use strict";t.__esModule=!0,t.PREMIUM_CODE_SUBSCRIPTION_ID=void 0;var o,a=n(82),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);var l=t.PREMIUM_CODE_SUBSCRIPTION_ID="0",s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return null==e.id?new t({id:l,type:e.type,createdAt:null,canceledAt:null,currentPeriodStart:0,currentPeriodEnd:new Date(e.current_period_end),status:i.SubscriptionStatusTypes.CANCELED,paymentSourceId:null,paymentGateway:null,plan:null}):new t({id:e.id,type:e.type,createdAt:new Date(e.created_at),canceledAt:null!=e.canceled_at?new Date(e.canceled_at):null,currentPeriodStart:new Date(e.current_period_start),currentPeriodEnd:new Date(e.current_period_end),status:e.status,paymentSourceId:e.payment_source_id,paymentGateway:e.payment_gateway,plan:e.payment_gateway_plan_id})},t.prototype.initialize=function(e){this.id=e.id,this.type=e.type,this.createdAt=e.createdAt,this.canceledAt=e.canceledAt,this.currentPeriodStart=e.currentPeriodStart,this.currentPeriodEnd=e.currentPeriodEnd,this.status=e.status,this.paymentSourceId=e.paymentSourceId,this.paymentGateway=e.paymentGateway,this.plan=e.plan},t}(r.default);t.default=s},6091:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=u(n(3)),i=u(n(7225)),l=u(n(6202)),s=u(n(7221));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleAddPhone=o.handleAddPhone.bind(o),o.handleVerifyPhone=o.handleVerifyPhone.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.error,n=e.working,r=e.valid,l=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["error","working","valid"]);return a.createElement(i.default,o({},l,{error:t,working:n,validPhone:r,onAddPhone:this.handleAddPhone,onVerifyPhone:this.handleVerifyPhone}))},t.prototype.handleAddPhone=function(e){l.default.addPhone(e)},t.prototype.handleVerifyPhone=function(e){var t=this;l.default.verifyPhone(e).then(function(){var e=t.props.onAddedPhone;null!=e&&e()})},t}(a.PureComponent);t.default=r.default.connectStores([s.default],function(){return s.default.getProps()})(d),e.exports=t.default},6092:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(2)),a=s(n(6)),r=s(n(13)),i=n(0),l=s(n(398));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE}),r.default.post({url:e,body:{password:t}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e},function(e){throw o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e})}t.default={enable:function(e){var t=e.code,n=e.secret;return r.default.post({url:i.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:n}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})},disable:function(){(0,l.default)({title:a.default.Messages.TWO_FA_DISABLE,actionText:a.default.Messages.TWO_FA_REMOVE},function(e){return r.default.post({url:i.Endpoints.MFA_TOTP_DISABLE,body:e})},!0).then(function(e){var t=e.body.token;return o.default.dispatch({type:i.ActionTypes.MFA_DISABLE_SUCCESS,token:t})})},enableSMS:function(e){return u(i.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return u(i.Endpoints.MFA_SMS_DISABLE,e)},viewBackupCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.default.post({url:i.Endpoints.MFA_CODES,body:{password:e,regenerate:t}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})},clearBackupCodes:function(){o.default.dirtyDispatch({type:i.ActionTypes.MFA_CLEAR_BACKUP_CODES})}},e.exports=t.default},6093:function(e,t,n){"use strict";t.__esModule=!0,t.showNotice=function(e,t){o.default.dirtyDispatch({type:a.ActionTypes.CHANNEL_NOTICE_SHOW,noticeType:e,guild:t})},t.hideNotice=function(e){o.default.dirtyDispatch({type:a.ActionTypes.CHANNEL_NOTICE_HIDE,noticeType:e})};var o=r(n(2)),a=n(0);r(n(228));function r(e){return e&&e.__esModule?e:{default:e}}},6151:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={clearVADWarning:function(){r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_VAD_WARNING})},clearSuppressWarning:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_SUPPRESS_WARNING,forever:e})},clearPTTAdminWarning:function(){r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_PTT_ADMIN_WARNING})}},e.exports=t.default},6152:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.renderTwoColumns=f,t.renderStreams=function(e,t){return e.map(function(e){var n=r.default.map(e,function(e,n){return"type"===n?null:a(s.Item,{section:t,label:n,value:e},n)}).filter(function(e){return null!=e});return a(i.default,{className:u.default.marginBottom40,title:e.type},e.type,f(n))})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=d(n(8)),i=d(n(941)),l=d(n(40)),s=n(6341),u=d(n(519));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=[],n=0;for(e.length%2!=0&&e.push(a(l.default,{basis:"50%",grow:0},n++));e.length>0;)t.push(a(l.default,{basis:"50%",grow:0},n++,e.splice(0,2)));return t}},6154:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(6)),l=v(n(227)),s=v(n(34)),u=v(n(1018)),d=n(33),f=v(n(6056)),c=v(n(364)),p=v(n(58)),h=v(n(12)),m=v(n(11)),y=v(n(536));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=g(this,e.call.apply(e,[this].concat(r))),o.handleChangeWindows=function(){var e=o.props.channel;f.default.open(e),(0,d.closeContextMenu)()},o.handleStop=function(){c.default.setDesktopSource(null),(0,d.closeContextMenu)()},o.handleVolumeChange=function(e){c.default.setSoundshareVolume(e)},o.handleStreamGame=function(){var e=o.props.game;if(null!=e){var t=m.default.getDesktopSourceFromPid(e.pid),n=h.default.getCurrentUser();c.default.setDesktopSource(t,720,y.default.canUseHigherFramerate(n)?60:30,!0),(0,d.closeContextMenu)()}else o.handleChangeWindows()},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=e.game,r=void 0;if(null!=o&&(r=a(s.default,{label:i.default.Messages.SCREENSHARE_STREAM_GAME.format({gameName:o.name}),action:this.handleStreamGame})),!p.default.isScreenSharing())return a("div",{className:t,style:n},void 0,a(l.default,{},void 0,r,a(s.default,{label:i.default.Messages.SCREENSHARE_SHARE_SCREEN_OR_WINDOW,action:this.handleChangeWindows})));var d=void 0;return p.default.isSoundSharing()&&(d=a(l.default,{},void 0,a(u.default,{label:i.default.Messages.FORM_LABEL_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:function(e){return e.toFixed(0)+"%"},defaultValue:p.default.getSoundshareVolume()}))),a("div",{className:t,style:n},void 0,d,a(l.default,{},void 0,r,a(s.default,{label:i.default.Messages.SCREENSHARE_CHANGE_WINDOWS,action:this.handleChangeWindows}),a(s.default,{label:i.default.Messages.SCREENSHARE_STOP,action:this.handleStop,danger:!0})))},t}(r.PureComponent);t.default=_,e.exports=t.default},6155:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=l(n(38)),i=l(n(7103));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleDismiss=o.handleDismiss.bind(o),o.handleConfirm=o.handleConfirm.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a.createElement(i.default,o({},this.props,{onConfirm:this.handleConfirm,onDismiss:this.handleDismiss}))},t.prototype.close=function(){r.default.pop()},t.prototype.handleConfirm=function(){var e=this.props.onConfirm;this.close(),e&&e()},t.prototype.handleDismiss=function(){var e=this.props.onDismiss;this.close(),e&&e()},t}(a.PureComponent);t.default=s,e.exports=t.default},6156:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(40)),l=d(n(263)),s=d(n(5750)),u=d(n(5559));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.avatarSize,n=e.user,o=e.style,r=n.getAvatarURL();return null==r?null:a(i.default,{style:o,className:s.default.background,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER},void 0,a("div",{className:s.default.backgroundBlur,style:{backgroundImage:"url('"+r+"')"}}),a("div",{className:s.default.backgroundBlurOverlay}),a(l.default,{className:u.default.elevationHigh,size:t,src:r}))},t}(r.PureComponent);f.AvatarSizes=l.default.Sizes,t.default=f,e.exports=t.default},6157:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(224)),s=d(n(5751)),u=n(99);function d(e){return e&&e.__esModule?e:{default:e}}var f={CONTAIN:"contain",COVER:"cover"},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={loading:null==n.streamId},o.handleReady=o.handleReady.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSpinner=function(){return this.state.loading?a("div",{className:s.default.spinner},void 0,a(l.default,{type:l.default.Type.SPINNING_CIRCLE})):null},t.prototype.render=function(){var e,t=this.props,n=t.streamId,o=t.videoComponent,r=t.className,l=t.fit,d=t.mirror;return a("div",{className:s.default.wrapper},void 0,a(o,{className:(0,i.default)(s.default.video,(0,u.getClass)(s.default,"video",l),(e={},e[s.default.mirror]=d,e),r),streamId:n,onReady:this.handleReady}),this.renderSpinner())},t.prototype.handleReady=function(){this.state.loading&&this.setState({loading:!1})},t}(r.PureComponent);c.Fit=f,c.defaultProps={fit:f.CONTAIN,mirror:!1},t.default=c,e.exports=t.default},6160:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={showChangeLog:function(){r.default.dispatch({type:i.ActionTypes.CHANGE_LOG_OPEN})},hideChangeLog:function(){r.default.dispatch({type:i.ActionTypes.CHANGE_LOG_CLOSE})}},e.exports=t.default},6165:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),s=n(6400),u=n(272),d=y(n(40)),f=y(n(67)),c=y(n(6031)),p=n(964),h=(y(p),y(n(6))),m=y(n(5783));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return a(f.default,{className:(0,l.default)(m.default.description,n)},void 0,t instanceof p.CreditCardSourceRecord?h.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,u.upperCaseFirstChar)(t.brand),last_4:t.last4}):h.default.Messages.PAYMENT_SOURCE_PAYPAL)},t.prototype.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,o="";return t instanceof p.CreditCardSourceRecord?o=h.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,s.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof p.PaypalSourceRecord&&(o=t.email),o},t.prototype.render=function(){var e=this.props,t=e.isDefault,n=e.showSubtext,o=e.isPremium;return a(d.default,{},void 0,a(c.default,{type:this.typeString}),a(d.default,{direction:d.default.Direction.VERTICAL,className:m.default.descriptionWrapper},void 0,a(d.default,{align:d.default.Align.CENTER},void 0,this.renderDescription(),t?a("div",{className:m.default.defaultIndicator},void 0,h.default.Messages.DEFAULT):null,o?a("div",{className:m.default.premiumIndicator},void 0,h.default.Messages.PREMIUM):null),n?a("div",{className:m.default.subText},void 0,this.renderSubText()):null))},r(t,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof p.PaypalSourceRecord?c.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?c.default.getType(e.brand):c.default.Types.UNKNOWN}}]),t}(i.PureComponent);v.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1},t.default=v,e.exports=t.default},6166:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=u(n(82)),r=u(n(964)),i=u(n(6090)),l=u(n(969)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=null!=e.payment_source?r.default.createFromServer(e.payment_source):null,o=null!=e.sku?l.default.createFromServer(e.sku):null,a=null!=e.subscription?i.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:e.created_at,currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,subscription:a,skuId:e.sku_id,skuPrice:e.sku_price,sku:o})},t.prototype.initialize=function(e){this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku},o(t,[{key:"isPremiumPayment",get:function(){return null!=this.subscription&&(null==this.subscription.plan||s.PREMIUM_PLANS.has(this.subscription.plan))}}]),t}(a.default);t.default=d,e.exports=t.default},6167:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=u(n(3)),i=u(n(2)),l=u(n(6090)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d={};function f(e){var t,n=e.subscription;d=a({},d,((t={})[n.id]=l.default.createFromServer(n),t))}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPremiumSubscription=function(){for(var e in d)if(d[e].type===s.SubscriptionTypes.PREMIUM)return d[e];return null},o(t,[{key:"subscriptions",get:function(){return d}}]),t}(r.default.Store);t.default=new c(i.default,{BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){var t=e.subscriptions;d={},t.forEach(function(e){d[e.id]=l.default.createFromServer(e)})},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:f,PREMIUM_CODE_ACTIVATION_SUCCESS:f,LOGOUT:function(e){d={}}}),e.exports=t.default},6170:function(e,t,n){"use strict";t.__esModule=!0,t.changePaymentSource=t.resubscribe=t.subscribe=void 0;var o,a,r;t.subscribe=(o=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_SUBSCRIBE_START}),e.prev=1,e.next=4,s.createSubscription(t,n);case 4:return o=e.sent,i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS}),e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_SUBSCRIBE_FAIL,error:e.t0}),e.t0;case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(e,t){return o.apply(this,arguments)}),t.resubscribe=(a=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.resubscribeToSubscription(t,n);case 3:i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_UPDATE_SUCCESS}),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_UPDATE_FAIL,error:e.t0}),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e,t){return a.apply(this,arguments)}),t.changePaymentSource=(r=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.changePaymentSource(t,n);case 3:i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_UPDATE_SUCCESS}),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_UPDATE_FAIL,error:e.t0}),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e,t){return r.apply(this,arguments)});t.openModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.PremiumPaymentSubscriptionModes.NEW,t=arguments[1];i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_MODAL_OPEN,mode:e,plan:t})},t.closeModal=function(){i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_MODAL_CLOSE})},t.cancel=function(e,t){return new Promise(function(n,o){l.default.show({body:e,confirmText:u.default.Messages.PREMIUM_CANCEL_CONFIRM,cancelText:u.default.Messages.PREMIUM_CANCEL_CANCEL,onConfirm:function(){return s.cancelSubscription(t).then(n).catch(function(e){l.default.show({body:u.default.Messages.PREMIUM_CANCEL_FAILED_BODY}),o(e)})},onCancel:function(){return o(new Error("cancelled"))}})})},t.upgrade=function(e,t,n){return new Promise(function(o,a){l.default.show({body:n,confirmText:u.default.Messages.PREMIUM_UPGRADE_CONFIRM,cancelText:u.default.Messages.PREMIUM_UPGRADE_CANCEL,onConfirm:function(){return s.upgradeSubscription(e,t).then(function(){i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_UPDATE_SUCCESS}),o()}).catch(function(e){l.default.show({body:u.default.Messages.PREMIUM_UPGRADE_FAILED_BODY}),a(e)})},onCancel:function(){return a(new Error("cancelled"))}})})},t.clearError=function(){i.default.dispatch({type:d.ActionTypes.PREMIUM_PAYMENT_ERROR_CLEAR})};var i=f(n(2)),l=f(n(267)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(535)),u=f(n(6)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}},6198:function(e,t,n){var o={"./bg.png":6197,"./cs.png":6196,"./da.png":6195,"./de.png":6194,"./el.png":6193,"./en-GB.png":6192,"./en-US.png":6191,"./es-ES.png":6190,"./fi.png":6189,"./fr.png":6188,"./hr.png":6187,"./hu.png":6186,"./it.png":6185,"./ja.png":6184,"./ko.png":6183,"./lt.png":6182,"./nl.png":6181,"./no.png":6180,"./pl.png":6179,"./pt-BR.png":6178,"./ro.png":6177,"./ru.png":6176,"./sv-SE.png":6175,"./tr.png":6174,"./uk.png":6173,"./zh-CN.png":6172,"./zh-TW.png":6171};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=6198},6199:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(11)),l=c(n(1191)),s=n(7207),u=c(s),d=n(0),f=c(n(1037));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o._mounted=!1,o.recordStart=function(){i.default.embedded&&(o.gs=new l.default,o.gs.on("change",o.handleGSChange)),o.setState({mode:s.RecordModes.RECORDING})},o.recordEnd=function(){o.cleanUp(),o.setState({mode:s.RecordModes.DEFAULT})},o.toggleRecordMode=function(){o.state.mode===s.RecordModes.DEFAULT?o.recordStart():o.recordEnd()},o.handleComboKeys=function(e,t,n){if(n.preventDefault(),"keydown"===n.type){var a=t.map(function(e){return[d.KeyboardDeviceTypes.KEYBOARD_KEY,(0,f.default)(e),d.KeyboardEnvs.BROWSER]}),r=n.keyCode;a.find(function(e){var t=e[1];return r===t})||a.push([d.KeyboardDeviceTypes.KEYBOARD_KEY,r,d.KeyboardEnvs.BROWSER]),o.handleComboChange(a)}},o.handleGSChange=function(e){if(!1!==o._mounted){var t=[].concat(e.combo);o.handleComboChange(t)}};var a=n.defaultValue;return o.state={codes:a,mode:s.RecordModes.DEFAULT},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._mounted=!0},t.prototype.componentWillUnmount=function(){this._mounted=!1,this.cleanUp()},t.prototype.cleanUp=function(){i.default.embedded&&null!=this.gs&&(this.gs.destroy(),this.gs=null)},t.prototype.handleComboChange=function(e){var t=this.props.onChange;null!=t&&t(e),this.setState({codes:e})},t.prototype.render=function(){var e=this.state,t=e.codes,n=e.mode,o=this.props.disabled,r=void 0;return i.default.embedded||(r=this.handleComboKeys),a(u.default,{disabled:o,value:t,mode:n,onClick:this.toggleRecordMode,onChange:r})},t}(r.PureComponent);t.default=p,e.exports=t.default},6201:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(8)),r=s(n(3)),i=s(n(2)),l=s(n(384));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1,d=[];var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackupCodes=function(){return d},o(t,[{key:"togglingSMS",get:function(){return u}}]),t}(r.default.Store);t.default=new f(i.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;l.default.setToken(t),d=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;l.default.setToken(t)},MFA_SMS_TOGGLE:function(e){u=!0},MFA_SMS_TOGGLE_COMPLETE:function(e){u=!1},MFA_CLEAR_BACKUP_CODES:function(e){d=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;d=a.default.sortBy(t,"code")}}),e.exports=t.default},6202:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=l(n(2)),r=n(0),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default=o({},{},{addPhone:function(e){a.default.dispatch({type:r.ActionTypes.VERIFICATION_ADDING_PHONE}),i.default.post({url:r.Endpoints.PHONE,body:{phone:e}}).then(function(){return a.default.dispatch({type:r.ActionTypes.VERIFICATION_ADD_PHONE_SUCCESS})},function(e){var t=e.body;return a.default.dispatch({type:r.ActionTypes.VERIFICATION_ADD_PHONE_FAILURE,error:t.message})})},verifyPhone:function(e){return a.default.dispatch({type:r.ActionTypes.VERIFICATION_VERIFYING_PHONE}),i.default.post({url:r.Endpoints.VERIFY_PHONE,body:{code:e}}).then(function(e){return a.default.dispatch({type:r.ActionTypes.VERIFICATION_VERIFY_PHONE_SUCCESS}),a.default.dispatch({type:r.ActionTypes.MODAL_POP}),e},function(e){throw a.default.dispatch({type:r.ActionTypes.VERIFICATION_VERIFY_PHONE_FAILURE,error:e.body.message}),e})},reset:function(){a.default.dirtyDispatch({type:r.ActionTypes.VERIFICATION_ADD_PHONE_RESET})}}),e.exports=t.default},6203:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(6)),l=m(n(123)),s=m(n(75)),u=m(n(266)),d=m(n(67)),f=m(n(939)),c=m(n(64)),p=m(n(524)),h=m(n(5819));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleSubmit=o.handleSubmit.bind(o),o.handleCancel=o.handleCancel.bind(o),o.handlePasswordChange=o.handlePasswordChange.bind(o),o.state={value:"",error:null,isLoading:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,o=e.children,m=this.state,y=m.error,v=m.isLoading,g=m.value,_=r.Children.count(o)?a(p.default,{type:p.default.Types.WARNING,className:h.default.card},void 0,a(d.default,{color:d.default.Colors.WHITE,size:d.default.Sizes.MEDIUM},void 0,o)):null;return a(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,a(l.default.Header,{},void 0,a(s.default,{tag:s.default.Tags.H4},void 0,t)),a(l.default.Content,{},void 0,_,a(u.default,{title:i.default.Messages.FORM_LABEL_PASSWORD,className:h.default.spacing},void 0,a(f.default,{type:"password",autoComplete:"off",autoFocus:!0,value:g,onChange:this.handlePasswordChange}),y?a(d.default,{size:d.default.Sizes.SMALL,color:d.default.Colors.RED,className:h.default.error},void 0," ",y," "):null)),a(l.default.Footer,{},void 0,a(c.default,{type:"submit",disabled:v},void 0,n||i.default.Messages.CONFIRM),a(c.default,{onClick:this.handleCancel,look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY},void 0,i.default.Messages.CANCEL)))},t.prototype.handleSubmit=function(e){var t=this;e.preventDefault();var n=this.state.value,o=this.props,a=o.handleSubmit,r=o.onClose;this.setState({isLoading:!0}),a(n).then(function(){return r()},function(e){null!=e.body&&(e.body.password?t.setState({error:e.body.password,isLoading:!1}):e.body.message&&t.setState({error:e.body.message,isLoading:!1}))})},t.prototype.handleCancel=function(){(0,this.props.onClose)()},t.prototype.handlePasswordChange=function(e){this.setState({value:e})},t}(r.PureComponent);y.key=function(){return"password-confirm-modal"},t.default=y,e.exports=t.default},6205:function(e,t,n){"use strict";t.__esModule=!0,t.authorizeAndSetTestModeApplication=void 0;var o,a;t.authorizeAndSetTestModeApplication=(o=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.dispatch({applicationId:t,type:u.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START}),e.prev=1,e.next=4,(0,s.fetchSKUsForApplication)(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:return l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t}),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,this,[[1,11]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)});t.reset=function(){l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_RESET})},t.resetError=function(){l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})};var r,i=n(2),l=(r=i)&&r.__esModule?r:{default:r},s=n(981),u=n(0)},6238:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.MasonryNodeInsertedEmitter=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(73)),l=p(n(8)),s=p(n(46)),u=p(n(40)),d=p(n(959)),f=n(6237),c=p(n(5897));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){h(this,t);var n=m(this,e.call(this));return n.node=document.createElement("div"),n}return y(t,e),t.prototype.getNode=function(){return this.node},t.prototype.componentWillUnmount=function(){(0,f.removeNode)(this.node)},t.prototype.render=function(){return i.default.createPortal(this.props.children,this.node)},t}(r.Component),g=t.MasonryNodeInsertedEmitter=new s.default;g.setMaxListeners(0);var _=function(t){function n(){var e,o;h(this,n);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=o=m(this,t.call.apply(t,[this].concat(r))),o._didMount=!1,o._columnNodes={},o._itemNodes={},o._columns=[],o._itemHeightsForRender={},o.debouncedUpdateColumns=l.default.debounce(function(){o.updateColumns(o.props)}),o.setColumnRef=function(e,t){null!=t&&(o._columnNodes[e]=t)},o.setMeasurementSectionRef=function(e){null!=e&&(o._measurementNode=e)},m(o,e)}return y(n,t),n.prototype.componentDidMount=function(){this._didMount=!0,this.updateColumns(this.props)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(e.width!==this.props.width||this.getNumColumns(e)!==this.getNumColumns(this.props))this._itemHeightsForRender={};else{var n=e.items.map(e.getItemId),o=this.props.items.map(e.getItemId);l.default.isEqual(n,o)||(l.default.difference(o,n).forEach(function(e){delete t._itemHeightsForRender[e]}),this.debouncedUpdateColumns())}},n.prototype.componentWillUnmount=function(){this.debouncedUpdateColumns.cancel()},n.prototype.getNumColumns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.width,n=e.desiredItemWidth,o=e.maxColumns,a=Math.max(Math.floor(t/n),1);return Math.min(a,o)},n.prototype.getItemWidth=function(e){var t=e.maxItemWidth,n=e.width,o=this.getNumColumns(e),a=20*(o-1);return Math.floor(Math.min(n/o,t))-Math.ceil(a/o)},n.prototype.updateColumns=function(e){for(var t=this,n=e.items,o=e.getItemId,a=e.onColumnChange,r=this.getNumColumns(e),i=l.default.times(r,function(){return[]}),s=l.default.times(r,function(e){return{index:e,height:0}}),u=0;u<n.length;u++){var d=o(n[u]);if(null!=this._itemHeightsForRender[d]){var f=l.default.minBy(s,function(e){return e.height}).index;s[f].height+=this._itemHeightsForRender[d],i[f].push(d)}}this._columns=i,i.forEach(function(e,n){e.forEach(function(e){null!=t._itemNodes[e]&&t._columnNodes[n].appendChild(t._itemNodes[e])})}),null!=a&&a()},n.prototype.setMeasurementRef=function(t,n){if(null!=n){var o=n.getNode();this._itemNodes[t]=o,null==o.parentNode&&(this._measurementNode.appendChild(o),e(function(){return g.emit("change",{node:o})})),this._itemHeightsForRender[t]=o.offsetHeight,this._didMount&&this.debouncedUpdateColumns()}},n.prototype.render=function(){var e=this,t=this.props,n=t.items,o=t.getItemId,i=t.renderItem,l=t.renderHeader,s=t.className,d=t.renderEmpty,f=this.getNumColumns(this.props),p=this.getItemWidth(this.props),h=20-20/f;return a("div",{className:s},void 0,a(u.default,{direction:u.default.Direction.VERTICAL},void 0,null!=l?l():null,null!=d&&0===n.length?d():null,a(u.default,{justify:u.default.Justify.CENTER},void 0,0!==n.length?Array(f).fill().map(function(t,n){return r.createElement("div",{className:c.default.column,style:{width:"calc("+100/f+"% - "+h+"px)"},key:n,ref:e.setColumnRef.bind(e,n)})}):null)),r.createElement("div",{className:c.default.measureWrapper,style:{width:p},ref:this.setMeasurementSectionRef}),n.map(function(t,n){var a=o(t);return r.createElement(v,{id:a,ref:null==e._itemHeightsForRender[a]?e.setMeasurementRef.bind(e,a):null,key:a},i(t,p,n))}))},n}(r.PureComponent);_.defaultProps={maxColumns:1/0,maxItemWidth:1/0},t.default=(0,d.default)(_)}).call(this,n(35).setImmediate)},6270:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(40)),s=m(n(263)),u=m(n(265)),d=m(n(541)),f=n(33),c=m(n(942)),p=n(0),h=m(n(5944));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleContextMenu=function(e,t){(0,f.openContextMenu)(e,function(e){return i.createElement(c.default,r({},e,{type:p.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.prototype.renderUser=function(e){var t=this;return null==e?null:a(l.default,{className:h.default.user,align:l.default.Align.CENTER,onContextMenu:function(n){return null!=e&&t.handleContextMenu(n,e)}},e.id,a(s.default,{src:e.getAvatarURL(),size:s.default.Sizes.XSMALL}),a(d.default,{user:e,className:h.default.tag,usernameClass:h.default.username,discriminatorClass:h.default.discriminator}))},t.prototype.render=function(){var e=this,t=this.props,n=t.party,o=t.header,r=n.map(function(t){return e.renderUser(t)});return a("div",{className:h.default.userList},void 0,a("div",{className:h.default.header},void 0,o),a(u.default,{className:h.default.content,fade:!0,theme:u.default.Themes.GHOST_HAIRLINE},void 0,r))},t}(i.PureComponent);t.default=y,e.exports=t.default},6271:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=y(n(1)),l=m(n(3)),s=m(n(9)),u=n(172),d=y(n(545)),f=n(549),c=m(n(284)),p=m(n(223)),h=m(n(991));n(0);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=v(this,e.call.apply(e,[this].concat(l))),o.handleGamePopoutOpen=function(){var e=o.props,t=e.game,n=e.source,a=e.onOpen;null!=t&&(d.trackGamePopoutOpened(t,n),a&&a())},o.renderGamePopout=function(e){var t=o.props,n=t.game,a=t.source;return i.createElement(h.default,r({},e,{game:n,source:a}))},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,o=e.isInFeedExperiment,r=e.interactiveClassName,l=e.game;return!o||null==l||l.id===u.SPOTIFY_APPLICATION_ID||l instanceof f.TwitchGameRecord||l instanceof f.XboxGameRecord?t:a(p.default,{render:this.renderGamePopout,position:p.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,i.cloneElement(t,{className:(0,s.default)(t.props.className,r)}))},t}(i.PureComponent);t.default=l.default.connectStores([c.default],function(){return{isInFeedExperiment:c.default.isInFeedExperiment()}})(g),e.exports=t.default},6275:function(e,t,n){"use strict";t.__esModule=!0,t.setHomeLink=function(e){r.default.dirtyDispatch({type:i.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6328:function(e,t,n){"use strict";t.__esModule=!0,t.nextStep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_NEXT,isSkip:e,autoAdvance:t})},t.dismiss=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_DISMISS,isSkip:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6331:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(40)),s=u(n(5703));function u(e){return e&&e.__esModule?e:{default:e}}var d={WRAP:"wrap",STACK:"stack"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.layout,o=e.columns,r=void 0;switch(n){case d.STACK:r="100%";break;case d.WRAP:r=1/o*100+"%"}return t.map(function(e,t){return a(l.default.Child,{className:s.default.tile,basis:r,grow:0},t,e)})},t.prototype.render=function(){var e=this.props.className;return a(l.default,{className:(0,i.default)(e,s.default.grid),wrap:l.default.Wrap.WRAP},void 0,this.renderChildren())},t}(r.PureComponent);f.defaultProps={children:[],layout:d.WRAP,columns:4},f.Layout=d,t.default=f,e.exports=t.default},6337:function(e,t,n){var o={"./2017-11-16.mp4":6991,"./discriminator.mp4":6990,"./g250k-cl.mp4":6989,"./header.mp4":6988,"./league-rp-cl.mp4":6987,"./store.jpg":6986};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=6337},6338:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=h(n(3)),i=h(n(25)),l=h(n(2)),s=n(0),u=h(n(12)),d=h(n(31)),f=h(n(126)),c=h(n(6059)),p=h(n(570));function h(e){return e&&e.__esModule?e:{default:e}}var m="lastChangeLog",y="shouldShowChangeLog",v="en-us",g={},_={},E=void 0,S=!1,b=void 0,C=!1;function T(e){return e.locale||v}if(n(6994).replace(/\r\n/g,"\n").split("---changelog---\n").slice(1).forEach(function(e){var t=!1,n={},o=e.split("\n").filter(function(e){if("---"===e)return t=!0,!1;if(!t){var o=e.split(": "),a=o.shift(),r=o.join(": ");n[a]=JSON.parse(r)}return t}).join("\n");if(null==n.date||null==n.revision)throw new Error("ChangeLogStore: A changelog does not contain a date or revision property");var r=a({},n,{date:n.date,revision:n.revision,locale:null!=n.locale?n.locale.toLowerCase():v,body:o});if(null!=n.experiment_names&&n.experiment_names.length>0)n.experiment_names.forEach(function(e){var t=_[e]||(_[e]={}),n=r.experiment_bucket||(r.experiment_bucket=s.ExperimentBuckets.CONTROL),o=t[String(n)]||(t[String(n)]={}),a=T(r);if(null!=o[a])throw new Error("ChangeLogStore: Locale ("+a+") already defined for "+e);o[a]=r});else{var i=T(r);if(null!=g[i])throw new Error("ChangeLogStore: Locale ("+i+") already defined for default changelogs");g[i]=r}}),null==g[v])throw new Error("ChangeLogStore: No default changeLog");function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null!=_?Object.keys(_):[],n=d.default.locale.toLowerCase(),o=null;if(!e&&t.length>0){var a=c.default.getFirstEligibleUserExperiment(t);if(null!=a){var r=a.name;if(null==r||null==_[r])throw new Error("ChangeLogStore: This changelog experiment has not been registered");var i=String(a.bucket);null!=_[a.name][i]&&(o=_[a.name][i][n]||_[a.name][i][v])}}return null==o&&(o=g[n]||g[v]),o}function O(){var e=function(e){if(!e)return null;var t=e.date,n=e.revision,o=e.experiment_names;return p.default.v3(JSON.stringify({date:t,revision:n,experiment_names:o}))}(E=N());b!==e&&u.default.getCurrentUser().isClaimed()&&(C=null!=b,b=e,i.default.set(m,b),i.default.set(y,C)),S=!0}E=N(!0);var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){b=i.default.get(m)||b,C=i.default.get(y)||C,this.waitFor(u.default,f.default,d.default)},t.prototype.isOpen=function(){return S&&C},o(t,[{key:"changeLog",get:function(){return E}}]),t}(r.default.Store);t.default=new I(l.default,{CHANGE_LOG_OPEN:function(e){return C=!0,void i.default.set(y,C)},CHANGE_LOG_CLOSE:function(e){return C=!1,void i.default.set(y,C)},CONNECTION_OPEN:function(e){return O()},CONNECTION_CLOSED:function(e){S=!1},USER_SETTINGS_UPDATE:function(e){return function(e){if(null==e.locale)return!1;E=N()}(e.settings)}}),e.exports=t.default},6339:function(e,t,n){"use strict";t.__esModule=!0,t.LHeading=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(9)),s=C(n(283)),u=C(n(6375)),d=C(n(6160)),f=C(n(6338)),c=C(n(6993)),p=C(n(6059)),h=C(n(6)),m=n(990),y=C(n(20)),v=C(n(5)),g=C(n(67)),_=C(n(40)),E=C(n(75)),S=n(0),b=C(n(5718));function C(e){return e&&e.__esModule?e:{default:e}}var T=s.default.parserFor(c.default.getDefaultRules()),N=(t.LHeading=function(e){var t,n=e.level,o=e.children,a=e.className;return i.createElement("h"+n,{className:l.default.apply(void 0,(t=a,null==t?[]:t.split(" ").map(function(e){return b.default[e]})))},o)},function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.getScrollerRef=o.getScrollerRef.bind(o),o.handleScroll=o.handleScroll.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){d.default.hideChangeLog()},t.prototype.track=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=f.default.changeLog;if(o){var a=o.date,i=o.revision,l=r({change_log_id:a+":"+i},t);n||(l=r({seconds_open:Math.round((Date.now()-this.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(this.maxScrolledPercentage.toPrecision(4),10)},l)),y.default.track(e,l)}},t.prototype.joinEligibleExperiment=function(){var e=f.default.changeLog;null!=e&&e.experiment_names&&p.default.triggerFirstEligibleUserExperiment(e.experiment_names)},t.prototype.getScrollerRef=function(e){this._scrollerNode=null!=e?e._scroller:null},t.prototype.componentDidMount=function(){if(null==f.default.changeLog)return this.close();this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.joinEligibleExperiment(),this.track(S.AnalyticEvents.CHANGE_LOG_OPENED,{},!0)},t.prototype.componentWillUnmount=function(){this.track(S.AnalyticEvents.CHANGE_LOG_CLOSED)},t.prototype.handleScroll=function(){if(null!=this._scrollerNode){var e=this._scrollerNode.getScrollData(),t=e.offsetHeight,n=e.scrollHeight,o=e.scrollTop/(n-t);this.maxScrolledPercentage=Math.max(this.maxScrolledPercentage,o)}},t.prototype.renderHeader=function(){var e=f.default.changeLog;return null==e?null:a(_.default.Child,{grow:1,shrink:1},void 0,a(E.default,{tag:E.default.Tags.H4},void 0,h.default.Messages.WHATS_NEW),a(g.default,{size:g.default.Sizes.SMALL,color:g.default.Colors.PRIMARY,className:b.default.date},void 0,h.default.Messages.WHATS_NEW_DATE.format({date:e.date?(0,v.default)(e.date).toDate():new Date})))},t.prototype.renderFooter=function(){return a(g.default,{size:g.default.Sizes.SMALL,color:g.default.Colors.PRIMARY},void 0,h.default.Messages.MISSED_AN_UPDATE.format({link:"https://blog.discordapp.com/tagged/changelog"}))},t.prototype.renderVideo=function(){var e=f.default.changeLog;if(null==e)return null;var t=e.youtube_video_id,o=e.video;if(t)return a(m.EmbedVideo,{className:b.default.video,allowFullScreen:!1,href:"https://youtu.be/"+t,thumbnail:{url:"https://i.ytimg.com/vi/"+t+"/maxresdefault.jpg",width:451,height:254},video:{url:"https://www.youtube.com/embed/"+t+"?vq=large&rel=0&controls=0&showinfo=0",width:451,height:254},maxWidth:451,maxHeight:254});if(o){var r=n(6337)("./"+o);return a("video",{src:r,width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:b.default.video})}var i=n(6337)("./"+(e.image||"header.png"));return a("img",{alt:"",src:i,width:451,height:254})},t.prototype.render=function(){var e=f.default.changeLog||{};return i.createElement(u.default,{className:b.default.container,ref:this.getScrollerRef,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},this.renderVideo(),T(e.body,!1,{changeLog:this}))},t}(i.PureComponent));N.modalConfig={store:f.default,center:!0},t.default=N},6340:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={open:function(){r.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_OPEN})},close:function(){r.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_CLOSE})}},e.exports=t.default},6341:function(e,t,n){"use strict";t.__esModule=!0,t.valueRenderers=t.graphs=t.labelRenderers=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.Item=function(e){var t=e.label,n=e.value,o=e.section,l=y[t]||function(e){return e};return a(r.default,{label:t,value:n,valueRendered:l(n),section:o,renderGraph:m[t]&&function(e){return a(i.default,{datapoint:e})}.bind(null,n)},void 0,u[t]||t)};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=s(n(7002)),i=s(n(7001)),l=s(n(6268));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.labelRenderers={audioDetected:"Audio Detected",audioLevel:"Audio Level",availableIncomingBitrate:"Available Incoming Bitrate",availableOutgoingBitrate:"Available Outgoing Bitrate",averageDecodeTime:"Average Decode Time",averageEncodeTime:"Average Encode Time",bandwidthLimitedResolution:"Bandwidth Limited Resolution",bitrate:"Bitrate",bitratePreferred:"Bitrate (Preferred)",bitrateTarget:"Bitrate (Target)",bytesReceived:"Bytes Received",bytesSent:"Bytes Sent",codec:"Codec",cpuLimitedResolution:"CPU Limited Resolution",decodingCNG:"Decoding CNG",decodingMutedOutput:"Decoding Muted Output",decodingNormal:"Decoding Normal",decodingPLC:"Decoding PLC",decodingPLCCNG:"Decoding PLC CNG",decryptionFailures:"Decryption Failures",delayEstimate:"Delay Estimate",encodeUsage:"Encode Usage",firCount:"FIR",fractionLost:"Packet Loss",frameRateDecode:"Frame Rate (Decode)",frameRateEncode:"Frame Rate (Encode)",frameRateInput:"Frame Rate (Input)",frameRateNetwork:"Frame Rate (Network)",frameRateRender:"Frame Rate (Render)",framesDecoded:"Frames Decoded",framesDropped:"Frames Dropped",framesEncoded:"Frames Encoded",framesReceived:"Frames Received",framesSent:"Frames Sent",jitter:"Jitter",jitterBuffer:"Jitter Buffer",jitterBufferPreferred:"Jitter Buffer (Preferred)",nackCount:"NACK",packetsLost:"Packets Lost",packetsReceived:"Packets Received",packetsSent:"Packets Sent",ping:"Ping",pliCount:"PLI",qpSum:"qpSum",resolution:"Resolution",ssrc:"SSRC",localAddress:"Local Address"};function d(e){return(e/1e3).toFixed(2)+" Kbps"}function f(e){return l.default.filesize(e)}function c(e){return e+" ms"}function p(e){return e.toFixed(0)+"%"}function h(e){return e?"Yes":"No"}var m=t.graphs={availableIncomingBitrate:!0,availableOutgoingBitrate:!0,bytesReceived:!0,bytesSent:!0,packetsLost:!0,packetsReceived:!0,packetsSent:!0,ping:!0},y={audioDetected:h,audioLevel:function(e){return Math.max(e,0).toFixed(2)+" dB"},availableIncomingBitrate:d,availableOutgoingBitrate:d,averageDecodeTime:c,averageEncodeTime:c,bandwidthLimitedResolution:h,bitrate:d,bitratePreferred:d,bitrateTarget:d,bytesReceived:f,bytesSent:f,codec:function(e){var t=e.id,n=e.name;return""+(n=n||"unknown")[0].toUpperCase()+n.slice(1)+" ("+t+")"},cpuLimitedResolution:h,delayEstimate:c,encodeUsage:p,fractionLost:p,jitter:c,jitterBuffer:c,jitterBufferPreferred:c,ping:c,resolution:function(e){return e.width+"x"+e.height}};t.valueRenderers=y},6342:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=c(n(3)),i=c(n(8)),l=c(n(2)),s=c(n(6029)),u=c(n(18)),d=c(n(76)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new Set,h=f.FormStates.CLOSED,m=!1,y=void 0,v=void 0,g=null,_=null,E=null,S=null,b=null,C=null;function T(){E=s.default.getChannel(),S=s.default.getCategory();var e=E.getGuildId();_=g=function(e){var t=e.getGuildId(),n=a({},e.permissionOverwrites);return null==n[t]&&(n[t]=d.default.makeEveryoneOverwrite(t)),n}(E),null==g[b]&&(b=e),v=null!=S,y=d.default.areChannelsLocked(E,S),C=null,m=!1,h=f.FormStates.CLOSED,p.clear()}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,u.default)},t.prototype.hasChanges=function(){return m},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getPermissionOverwrite=function(e){return g[e]},o(t,[{key:"editedPermissionIds",get:function(){return Array.from(p)}},{key:"permissionOverwrites",get:function(){return g}},{key:"selectedOverwriteId",get:function(){return b}},{key:"formState",get:function(){return h}},{key:"isLockable",get:function(){return v}},{key:"locked",get:function(){return y}},{key:"channel",get:function(){return E}},{key:"category",get:function(){return S}}]),t}(r.default.Store);t.default=new N(l.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=E||t!==f.ChannelSettingsSections.PERMISSIONS)return!1;T()},CHANNEL_SETTINGS_PERMISSIONS_INIT:T,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n=e.id,o=e.allow,r=e.deny,l=g[n];if(null==l)return!1;l=a({},l,{allow:o,deny:r}),g=a({},g,((t={})[n]=l,t)),p.add(n),h=f.FormStates.OPEN,m=!i.default.isEqual(g,_),y=d.default.areChannelsLocked(E,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=g[t])b=t;else{if(null==E)return!1;C=t}},CHANNEL_SETTINGS_CLOSE:function(){h=f.FormStates.CLOSED,g=null,_=null,E=null,S=null,m=!1,p.clear(),b=null,C=null},CHANNEL_UPDATE:function(e){return function(e){if(null==E||E.id!==e)return!1;E=u.default.getChannel(e),S=s.default.getCategory();var t=E.getGuildId(),n={};p.forEach(function(e){return n[e]=g[e]}),null==n[t]&&null==E.permissionOverwrites[t]&&(n[t]=d.default.makeEveryoneOverwrite(t)),null==(g=a({},E.permissionOverwrites,n))[b]?b=t:C&&g[C]&&(b=C,C=null),y=d.default.areChannelsLocked(E,S)}(e.channel.id)},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){h=f.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(){h=f.FormStates.CLOSED,T()}}),e.exports=t.default},6361:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=s(n(3)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.has=function(e){return null!=e&&null!=u[e]},o(t,[{key:"windows",get:function(){return u}}]),t}(r.default.Store);t.default=new d(i.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t,n=e.id,o=e.component,r=e.position,i=e.props,s=e.offsets;null==r&&(r=l.PictureInPicturePositions.BOTTOM_LEFT),u=a({},u,((t={})[n]={component:o,position:r,props:i,offsets:s},t))},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(null==u[t])return!1;delete u[t],u=a({},u)},PICTURE_IN_PICTURE_MOVE:function(e){var t,n=e.id,o=e.position;u=a({},u,((t={})[n]=a({},u[n],{position:o}),t))},LOGOUT:function(e){u={}}}),e.exports=t.default},6362:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments[4];r.default.dirtyDispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,position:n,props:o,offsets:a})},t.close=function(e){r.default.dirtyDispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})},t.moveTo=function(e,t){r.default.dispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6364:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=c(n(3)),r=c(n(2)),i=c(n(25)),l=c(n(191)),s=c(n(18)),u=c(n(14)),d=c(n(274)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p="IncomingCallStore",h={width:240,height:340},m=10,y=new Set,v=Object.freeze({}),g={},_=new Set,E=0,S=0,b=!1;function C(e){return null!=e&&(null!=g[e]&&(delete g[e],g=o({},g),void(_=new Set(_)).delete(e)))}function T(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!_.has(t)&&n){var a,r=s.default.getChannel(t);if(null==r)return!1;var i=m*_.size;g=o({},g,((a={})[t]={channel:r,x:E+i,y:S+i},a)),(_=new Set(_)).add(t)}else{if(!_.has(t)||n)return!1;C(t)}}function N(){b=d.default.getStatus()===f.StatusTypes.DND}!function(){var e=i.default.get(p);if(e)E=+e.x,S=+e.y;else{var t=l.default.windowSize();E=t.width/2-h.width/2,S=t.height/2-h.height/2}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,d.default),this.syncWith([d.default],N)},t.prototype.getIncomingCalls=function(){return b?v:g},t.prototype.getIncomingCallChannelIds=function(){return b?y:_},t.prototype.getFirstIncomingCallId=function(){return b?null:_.values().next().value},t.prototype.hasIncomingCalls=function(){return!b&&_.size>0},t}(a.default.Store);t.default=new O(r.default,{CALL_CREATE:T,CALL_UPDATE:T,CALL_DELETE:function(e){return C(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return C(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;return E=t,S=n,i.default.set(p,{x:E,y:S}),!1},CHANNEL_DELETE:function(e){return C(e.channel.id)}}),e.exports=t.default},6372:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=m(n(3)),i=m(n(8)),l=m(n(2)),s=m(n(12)),u=m(n(26)),d=m(n(60)),f=m(n(80)),c=m(n(59)),p=m(n(278)),h=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){var t=s.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function E(e){return{status:f.default.getStatus(e),activity:f.default.getPrimaryActivity(e)}}var S=function(e){function t(){return y(this,t),v(this,e.apply(this,arguments))}return g(t,e),t.prototype.initialize=function(e){this.key=e.key,this.type=e.type,this.status=e.status,this.activity=e.activity,this.user=e.user,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds},a(t,[{key:"comparator",get:function(){return[this.type,this.usernameLower]}}]),t}(m(n(82)).default),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this._rows=t}return e.prototype.reset=function(){return new e(i.default.map(c.default.getRelationships(),function(e,t){return new S(o({key:t,type:e},_(t),E(t),function(e){var t=[];return(0,i.default)(d.default.memberOf(e)).map(u.default.getGuild).sortBy(function(e){return null!=e?e.name.toLowerCase():null}).forEach(function(e){null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}(t)))}))},e.prototype.clone=function(){return new e(this._rows)},e.prototype.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var o=this._rows[n],a=o.merge(e(o.key));t=t||a!==o,this._rows[n]=a}return t},e.prototype.filter=function(e){return(0,i.default)(this._rows).filter(function(e){return null!=e.user}).filter(function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}}).sortBy(function(e){return e.comparator}).value()},e.prototype.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[h.RelationshipTypes.BLOCKED]=0,e);return this._rows.forEach(function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}),t},e}(),C=!0,T=!1,N=h.FriendsSections.ONLINE,O=new b,I=!0;function A(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C&&(e||N!==h.FriendsSections.ONLINE&&N!==h.FriendsSections.ADD_FRIEND)&&!T&&(C=!1,T=!0,p.default.fetchRelationships())}function M(){O=I?new b:O.reset()}function R(e){return function(){return!I&&(!!O.update(e)&&(O=O.clone(),!0))}}var P=function(e){function t(){return y(this,t),v(this,e.apply(this,arguments))}return g(t,e),t.prototype.initialize=function(){this.waitFor(c.default,f.default,s.default,u.default,d.default),this.syncWith([c.default],M),this.syncWith([s.default],R(_)),this.syncWith([f.default],R(E))},t.prototype.getState=function(){return{fetching:T,section:N,pendingCount:c.default.getPendingCount(),rows:O}},t}(r.default.Store);t.default=new P(l.default,{CONNECTION_OPEN:function(e){return function(){C=!0,I?T=!1:A();var e=(O=O.reset()).getRelationshipCounts();0===e[h.RelationshipTypes.FRIEND]&&(N=0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND)}()},FRIENDS_SET_SECTION:function(e){N=e.section,A()},CHANNEL_SELECT:function(e){var t=e.channelId;return I=null!=t,M()},LOAD_RELATIONSHIPS_SUCCESS:function(e){T=!1},LOAD_RELATIONSHIPS_FAILURE:function(e){return C=!0,void(T=!0)}}),e.exports=t.default},6375:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(123)),s=d(n(40)),u=d(n(5738));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.setRef=o.setRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},t.prototype.render=function(){var e=this.props,t=e.renderFooter,n=e.selectable,o=e.renderHeader,d=e.className,f=e.onClose,c=e.children,p=e.onScroll,h=void 0;return t&&(h=a(l.default.Footer,{direction:s.default.Direction.HORIZONTAL},void 0,t())),r.createElement(l.default,{className:u.default.modal,size:u.default.size,ref:this.setRef,onScroll:p},a(l.default.Header,{},void 0,o(),a(s.default.Child,{grow:0},void 0,a(l.default.CloseButton,{onClick:f}))),a(l.default.Content,{className:(0,i.default)(d,u.default.content,{selectable:n})},void 0,c),h)},t}(r.PureComponent);f.defaultProps={selectable:!1},t.default=f,e.exports=t.default},6377:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_AVATAR_VIDEO_RATIO=t.CallAvatarPixelSizes=t.CallAvatarSizes=void 0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=n(0),u=m(n(40)),d=m(n(6157)),f=m(n(87)),c=m(n(79)),p=m(n(142)),h=m(n(5749));function m(e){return e&&e.__esModule?e:{default:e}}var y=t.CallAvatarSizes={XXLARGE:"xxlarge",XLARGE:"xlarge",LARGE:"large",SMALL:"small"},v=(t.CallAvatarPixelSizes=((a={})[y.XXLARGE]=100,a[y.XLARGE]=60,a[y.LARGE]=40,a[y.SMALL]=30,a),t.CALL_AVATAR_VIDEO_RATIO=1.78,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.selected,o=e.streamId,a=e.hasVideo,i=e.mirror,l=e.videoComponent,f=e.disabled,p=e.poorConnection;if(f)return null;if(t===s.ChannelModes.VIDEO&&(n||p)){var m=void 0;return m=r(c.default,p?{className:h.default.poorConnectionIcon,width:24,height:24,color:s.Colors.WHITE,name:c.default.Names.CAMERA_OFF}:{width:36,height:36,className:h.default.cameraIcon,color:s.Colors.WHITE,name:c.default.Names.VIDEO_CAMERA}),r(u.default,{className:h.default.callAvatarOverlay,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,direction:u.default.Direction.VERTICAL},void 0,m)}return t===s.ChannelModes.VIDEO&&a&&null!=l?r(d.default,{className:h.default.callAvatarVideo,mirror:i,streamId:o,videoComponent:l,fit:d.default.Fit.COVER}):null},t.prototype.renderRipples=function(){return this.props.ringing?[r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple0)},"ripple-0"),r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple1)},"ripple-1"),r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple2)},"ripple-2")]:null},t.prototype.renderTopLayer=function(){var e,t=this.props,n=t.mode,o=t.speaking,a=t.soundsharing,i=t.selected,u=t.muted,d=t.deafen,f=t.disabled,p=o&&!f,m=a&&!f,y=i&&!f,v=u&&!f,g=d&&!f,_=r("div",{className:(0,l.default)(h.default.callAvatarBorder,h.default[n],(e={},e[h.default.selected]=y,e[h.default.soundsharing]=m,e[h.default.speaking]=p,e))},"border"),E=n===s.ChannelModes.VOICE,S=void 0;if(v||g){var b=E?24:20;S=r(c.default,{className:h.default.callAvatarStatus,width:b,height:b,color:s.Colors.WHITE,name:g?c.default.Names.DEAFENED:c.default.Names.MUTED},"status")}return E?[_,S]:[S,_]},t.prototype.render=function(){var e,t,n=this.props,o=n.src,a=n.mode,i=n.size,u=n.id,d=n.onClick,c=n.onContextMenu,m=n.className,y=n.disabled,v=n.name,g={backgroundImage:"url('"+o+"')"},_=r("div",{className:(0,l.default)(h.default.callAvatarWrapper,h.default[a],h.default[i],(e={},e[h.default.disabled]=y,e),m)},void 0,this.renderRipples(),r(f.default,{className:(0,l.default)(h.default.callAvatar,h.default[a],(t={},t[h.default.disabled]=y,t)),style:g,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d&&d(u,e)}),onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return c&&c(e,u)})},void 0,this.renderContent(),this.renderTopLayer()));return a===s.ChannelModes.VOICE||y?_:r(p.default,{text:v,position:p.default.Positions.LEFT},void 0,_)},t}(i.PureComponent));v.defaultProps={mode:s.ChannelModes.VOICE,size:y.XXLARGE,selected:!1,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,poorConnection:!1},t.default=v},6378:function(e,t,n){"use strict";t.__esModule=!0,t.BackgroundTransition=void 0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=m(n(8)),u=m(n(189)),d=m(n(521)),f=n(56),c=m(n(40)),p=n(0),h=m(n(5752));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=((a={})[p.ChannelLayouts.NORMAL]=h.default.normal,a[p.ChannelLayouts.MINIMUM]=h.default.minimum,a[p.ChannelLayouts.NO_CHAT]=h.default.noChat,a[p.ChannelLayouts.FULL_SCREEN]=h.default.fullScreen,a),E=t.BackgroundTransition=function(e){function t(n){y(this,t);var o=v(this,e.call(this,n));return o.state={animation:new u.default.Value(0)},o}return g(t,e),t.prototype.componentDidAppear=function(){this.state.animation.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0),u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)},t.prototype.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)},t.prototype.render=function(){return r(u.default.div,{className:h.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)},t}(i.PureComponent),S=function(e){function t(n){y(this,t);var o=v(this,e.call(this,n));return o._timeout=new f.Timeout,o.state={idle:!1,backgroundAnimation:new u.default.Value(0)},s.default.bindAll(o,["handleMouseEvent"]),o}return g(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0),document.addEventListener("mousemove",this.handleMouseEvent,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0),document.removeEventListener("mousemove",this.handleMouseEvent,!0),this._timeout.stop()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.layout!==e.layout&&(this._timeout.stop(),this.state.idle&&this.setState({idle:!1}))},t.prototype.handleMouseEvent=function(){var e=this,t=this.props.layout;t!==p.ChannelLayouts.FULL_SCREEN&&t!==p.ChannelLayouts.NO_CHAT||(this._timeout.start(3e3,function(){return e.setState({idle:!0})}),this.state.idle&&this.setState({idle:!1}))},t.prototype.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,o=e.layout+"-"+(n||"");return r(d.default,{className:h.default.videoBackground,component:"div"},void 0,r(E,{},o,t))},t.prototype.renderContents=function(){var e,t,n=this.props,o=n.top,a=n.center,i=n.bottom,s=n.layout,u=n.focused,d=this.state.idle;return r(c.default,{className:(0,l.default)(h.default.video,_[s],(e={},e[h.default.idle]=d,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,r(c.default,{className:h.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),r(c.default,{className:(0,l.default)(h.default.videoInner,(t={},t[h.default.focused]=u,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,r(c.default,{className:h.default.videoTop,grow:0},void 0,o),r(c.default,{className:h.default.videoCenter},void 0,a),r(c.default,{className:h.default.videoBottom,grow:0},void 0,i))))},t.prototype.render=function(){var e,t=this.props,n=t.layout,o=t.className,a=t.animated;return r("div",{className:(0,l.default)(h.default.videoHeight,_[n],o,(e={},e[h.default.animated]=a,e))},void 0,this.renderContents())},t}(i.PureComponent);S.defaultProps={layout:p.ChannelLayouts.MINIMUM,animated:!0},t.default=S},6379:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=X(n(3)),s=X(n(9)),u=X(n(6)),d=X(n(7117)),f=X(n(287)),c=X(n(146)),p=X(n(365)),h=X(n(278)),m=X(n(7116)),y=X(n(378)),v=X(n(6265)),g=X(n(951)),_=X(n(80)),E=X(n(59)),S=X(n(144)),b=X(n(31)),C=X(n(12)),T=X(n(947)),N=n(543),O=X(N),I=X(n(6023)),A=X(n(64)),M=X(n(945)),R=X(n(40)),P=X(n(6035)),w=X(n(79)),L=X(n(123)),D=X(n(1006)),U=X(n(87)),k=X(n(223)),F=X(n(67)),x=X(n(939)),G=X(n(142)),B=n(520),j=X(n(20)),V=n(194),H=n(277),Y=n(963),W=n(0),z=X(n(5753)),K=X(n(1239)),$=X(n(519)),q=X(n(561));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=42;function te(e){var t=e.className,n=e.children;return r(R.default,{align:R.default.Align.CENTER,justify:R.default.Justify.CENTER,direction:R.default.Direction.VERTICAL,className:(0,s.default)(z.default.errorState,t)},void 0,r("div",{className:(0,s.default)(z.default.errorStateIcon,$.default.marginBottom20)}),n)}var ne=function(e){function t(){var n,o;Q(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=J(this,e.call.apply(e,[this].concat(r))),o.handleMouseEnter=function(){var e=o.props,t=e.onMouseEnter,n=e.row;null!=t&&t(n)},o.handleClick=function(){var e=o.props,t=e.onClick,n=e.user;null!=t&&t(n.id)},J(o,n)}return Z(t,e),t.prototype.getDisplayName=function(){var e=this.props,t=e.user,n=e.comparator;return null!=n&&n===t.tag?t.username:n||t.username},t.prototype.render=function(){var e,t=this.props,n=t.user,o=t.hideDiscriminator,a=t.selected,i=t.checked;return r(U.default,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,className:z.default.friendWrapper},void 0,r(R.default,{align:R.default.Align.CENTER,className:(0,s.default)(z.default.friend,(e={},e[z.default.friendSelected]=a,e))},void 0,r(T.default,{user:n,status:_.default.getStatus(n.id)}),r(R.default,{className:z.default.match,align:R.default.Align.BASELINE},void 0,r(F.default,{weight:F.default.Weights.MEDIUM,className:z.default.nickname},void 0,this.getDisplayName()),r(D.default,{user:n,hideDiscriminator:o,className:z.default.discordTag,usernameClass:K.default.weightMedium,discriminatorClass:K.default.weightMedium})),r(M.default,{color:W.Colors.PRIMARY,size:22,value:i})))},t}(i.PureComponent),oe=function(e){function t(){var n,o;Q(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=J(this,e.call.apply(e,[this].concat(l))),o.state={separator:!1,copied:!1},o.scrollerRef=i.createRef(),o.searchBarRef=i.createRef(),o.renderRow=function(e,t){var n=e.user,a=e.comparator,i=o.props,l=i.selectedUsers,s=i.selectedRow,u=i.hideDiscriminator,d=l.has(n.id);return r(ne,{row:t,user:n,hideDiscriminator:u,comparator:a,checked:d,selected:t===s,onClick:o.handleClick,onMouseEnter:o.focusResult},n.id)},o.forceFocus=function(){var e=o.searchBarRef.current;e&&e.focus()},o.focusResult=function(e){d.default.select(e)},o.handleSelect=function(e,t){var n=o.props.results;null==t?d.default.clear():null!=n&&o.handleClick(n[t].user.id)},o.handleSelectionChange=function(e,t){d.default.select(t);var n=o.scrollerRef.current;null!=n&&n.scrollIntoViewRect(t*ee,t*ee+ee)},o.handleRemoveUser=function(e){var t=Array.from(o.props.selectedUsers);d.default.removeUser(t[e]),o.forceFocus()},o.handleClick=function(e){var t=o.props,n=t.selectedUsers,a=t.query;!n.has(e)?(d.default.addUser(e),a.length>0&&d.default.clear()):d.default.removeUser(e),o.forceFocus()},o.handleScroll=function(){var e=o.scrollerRef.current;null!=e&&o.setState({separator:0!==e.getScrollTop()})},o.handleInviteUsers=function(){var e=o.props,t=e.channel,n=e.selectedUsers,a=e.onClose,r=Array.from(n);if(null!=t){var i=y.default.isCallActive(t.id);c.default.addRecipients(t.id,r,"Add Friends to DM").then(function(e){i&&f.default.ring(e,r)})}else c.default.openPrivateChannel(C.default.getCurrentUser().id,r,!1,!1,"New Group DM");a()},o.handleCopyInvite=function(e){var t=o.props,n=t.channel,a=t.invite;null!=a&&(0,Y.copy)(e),null!=o.copyTimeout&&clearTimeout(o.copyTimeout),o.setState({copied:!0}),o.copyTimeout=setTimeout(function(){o.setState({copied:!1})},1e3),j.default.track(W.AnalyticEvents.COPY_INSTANT_INVITE,{server:null,channel:null!=n?n.id:null,channel_type:null!=n?n.type:null,location:"Add Friends to DM",code:null!=a?a.code:null})},J(o,n)}return Z(t,e),t.prototype.componentDidMount=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&!this.isPartyFull()){var t={max_age:10800};p.default.createInvite(e.id,t,"Group DM Invite Mount")}var n=(0,V.collectChannelAnalyticsMetadata)(e);null!=e?e.isDM()?j.default.track(W.AnalyticEvents.OPEN_POPOUT,a({},n,{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):j.default.track(W.AnalyticEvents.OPEN_POPOUT,a({},n,{type:"Add Friends to DM",source:"Group DM"})):j.default.track(W.AnalyticEvents.OPEN_POPOUT,a({},n,{type:"New Group DM",source:"Friends List"}))},t.prototype.componentWillUnmount=function(){null!=this.copyTimeout&&clearTimeout(this.copyTimeout)},t.prototype.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!E.default.isFriend(t)},t.prototype.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()},t.prototype.getMaxParticipants=function(){return W.MAX_GROUP_DM_PARTICIPANTS},t.prototype.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,o=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-o},t.prototype.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,o=this.getRemaining(),a=null!=t&&0===n.size||o<0;return r(A.default,{fullWidth:!0,disabled:a,onClick:this.handleInviteUsers},void 0,u.default.Messages.CREATE_GROUP_DM)},t.prototype.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var o=this.getRemaining(),a=0===n.size||o<0;return r("div",{className:z.default.addButton},void 0,r(A.default,{size:A.default.Sizes.SMALL,disabled:a,onClick:this.handleInviteUsers},void 0,u.default.Messages.ADD))}},t.prototype.renderSubtitle=function(){var e;if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var t=this.getRemaining(),n=t<=0?u.default.Messages.GROUP_DM_INVITE_FULL_SUB:u.default.Messages.GROUP_DM_INVITE_REMAINING.format({number:t});return r(F.default,{size:F.default.Sizes.SMALL,className:(0,s.default)(z.default.subtitle,(e={},e[z.default.subtitleWarning]=t<0,e),$.default.marginTop4)},void 0,n)},t.prototype.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,o=e.results,a=e.selectedRow,l=e.selectedUsers,d=b.default.theme;if(!n||this.isNotFriends())return null;var f=[];return l.forEach(function(e){var t=C.default.getUser(e);null!=t&&f.push(t.username)}),r(R.default,{className:(0,s.default)(z.default.searchBar,$.default.marginTop20)},void 0,i.createElement(I.default,{ref:this.searchBarRef,query:t,selectedSection:0,selectedRow:a,sections:[o?o.length:0],tags:f,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,light:d===W.ThemeTypes.LIGHT,placeholder:0===l.size?u.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER:null,disabled:this.isPartyFull(),autoFocus:!0}),this.renderAddUsersButton())},t.prototype.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?u.default.Messages.GROUP_DM_ADD_FRIENDS:u.default.Messages.GROUP_DM_HEADER;return r(L.default.Header,{direction:R.default.Direction.VERTICAL,align:R.default.Align.STRETCH,className:z.default.header,separator:e},void 0,r(B.FormTitle,{tag:B.FormTitle.Tags.H4},void 0,t),this.renderSubtitle(),this.renderSearchBar())},t.prototype.renderBody=function(){var e=this,t=this.props,n=t.channel,o=t.hasFriends,a=t.results;if(this.isNotFriends()){var l=null!=n?n.getRecipientId():null;if(null==l)throw new Error("no recipient in DM");var d=C.default.getUser(l),f=null!=d?d.username:"";return r(te,{className:z.default.notFriends},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:f})),r(A.default,{size:A.default.Sizes.SMALL,onClick:function(){return d?e.handleAddFriend(d):null},className:$.default.marginTop20},void 0,u.default.Messages.ADD_FRIEND_BUTTON))}if(!o)return r(te,{className:z.default.noFriends},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_NO_FRIENDS));if(this.isPartyFull())return r(te,{className:z.default.partyFull},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_FULL_MAIN),r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_FULL_SUB));if(0===a.length)return r(te,{className:(0,s.default)(z.default.noResults,$.default.marginBottom20)},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_EMPTY));var c=b.default.theme,p=a.map(this.renderRow);return i.createElement(O.default,{ref:this.scrollerRef,className:z.default.scroller,elementHeight:ee,theme:N.Themes.GHOST_HAIRLINE,backgroundColor:c===W.ThemeTypes.LIGHT?void 0:W.Colors.CHANNELS_GREY,onUpdate:this.handleScroll,onScroll:this.handleScroll,keyboardScroll:!0,track:!1,paddingTop:0,paddingBottom:14,fade:!0},p)},t.prototype.renderInviteLink=function(){var e,t=this,n=this.props,o=n.channel,a=n.invite,l=n.hideInstantInvites,d=this.state.copied;if(null==o||!o.isGroupDM()||this.isPartyFull())return null;var f=null!=a?(0,H.getInviteURL)(a.code):"";return r(i.Fragment,{},void 0,r(B.FormTitle,{tag:B.FormTitle.Tags.H5,className:$.default.marginBottom8},void 0,u.default.Messages.GROUP_DM_INVITE_LINK_TITLE),r(R.default,{className:(0,s.default)(q.default.input,(e={},e[q.default.success]=d,e)),justify:R.default.Justify.BETWEEN,align:R.default.Align.CENTER},void 0,r(x.default,{className:z.default.copyInput,name:"invite",value:l?u.default.Messages.INSTANT_INVITE_HIDDEN:f,editable:!1,inputClassName:z.default.noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),Y.SUPPORTS_COPY?r(A.default,{size:A.default.Sizes.SMALL,color:d?A.default.Colors.GREEN:A.default.Colors.BRAND,className:z.default.copyButton,onClick:function(){return t.handleCopyInvite(f)}},void 0,d?u.default.Messages.INVITE_COPIED:u.default.Messages.COPY):null),r(F.default,{size:F.default.Sizes.SMALL,className:(0,s.default)($.default.marginTop8,z.default.footerText)},void 0,u.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:"3"})))},t.prototype.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var o=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=o?r(i.Fragment,{},void 0,r("div",{className:z.default.footerSeparator}),r(R.default,{direction:R.default.Direction.VERTICAL,className:z.default.footer},void 0,o)):void 0},t.prototype.render=function(){return r(L.default,{className:z.default.popout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},t.prototype.handleAddFriend=function(e){this.props.onClose(),h.default.sendRequest(e.tag,{location:"Group DM"})},t.prototype.handleQueryChange=function(e){d.default.search(e)},t}(i.PureComponent),ae=l.default.connectStores([m.default,v.default,S.default],function(e){var t=e.channel,n=void 0;return null!=t&&null!=(n=v.default.getInvite(t.id))&&n.isExpired()&&(n=null),a({},m.default.getState(),{invite:n,hideDiscriminator:S.default.hidePersonalInformation,hideInstantInvites:S.default.hideInstantInvites})})(oe),re=function(e){function t(){var n,o;Q(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=o=J(this,e.call.apply(e,[this].concat(l))),o.popoutRef=i.createRef(),o.renderPopout=function(e){return i.createElement(ae,a({},e,{channel:o.props.channel}))},J(o,n)}return Z(t,e),t.prototype.componentDidMount=function(){this.maybeForceOpen()},t.prototype.componentDidUpdate=function(e){e.channel!==this.props.channel&&this.maybeForceOpen()},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.tooltip;return i.createElement(k.default,{ref:this.popoutRef,closeOnScroll:!1,render:this.renderPopout,position:k.default.Positions.TOP_RIGHT,shadow:!1,offsetX:5,uniqueId:W.NEW_GROUP_DM_POPOUT_ID,animationType:k.default.Animations.NONE,subscribeTo:W.ComponentActions.TOGGLE_DM_CREATE},r(G.default,{text:n,position:G.default.Positions.BOTTOM},void 0,r(P.default.Icon,{name:null==t?w.default.Names.COMPOSE:w.default.Names.PERSON_PLUS})))},t.prototype.maybeForceOpen=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&0===e.recipients.length&&!g.default.isOpen(W.NEW_GROUP_DM_POPOUT_ID)){var t=this.popoutRef.current;null!=t&&t.open()}},t}(i.Component);t.default=re,e.exports=t.default},6381:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(64)),l=u(n(7120)),s=u(n(5754));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.countdown,o=e.buttonText,u=e.onButtonClick;return null!=t?a("div",{className:s.default.wrapper},void 0,a("div",{},void 0,t),null!=o?a(i.default,{className:s.default.button,size:i.default.Sizes.SMALL,onClick:u},void 0,o):null,null!=n?a(l.default,{deadline:n}):null):r.Children.only(this.props.children)},t}(r.PureComponent);t.default=d,e.exports=t.default},6385:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=v(n(9)),s=n(0),u=n(263),d=v(u),f=v(n(1006)),c=v(n(79)),p=v(n(40)),h=v(n(7129)),m=n(113),y=v(n(5760));v(n(88));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderActivity=function(){var e=this.props.activity;return null==e?null:r(p.default,{className:y.default.activity,align:p.default.Align.CENTER},void 0,r("div",{className:y.default.activityText},void 0,(0,m.renderActivity)(e)),(0,m.hasRichActivity)(e)?r(c.default,{name:c.default.Names.RICH_ACTIVITY,className:y.default.activityIcon,foreground:y.default.activityIconForeground}):null)},t.prototype.render=function(){var e,t=this.props,n=t.user,o=t.nick,c=t.colorString,p=t.className,v=t.darkenColor,g=t.status,_=t.isTyping,E=t.isOwner,S=t.ownerTooltipText,b=t.activity,C=t.shouldAnimateTypingIndicator,T=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["user","nick","colorString","className","darkenColor","status","isTyping","isOwner","ownerTooltipText","activity","shouldAnimateTypingIndicator"]);if(null==n)return r(h.default,{avatarSize:u.AvatarSizes.SMALL,className:y.default.placeholder});var N={};null!=c&&(N.color=c);var O=g===s.StatusTypes.OFFLINE,I=O?y.default.avatarOffline:null,A=O?y.default.memberOffline:y.default.memberOnline,M=O?y.default.usernameOffline:y.default.usernameOnline,R=(0,m.isStreaming)(b)?d.default.Statuses.STREAMING:g;return R=O?null:R,i.createElement("div",a({},T,{className:(0,l.default)(A,p)}),r("div",{className:y.default.content},void 0,r("span",{className:y.default.avatarWrapper},void 0,r(d.default,{size:d.default.Sizes.SMALL,src:n.getAvatarURL(),className:I,status:R,statusClassName:C?y.default.statusAnimated:y.default.statusStatic,isTyping:_,shouldAnimateTypingIndicator:C})),r("div",{className:y.default.memberInner},void 0,r(f.default,{className:(0,l.default)(y.default.nameTag,(e={},e[y.default.darken]=null!=c&&v,e)),usernameClass:M,hideDiscriminator:!0,nick:o,isOwner:E,ownerTooltipText:S,ownerIconClass:y.default.ownerIcon,user:n,style:N}),this.renderActivity())))},t}(i.PureComponent);g.defaultProps={shouldAnimateTypingIndicator:!0},t.default=g,e.exports=t.default},6388:function(e,t,n){"use strict";var o;t.__esModule=!0;var a=s(n(2)),r=s(n(13)),i=n(529),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=((o={})[l.HypeSquadHouses.HOUSE_1]=1,o[l.HypeSquadHouses.HOUSE_2]=2,o[l.HypeSquadHouses.HOUSE_3]=3,o);t.default={joinHypeSquadOnline:function(e){return r.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:u[e.houseID]}}).then(function(){return a.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})}).catch(function(e){throw new i.APIError(e)})},leaveHypeSquadOnline:function(){return r.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE}).then(function(){return a.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})}).catch(function(e){throw new i.APIError(e)})}},e.exports=t.default},6395:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),a=i(n(2)),r=(n(0),i(n(6166)));function i(e){return e&&e.__esModule?e:{default:e}}var l=[];var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPayment=function(e){return l.find(function(t){return t.id===e})},t.prototype.getPayments=function(){return l},t}(o.default.Store);t.default=new s(a.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=e.payments;l=t.map(function(e){return r.default.createFromServer(e)})},LOGOUT:function(e){l=[]}}),e.exports=t.default},6396:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=s(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=s(n(5787));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID;return a("div",{className:(0,r.default)(t,l.default.videoWrapper)},void 0,a("iframe",{type:"text/html",className:l.default.video,src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://discordapp.com"}))},t}(i.Component);t.default=u,e.exports=t.default},6399:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=d(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=d(n(40)),s=d(n(519)),u=d(n(5791));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.features,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["features"]);return t.map(function(e,t){var o;return null==e.predicate||e.predicate(n)?a(l.default,{align:l.default.Align.CENTER,className:(0,r.default)(s.default.marginTop20,u.default.feature,(o={},o[u.default.featureBorder]=0!==t,o))},t,null!=e.icon?a("div",{className:(0,r.default)(u.default.icon,e.icon)}):null,a("div",{},void 0,null!=e.title?a("div",{className:(0,r.default)(s.default.marginBottom8,u.default.title)},void 0,e.title):null,a("div",{className:u.default.description},void 0,e.description))):null})},t}(i.Component);t.default=f,e.exports=t.default},6400:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},6401:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(3)),s=_(n(12)),u=n(962),d=_(n(522)),f=_(n(64)),c=_(n(524)),p=_(n(40)),h=_(n(6408)),m=_(n(67)),y=_(n(6)),v=n(0),g=_(n(5793));function _(e){return e&&e.__esModule?e:{default:e}}var E=a(p.default.Child,{grow:0,shrink:0},void 0,a(h.default,{})),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,o=e.unverifiedNotice;return t?o:n},t.prototype.renderPrimaryAction=function(){return this.props.isClaimed?E:a(p.default.Child,{grow:0,shrink:0},void 0,a(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND,onClick:this.routeToEmailSettings},void 0,y.default.Messages.CLAIM_ACCOUNT))},t.prototype.renderSecondaryAction=function(){return this.props.isClaimed?a(p.default.Child,{grow:0,shrink:0},void 0,a(f.default,{color:f.default.Colors.GREY,look:f.default.Looks.LINK,onClick:this.routeToEmailSettings},void 0,y.default.Messages.CHANGE_EMAIL_SHORT)):null},t.prototype.routeToEmailSettings=function(){d.default.setSection(v.UserSettingsSections.ACCOUNT),(0,u.toggleEditingProfile)(!0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.isClaimed,o=e.isVerified;return n&&o?null:a(c.default,{className:(0,r.default)(g.default.wrapper,t)},void 0,a(p.default,{align:p.default.Align.CENTER},void 0,a(p.default.Child,{className:g.default.image,grow:0,shrink:0}),a(p.default.Child,{},void 0,a(m.default,{color:m.default.Colors.PRIMARY},void 0,this.renderNotice()),a(p.default,{justify:p.default.Justify.CENTER,className:g.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))},t}(i.Component);S.defaultProps={unclaimedNotice:y.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,unverifiedNotice:y.default.Messages.NOTICE_UNVERIFIED_ACCOUNT},t.default=l.default.connectStores([s.default],function(){var e=s.default.getCurrentUser();return{isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(S),e.exports=t.default},6402:function(e,t,n){"use strict";t.__esModule=!0,t.getSanitizedRestrictedGuilds=function(){var e=a.default.restrictedGuilds;0===o.default.totalUnavailableGuilds&&(e=e.filter(function(e){return null!=r.default.getGuild(e)}));return e},t.computeFlags=function(){var e,t,n=a.default.friendSourceFlags;return n[i.FriendSourceFlagKeys.ALL]?((t={})[i.FriendSourceFlagKeys.ALL]=!0,t[i.FriendSourceFlagKeys.FRIENDS]=!0,t[i.FriendSourceFlagKeys.GUILDS]=!0,t):((e={})[i.FriendSourceFlagKeys.ALL]=!1,e[i.FriendSourceFlagKeys.FRIENDS]=!!n[i.FriendSourceFlagKeys.FRIENDS],e[i.FriendSourceFlagKeys.GUILDS]=!!n[i.FriendSourceFlagKeys.GUILDS],e)},t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};var o=l(n(280)),a=l(n(31)),r=l(n(26)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=864e5*i.REQUEST_DATA_LIMIT_DAYS},6404:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(9)),s=u(n(5803));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.children,o=e.hoverText,u=e.className,d=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["tag","children","hoverText","className"]);return i.createElement("div",a({},d,{className:(0,l.default)(u,s.default.hoverRoll)}),r(t,{className:s.default.default},void 0,n),r(t,{className:s.default.hovered},void 0,o))},t}(i.PureComponent);d.defaultProps={tag:"div"},t.default=d,e.exports=t.default},6405:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={addKeybind:function(){r.default.dispatch({type:i.ActionTypes.KEYBINDS_ADD_KEYBIND})},setKeybind:function(e){r.default.dispatch({type:i.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){r.default.dispatch({type:i.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){r.default.dirtyDispatch({type:i.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}},e.exports=t.default},6406:function(e,t,n){e.exports=n.p+"0694f38cb0b10cc3b5b89366a0893768.svg"},6407:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=s(n(3)),r=s(n(2)),i=n(0),l=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var u={avatar:null,discriminator:"",username:"",email:"",password:"",newPassword:null},d=i.FormStates.CLOSED,f=null,c=null,p=o({},u),h=!1,m=null,y=null,v=null;function g(){d=i.FormStates.OPEN,f={},c=l.default.getCurrentUser(),p=o({},u),h=null!=c.email,m=c.verified,v=!1,h?y=!1:_({isEditingProfile:!0})}function _(e){(y=e.isEditingProfile)&&null!=c?p={avatar:c.avatar,discriminator:c.discriminator,username:c.username,email:c.email,password:"",newPassword:null}:(d=i.FormStates.OPEN,p=o({},u),f={},v=!1)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return{formState:d,errors:f,user:c,accountInfo:p,claimed:h,verified:m,isEditingProfile:y,isEditingPassword:v}},t}(a.default.Store);t.default=new E(r.default,{USER_SETTINGS_ACCOUNT_INIT:function(e){return g()},USER_SETTINGS_MODAL_INIT:function(e){return g()},USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:function(e){return g()},USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===i.UserSettingsSections.ACCOUNT&&g()},USER_SETTINGS_ACCOUNT_CLOSE:function(e){return d=i.FormStates.CLOSED,f=null,c=null,p=o({},u),h=!1,m=null,y=null,void(v=null)},USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE:_,USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD:function(e){var t=null;(v=e.isEditingPassword)&&(t=""),p=o({},p,{newPassword:t})},USER_SETTINGS_ACCOUNT_UPDATE_INFO:function(e){var t=e.update;p=o({},p,t)},USER_SETTINGS_ACCOUNT_SUBMIT:function(e){return d=i.FormStates.SUBMITTING,void(f={})},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){if(d!==i.FormStates.SUBMITTING)return!1;d=i.FormStates.OPEN,f=e.errors||{}},CURRENT_USER_UPDATE:function(e){var t=e.user;h=null!=t.email;var n=!m;m=t.verified,n&&m&&_({isEditingProfile:!1})}}),e.exports=t.default},6408:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(3)),s=y(n(12)),u=y(n(371)),d=y(n(164)),f=y(n(64)),c=y(n(67)),p=y(n(6)),h=y(n(38)),m=y(n(943));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return n=o=v(this,e.call.apply(e,[this].concat(s))),o.state={isSendingVerificationEmail:!1},o.handleResendVerification=function(){var e=o.props.currentUser;o.setState({isSendingVerificationEmail:!0},function(){m.default.verifyResend().then(function(){return h.default.push(function(t){return i.createElement(d.default,a({header:p.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:p.default.Messages.OKAY,red:!1},t),r(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,p.default.Messages.VERIFICATION_EMAIL_BODY.format({email:e.email})))})}).catch(function(e){var t=e.body,n=p.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),h.default.push(function(e){return i.createElement(u.default,a({title:p.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))})}).then(function(){return o.setState({isSendingVerificationEmail:!1})})})},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,o=e.size;return r(f.default,{look:n,size:o,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,p.default.Messages.RESEND_VERIFICATION_EMAIL)},t}(i.Component);g.defaultProps={size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND},t.default=l.default.connectStores([s.default],function(){return{currentUser:s.default.getCurrentUser()}})(g),e.exports=t.default},6409:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=l(n(11)),r=l(n(102)),i=n(7227);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFileContents=function(){var e=this.props.fileContents;return"function"==typeof e&&(e=e()),e},t.prototype.handleFileDownload=function(e){e.preventDefault();var t=this.getFileContents(),n=this.props.fileName;a.default.embedded?this.downloadNative(t,n):this.downloadHtml5(t,n)},t.prototype.downloadNative=function(e,t){r.default.fileManager.saveWithDialog(e,t)},t.prototype.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,i.saveAs)(n,t)},t.prototype.render=function(){var e=this.props.children,t=o.Children.only(e);return o.cloneElement(t,{onClick:this.handleFileDownload.bind(this)})},t}(o.Component);t.default=s,e.exports=t.default},6410:function(e,t,n){"use strict";t.__esModule=!0,t.hasCrypto=void 0,t.generateTotpSecret=function(){return e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return i.getRandomValues(new Uint8Array(e))}(),r.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e},t.encodeTotpSecret=l,t.encodeTotpSecretAsUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Discord";return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+l(t)+"&issuer="+encodeURIComponent(n)};var o,a=n(7236),r=(o=a)&&o.__esModule?o:{default:o};var i=window&&window.crypto||window.msCrypto;t.hasCrypto=i&&"getRandomValues"in i&&"Uint8Array"in window;function l(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},6411:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getUserSettingsSections=function(){return X().filter(function(e){var t=e.section;return t!==z.SectionTypes.HEADER&&t!==z.SectionTypes.CUSTOM&&t!==z.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=$(n(3)),s=$(n(6)),u=$(n(6133)),d=$(n(164)),f=$(n(67)),c=$(n(7238)),p=$(n(7217)),h=$(n(7216)),m=$(n(7214)),y=$(n(7213)),v=$(n(7210)),g=$(n(7208)),_=$(n(7204)),E=$(n(7202)),S=$(n(7197)),b=$(n(7194)),C=$(n(7191)),T=$(n(7188)),N=$(n(7187)),O=$(n(7179)),I=$(n(7178)),A=$(n(7177)),M=$(n(7176)),R=$(n(7171)),P=$(n(7155)),w=$(n(7140)),L=$(n(38)),D=$(n(943)),U=$(n(522)),k=$(n(6160)),F=n(270),x=$(n(31)),G=$(n(7139)),B=$(n(293)),j=$(n(537)),V=$(n(58)),H=$(n(546)),Y=$(n(194)),W=$(n(11)),z=n(6012),K=n(0);function $(e){return e&&e.__esModule?e:{default:e}}var q=I.default;function X(){return[{section:z.SectionTypes.HEADER,label:s.default.Messages.USER_SETTINGS},{section:K.UserSettingsSections.ACCOUNT,label:s.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:c.default},{section:K.UserSettingsSections.PRIVACY_AND_SAFETY,label:s.default.Messages.PRIVACY_AND_SAFETY,element:A.default},{section:K.UserSettingsSections.AUTHORIZED_APPS,label:s.default.Messages.AUTHORIZED_APPS,element:E.default},{section:K.UserSettingsSections.CONNECTIONS,label:s.default.Messages.CONNECTIONS,element:y.default},{section:K.UserSettingsSections.BILLING,label:s.default.Messages.BILLING,element:R.default},{section:z.SectionTypes.DIVIDER},{section:K.UserSettingsSections.PREMIUM,label:s.default.Messages.PREMIUM_TITLE,element:M.default,color:K.Colors.BRAND},{section:K.UserSettingsSections.HYPESQUAD_ONLINE,label:s.default.Messages.USER_SETTINGS_HYPESQUAD,element:P.default},{section:z.SectionTypes.DIVIDER},{section:z.SectionTypes.HEADER,label:s.default.Messages.APP_SETTINGS},{section:K.UserSettingsSections.VOICE,label:s.default.Messages.VOICE_AND_VIDEO,element:N.default,predicate:function(){return V.default.isSupported()}},{section:K.UserSettingsSections.OVERLAY,label:s.default.Messages.OVERLAY,element:O.default,predicate:function(){return H.default.isSupported()}},{section:K.UserSettingsSections.NOTIFICATIONS,label:s.default.Messages.NOTIFICATIONS,element:T.default},{section:K.UserSettingsSections.KEYBINDS,label:s.default.Messages.KEYBINDS,element:g.default,predicate:function(){return W.default.embedded||!1}},{section:K.UserSettingsSections.GAME_ACTIVITY,label:s.default.Messages.USER_SETTINGS_GAME_ACTIVITY,element:b.default,predicate:function(){return W.default.embedded||!1}},{section:K.UserSettingsSections.GAME_LIBRARY,label:s.default.Messages.USER_SETTINGS_GAME_LIBRARY,element:C.default,predicate:function(){return W.default.isWindows()&&j.default.isInExperiment()||!1}},{section:K.UserSettingsSections.TEXT,label:s.default.Messages.TEXT_AND_IMAGES,element:m.default},{section:K.UserSettingsSections.APPEARANCE,label:s.default.Messages.APPEARANCE,element:v.default},{section:K.UserSettingsSections.STREAMER_MODE,label:s.default.Messages.STREAMER_MODE,element:_.default},{section:K.UserSettingsSections.LOCALE,label:s.default.Messages.LANGUAGE,element:S.default},{section:K.UserSettingsSections.WINDOWS,label:s.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:I.default,predicate:function(){return W.default.embedded&&W.default.isWindows()&&W.default.supportsFeature("app_configs")}},{section:K.UserSettingsSections.LINUX,label:s.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:q,predicate:function(){return W.default.embedded&&W.default.isLinux()&&W.default.supportsFeature("app_configs")}},{section:z.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return k.default.showChangeLog()},label:s.default.Messages.CHANGE_LOG},{section:K.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:p.default,predicate:function(){return B.default.isDeveloper}},{section:K.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:h.default,predicate:function(){return B.default.isDeveloper}},{section:z.SectionTypes.DIVIDER},{section:"logout",onClick:function(){L.default.push(function(e){return i.createElement(d.default,a({header:s.default.Messages.LOGOUT,confirmText:s.default.Messages.LOGOUT,cancelText:s.default.Messages.CANCEL,onConfirm:function(){return D.default.logout()}},e),r(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,s.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},label:s.default.Messages.LOGOUT,color:K.Colors.STATUS_RED},{section:z.SectionTypes.DIVIDER},{section:z.SectionTypes.CUSTOM,element:w.default}]}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Y.default.trackWithMetadata(K.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e})}t.default=l.default.connectStores([G.default,x.default],function(){return{theme:x.default.theme,section:G.default.getSection()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){Q(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.section,n=this.props.section;n!==t&&Q(n,t)},t.prototype.generateSections=function(){return X()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section;return r(u.default,{theme:t,section:n,onSetSection:U.default.setSection,onClose:F.popLayer,sections:this.generateSections()})},t}(i.PureComponent))},6412:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(13)),a=r(n(14));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return location.protocol+"//"+location.host+e};t.default={get:function(){return o.default.get(i("/__development/build_overrides")).then(function(e){return e.body||{}})},put:function(e){return o.default.put({url:i("/__development/build_overrides"),body:e,headers:{Authorization:a.default.getToken()||""}}).catch(function(e){return e})},clear:function(){return o.default.delete({url:i("/__development/build_overrides")})},getPublicLink:function(e){return o.default.post({url:i("/__development/create_build_override_link"),body:e,headers:{Authorization:a.default.getToken()||""}}).then(function(e){return{url:e.body.url,error:!1}},function(e){return 400===e.status?{url:!1,error:e.body}:{url:!1,error:"Error making API request ("+e.status+")"}})},shouldCheckForBuildOverride:function(){return-1!==window.document.cookie.indexOf("buildOverride=")},EXPIRATION_OPTIONS:[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}]},e.exports=t.default},6418:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=u(n(3)),r=u(n(25)),i=u(n(2)),l=u(n(194)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d="channelNotices",f="lastHiddenChannelNotice",c={},p=0,h=!1,m=0;function y(){r.default.set(d,c),r.default.set(f,p)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=r.default.get("showInviteNotice"),t=r.default.get(d)||{};p=r.default.get(f)||0,Object.keys(s.ChannelNoticeTypes).forEach(function(e){return c[e]=!0}),Object.keys(t).forEach(function(e){c[e]&&"boolean"==typeof t[e]&&(c[e]=t[e])}),null!=e&&(r.default.remove("showInviteNotice"),"boolean"==typeof e&&(c.INVITE=e)),y()},t.prototype.getState=function(){return h?{noticeStates:c,lastHidden:p}:{noticeStates:{},lastHidden:0}},t.prototype.shouldShowInviteNotice=function(){return r.default.get("showInviteNotice")||!1},t.prototype.getVersion=function(){return m},t}(a.default.Store);t.default=new v(i.default,{CONNECTION_OPEN:function(e){return h=!0,void(m+=1)},CONNECTION_CLOSED:function(e){return h=!1,void(m+=1)},CHANNEL_NOTICE_HIDE:function(e){var t=e.noticeType;c[t]=!1,c=o({},c),t!==s.ChannelNoticeTypes.MFA_WARNING&&(p=Date.now()),y(),l.default.trackWithMetadata(s.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:t}),m+=1}}),e.exports=t.default},6425:function(e,t,n){"use strict";t.__esModule=!0,t.StatusItem=t.PopoutMenuSeparator=t.PopoutMenuItemLabel=t.PopoutMenuItem=t.PopoutMenuIcon=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(189)),u=c(n(6094)),d=n(1027),f=c(n(5835));function c(e){return e&&e.__esModule?e:{default:e}}t.PopoutMenuIcon=function(e){var t=e.icon;return r("div",{className:f.default.icon,style:{backgroundImage:'url("'+t+'")'}})};var p=function(e){var t=e.children,n=e.type,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","type"]);return i.createElement("div",a({className:(0,l.default)(f.default.item,null!=n?f.default[n]:null)},o),t)};t.PopoutMenuItem=p;t.PopoutMenuItemLabel=function(e){var t=e.children;return r("div",{className:f.default.label},void 0,t)},t.PopoutMenuSeparator=function(){return r("div",{className:f.default.separator})},t.StatusItem=function(e){var t=e.status,n=e.children,o=e.onSelect;return r(p,{onClick:function(){return o(t)}},void 0,r("div",{className:f.default.statusIconText},void 0,r(u.default,{defaultStatus:t,style:{marginRight:14},hideTooltip:!0}),r("div",{},void 0,(0,d.humanizeStatus)(t))),r("div",{className:f.default.helper},void 0,n))};var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,o=t.alt;return r(s.default.div,{className:(0,l.default)(n,f.default.menu,(e={},e[f.default.alt]=o,e))},void 0,this.props.children)},t}(i.PureComponent);t.default=h},6432:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(79)),u=c(n(87)),d=c(n(5846)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return r("div",{className:e.className},void 0,e.children)},m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleSort=function(e){var t=o.props,n=t.sortKey,a=t.sortDirection,r=t.onSort;null!=r&&r(e,n===e&&a===f.TableSortDirections.ASCENDING?f.TableSortDirections.DESCENDING:f.TableSortDirections.ASCENDING)},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSortable=function(e){return null!=e.sort&&!1!==e.sort},t.prototype.getDefaultSort=function(e){return function(t,n){var o=t[e],a=n[e];return null!=o&&null!=a?o===a?0:o<a?-1:1:0}},t.prototype.renderHeader=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.props,a=o.columns,i=o.data,c=o.sortDirection,p=o.sortKey,m=o.headerCellClassName,y=o.headerClassName,v=o.sortedHeaderCellClassName,g=o.stickyHeader,_=a.map(function(e){var n,o=null!=e.renderHeader?e.renderHeader(e,i):e.key;return r(u.default,{className:(0,l.default)(d.default.headerCell,m,e.headerCellClassName,e.cellClassName,(n={},n[v||d.default.sortedHeaderCell]=p===e.key,n[d.default.clickable]=t.isSortable(e),n)),onClick:t.isSortable(e)?function(){return t.handleSort(e.key)}:null},e.key,r("div",{className:d.default.headerCellContent},void 0,o,t.isSortable(e)&&p===e.key?r(s.default,{name:c===f.TableSortDirections.ASCENDING?s.default.Names.ARROW_DROP_UP:s.default.Names.ARROW_DROP_DOWN,className:d.default.sortIcon}):null))});return r(h,{className:(0,l.default)(y,d.default.row,(e={},e[d.default.stickyHeader]=g&&!n,e[d.default.spacerHeader]=g&&n,e))},void 0,_)},t.prototype.renderBody=function(){var e=this.props,t=e.columns,n=e.data,o=e.sortData,r=e.sortKey,s=e.sortDirection,u=e.bodyCellClassName,c=e.rowClassName,p=e.cellProps,h=e.rowProps,m=e.rowComponent,y=e.cellComponent,v=n;if(o){var g=null!=r?t.find(function(e){return e.key===r}):null,_=[].concat(n),E=null!=g&&g.sort,S=null!=g&&null!=r&&this.isSortable(g)?_.sort("function"==typeof E?function(e,t){return E(e,t,s)}:this.getDefaultSort(r)):_;v=null!=g&&s===f.TableSortDirections.DESCENDING?S.reverse():S}return v.map(function(e){var n=t.map(function(t){return i.createElement(y,a({},p,{key:t.key,item:e,className:(0,l.default)(u,t.bodyCellClassName,t.cellClassName)}),null!=t.render?t.render(e,p):e[t.key])});return i.createElement(m,a({},h,{key:e.id,item:e,className:(0,l.default)(d.default.row,c)}),n)})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.hasHeader,o=e.stickyHeader;return r("div",{className:t},void 0,n?this.renderHeader():null,n&&o?this.renderHeader(!0):null,this.renderBody())},t}(i.PureComponent);m.SortDirection=f.TableSortDirections,m.defaultProps={initialSortDirection:f.TableSortDirections.ASCENDING,rowHeaderComponent:h,rowComponent:function(e){return r("div",{className:e.className},void 0,e.children)},cellComponent:function(e){return r("div",{className:e.className},void 0,e.children)},hasHeader:!0,sortData:!0,stickyHeader:!1},t.default=m,e.exports=t.default},6433:function(e,t,n){"use strict";t.__esModule=!0,t.sortList=function(e,t){r.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})},t.updateLibraryFilter=function(e){r.default.dispatch({type:i.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})},t.updateActiveRowId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,id:e,isKeyboardEvent:t})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6434:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(189)),s=y(n(5)),u=n(533),d=n(169),f=y(n(163)),c=y(n(6271)),p=n(0),h=y(n(5858)),m=y(n(1002));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=v(this,e.call.apply(e,[this].concat(r))),o._animatedBackground=new l.default.Value(0),o._animatedText=new l.default.Value(0),o._zIndex=new l.default.Value(1),o.componentWillEnter=function(e){var t=o.props.getDirection();o._zIndex.setValue(1===t?2:1),1===t&&(o._animatedBackground.setValue(-1),l.default.timing(o._animatedBackground,{toValue:0,duration:250,delay:100}).start()),o._animatedText.setValue(-t),l.default.timing(o._animatedText,{toValue:0,delay:300,duration:200}).start(e)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillLeave=function(e){var t=this.props.getDirection();this._zIndex.setValue(1===t?1:2),l.default.timing(this._animatedText,{toValue:t,duration:200}).start(),1===t?setTimeout(e,350):l.default.timing(this._animatedBackground,{toValue:-1,delay:200,duration:200}).start(e)},t.prototype.getRootStyle=function(){var e=this.props.horizontal?{translateX:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})};return l.default.accelerate({transform:[{scale:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[1.015,1,1.015]})},e],opacity:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:l.default.Easing.out(l.default.Easing.ease)}),zIndex:this._zIndex})},t.prototype.getTextStyle=function(){return{transform:[this.props.horizontal?{translateX:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})}],opacity:this._animatedText.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:l.default.Easing.in(l.default.Easing.ease)})}},t.prototype.render=function(){var e=this.props,t=e.itemType,n=e.url,o=e.title,r=e.description,y=e.game,v=e.thumbnail,g=e.timestamp,_=e.onOpen,E=e.onGamePopoutOpen,S=e.onGamePopoutClose,b=e.className,C=e.simple,T=void 0;if(null!=v&&null!=v.proxy_url){var N=800*(v.height/v.width);T=(0,d.getSizedImageSrc)(v.proxy_url,800,N,"png")}else null!=y&&(T=y.getSplashURL(800));return a(f.default,{href:n,target:"_blank",onClick:_},void 0,a(l.default.div,{style:this.getRootStyle(),className:(0,i.default)(h.default.article,b)},void 0,a("div",{className:t===p.FeedCarouselItemTypes.PROMOTION?h.default.storePromotionBackground:null!=T?h.default.background:h.default.backgroundBackup,style:null!=T?{backgroundImage:"url("+T+")"}:null}),a(l.default.div,{style:this.getTextStyle()},void 0,a("div",{className:h.default.gameArea},void 0,null!=y?a(c.default,{game:y,onOpen:E,onClose:S,source:p.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:m.default.textHover},void 0,a("div",{className:h.default.gameName},void 0,y.name)):null),!0===C?a("div",{className:h.default.simpleTitle},void 0,o):a("div",{className:h.default.details},void 0,a("div",{className:h.default.standardTitle},void 0,o),null!=r?a("div",{className:h.default.description},void 0,r):null,null!=g?a("div",{className:h.default.timestamp},void 0,(0,u.dateFormat)((0,s.default)(g),"LL")):null))))},t}(r.PureComponent);t.default=g,e.exports=t.default},6704:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){return a.createElement(e,o({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onApplicationContextMenu:this.handleApplicationContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))},n.prototype.handleMessageUser=function(e,t){return l.default.openPrivateChannel(r.default.getId(),t.id)},n.prototype.handleUserContextMenu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.ContextMenuTypes.USER_GENERIC_LIST,r=arguments[3];(0,s.openContextMenu)(e,function(e){return a.createElement(f.default,o({},e,{type:n,user:t}))},{onClose:r})},n.prototype.handleGuildContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(d.default,o({},e,{type:p.ContextMenuTypes.GUILD_ACTIVITY_FEED,guild:t}))})},n.prototype.handleApplicationContextMenu=function(e,t,n){(0,s.openContextMenu)(e,function(e){return a.createElement(u.default,o({},e,{type:p.ContextMenuTypes.APPLICATION_ACTIVITY_FEED,application:t,analyticsLocation:p.AnalyticsLocations.ACTIVITY_FEED}))},{onClose:n})},n.prototype.handleChannelContextMenu=function(e,t){if(null==t)return null;var n=i.default.getGuild(t.getGuildId());(0,s.openContextMenu)(e,function(e){return a.createElement(c.default,o({},e,{type:p.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE,channel:t,guild:n}))})},n}(a.Component)};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=h(n(14)),i=h(n(26)),l=h(n(146)),s=n(33),u=h(n(989)),d=h(n(6051)),f=h(n(942)),c=h(n(6049)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},6705:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(40)),l=s(n(5945));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.title,n=e.children,o=e.className;return a("div",{className:(0,r.default)(l.default.section,o)},void 0,null!=t?a(i.default,{align:i.default.Align.CENTER},void 0,a("div",{className:l.default.sectionTitle},void 0,t),a("div",{className:l.default.sectionLine})):null,n)},e.exports=t.default},6706:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(40)),s=u(n(5569));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.onMouseEnter,r=e.onMouseLeave;return a("div",{className:(0,i.default)(s.default.card,n),onMouseEnter:o,onMouseLeave:r},void 0,t)},t}(r.PureComponent);d.Header=function(e){var t=e.children,n=e.className,o=e.splashArtURL;return a(l.default,{className:(0,i.default)(s.default.header,n),align:l.default.Align.CENTER},void 0,a("div",{className:s.default.splashArt,style:null!=o?{backgroundImage:"url("+o+")"}:null}),t)},d.Body=function(e){var t=e.children,n=e.className;return a("div",{className:(0,i.default)(s.default.body,n)},void 0,t)},t.default=d,e.exports=t.default},6707:function(e,t,n){"use strict";t.__esModule=!0,t.GameCardTypes=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=j(n(1)),l=B(n(3)),s=B(n(9)),u=B(n(20)),d=j(n(545)),f=n(290),c=B(n(80)),p=B(n(549)),h=B(n(27)),m=B(n(69)),y=B(n(44)),v=B(n(40)),g=B(n(223)),_=B(n(142)),E=B(n(263)),S=B(n(6271)),b=B(n(372)),C=B(n(541)),T=B(n(6706)),N=B(n(1222)),O=B(n(970)),I=B(n(79)),A=B(n(968)),M=B(n(64)),R=B(n(1005)),P=B(n(6705)),w=B(n(531)),L=B(n(6270)),D=n(0),U=B(n(6704)),k=B(n(6)),F=B(n(5898)),x=B(n(5569)),G=B(n(1002));function B(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=function(e){function t(){return V(this,t),H(this,e.apply(this,arguments))}return Y(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.status,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["user","status"]);return i.createElement(E.default,r({},o,{src:t.getAvatarURL(),status:n}))},t}(i.PureComponent),z=l.default.connectStores([c.default],function(e){var t=e.user;return{status:c.default.getStatus(t.id)}})(W),K=t.GameCardTypes=Object.freeze({NOW_PLAYING:"1",RECENTLY_PLAYED:"2"}),$=function(e){function t(){var n,o;V(this,t);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return n=o=H(this,e.call.apply(e,[this].concat(s))),o.state={hoveredUserId:null,isOverflowOpen:!1},o.renderUserPopout=function(e,t){return i.createElement(w.default,r({},t,{user:e}))},o.renderUserTooltip=function(e){var t=e.user,n=e.startedPlaying,o=e.stoppedPlaying;return a("div",{className:F.default.soloAvatarTooltip},void 0,a("div",{},void 0,t.tag),a(A.default,{className:F.default.soloAvatarTooltipTimestamp,start:n,end:o,location:A.default.Locations.ACTIVITY_FEED}))},o.renderOverflowPlayer=function(e,t,n,r){if(null!=e){var i=e.user;return a(g.default,{render:function(e){return o.renderUserPopout(i,e)},position:g.default.Positions.LEFT,closeOnScroll:!1,shadow:!1},n,a(_.default,{text:o.renderUserTooltip(e)},void 0,a(E.default,{onContextMenu:function(e){return o.props.onUserContextMenu(e,i)},src:i.getAvatarURL(),size:E.default.Sizes.SMALL,className:F.default.soloAvatar})))}},o.renderOverflowPlayerOverflow=function(e,t,n,r){if(null==r)throw new Error("player overflow number cannot be null");var i=o.props.players.map(function(e){return e.user});return a(g.default,{render:function(){return a(L.default,{party:i,header:k.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:i.length})})}},"overflow",a(_.default,{text:k.default.Messages.GAME_FEED_USER_OVERFLOW.format({overflow:r})},void 0,a("div",{className:F.default.overflowUserOverflow},void 0,e)))},o.setActivityFeedCardRef=function(e){var t=o.props.setActivityFeedCardRef;null!=t&&t(e)},o.handleMouseEnterUser=function(e){o.setState({hoveredUserId:e})},o.handleMouseLeaveUser=function(){o.setState({hoveredUserId:null})},o.handleUserPopoutOpen=function(e,t){u.default.track(D.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,r({},o.getMetadata(),{popout_user_id:e.id,avatar_position:t}))},o.handleOverflowOpen=function(e,t){o.setState({isOverflowOpen:!0}),o.props.onApplicationContextMenu(e,t,o.handleOverflowClose)},o.handleOverflowClose=function(){o.setState({isOverflowOpen:!1})},o.handleMessage=function(e,t){var n=o.props,a=n.loadId,r=n.index,i=n.game;(0,n.onMessageUser)(e,t).then(function(e){d.trackUserMessaged(t,e,i,null,{loadId:a,index:r,type:D.ActivityCardTypes.GAME})})},o.handleNewsClick=function(e){var t=o.props,n=t.game,a=t.index;d.trackGameNewsOpened(D.AnalyticsLocations.ACTIVITY_FEED,e,null,n,{loadId:p.default.loadId,index:a,type:D.ActivityCardTypes.GAME})},H(o,n)}return Y(t,e),t.prototype.renderPlayer=function(e,t){var n=this,o=this.props.onUserContextMenu,r=e.user,i=e.startedPlaying,l=e.stoppedPlaying;return a("div",{className:F.default.player,onMouseEnter:function(){return n.handleMouseEnterUser(r.id)},onMouseLeave:this.handleMouseLeaveUser,onContextMenu:function(e){return o(e,r)}},r.id,a(v.default,{},void 0,a(g.default,{render:function(e){return n.renderUserPopout(r,e)},position:g.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(r,t)},closeOnScroll:!1},void 0,a(z,{user:r,className:F.default.avatar})),a("div",{className:F.default.info},void 0,a(g.default,{render:function(e){return n.renderUserPopout(r,e)},position:g.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(r,t)},closeOnScroll:!1},void 0,a(C.default,{user:r,className:F.default.tag,usernameClass:F.default.username,discriminatorClass:F.default.discriminator})),a(A.default,{className:F.default.playTime,start:i,end:l,location:A.default.Locations.ACTIVITY_FEED})),this.state.hoveredUserId===r.id?a(M.default,{color:M.default.Colors.PRIMARY,hover:M.default.Hovers.BRAND,onClick:function(e){return n.handleMessage(e,r)}},void 0,k.default.Messages.GAME_FEED_ACTION_MESSAGE):null))},t.prototype.getMaxToShowWithoutOverflow=function(){var e=this.props.players;return null==e?0:e.length>4?3:4},t.prototype.getMaxOverflowUsers=function(){return Math.floor((this.props.width-40-28)/38)+1},t.prototype.getMetadata=function(){var e=this.props,t=e.game,n=e.index;return{load_id:p.default.loadId,card_index:n,card_type:D.ActivityCardTypes.GAME,game_id:t.id,game_name:t.name,af_news:null!=p.default.news}},t.prototype.renderPlayers=function(){var e=this,t=this.props.players;if(null==t||0===t.length)return null;var n=this.getMaxToShowWithoutOverflow(),o=t.slice(0,n).map(function(t,n){return e.renderPlayer(t,n)});return a(P.default,{},void 0,o)},t.prototype.renderPlayersOverflow=function(){var e=this.props,t=e.type,n=e.players,o=this.getMaxToShowWithoutOverflow();if(null==n||n.length<=o)return null;var r=t===K.NOW_PLAYING?k.default.Messages.GAME_FEED_ACTIVITY_MORE_PLAYING_COUNT.format({count:n.length-o}):k.default.Messages.GAME_FEED_ACTIVITY_MORE_RECENTLY_PLAYED_COUNT.format({count:n.length-o}),i=a(O.default,{users:n.slice(o),max:this.getMaxOverflowUsers(),className:F.default.overflownPlayers,renderUser:this.renderOverflowPlayer,renderMoreUsers:this.renderOverflowPlayerOverflow});return a(P.default,{className:F.default.playerBottomPadding,title:r},void 0,i)},t.prototype.renderNews=function(){var e=this,t=this.props,n=t.game,o=t.news,r=t.onVideoPlay;if(null!=o)return a(P.default,{className:F.default.sectionBottomPadding,title:k.default.Messages.GAME_FEED_ARTICLE_TYPE_NEWS},void 0,a(N.default,{news:o,game:n,onClick:function(){return e.handleNewsClick(o)},onVideoPlay:r,className:F.default.news}))},t.prototype.renderHeaderActions=function(){var e=this,t=this.props.game;return a(v.default,{grow:0,align:v.default.Align.CENTER,className:F.default.headerActions},void 0,a(R.default,{source:D.AnalyticsLocations.ACTIVITY_FEED,game:t,size:M.default.Sizes.SMALL,customColor:x.default.headerButtonColor}),a(M.default,{look:M.default.Looks.BLANK,size:M.default.Sizes.NONE,onClick:function(n){return e.handleOverflowOpen(n,t)},className:F.default.overflowMenu},void 0,a(I.default,{name:I.default.Names.OVERFLOW_MENU})))},t.prototype.render=function(){var e,t=this.props,n=t.game,o=t.onApplicationContextMenu,r=this.state.isOverflowOpen;return i.createElement(T.default,{className:F.default.card,ref:this.setActivityFeedCardRef},a(T.default.Header,{className:(0,s.default)(F.default.cardHeader,(e={},e[F.default.headerOverflowOpen]=r,e)),splashArtURL:n.getSplashURL(512)},void 0,a("div",{className:F.default.headerContent,onContextMenu:function(e){return o(e,n)}},void 0,a(S.default,{game:n,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:G.default.iconHover},void 0,a(b.default,{game:n,onContextMenu:function(e){return o(e,n)}})),a(S.default,{game:n,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:G.default.textHover},void 0,a("div",{className:F.default.headerTitle},void 0,n.name))),this.renderHeaderActions()),a(T.default.Body,{className:F.default.cardBody},void 0,this.renderPlayers(),this.renderPlayersOverflow(),this.renderNews()))},t}(i.PureComponent);t.default=l.default.connectStores([h.default,m.default,y.default],function(e){var t=e.game,n=y.default.getActiveBranchId(t.id);return{canPlay:(0,f.isLaunchable)(y.default,h.default,m.default,t.id,n)}})((0,U.default)($))},6708:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.fetchConsents=function(){return i.default.get({url:l.Endpoints.SETTINGS_CONSENT}).then(u,function(e){return Promise.reject(new Error(e.body.message))})},t.setConsents=function(e,t){return i.default.post({url:l.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t}}).then(u,d)};var a=s(n(6)),r=s(n(2)),i=s(n(13)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return null!=e&&null!=e.body&&r.default.dispatch({type:l.ActionTypes.UPDATE_CONSENTS,consents:o({},e.body)}),e.body}function d(e){var t=void 0;throw t=e.status>=500&&e.status<=599?a.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:a.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED,new Error(t)}},6896:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(3)),a=n(56),r=h(n(25)),i=h(n(2)),l=n(127),s=h(n(27)),u=h(n(68)),d=h(n(31)),f=h(n(44)),c=h(n(129)),p=h(n(552));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m="ActivityTrackingStore",y=18e5,v=3e5,g=4004,_=r.default.get(m)||{},E={};function S(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&b(e,!0);var t=E[e.applicationId];null!=t&&(t.stop(),delete E[e.applicationId]),delete _[e.applicationId],r.default.set(m,_)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),o=null!=e.updatedAt?n-e.updatedAt:0;o>y+v&&(o=0),p.default.updateActivity(e.applicationId,e.isDiscordApplication,(0,l.shouldShareApplicationActivity)(e.applicationId,d.default,f.default,c.default),e.token,Math.floor(o/1e3),t),e.updatedAt=n;var i=E[e.applicationId];null==i&&(i=E[e.applicationId]=new a.Interval).start(y,function(){return b(e)}),t||(_[e.applicationId]=e,r.default.set(m,_))}function C(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=u.default.getRunningGames(),n=new Set(u.default.getRunningDiscordApplicationIds()),o=new Set,a=t,r=Array.isArray(a),i=0;for(a=r?a:a[Symbol.iterator]();;){var l;if(r){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var d=l.gameName,f=s.default.getGameByName(d);null!=f&&(o.add(f.id),f.id in _||b({applicationId:f.id,updatedAt:Date.now(),isDiscordApplication:n.has(f.id)}))}var c=Object.keys(_),p=Array.isArray(c),h=0;for(c=p?c:c[Symbol.iterator]();;){var m;if(p){if(h>=c.length)break;m=c[h++]}else{if((h=c.next()).done)break;m=h.value}var y=m;o.has(y)||S(_[y],e)}}function T(){var e=Object.keys(_),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var o;if(t){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}S(_[o])}}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default,f.default,c.default),this.syncWith([d.default],C)},t.prototype.getActivities=function(){return _},t}(o.default.Store);t.default=new N(i.default,{RUNNING_GAMES_CHANGE:function(e){return C()},CONNECTION_OPEN:function(e){return function(){var e=Object.keys(_),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var o;if(t){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}b(_[o])}C(!1)}()},CONNECTION_CLOSED:function(e){e.code===g&&T()},LOGOUT:function(e){return T()},ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,o=_[t];if(null==o)return!1;o.token=n,r.default.set(m,_)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=_[t];if(null==n)return!1;n.token=null,n.updatedAt=null,r.default.set(m,_)}}),e.exports=t.default},6897:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(56),r=n(8),i=(o=r)&&o.__esModule?o:{default:o};var l=6e4,s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptions={},this._unsubscriptions={},this._unsubscribe=new a.DelayedCall(l,function(){return n.flushUnsubscriptions()}),this._onChange=t}return e.prototype.reset=function(){this._subscriptions={},this._unsubscriptions={},this._unsubscribe.cancel()},e.prototype.get=function(e){var t=this._subscriptions[e]||{};return i.default.keys(t)},e.prototype.clear=function(e){delete this._subscriptions[e],delete this._unsubscriptions[e]},e.prototype.subscribe=function(e,t){var n=this._subscriptions[e]||{};n[t]=(n[t]||0)+1,this._subscriptions[e]=n,1===n[t]&&this._onChange(e,this.get(e)),this.checkForLeaks(e,t)},e.prototype.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]},e.prototype.unsubscribe=function(e,t){if(this.isSubscribed(e,t)){var n=this._unsubscriptions[e]||{};n[t]=(n[t]||0)+1,this._unsubscriptions[e]=n,1===n[t]&&this._unsubscribe.delay(!1)}},e.prototype.checkForLeaks=function(e,t){var n=(this._subscriptions[e]&&this._subscriptions[e][t]||0)-(this._unsubscriptions[e]&&this._unsubscriptions[e][t]||0);n>5&&console.warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+n+" subscriptions)")},e.prototype.flushUnsubscriptions=function(){var e=this;i.default.isEmpty(this._unsubscriptions)||(i.default.forEach(this._unsubscriptions,function(t,n){var o=e._subscriptions[n];i.default.forEach(t,function(e,t){o[t]=(o[t]||0)-e,o[t]<=0&&delete o[t]}),i.default.isEmpty(o)&&delete e._subscriptions[n],e._onChange(n,e.get(n))}),this._unsubscriptions={})},e}();t.default=s,e.exports=t.default},6898:function(e,t,n){"use strict";t.__esModule=!0,t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(1205);Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return a.MINIMUM_RANGE}}),Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return a.DEFAULT_RANGES}});var r=d(n(8)),i=n(56),l=d(n(6897)),s=d(a),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return null!=e&&"null"!==e&&e!==u.ME&&"undefined"!==e}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._members=new l.default(function(e,t){return n._enqueue(e,{members:t})}),this._channels=new s.default(function(e,t){return n._enqueue(e,{channels:t})}),this._typing=new Set,this._activities=new Set,this._subscribed=new Set,this._pending=new Set,this._flush=new i.DelayedCall(0,function(){return n.flush()}),this._onChange=t}return e.prototype._enqueue=function(e,t){this._pending[e]=o({},this._pending[e],t),this._flush.delay()},e.prototype.reset=function(){this._subscribed.clear(),this._pending={},this._members.reset(),this._channels.reset(),this._typing.clear(),this._activities.clear()},e.prototype.get=function(e){return{typing:this._typing.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e)}},e.prototype.forEach=function(e){this._subscribed.forEach(e)},e.prototype.clear=function(e){this._subscribed.delete(e),delete this._pending[e],this._members.clear(e),this._channels.clear(e),this._typing.delete(e),this._activities.delete(e)},e.prototype.flush=function(){var e=this;r.default.forEach(this._pending,function(t,n){e._subscribed.add(n),e._onChange(n,t)}),this._pending={}},e.prototype.subscribeUser=function(e,t){f(e)&&this._members.subscribe(e,t)},e.prototype.unsubscribeUser=function(e,t){f(e)&&this._members.unsubscribe(e,t)},e.prototype.subscribeChannel=function(e,t,n){f(e)&&this._channels.subscribe(e,t,n)},e.prototype.subscribeTyping=function(e){f(e)&&(this._typing.has(e)||(this._typing.add(e),this._enqueue(e,{typing:!0})))},e.prototype.subscribeActivities=function(e){f(e)&&(this._activities.has(e)||(this._activities.add(e),this._enqueue(e,{activities:!0})))},e}();t.default=c},6899:function(e,t,n){"use strict";t.__esModule=!0;var o=v(n(3)),a=n(6898),r=v(a),i=v(n(26)),l=v(n(60)),s=v(n(14)),u=v(n(225)),d=v(n(65)),f=v(n(226)),c=v(n(6104)),p=v(n(288)),h=v(n(59)),m=v(n(2)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var g=void 0;function _(){S.forEach(function(e){e===u.default.getGuildId()||e===f.default.getGuildId()||null!=g&&g.guildId===e||S.clear(e)})}function E(e,t){S.subscribeTyping(e),S.subscribeActivities(e),null!=t&&c.default.getSection()===y.ChannelSections.MEMBERS&&S.subscribeChannel(e,t,a.DEFAULT_RANGES)}var S=new r.default(function(e,t){m.default.dispatch({type:y.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})});function b(e){e.type===y.ActionTypes.CONNECTION_OPEN&&_();var t=u.default.getGuildId();return null!=t&&E(t,d.default.getChannelId(t)),S.forEach(function(e){null==i.default.getGuild(e)?S.clear(e):m.default.dirtyDispatch({type:y.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:S.get(e)})}),!1}function C(){var e=p.default.getSyncingWith();if(null==e)null!=g&&(S.unsubscribeUser(g.guildId,g.userId),g=null);else{var t=e.userId;if(null!=g&&g.userId===t)return!1;if(h.default.isFriend(t))return!1;var n=l.default.memberOf(t);if(0===n.length)return!1;var o=n[0];g={guildId:o,userId:t},S.subscribeUser(o,t)}return!1}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default,d.default,f.default,s.default,c.default),this.syncWith([p.default],C)},t}(o.default.Store);t.default=new T(m.default,{CONNECTION_OPEN:b,CONNECTION_RESUMED:b,CONNECTION_CLOSED:function(e){return _(),!1},IDLE:function(e){return e.idle&&_(),!1},LOGOUT:function(e){return S.reset(),!1},GUILD_SELECT:function(e){return E(e.guildId),!1},GUILD_DELETE:function(e){var t=e.guild;return S.clear(t.id),!1},GUILD_SUBSCRIPTIONS_MEMBERS_ADD:function(e){var t=e.guildId;return e.userIds.forEach(function(e){e!==s.default.getId()&&S.subscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE:function(e){var t=e.guildId;return e.userIds.forEach(function(e){S.unsubscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_CHANNEL:function(e){var t=e.guildId,n=e.channelId,o=e.ranges;return S.subscribeChannel(t,n,o),!1},CHANNEL_PRELOAD:function(e){return E(e.guildId,e.channelId),!1}}),e.exports=t.default},6900:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(56),r=n(8),i=(o=r)&&o.__esModule?o:{default:o};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n){l(this,e),this._pendingRequests=new Set,this._sentRequests=new Set,this._unacknowledgedRequests=new Set,this._guildId=t,this._guildMemberExists=function(e){return n(t,e)}}return e.prototype.acknowledge=function(e){this._unacknowledgedRequests.delete(e),this._pendingRequests.delete(e)},e.prototype.flushRequests=function(e){var t=this;if(0!==this._pendingRequests.size){var n=[];this._pendingRequests.forEach(function(e){t._guildMemberExists(e)||(t._unacknowledgedRequests.add(e),t._sentRequests.add(e),n.push(e))}),n.length>0&&e(this._guildId,n),this._pendingRequests.clear()}},e.prototype.requestUnacknowledged=function(){var e=this;return 0!==this._unacknowledgedRequests.size&&(this._unacknowledgedRequests.forEach(function(t){e._guildMemberExists(t)?e._unacknowledgedRequests.delete(t):e._pendingRequests.add(t)}),0!==this._pendingRequests.size&&void 0)},e.prototype.request=function(e){if(this._guildMemberExists(e)||this._sentRequests.has(e)||this._pendingRequests.has(e))return!1;this._pendingRequests.add(e)},e}(),u=function(){function e(t,n){var o=this;l(this,e),this._guildStates={},this._flush=new a.DelayedCall(0,function(){return o.flushRequests()}),this._guildMemberExists=t,this._onChange=n}return e.prototype.reset=function(){this._guildStates={},this._flush.cancel()},e.prototype.request=function(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay()},e.prototype.acknowledge=function(e,t){this._getGuildState(e).acknowledge(t)},e.prototype.flushRequests=function(){var e=this;i.default.forEach(this._guildStates,function(t){return t.flushRequests(e._onChange)})},e.prototype.requestUnacknowledged=function(){i.default.reduce(this._guildStates,function(e,t){return!1!==t.requestUnacknowledged()||t},!1)&&this._flush.delay()},e.prototype._getGuildState=function(e){var t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new s(e,this._guildMemberExists)),t},e}();t.default=u,e.exports=t.default},6901:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(8)),r=d(n(18)),i=d(n(60)),l=d(n(6900)),s=d(n(2)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new l.default(i.default.isMember,function(e,t){s.default.dispatch({type:u.ActionTypes.GUILD_MEMBERS_REQUEST,guildIds:[e],userIds:t})});function c(){f.reset()}function p(e,t){return f.request(e,t),!1}function h(e,t){return t.forEach(function(t){var n=t.author,o=t.mentions;null!=n&&p(e,n.id),o.forEach(function(t){return p(e,t.id)})}),!1}function m(e){var t=e.channelId,n=e.messages,o=r.default.getChannel(t);return null!=o&&null!=o.guild_id&&h(o.guild_id,n)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(r.default,i.default)},t}(o.default.Store);t.default=new y(s.default,{CONNECTION_CLOSED:function(e){return c()},CONNECTION_OPEN:function(e){return c()},CONNECTION_RESUMED:function(e){return f.requestUnacknowledged(),!1},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members,o=e.notFound;return n.forEach(function(e){f.acknowledge(t,e.user.id)}),null!=o&&o.forEach(function(e){return f.acknowledge(t,e)}),!1},SEARCH_FINISH:function(e){var t=e.searchId,n=e.messages;return h(t,a.default.flatten(n))},LOAD_MESSAGES_SUCCESS:m,LOAD_MESSAGES_AROUND_SUCCESS:m,LOAD_PINNED_MESSAGES_SUCCESS:m,LOAD_RECENT_MENTIONS_SUCCESS:m}),e.exports=t.default},6902:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=u(n(2)),r=u(n(11)),i=(n(0),u(n(27))),l=u(n(68)),s=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}var d={};function f(){r.default.embedded&&r.default.isWindows()&&r.default.ensureModule("discord_vigilante").then(function(){var e=r.default.requireModule("discord_vigilante"),t=l.default.getRunningGames(),n=s.default.map(t,function(e){return e.pid.toString()});d=s.default.pick(d,n);var o=(0,s.default)(t).reject(function(e){return e.pid in d}).map(function(e){return[e.pid,i.default.getGameByName(e.gameName)||i.default.getGameByName(e.name)]}).filter(function(e){return null!=e[1]}).filter(function(t){var n=t[1];return e.hasSidekick(n.id)}).map(function(t){var n=t[0],o=t[1];return[n,e.spawnSidekick(n,o.id)]}).value();d=s.default.assign(d,s.default.fromPairs(o))})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default)},t}(o.default.Store);t.default=new c(a.default,{RUNNING_GAMES_CHANGE:function(e){return f()},GAMES_DATABASE_UPDATE:function(e){return f()}}),e.exports=t.default},6903:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(2)),r=(n(0),d(n(11))),i=d(n(397)),l=d(n(26)),s=d(n(226)),u=d(n(165));function d(e){return e&&e.__esModule?e:{default:e}}var f=18e6,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t}(o.default.Store);t.default=new h(a.default,{IDLE:function(e){var t=e.idleSince;if(r.default.embedded&&(clearTimeout(c),clearTimeout(p),null!=t&&!s.default.isDisabled())){var n=s.default.getChannelId();if(null!=n){p=setTimeout(function(){u.default.selectVoiceChannel(null,null)},f);var o=l.default.getGuild(s.default.getGuildId());null!=o&&null!=o.afkChannelId&&o.afkChannelId!==n&&null!=o.afkTimeout&&(c=setTimeout(function(){null!=(o=l.default.getGuild(s.default.getGuildId()))&&null!=o.afkChannelId&&u.default.selectVoiceChannel(o.id,o.afkChannelId)},t+1e3*o.afkTimeout-Date.now()))}}}}),e.exports=t.default},6904:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(8)),a=h(n(3)),r=h(n(2)),i=n(0),l=h(n(291)),s=h(n(14)),u=n(1214),d=h(n(25)),f=h(n(1213)),c=h(n(13)),p=h(n(11));function h(e){return e&&e.__esModule?e:{default:e}}var m={},y="FriendSyncResultHashes";function v(){d.default.set(y,{userId:s.default.getId(),resultHashes:m})}function g(e){return e.type+":"+e.id}var _=new f.default(function(e){var t=l.default.getAccounts(),n=(0,o.default)(t).filter(function(e){return e.friendSync&&i.UNSAFE_PLATFORM_TYPES.has(e.type)&&i.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type}).uniq().value();(0,u.fetchAccounts)(n).then(function(t){var n=t.filter(function(e){if(m[g(e)]===e.resultHash)return!1;var t=l.default.getAccount(e.id,e.type);return null!=t&&t.friendSync});n.length>0&&c.default.post({url:i.Endpoints.FRIEND_SUGGESTIONS+"/sync",body:n.map(function(e){return{id:e.id,name:e.name,id_hash:e.idHash,platform_type:e.type,friend_id_hashes:e.friendIdHashes}})}).then(function(){n.forEach(function(e){m[g(e)]=e.resultHash}),v()}),e()})});function E(){var e;return p.default.embedded&&((e=d.default.get(y))&&(e.userId===s.default.getId()?m=e.resultHashes:d.default.remove(y)),_.start(36e5)),!1}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default)},t}(a.default.Store);t.default=new S(r.default,{CONNECTION_OPEN:function(e){return E()},CONNECTION_CLOSED:function(e){return _.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return function(){var e,t,n=!1,o=Object.keys(m),a=Array.isArray(o),r=0;for(o=a?o:o[Symbol.iterator]();;){var i;if(a){if(r>=o.length)break;i=o[r++]}else{if((r=o.next()).done)break;i=r.value}var s=i,u=(t=(e=s).indexOf(":"),{type:e.substr(0,t),id:e.substr(t+1)}),d=u.type,f=u.id,c=l.default.getAccount(f,d);null!=c&&c.friendSync||(delete m[s],n=!0)}return n&&v(),p.default.embedded&&_.run(),!1}()},LOGOUT:function(e){return _.stop(),void d.default.remove(y)}}),e.exports=t.default},6905:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),a=n(56),r=f(n(2)),i=f(n(89)),l=f(n(14)),s=f(n(165)),u=f(n(145)),d=(n(0),f(n(6)));function f(e){return e&&e.__esModule?e:{default:e}}var c=void 0,p=new a.Timeout,h=3e5;function m(){null!=c&&(u.default.sendBotMessage(c,d.default.Messages.BOT_CALL_IDLE_DISCONNECT),s.default.selectVoiceChannel(null,null))}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t}(o.default.Store);t.default=new y(r.default,{CONNECTION_CLOSED:function(e){return c=null,void p.stop()},VOICE_STATE_UPDATE:function(e){if(null!=e.guildId)return!1;var t=i.default.getCurrentVoiceChannelId(null,l.default.getId());return null==t?(p.stop(),!1):(1===i.default.getVoiceStatesForChannel(null,t).length?(c=t,p.start(h,m,!1)):p.stop(),!1)}}),e.exports=t.default},6910:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),a=f(n(25)),r=f(n(8)),i=f(n(2)),l=n(100),s=f(n(58)),u=f(n(226)),d=f(n(560));n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c="CertifiedDeviceRecommendationStore",p=[],h=new Set;function m(){var e;return!(!u.default.isConnected()||!r.default.some(((e={})[l.DeviceTypes.AUDIO_INPUT]=[s.default.getInputDeviceId(),s.default.getInputDevices()],e[l.DeviceTypes.AUDIO_OUTPUT]=[s.default.getOutputDeviceId(),s.default.getOutputDevices()],e[l.DeviceTypes.VIDEO_INPUT]=[s.default.getVideoDeviceId(),s.default.getVideoDevices()],e),function(e,t){var n=e[0],o=e[1];if(d.default.isCertified(n))return!1;var a=d.default.getCertifiedDeviceByType(t);return null!=a&&(null!=o[a.id]&&(!h.has(a.id)&&(p=[a],a.related.forEach(function(e){var t=d.default.getCertifiedDevice(e);null!=t&&p.push(t)}),!0)))}))||p.length>0&&(p=[],!0)}function y(e){var t=e.id,n=p.filter(function(e){return e.id!==t});if(n.length===p.length)return!1;p=n}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){h=new Set(a.default.get(c)),this.waitFor(d.default,s.default,u.default)},t.prototype.getRecommendedDevices=function(){return p},t.prototype.isOpen=function(){return p.length>0},t.prototype.getProps=function(){return{recommendedDevices:p}},t}(o.default.Store);t.default=new v(i.default,{CERTIFIED_DEVICES_SET:function(e){return m()},MEDIA_ENGINE_DEVICES:function(e){return m()},RTC_CONNECTION_STATE:function(e){return m()},AUDIO_SET_INPUT_DEVICE:y,AUDIO_SET_OUTPUT_DEVICE:y,CERTIFIED_DEVICE_RECOMMENDATIONS_IGNORE:function(e){return p.forEach(function(e){return h.add(e.id)}),p=[],void a.default.set(c,h)}}),e.exports=t.default},6911:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(100),l=h(n(6)),s=h(n(371)),u=h(n(364)),d=n(1194),f=h(n(6910)),c=n(0),p=h(n(20));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=m(this,e.call.apply(e,[this].concat(r))),o.handleConfirm=function(){o.props.recommendedDevices.forEach(function(e){switch(e.type){case i.DeviceTypes.AUDIO_INPUT:u.default.setInputDevice(e.id,"Certified Device Modal");break;case i.DeviceTypes.AUDIO_OUTPUT:u.default.setOutputDevice(e.id,"Certified Device Modal");break;case i.DeviceTypes.VIDEO_INPUT:u.default.setVideoDevice(e.id,"Certified Device Modal")}})},o.handleCancel=function(){(0,d.ignoreCertifiedDeviceRecommendations)()},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.recommendedDevices[0];p.default.track(c.AnalyticEvents.OPEN_MODAL,{type:"Certified Device Modal",device_name:e.vendor.name+" "+e.model.name})},t.prototype.render=function(){var e=this.props.recommendedDevices[0],t=void 0;switch(e.type){case i.DeviceTypes.AUDIO_INPUT:default:t=l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY;break;case i.DeviceTypes.AUDIO_OUTPUT:t=l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY;break;case i.DeviceTypes.VIDEO_INPUT:t=l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_VIDEO_INPUT_BODY}return a(s.default,{title:l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE,body:t.format({vendorName:e.vendor.name,modelName:e.model.name}),onConfirm:this.handleConfirm,onCancel:this.handleCancel,confirmText:l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_CONFIRM,cancelText:l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_CANCEL})},t}(r.Component);y.modalConfig={store:f.default},t.default=y,e.exports=t.default},6912:function(e,t,n){e.exports=n.p+"bbb28fd68faad10216c8da92d6bcca19.svg"},6913:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),g(n(6))),i=g(n(9)),l=n(6085),s=g(n(64)),u=g(n(40)),d=n(1023),f=g(n(1020)),c=n(6328),p=g(n(45)),h=g(n(20)),m=g(n(12)),y=n(0),v=g(n(519));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E={LINUX:"linux",OSX:"osx",WINDOWS:"win"};var S=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=_(this,e.call.apply(e,[this].concat(r))),o.state={platform:function(){switch((p.default.os.family||"").replace(" ","").toLowerCase()){case"osx":return E.OSX;case"ubuntu":case"debian":case"fedora":case"redhat":case"suse":return E.LINUX;default:return E.WINDOWS}}()},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.download=function(e,t){window.location=(0,d.makeDesktopDownloadURL)(e,!1,null!=t?t:null),f.default.disable(y.NoticeTypes.DOWNLOAD_NAG);var n=m.default.getCurrentUser();h.default.track(y.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:null!=n&&n.isClaimed(),referring_location:"Homepage NUF"}),(0,c.dismiss)()},t.prototype.renderButtons=function(){var e=this,t=this.state.platform;return t!==E.LINUX?a(s.default,{color:s.default.Colors.GREEN,fullWidth:!0,onClick:function(){return e.download(t,null)}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:function(e){switch(e){case E.OSX:return r.default.Messages.PLATFORM_OSX;case E.LINUX:return r.default.Messages.PLATFORM_LINUX;default:return r.default.Messages.PLATFORM_WINDOWS}}(t)})):a(u.default,{},void 0,a(u.default.Child,{},void 0,a(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"deb")}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:r.default.Messages.DEB}))),a(u.default.Child,{},void 0,a(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"tar.gz")}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:r.default.Messages.TAR_GZ}))))},t.prototype.render=function(){return a(l.PageWrapper,{illustration:n(6912),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Text,{className:(0,i.default)(v.default.marginBottom20,v.default.marginTop60)},void 0,r.default.Messages.NUF_DOWNLOAD_APP_INTRO),a(l.Title,{className:v.default.marginBottom8},void 0,r.default.Messages.NUF_DOWNLOAD_APP_TITLE),a(l.Text,{className:v.default.marginBottom20},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BODY),this.renderButtons())},t}(l.AnimatedPage);t.default=S,e.exports=t.default},6914:function(e,t,n){e.exports=n.p+"c5a50044a5560b4796c72a1fb25bd7d4.svg"},6915:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(6))),i=h(n(9)),l=n(6085),s=h(n(266)),u=h(n(262)),d=h(n(939)),f=h(n(13)),c=n(0),p=h(n(519));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=m(this,e.call.apply(e,[this].concat(r))),o.state={name:"",submitting:!1,hasError:!1},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.name;return""===(t=t.trim())?(this.setState({hasError:!0}),Promise.reject(new Error("Invalid guild name"))):new Promise(function(n,o){e.setState({submitting:!0,hasError:!1},function(){return f.default.post({url:c.Endpoints.GUILDS,body:{name:t}}).then(function(){return n(!1)},function(){e.setState({submitting:!1,hasError:!0}),o(new Error("Invalid guild name"))})})})},t.prototype.render=function(){var e=this,t=this.state,o=t.name,f=t.submitting,c=t.hasError;return a(l.PageWrapper,{illustration:n(6914),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Title,{className:(0,i.default)(p.default.marginBottom8,p.default.marginTop20)},void 0,r.default.Messages.NUF_CREATE_SERVER_TITLE),a(l.Text,{className:p.default.marginBottom20},void 0,r.default.Messages.NUF_CREATE_SERVER_BODY.format()),a(s.default,{title:r.default.Messages.FORM_LABEL_SERVER_NAME,required:!0,className:p.default.marginBottom20},void 0,a(d.default,{autoFocus:!0,name:"name",type:"text",error:c?r.default.Messages.NUF_CREATE_SERVER_ERROR:null,disabled:f,value:o,className:p.default.marginBottom8,onChange:function(t){return e.setState({name:t})}}),c?null:a(u.default,{type:u.default.Types.DESCRIPTION},void 0,r.default.Messages.NUF_CREATE_SERVER_NOTE.format())))},t}(l.AnimatedPage);t.default=y,e.exports=t.default},6916:function(e,t,n){e.exports=n.p+"a01bc277d210a4b92e3900e3871f986e.svg"},6917:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(6))),i=h(n(9)),l=n(6085),s=h(n(266)),u=h(n(262)),d=h(n(939)),f=h(n(365)),c=h(n(6054)),p=h(n(519));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=m(this,e.call.apply(e,[this].concat(r))),o.state={code:null,invite:"",hasError:!1,submitting:!1},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.invite;if(""===(t=t.trim()))return this.setState({hasError:!0}),Promise.reject(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED));var n=t.split("/"),o=n[n.length-1];return new Promise(function(t,n){e.setState({code:o,submitting:!0,hasError:!1},function(){f.default.resolveInvite(o,"New Homepage NUF").then(function(o){var a=o.invite;null!=a?f.default.acceptInvite(a.code,{location:"New Homepage NUF"}).then(function(){null!=a.guild&&null!=a.channel&&(f.default.transitionToInviteChannel(a.guild.id,a.channel.id,a.channel.type),t(!0))},function(){return e.setState({submitting:!1,hasError:!0})}):(e.setState({submitting:!1,hasError:!0}),n(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED)))},function(){e.setState({submitting:!1,hasError:!0}),n(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED))})})})},t.prototype.render=function(){var e=this,t=this.state,o=t.invite,f=t.submitting,h=t.hasError,m=c.default.isTreatment1();return a(l.PageWrapper,{illustration:n(6916),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Title,{className:(0,i.default)(p.default.marginBottom8,m?p.default.marginTop60:p.default.marginTop20)},void 0,m?r.default.Messages.NUF_JOIN_SERVER_TITLE_1:r.default.Messages.NUF_JOIN_SERVER_TITLE_2),a(l.Text,{className:p.default.marginBottom20},void 0,m?r.default.Messages.NUF_JOIN_SERVER_BODY_1:r.default.Messages.NUF_JOIN_SERVER_BODY_2.format()),a(s.default,{title:r.default.Messages.NUF_JOIN_SERVER_INPUT_LABEL,required:!0,className:p.default.marginBottom20},void 0,a(d.default,{autoFocus:!0,name:"invite",type:"text",error:h?r.default.Messages.INSTANT_INVITE_EXPIRED:null,disabled:f,value:o,className:p.default.marginBottom8,onChange:function(t){return e.setState({invite:t})}}),h?null:a(u.default,{type:u.default.Types.DESCRIPTION},void 0,r.default.Messages.NUF_JOIN_SERVER_INPUT_NOTE)))},t}(l.AnimatedPage);t.default=y,e.exports=t.default},6918:function(e,t,n){e.exports=n.p+"873239c449fe63533f54170ece883300.svg"},6919:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(6))),i=p(n(9)),l=n(6085),s=p(n(266)),u=p(n(939)),d=n(962),f=p(n(6054)),c=p(n(519));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.state={email:"",password:"",errors:null,submitting:!1},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this;return new Promise(function(t,n){e.setState({submitting:!0,errors:null},function(){var o=e.state,a=o.email,i=o.password;(0,d.saveAccountRequest)({email:a,password:i}).then(function(){return t(!1)},function(t){null!=t&&null!=t.body||e.setState({submitting:!1,errors:{email:[r.default.Messages.NUF_CLAIM_ACCOUNT_GENERIC_ERROR]}}),e.setState({submitting:!1,errors:t.body},function(){return n(new Error("Invalid request"))})})})})},t.prototype.renderError=function(e){var t=this.state.errors;if(null==t)return null;var n=t[e];return null==n?null:Array.isArray(n)?n[0]:n},t.prototype.render=function(){var e=this,t=this.state,o=t.email,d=t.password,p=t.submitting,h=f.default.isTreatment1();return a(l.PageWrapper,{illustration:n(6918),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Title,{className:(0,i.default)(c.default.marginBottom8,c.default.marginTop20)},void 0,r.default.Messages.NUF_CLAIM_ACCOUNT_TITLE),a(l.Text,{className:c.default.marginBottom20,tag:"div"},void 0,h?r.default.Messages.NUF_CLAIM_ACCOUNT_BODY_1:r.default.Messages.NUF_CLAIM_ACCOUNT_BODY_2),a(s.default,{title:r.default.Messages.FORM_LABEL_EMAIL,required:!0,className:c.default.marginBottom20},void 0,a(u.default,{autoFocus:!0,name:"email",disabled:p,value:o,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})}})),a(s.default,{title:r.default.Messages.FORM_LABEL_PASSWORD,required:!0},void 0,a(u.default,{name:"password",type:"password",error:this.renderError("password"),value:d,disabled:p,onChange:function(t){return e.setState({password:t})}})))},t}(l.AnimatedPage);t.default=m,e.exports=t.default},6920:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(6)),l=_(n(123)),s=_(n(64)),u=_(n(1004)),d=_(n(6919)),f=_(n(6917)),c=_(n(6915)),p=_(n(6913)),h=_(n(521)),m=n(6054),y=_(m),v=n(6328),g=_(n(5578));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e){switch(null!=e?e[0]:null){case m.Pages.CLAIM:return{Component:d.default,buttonText:i.default.Messages.NUF_CLAIM_ACCOUNT_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case m.Pages.JOIN:return{Component:f.default,buttonText:i.default.Messages.NUF_JOIN_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case m.Pages.CREATE:return{Component:c.default,buttonText:i.default.Messages.NUF_CREATE_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case m.Pages.DOWNLOAD:return{Component:p.default,buttonText:i.default.Messages.DONE,buttonLook:s.default.Looks.LINK,buttonColor:s.default.Colors.PRIMARY};default:return{Component:null,buttonText:null,buttonLook:null,buttonColor:null}}}var b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=E(this,e.call.apply(e,[this].concat(r))),o.state={submitting:!1},o.handleSubmit=function(e){e.preventDefault();var t=o.pageRef;if(null==t||"function"!=typeof t.submit)return console.warn("HomepageNUF: No valid ref");o.setState({submitting:!0},function(){t.submit().then(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.setState({submitting:!1},function(){return o.handlePageAdvance(!1,e||!1)})},function(){return o.setState({submitting:!1})})})},o.handleSkipClick=function(){o.handlePageAdvance(!0)},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePageAdvance=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.pages,o=this.props.page;null!=o&&null!=n&&((o+=t?2:1)>=n.length?(0,v.dismiss)(e):(0,v.nextStep)(e,t))},t.prototype.renderContent=function(){var e=this,t=this.props,n=t.page,o=t.pages;if(null==n||null==o)return null;var r=S(o[n]).Component;return null==r?null:a(r,{setRef:function(t){return e.pageRef=t}},o[n][0])},t.prototype.renderFooter=function(){var e=this.props,t=e.page,n=e.pages,o=e.progress,l=this.state.submitting;if(null==t||null==n)return null;var d=n[t];if(null==d)return null;var f=S(d),c=f.buttonText,p=f.buttonLook,h=f.buttonColor,m=void 0;return null!=c&&null!=p&&null!=h&&(m=a(s.default,{type:"submit",submitting:l,look:p,color:h},void 0,c)),a(r.Fragment,{},void 0,m,d[1]?a(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:this.handleSkipClick},void 0,i.default.Messages.SKIP):null,a("div",{className:g.default.progressContainer},void 0,a(u.default,{size:u.default.Sizes.LARGE,percent:100*o,className:g.default.progress,foregroundColor:"#8ea1e1",backgroundColor:"rgba(153,170,181,0.3)"})))},t.prototype.render=function(){return a(l.default,{size:g.default.size,className:g.default.modal,tag:"form",onSubmit:this.handleSubmit},void 0,a(h.default,{component:"div",className:g.default.pageSize},void 0,this.renderContent()),a(l.default.Footer,{},void 0,this.renderFooter()))},t}(r.PureComponent);b.modalConfig={store:y.default},t.default=b,e.exports=t.default},6933:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(40)),l=f(n(123)),s=f(n(64)),u=f(n(6)),d=f(n(5696));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){var e=this.props,t=e.forced,n=e.onClose;return t?null:a(l.default.CloseButton,{className:d.default.closeButton,onClick:n})},t.prototype.renderFooter=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,o=e.onClickGetApp,r=e.onClose;return t||n?a(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,a(s.default,{size:s.default.Sizes.LARGE,onClick:r},void 0,u.default.Messages.OKAY)):a(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,a("div",{className:d.default.appPromotion},void 0,u.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP),a(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.LARGE,onClick:o},void 0,u.default.Messages.CLAIM_ACCOUNT_GET_APP))},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,o=e.email,r=t||n?u.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:u.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;return a(l.default,{className:d.default.modal},void 0,a(l.default.Content,{className:d.default.content},void 0,this.renderCloseButton(),a("div",{className:d.default.image}),a("div",{className:d.default.title},void 0,r.format({email:o}))),this.renderFooter())},t}(r.PureComponent);t.default=c,e.exports=t.default},6934:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(40)),l=h(n(123)),s=h(n(64)),u=h(n(67)),d=n(520),f=h(n(939)),c=h(n(6)),p=h(n(5697));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleEmailChange=function(e){o.setState({email:e})},o.handlePasswordChange=function(e){o.setState({password:e})},o.handleSubmit=function(e){e.preventDefault();var t=o.props.onClaim,n=o.state,a=n.email,r=n.password;t&&t(a,r)},o.handleLogOut=function(){var e=o.props.onLogOut;e&&e()},o.state={email:"",password:""},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSubmittable=function(){var e=this.state,t=e.email,n=e.password;return t.length>0&&n.length>0},t.prototype.renderEmailInput=function(){return a(d.FormItem,{title:c.default.Messages.FORM_LABEL_EMAIL,className:p.default.formItem},void 0,a(f.default,{value:this.state.email,error:this.props.emailError,onChange:this.handleEmailChange,autoFocus:!0}))},t.prototype.renderPasswordInput=function(){return a(d.FormItem,{title:c.default.Messages.FORM_LABEL_PASSWORD,className:p.default.formItem},void 0,a(f.default,{type:"password",value:this.state.password,error:this.props.passwordError,onChange:this.handlePasswordChange}))},t.prototype.renderClaimButton=function(){return a(s.default,{type:"submit",size:s.default.Sizes.LARGE,submitting:this.props.submitting,disabled:!this.isSubmittable(),fullWidth:!0},void 0,c.default.Messages.CLAIM_ACCOUNT)},t.prototype.renderLogOut=function(){if(this.props.forced)return a(u.default,{color:u.default.Colors.PRIMARY,className:p.default.logout,onClick:this.handleLogOut,size:u.default.Sizes.SMALL},void 0,c.default.Messages.LOGOUT)},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,o=void 0;return o=t?c.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:n?c.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED:c.default.Messages.CLAIM_ACCOUNT_BODY,a(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,a(l.default.Content,{className:p.default.content},void 0,a("div",{className:p.default.image}),a("div",{className:p.default.title},void 0,o)),a(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,this.renderEmailInput(),this.renderPasswordInput(),this.renderClaimButton(),this.renderLogOut()))},t}(r.PureComponent);t.default=m,e.exports=t.default},6935:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(2)),r=n(0),i=d(n(11)),l=d(n(12)),s=d(n(6039)),u=d(n(6054));function d(e){return e&&e.__esModule?e:{default:e}}var f=r.FormStates.CLOSED,c=r.ClaimAccountModalSteps.CLAIM,p=!1,h=!1,m=null,y={};function v(e){var t=l.default.getCurrentUser();if(null==t||t.isClaimed())return!1;f=r.FormStates.OPEN,y={},h=e.openedByChatBox||!1}function g(){f=r.FormStates.CLOSED,y={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,u.default)},t.prototype.isOpen=function(){return!s.default.hasAction()&&f!==r.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:f===r.FormStates.SUBMITTING,step:c,forced:p,openedByChatBox:h,email:m,errors:y}},t}(o.default.Store);t.default=new _(a.default,{CONNECTION_OPEN:function(e){return t=u.default.getExperimentDescriptor(),!(l.default.getCurrentUser().isClaimed()||!i.default.embedded||null!=t&&t.bucket!==r.ExperimentBuckets.CONTROL)&&(p=!0,void v({}));var t},CLAIM_ACCOUNT_MODAL_OPEN:v,NEW_USER_FLOW_GUILD_CREATED:v,CLAIM_ACCOUNT_SUBMITTED:function(e){f=r.FormStates.SUBMITTING},CLAIM_ACCOUNT_SUCCESS:function(e){f=r.FormStates.OPEN,c=r.ClaimAccountModalSteps.CLAIM_SUCCESS,m=e.email},CLAIM_ACCOUNT_FAILURE:function(e){f=r.FormStates.OPEN,y=e.errors},CLAIM_ACCOUNT_MODAL_CLOSE:function(e){return g()},CONNECTION_CLOSED:function(e){return g()},NEW_USER_FLOW_SET_STEP:function(e){-1===e.step&&v({})},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},6936:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=y(n(1)),i=n(0),l=y(n(544)),s=m(n(943)),u=m(n(6935)),d=m(n(6934)),f=m(n(6933)),c=n(1023),p=m(n(20)),h=m(n(11));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.render=function(){var e=this.props,t=e.step,n=e.forced,o=e.openedByChatBox,r=e.submitting,l=e.email;switch(t){case i.ClaimAccountModalSteps.CLAIM:default:return a(d.default,{forced:n,openedByChatBox:o,emailError:this.getError("email"),passwordError:this.getError("password"),submitting:r,onClaim:this.handleClaim,onLogOut:this.handleLogOut});case i.ClaimAccountModalSteps.CLAIM_SUCCESS:return a(f.default,{forced:n,openedByChatBox:o,email:l,onClickGetApp:this.handleClickGetApp,onClose:this.close})}},t.prototype.handleClaim=function(e,t){l.claim(e,t)},t.prototype.handleClickGetApp=function(){window.open((0,c.getCurrentPlatformDownloadURL)(),"_blank"),p.default.track(i.AnalyticEvents.DOWNLOAD_APP,{platform:(0,c.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal"})},t.prototype.handleLogOut=function(){s.default.logout()},t.prototype.close=function(){l.close()},t}(r.PureComponent);v.modalConfig={store:u.default,closable:h.default.isWeb()},t.default=v,e.exports=t.default},6937:function(e,t,n){e.exports=n.p+"a13cfdd7220132fff399a76c3ed64519.svg"},6938:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(40)),s=m(n(64)),u=m(n(945)),d=m(n(262)),f=m(n(526)),c=m(n(6)),p=n(0),h=m(n(5698));function m(e){return e&&e.__esModule?e:{default:e}}var y=a(f.default,{}),v=a(f.default,{}),g=a(f.default,{}),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={checked:!1},o.handleCheck=o.handleCheck.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,o=e.accepting,r=e.onAccept,f=this.state.checked;return a("div",{className:(0,i.default)(h.default.modal,t)},void 0,a("div",{className:h.default.title},void 0,c.default.Messages.NEW_TERMS_TITLE),y,a(d.default,{className:h.default.description},void 0,c.default.Messages.NEW_TERMS_DESCRIPTION),a(l.default,{className:h.default.container,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,a(l.default,{direction:l.default.Direction.VERTICAL},void 0,a("div",{className:h.default.link},void 0,c.default.Messages.TERMS_OF_SERVICE.format({url:p.MarketingURLs.TERMS})),a("div",{className:h.default.link},void 0,c.default.Messages.PRIVACY_POLICY.format({url:p.MarketingURLs.PRIVACY}))),a("img",{alt:"",src:n(6937)})),v,a("div",{className:h.default.container},void 0,a(u.default,{onChange:this.handleCheck,value:f},void 0,a("div",{className:h.default.ack},void 0,c.default.Messages.NEW_TERMS_ACK))),g,a(l.default,{className:h.default.buttonContainer,justify:l.default.Justify.END},void 0,a(s.default,{className:h.default.button,disabled:!f,submitting:o,onClick:r},void 0,c.default.Messages.NEW_TERMS_CONTINUE)))},t.prototype.handleCheck=function(){this.setState({checked:!this.state.checked})},t}(r.PureComponent);_.defaultProps={onAccept:p.NOOP,accepting:!1},t.default=_,e.exports=t.default},6939:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(8)),l=f(n(6938)),s=f(n(6039)),u=n(1015),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={accepting:!1},i.default.bindAll(o,["handleAccept"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleAccept=function(){var e=this;return this.setState({accepting:!0}),(0,u.acceptAgreements)().then(function(t){return e.setState({accepting:t})})},t.prototype.render=function(){return a(l.default,{className:"theme-light",onAccept:this.handleAccept,accepting:this.state.accepting})},t}(r.PureComponent);c.modalConfig={store:s.default,center:!0,isOpen:function(){return s.default.getAction()===d.UserRequiredActions.AGREEMENTS}},t.default=c,e.exports=t.default},6940:function(e,t,n){e.exports=n.p+"045ea1ae8202098575f9b31a9faccb2c.svg"},6941:function(e,t,n){e.exports=n.p+"ba7676b3791fb371b0c67266945821f7.svg"},6942:function(e,t,n){e.exports=n.p+"9aa8a052edc4b43d141fdc275623209c.svg"},6943:function(e,t,n){e.exports=n.p+"b772c1d05a4bf0368d92668509da2cbc.svg"},6944:function(e,t,n){var o={"./img_account_sync_stars1.svg":6943,"./img_account_sync_stars2.svg":6942,"./img_account_sync_stars3.svg":6941,"./img_account_sync_stars4.svg":6940};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=6944},6945:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(87)),s=u(n(5700));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f="SWITCH_REF",c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=d(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){o.refs[f].click()},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r(l.default,{className:s.default.switch,onClick:this.handleClick},void 0,i.createElement("input",a({ref:f},this.props,{type:"checkbox"})),r("div",{className:s.default.slider}))},t}(i.Component);t.default=c,e.exports=t.default},6946:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(8)),l=g(n(90)),s=g(n(988)),u=g(n(6945)),d=g(n(41)),f=g(n(1008)),c=g(n(567)),p=g(n(292)),h=g(n(6)),m=n(0),y=g(n(555)),v=g(n(523));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(5699);var E=function(e){var t=e.account,n=e.platform,o=e.connect,r=e.onToggle;return a("div",{className:"detected-account"},void 0,a("img",{alt:h.default.Messages.IMG_ALT_LOGO.format({name:n.name}),className:"detected-account-icon",src:n.icon.color}),a("div",{className:"detected-account-details"},void 0,a("h3",{},void 0,t.name),a("h4",{},void 0,h.default.Messages.NUM_FRIENDS.format({friendCount:t.friendIdHashes.length}))),a(u.default,{checked:o,onChange:function(e){return r(t.id,e.currentTarget.checked)}}))},S=a("div",{className:"divider"}),b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=_(this,e.call.apply(e,[this].concat(r))),o.state={noConnect:new Set},o.close=function(){c.default.ignore()},o.handleEnable=function(){var e=o.props,t=e.detectedAccounts,n=e.analyticsLocation,a=o.state.noConnect,r=new Set;t.forEach(function(e){a.has(e.id)?r.add(e.type):p.default.connect(e.type,e.id,e.name,n)}),d.default.transitionTo(m.Routes.FRIENDS),f.default.setSection(m.FriendsSections.ADD_FRIEND),c.default.ignore(Array.from(r))},o.handleToggle=function(e,t){var n=o.state.noConnect;t&&n.has(e)?(n.delete(e),o.forceUpdate()):t||n.has(e)||(n.add(e),o.forceUpdate())},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props.detectedAccounts,o=this.state.noConnect,r=(0,i.default)(t).map(function(e){return l.default.get(e.type)}).uniq().map(function(e){return a("img",{alt:h.default.Messages.IMG_ALT_LOGO.format({name:e.name}),className:"icon",src:e.icon.color},e.type)}).value(),s=n(6944)("./img_account_sync_stars"+r.length+".svg"),u=void 0,d=i.default.uniq(t.map(function(e){return l.default.get(e.type).name})),f=d[0],c=d[1],p=d[2];switch(d.length){case 1:u=h.default.Messages.ONE_PLATFORM_ACCOUNT_DETECTED.format({a:f});break;case 2:u=h.default.Messages.TWO_PLATFORM_ACCOUNTS_DETECTED.format({a:f,b:c});break;case 3:u=h.default.Messages.THREE_PLATFORM_ACCOUNTS_DETECTED.format({a:f,b:c,c:p});break;default:u=h.default.Messages.FOUR_OR_MORE_PLATFORM_ACCOUNTS_DETECTED}var y=t.map(function(t){return a(E,{account:t,platform:l.default.get(t.type),connect:!o.has(t.id),onToggle:e.handleToggle},t.id)});return a("div",{className:"detected-platform-accounts-modal"},void 0,a("div",{className:"icons",style:{backgroundImage:"url("+s+")"}},void 0,r),a("div",{className:"body"},void 0,u),a("div",{className:"detected-accounts"},void 0,y),S,a("div",{className:"btn-group"},void 0,a("button",{type:"button",className:"btn btn-default",onClick:this.close},void 0,h.default.Messages.NOT_NOW),a("button",{type:"button",className:"btn btn-primary",onClick:this.handleEnable,disabled:t.length-o.size==0},void 0,h.default.Messages.ENABLE)),a("div",{className:"privacy"},void 0,h.default.Messages.PLATFORM_ACCOUNT_PRIVACY.format({articleURL:v.default.getArticleURL(m.HelpdeskArticles.FRIEND_SYNC_PRIVACY)})))},t}(r.PureComponent);b.modalConfig={store:s.default,backdropStyle:y.default.Styles.SOLID,closable:!1},t.default=b,e.exports=t.default},6947:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i=!1;function l(){i=!1}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t}(o.default.Store);t.default=new s(a.default,{EMAIL_VERIFICATION_MODAL_OPEN:function(e){i=!0},EMAIL_VERIFICATION_MODAL_CLOSE:function(e){return l()},CURRENT_USER_UPDATE:function(e){e.user.verified&&l()}}),e.exports=t.default},6948:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(1001)),l=E(n(9)),s=E(n(8)),u=E(n(123)),d=n(64),f=E(d),c=n(520),p=E(n(939)),h=E(n(6)),m=n(0),y=n(56),v=E(n(5701)),g=E(n(519)),_=E(n(946));function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._animItem=null,o._timeout=new y.Timeout,o.state={canResend:n.canResend,resent:!1,shouldClose:!1,email:"",password:""},s.default.bindAll(o,["setLottieRef","handleVerify","handleResendEmail","handleChangeEmailClick","handleEmailChange","handlePasswordChange","handleKeyPress"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(205).then(function(t){var o=n(6728);e._animItem=i.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:o})}.bind(null,n)).catch(n.oe)},t.prototype.componentWillUnmount=function(){this._timeout.stop(),null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.canResend!==this.state.canResend&&this.setState({canResend:e.canResend})},t.prototype.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,o=e.submitting,r=this.state,i=r.email,l=r.password;return a("div",{className:v.default.container},void 0,a(c.FormItem,{title:h.default.Messages.FORM_LABEL_EMAIL,className:g.default.marginBottom20},void 0,a(p.default,{value:i,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),a(c.FormItem,{title:h.default.Messages.FORM_LABEL_PASSWORD,className:g.default.marginBottom40},void 0,a(p.default,{type:"password",value:l,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),a(f.default,{fullWidth:!0,size:f.default.Sizes.LARGE,onClick:this.handleVerify,submitting:o,disabled:0===i.length||0===l.length},void 0,h.default.Messages.VERIFY_ACCOUNT))},t.prototype.renderActions=function(){return a("div",{className:v.default.container},void 0,a(f.default,{className:g.default.marginTop20,fullWidth:!0,size:f.default.Sizes.LARGE,look:d.ButtonLooks.INVERTED,color:d.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,h.default.Messages.RESEND_EMAIL),a(f.default,{className:g.default.marginTop20,fullWidth:!0,size:f.default.Sizes.MEDIUM,look:d.ButtonLooks.LINK,color:d.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,h.default.Messages.CHANGE_EMAIL))},t.prototype.render=function(){var e=this.state,t=e.canResend,n=e.resent,o=this.props.email,i=void 0;return i=n&&null!=o?h.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:o}):t?h.default.Messages.VERIFY_EMAIL_BODY:h.default.Messages.ENTER_EMAIL_BODY,a(u.default,{className:(0,l.default)(v.default.emailVerificationModal,_.default.vertical,_.default.alignCenter,_.default.justifyCenter,g.default.marginTop60)},void 0,r.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),a("div",{className:(0,l.default)(v.default.title,g.default.marginBottom8)},void 0,h.default.Messages.VERIFY_BY_EMAIL),a("div",{className:(0,l.default)(v.default.body,g.default.marginBottom20)},void 0,i),t?this.renderActions():this.renderInputs())},t.prototype.setLottieRef=function(e){this._lottieRef=e},t.prototype.handleVerify=function(){(0,this.props.onVerify)(this.state.email,this.state.password)},t.prototype.handleResendEmail=function(){var e=this,t=this.props,n=t.onResend,o=t.onClose;n(),this.state.resent||(this.setState({resent:!0,shouldClose:!0}),this._timeout.start(3e3,function(){e.state.shouldClose&&o()}))},t.prototype.handleChangeEmailClick=function(){this.setState({canResend:!1,resent:!1,shouldClose:!1})},t.prototype.handleEmailChange=function(e){this.setState({email:e})},t.prototype.handlePasswordChange=function(e){this.setState({password:e})},t.prototype.handleKeyPress=function(e){var t=this.state,n=t.email,o=t.password;13===e.which&&n.length>0&&o.length>0&&(e.preventDefault(),this.handleVerify())},t}(r.PureComponent);S.defaultProps={canResend:!1,onVerify:function(e,t){},onResend:m.NOOP,onClose:m.NOOP},t.default=S,e.exports=t.default},6949:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(43))),i=y(n(3)),l=y(n(57)),s=y(n(943)),u=y(n(6340)),d=n(962),f=y(n(6948)),c=y(n(6407)),p=y(n(6947)),h=y(n(12)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,r.default)({displayName:"EmailVerificationModal",statics:{modalConfig:{store:p.default}},mixins:[i.default.LazyStoreListenerMixin(c.default,h.default),l.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getState(),t=e.claimed,n=e.errors,o=e.formState;return{user:h.default.getCurrentUser(),claimed:t,errors:n,submitting:o===m.FormStates.SUBMITTING}},render:function(){var e=this.state,t=e.claimed,n=e.submitting,o=e.user,r=this.getError("email"),i=this.getError("password");return a(f.default,{email:o.email,emailError:r,passwordError:i,submitting:n,canResend:!n&&t&&0===r.length&&0===i.length,onVerify:this.handleVerify,onResend:this.handleResend,onClose:this.close})},getError:function(e){var t=this.state.errors;return t&&t[e]?t[e]:""},handleVerify:function(e,t){var n=this.state.user,o=n.username,a=n.avatar;(0,d.saveAccountChanges)(o,e,t,a,null)},handleResend:function(){s.default.verifyResend()},close:function(){u.default.close()}});t.default=v,e.exports=t.default},6950:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(40)),s=f(n(87)),u=n(0),d=f(n(5704));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(n){c(this,t);var o=p(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return h(t,e),t.prototype.handleClick=function(e){var t=this.props.onClick;return t&&t(this.props.option,e)},t.prototype.render=function(){var e,t=this.props.selected,n=this.props.option.name;return a(s.default,{className:(0,i.default)(d.default.item,(e={},e[d.default.selected]=t,e)),onClick:this.handleClick},void 0,n)},t}(r.PureComponent),y=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.renderItem=function(e){var t=this.props.value===e.value;return a(m,{selected:t,option:e,onClick:this.props.onChange},e.value)},t.prototype.render=function(){var e=this.props.className;return a(l.default,{className:(0,i.default)(d.default.container,e),shrink:0},void 0,this.props.options.map(this.renderItem,this))},t}(r.PureComponent);y.defaultProps={options:[],onChange:u.NOOP,value:null},t.default=y,e.exports=t.default},6951:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=A(n(8)),l=n(562),s=A(n(9)),u=A(n(6950)),d=A(n(6331)),f=n(64),c=A(f),p=A(n(6622)),h=A(n(262)),m=A(n(984)),y=A(n(67)),v=A(n(87)),g=A(n(75)),_=n(0),E=A(n(6)),S=A(n(265)),b=A(n(224)),C=A(n(40)),T=A(n(123)),N=A(n(79)),O=A(n(5702)),I=n(99);function A(e){return e&&e.__esModule?e:{default:e}}var M=a(b.default,{}),R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={selectedSegment:n.value,selectedTile:null,selectedResolution:n.resolution,selectedFrameRate:n.frameRate,sound:n.sound},i.default.bindAll(o,["handleSelectSegment","handleSoundChange","handleShare"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState({selectedSegment:e.value})},t.prototype.getButton=function(e,t){var n=this,o=this.props,r=o.premium,i=o.onPromptPremium,l=this.state,s=l.selectedResolution,u=l.selectedFrameRate,d=t?e===s:e===u,f=!1;r||(f=t?0===e||e>=1080:60===e);var c=void 0;t||60!==e?t&&(0===e||e>=1080)&&(c=60===u):c=0===s||s>=1080;var p=void 0,h=void 0;return f?(p=a(C.default,{align:C.default.Align.CENTER},void 0,a(y.default,{size:y.default.Sizes.SMALL,weight:y.default.Weights.SEMIBOLD,color:y.default.Colors.PRIMARY,className:O.default.selectorNitroText},void 0,0===e?E.default.Messages.SCREENSHARE_SOURCE:e),a(N.default,{name:N.default.Names.NITRO,color:_.Colors.BRAND})),h=i):(p=a(y.default,{size:y.default.Sizes.SMALL,weight:y.default.Weights.SEMIBOLD,className:(0,I.getClass)(O.default,"selectorText",d?"Selected":null)},void 0,0===e?E.default.Messages.SCREENSHARE_SOURCE:e),h=t?function(){return n.handleSelectResolution(e)}:function(){return n.handleSelectFrameRate(e)}),{content:p,className:(0,I.getClass)(O.default,"selectorButton",d?"Selected":null),onClick:h,disabled:c}},t.prototype.renderSelectors=function(){var e=this,t=[480,720,1080,0].map(function(t){return e.getButton(t,!0)}),n=[15,30,60].map(function(t){return e.getButton(t,!1)});return a(C.default,{align:C.default.Align.CENTER,shrink:0,className:O.default.selector},void 0,a(C.default.Child,{grow:0},void 0,a(g.default,{tag:g.default.Tags.H5},void 0,E.default.Messages.SCREENSHARE_STREAM_QUALITY),a(p.default,{buttons:t})),a(C.default.Child,{grow:0},void 0,a(g.default,{tag:g.default.Tags.H5},void 0,E.default.Messages.SCREENSHARE_FRAME_RATE),a(p.default,{buttons:n})),this.renderSound())},t.prototype.renderSound=function(){var e=this,t=this.props.items,n=this.state,o=n.selectedSegment,r=n.sound,s=(0,i.default)(t).filter(function(e){return e.value===o}).first();return null!=s&&s.sound?a(l.SmartUID,{},void 0,function(t){return a(C.default.Child,{grow:0},void 0,a("label",{htmlFor:t,className:O.default.label},void 0,E.default.Messages.SCREENSHARE_SOUND_TOGGLE_LABEL),a(C.default,{align:C.default.Align.CENTER,style:{height:30}},void 0,a(m.default,{id:t,value:r,onChange:e.handleSoundChange})))}):null},t.prototype.renderGrids=function(){var e=this,t=this.props.items,n=this.state,o=n.selectedSegment,r=n.selectedTile,l=(0,i.default)(t).filter(function(e){return e.value===o}).first();if(null==l||null==l.options)return a(C.default,{className:O.default.spinner,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,M);var u=l.layout,f=l.options,c=u===d.default.Layout.STACK,p=f.map(function(t){var n,o,i,l=t.id,u=t.name,d=t.url,f=r===l;return a(v.default,{className:O.default.tile,onClick:function(){return e.handleSelectTile(l)}},l,a(C.default,{direction:C.default.Direction.VERTICAL,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,a(C.default,{justify:C.default.Justify.CENTER,align:C.default.Align.CENTER,className:(0,s.default)((n={},n[O.default.imageContainerStack]=c,n[O.default.imageContainerWrap]=!c,n))},void 0,a("img",{alt:"",className:(0,s.default)((o={},o[O.default.imageSelected]=f,o[O.default.imageStack]=c,o[O.default.imageWrap]=!c,o)),src:d})),a("div",{className:(0,s.default)((i={},i[O.default.titleStack]=c,i[O.default.titleWrap]=!c,i[O.default.titleSelected]=f,i))},void 0,u)))});return a(S.default,{theme:S.default.Themes.GHOST_HAIRLINE},void 0,a(d.default,{layout:u,columns:3,className:O.default.container},void 0,p))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.description,o=e.onCancel,r=this.state,l=r.selectedSegment,s=r.selectedTile,d=[];return(0,i.default)(t).forEach(function(e){var t=e.name,n=e.value;d.push({name:t,value:n})}),a(T.default,{size:O.default.size},void 0,a(C.default,{className:O.default.content,direction:C.default.Direction.VERTICAL},void 0,a(u.default,{options:d,value:l,onChange:this.handleSelectSegment,className:O.default.border}),this.renderSelectors(),a(C.default,{className:O.default.tiles,direction:C.default.Direction.VERTICAL,align:C.default.Align.STRETCH},void 0,this.renderGrids()),a(h.default,{type:h.default.Types.DESCRIPTION,className:O.default.description},void 0,n)),a(T.default.Footer,{},void 0,a(c.default,{disabled:null==s,onClick:this.handleShare},void 0,E.default.Messages.SHARE),a(c.default,{look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:o},void 0,E.default.Messages.CANCEL)))},t.prototype.handleSelectSegment=function(e){var t=e.value;t!==this.state.selectedSegment&&(this.setState({selectedSegment:t}),(0,this.props.onSelectSourceType)(t))},t.prototype.handleSelectResolution=function(e){e!==this.state.selectedResolution&&this.setState({selectedResolution:e})},t.prototype.handleSelectFrameRate=function(e){e!==this.state.selectedFrameRate&&this.setState({selectedFrameRate:e})},t.prototype.handleSelectTile=function(e){e!==this.state.selectedTile&&this.setState({selectedTile:e})},t.prototype.handleSoundChange=function(e){this.setState({sound:e.currentTarget.checked})},t.prototype.handleShare=function(){var e=this.props.onShare,t=this.state;e(t.selectedTile,t.selectedResolution,t.selectedFrameRate,t.sound)},t}(r.PureComponent);R.defaultProps={items:[],value:null,premium:!1,resolution:480,frameRate:30,sound:!1,onCancel:_.NOOP,onShare:_.NOOP,onSelectSourceType:_.NOOP,onPromptPremium:_.NOOP},t.default=R,e.exports=t.default},6953:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=n(56),r=u(n(2)),i=(n(0),n(100)),l=u(n(6952)),s=u(n(150));function u(e){return e&&e.__esModule?e:{default:e}}var d=!1,f=i.DesktopSources.SCREEN,c=void 0,p=void 0,h=void 0,m=new a.Interval;function y(){var e=f===i.DesktopSources.WINDOW?{width:150,height:150}:{width:307,height:240},t=f===i.DesktopSources.WINDOW?c:p,n=f;(0,l.default)([f],e).then(function(e){n!==f||null!=t&&(0,s.default)(t,e)||(f===i.DesktopSources.WINDOW?c=e:p=e,v.emitChange())})}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return d},t.prototype.getProps=function(){return{windowSources:c,screenSources:p,channel:h}},t}(o.default.Store))(r.default,{SCREENSHARE_MODAL_OPEN:function(e){d=!0,h=e.channel,y(),m.start(1e3,y)},SCREENSHARE_MODAL_CLOSE:function(e){return d=!1,f=i.DesktopSources.SCREEN,h=null,m.stop(),c=null,void(p=null)},SCREENSHARE_MODAL_SELECT_SOURCE_TYPE:function(e){var t=e.sourceType;f=t,c=null,p=null,y()}});t.default=v,e.exports=t.default},6954:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(6)),l=g(n(536)),s=g(n(6953)),u=g(n(58)),d=g(n(6056)),f=g(n(364)),c=g(n(522)),p=g(n(12)),h=g(n(6951)),m=g(n(6331)),y=n(0),v=n(100);function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleShare=o.handleShare.bind(o),o.handlePromptPremium=o.handlePromptPremium.bind(o),o.close=o.close.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getItems=function(){return[{name:i.default.Messages.SCREENSHARE_SCREEN,value:v.DesktopSources.SCREEN,layout:m.default.Layout.STACK,options:this.props.screenSources,sound:!1},{name:i.default.Messages.SCREENSHARE_WINDOW,value:v.DesktopSources.WINDOW,layout:m.default.Layout.WRAP,options:this.props.windowSources,sound:u.default.supports(v.Features.SOUNDSHARE)}]},t.prototype.render=function(){return a(h.default,{items:this.getItems(),value:v.DesktopSources.SCREEN,resolution:720,frameRate:30,sound:u.default.supports(v.Features.SOUNDSHARE),premium:l.default.canUseHigherFramerate(p.default.getCurrentUser()),description:i.default.Messages.SCREENSHARE_DESCRIPTION.format({name:this.props.channel.toString()}),onCancel:this.close,onSelectSourceType:this.handleSelectSourceType,onPromptPremium:this.handlePromptPremium,onShare:this.handleShare})},t.prototype.close=function(){d.default.close()},t.prototype.handleShare=function(e,t,n,o){this.close(),f.default.setDesktopSource(e,t,n,o)},t.prototype.handleSelectSourceType=function(e){d.default.selectSourceType(e)},t.prototype.handlePromptPremium=function(){this.close(),c.default.open(y.UserSettingsSections.PREMIUM)},t}(r.PureComponent);_.modalConfig={store:s.default},t.default=_,e.exports=t.default},6960:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=f(n(3)),r=f(n(2)),i=f(n(18)),l=f(n(26)),s=f(n(6010)),u=n(0),d=f(n(228));function f(e){return e&&e.__esModule?e:{default:e}}var c=!1,p=void 0,h=!1,m=[];var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default)},t.prototype.isOpen=function(){return c&&m.length},t.prototype.getProps=function(){return{invite:m[0]||null,error:p||null,submitting:h}},t}(a.default.Store);t.default=new y(r.default,{CONNECTION_OPEN:function(e){c=!0},CONNECTION_CLOSED:function(e){c=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,a=t.guild;if(null==n)return!1;if(n.type!==u.ChannelTypes.GROUP_DM){if(null==a)return!1;if(null!=l.default.getGuild(a.id))return!1}else if(null!=i.default.getChannel(n.id))return!1;if(m.some(function(e){return e.code===f}))return!1;var r=t.approximate_member_count,s=t.approximate_presence_count,f=t.code;h=!1;var c={code:f,approximate_member_count:r,approximate_presence_count:s,channel:o({},t.channel)};t.guild&&(c.guild=new d.default(a)),t.inviter&&(c.inviter=o({},t.inviter)),m.push(c)},INVITE_MODAL_CLOSE:function(e){return m.shift(),p=null,void(h=!1)},INVITE_ACCEPT:function(e){h=!0},INVITE_MODAL_ERROR:function(e){var t=e.message;p=t,h=!1}}),e.exports=t.default},6961:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(2)),a=n(0),r=l(n(6)),i=l(n(365));function l(e){return e&&e.__esModule?e:{default:e}}t.default={acceptInvite:function(e){var t=this,n=i.default.getInviteContext("Desktop Invite Modal",e);i.default.acceptInvite(e.code,n).then(function(e){null!=e&&null!=e.guild&&null!=e.channel&&i.default.transitionToInviteChannel(e.guild.id,e.channel.id,e.channel.type),t.close()},function(e){o.default.dispatch({type:a.ActionTypes.INVITE_MODAL_ERROR,message:e.toString()||r.default.Messages.INVITE_MODAL_ERROR_DEFAULT})})},close:function(){o.default.dispatch({type:a.ActionTypes.INVITE_MODAL_CLOSE})}},e.exports=t.default},6962:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(3)),l=_(n(6)),s=_(n(6961)),u=_(n(6960)),d=_(n(31)),f=_(n(6053)),c=_(n(40)),p=_(n(265)),h=n(5988),m=_(n(81)),y=_(n(11)),v=_(n(5708)),g=_(n(519));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=i.default.connectStores([d.default],function(){return{theme:d.default.theme}})(f.default),b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=E(this,e.call.apply(e,[this].concat(r))),o.acceptInvite=function(){var e=o.props.invite;s.default.acceptInvite(e)},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){y.default.isWindows()?y.default.minimize():y.default.restore(),y.default.focus()},t.prototype.close=function(){s.default.close()},t.prototype.render=function(){var e=this.props,t=e.invite,n=e.error,o=e.submitting;if(null==t||null==t.channel)return null;var r=t.guild,i=t.channel,s=t.inviter,u=null!=r,d=void 0,f=void 0;if(null!=r)d=r.name,f=m.default.getGuildSplashURL({id:r.id,splash:r.splash});else if((d=i.name)||null==s||(d=s.username),null==d)throw new Error("no name for group DM invite");return a("div",{className:v.default.container},void 0,a("div",{className:v.default.contentWrapper},void 0,a(p.default,{className:v.default.scroller,theme:p.default.Themes.GHOST_HAIRLINE},void 0,a(c.default,{className:v.default.inviteContent,direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,a("div",{className:g.default.marginBottom20},void 0,a(S,{invite:t,disableUser:u,error:n})),a("div",{className:g.default.marginBottom20},void 0,a(h.Button,{size:h.Button.Sizes.LARGE,onClick:this.acceptInvite,submitting:o},void 0,l.default.Messages.INVITE_MODAL_BUTTON.format({guildName:d})),a(c.default,{justify:c.default.Justify.CENTER,className:g.default.marginTop8},void 0,a(h.Button,{look:h.Button.Looks.LINK,onClick:this.close},void 0,l.default.Messages.INIVTE_MODAL_NO_THANKS)))))),null!=f&&a("div",{className:v.default.inviteSplash,style:{backgroundImage:"url("+f+")"}}))},t}(r.PureComponent);b.modalConfig={closable:!0,store:u.default},t.default=b,e.exports=t.default},6963:function(e,t,n){"use strict";var o;t.__esModule=!0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(1001),l=(a=i)&&a.__esModule?a:{default:a};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),d=((o={})[u.NORMAL]={BEG:0,END:600},o[u.SPEED_START]={BEG:601,END:636},o[u.SPEED_LOOP]={BEG:637,END:668},o[u.FINISH]={BEG:669,END:870},o[u.IDLE]={BEG:871,END:878},o),f=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=s(this,e.call.apply(e,[this].concat(i))),o.animationRef=r.createRef(),o.currentScene=o.props.scene,o.handleLoopComplete=function(){var e=o.props,t=e.onSceneComplete,n=e.scene;t&&t(o.currentScene),o.playScene(n)},o.handleComplete=function(){var e=o.props.onSceneComplete;e&&e(o.currentScene)},s(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(202).then(n.t.bind(null,6770,7)).then(function(t){e.animation=l.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(e.props.scene)})},t.prototype.componentWillUnmount=function(){this.animation.destroy()},t.prototype.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForceUpdate()&&this.playScene(this.props.scene)},t.prototype.shouldForceUpdate=function(){return this.currentScene===u.NORMAL},t.prototype.playScene=function(e){var t=d[e];this.animation.playSegments([t.BEG,t.END],!0),this.currentScene=e;var n=this.props.onScenePlay;n&&n(this.currentScene)},t.prototype.render=function(){return r.createElement("div",{ref:this.animationRef,className:this.props.className})},t}(r.PureComponent);f.Scenes=u,t.default=f,e.exports=t.default},6964:function(e,t,n){"use strict";t.__esModule=!0;var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(8),i=(o=r)&&o.__esModule?o:{default:o};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return n=o=l(this,e.call.apply(e,[this].concat(s))),o.ref=a.createRef(),o.shouldRenderFrame=!0,o.animate=function(){var e=o.props,t=e.intensity;if(e.isShaking){var n=o.ref.current;if(o.shouldRenderFrame&&null!=n){var a=i.default.random(-t,t,!0),r=i.default.random(-t,t,!0);n.style.transform="translate3d("+a+"px,"+r+"px,0px)"}o.shouldRenderFrame=!o.shouldRenderFrame,o.animationFrame=requestAnimationFrame(o.animate)}},l(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.isShaking&&this.startShaking()},t.prototype.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},t.prototype.setShaking=function(e){e?this.startShaking():this.stopShaking()},t.prototype.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},t.prototype.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},t.prototype.render=function(){return a.createElement("div",{ref:this.ref},this.props.children)},t}(a.Component);s.defaultProps={isShaking:!0,intensity:5},t.default=s,e.exports=t.default},6965:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(3)),r=l(n(2)),i=(n(529),n(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=i.PremiumPaymentSubscriptionModes.NEW,u=i.FormStates.CLOSED,d=null,f=null;function c(){u=i.FormStates.CLOSED,d=null}function p(e){var t=e.error;u=i.FormStates.OPEN,d=t}function h(){s!==i.PremiumPaymentSubscriptionModes.NEW&&c()}function m(){d=null}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return u===i.FormStates.OPEN},o(t,[{key:"subscriptionMode",get:function(){return s}},{key:"paymentError",get:function(){return d}},{key:"plan",get:function(){return f}},{key:"formState",get:function(){return u}}]),t}(a.default.Store);t.default=new y(r.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.plan;u=i.FormStates.OPEN,s=t,f=n},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return c()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:p,PREMIUM_PAYMENT_UPDATE_FAIL:p,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return m()},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return m()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return m()},STRIPE_TOKEN_FAILURE:function(){if(u===i.FormStates.CLOSED)return!1;u=i.FormStates.OPEN},PAYMENT_MODAL_SUBMIT:h,BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:h,BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;d={message:t,code:n}}}),e.exports=t.default},6966:function(e,t,n){"use strict";t.__esModule=!0,t.ActivatedAnimation=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=k(n(1)),l=U(n(9)),s=U(n(147)),u=U(n(3)),d=U(n(189)),f=n(955),c=U(n(41)),p=U(n(20)),h=(n(529),U(n(31))),m=U(n(6965)),y=U(n(377)),v=U(n(6167)),g=U(n(537)),_=k(n(6170)),E=k(n(270)),S=U(n(123)),b=U(n(79)),C=U(n(40)),T=U(n(64)),N=U(n(6964)),O=n(978),I=U(n(6161)),A=U(n(6963)),M=n(6334),R=U(M),P=U(n(6057)),w=U(n(6)),L=n(0),D=U(n(5709));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=r("svg",{viewBox:"0 0 224 20"},void 0,r("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),V=t.ActivatedAnimation=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=G(this,e.call.apply(e,[this].concat(r))),o.animation=new d.default.Value(0),G(o,n)}return B(t,e),t.prototype.componentDidMount=function(){this.animate()},t.prototype.animate=function(){d.default.timing(this.animation,{toValue:1,delay:400,duration:1e3}).start()},t.prototype.getContainerStyle=function(){var e=this.props.theme===L.ThemeTypes.DARK?L.Colors.WHITE:L.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,.72,.72,.72+.08,1],outputRange:[L.Colors.TRANSPARENT_WHITE,L.Colors.TRANSPARENT_WHITE,e,e,L.Colors.TRANSPARENT_WHITE]})}},t.prototype.getShineStyle=function(){return d.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},t.prototype.render=function(){return r(d.default.div,{className:(0,l.default)(D.default.activated,this.props.className),style:this.getContainerStyle()},void 0,r(O.Shine,{className:D.default.activatedShine,style:this.getShineStyle()}),j)},t}(i.PureComponent),H=function(e){function t(){var n,o,i,l,u=this;x(this,t);for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];return n=o=G(this,e.call.apply(e,[this].concat(f))),o.state={paymentSource:null,playingAnimationScene:A.default.Scenes.NORMAL,animationScene:A.default.Scenes.NORMAL,isPurchasing:!1},o._loadId=s.default.v4(),o._stepStartTime=Date.now(),o._flowStartTime=Date.now(),o.handlePaymentSourceChange=function(e){o.setState({paymentSource:e})},o.handleSubscribe=(l=F(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({animationScene:A.default.Scenes.SPEED_START,isPurchasing:!0}),e.prev=1,p.default.track(L.AnalyticEvents.PAYMENT_FLOW_COMPLETED,a({},o.getBaseAnalyticsData(),{duration_ms:Date.now()-o._flowStartTime})),e.next=5,o.subscribe(t);case 5:o.setState({animationScene:A.default.Scenes.FINISH,isPurchasing:!1}),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),o.setState({animationScene:A.default.Scenes.NORMAL,isPurchasing:!1}),p.default.track(L.AnalyticEvents.PAYMENT_FLOW_FAILED,a({},o.getBaseAnalyticsData(),{payment_gateway:t.type===L.PaymentSourceTypes.CARD?L.PaymentGateways.STRIPE:L.PaymentGateways.BRAINTREE,payment_source_id:t.id,duration_ms:Date.now()-o._flowStartTime})),e.t0;case 13:case"end":return e.stop()}},e,u,[[1,8]])})),function(e){return l.apply(this,arguments)}),o.handleChangePaymentSource=(i=F(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({isPurchasing:!0}),e.prev=1,e.next=4,o.subscribe(t);case 4:o.close(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o.setState({isPurchasing:!1});case 10:case"end":return e.stop()}},e,u,[[1,7]])})),function(e){return i.apply(this,arguments)}),o.handlePurchase=function(e){return o.props.subscriptionMode===L.PremiumPaymentSubscriptionModes.CHANGE?o.handleChangePaymentSource(e):o.handleSubscribe(e)},o.handleConfirmContinue=function(){o.props.hasGameStore&&(location.pathname===L.Routes.APPLICATION_STORE?c.default.replaceWith(""+L.Routes.APPLICATION_STORE+L.PREMIUM_ROUTE_HASH):c.default.transitionTo(""+L.Routes.APPLICATION_STORE+L.PREMIUM_ROUTE_HASH),E.popLayer()),o.close()},o.handleAnimationScenePlay=function(e){switch(e){case A.default.Scenes.SPEED_START:return o.setState({animationScene:A.default.Scenes.SPEED_LOOP,playingAnimationScene:e});case A.default.Scenes.FINISH:return o.setState({animationScene:A.default.Scenes.IDLE,playingAnimationScene:e});default:return o.setState({animationScene:e,playingAnimationScene:e})}},o.trackStepChange=function(e,t){var n=Date.now();p.default.track(L.AnalyticEvents.PAYMENT_FLOW_STEP,a({},o.getBaseAnalyticsData(),{from_step:e,to_step:t,step_duration_ms:n-o._stepStartTime,flow_duration_ms:n-o._flowStartTime})),o._stepStartTime=n},o.renderHeader=function(e,t){var n=o.props,a=n.subscriptionMode,i=n.paymentError;return r(S.default.Header,{className:D.default.header,direction:C.default.Direction.VERTICAL,align:C.default.Align.START,separator:!1},void 0,r("div",{className:D.default.coloredHeader},void 0,o.renderAnimation(),r(C.default,{align:C.default.Align.CENTER,justify:C.default.Justify.BETWEEN,className:D.default.headerTop},void 0,r(b.default,{name:b.default.Names.NITRO,className:D.default.headerIcon}),r(S.default.CloseButton,{className:D.default.closeIcon,onClick:o.close})),a!==L.PremiumPaymentSubscriptionModes.CHANGE?r("div",{className:D.default.price},void 0,o.renderPrice()):null),null==i||o.shouldShake()?null:r(P.default,{className:D.default.errorBlock},void 0,i.message),e!==M.Steps.CONFIRM&&t.length>1?r(I.default,{activeId:e,breadcrumbs:t}):null)},o.renderConfirmationBody=function(){var e=o.props,t=e.hasGameStore,n=e.theme;return r(S.default.Content,{className:D.default.confirmationContent,align:C.default.Align.CENTER},void 0,r(V,{className:D.default.confirmationActivated,theme:n}),r("div",{className:D.default.confirmationBlurb},void 0,t?w.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_WITH_APPLICATIONS:w.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR),r(T.default,{onClick:o.handleConfirmContinue,className:D.default.confirmationButton},void 0,t?w.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_WITH_APPLICATIONS:w.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR))},G(o,n)}return B(t,e),t.prototype.componentDidMount=function(){p.default.track(L.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},t.prototype.close=function(){_.closeModal()},t.prototype.getBaseAnalyticsData=function(){var e=this.getPrice();return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:this.props.plan,subscription_type:L.SubscriptionTypes.PREMIUM,price:e.amount,currency:e.currency}},t.prototype.getValidPaymentTypes=function(){switch(this.props.paymentSourceType){case L.PaymentSourceTypes.CARD:return[L.PaymentSourceTypes.CARD];case L.PaymentSourceTypes.PAYPAL:return[L.PaymentSourceTypes.PAYPAL]}return null},t.prototype.getHeaderTitle=function(){switch(this.props.subscriptionMode){case L.PremiumPaymentSubscriptionModes.NEW:return w.default.Messages.BILLING_SUBSCRIBE;case L.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return w.default.Messages.RESUBSCRIBE;case L.PremiumPaymentSubscriptionModes.CHANGE:return w.default.Messages.BILLING_CHANGE_PAYMENT_SOURCE}},t.prototype.getItemName=function(){switch(this.props.plan){case L.SubscriptionPlans.PREMIUM_MONTHLY:return w.default.Messages.PREMIUM_PURCHASE_MONTHLY_TITLE;case L.SubscriptionPlans.PREMIUM_YEARLY:return w.default.Messages.PREMIUM_PURCHASE_YEARLY_TITLE}},t.prototype.getLegalNotice=function(){var e=this.props,t=e.plan,n=e.subscriptionMode,o=e.hasGameStore;if(n===L.PremiumPaymentSubscriptionModes.CHANGE)return null;switch(t){case L.SubscriptionPlans.PREMIUM_MONTHLY:return o?w.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:L.MarketingURLs.STORE_TERMS}):w.default.Messages.PAYMENT_LEGALESE_MONTHLY.format({termsURL:L.MarketingURLs.TERMS});case L.SubscriptionPlans.PREMIUM_YEARLY:return o?w.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:L.MarketingURLs.STORE_TERMS}):w.default.Messages.PAYMENT_LEGALESE_YEARLY.format({termsURL:L.MarketingURLs.TERMS})}},t.prototype.getSubmitText=function(){var e=this.props,t=e.subscriptionMode,n=e.paymentSourceType;switch(t){case L.PremiumPaymentSubscriptionModes.NEW:return w.default.Messages.PAYMENT_MODAL_BUTTON_NEW;case L.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return w.default.Messages.RESUBSCRIBE;case L.PremiumPaymentSubscriptionModes.CHANGE:return n===L.PaymentSourceTypes.CARD?w.default.Messages.PAYMENT_MODAL_BUTTON_CHANGE_CARD:w.default.Messages.PAYMENT_MODAL_BUTTON_CHANGE_PAYPAL;default:return null}},t.prototype.getPrice=function(){var e=this.props.plan;switch(e){case L.SubscriptionPlans.PREMIUM_MONTHLY:return{amount:L.PremiumPlanPrices.MONTHLY,tax:0,currency:L.CurrencyCodes.USD,taxInclusive:!0};case L.SubscriptionPlans.PREMIUM_YEARLY:return{amount:L.PremiumPlanPrices.YEARLY,tax:0,currency:L.CurrencyCodes.USD,taxInclusive:!0}}throw new Error("Unsupported plan: "+e)},t.prototype.subscribe=function(e){var t=this.props,n=t.subscriptionMode,o=t.plan,a=t.subscription;if(n===L.PremiumPaymentSubscriptionModes.NEW)return _.subscribe(o,e);if(n===L.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=a)return _.resubscribe(a,e);if(n===L.PremiumPaymentSubscriptionModes.CHANGE&&null!=a)return _.changePaymentSource(a,e);throw new Error("Failed to subscribe")},t.prototype.shouldShake=function(){var e=this.state.playingAnimationScene;return e===A.default.Scenes.SPEED_LOOP||e===A.default.Scenes.SPEED_START},t.prototype.renderPrice=function(){var e=this.getPrice();switch(this.props.plan){case L.SubscriptionPlans.PREMIUM_MONTHLY:return w.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,f.formatPrice)(e.amount,e.currency)});case L.SubscriptionPlans.PREMIUM_YEARLY:return w.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,f.formatPrice)(e.amount,e.currency)})}},t.prototype.renderAnimation=function(){return r(A.default,{className:D.default.headerAnimation,scene:this.state.animationScene,onScenePlay:this.handleAnimationScenePlay})},t.prototype.render=function(){var e=this.props.subscriptionMode===L.PremiumPaymentSubscriptionModes.CHANGE,t=this.shouldShake();return r(N.default,{isShaking:t,intensity:2},void 0,r(R.default,{useShinySubmitButton:!e,isPurchasing:this.state.isPurchasing||t,legalNotice:this.getLegalNotice(),requireAcceptingTerms:!e,showConfirmation:!e,price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:_.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,submitButtonText:this.getSubmitText(),validPaymentTypes:this.getValidPaymentTypes(),onStepChange:this.trackStepChange}))},t}(i.Component),Y=u.default.connectStores([y.default,v.default,m.default,h.default],function(){var e=v.default.getPremiumSubscription(),t=null!=e?e.paymentGateway:null;return{subscription:e,subscriptionMode:m.default.subscriptionMode,plan:m.default.plan,paymentSourceType:t,hasGameStore:g.default.isInExperiment(),paymentError:m.default.paymentError,theme:h.default.theme}})(H),W=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=G(this,e.call.apply(e,[this].concat(r))),o.ref=i.createRef(),o.close=function(){null!=o.ref.current&&o.ref.current.close()},G(o,n)}return B(t,e),t.prototype.render=function(){return r(Y,{setRef:this.ref})},t}(i.PureComponent);W.modalConfig={store:m.default,closable:!1},t.default=W},6969:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),a=i(n(2)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=r.FormStates.CLOSED,s=void 0,u=void 0,d=void 0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return l!==r.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:s,days:u,estimate:d}},t}(o.default.Store);t.default=new f(a.default,{PRUNE_GUILD_MODAL_OPEN:function(e){l=r.FormStates.OPEN,s=e.guildId,u=e.days,d=e.estimate},PRUNE_GUILD_MODAL_UPDATE:function(e){e.guildId===s&&e.days===u&&(d=e.estimate)},PRUNE_GUILD_MODAL_CLOSE:function(){l=r.FormStates.CLOSED,s=null,u=null,d=null}}),e.exports=t.default},6970:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(6)),l=v(n(123)),s=v(n(75)),u=v(n(266)),d=v(n(262)),f=v(n(64)),c=v(n(5990)),p=v(n(6969)),h=v(n(26)),m=v(n(6673)),y=v(n(5713));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleDaysChange=o.handleDaysChange.bind(o),o.handlePrune=o.handlePrune.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){m.default.close()},t.prototype.render=function(){var e=this.props,t=e.estimate,n=e.guildId,o=e.days,r=h.default.getGuild(n);return a(l.default,{tag:"form",onSubmit:this.handlePrune},void 0,a(l.default.Header,{},void 0,a(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.PRUNE_MEMBERS,"",null!=r?r.toString():"")),a(l.default.Content,{},void 0,a(u.default,{title:i.default.Messages.FORM_LABEL_LAST_SEEN},void 0,a(c.default,{value:o,options:[{name:i.default.Messages.LAST_SEEN.format({days:1}),value:1},{name:i.default.Messages.LAST_SEEN.format({days:7}),value:7},{name:i.default.Messages.LAST_SEEN.format({days:30}),value:30}],onChange:this.handleDaysChange,className:y.default.spacing}),a(d.default,{type:d.default.Types.DESCRIPTION,className:y.default.spacing},void 0,i.default.Messages.FORM_HELP_LAST_SEEN.format({members:t,days:o})))),a(l.default.Footer,{},void 0,a(f.default,{type:"submit",disabled:0===t},void 0,i.default.Messages.PRUNE),a(f.default,{type:"button",look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:this.close},void 0,i.default.Messages.CANCEL)))},t.prototype.handleDaysChange=function(e){var t=e.value;m.default.open(this.props.guildId,parseInt(t,10))},t.prototype.handlePrune=function(e){e.preventDefault();var t=this.props,n=t.days,o=t.guildId;m.default.prune(o,n)},t}(r.PureComponent);g.modalConfig={store:p.default},t.default=g,e.exports=t.default},6971:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(2)),a=n(0),r=l(n(13)),i=n(962);function l(e){return e&&e.__esModule?e:{default:e}}t.default={setStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_SET_STEP,step:e})},updateTemporaryGuild:function(e){o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_UPDATE,guild:e})},createGuild:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED}),r.default.post({url:a.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,errors:e.body})})},claimAccount:function(e){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUBMITTED}),t=e,(0,i.saveAccountRequest)(t).then(function(){o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUCCESS})},function(e){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)});var t}},e.exports=t.default},6972:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=h(n(3)),r=h(n(25)),i=h(n(2)),l=h(n(280)),s=h(n(6076)),u=h(n(6039)),d=h(n(11)),f=h(n(20)),c=h(n(6054)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=0,y=2,v="newUserModalStep",g="nuo_transition",_="NUX_WEB_WELCOME",E=0,S=m,b=!1,C={},T=void 0,N={name:"",icon:null,region:null};function O(e){if(A.isOpen()){var t=Date.now();E||(E=t);var n,a,r=(a=e,0===(n=S)&&0===a?{from_step:"INITIAL",to_step:"WELCOME",skip:!1}:0===n&&1===a?{from_step:"WELCOME",to_step:"CREATE_GUILD",skip:!1}:0===n&&-1===a?{from_step:"WELCOME",to_step:"DISABLED",skip:!0}:1===n&&-1===a?{from_step:"CREATE_GUILD",to_step:"DISABLED",skip:!0}:1===n&&2===a?{from_step:"CREATE_GUILD",to_step:"CREATE_GUILD_SUCCESS"}:void 0);null!=r&&(f.default.track(g,o({},r,{flow_type:_,seconds_on_from_step:(t-E)/1e3})),S=e)}}function I(e){var t=e.step;O(t),S=t,r.default.set(v,t)}var A=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){S=r.default.get(v)||S,this.waitFor(l.default,s.default,u.default,c.default)},t.prototype.getNewUserModalStep=function(){return S},t.prototype.isOpen=function(){if(null!=u.default.getAction())return!1;var e=c.default.getExperimentDescriptor();return(!e||e.bucket===p.ExperimentBuckets.CONTROL)&&((0!==S||!(l.default.totalGuilds>0||d.default.embedded))&&(b&&S>=0&&S<y))},t.prototype.getProps=function(){return{step:S,errors:C,guildSubmitting:T===p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED,guild:N}},t}(a.default.Store))(i.default,{NEW_USER_FLOW_SET_STEP:I,NEW_USER_FLOW_GUILD_UPDATE:function(e){N=o({},N,e.guild)},NEW_USER_FLOW_GUILD_CREATED:function(){T=p.ActionTypes.NEW_USER_FLOW_GUILD_CREATED,I({step:y})},NEW_USER_FLOW_GUILD_FAILURE:function(e){T=p.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,C=e.errors},NEW_USER_FLOW_GUILD_SUBMITTED:function(){T=p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED},CONNECTION_OPEN:function(){b=!0,O(0)},CONNECTION_CLOSED:function(){b=!1},LOAD_REGIONS:function(e){null==e.guildId&&(N=o({},N,{region:N.region||s.default.getOptimalRegionId()}))},REGISTER:function(){E=0,S=m},LOGOUT:function(){r.default.remove(v),b=!1},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=A,e.exports=t.default},6973:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(55)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(43)),s=_(n(57)),u=_(n(521)),d=_(n(3)),f=_(n(9)),c=_(n(6)),p=_(n(6131)),h=_(n(6269)),m=_(n(12)),y=_(n(6972)),v=_(n(6971)),g=_(n(189));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{getInitialState:function(){return{translateX:new g.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){g.default.spring(this.state.translateX,{toValue:1}).start(e)},componentWillLeave:function(e){g.default.spring(this.state.translateX,{toValue:0}).start(e)},getAnimatedStyle:function(){return g.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}n(5714),n(5581);var b=(0,l.default)({displayName:"Step1",mixins:[s.default,d.default.StoreListenerMixin(y.default,m.default),S(!0)],getStateFromStores:function(){return{user:m.default.getCurrentUser()}},render:function(){return a(g.default.li,{className:"step-1",style:this.getAnimatedStyle()},void 0,a("h5",{},void 0,c.default.Messages.NUF_TITLE.format({username:this.state.user.toString()})),a("p",{},void 0,c.default.Messages.NUF_BODY.format()))}}),C=(0,l.default)({displayName:"Step2",mixins:[s.default,S()],propTypes:{guild:r.default.shape({name:r.default.string.isRequired,region:r.default.string}).isRequired,onGuildChange:r.default.func.isRequired,errors:r.default.object.isRequired},componentDidMount:function(){0===this.props.guild.name.length&&this.refs["guild-name"].focus()},handleNameChange:function(e){this.props.onGuildChange({name:e.currentTarget.value})},handleRegionChange:function(e){this.props.onGuildChange({region:e})},handleIconChange:function(e){this.props.onGuildChange({icon:e})},render:function(){var e,t=this,n=function(e){return null!=t.props.errors[e]};return a(g.default.li,{className:"step-2",style:this.getAnimatedStyle()},void 0,a("h5",{},void 0,c.default.Messages.CREATE_SERVER_TITLE),a("p",{},void 0,c.default.Messages.CREATE_SERVER_DESCRIPTION.format()),a("ul",{className:"guild-form"},void 0,a("li",{},void 0,a("div",{className:(0,f.default)({"control-group":!0,error:n("name")})},void 0,a("label",{htmlFor:"guild-name"},void 0,c.default.Messages.FORM_LABEL_SERVER_NAME," ",n(e="name")?a("span",{className:"error"},void 0,"(",t.props.errors[e],")"):null),i.createElement("input",{id:"guild-name",ref:"guild-name",type:"text",defaultValue:this.props.guild.name,onChange:this.handleNameChange,placeholder:c.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),a("div",{className:"control-group"},void 0,a("label",{htmlFor:"guild-region"},void 0,c.default.Messages.FORM_LABEL_SERVER_REGION),a(p.default,{id:"guild-region",value:this.props.guild.region,onChange:this.handleRegionChange}))),a("li",{},void 0,a(h.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange}))))}}),T=a("li",{className:"divider"}),N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=E(this,e.call.apply(e,[this].concat(r))),o.close=function(){v.default.setStep()},o.handleGuildChange=function(e){v.default.updateTemporaryGuild(e)},o.handleNextStep=function(e){e.preventDefault(),1===o.props.step?v.default.createGuild(o.props.guild.name,o.props.guild.region,o.props.guild.icon):v.default.setStep(o.props.step+1)},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=void 0,t=void 0;switch(this.props.step){case 0:t=a(b,{},this.props.step),e=c.default.Messages.GET_STARTED;break;case 1:default:t=a(C,{guild:this.props.guild,onGuildChange:this.handleGuildChange,errors:this.props.errors},this.props.step),e=c.default.Messages.DONE}return a("form",{className:"modal-content modal-new-user form deprecated",onSubmit:this.handleNextStep},void 0,a(u.default,{className:"steps",component:"ul"},void 0,t),a("div",{className:"form-actions"},void 0,a("div",{className:"steps-wrap"},void 0,a("ul",{className:"steps"},void 0,a("li",{className:(0,f.default)({active:0===this.props.step,on:this.props.step>=0})}),T,a("li",{className:(0,f.default)({active:1===this.props.step,on:this.props.step>=1})}))),a("button",{type:"button",className:(0,f.default)({btn:!0,"btn-default":!0,hide:!1}),onClick:this.close},void 0,c.default.Messages.SKIP),a("button",{type:"submit",className:(0,f.default)({btn:!0,"btn-primary":!0}),disabled:this.props.guildSubmitting},void 0,e)))},t}(i.PureComponent);N.modalConfig={store:y.default,center:!0,closable:!1},t.default=N,e.exports=t.default},6974:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(2)),r=s(n(26)),i=s(n(31)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=l.FormStates.CLOSED,d=void 0,f=void 0,c=void 0;function p(){if(u===l.FormStates.CLOSED)return!1;var e=r.default.getGuild(d),t=i.default.isGuildRestricted(d),n=!1;return f!==e&&(f=e,n=!0),c!==t&&(c=t,n=!0),n}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([r.default,i.default],p)},t.prototype.isOpen=function(){return u!==l.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:d,guild:f,isGuildRestricted:c}},t}(o.default.Store);t.default=new h(a.default,{PRIVACY_SETTINGS_MODAL_OPEN:function(e){u=l.FormStates.OPEN,d=e.guildId,p()},PRIVACY_SETTINGS_MODAL_CLOSE:function(e){return u=l.FormStates.CLOSED,f=null,void(c=null)}}),e.exports=t.default},6975:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(6)),l=y(n(123)),s=y(n(75)),u=y(n(266)),d=y(n(940)),f=y(n(64)),c=y(n(6974)),p=y(n(6239)),h=y(n(528)),m=n(6402);function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleRestrictedGuildChange=o.handleRestrictedGuildChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){p.default.close()},t.prototype.handleRestrictedGuildChange=function(e){var t=new Set((0,m.getSanitizedRestrictedGuilds)());e.currentTarget.checked?t.delete(this.props.guildId):t.add(this.props.guildId),t=Array.from(t),h.default.updateRemoteSettings({restrictedGuilds:t})},t.prototype.render=function(){var e=this.props,t=e.isGuildRestricted,n=e.guild;return a(l.default,{},void 0,a(l.default.Header,{},void 0,a(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.PRIVACY_SETTINGS,"",null!=n?n.toString():"??")),a(l.default.Content,{},void 0,a(u.default,{},void 0,a(s.default,{tag:s.default.Tags.H5,style:{marginBottom:4}},void 0,i.default.Messages.DIRECT_MESSAGES),a(d.default,{value:!t,onChange:this.handleRestrictedGuildChange,hideBorder:!0},void 0,i.default.Messages.ALLOW_SERVER_DMS))),a(l.default.Footer,{},void 0,a(f.default,{onClick:this.close},void 0,i.default.Messages.DONE)))},t}(r.PureComponent);v.modalConfig={store:c.default},t.default=v,e.exports=t.default},6976:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),a=f(n(2)),r=f(n(269)),i=f(n(125)),l=f(n(954)),s=f(n(26)),u=n(370),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=d.FormStates.CLOSED,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=this;this.syncWith([r.default,i.default,s.default],function(){return e.isOpen()})},t.prototype.isOpen=function(){return c!==d.FormStates.CLOSED},t.prototype.getProps=function(){var e=l.default.getCategories(p);return{guildId:p,categories:e,guild:s.default.getGuild(p),suppressEveryone:r.default.isSuppressEveryoneEnabled(p),mobilePush:r.default.isMobilePushEnabled(p),muted:r.default.isMuted(p),messageNotifications:r.default.getMessageNotifications(p),channelOverrides:r.default.getChannelOverrides(p),channels:(0,u.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel.type;return t===d.ChannelTypes.GUILD_TEXT||t===d.ChannelTypes.GUILD_CATEGORY})}},t}(o.default.Store);t.default=new h(a.default,{NOTIFICATION_SETTINGS_MODAL_OPEN:function(e){var t=e.guildId;c=d.FormStates.OPEN,p=t},NOTIFICATION_SETTINGS_MODAL_CLOSE:function(){c=d.FormStates.CLOSED,p=null}}),e.exports=t.default},6977:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(73),l=w(n(6)),s=w(n(9)),u=w(n(8)),d=w(n(123)),f=w(n(75)),c=w(n(67)),p=w(n(64)),h=w(n(40)),m=w(n(79)),y=w(n(524)),v=w(n(266)),g=w(n(262)),_=w(n(6693)),E=w(n(940)),S=w(n(5990)),b=w(n(944)),C=w(n(945)),T=w(n(142)),N=w(n(6976)),O=w(n(18)),I=w(n(954)),A=w(n(6047)),M=n(0),R=w(n(5715)),P=w(n(5557));function w(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e){return e.type===M.ChannelTypes.GUILD_CATEGORY?m.default.Names.CHANNEL_CATEGORY:e.isNSFW()?m.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?m.default.Names.CHANNEL_TEXT_LIMITED:m.default.Names.CHANNEL_TEXT}var F=function(e){function t(n){L(this,t);var o=D(this,e.call(this,n));return o.handleMute=o.handleMute.bind(o),o.handleDelete=o.handleDelete.bind(o),o.unhighlight=o.unhighlight.bind(o),o.state={highlight:!1},o}return U(t,e),t.prototype.highlight=function(){var e=this;this.setState({highlight:!0},function(){null!=e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(e.unhighlight,1e3)})},t.prototype.unhighlight=function(){this.setState({highlight:!1})},t.prototype.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},t.prototype.setMessageNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.channel,o=n.getGuildId();null!=o&&A.default.updateChannelOverrideSettings(o,n.id,{message_notifications:e,muted:t})},t.prototype.handleRadioChange=function(e){this.setMessageNotification(e)},t.prototype.handleMute=function(e,t){var n=this.props.messageNotifications;this.setMessageNotification(n||M.UserNotificationSettings.NULL,t)},t.prototype.handleDelete=function(){var e=this.props,t=e.onDelete,n=e.channel;this.setMessageNotification(M.UserNotificationSettings.NULL,!1),t(n.id)},t.prototype.messageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,o=t.guildMuted,r=t.muted,i=t.guildMessageNotifications,l=n===e;null!=n&&n!==M.UserNotificationSettings.NULL||e!==i||(l=!0);var s=C.default.Types.INVERTED;return(r||n===M.UserNotificationSettings.NULL||null==n)&&(s=C.default.Types.GHOST),a(C.default,{value:!o&&l,disabled:o,shape:C.default.Shapes.ROUND,color:M.Colors.STATUS_GREEN,type:s,onChange:this.handleRadioChange.bind(this,e)})},t.prototype.renderName=function(){var e=this.props.channel,t=void 0;e.parent_id&&(t=O.default.getChannel(e.parent_id));var n=k(e),o=void 0;if(e.type===M.ChannelTypes.GUILD_CATEGORY&&e.guild_id){var r=I.default.getCategories(e.guild_id);o=l.default.Messages.NUM_CHANNELS.format({num:r[e.id]?r[e.id].length:0})}else o=null!=t?l.default.Messages.IN_CATEGORY.format({categoryName:t.toString()}):l.default.Messages.NO_CATEGORY;return a(h.default,{align:h.default.Align.START},void 0,a(h.default,{grow:0,shrink:0,className:R.default.iconContainer,align:h.default.Align.CENTER},void 0,a(m.default,{name:n,className:R.default.icon})),a(h.default.Child,{grow:1,shrink:1,className:"margin-reset"},void 0,a(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:R.default.channelName},void 0,e.toString()),a(c.default,{weight:c.default.Weights.NORMAL,size:c.default.Sizes.SMALL,className:R.default.channelNameByline},void 0,o)))},t.prototype.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return a(h.default,{grow:0,shrink:0,className:R.default.checkboxGroup,justify:h.default.Justify.AROUND,align:h.default.Align.CENTER},void 0,a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.ALL_MESSAGES)),a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.ONLY_MENTIONS)),a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.NO_MESSAGES)),a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:R.default.checkboxMute},void 0,a(C.default,{value:t,shape:C.default.Shapes.BOX,type:C.default.Types.INVERTED,onChange:this.handleMute})))},t.prototype.render=function(){var e=this.state.highlight;return a(y.default,{outline:!0,editable:!0,className:e?R.default.overrideHighlight:R.default.override},void 0,this.renderName(),this.renderOptions(),a("button",{className:(0,s.default)(R.default.removeOverride,P.default.button),onClick:this.handleDelete}))},t}(r.PureComponent);function x(e){return Object.keys(e).filter(function(t){return!0===e[t].muted||e[t].message_notifications!==M.UserNotificationSettings.NULL})}var G=function(e){function t(n){L(this,t);var o=D(this,e.call(this,n));return o.handleSelectChange=o.handleSelectChange.bind(o),o.handleDeleteOverride=o.handleDeleteOverride.bind(o),o.setScrollerRef=o.setScrollerRef.bind(o),o.renderOption=o.renderOption.bind(o),o.state={overrides:new Set(x(n.channelOverrides)),lastSelected:null},o}return U(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.channelOverrides,n=this.state.overrides;n=new Set(n),x(t).forEach(function(e){return n.add(e)}),this.setState({overrides:n})},t.prototype.close=function(){A.default.close()},t.prototype.setScrollerRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.componentDidUpdate=function(e,t){var n=this,o=this.state.lastSelected;null!=this._scroller&&null!=o&&null!=this.refs[o]&&o!==t.lastSelected&&(this._scroller.scrollIntoView((0,i.findDOMNode)(this.refs[o]),!0,{top:20,bottom:20},function(){return n.setState({lastSelected:null})}),this.refs[o].highlight())},t.prototype.handleCheckboxChange=function(e,t){var n;A.default.updateNotificationSettings(this.props.guildId,((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleRadioChange=function(e,t){var n,o=t.value;A.default.updateNotificationSettings(this.props.guildId,((n={})[e]=o,n))},t.prototype.handleSelectChange=function(e){if(null!=e){var t=this.state.overrides;(t=new Set(t)).add(e.value),this.setState({overrides:t,lastSelected:e.value})}},t.prototype.handleDeleteOverride=function(e){var t=this.state.overrides;(t=new Set(t)).delete(e),this.setState({overrides:t})},t.prototype.renderHeader=function(){var e=this.props.guild;return a(d.default.Header,{},void 0,a(h.default.Child,{},void 0,a(f.default,{tag:f.default.Tags.H4},void 0,l.default.Messages.NOTIFICATION_SETTINGS),a(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:R.default.guildName},void 0,e.name)),a(h.default.Child,{grow:0},void 0,a(d.default.CloseButton,{onClick:this.close})))},t.prototype.renderFooter=function(){return a(d.default.Footer,{},void 0,a(p.default,{onClick:A.default.close},void 0,l.default.Messages.DONE))},t.prototype.renderMute=function(){var e=this.props.muted;return a(E.default,{value:e,onChange:this.handleCheckboxChange.bind(this,"muted"),note:l.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION},void 0,l.default.Messages.FORM_LABEL_MUTE_SERVER.format({name:this.props.guild.name}))},t.prototype.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted;return a(v.default,{title:l.default.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:R.default.spacing},void 0,a(S.default,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,"message_notifications"),options:[{name:l.default.Messages.FORM_LABEL_ALL_MESSAGES,value:M.UserNotificationSettings.ALL_MESSAGES},{name:l.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:M.UserNotificationSettings.ONLY_MENTIONS},{name:l.default.Messages.FORM_LABEL_NOTHING,value:M.UserNotificationSettings.NO_MESSAGES}]}))},t.prototype.renderNotificationOptions=function(){var e=this.props,t=e.suppressEveryone,n=e.mobilePush,o=e.muted;return a(v.default,{className:R.default.largeSpacing},void 0,a(E.default,{onChange:this.handleCheckboxChange.bind(this,"suppress_everyone"),value:t},void 0,l.default.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()),a(E.default,{value:!o&&n,disabled:o,onChange:this.handleCheckboxChange.bind(this,"mobile_push")},void 0,l.default.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS))},t.prototype.renderOption=function(e){var t=O.default.getChannel(e.value);if(null==t)return e.label;var n=O.default.getChannel(t.parent_id),o=null!=n?n.name:null;return a(_.default,{iconType:k(t),title:e.label,subtitle:o})},t.prototype.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,o=(0,u.default)(t).filter(function(e){var t=e.channel;return t.type!==M.ChannelTypes.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString()}}).value();return a(v.default,{title:l.default.Messages.NOTIFICATION_OVERRIDES,className:R.default.largeSpacing},void 0,a(g.default,{type:g.default.Types.DESCRIPTION,className:R.default.smallSpacing},void 0,l.default.Messages.ADD_CHANNEL_TO_OVERRIDE),a(b.default,{searchable:!0,scrollMenuIntoView:!1,placeholder:l.default.Messages.SELECT_CHANNEL_OR_CATEGORY,optionRenderer:this.renderOption,options:o,onChange:this.handleSelectChange}))},t.prototype.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,o=t.muted,i=t.channels,s=t.messageNotifications,u=t.categories,d=this.state.overrides,f=i.map(function(t){var a=t.channel;if(!d.has(a.id)||null!=u[a.id]&&0===u[a.id].length)return null;var i=n[a.id];return r.createElement(F,{key:a.id,ref:a.id,channel:a,guildMuted:o,muted:null!=i&&i.muted,messageNotifications:null!=i?i.message_notifications:null,guildMessageNotifications:s,onDelete:e.handleDeleteOverride})}).filter(function(e){return null!=e});return 0!==d.size&&0!==f.length||f.push(a("div",{className:R.default.overridePlaceholder},"placeholder",a(c.default,{color:c.default.Colors.PRIMARY,weight:c.default.Weights.SEMIBOLD,className:R.default.lighten},void 0,l.default.Messages.ADD_CHANNEL_TO_OVERRIDE))),a("div",{className:R.default.overrideList},void 0,a(h.default,{},void 0,a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerName},void 0,l.default.Messages.CHANNEL_OR_CATEGORY),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_ALL),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_MENTIONS),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_NOTHING),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,a(T.default,{text:l.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:T.default.Positions.BOTTOM},void 0,a("span",{},void 0,l.default.Messages.SOUND_MUTE)))),f)},t.prototype.render=function(){return r.createElement(d.default,{size:d.default.Sizes.MEDIUM,ref:this.setScrollerRef},this.renderHeader(),a(d.default.Content,{},void 0,this.renderMute(),this.renderServerSettings(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()),this.renderFooter())},t}(r.PureComponent);G.modalConfig={store:N.default},t.default=G,e.exports=t.default},6978:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),a=l(n(2)),r=l(n(18)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=i.FormStates.CLOSED,u=void 0,d={},f=void 0,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return s!==i.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:s===i.FormStates.SUBMITTING,categoryId:p,errors:d,channelType:u,cloneChannel:c,guildId:f}},t}(o.default.Store);t.default=new h(a.default,{CREATE_CHANNEL_MODAL_OPEN:function(e){s=i.FormStates.OPEN,d={},f=e.guildId,p=e.categoryId,null!=e.cloneChannelId?null!=(c=r.default.getChannel(e.cloneChannelId))?u=c.type:s=i.FormStates.CLOSED:(c=null,u=e.channelType)},CREATE_CHANNEL_MODAL_SUBMIT:function(){s=i.FormStates.SUBMITTING},CREATE_CHANNEL_MODAL_SUBMIT_FAILURE:function(e){s=i.FormStates.OPEN,d=e.errors||{}},CREATE_CHANNEL_MODAL_CLOSE:function(){s=i.FormStates.CLOSED}}),e.exports=t.default},6979:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=O(n(8)),l=O(n(6)),s=O(n(123)),u=O(n(75)),d=O(n(266)),f=O(n(939)),c=O(n(67)),p=O(n(262)),h=O(n(5990)),m=O(n(940)),y=O(n(40)),v=O(n(64)),g=O(n(79)),_=O(n(6978)),E=O(n(26)),S=O(n(18)),b=O(n(6073)),C=n(370),T=n(0),N=O(n(5716));function O(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.default.bindAll(o,["handleNameChange","handleTypeChange","handlePrivacyChange","handleSubmit","setInputRef"]);var a=n.channelType,r=n.cloneChannel;return o.state={channelType:a||T.ChannelTypes.GUILD_TEXT,name:null!=r?r.toString():"",permissionOverwrites:new Set,roles:o.getRolesForGuild(n),isPrivate:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this._input;null!=e&&e.select()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({permissionOverwrites:this.getGuildId()!==this.getGuildId(e)?new Set:this.state.permissionOverwrites,roles:this.getRolesForGuild(e)})},t.prototype.getGuildId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).guildId},t.prototype.getRolesForGuild=function(e){var t=this.getGuildId(e),n=null!=t?E.default.getGuild(t):null;return null!=n?(0,i.default)(n.roles).sortBy(function(e){return e.position}).value():[]},t.prototype.setInputRef=function(e){this._input=e},t.prototype.handleNameChange=function(e){this.state.channelType===T.ChannelTypes.GUILD_TEXT&&(e=(0,C.sanitizeGuildTextChannelName)(e)),this.setState({name:e})},t.prototype.handleTypeChange=function(e){var t=e.value,n=this.state.name;t===T.ChannelTypes.GUILD_TEXT&&(n=(0,C.sanitizeGuildTextChannelName)(n)),this.setState({channelType:t,name:n})},t.prototype.handleRoleChange=function(e,t){var n=new Set(this.state.permissionOverwrites);e===this.getGuildId()?n.clear():t.currentTarget.checked?n.add(e):n.delete(e),this.setState({permissionOverwrites:n})},t.prototype.handlePrivacyChange=function(e){var t=e.currentTarget.checked,n=this.state.permissionOverwrites;!1===t&&(n=new Set),this.setState({isPrivate:t,permissionOverwrites:n})},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.props,n=t.cloneChannel,o=t.categoryId,a=this.state,r=a.name,l=a.permissionOverwrites,s=a.channelType,u=this.getGuildId();if(null!=u){var d=void 0,f=void 0,c=void 0;null!=n?(d=i.default.values(n.permissionOverwrites),f=n.bitrate,c=n.userLimit):d=(0,C.permissionOverwritesForRoles)(u,s,Array.from(l)),b.default.createChannel(u,s,r,d,f,c,s!==T.ChannelTypes.GUILD_CATEGORY?o:null)}},t.prototype.renderHeader=function(){var e=this.props,t=e.cloneChannel,n=e.categoryId,o=this.state.channelType,r=void 0,i=void 0;if(r=null!=t?l.default.Messages.CLONE_CHANNEL:o===T.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CREATE_CATEGORY:o===T.ChannelTypes.GUILD_TEXT?l.default.Messages.CREATE_TEXT_CHANNEL:l.default.Messages.CREATE_VOICE_CHANNEL,null!=n){var d=S.default.getChannel(n);i=a(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:N.default.subtitle},void 0,l.default.Messages.IN_CATEGORY.format({categoryName:d?d.name:""}))}return a(s.default.Header,{},void 0,a(y.default.Child,{grow:1,shrink:1},void 0,a(u.default,{tag:u.default.Tags.H4,className:N.default.header},void 0,r),i))},t.prototype.renderName=function(){var e=this.props,t=e.errors,n=e.cloneChannel,o=e.channelType,r=void 0;null!=t.name&&(r=a(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:N.default.error},void 0,t.name));var i=void 0;null!=n&&(i=a(p.default,{className:N.default.cloneInfo,type:p.default.Types.DESCRIPTION},void 0,l.default.Messages.CLONE_CHANNEL_HELP.format({name:n.toString(!0)})));var s=void 0;return s=o===T.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CATEGORY_NAME:l.default.Messages.FORM_LABEL_CHANNEL_NAME,a(d.default,{title:s,className:N.default.name},void 0,a(f.default,{value:this.state.name,onChange:this.handleNameChange,inputRef:this.setInputRef,maxLength:100,autoFocus:!0}),r,i)},t.prototype.renderType=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,o=t.isPrivate;if(null==e&&n!==T.ChannelTypes.GUILD_CATEGORY)return a(d.default,{title:l.default.Messages.CHANNEL_TYPE,className:N.default.type},void 0,a(h.default,{options:function(e){return[{icon:e?g.default.Names.CHANNEL_TEXT_LIMITED:g.default.Names.CHANNEL_TEXT,label:l.default.Messages.TEXT_CHANNEL,value:T.ChannelTypes.GUILD_TEXT},{icon:e?g.default.Names.SPEAKER_LIMITED:g.default.Names.SPEAKER,label:l.default.Messages.VOICE_CHANNEL,value:T.ChannelTypes.GUILD_VOICE}].map(function(e){var t=e.icon,n=e.label,o=e.value;return{name:a(y.default,{align:y.default.Align.CENTER},void 0,a(g.default,{name:t,className:N.default.icon,background:N.default.background,foreground:N.default.foreground}),n),value:o}})}(o),value:n,onChange:this.handleTypeChange}))},t.prototype.renderRole=function(e,t){if(0===t)return null;var n=this.state.permissionOverwrites,o=0===n.size&&e.id===this.getGuildId(),r=n.has(e.id)||o;return a(m.default,{onChange:this.handleRoleChange.bind(this,e.id),disabled:o,value:r,fill:e.colorString},e.id,a("span",{style:{color:e.colorString}},void 0,e.name))},t.prototype.renderOptions=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,o=t.isPrivate,r=t.roles;if(null!=e||r.length<=1)return null;var i=void 0,s=void 0;return n===T.ChannelTypes.GUILD_CATEGORY?(i=l.default.Messages.PRIVATE_CATEGORY,s=l.default.Messages.PRIVATE_CATEGORY_NOTE):(i=l.default.Messages.PRIVATE_CHANNEL,s=l.default.Messages.PRIVATE_CHANNEL_NOTE),a(d.default,{},"privacy-switch",a(m.default,{hideBorder:!0,onChange:this.handlePrivacyChange,value:o,note:s},void 0,a(g.default,{name:g.default.Names.LOCK_CLOSED,width:16,height:16,className:N.default.lockIcon}),i))},t.prototype.renderPermissions=function(){var e=this.props.cloneChannel,t=this.state,n=t.roles,o=t.channelType;if(!1===t.isPrivate||null!=e)return null;var r=void 0;return r=o===T.ChannelTypes.GUILD_CATEGORY?l.default.Messages.FORM_LABEL_CATEGORY_PERMISSIONS:o===T.ChannelTypes.GUILD_VOICE?l.default.Messages.FORM_LABEL_CHANNEL_VOICE_PERMISSIONS:l.default.Messages.FORM_LABEL_CHANNEL_PERMISSIONS,a("div",{},void 0,a(u.default,{tag:u.default.Tags.H5,className:N.default.permissionsTitle},void 0,r),n.map(this.renderRole,this))},t.prototype.renderFooter=function(){var e=this.state,t=e.isPrivate,n=e.permissionOverwrites,o=void 0;return o=this.props.channelType===T.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CREATE_CATEGORY:l.default.Messages.CREATE_CHANNEL,a(s.default.Footer,{},void 0,a(v.default,{type:"submit",disabled:t&&0===n.size},void 0,o),a(v.default,{onClick:this.close,look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY},void 0,l.default.Messages.CANCEL))},t.prototype.render=function(){return a(s.default,{className:N.default.modal,onSubmit:this.handleSubmit,tag:"form"},void 0,this.renderHeader(),a(s.default.Content,{},void 0,this.renderName(),this.renderType(),this.renderOptions(),this.renderPermissions()),this.renderFooter())},t.prototype.close=function(){b.default.close()},t}(r.PureComponent);I.modalConfig={store:_.default},t.default=I,e.exports=t.default},6980:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=b(n(43)),s=b(n(9)),u=b(n(3)),d=b(n(521)),f=b(n(6131)),c=b(n(6269)),p=b(n(87)),h=b(n(6348)),m=b(n(6071)),y=b(n(6)),v=b(n(365)),g=b(n(6010)),_=b(n(12)),E=b(n(189)),S=n(0);function b(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.default.Easing.inOut(E.default.Easing.cubic);return{getInitialState:function(){return{translateX:new E.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){E.default.timing(this.state.translateX,{toValue:1,duration:t,easing:n}).start(e)},componentWillLeave:function(e){E.default.timing(this.state.translateX,{toValue:0,duration:t,easing:n}).start(e)},getAnimatedStyle:function(){return E.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}n(5717),n(5581);var I=r("p",{className:"sample-link"},void 0,"qJq5C"),A=(0,l.default)({displayName:"JoinGuildModal",mixins:[u.default.StoreListenerMixin(g.default),O()],getInitialState:function(){return{code:null,submitting:!1,hasError:!1}},getStateFromStores:function(){var e=this.state?this.state.code:null;return{invite:e&&g.default.getInvite(e)||{}}},UNSAFE_componentWillUpdate:function(e,t){if(null!=t.invite&&this.state.invite!==t.invite){var n=t.invite;if(n.state===S.InviteStates.RESOLVED){var o=v.default.getInviteContext("Join a Server Modal",n);v.default.acceptInvite(t.invite.code,o,function(){m.default.close(),v.default.transitionToInviteChannel(null!=n.guild?n.guild.id:S.ME,n.channel.id,n.channel.type)})}else n.state===S.InviteStates.EXPIRED&&this.setState({submitting:!1,hasError:!0})}},render:function(){var e=this.state.hasError,t=e?r("span",{className:"error"},void 0,"(",y.default.Messages.INSTANT_INVITE_EXPIRED,")"):null,n=window.GLOBAL_ENV.INVITE_HOST,o="/";null==n&&(n=location.host,o=S.Routes.INVITE(""));var a=location.protocol+"//"+n+o;return r(E.default.form,{className:"form deprecated join-server",onSubmit:this.handleSubmit,style:this.getAnimatedStyle()},void 0,r("div",{className:"form-inner"},void 0,r("h5",{},void 0,y.default.Messages.JOIN_SERVER_TITLE),r("div",{className:(0,s.default)({"control-group":!0})},void 0,r("div",{className:"instructions"},void 0,r("p",{},void 0,y.default.Messages.JOIN_SERVER_DESCRIPTION),r("p",{className:"sample-link"},void 0,a,"qJq5C"),r("p",{className:"sample-link"},void 0,a,"discord-developers"),I)),r("div",{className:"link-container control-group"},void 0,i.createElement("input",{className:(0,s.default)({error:e}),type:"text",ref:"invite",onChange:this.handleTyped,autoFocus:!0}),r("label",{htmlFor:"invite"},void 0,y.default.Messages.FORM_LABEL_INSTANT_INVITE," ",t))),r("div",{className:"form-actions"},void 0,r("button",{type:"button",className:"btn btn-default",onClick:this.props.onCancel},void 0,y.default.Messages.BACK),r("button",{type:"submit",className:"btn btn-primary",disabled:this.state.submitting},void 0,y.default.Messages.JOIN)))},handleTyped:function(){this.state.hasError&&this.setState({hasError:!1})},handleSubmit:function(e){e.preventDefault();var t=this.refs.invite.value.trim();if(""!==t){var n=t.split("/"),o=n[n.length-1];v.default.resolveInvite(o,"Join Guild Modal"),this.setState({code:o,submitting:!0})}else this.setState({hasError:!0})}}),M=(0,l.default)({displayName:"CreateGuildModal",mixins:[O()],componentDidMount:function(){0===this.props.guild.name.length&&this.refs.name.focus()},render:function(){var e,t=this,n=function(e){return t.props.errors&&null!=t.props.errors[e]};return r(E.default.form,{className:"form deprecated create-guild",onSubmit:this.handleSubmit,style:this.getAnimatedStyle()},void 0,r("div",{className:"form-inner"},void 0,r("h5",{},void 0,y.default.Messages.CREATE_SERVER_TITLE),r("p",{},void 0,y.default.Messages.CREATE_SERVER_DESCRIPTION.format()),r("ul",{className:"guild-form"},void 0,r("li",{},void 0,r("div",{className:(0,s.default)({"control-group":!0,error:n("name")})},void 0,r("label",{htmlFor:"guild-name"},void 0,y.default.Messages.FORM_LABEL_SERVER_NAME," ",n(e="name")?r("span",{className:"error"},void 0,"(",t.props.errors[e],")"):null),i.createElement("input",{id:"guild-name",ref:"name",type:"text",onChange:this.handleNameChange,defaultValue:this.props.guild.name,placeholder:y.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),r("div",{className:"control-group"},void 0,r("label",{htmlFor:"guild-region"},void 0,y.default.Messages.FORM_LABEL_SERVER_REGION),i.createElement(f.default,{id:"guild-region",ref:"region",value:this.props.guild.region,onChange:this.handleRegionChange}),r("div",{className:"help-text"},void 0,y.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:S.MarketingURLs.GUIDELINES})))),r("li",{},void 0,r(c.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange})))),r("div",{className:"form-actions"},void 0,r("button",{type:"button",className:"btn btn-default",onClick:this.props.onCancel},void 0,y.default.Messages.BACK),r("button",{type:"submit",className:"btn btn-primary",disabled:this.props.submitting},void 0,y.default.Messages.CREATE)))},handleNameChange:function(e){m.default.updateTemporaryGuild({name:e.currentTarget.value})},handleRegionChange:function(e){m.default.updateTemporaryGuild({region:e})},handleIconChange:function(e){m.default.updateTemporaryGuild({icon:e})},handleSubmit:function(e){e.preventDefault(),m.default.createGuild(this.props.guild.name,this.props.guild.region,this.props.guild.icon)}}),R=r("div",{className:"action-icon"}),P=function(e){function t(){return C(this,t),T(this,e.apply(this,arguments))}return N(t,e),t.prototype.render=function(){var e=void 0,t=void 0,n=void 0;switch(this.props.type){case"create":e=y.default.Messages.CREATE,t=y.default.Messages.CREATE_SERVER_BUTTON_BODY,n=y.default.Messages.CREATE_SERVER_BUTTON_CTA;break;case"join":e=y.default.Messages.JOIN,t=y.default.Messages.JOIN_SERVER_BUTTON_BODY,n=y.default.Messages.JOIN_SERVER_BUTTON_CTA}return r(p.default,{className:"action "+this.props.type,onClick:this.props.onClick},void 0,r("div",{className:"action-header"},void 0,e),r("div",{className:"action-body"},void 0,t),R,r("button",{className:"btn btn-primary",type:"button",onClick:this.props.onClick},void 0,n))},t}(i.Component),w=r("div",{className:"or"},void 0,"or"),L=(0,l.default)({displayName:"CreateOrJoinGuildModal",mixins:[O(!0),u.default.LazyStoreListenerMixin(_.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{currentUser:_.default.getCurrentUser()}},render:function(){var e=this.state.currentUser,t=void 0;return t=this.props.nuf&&null!=e?y.default.Messages.NUF_TITLE.format({username:e.toString()}):y.default.Messages.CREATE_OR_JOIN_MODAL_HEADER,r(E.default.div,{className:"form deprecated create-or-join",style:this.getAnimatedStyle()},void 0,r("div",{className:"form-inner"},void 0,r("header",{},void 0,t),r("div",{className:"actions"},void 0,r(P,{type:"create",onClick:this.handleClick.bind(this,S.CreateGuildModalScreens.CreateGuild)}),r(P,{type:"join",onClick:this.handleClick.bind(this,S.CreateGuildModalScreens.JoinGuild)}),w)))},handleClick:function(e){this.props.onClick(e)}}),D=function(e){function t(){var n,o;C(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=T(this,e.call.apply(e,[this].concat(r))),o.close=function(){m.default.close()},o.handleNavigateScreen=function(e){m.default.setScreen(e)},T(o,n)}return N(t,e),t.prototype.render=function(){var e=this,t=void 0;return this.props.screen===S.CreateGuildModalScreens.Choose?t=r(L,{onClick:this.handleNavigateScreen,nuf:this.props.nuf},S.CreateGuildModalScreens.Choose):this.props.screen===S.CreateGuildModalScreens.CreateGuild?t=i.createElement(M,a({key:S.CreateGuildModalScreens.CreateGuild,onCancel:function(){return e.handleNavigateScreen(S.CreateGuildModalScreens.Choose)}},this.props)):this.props.screen===S.CreateGuildModalScreens.JoinGuild&&(t=i.createElement(A,a({key:S.CreateGuildModalScreens.JoinGuild,onCancel:function(){return e.handleNavigateScreen(S.CreateGuildModalScreens.Choose)}},this.props))),r(d.default,{className:"create-guild-container deprecated",component:"div"},void 0,t)},t}(i.Component);D.modalConfig={store:h.default},t.default=D,e.exports=t.default},6981:function(e,t,n){e.exports=n.p+"cc502480f93307f651a7f920a5e0a4bd.svg"},6982:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(2)),r=(n(0),s(n(26))),i=s(n(18)),l=s(n(25));function s(e){return e&&e.__esModule?e:{default:e}}var u="hideSuppressWarning",d=void 0,f=void 0,c=!1,p=!0,h=!1;var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){h=l.default.get(u)||h},t.prototype.isAFKChannel=function(){var e=i.default.getChannel(f);if(null==e)return!1;var t=r.default.getGuild(e.guild_id);return null!=t&&e.id===t.afkChannelId},t.prototype.shouldShowWarning=function(){return!p},t}(o.default.Store);t.default=new m(a.default,{CONNECTION_OPEN:function(e){d=e.sessionId,c=!1},CONNECTION_CLOSED:function(){d=null,f=null,p=!0},VOICE_STATE_UPDATE:function(e){if(d!==e.sessionId)return!1;c!==e.suppress&&(c=e.suppress,p=!c),f!==e.channelId&&(f=e.channelId,p=!c),(h||null==e.channelId)&&(p=!0)},PERMISSION_CLEAR_SUPPRESS_WARNING:function(e){var t=e.forever;p=!0,t&&(h=!0,l.default.set(u,h))}}),e.exports=t.default},6983:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6982)),l=d(n(6151)),s=d(n(6)),u=d(n(371));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.close=function(){l.default.clearSuppressWarning()},o.handleCloseForever=function(){l.default.clearSuppressWarning(!0)},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=void 0,t=void 0;return i.default.isAFKChannel()?(e=s.default.Messages.SUPPRESSED_AFK_TITLE,t=s.default.Messages.SUPPRESSED_AFK_BODY):(e=s.default.Messages.SUPPRESSED,t=s.default.Messages.SUPPRESSED_PERMISSION_BODY),a(u.default,{title:e,body:t,onConfirm:this.close,confirmText:s.default.Messages.OKAY,minorText:s.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:this.handleCloseForever,iconUrl:n(6981)})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}},t.default=c,e.exports=t.default},6984:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(1233)),l=d(n(6151)),s=d(n(6)),u=d(n(371));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.close=function(){l.default.clearVADWarning()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(u.default,{title:s.default.Messages.VAD_PERMISSION_TITLE,body:s.default.Messages.VAD_PERMISSION_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY,iconUrl:n(999)})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}},t.default=c,e.exports=t.default},6985:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(58)),l=h(n(226)),s=h(n(68)),u=h(n(6151)),d=h(n(6)),f=h(n(523)),c=n(0),p=h(n(371));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(p.default,{title:d.default.Messages.PTT_PERMISSION_TITLE,body:d.default.Messages.PTT_PERMISSION_BODY.format({game:this.props.gameName}),minorText:d.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:function(){return u.default.clearPTTAdminWarning()},onConfirm:function(){return window.open(f.default.getArticleURL(c.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE),"_blank")},confirmText:d.default.Messages.HELP_DESK,iconUrl:n(999)})},t}(r.Component);m.modalConfig={stores:[s.default,i.default],isOpen:function(){var e=s.default.getVisibleGame();return null!=e&&e.elevated&&l.default.isConnected()&&i.default.getMode()===c.InputModes.PUSH_TO_TALK&&s.default.canShowAdminWarning},getProps:function(){var e=s.default.getVisibleGame();return{gameName:null!=e?e.gameName:null}}},t.default=m,e.exports=t.default},6986:function(e,t,n){e.exports=n.p+"46e2829b759fbdc67b1a24ff96a415b2.jpg"},6987:function(e,t,n){e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},6988:function(e,t,n){e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},6989:function(e,t,n){e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},6990:function(e,t,n){e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},6991:function(e,t,n){e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},6992:function(e,t,n){"use strict";t.__esModule=!0,t.customRules=t.baseRules=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(232))),l=h(n(163)),s=h(n(522)),u=h(n(6160)),d=h(n(283)),f=h(n(41)),c=n(6339),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=i.default.defaultRules.link;t.baseRules=d.default.getDefaultRules(),t.customRules={link:{parse:function(e,t,n){var o=void 0,a=e[2];return a.startsWith("https://discordapp.com/nitro")&&(o=function(e){s.default.open(p.UserSettingsSections.PREMIUM),n.changeLog.track(p.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"}),u.default.hideChangeLog(),e.preventDefault()}),a.startsWith("https://discordapp.com/store")&&(o=function(e){var t=void 0;"https://discordapp.com/store#premium"===a?(f.default.transitionTo(""+p.Routes.APPLICATION_STORE+p.PREMIUM_ROUTE_HASH),t="store-premium"):(f.default.transitionTo(p.Routes.APPLICATION_STORE),t="store"),n.changeLog.track(p.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:t}),u.default.hideChangeLog(),e.preventDefault()}),r({},m.parse(e,t,n),{callToAction:o})},react:function(e,t,n){return a(l.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":null},n.key,t(e.content,n))}},lheading:{react:function(e,t,n){return a(c.LHeading,{level:e.level,className:e.className},n.key,t(e.content,n))}}}},6993:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(232),i=(o=r)&&o.__esModule?o:{default:o};var l=i.default.defaultRules.lheading,s=i.default.defaultRules.link,u=i.default.defaultRules.image,d=i.default.defaultRules.list,f=/\{(.+?)}/,c=void 0;c=n(6992);var p=a({},c.baseRules,{image:a({},u,c.customRules.image),link:a({},s,c.customRules.link),list:a({},d,c.customRules.list),lheading:a({},l,{parse:function(e,t,n){var o=f.exec(e[1]);return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:i.default.parseInline(t,e[1].replace(f,"").toUpperCase(),n)}}},c.customRules.lheading)});t.default={getDefaultRules:function(){return a({},p)}},e.exports=t.default},6994:function(e,t){e.exports='---changelog---\ndate: "2018-09-10"\nrevision: 1\nlocale: "en-US"\nexperiment_names: ["2018-08_game_store_germany", "2018-08_game_store_australia"]\nexperiment_bucket: 1\nimage: "store.jpg"\n---\nBETA ACCESS {added marginTop}\n=====================\n\n* **You\'ve been randomly selected to join the Discord Store beta!** Three years ago we set out to bring people together around games. Now, we\'re bringing the games to you. [Click here to check out the store.](https://discordapp.com/store)\n* **Discord Nitro now has games!** For a limited time, gain access to a growing library of amazing games that we think you and your friends should play. [Click here to check out Nitro.](https://discordapp.com/store#premium)\n\n---changelog---\ndate: "2018-08-16"\nrevision: 1\nlocale: "en-US"\nexperiment_names: ["2018-08_game_store_canada"]\nexperiment_bucket: 1\nimage: "store.jpg"\n---\nBETA ACCESS {added marginTop}\n=====================\n\n* **You\'ve been randomly selected to join the Discord Store beta!** Three years ago we set out to bring people together around games. Now, we\'re bringing the games to you. [Click here to check out the store.](https://discordapp.com/store)\n* **Discord Nitro now has games!** For a limited time, gain access to a growing library of amazing games that we think you and your friends should play. [Click here to check out Nitro.](https://discordapp.com/store#premium)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "es-es"\nyoutube_video_id: "L-m84JwdrG4"\n---\nPONTE SOBRE MI {added marginTop}\n=====================\n\n* **El Overlay de Discord ahora tiene chat de texto!** Contina hablando en servidores y mensajes de texto sin usar alt-tab.\n* **Recibe notificaciones de texto** dentro del juego con este overlay para que puedas seguir viendo a tus amigos decir estupideces mientras juegas.\n* **Acepta invitaciones para juegos de presencia enriquecida** directamente en el overlay. Cuntas veces vamos a repetir overlay?\n* **Un montn, porque la estabilidad del overlay est por encima del 95%** desde el 75%. Si has tenido antes problemas con la carga del overlay, prueba de nuevo. Estamos cambiando la historia.\n* **Errores con el overlay? Ms bien, hemos arreglado los errores del overlay,** incluyendo cursores atascados, fallos al volver a renderizar el overlay tras usar alt-tab, y la pantalla rosa de la muerte. El dolor es rosa!\n* **Alguna vez te han flanqueado o rodeado, mientras te desgaitas a gritar, y entonces te das cuenta de que estabas silenciado?** El overlay ahora te muestra los iconos de silenciado y enmudecido para que no te vuelva a ocurrir.\n* **Tambin soporta los iconos de prioridad de habla** as tambin sabrs a quin decir "S, Milord"\n* **Solo te interesa el chat de texto?** Puedes esconder el componente de chat de voz completamente.\n* **Soporte de llamadas en el overlay.** Puedes iniciar llamadas, ver las llamadas activas y unirte a llamadas desde el overlay a altas horas de la noche, cuando necesites mi amor.\n* **Hasta aqu hemos escrito overlay 15 veces** (incluida la de esta frase)!\n* **Hemos implementado divisiones de cdigo** para reducir el tiempo de carga y mantener Discord impoluto y rpido mientras aadimos nuevas caractersticas. [Puedes leer ms aqu.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **La prioridad al hablar** ya es un hecho! Extiende tu dominio sobre tus amigos a travs del software! [Puedes ver aqu como configurarlo.](https://support.discordapp.com/hc/en-us/articles/360011876531) Vosotros [nos los habais pedido!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **Hemos abierto servidores en Sudfrica!** Disfruta del ping local.\n* **Nuestro nuevo portal del desarrollador ya est en marcha!** Nuevo diseo, nuevas caractersticas, y adaptado a mviles. [Puedes verlo aqu](https://discordapp.com/developers/)\n* **La comparticin de pantalla ahora tiene menos problemas.** Bien!\n\nTODO ESTO TAMBIN {progress}\n=====================\n\n* Quieres saber qu se cuece entre bambalinas? Sguenos en [Instagram](https://www.instagram.com/discordapp/).\n* Ayuda a nuestro equipo Native y Frontend a hacer ms Discord. [Ver empleos.](https://discordapp.com/jobs)\n* Apoya el desarrollo de Discord y consigue jugosos beneficios para tu cuenta con [Discord Nitro!](https://discordapp.com/nitro)!\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "fr"\nyoutube_video_id: "L-m84JwdrG4"\n---\nOVERLAY MON AMOUR {added marginTop}\n=====================\n\n* **L\'overlay Discord contient maintenant un chat textuel !** Continuez vos conversations dans les salons et les conversations prives sans un alt-tab.\n* **Recevez des notifications textuelles** depuis votre jeu grce  cet overlay pour ne rien perdre des conversations stupides de vos amis pendant que vous jouez.\n* **Acceptez les invitations aux jeux Rich Presence** directement depuis l\'overlay. Combien de fois crirons-nous overlay dans cette entre ?\n* **Un paquet, parce que la stabilit de l\'overlay est passe de 75%  plus de 95% dsormais.** Si jadis vous rencontriez des problmes de chargement avec l\'overlay, ressayez s\'il vous plait. Nous avons re-cod l\'histoire. Eh ouais.\n* **Les bugs overlay ? Les bugs overlay qui sont rpars, vous voulez dire ?** La liste inclut : curseurs bloqus, l\'alt-tab qui ne fait pas rapparatre l\'overlay, et l\'cran rose de la mort. Rose comme rage !\n* **Vous vous tes dj retrouv assailli de toutes parts, seul contre tous, hurlant et maudissant pour finalement raliser que votre microphone tait coup ?** L\'overlay affiche dsormais une icne lorsque le son ou la voix est mut. Comme a vous saurez.\n* **Les icnes Priority Speaker sont aussi implmentes.** Vous saurez donc quand rpondre "Oui, Matre".\n* **Vous tes seulement intress par le chat textuel ?** Vous pouvez compltement cacher la partie vocale de l\'overlay.\n* **L\'overlay intgre toutes les fonctions d\'appels.** Vous pouvez commencer un appel, voir les appels en cours, et joindre des appels depuis l\'overlay juste au cas o il vous prend l\'envie de crier "NE ME QUITTE PAS !!!" en pleine partie.\n* **Overlay est crit 16 fois ici** (en comptant celui qui commence cette phrase) !\n* **Nous avons intgr du code splitting** pour rduire le chargement requis et garder Discord lger et rapide tout en ajoutant des fonctionnalits. [Lisez cet article pour en savoir plus.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker** est dsormais disponible ! Imposez votre domination sur vos amis  travers un logiciel ! [Apprenez comment mettre a en place ici.](https://support.discordapp.com/hc/en-us/articles/360011876531) Vous [avez demand cette fonction !](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **Nous lanons des serveurs en Afrique du Sud !** Profitez de ping produit localement.\n* **Notre portail dveloppement mis  jour est en ligne !** Nouveau design, nouvelles fonctionnalits, et c\'est disponible sur mobile. [L\'accs, c\'est par ici](https://discordapp.com/developers/)\n* **Le partage d\'cran a moins de problmes.** Ouiiii !\n\nCES DEUX TRUCS AUSSI {progress}\n=====================\n\n* Vous voulez voir ce qu\'il se passe en coulisse ? [Suivez notre compte Instagram.](https://www.instagram.com/discordapp/)\n* Aidez notre quipe de dveloppement Native et Frontend  crer plus de Discord. [Voir les offres d\'emploi.](https://discordapp.com/jobs)\n* Soutenez le dveloppement de Discord et recevez des avantages sympas pour votre compte avec [Discord Nitro !](https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "pt-br"\nyoutube_video_id: "L-m84JwdrG4"\n---\nSOBRE A POSIO {added marginTop}\n=====================\n\n* **A Sobreposio do Discord agora possui bate papo por texto!** Continue conversando em servidores e Mensagens Diretas direto pela sobreposio sem precisar de um Alt+Tab.\n* **Receba notificaes de texto** diretamente dentro dos jogos com a nova sobreposio. Assim voc poder continuar jogando enquanto acompanha a discusso sobre qual  o lado certo de comear a comer uma coxinha.\n* **Aceite convites para jogos com Rich Presence** diretamente da sobreposio. Voc contou quantas vezes eu j falei "sobreposio" nesse changelog? No? Nem eu!\n* **Mas foi um nmero quase to grande quanto a estabilidade da nova sobreposio: 95%** (subindo dos 75% anteriores). Se voc costumava ter problemas com a sobreposio no carregando, por favor, tente novamente. Ns estamos fazendo histria aqui!\n* **Bugs com a Sobreposio? Dedetizamos todos!** incluindo os cursores travados, Alt+Tab fazendo a Sobreposio sumir, e at mesmo a tela azul, digo, rosa da morte!  srio, ela existe!\n* **Voc j estave levando um gank, gritando e orientando o time, apenas para perceber que estava mutado?** Que fase! Por sorte, agora a Sobreposio mostra os cones de silenciado para voc nunca mais sofrer com isso.\n* **Os cones do novo Priority Speaker tambm so suportados** assim voc sabe pra quem falar "Sim, Senhor" ou "Sim Senhora".\n* **S liga pro bate papo por texto?** Voc pode esconder totalmente a parte de voz da Sobreposio.\n* **Suporte total a chamadas na Sobreposio** Voc pode iniciar chamadas, ver chamadas em andamento e se juntar a chamadas via sobreposio no meio da noite quando o povo da sua casa grita CALABOCA E ME DEIXA DORMIR!\n* **Sobreposio foi escrito 15 vezes at agora** (incluindo a do comeo dessa frase)!\n* **Ns implementamos umas divises de codificao** para diminuir o carregamento necessrio e manter o Discord em forma e veloz como o Usain Bolt, mesmo enquanto ns implementamos novas funes. [Voc pode ler mais sobre isso clicando aqui.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker**  o novo treco que faz um troo no Discord! Reforce sua dominncia sobre seus amigos atravs de nossa programao incrvel! [Confira como configurar esse troo, digo, treco, clicando aqui.](https://support.discordapp.com/hc/en-us/articles/360011876531) Foram [vocs que pediram por isso!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **Ns lanamos servidores na frica do Sul!** Que, como vocs bem sabem, [ logo ali](https://www.youtube.com/watch?v=3cqKNhpysaQ).\n* **Nosso portal de desenvolvedores foi atualizado e est rodando lisinho!** Novo design, novas funcionalidades e  mais amigvel aos dispositivos mveis (tambm chamados de celulares e tablets). [Confira ele clicando aqui](https://discordapp.com/developers/)\n* **O Compartilhamento de Tela est dando menos problemas.** Iupiii!\n\nSASCOIZA TAMM {progress}\n===================\n\n* Quer espiar por trs das cortinas? [Siga nosso Instagram.](https://www.instagram.com/discordapp/)\n* Ajude nossos times Nativo e Frontend a fazerem mais Discord. [Ver trampos.](https://discordapp.com/jobs)\n* Apoie o desenvolvimento do Discord e ganhe umas vantagens iradas pra sua conta com o [Discord Nitro!](https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "ru"\nyoutube_video_id: "L-m84JwdrG4"\n---\nO-,   {added marginTop}\n=====================\n\n* **  Discord    !**           alt+tab\n* **  **      , \\-    ,         \n* **  Rich Presence  **   . ,       ""?\n* ** ,        95%**  75%.    ,      ,  .   !\n* ** ?  ?    !**   ,        Alt+tab,    .  \\-  ""!\n* **     ?       ,     ,    ?**     \\-        .\n* ** Priority Speaker  **,       ,    ", ".\n* **    ?** \\-      .\n* **    **     ,            ,      \n* ** ""   15 ** (  )\n* **   **,           Discord,     . [    ](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker**  !        ! [ ,   ,  ](https://support.discordapp.com/hc/en-us/articles/360011876531)\n [  !](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **     **     !\n* **     !**  ,       . [ ](https://discordapp.com/developers/)\n* **     ""** !\n\n    {progress}\n=====================\n\n*    ? [   Instagram.](https://www.instagram.com/discordapp/)\n*     Frontend     Discord. [C .](https://discordapp.com/jobs)\n*   Discord         [Discord Nitro!](https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "de"\nyoutube_video_id: "L-m84JwdrG4"\n---\n COME ON OVER {added marginTop}\n=====================\n\n* **Das Discord-Overlay hat jetzt auch Text-Chat!** Chatte weiter auf Servern und in DNs ohne Alt+Tab.\n* **Erhalte Textnachrichten** im Spiel, wie auch im Overlay, so dass du verfolgen kannst, was deine Freunde ber Christina Aguilera tratschen, whrend du spielst.\n* **Nimm Rich-Presence-Einladungen** direkt im Overlay an. Wie oft werden wir hier noch das Wort "Overlay" erwhnen?\n* **Oft, denn die Stabilitt des Overlays liegt nun bei ber 95%,** statt 75%. Wenn du zuvor Probleme hattest, das Overlay zu laden, dann versuche es jetzt bitte nochmals. Wir ndern hier die Geschichte.\n* **Overlay-Bugs? Wohl eher behobene Overlay-Bugs,** inklusive feststeckendem Cursor, ein Overlay, das bei Alt-Tab nicht rendert und dem pinkfarbenen Bildschirm des Todes. Pink ist Schmerz!\n* **Wurdest du jemals verprgelt oder berfallen und hast um Hilfe gebrllt, nur um festzustellen, dass du stummgeschaltet warst?** Das Overlay zeigt jetzt Symbole fr stumm und taub an, damit dir das nicht mehr passiert.\n* **Es gibt jetzt Symbole fr Priority-Speaker,** damit du weit, wem du mit "Ja, Meister" antworten musst.\n* **Dich interessiert nur der Textchat?** Du kannst die Sprachchat-Komponente komplett ausblenden.\n* **Volle Anrufkontrolle im Overlay.** Du kannst anrufen, Gesprche sehen, die schon laufen und du kannst  mitten in der Nacht Gesprchen ber das Overlay beitreten, wenn du meine Zuwendung brauchst.\n* **Overlay wurde bis jetzt 15mal erwhnt** (inklusive diesem hier)!\n* **Wir haben den Code gesplittet,** um die Last zu reduzieren und Discord schlank und schnell zu halten, whrend wir neue Features einbauen. [Lies mehr dazu hier.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority-Speaker** sind angesagt! Herrsche ber deine Freunde mit Software! [Finde hier heraus, wie man das einrichtet.](https://support.discordapp.com/hc/en-us/articles/360011876531) Ihr [wolltet das so!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **Wir haben jetzt Server in Sdafrika!** Geniet Ping aus dem Umland.\n* **Unser berarbeitetes Dev-Portal ist live!** Neues Design, neue Features und es ist Mobile-freundlich. [Schaut es euch hier an](https://discordapp.com/developers/)\n* **Bildschirmbertragungen haben weniger Probleme.** Juhuu!\n\nDAS AUCH NOCH {progress}\n=====================\n\n* Willst du einen Blick hinter die Kulissen wagen? [Folge unserem Instagram.](https://www.instagram.com/discordapp/)\n* Hilf unserem Native\\- und Front\\-End\\-Team mehr Discord zu machen. [Jobs.](https://discordapp.com/jobs)\n* Untersttze die Entwicklung von Discord und schnapp dir tolle Vorteile fr deinen Account mit [Discord Nitro!](https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "it"\nyoutube_video_id: "L-m84JwdrG4"\n---\nOVERLAY AMORE MIO {added marginTop}\n=====================\n\n* **L\'Overlay di Discord ora ha una nuova chat testuale!** Continua a chattare nei server e nei messaggi diretti senza fare alt+tab.\n* **Ricevi notifiche testuali** anche all\'interno del gioco grazie a questo overlay, cos potrai continuare a vedere i tuoi amici che chattano di cose stupide mentre giochi.\n* **Accetta inviti al gioco Rich Presence** direttamente dall\'overlay. Quante altre volte scriveremo overlay in questo aggiornamento?\n* **Un sacco, perch la stabilit dell\'overlay ora  oltre il 95%** da un precedente 75%. Se in passato avete avuto problemi con l\'overlay perch non si caricava, riprovateci. Stiamo facendo la storia.\n* **Bug con overlay? Tanti sono stati corretti,** come cursori bloccati, alt+tab che non fa riapparire l\'overlay, e la schermata rosa della morte. Il dolore  rosa!\n* **Vi siete mai ritrovati isolati, soli contro tutti, incacchiati e urlanti, per poi scoprire che il microfono era muto?** L\'overlay ora mostra un\'icona che vi dice quando siete muti. Cos non lo sarete pi.\n* **Anche le icone Priority Speaker sono supportate** cos saprai quando dire "Sissignore".\n* **Ti interessa solo la chat testuale?** Puoi nascondere completamente la parte vocale dell\'overlay.\n* **L\'overlay supporta tutte le funzioni di chiamata.** Puoi iniziare una chiamata, vedere le chiamate in corso e partecipare alle chiamate direttamente dall\'overlay la notte tardi, quando hai bisogno del mio amore.\n* **Overlay  stato scritto 16 volte finora** (incluso in questa frase)!\n* **Abbiamo integrato un po\' di code splitting** per ridurre il carico richiesto e tenere Discord pulito e veloce. Nel frattempo, aggiungiamo nuove funzioni. [Puoi scoprire di pi qui.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker** ora  realt! Imponi il tuo dominio sui tuoi amici tramite software [Scopri come si imposta qui.](https://support.discordapp.com/hc/en-us/articles/360011876531) Questo [lo avete richiesto voi!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **Abbiamo nuovi server in Sudafrica!** Approfittate dei ping locali.\n* **Il nostro portale per sviluppatori  online!** Nuovo design, nuove funzioni ed  disponibile per dispositivi mobile. [Guarda qui!](https://discordapp.com/developers/)\n* **Lo screenshare ha meno problemi.** Evvai!\n\nE ANCHE QUESTE COSE {progress}\n=====================\n\n* Vuoi vedere dietro le quinte? [Seguici su Instagram.](https://www.instagram.com/discordapp/)\n* Aiuta il nostro team di sviluppatori di Native e Frontend a creare pi cose per Discord. [Guarda le offerte di lavoro.](https://discordapp.com/jobs)\n* Supporta lo svilippo di Discord e ricevi vantaggi fighi per il tuo account con [Discord Nitro!](https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "ja"\nyoutube_video_id: "L-m84JwdrG4"\n---\n {added marginTop}\n=====================\n\n* ****alt-tabDM\n* ****\n* **Rich Presence**\n* **75%95%**\n* ****alt-tab\n* **LoL**\n* ****\n* ****\n* ****\n* **15**\n* **Code Splitting**Discord[](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **** [](https://support.discordapp.com/hc/en-us/articles/360011876531) [](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* ****Ping\n* ****[](https://discordapp.com/developers/)\n* **** \n\n {progress}\n=====================\n\n* [Instagram](https://www.instagram.com/discordapp/)\n* [](https://discordapp.com/jobs)\n* [Discord Nitro](https://discordapp.com/nitro)Discord\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "ko"\nyoutube_video_id: "L-m84JwdrG4"\n---\n   {added marginTop}\n=====================\n\n* ** Discord Overlay   !** alt        .\n*     **  **         .\n*   **rich presence   .**   \'\'    .\n* ** ,    75 % 95 %   .**     ,    .     .\n*  , alt     ,     ** ?   .**  !\n* **   , \'\'     , !   , !**\n          .\n* **Priority Speaker  **  ""    .\n* ** ?**       .\n* **   **                .\n* **""  15  .** (  )!\n*        Discord      ** .** [     .](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker**  !     !! [    .](https://support.discordapp.com/hc/en-us/articles/360011876531)   [ !](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **   !**   ping .\n* **    !**  ,      . [ .](https://discordapp.com/developers/)\n* **    .** !\n\n  {progress}\n=====================\n\n*   ? [Instagram   .](https://www.instagram.com/discordapp/)\n* Native Frontend   Discord    . [ .](https://discordapp.com/jobs)\n* Discord   [Discord Nitro!](https://discordapp.com/nitro)    .\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "nl"\nyoutube_video_id: "L-m84JwdrG4"\n---\nOVERLEG HET MET MIJ {added marginTop}\n=====================\n\n* **De Discord-overlay bevat nu tekstchat!** Je kunt blijven chatten in servers en privgesprekken zonder alt-tab te hoeven gebruiken.\n* **Ontvang ook tekstmeldingen** in het spel met deze overlay, zodat je tijdens het spelen kunt blijven kijken hoe je vrienden praten over iets stoms.\n* **Accepteer rich presence-uitnodigingen direct vanuit de overlay** Hoe vaak zullen we \'overlay\' nog schrijven in deze tekst?\n* **Nog vaak, omdat de stabiliteit van de overlay is gestegen van 75% naar meer dan 95%**. Als je in het verleden problemen hebt gehad met het niet laden van de overlay, probeer het nu opnieuw. We veranderen de geschiedenis hier.\n* **Overlaybugs? Waar dan? Alle overlaybugs zijn opgelost!** Inclusief vastzittende cursors, alt-tab waarbij de overlay niet opnieuw rendeert en het \'pink screen of death\'. Pink for pain!\n* **Ben je ooit aangevallen of ingesloten, waarna je schreeuwde en gilde, om daarna te beseffen dat je microfoon uitstond?** De overlay toont nu pictogrammen zodat dat niet meer zal gebeuren.\n* **Priority Speaker-pictogrammen worden ook ondersteund** zodat je weet tegen wie je "Ja, meester" moet zeggen.\n* **Geef je alleen om tekstchats?** Je kunt het overlay-spraakcomponent ook volledig verbergen.\n* **Volledige gespreksondersteuning in de overlay.**Je kunt gesprekken starten, gesprekken bekijken die aan de gang zijn en oproepen vanuit de overlay aannemen.\n* **Overlay is nu 15 keer** geschreven (inclusief waar deze zin mee begint)!\n* **We hebben wat codesplitsing toegevoegd** om de vereiste belasting te verminderen en Discord simpel en snel te houden terwijl we functies toevoegen. [Lees er hier meer over.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker** bestaat nu! Laat via onze software zien wie de baas is! [Bekijk hier hoe je dat kunt instellen.](Https://support.discordapp.com/hc/en-us/articles/360011876531) Jullie [hebben dit aangevraagd!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **We hebben servers in Zuid-Afrika gelanceerd!** Geniet van lokaal geproduceerde ping.\n* **Onze bijgewerkte dev-portal is live!** Nieuw ontwerp, nieuwe functies en het is mobielvriendelijk. [Bekijk het hier](https://discordapp.com/developers/)\n* **Schermdeling heeft minder problemen.** Woehoe!\n\nDEZE DINGEN OOK {progress}\n=====================\n\n* Wil je achter het gordijn spieken? Volg onze [Instagram](https://www.instagram.com/discordapp/).\n* Help onze teams om meer Discord te creren. [Vacatures bekijken.](Https://discordapp.com/jobs)\n* Steun de ontwikkeling van Discord en krijg leuke voordelen voor je account met [Discord Nitro!](Https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nlocale: "sv-se"\nyoutube_video_id: "L-m84JwdrG4"\n---\nLT MIG HRA {added marginTop}\n=====================\n\n* **Discords Overlay har nu Textchat!** Fortstt chatta p servrar och i privatmeddelanden utan att alt-tabba.\n* **Ta emot textmeddelanden** ven inifrn spel med overlayen s att du kan fortstta se hur dina vnner pratar dumheter ven nr de spelar.\n* **Ta emot spelinbjudningar via rich presence** direkt frn overlayen. Hur mnga gnger kommer det g att lsa overlay hr?\n* **Mnga gnger, eftersom overlayen nu r ver 95 % stabil** jmfrt med tidigare 75 %. Om du tidigare haft problem med att overlayen inte laddats, s frsk igen. Vi frndrar historien hr.\n* **Overlay-buggar? Sg istllet att en massa overlay-buggar har fixats,** ssom pekare som fastar, att alt-tabbande inte ritar upp overlayen igen och pink screen of death.\n* **Har du nnsin blivit flankad och gankad, och skrikit och gapat bara fr att upptcka att du var tystad?** Overlayen visar nu mute och tysthets-ikoner s att du inte gr snt.\n* **Ikoner fr prioriterade talare stds ocks** s att du vet nr du ska sga "Ja herre" ocks.\n* **Bryr du dig bara om text-chatt?** Du kan gmma overlayets rst-del helt.\n* **Fullt samtalsstd i overlayen.** Du kan starta samtal, se pgende samtal och g med i samtal frn overlayen sent p natten nr du behver min krlek.\n* **Du kan lsa Overlay 15 gnger hr** (inklusive i brjan av den hr meningen)!\n* **Vi implementerade lite code splitting** fr att minska det som mste laddas och hlla Discord smidigt och snabbt nr vi lgger till funktioner. [Ls mer om detta hr.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Prioriterad Talare** r en en grej! Utva makt ver dina vnner genom mjukvara! [Kolla in hur man stller in detta hr.](https://support.discordapp.com/hc/en-us/articles/360011876531) Ni [bad om detta!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **Vi har startat servrar i Sydafrika!** Njut av lite lokalt framstlld ping.\n* **Vr uppdaterade dev-portal r live!** Ny design, nya funktioner och den r mobilvnlig. [Kolla in hr.](https://discordapp.com/developers/)\n* **Skrmdelningen har frre problem.** Hurra!\n\nDE HR GREJERNA OCKS {progress}\n=====================\n\n* Vill du kika bakom kulisserna? [Flj oss p Instagram.](https://www.instagram.com/discordapp/)\n* Hjlp vrt Native och Frontend-team skapa mer Discord. [Se jobb.](https://discordapp.com/jobs)\n* Std Discords utveckling och f ngra sjyssta frdelar till ditt konto med [Discord Nitro](https://discordapp.com/nitro)\n\n---changelog---\ndate: "2018-08-08"\nrevision: 1\nyoutube_video_id: "L-m84JwdrG4"\n---\nLAY IT ON ME {added marginTop}\n=====================\n\n* **The Discord Overlay now has Text Chat!** Continue chatting in servers and DMs without an alt-tab.\n* **Receive text notifications** within game as well with this overlay so you can continue to watch your friends talk about something stupid while playing.\n* **Send and accept rich presence game invites** directly from the overlay. How many times will overlay be written here?\n* **A lot, because overlay stability is now over 95%** up from 75%. If you have historically had issues with the overlay not loading, please try again. We\'re changing history here.\n* **Overlay bugs? More like overlay bugs are fixed,** including stuck cursors, alt-tab failing to re-render the overlay, and the pink screen of death. Pink for pain!\n* **Ever been flanked or ganked, yelling and screaming, only to realize you were muted?** The overlay now shows mute and deafen icons so you can not do that.\n* **Priority Speaker icons are also supported** so you know who to say "Yes M\'lord" too.\n* **Only care about text chat?** You can hide the overlay voice component completely.\n* **Full call support in the overlay.** You can initiate calls, view calls that are ongoing, and join calls from the overlay late night when you need my love.\n* **Overlay is written 15 times here** (including the one starting this sentence)!\n* **We implemented some code splitting** to reduce required load and keep Discord lean and fast while we add features. [Read more about this here.](https://blog.discordapp.com/how-discord-maintains-performance-while-adding-features-28ddaf044333)\n* **Priority Speaker** is now a thing! Exert dominance over your friends through software! [Check out how to set that up here.](https://support.discordapp.com/hc/en-us/articles/360011876531) You [asked for this!](https://feedback.discordapp.com/forums/326712-discord-dream-land/suggestions/10346334-enable-mod-s-to-shout-in-a-voice-room-where-every)\n* **We launched servers in South Africa!** Enjoy some locally sourced ping.\n* **Our updated dev portal is live!** New design, new features, and it\'s mobile friendly. [View it here](https://discordapp.com/developers/)\n* **Screen share has less issues.** Yay!\n\nTHESE THINGS TOO {progress}\n=====================\n\n* Wanna see behind the curtain? [Follow our Instagram.](https://www.instagram.com/discordapp/)\n* Help our Native and Frontend team make more Discord. [View jobs.](https://discordapp.com/jobs)\n* Support Discord\'s development and get sweet perks for your account with [Discord Nitro!](https://discordapp.com/nitro)'},6995:function(e,t,n){"use strict";t.__esModule=!0;var o=M(n(3)),a=M(n(6339)),r=M(n(6985)),i=M(n(6984)),l=M(n(6983)),s=M(n(6980)),u=M(n(6979)),d=M(n(6977)),f=M(n(6975)),c=M(n(6973)),p=M(n(6970)),h=M(n(6336)),m=M(n(6335)),y=M(n(6966)),v=M(n(6962)),g=M(n(6332)),_=M(n(6954)),E=M(n(6949)),S=M(n(6946)),b=M(n(6939)),C=M(n(6936)),T=M(n(6330)),N=M(n(6920)),O=M(n(6911)),I=M(n(6327)),A=M(n(6150));function M(e){return e&&e.__esModule?e:{default:e}}o.default.initialize();var R=[N.default,E.default,b.default,_.default,g.default,v.default,a.default,S.default,m.default,h.default,u.default,s.default,p.default,y.default,f.default,d.default,c.default,r.default,i.default,l.default,T.default,C.default,O.default,I.default,A.default];t.default=R,e.exports=t.default},6996:function(e,t,n){"use strict";t.__esModule=!0,t.SETTINGS_LAYERS_LAYOUT=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(0),r=n(143),i=s(n(6344)),l=s(n(975));function s(e){return e&&e.__esModule?e:{default:e}}t.SETTINGS_LAYERS_LAYOUT=o({POP_LAYER:{binds:["esc"],global:!0,action:function(){return r.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_DECLINE)?(r.ComponentDispatch.dispatch(a.ComponentActions.CALL_DECLINE),!1):l.default.isOpen()?(r.ComponentDispatch.dispatch(a.ComponentActions.CONTEXT_MENU_CLOSE),!1):r.ComponentDispatch.hasSubscribers(a.ComponentActions.POPOUT_CLOSE)?(r.ComponentDispatch.dispatch(a.ComponentActions.POPOUT_CLOSE),!1):r.ComponentDispatch.hasSubscribers(a.ComponentActions.MODAL_CLOSE)?(r.ComponentDispatch.dispatch(a.ComponentActions.MODAL_CLOSE),!1):void r.ComponentDispatch.dispatch(a.ComponentActions.LAYER_POP_ESCAPE_KEY)}}},i.default)},6997:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(6)),s=h(n(523)),u=h(n(40)),d=n(0),f=h(n(996)),c=h(n(5720)),p=h(n(519));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(n){m(this,t);var o=y(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return v(t,e),t.prototype.render=function(){var e=this.props.type,t=e===d.VerificationTypes.EMAIL_OR_PHONE?l.default.Messages.VERIFY_BY_EMAIL_FORMATTED.format():l.default.Messages.VERIFY_BY_PHONE_FORMATTED.format();return a(u.default,{className:c.default.verificationBlock,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,onClick:this.handleClick},void 0,a("div",{className:(0,i.default)(c.default.image,c.default[e])}),a("div",{className:c.default.body},void 0,t))},t.prototype.handleClick=function(){var e=this.props;(0,e.onClick)(e.type)},t}(r.PureComponent),_=function(e){function t(n){m(this,t);var o=y(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return v(t,e),t.prototype.renderFields=function(){var e=this.props,t=e.type,n=e.captchaKey,o=e.theme,r=e.onCaptchaChange,i=[];switch(t){case d.VerificationTypes.CAPTCHA:return a(f.default,{onChange:r,theme:o},n);case d.VerificationTypes.EMAIL_OR_PHONE:i.push(a(g,{type:d.VerificationTypes.EMAIL_OR_PHONE,onClick:this.handleClick},d.VerificationTypes.EMAIL_OR_PHONE));case d.VerificationTypes.PHONE:i.push(a(g,{type:d.VerificationTypes.PHONE,onClick:this.handleClick},d.VerificationTypes.PHONE))}return i},t.prototype.render=function(){return a(u.default,{className:c.default.verification,align:u.default.Align.CENTER,direction:u.default.Direction.VERTICAL},void 0,a(u.default,{className:c.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,a("div",{className:c.default.image}),a("div",{className:(0,i.default)(c.default.title,p.default.marginTop20)},void 0,l.default.Messages.VERIFICATION_TITLE),a("div",{className:(0,i.default)(c.default.body,p.default.marginTop4,p.default.marginBottom20)},void 0,l.default.Messages.VERIFICATION_BODY.format()),a(u.default,{grow:0,justify:u.default.Justify.CENTER},void 0,this.renderFields())),a("div",{className:c.default.footer},void 0,l.default.Messages.VERIFICATION_FOOTER),a(u.default,{className:(0,i.default)(p.default.marginTop4,p.default.marginBottom20),grow:0},void 0,a("div",{className:(0,i.default)(c.default.footer,c.default.footerAction)},void 0,l.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:s.default.getSubmitRequestURL()})),a("div",{className:(0,i.default)(c.default.footer,c.default.footerBullet)},void 0,""),a("div",{className:(0,i.default)(c.default.footer,c.default.footerAction)},void 0,l.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))},t.prototype.handleClick=function(e){var t=this.props.onClick;t&&t(e)},t}(r.PureComponent);_.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaChange:d.NOOP,onLogout:d.NOOP},t.default=_,e.exports=t.default},6998:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=b(n(3)),s=b(n(13)),u=b(n(6997)),d=b(n(6091)),f=b(n(38)),c=n(270),p=b(n(943)),h=b(n(6340)),m=n(962),y=b(n(31)),v=b(n(6039)),g=n(0),_=b(n(164)),E=b(n(67)),S=b(n(6));function b(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={captchaKey:0},o.handleVerifyCaptcha=o.handleVerifyCaptcha.bind(o),o.handleClick=o.handleClick.bind(o),o.handleLogout=o.handleLogout.bind(o),o.close=o.close.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.theme;return r(u.default,{type:t,captchaKey:this.state.captchaKey,onCaptchaChange:this.handleVerifyCaptcha,theme:n,onClick:this.handleClick,onLogout:this.handleLogout})},t.prototype.handleVerifyCaptcha=function(e){var t=this;s.default.post({url:g.Endpoints.CAPTCHA,body:{captcha_key:e}}).then(function(){t.close()},function(){t.setState({captchaKey:t.state.captchaKey+1})})},t.prototype.handleClick=function(e){e===g.VerificationTypes.EMAIL_OR_PHONE?this.handleVerifyEmail():this.handleVerifyPhone()},t.prototype.handleVerifyEmail=function(){(0,m.accountDetailsInit)(),h.default.open()},t.prototype.handleVerifyPhone=function(){f.default.push(function(e){return i.createElement(d.default,e)})},t.prototype.close=function(){(0,c.popLayer)()},t.prototype.handleLogout=function(){f.default.push(function(e){return i.createElement(_.default,a({header:S.default.Messages.LOGOUT,confirmText:S.default.Messages.LOGOUT,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return p.default.logout()}},e),r(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,S.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},t}(i.PureComponent);t.default=l.default.connectStores([y.default,v.default],function(){var e=v.default.getAction(),t=g.VerificationTypes.CAPTCHA;return e===g.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?t=g.VerificationTypes.EMAIL_OR_PHONE:e===g.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(t=g.VerificationTypes.PHONE),{theme:y.default.theme,type:t}})(C),e.exports=t.default},6999:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(3)),l=h(n(6)),s=h(n(941)),u=n(75),d=h(n(224)),f=n(6152),c=h(n(12)),p=h(n(6086));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.streams,n=e.userId;if(null==n||null==t||0===t.length)return a(d.default,{type:d.default.Type.SPINNING_CIRCLE});var o=c.default.getUser(n),r=null==o?l.default.Messages.RTC_DEBUG_RTP_INBOUND:l.default.Messages.RTC_DEBUG_RTP_INBOUND+"  "+o.toString();return a(s.default,{tag:u.Tags.H2,title:r},void 0,(0,f.renderStreams)(t,n))},t}(r.PureComponent);t.default=i.default.connectStores([p.default],function(){var e=p.default.getStats(),t=p.default.getSection(),n=null;return null!=e&&null!=e.rtp.inbound&&(n=e.rtp.inbound[t]||[]),{userId:t,streams:n}})(m),e.exports=t.default},7000:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(3)),l=p(n(6)),s=p(n(941)),u=n(75),d=p(n(224)),f=n(6152),c=p(n(6086));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.outbound;return null==e?a(d.default,{type:d.default.Type.SPINNING_CIRCLE}):a(s.default,{tag:u.Tags.H2,title:l.default.Messages.RTC_DEBUG_RTP_OUTBOUND},void 0,(0,f.renderStreams)(e))},t}(r.PureComponent);t.default=i.default.connectStores([c.default],function(){var e=c.default.getStats();return{outbound:null!=e?e.rtp.outbound:null}})(h),e.exports=t.default},7001:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(6368);var l=a(i.SparklinesCurve,{}),s=a(i.SparklinesReferenceLine,{type:"median"}),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.datapoints=[n.datapoint],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.datapoints.push(e.datapoint)},t.prototype.render=function(){return a(i.Sparklines,{data:this.datapoints.slice(0),height:25,style:{marginTop:10}},void 0,l,s)},t}(r.PureComponent);t.default=u,e.exports=t.default},7002:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=n(262),s=h(l),u=h(n(526)),d=h(n(40)),f=h(n(79)),c=h(n(5565)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=["audioLevel"],y=["firCount","nackCount"],v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={change:0,warn:-1!==y.indexOf(n.label)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){-1!==m.indexOf(e.label)&&(e.value>this.props.value?this.setState({change:1}):e.value<this.props.value?this.setState({change:-1}):this.setState({change:0}))},t.prototype.renderValueIcon=function(){var e=this.state,t=e.warn,n=e.change;return t?a(f.default,{name:f.default.Names.WARNING_BOX,color:p.Colors.STATUS_YELLOW,className:c.default.valueIcon}):n>0?a(f.default,{name:f.default.Names.CHANGE_UP,color:p.Colors.STATUS_GREEN,className:c.default.valueIcon}):n<0?a(f.default,{name:f.default.Names.CHANGE_DOWN,color:p.Colors.STATUS_RED,className:c.default.valueIcon}):null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.valueRendered,r=e.section,f=e.label,p=e.renderGraph;return a(d.default,{className:(0,i.default)(c.default.item,n),direction:d.default.Direction.VERTICAL,basis:"50%"},void 0,a(d.default,{align:d.default.Align.START},void 0,a(d.default.Child,{},void 0,a("h3",{className:c.default.title},void 0,t)),a(d.default.Child,{grow:0,shrink:0},void 0,this.renderValueIcon(),a("span",{className:c.default.itemValue},void 0,o))),p&&a(d.default.Child,{className:c.default.graph},null!=r?r+"-"+f:f,a(s.default,{type:l.Types.DESCRIPTION},void 0,p())),a(u.default,{className:c.default.divider}))},t}(r.PureComponent);t.default=v,e.exports=t.default},7003:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(8)),l=g(n(3)),s=g(n(6)),u=g(n(941)),d=n(75),f=n(6152),c=g(n(224)),p=g(n(6086)),h=g(n(226)),m=n(6341),y=g(n(144)),v=g(n(5565));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.transport,n=e.mediaSessionId,o=e.hidePersonalInformation;if(null==t)return a(c.default,{type:c.default.Type.SPINNING_CIRCLE});var r=i.default.map(t,function(e,t){if(!o||"localAddress"!==t)return a(m.Item,{label:t,value:e},t)});return a(u.default,{tag:d.Tags.H2,title:s.default.Messages.RTC_DEBUG_TRANSPORT+(n?" - "+n:""),className:v.default.allowSelection},void 0,(0,f.renderTwoColumns)(r))},t}(r.PureComponent);t.default=l.default.connectStores([p.default,h.default,y.default],function(){var e=p.default.getStats();return{hidePersonalInformation:y.default.hidePersonalInformation,transport:null!=e?e.transport:null,mediaSessionId:h.default.getMediaSessionId()}})(_),e.exports=t.default},7004:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=b(n(3)),l=b(n(6)),s=b(n(8)),u=n(6012),d=b(n(40)),f=b(n(263)),c=b(n(6133)),p=b(n(7003)),h=b(n(7e3)),m=b(n(6999)),y=n(6367),v=b(n(31)),g=b(n(6086)),_=b(n(12)),E=n(0),S=b(n(5565));function b(e){return e&&e.__esModule?e:{default:e}}var C=function(e){return a(d.default,{align:d.default.Align.CENTER},void 0,a(d.default.Child,{},void 0,a(d.default,{align:d.default.Align.CENTER},void 0,a(f.default,{size:f.default.Sizes.XSMALL,src:e.getAvatarURL()}),a("span",{className:S.default.username},void 0,e.toString()))))};t.default=i.default.connectStores([g.default,v.default],function(){var e=g.default.getStats();return{theme:v.default.theme,section:g.default.getSection(),inbound:null!=e?e.rtp.inbound:void 0}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,o=e.inbound;return a(c.default,{theme:t,section:n,onSetSection:y.setSection,onClose:y.close,sections:function(e){var t=[];return null==e||s.default.isEmpty(e)||(t.push({section:u.SectionTypes.DIVIDER}),t.push({section:u.SectionTypes.HEADER,label:l.default.Messages.RTC_DEBUG_RTP_INBOUND}),Object.keys(e).forEach(function(e){var n=_.default.getUser(e);null!=n&&t.push({section:n.id,label:C(n),onClick:function(){(0,y.setSection)(n.id)},element:m.default})})),[{section:u.SectionTypes.HEADER,label:l.default.Messages.RTC_DEBUG},{section:E.RTCDebugSections.TRANSPORT,label:l.default.Messages.RTC_DEBUG_TRANSPORT,element:p.default},{section:E.RTCDebugSections.OUTBOUND,label:l.default.Messages.RTC_DEBUG_RTP_OUTBOUND,element:h.default}].concat(t)}(o)})},t}(r.PureComponent)),e.exports=t.default},7005:function(e,t,n){"use strict";t.__esModule=!0,t.updatePermission=function(e,t,n){o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})},t.selectPermission=function(e){o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})},t.init=function(){o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})},t.savePermissionUpdates=function(e,t){return o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING}),new Promise(function(n){!function o(){if(0===t.length)return n();var r=t.pop();if(null==r)return o();a.default.updatePermissionOverwrite(e,r).then(o,o)}()}).then(function(){return o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS})})};var o=i(n(2)),a=i(n(146)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7006:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(9))),i=p(n(524)),l=p(n(79)),s=p(n(64)),u=p(n(40)),d=p(n(67)),f=n(0),c=p(n(5723));function p(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.iconName,n=e.noticeText,o=e.buttonText,p=e.className,h=e.submitting,m=e.onClick;return a(i.default,{className:(0,r.default)(c.default.card,p)},void 0,a(u.default,{},void 0,a(u.default.Child,{wrap:!0,grow:0,shrink:0,className:c.default.iconContainer},void 0,a(l.default,{name:t,width:18,height:18,color:f.Colors.STATUS_YELLOW,className:c.default.lockIcon})),a(u.default.Child,{wrap:!0,className:c.default.noticeText},void 0,a(d.default,{color:d.default.Colors.PRIMARY},void 0,n))),null!=o&&null!=m?a(s.default,{size:s.default.Sizes.SMALL,onClick:m,className:c.default.button,submitting:h},void 0,o):null)},e.exports=t.default},7007:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsPermissionsNotice=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=H(n(3)),s=H(n(6)),u=H(n(8)),d=H(n(1207)),f=H(n(6672)),c=H(n(6623)),p=H(n(7006)),h=H(n(223)),m=H(n(6050)),y=H(n(6671)),v=H(n(163)),g=H(n(40)),_=H(n(6074)),E=H(n(263)),S=H(n(64)),b=n(262),C=H(b),T=H(n(79)),N=H(n(6421)),O=H(n(146)),I=n(7005),A=n(6048),M=H(n(267)),R=H(n(38)),P=H(n(26)),w=H(n(6029)),L=H(n(12)),D=H(n(31)),U=H(n(60)),k=H(n(6342)),F=H(n(112)),x=H(n(76)),G=H(n(523)),B=H(n(6128)),j=n(0),V=H(n(5722));function H(e){return e&&e.__esModule?e:{default:e}}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K={position:"relative",paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"},$={ROLE:"role",MEMBER:"member"},q=(t.ChannelSettingsPermissionsNotice=l.default.connectStores([k.default,w.default],function(){var e=w.default.getChannel();return{submitting:k.default.formState===j.FormStates.SUBMITTING,onReset:function(){(0,I.init)()},onSave:function(){var t=k.default.editedPermissionIds.map(function(e){return k.default.getPermissionOverwrite(e)});(0,I.savePermissionUpdates)(e.id,t)}}})(_.default),function(e){function t(n){Y(this,t);var o=W(this,e.call(this,n)),a=n.type;return o.generalSpec=x.default.generateChannelGeneralPermissionSpec(a===j.ChannelTypes.GUILD_CATEGORY),o.textSpec=x.default.generateChannelTextPermissionSpec(a===j.ChannelTypes.GUILD_TEXT),o.voiceSpec=x.default.generateChannelVoicePermissionSpec(a===j.ChannelTypes.GUILD_VOICE),o.handlePermissionChange=o.handlePermissionChange.bind(o),o.handleDeletePermission=o.handleDeletePermission.bind(o),o}return z(t,e),t.prototype.getOverwriteName=function(){var e=this.props,t=e.channel.guild_id,n=e.overwrite.id,o=P.default.getGuild(t);if(null==o)return"";var a=o.getRole(n),r=L.default.getUser(n),i=r?r.username:"";return a?a.name:i},t.prototype.handlePermissionChange=function(e,t){var o,a=this.props,i=a.overwrite,l=a.channel,u=i.id,d=i.allow,f=i.deny;switch(f^=f&e,d^=d&e,t){case"ALLOW":d|=e;break;case"DENY":f|=e}if(x.default.can(e,L.default.getCurrentUser(),l,((o={})[u]=r({},i,{allow:d,deny:f}),o)))(0,I.updatePermission)(u,d,f);else{var c=void 0;if("member"===i.type){var p=L.default.getUser(i.id);null!=p&&(c=p.toString())}else if("role"===i.type){var h=P.default.getGuild(l.getGuildId());if(null!=h){var m=h.getRole(i.id);null!=m&&(c=m.name)}}M.default.show({title:s.default.Messages.SELF_DENY_PERMISSION_TITLE,body:s.default.Messages.SELF_DENY_PERMISSION_BODY.format({name:c}),cancelText:s.default.Messages.HELP_DESK,onCancel:function(){window.open(G.default.getArticleURL(j.HelpdeskArticles.PERMISSIONS_LOCKOUT))},iconUrl:n(6240)})}},t.prototype.handleDeletePermission=function(){var e=this.props,t=e.channel.id,o=e.overwrite.id,a=this.getOverwriteName();M.default.show({title:s.default.Messages.SETTINGS_PERMISSIONS_DELETE_TITLE,body:s.default.Messages.SETTINGS_PERMISSIONS_DELETE_BODY.format({name:a}),cancelText:s.default.Messages.CANCEL,onConfirm:function(){return O.default.clearPermissionOverwrite(t,o)},iconUrl:n(6240)})},t.prototype.renderTextPermissions=function(){var e=this.props.type;if(e!==j.ChannelTypes.GUILD_TEXT&&e!==j.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return a(c.default,{spec:this.textSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderVoicePermissions=function(){var e=this.props.type;if(e!==j.ChannelTypes.GUILD_VOICE&&e!==j.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return a(c.default,{spec:this.voiceSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderRemoveButton=function(){var e=this.props;return e.channel.guild_id===e.overwrite.id?null:a(S.default,{look:S.default.Looks.OUTLINED,color:S.default.Colors.RED,onClick:this.handleDeletePermission},void 0,s.default.Messages.REMOVE_ROLE_OR_USER.format({name:this.getOverwriteName()}))},t.prototype.render=function(){var e=this.props.overwrite;return a(y.default.Content,{style:K},void 0,a(c.default,{spec:this.generalSpec,allow:e.allow,deny:e.deny,onChange:this.handlePermissionChange,className:"margin-bottom-40"}),this.renderTextPermissions(),this.renderVoicePermissions(),this.renderRemoveButton())},t}(i.PureComponent)),X=function(e){function t(){var n,o;Y(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=W(this,e.call.apply(e,[this].concat(r))),o.handlerFilterResults=function(e,t){var n=o.props.permissionOverwrites;return 0===t?(0,u.default)(o.props.guild.roles).filter(function(t){return null==n[t.id]&&e(t.name)}).sortBy(function(e){return-e.position}).value():(0,u.default)(o.props.guildMemberIds).map(L.default.getUser).filter(function(e){return null!=e}).filter(function(t){return null==n[t.id]&&e(t.username.toLowerCase())}).sortBy(function(e){return e.username.toLowerCase()}).value()},o.handleCreateOverwrite=function(e,t){0===t?o.props.onSelect(e.id,$.ROLE):1===t&&o.props.onSelect(e.id,$.MEMBER)},o.handleQueryChange=function(e){B.default.requestMembers(o.props.guild.id,e,20)},W(o,n)}return z(t,e),t.prototype.renderResult=function(e,t){if(0===t){var n=void 0;return e.colorString&&(n={color:e.colorString}),a("span",{style:n},void 0,e.name)}var o=e.avatarURL||e.getAvatarURL("jpg");return a(g.default,{align:g.default.Align.CENTER},void 0,a(E.default,{size:E.default.Sizes.SMALL,src:o}),a("span",{className:V.default.username},void 0,e.toString()))},t.prototype.render=function(){return a(d.default,{label:s.default.Messages.OVERWRITE_AUTOCOMPLETE_LABEL,placeholder:s.default.Messages.OVERWRITE_AUTOCOMPLETE_PLACEHOLDER,sections:[s.default.Messages.ROLES,s.default.Messages.MEMBERS],onRenderResult:this.renderResult,onFilterResults:this.handlerFilterResults,onQueryChange:this.handleQueryChange,onSelect:this.handleCreateOverwrite,onClose:this.props.onClose})},t}(i.PureComponent),Q=l.default.connectStores([U.default],function(e){var t=e.guild;return{guildMemberIds:U.default.getMemberIds(t.id)}})(X),J=function(e){function t(n){Y(this,t);var o=W(this,e.call(this,n));return u.default.bindAll(o,["renderRole","renderMember","renderCreateOverwritePopout","renderHeader","handleCreatePermissionOverwrite","handleSyncPermissions"]),o}return z(t,e),t.prototype.renderRole=function(e){var t=this.props,n=t.selectedOverwriteId,o=t.theme;return a(f.default,{theme:o,id:e.id,color:e.colorString},n+"-"+e.id,e.name)},t.prototype.renderMember=function(e){var t=this.props,n=t.selectedOverwriteId,o=t.theme,r=e.avatarURL||e.getAvatarURL("jpg");return a(f.default,{id:e.id,theme:o},n+"-"+e.id,a(g.default,{align:g.default.Align.CENTER},void 0,a(E.default,{size:E.default.Sizes.XSMALL,src:r}),a("span",{className:V.default.username},void 0,e.toString())))},t.prototype.renderCreateOverwritePopout=function(e){return i.createElement(Q,r({},this.props,{onSelect:this.handleCreatePermissionOverwrite},e))},t.prototype.renderHeader=function(){var e=this.props.theme===j.ThemeTypes.DARK?n(6621):n(6620);return a(h.default,{render:this.renderCreateOverwritePopout,position:h.default.Positions.BOTTOM,preventInvert:!0},void 0,a(m.default.Header,{},void 0,a(g.default,{className:V.default.sidebarHeaderDefault,justify:g.default.Justify.BETWEEN,align:g.default.Align.CENTER},void 0,a("span",{},void 0,s.default.Messages.ROLES,"/",s.default.Messages.MEMBERS),a("img",{alt:"",className:V.default.sidebarHeader,src:e}))))},t.prototype.renderHelpfulNote=function(){return a("div",{},void 0,a(m.default.Separator,{style:{marginTop:20,marginBottom:14}}),a(C.default,{type:b.Types.DESCRIPTION},void 0,a(v.default,{href:G.default.getArticleURL(j.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,s.default.Messages.PERMISSION_HELPDESK)))},t.prototype.renderSyncStatus=function(){var e=this.props,t=e.isLockable,n=e.locked,o=e.category,r=e.canSyncChannel;return t&&null!=o?a(p.default,n?{iconName:T.default.Names.SYNCED,noticeText:s.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:o.name})}:{iconName:T.default.Names.UNSYNCED,noticeText:s.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:o.name}),buttonText:r?s.default.Messages.SYNC_NOW:null,onClick:this.handleSyncPermissions}):null},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.selectedOverwriteId,o=e.theme,i=e.permissionOverwrites;null==i[t.id]&&(i[t.id]=x.default.makeEveryoneOverwrite(t.id));var l=(0,u.default)(i).filter(function(e){return e.type===$.ROLE}).map(function(e){return t.getRole(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return-e.position}).map(this.renderRole).value(),s=(0,u.default)(i).filter(function(e){return e.type===$.MEMBER}).map(function(e){return L.default.getUser(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return e.username.toLowerCase()}).map(this.renderMember).value();return a(y.default.Sidebar,{style:r({},K,{overflow:"hidden"}),scrollable:!0,theme:o},void 0,this.renderSyncStatus(),a(m.default,{onItemSelect:I.selectPermission,selectedItem:n},void 0,this.renderHeader(),l,s,this.renderHelpfulNote()))},t.prototype.handleCreatePermissionOverwrite=function(e,t){var n=this.props.channel;O.default.updatePermissionOverwrite(n.id,{id:e,type:t,allow:x.default.NONE,deny:x.default.NONE}).then(function(){return(0,I.selectPermission)(e)})},t.prototype.handleSyncPermissions=function(){var e=this.props,t=e.category,n=e.channel;null!=t&&R.default.push(N.default,{channel:n,category:t,onSync:function(){var e=t.guild_id,o=r({},t.permissionOverwrites);null!=e&&null==o[e]&&(o[e]=x.default.makeEveryoneOverwrite(e)),(0,A.saveChannel)(n.id,{permissionOverwrites:u.default.values(o)})}})},t}(i.PureComponent),Z=function(e){function t(){return Y(this,t),W(this,e.apply(this,arguments))}return z(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedOverwriteId,n=e.permissionOverwrites,o=e.channel,r=e.locked,l=n[t];return a(y.default,{className:V.default.container},void 0,i.createElement(J,this.props),a(q,{type:o.type,channel:o,overwrite:l,locked:r}))},t}(i.PureComponent);t.default=l.default.connectStores([P.default,k.default,D.default,F.default],function(){var e=k.default.channel,t=k.default.category;return{channel:e,category:t,canSyncChannel:null!=t&&F.default.can(j.Permissions.MANAGE_ROLES,t),permissionOverwrites:k.default.permissionOverwrites,selectedOverwriteId:k.default.selectedOverwriteId,isLockable:k.default.isLockable,locked:k.default.locked,guild:P.default.getGuild(e.getGuildId()),theme:D.default.theme}})(Z)},7008:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),a=l(n(6029)),r=l(n(26)),i=l(n(6675));function l(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.connectStores([a.default],function(){var e=a.default.getChannel();return{guild:r.default.getGuild(e.getGuildId()),channel:e}})(i.default),e.exports=t.default},7009:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=c(n(3)),r=c(n(6029)),i=c(n(31)),l=c(n(26)),s=c(n(144)),u=c(n(112)),d=c(n(6679)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=a.default.connectStores([r.default,s.default,u.default],function(){var e=r.default.getProps().channel;return o({guild:l.default.getGuild(e.getGuildId()),theme:i.default.theme,hide:s.default.hideInstantInvites,canCreateInvites:u.default.can(f.Permissions.CREATE_INSTANT_INVITE,e)},r.default.getInvites())})(d.default);t.default=p,e.exports=t.default},7010:function(e,t,n){e.exports=n.p+"9ad4d437577c5569dc231a787a5377f6.svg"},7011:function(e,t,n){e.exports=n.p+"bfffd518c76d3f6bc5e96eb52e4ae2cf.svg"},7012:function(e,t,n){e.exports=n.p+"c2c982c416a67d43d72d182f079a8d22.svg"},7013:function(e,t,n){e.exports=n.p+"58957d928db6fb9d4658eb882f33d7bc.svg"},7014:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsOverviewNotice=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=T(n(3)),l=T(n(8)),s=T(n(6)),u=T(n(234)),d=T(n(40)),f=n(520),c=T(n(939)),p=T(n(572)),h=T(n(940)),m=T(n(985)),y=T(n(6074)),v=n(6048),g=T(n(26)),_=T(n(6029)),E=T(n(31)),S=T(n(112)),b=(T(n(124)),n(370)),C=n(0);function T(e){return e&&e.__esModule?e:{default:e}}t.ChannelSettingsOverviewNotice=i.default.connectStores([_.default],function(){var e=_.default.getProps(),t=e.channel,n=e.submitting;return{channel:t,submitting:n,onReset:function(){(0,v.init)(t.id)},onSave:function(){var e=t.name,n=t.topic,o=t.bitrate,a=t.userLimit,r=t.nsfw,i=t.rateLimitPerUser;(0,v.saveChannel)(t.id,{name:e,topic:n,bitrate:o,userLimit:a,nsfw:r,rateLimitPerUser:i})}}})(y.default);var N=a(f.FormDivider,{className:"margin-top-40 margin-bottom-40"}),O=a(f.FormDivider,{className:"margin-top-40 margin-bottom-40"}),I=a(f.FormDivider,{className:"margin-top-40 margin-bottom-40"}),A=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(o,["handleChangeName","handleChangeTopic","handleChangeBitrate","handleUserLimitChange","handleNSFWChange","handleChangeSlowmode"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.getCooldownSliderMarker=function(e){return e>0?e.toLocaleString():s.default.Messages.FORM_LABEL_OFF},t.prototype.renderChannelInfo=function(){var e=this.props,t=e.channel,n=e.canManageChannels,o=void 0,r=void 0,i=void 0;t.type===C.ChannelTypes.GUILD_TEXT&&(o=a(f.FormItem,{title:s.default.Messages.FORM_LABEL_CHANNEL_TOPIC,className:"margin-top-20"},void 0,a(p.default,{placeholder:s.default.Messages.CHANNEL_TOPIC_EMPTY,value:u.default.translateSurrogatesToInlineEmoji(t.topic),onChange:this.handleChangeTopic,error:this.getError("topic"),maxLength:1024,disabled:!n})),i=a("div",{},void 0,N,a(f.FormItem,{title:s.default.Messages.FORM_LABEL_SLOWMODE},void 0,a(m.default,{className:"margin-top-20",defaultValue:t.rateLimitPerUser,markers:C.SLOWMODE_VALUES,stickToMarkers:!0,onValueChange:this.handleChangeSlowmode,onMarkerRender:this.getCooldownSliderMarker}),a(f.FormText,{type:f.FormText.Types.DESCRIPTION},void 0,s.default.Messages.FORM_HELP_SLOWMODE)),O),r=a("div",{},void 0,a(h.default,{note:s.default.Messages.FORM_HELP_NSFW,onChange:this.handleNSFWChange,value:t.isNSFW(),hideBorder:!0,disabled:!n},void 0,s.default.Messages.FORM_LABEL_NSFW_CHANNEL)));var l=void 0;return l=t.type===C.ChannelTypes.GUILD_CATEGORY?s.default.Messages.CATEGORY_NAME:s.default.Messages.FORM_LABEL_CHANNEL_NAME,a("div",{},void 0,a(f.FormItem,{title:l},void 0,a(c.default,{value:t.toString(),onChange:this.handleChangeName,error:this.getError("name"),autoFocus:!0,disabled:!n})),o,i,r)},t.prototype.renderBitrate=function(e){return Math.round(e/1e3)+"kbps"},t.prototype.renderVoiceBitrate=function(){var e=this.props,t=e.channel,n=e.guild,o=e.canManageChannels;if(t.type!==C.ChannelTypes.GUILD_VOICE)return null;var r=n&&n.hasFeature(C.GuildFeatures.VIP_REGIONS)?C.BITRATE_MAX_VIP:C.BITRATE_MAX;return a(d.default,{direction:d.default.Direction.VERTICAL,className:"margin-bottom-40"},void 0,a(f.FormTitle,{},void 0,s.default.Messages.FORM_LABEL_BITRATE),a(f.FormText,{type:f.FormTextTypes.DESCRIPTION,style:{color:C.Colors.STATUS_RED},className:"margin-bottom-8"},void 0,this.getError("bitrate")),a(m.default,{defaultValue:Math.min(t.bitrate,r),onValueChange:this.handleChangeBitrate,onValueRender:this.renderBitrate,onMarkerRender:this.renderBitrate,markers:[C.BITRATE_MIN,C.BITRATE_DEFAULT,r],minValue:C.BITRATE_MIN,maxValue:r,disabled:!o}),a(f.FormText,{type:f.FormTextTypes.DESCRIPTION},void 0,s.default.Messages.FORM_HELP_BITRATE.format({bitrate:C.BITRATE_DEFAULT/1e3})))},t.prototype.onRenderUserLimit=function(e){return 0===(e=Math.round(e))?s.default.Messages.NO_USER_LIMIT:s.default.Messages.NUM_USERS.format({num:e})},t.prototype.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.canManageChannels;return t.type!==C.ChannelTypes.GUILD_VOICE?null:a(d.default,{direction:d.default.Direction.VERTICAL},void 0,a(f.FormTitle,{},void 0,s.default.Messages.FORM_LABEL_USER_LIMIT),a(f.FormText,{type:f.FormTextTypes.DESCRIPTION,style:{color:C.Colors.STATUS_RED},className:"margin-bottom-8"},void 0,this.getError("user_limit")),a(m.default,{defaultValue:Math.min(t.userLimit,C.MAX_VOICE_USER_LIMIT),onValueChange:this.handleUserLimitChange,onValueRender:this.onRenderUserLimit,onMarkerRender:function(e){return 0===Math.round(e)?"":e},markers:[0,C.MAX_VOICE_USER_LIMIT],minValue:0,maxValue:C.MAX_VOICE_USER_LIMIT,disabled:!n}),a(f.FormText,{type:f.FormTextTypes.DESCRIPTION},void 0,s.default.Messages.FORM_HELP_USER_LIMIT.format()))},t.prototype.renderJuiceImage=function(){var e=this.props,t=e.theme,o=void 0;return o=e.channel.type===C.ChannelTypes.GUILD_CATEGORY?t===C.ThemeTypes.DARK?n(7013):n(7012):t===C.ThemeTypes.DARK?n(7011):n(7010),a(d.default,{justify:d.default.Justify.CENTER,className:"margin-top-60"},void 0,a("img",{alt:"",width:280,height:165,src:o}))},t.prototype.render=function(){var e=this.props,t=e.channel;if(null==e.guild)throw new Error("[ChannelSettingsOverview]: Guild prop is null, which it should never be");return a(f.FormSection,{className:"channel-settings-overview",tag:f.FormTitleTags.H2,title:s.default.Messages.OVERVIEW},void 0,this.renderChannelInfo(),t.type===C.ChannelTypes.GUILD_VOICE?I:null,this.renderVoiceBitrate(),this.renderUserLimit(),this.renderJuiceImage())},t.prototype.handleChangeName=function(e){this.props.channel.type===C.ChannelTypes.GUILD_TEXT&&(e=(0,b.sanitizeGuildTextChannelName)(e)),(0,v.updateChannel)({name:e})},t.prototype.handleChangeTopic=function(e){(0,v.updateChannel)({topic:u.default.translateInlineEmojiToSurrogates(e)})},t.prototype.handleChangeBitrate=function(e){(0,v.updateChannel)({bitrate:1e3*Math.round(e/1e3)})},t.prototype.handleUserLimitChange=function(e){(0,v.updateChannel)({userLimit:Math.round(e)})},t.prototype.handleNSFWChange=function(e){(0,v.updateChannel)({nsfw:e.currentTarget.checked})},t.prototype.handleChangeSlowmode=function(e){(0,v.updateChannel)({rateLimitPerUser:e})},t}(r.PureComponent);t.default=i.default.connectStores([_.default,E.default,S.default],function(){var e=_.default.getProps(),t=e.errors,n=e.channel;return{errors:t,channel:n,submitting:e.submitting,theme:E.default.theme,guild:g.default.getGuild(n.getGuildId()),canManageChannels:S.default.can(C.Permissions.MANAGE_CHANNELS,n)}})(A)},7015:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=L(n(3)),s=L(n(6)),u=L(n(6029)),d=L(n(6342)),f=L(n(112)),c=L(n(31)),p=L(n(18)),h=L(n(164)),m=L(n(67)),y=L(n(6133)),v=n(7014),g=L(v),_=L(n(7009)),E=L(n(7008)),S=n(7007),b=L(S),C=n(6025),T=L(n(79)),N=n(270),O=n(6048),I=L(n(38)),A=L(n(194)),M=n(143),R=n(6012),P=n(0),w=L(n(5721));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;A.default.trackWithMetadata(P.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"channel",origin_pane:t,destination_pane:e})}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){D(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.formState,n=e.section,o=this.props,a=o.formState,r=o.section,i=o.canManageRoles,l=o.canManageChannels,s=o.canManageWebhooks;!l&&!i&&!s||a===P.FormStates.CLOSED&&a!==t||!i&&r===P.ChannelSettingsSections.PERMISSIONS||!s&&r===P.ChannelSettingsSections.WEBHOOKS?(0,N.popLayer)():r!==n&&D(r,n)},t.prototype.render=function(){var e,t,n,o,l,f,c,p,A=this.props,L=A.theme,D=A.section;return r(y.default,{theme:L,section:D,onSetSection:O.setSection,onClose:N.popLayer,sections:(e=this.props,t=e.channel,n=e.category,o=e.canManageRoles,l=e.canManageChannels,f=e.canManageWebhooks,c=(0,C.getIconNameForChannel)(t),p=P.ChannelTypes.GUILD_CATEGORY,[{section:R.SectionTypes.HEADER,label:null!=t?r("span",{},void 0,null!=c?r(T.default,{name:c,width:11,height:11,className:w.default.channelIcon,background:w.default.background}):null,t.toString(),null!=n?r("span",{className:w.default.category},void 0,n.toString()):null):s.default.Messages.CHANNEL_SETTINGS},{section:P.ChannelSettingsSections.OVERVIEW,label:s.default.Messages.OVERVIEW,element:g.default,notice:{element:v.ChannelSettingsOverviewNotice,store:u.default}},{section:P.ChannelSettingsSections.PERMISSIONS,label:s.default.Messages.PERMISSIONS,element:b.default,type:R.ContentTypes.MINIMAL,notice:{element:S.ChannelSettingsPermissionsNotice,store:d.default},predicate:function(){return o}},{section:P.ChannelSettingsSections.INSTANT_INVITES,label:s.default.Messages.INVITES,element:_.default,type:R.ContentTypes.CUSTOM,predicate:function(){return t.type!==p&&l}},{section:P.ChannelSettingsSections.WEBHOOKS,label:s.default.Messages.WEBHOOKS,element:E.default,predicate:function(){return t.type!==p&&f}},{section:R.SectionTypes.DIVIDER},{section:P.ChannelSettingsSections.DELETE,onClick:function(){var e=t.toString();t.type!==P.ChannelTypes.GUILD_VOICE&&(e="#"+e),I.default.push(function(n){return i.createElement(h.default,a({},n,{header:s.default.Messages.DELETE_CHANNEL,cancelText:s.default.Messages.NO_TEXT,confirmText:s.default.Messages.YES_TEXT,onConfirm:function(){M.ComponentDispatch.subscribeOnce(P.ComponentActions.LAYER_POP_COMPLETE,function(){(0,O.deleteChannel)(t.id)}),(0,N.popLayer)()}}),r(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_CHANNEL_BODY.format({channelName:e})))})},label:t.type===p?s.default.Messages.DELETE_CATEGORY:s.default.Messages.DELETE_CHANNEL,color:P.Colors.STATUS_RED,predicate:function(){return l}}])})},t}(i.PureComponent),k=l.default.connectStores([u.default,c.default,f.default],function(){var e=u.default.getProps().channel;return{channel:e,category:p.default.getChannel(e.parent_id),canManageRoles:f.default.can(P.Permissions.MANAGE_ROLES,e),canManageChannels:f.default.can(P.Permissions.MANAGE_CHANNELS,e),canManageWebhooks:e.type===P.ChannelTypes.GUILD_TEXT&&f.default.can(P.Permissions.MANAGE_WEBHOOKS,e),formState:u.default.getFormState(),theme:c.default.theme,section:u.default.getSection()}})(U);k.onPop=O.close,t.default=k,e.exports=t.default},7016:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=O(n(43)),u=O(n(9)),d=O(n(3)),f=O(n(189)),c=O(n(5999)),p=O(n(57)),h=O(n(521)),m=n(143),y=O(n(6411)),v=O(n(7015)),g=O(n(6703)),_=O(n(7004)),E=O(n(6998)),S=O(n(965)),b=n(6996),C=n(270),T=n(0),N=O(n(5719));function O(e){return e&&e.__esModule?e:{default:e}}var I=((a={})[T.Layers.USER_SETTINGS]=y.default,a[T.Layers.CHANNEL_SETTINGS]=v.default,a[T.Layers.GUILD_SETTINGS]=g.default,a[T.Layers.VERIFICATION]=E.default,a[T.Layers.RTC_DEBUG]=_.default,a),A="HIDDEN",M=.93,R=1,P=0,w=1,L={friction:10,tension:100},D=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.setRef=function(e){o._ref=e},o.getRef=function(){return o._ref||{}};var a=R,r=w;return n.mode===A&&(a=M,r=P),o.state={animating:!1,scale:new f.default.Value(a),opacity:new f.default.Value(r)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.mode,n=e.mode;("SHOWN"===n&&t===A||n===A&&"SHOWN"===t)&&this.setState({animating:!0})},t.prototype.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return"SHOWN"===t&&n===A?this.animateIn():t===A&&"SHOWN"===n?this.animateUnder():void 0},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,o=n.opacity;n.scale.setValue(1.1),o.setValue(P),this.setState({animating:!0},function(){return t.animateIn(e)})},t.prototype.componentWillLeave=function(e){var t=this;this.setState({animating:!0},function(){return t.animateOut(e)})},t.prototype.animateIn=function(e){var t=this;d.default.Store.pauseEmittingChanges(500);var n=this.state,o=n.opacity,a=n.scale;f.default.parallel([f.default.spring(o,i({toValue:w},L)),f.default.spring(a,i({toValue:R},L))]).start(function(){return t.animateComplete(e)})},t.prototype.animateOut=function(e){d.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,o=t.scale,a=this.getRef().constructor.onPop;f.default.parallel([f.default.spring(n,i({toValue:P},L)),f.default.spring(o,i({toValue:1.1},L))]).start(function(){e(),a&&a(),m.ComponentDispatch.dispatch(T.ComponentActions.LAYER_POP_COMPLETE)})},t.prototype.animateUnder=function(){var e=this;d.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,o=t.scale;f.default.parallel([f.default.spring(n,i({toValue:P},L)),f.default.spring(o,i({toValue:M},L))]).start(function(){return e.animateComplete()})},t.prototype.animateComplete=function(e){this.setState({animating:!1},e)},t.prototype.render=function(){var e,t=this.state.animating,n=this.props.mode,o=t||n===A?this.getAnimatedStyle():null,a=l.cloneElement(l.Children.only(this.props.children),{ref:this.setRef});return r(f.default.div,{className:(0,u.default)(N.default.layer,(e={},e[N.default.animating]=t,e["stop-animations"]=n===A,e)),style:o},void 0,a)},t.prototype.getAnimatedStyle=function(){var e=this.state;return{opacity:e.opacity,transform:[{scale:e.scale},{translateZ:0}]}},t}(l.PureComponent),U=(0,s.default)({displayName:"Layers",mixins:[p.default,d.default.LazyStoreListenerMixin(S.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{layers:S.default.getLayers()}},componentDidMount:function(){var e=this.state.layers;m.ComponentDispatch.subscribe(T.ComponentActions.LAYER_POP_ESCAPE_KEY,C.popLayer),e[e.length-1]===T.Layers.USER_SETTINGS&&(c.default.enable(),c.default.enableTemp(b.SETTINGS_LAYERS_LAYOUT))},UNSAFE_componentWillUpdate:function(e,t){var n=this.state.layers.length>0,o=t.layers.length>0;!n&&o||o&&t.layers===this.state.layers&&t.layers[0]===T.Layers.USER_SETTINGS?t.layers[t.layers.length-1]!==T.Layers.VERIFICATION?c.default.enableTemp(b.SETTINGS_LAYERS_LAYOUT):c.default.disable():n&&!o&&c.default.disableTemp()},componentWillUnmount:function(){m.ComponentDispatch.unsubscribe(T.ComponentActions.LAYER_POP_ESCAPE_KEY,C.popLayer)},renderLayers:function(){var e=this,t=this.props.children,n=this.state.layers,o=n.length,a=[];return a.push(r(D,{mode:0===o?"SHOWN":A},"layer-base",t)),n.forEach(function(t,n){return a.push(e.renderComponent(t,n,o))}),a},renderComponent:function(e,t,n){return"string"==typeof e&&(e=I[e]),r(D,{mode:t===n-1?"SHOWN":A},"layer-"+t,r(e,{}))},render:function(){return r(h.default,{component:"div",className:(0,u.default)(N.default.layers,this.props.className)},void 0,this.renderLayers())}});t.default=U,e.exports=t.default},7017:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(8),l=(o=i)&&o.__esModule?o:{default:o};var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._animate=o._animate.bind(o),o._animationCleanup=o._animationCleanup.bind(o),o.state={shaking:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getDefaultAnimProps=function(e,t){var n=Date.now();return{duration:e||300,progress:0,last:n,intensity:t||5,lastDirection:-1,frameCount:0}},t.prototype.componentWillUnmount=function(){this._animationCleanup()},t.prototype.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t),this.state.shaking||this.setState({shaking:!0},this._animate)},t.prototype.stop=function(){this.state.shaking&&this.setState({shaking:!1})},t.prototype._animate=function(){var e=this.animProps;if(!this.state.shaking||e.progress>e.duration||!this.refs.SHAKEABLE_ELEMENT)this._animationComplete();else{var t=Date.now();if(e.progress+=t-e.last,e.last=t,e.frameCount%2){var n=e.lastDirection*e.intensity,o=l.default.random(-e.intensity,e.intensity,!0),a=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,a),e.lastDirection*=-1,this.refs.SHAKEABLE_ELEMENT.style.transform="translate3d("+n+"px,"+o+"px,0px)"}e.frameCount+=1,this._animationFrame=requestAnimationFrame(this._animate)}},t.prototype._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)},t.prototype._animationCleanup=function(){this.refs.SHAKEABLE_ELEMENT&&(this.refs.SHAKEABLE_ELEMENT.style.transform=""),cancelAnimationFrame(this._animationFrame)},t.prototype.render=function(){return r.createElement("div",a({},this.props,{ref:"SHAKEABLE_ELEMENT"}))},t}(r.Component);t.default=s,e.exports=t.default},7029:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=b(n(3)),r=n(100),i=b(n(25)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6362)),s=n(0),u=b(n(2)),d=b(n(20)),f=n(194),c=b(n(368)),p=b(n(18)),h=b(n(965)),m=b(n(58)),y=b(n(6361)),v=b(n(65)),g=b(n(225)),_=b(n(89)),E=b(n(226)),S=b(n(6207));function b(e){return e&&e.__esModule?e:{default:e}}var C="PictureInPictureVideoLocation",T={top:80,bottom:132,left:80,right:32},N=void 0,O=void 0;function I(e,t){null!=e&&d.default.track(s.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,o({video_layout:t?"pip":c.default.getLayout(e)},(0,f.collectVoiceAnalyticsMetadata)(e)))}function A(){null!=N&&y.default.has(N)&&(l.close(N),I(N,!1),N=null)}function M(){var e,t,n=E.default.getGuildId(),o=E.default.getChannelId(),a=v.default.getChannelId();m.default.supports(r.Features.VIDEO)&&!h.default.hasLayers()&&o!==a&&null!=o&&_.default.hasVideo(n,o)&&(null==n||S.default.isAvailable(n))?(N!==o&&A(),e=o,null==(t=p.default.getChannel(e))||y.default.has(e)||(l.open(t.id,s.PictureInPictureComponents.VIDEO,O,{channel:t},T),I(e,!0),N=e)):A()}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([v.default,g.default,E.default,_.default,h.default],M),O=i.default.get(C,s.PictureInPicturePositions.BOTTOM_RIGHT)},t}(a.default.Store);t.default=new R(u.default,{PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;t===N&&(O=n,i.default.set(C,n))}}),e.exports=t.default},7030:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(73),l=n(189),s=(o=l)&&o.__esModule?o:{default:o},u=n(0);var d=Math.pow(3,2),f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o._height=0,o._width=0,o._dragStart={x:0,y:0},o._offsetX=0,o._offsetY=0;var a=new s.default.Value(n.initialX),r=new s.default.Value(n.initialY);return o.state={dragging:!1,position:new s.default.ValueXY({x:a,y:r})},o.handleSetRef=o.handleSetRef.bind(o),o.handleMouseDown=o.handleMouseDown.bind(o),o.handleMouseMove=o.handleMouseMove.bind(o),o.handleMouseUp=o.handleMouseUp.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.animateToPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&this.grabDimensions();var r=this.translate(e,t);s.default.spring(this.state.position,a({toValue:{x:r.x,y:r.y}},n)).start(o)},t.prototype.setPosition=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.translate(e,t);n&&this.grabDimensions(),this.state.position.setValue({x:o.x,y:o.y})},t.prototype.grabDimensions=function(){var e=(0,i.findDOMNode)(this._ref);null!=e&&e instanceof Element&&(this._height=e.clientHeight,this._width=e.clientWidth)},t.prototype.translate=function(e,t){var n=this.props,o=n.maxX,a=n.maxY;return e<0?e=0:e>o-this._width&&(e=o-this._width),t<0?t=0:t>a-this._height&&(t=a-this._height),{x:e,y:t}},t.prototype.render=function(){var e=this.state,t=e.dragging,n=e.position,o=this.props,i=o.className,l=o.children,u=[0,1],d=["0px","1px"],f=s.default.accelerate(a({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:u,outputRange:d})},{translateY:n.y.interpolate({inputRange:u,outputRange:d})}]},this.props.style));return r.createElement(s.default.div,{ref:this.handleSetRef,className:i,onMouseDown:this.handleMouseDown,style:f},l)},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleMouseDown=function(e){var t=this.props,n=t.dragAnywhere,o=t.selector,a=this.state.position,r=e.target;e.button===u.MouseButtons.PRIMARY&&(n||null!=o&&r.matches(o))&&(this.grabDimensions(),this._dragStart={x:e.clientX,y:e.clientY},this._offsetX=e.clientX-a.x._value,this._offsetY=e.clientY-a.y._value,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},t.prototype.handleMouseMove=function(e){e.preventDefault();var t,n,o,a,r,i,l=this.props,s=l.onDragStart,u=l.onDrag,f=this.state,c=f.dragging,p=f.dragging;!c&&(t=this._dragStart,n={x:e.clientX,y:e.clientY},o=t.x,a=t.y,r=n.x,i=n.y,Math.pow(o-r,2)+Math.pow(a-i,2)>d)&&(c=!0),c&&(this.animateToPosition(e.clientX-this._offsetX,e.clientY-this._offsetY,{tension:80,friction:8},null,!1),this.setState({dragging:c},function(){p||s&&s(e.clientX,e.clientY),u&&u(e.clientX,e.clientY)}))},t.prototype.handleMouseUp=function(e){var t=this;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&this.setState({dragging:!1},function(){var n=t.props.onDragEnd;n&&n(e.clientX,e.clientY)})},t}(r.PureComponent);f.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,dragAnywhere:!1},t.default=f,e.exports=t.default},7031:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(73),s=p(n(9)),u=p(n(7030)),d=n(0),f=p(n(5724)),c=p(n(5559));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(n){h(this,t);var o=m(this,e.call(this,n));return o.ensureIsInPosition=o.ensureIsInPosition.bind(o),o.handleSetInnerDivRef=o.handleSetInnerDivRef.bind(o),o.handleSetDraggableRef=o.handleSetDraggableRef.bind(o),o.handleDragStart=o.handleDragStart.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o}return y(t,e),t.prototype.componentDidMount=function(){this.setPosition(this.props.position)},t.prototype.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY||this.ensureIsInPosition()},t.prototype.getPosition=function(e){var t=(0,l.findDOMNode)(this._innerDiv);if(null!=t&&t instanceof Element){var n=t.getBoundingClientRect();this._width=n.width,this._height=n.height}var o=this.props,a=o.edgeOffsetTop,r=o.edgeOffsetLeft,i=o.edgeOffsetBottom,s=o.edgeOffsetRight,u=a,f=window.innerHeight-i-this._height,c=r,p=window.innerWidth-s-this._width;switch(e){case d.PictureInPicturePositions.TOP_LEFT:return{y:u,x:c};case d.PictureInPicturePositions.BOTTOM_LEFT:return{y:f,x:c};case d.PictureInPicturePositions.TOP_RIGHT:return{y:u,x:p};default:return{y:f,x:p}}},t.prototype.setPosition=function(e){var t=this.getPosition(e),n=t.x,o=t.y;null!=this._draggable&&this._draggable.setPosition(n,o)},t.prototype.animateToPosition=function(e,t){var n=this.getPosition(e),o=n.x,a=n.y;null!=this._draggable&&this._draggable.animateToPosition(o,a,{},t)},t.prototype.ensureIsInPosition=function(){this.setPosition(this.props.position)},t.prototype.calculateDecayingPosition=function(e,t,n,o){return{x:e+200*n,y:t+200*o}},t.prototype.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,o=e.edgeOffsetRight;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return o}},t.prototype.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,o=e.edgeOffsetBottom;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.TOP_RIGHT:return-n;default:return o}},t.prototype.render=function(){var e=this.getXOffset(),t=this.getYOffset();return i.createElement(u.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:f.default.pictureInPictureWindow,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},i.createElement("div",{ref:this.handleSetInnerDivRef,className:c.default.elevationHigh,style:{x:e,y:t}},this.props.children))},t.prototype.handleSetInnerDivRef=function(e){this._innerDiv=e},t.prototype.handleSetDraggableRef=function(e){this._draggable=e},t.prototype.handleDragStart=function(e,t){this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},t.prototype.handleDrag=function(e,t){var n=new Date,o=n-this._lastMoveTime;this._velocityX=(e-this._lastMoveX)/o,this._velocityY=(t-this._lastMoveY)/o,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},t.prototype.handleDragEnd=function(e,t){var n=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),o=!0,a=!0;n.x>window.innerWidth/2&&(a=!1),n.y>window.innerHeight/2&&(o=!1);var r=void 0;if(r=o&&a?d.PictureInPicturePositions.TOP_LEFT:o&&!a?d.PictureInPicturePositions.TOP_RIGHT:!o&&a?d.PictureInPicturePositions.BOTTOM_LEFT:d.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(r,this.ensureIsInPosition),r!==this.props.position){var i=this.props,l=i.id,s=i.onMove;s&&s(l,r)}},t}(i.PureComponent),g=function(e){function t(){return h(this,t),m(this,e.apply(this,arguments))}return y(t,e),t.prototype.renderWindows=function(){var e=this.props,t=e.windows,n=e.maxX,o=e.maxY,l=e.onWindowMove,s=e.pictureInPictureComponents,u=[];for(var d in t){var f=t[d],c=f.component;"string"==typeof c&&s[c]&&(c=s[c].component);var p=f.offsets.top,h=f.offsets.bottom,m=f.offsets.left,y=f.offsets.right;u.push(r(v,{position:f.position,id:d,onMove:l,maxX:n,maxY:o,edgeOffsetTop:p,edgeOffsetBottom:h,edgeOffsetLeft:m,edgeOffsetRight:y},d,i.createElement(c,a({pipId:d,pipPosition:f.position},f.props))))}return u},t.prototype.render=function(){return r("div",{className:(0,s.default)(f.default.pictureInPicture,"theme-"+this.props.theme)},void 0,this.renderWindows())},t}(i.PureComponent);t.default=g,e.exports=t.default},7032:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(8)),r=d(n(2)),i=d(n(14)),l=d(n(368)),s=d(n(542)),u=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}var f=void 0,c=void 0;function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(null==f)t=null;else if(null==(t=l.default.getSelectedParticipantId(f))){var n=i.default.getId();t=(0,a.default)(l.default.getParticipants(f)).filter(function(e){var t=e.user,o=e.voiceState;return null!=o&&o.selfVideo&&t.id!==n}).sortBy(function(e){var t=e.user;return-s.default.getSpeakingDuration(t.id)}).map(function(e){return e.user.id}).first()}c!==t&&(c=t,e&&y.emitChange())}var h=a.default.debounce(p,300);function m(){return h(),!1}var y=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default,s.default),this.syncWith([l.default],m)},t.prototype.getSpeaker=function(e){return f!==e&&(f=e,p(!1)),null!=c?u.default.getUser(c):u.default.getCurrentUser()},t}(o.default.Store))(r.default,function(){return!1});t.default=y,e.exports=t.default},7033:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(521)),l=m(n(40)),s=m(n(142)),u=m(n(64)),d=m(n(79)),f=n(6378),c=m(n(87)),p=m(n(5725)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var y=a(l.default,{grow:1}),v=a(l.default,{grow:1}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTopLeft=function(){var e=this.props,t=e.channel,n=e.onJumpToChannel;return a(c.default,{className:p.default.channel,onClick:n},void 0,t.toString())},t.prototype.renderTopRight=function(){var e=this.props.onClose;return null!=e?a(c.default,{onClick:e,className:p.default.iconButtonWrapper},void 0,a(d.default,{name:d.default.Names.REMOVE,className:p.default.iconButton,foreground:p.default.iconButtonForeground})):null},t.prototype.renderScreenShareIcon=function(){var e=this.props,t=e.onStartScreenSharingWhenUnavailable,n=e.onStartScreenSharing,o=e.onChangeScreenSharing,r=e.isScreenShareAvailable,i=e.isScreenShareEnabled,l=void 0,f=void 0,c=void 0;return r?i?(l=o,f=p.default.iconButton,c=h.default.Messages.SCREEN_SHARE_OPTIONS):(l=n,f=p.default.iconButton,c=h.default.Messages.SCREEN_SHARE_ON):(l=t,f=p.default.iconButtonDisabled,c=h.default.Messages.SCREENSHARE_UNAVAILABLE),a(s.default,{text:c},void 0,a(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:l,className:p.default.iconButtonWrapper},void 0,a(d.default,{name:d.default.Names.SCREENSHARE,className:f,foreground:p.default.iconButtonForeground})))},t.prototype.renderVideoIcon=function(){var e=this.props,t=e.onEnableVideoWhenUnavailable,n=e.onEnableVideo,o=e.onDisableVideo,r=e.isVideoAvailable,i=e.isVideoEnabled,l=void 0,f=void 0,c=void 0,m=void 0;return r?i?(l=d.default.Names.VIDEO_CAMERA,f=o,c=p.default.iconButton,m=h.default.Messages.CAMERA_OFF):(l=d.default.Names.VIDEO_CAMERA_DISABLED,f=n,c=p.default.iconButton,m=h.default.Messages.CAMERA_ON):(l=d.default.Names.VIDEO_CAMERA,f=t,c=p.default.iconButtonDisabled,m=h.default.Messages.CAMERA_UNAVAILABLE),a(s.default,{text:m},void 0,a(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:f,className:p.default.iconButtonWrapper},void 0,a(d.default,{name:l,width:24,height:24,className:c,foreground:p.default.iconButtonForeground})))},t.prototype.renderBottomLeft=function(){return a(l.default,{align:l.default.Align.CENTER},void 0,this.renderScreenShareIcon(),this.renderVideoIcon())},t.prototype.renderOverlaySide=function(e,t,n){return a(l.default,{grow:0,className:n},void 0,a(l.default,{align:l.default.Align.CENTER,grow:0,className:p.default.overlayLeft},void 0,e),y,a(l.default,{align:l.default.Align.CENTER,grow:0,className:p.default.overlayRight},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.backgroundKey,o=e.onJumpToChannel;return a("div",{className:p.default.pictureInPictureVideo,onDoubleClick:o},void 0,a(i.default,{},void 0,a(f.BackgroundTransition,{},n,t)),a(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.overlay},void 0,this.renderOverlaySide(this.renderTopLeft(),this.renderTopRight(),p.default.overlayTop),v,this.renderOverlaySide(this.renderBottomLeft(),null,p.default.overlayBottom)))},t}(r.PureComponent);t.default=g,e.exports=t.default},7034:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(9)),s=u(n(5726));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={aStreamId:null,aReady:!1,bStreamId:n.streamId,bReady:!0},o.handleReady=o.handleReady.bind(o),o.handleDoubleClick=o.handleDoubleClick.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleReady=function(){this.state.aReady?this.setState({bReady:!0,aStreamId:null,aReady:!1}):this.setState({aReady:!0,bStreamId:null,bReady:!1})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state.aReady?e.streamId!==this.state.aStreamId&&(null==e.streamId?this.setState({bStreamId:e.streamId,bReady:!0,aStreamId:null,aReady:!1}):this.setState({bStreamId:e.streamId,bReady:!1})):e.streamId!==this.state.bStreamId&&(null==e.streamId?this.setState({aStreamId:e.streamId,aReady:!0,bStreamId:null,bReady:!1}):this.setState({aStreamId:e.streamId,aReady:!1}))},t.prototype.renderVideo=function(e,t){var n=this.props,o=n.children,l=n.mirror,u=n.component;if(null==e){if(null==o)return null;var d=i.Children.only(o);return i.cloneElement(d,r({style:{display:t&&!l?void 0:"none"}},d.props))}return a(u,{className:s.default.media,streamId:e,onReady:t?null:this.handleReady})},t.prototype.render=function(){var e,t=this.props,n=t.mirror,o=t.className;return a("div",{className:(0,l.default)(s.default.video,o,(e={},e[s.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,o=t.id;n&&n(e,o)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,o=t.id;n&&n(e,o)},t}(i.PureComponent);t.default=d,e.exports=t.default},7035:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(8)),s=R(n(3)),u=R(n(6)),d=n(100),f=R(n(369)),c=R(n(7034)),p=R(n(6155)),h=R(n(7033)),m=R(n(6156)),y=n(33),v=R(n(6154)),g=R(n(58)),_=R(n(1204)),E=R(n(7032)),S=R(n(14)),b=R(n(368)),C=R(n(364)),T=R(n(38)),N=R(n(5995)),O=n(270),I=R(n(6056)),A=n(0),M=R(n(41));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=P(this,e.call.apply(e,[this].concat(l))),o.handleEnableVideo=function(){C.default.setVideoEnabled(!0)},o.handleEnableVideoWhenUnavailable=function(){var e=o.props.isCameraGranted;T.default.push(function(t){return i.createElement(p.default,r({},t,{title:u.default.Messages.CAMERA_UNAVAILABLE,description:e?u.default.Messages.CAMERA_NO_DEVICE:u.default.Messages.CAMERA_NO_ACCESS,confirmText:e?u.default.Messages.OKAY:u.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:e?T.default.pop:o.handleEnableVideo}))})},o.handleDisableVideo=function(){C.default.setVideoEnabled(!1)},o.handleStartScreenSharing=function(){I.default.open(o.props.channel)},o.handleStartScreenSharingWhenUnavailable=function(){function e(){T.default.push(f.default,{source:"PiP Screenshare Unavailable"})}T.default.push(function(t){return i.createElement(p.default,r({},t,{title:u.default.Messages.SCREENSHARE_UNAVAILABLE,description:u.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},o.handleChangeScreenSharing=function(e){if(e.currentTarget instanceof Element){var t=o.props.channel;(0,y.openContextMenu)(e,function(e){return i.createElement(v.default,r({},e,{channel:t}))})}},o.handleJumpToChannel=function(){var e=o.props.channel;(0,O.popAllLayers)();var t=e.getGuildId()||A.ME;N.default.channelListScrollTo(t,e.id),M.default.transitionToGuild(t,e.id)},P(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.streamId,o=e.userOnScreen,r=e.isVideoAvailable,i=e.isVideoEnabled,l=e.isScreenShareAvailable,s=e.isScreenShareEnabled,u=o.id===S.default.getId()&&i&&!s;return a(h.default,{channel:t,backgroundKey:o.id,isVideoAvailable:r,isVideoEnabled:i,isScreenShareAvailable:l,isScreenShareEnabled:s,onEnableVideo:this.handleEnableVideo,onEnableVideoWhenUnavailable:this.handleEnableVideoWhenUnavailable,onDisableVideo:this.handleDisableVideo,onStartScreenSharing:this.handleStartScreenSharing,onStartScreenSharingWhenUnavailable:this.handleStartScreenSharingWhenUnavailable,onChangeScreenSharing:this.handleChangeScreenSharing,onJumpToChannel:this.handleJumpToChannel},void 0,a(c.default,{streamId:n,component:g.default.getMediaEngine().Video,mirror:u},void 0,a(m.default,{avatarSize:m.default.AvatarSizes.XXLARGE,user:o})))},t}(i.PureComponent);t.default=s.default.connectStores([E.default,b.default,_.default],function(e){var t=e.channel,n=E.default.getSpeaker(t.id),o=(0,l.default)(g.default.getVideoDevices()).values().first(),a=null==o||o.disabled,r=g.default.isEnabled();return{channel:t,streamId:null!=n?_.default.getStreamId(n.id):null,userOnScreen:n,isVideoAvailable:r||!1===a,isVideoEnabled:r&&!a&&g.default.isVideoEnabled(),isScreenShareEnabled:g.default.isScreenSharing(),isScreenShareAvailable:g.default.supports(d.Features.DESKTOP_CAPTURE),isCameraGranted:r}})(w),e.exports=t.default},7036:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=y(n(1)),l=m(n(3)),s=y(n(6362)),u=m(n(7035)),d=m(n(7031)),f=m(n(6361)),c=m(n(7029)),p=m(n(31)),h=m(n(191));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=((a={})[n(0).PictureInPictureComponents.VIDEO]={component:u.default,store:c.default},a),g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleWindowMove=o.handleWindowMove.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.windows,n=e.maxX,o=e.maxY,a=e.theme;return r(d.default,{pictureInPictureComponents:v,windows:t,maxX:n,maxY:o,theme:a,onWindowMove:this.handleWindowMove})},t.prototype.handleWindowMove=function(e,t){s.moveTo(e,t)},t}(i.PureComponent);t.default=l.default.connectStores([f.default,h.default,p.default],function(){var e=h.default.windowSize();return{windows:f.default.windows,maxX:e.width,maxY:e.height,theme:p.default.theme}})(g),e.exports=t.default},7037:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={move:function(e,t){r.default.dispatch({type:i.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}},e.exports=t.default},7038:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(64)),s=y(n(6377)),u=y(n(79)),d=y(n(40)),f=n(0),c=y(n(6)),p=y(n(946)),h=y(n(519)),m=y(n(5582));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAllActions=function(){var e=this.props,t=e.handleAcceptWithAudio,n=e.handleAcceptWithVideo;return a(r.Fragment,{},void 0,a(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:n,color:l.default.Colors.GREEN},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,a(u.default,{name:u.default.Names.VIDEO_CAMERA,className:m.default.actionIcon}),c.default.Messages.VIDEO)),a(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.GREEN},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,a(u.default,{name:u.default.Names.MICROPHONE,className:m.default.actionIcon}),c.default.Messages.VOICE)))},t.prototype.renderAudioOnlyActions=function(){var e=this.props.handleAcceptWithAudio;return a(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:e,color:l.default.Colors.GREEN},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,a(u.default,{name:u.default.Names.MICROPHONE,className:m.default.actionIcon}),c.default.Messages.JOIN_CALL))},t.prototype.renderActions=function(){var e=this.props,t=e.handleDeclineCall,n=e.supportsVideo,o=e.mode;return a("div",{className:(0,i.default)((0,i.default)(m.default.actionButtons,h.default.marginTop20))},void 0,n&&o===f.ChannelModes.VIDEO?this.renderAllActions():this.renderAudioOnlyActions(),a(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.TRANSPARENT},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,c.default.Messages.DECLINE)))},t.prototype.render=function(){var e=this.props,t=e.avatarUrl,n=e.channelId,o=e.channelName,r=e.mode,l=e.shouldAnimate,u=e.className;return a("div",{className:(0,i.default)(m.default.incomingCallInner,u)},void 0,a(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,a(s.default,{className:h.default.marginTop20,ringing:l,src:t||"",id:n}),a("div",{className:(0,i.default)(m.default.members,h.default.marginTop20)},void 0,o),a("div",{className:(0,i.default)(m.default.subtitle,h.default.marginTop8)},void 0,r===f.ChannelModes.VOICE?c.default.Messages.INCOMING_CALL_ELLIPSIS:c.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS),this.renderActions()))},t}(r.Component);t.default=v,e.exports=t.default},7039:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=D(n(43)),s=D(n(9)),u=D(n(3)),d=D(n(57)),f=D(n(8)),c=D(n(521)),p=D(n(189)),h=n(100),m=n(540),y=D(n(41)),v=D(n(7038)),g=D(n(6363)),_=D(n(31)),E=D(n(191)),S=D(n(144)),b=D(n(6364)),C=D(n(953)),T=D(n(368)),N=D(n(58)),O=D(n(7037)),I=D(n(287)),A=D(n(165)),M=(D(n(124)),D(n(971))),R=n(0),P=D(n(5727)),w=D(n(5582)),L=D(n(5559));function D(e){return e&&e.__esModule?e:{default:e}}var U=(0,l.default)({displayName:"IncomingCallModal",mixins:[u.default.LazyStoreListenerMixin(T.default),d.default,M.default],getInitialState:function(){return r({animate:new p.default.Value(0)},this.getStateFromStores())},getStateFromStores:function(){return{mode:T.default.getMode(this.props.channel.id)}},getSubscriptions:function(){var e;return(e={})[R.ComponentActions.CALL_ACCEPT]=this.handleAcceptWithAudio,e[R.ComponentActions.CALL_DECLINE]=this.handleDeclineCall,e},componentWillEnter:function(e){p.default.timing(this.state.animate,{toValue:1,duration:170,easing:p.default.Easing.inOut(p.default.Easing.back())}).start(e)},componentDidAppear:function(){this.state.animate.setValue(1)},componentWillLeave:function(e){p.default.timing(this.state.animate,{toValue:0,duration:170,easing:p.default.Easing.quad}).start(e)},getStyle:function(){var e=this.state.animate;return this.props.shouldAnimate?p.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:["0.7","1"]})}],opacity:e}):null},render:function(){var e=this.props,t=e.x,n=e.y,o=e.channel,r=e.shouldAnimate,l=o.getIconURL(),u=N.default.supports(h.Features.VIDEO);return a(g.default,{className:(0,s.default)(P.default.incomingCall,L.default.elevationHigh),selector:"."+w.default.incomingCallInner,initialPosition:{top:n,left:t},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:this.handleStop,dragAnywhere:!0},void 0,a(i.Fragment,{},void 0,a(p.default.div,{style:this.getStyle()},void 0,a(v.default,{avatarUrl:l,channelId:o.id,channelName:o.toString(),mode:this.state.mode,shouldAnimate:r,supportsVideo:u,handleDeclineCall:this.handleDeclineCall,handleAcceptWithAudio:this.handleAcceptWithAudio,handleAcceptWithVideo:this.handleAcceptWithVideo}))))},handleStop:function(e){var t=e.top,n=e.left;null!=t&&null!=n&&O.default.move(n,t)},handleDeclineCall:function(){I.default.stopRinging(this.props.channel.id)},handleAcceptWithAudio:function(){A.default.selectVoiceChannel(null,this.props.channel.id)},handleAcceptWithVideo:function(){var e=this.props.channel;A.default.selectVoiceChannel(null,e.id,!0),y.default.transitionToGuild(R.ME,e.id)}}),k=(0,l.default)({displayName:"IncomingCalls",mixins:[u.default.LazyStoreListenerMixin(b.default,S.default,E.default,_.default),d.default],getInitialState:function(){return r({ringingSound:(0,m.createSound)(500===f.default.random(1,1e3)?"call_ringing_beat":"call_ringing")},this.getStateFromStores())},getStateFromStores:function(){return{incomingCalls:b.default.getIncomingCalls(),ringing:b.default.hasIncomingCalls(),isFocused:E.default.isFocused(),disableSounds:S.default.disableSounds,theme:_.default.theme}},UNSAFE_componentWillUpdate:function(e,t){var n=t.ringing;this.state.ringing!==n&&(n?this.startRinging():this.stopRinging())},render:function(){var e=this.state,t=e.incomingCalls,n=e.isFocused,o=e.theme;return a(c.default,{component:"div",className:(0,s.default)("theme-"+o,P.default.container)},void 0,f.default.map(t,function(e){return i.createElement(U,r({key:e.channel.id,shouldAnimate:n},e))}))},startRinging:function(){this.state.disableSounds||C.default.isSoundDisabled("call_ringing")||this.state.ringingSound.loop()},stopRinging:function(){this.state.ringingSound.stop()}});t.default=k,e.exports=t.default},7040:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6));n(5583);var l=f(n(87)),s=f(n(192)),u=f(n(20)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.state={confirmed:!1},o.skipTheTips=function(){u.default.track(d.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:o.props.tutorialId}),null!=o.props.onSkipAll&&o.props.onSkipAll(),s.default.close(o.props.popoutKey)},o.close=function(){o.setState({confirmed:!0},function(){return s.default.close(o.props.popoutKey)})},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.default.track(d.AnalyticEvents.SHOW_TUTORIAL,{tutorial:this.props.tutorialId})},t.prototype.componentWillUnmount=function(){u.default.track(d.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.tutorialId,acknowledged:this.state.confirmed}),null!=this.props.onClose&&this.props.onClose(this.state.confirmed)},t.prototype.render=function(){var e=this.props.tutorialId.replace(/-/g,"_").toUpperCase();return a("div",{className:"tutorial-popout"},void 0,a("header",{className:"title-content"},void 0,a("div",{},void 0,i.default.Messages["TIP_"+e+"_TITLE"])),a("section",{},void 0,a("span",{className:"content"},void 0,i.default.Messages["TIP_"+e+"_BODY"].format()),a("div",{className:"button-area"},void 0,a("div",{className:"skip-tips"},void 0,i.default.Messages.TUTORIAL_SKIP.format({onSkipClick:this.skipTheTips})),a(l.default,{className:"button",onClick:this.close},void 0,i.default.Messages.TUTORIAL_CLOSE))))},t}(r.PureComponent);p.defaultProps={tutorialId:null,onClose:null,onSkipAll:null},t.default=p,e.exports=t.default},7041:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(73),u=E(n(3)),d=E(n(9)),f=E(n(8)),c=E(n(6209)),p=E(n(191)),h=E(n(951)),m=E(n(965)),y=E(n(6427)),v=E(n(6428)),g=E(n(7040)),_=E(n(223));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5583);var T=function(e){function t(n){S(this,t);var o=b(this,e.call(this,n));return o.state={offsetX:null,offsetY:null,definition:v.default[o.props.tutorialId]},f.default.bindAll(o,["handlePopoutRef","handleSkipTips","handlePopoutClose","renderTutorialPopout"]),o}return C(t,e),t.prototype.componentDidMount=function(){this.updateCache()},t.prototype.componentDidUpdate=function(e){var t=e.tutorialId,n=e.x,o=e.y,a=e.targetWidth,r=e.targetHeight,i=e.position,l=e.offset,s=e.offsetPercent;this.props.tutorialId===t&&this.props.x===n&&this.props.y===o&&this.props.targetWidth===a&&this.props.targetHeight===r&&this.props.position===i&&this.props.offset.x===l.x&&this.props.offset.y===l.y&&this.props.offsetPercent.x===s.x&&this.props.offsetPercent.y===s.y||this.updateCache()},t.prototype.updateCache=function(){var e=(0,s.findDOMNode)(this),t=e.offsetWidth,n=e.offsetHeight,o={offsetX:(this.props.targetWidth-t)/2,offsetY:(this.props.targetHeight-n)/2};switch(this.props.position){case"left":o.offsetX=0,o.offsetY=this.props.targetHeight/2;break;case"right":o.offsetX=this.props.targetWidth,o.offsetY=this.props.targetHeight/2;break;case"bottom":o.offsetX=this.props.targetWidth/2,o.offsetY=this.props.targetHeight;break;case"top":default:o.offsetX=this.props.targetWidth/2,o.offsetY=0}var a=this.props.offset.x?this.props.offset.x:0,r=this.props.offset.y?this.props.offset.y:0,i=this.props.offsetPercent.x?this.props.offsetPercent.x:0,l=this.props.offsetPercent.y?this.props.offsetPercent.y:0;o.offsetX+=a+i/100*this.props.targetWidth,o.offsetY+=r+l/100*this.props.targetHeight,this.setState(o)},t.prototype.handlePopoutRef=function(e){var t=this;this._popout=e,null!=e&&this.props.autoOpen&&o(function(){t._popout&&t._popout.open()})},t.prototype.handleSkipTips=function(){y.default.suppressAll()},t.prototype.handlePopoutClose=function(e){e&&y.default.dismiss(this.props.tutorialId)},t.prototype.renderTutorialPopout=function(e){return l.createElement(g.default,i({},e,{tutorialId:this.props.tutorialId,onSkipAll:this.handleSkipTips,onClose:this.handlePopoutClose}))},t.prototype.render=function(){var e={left:null===this.state.offsetX?null:this.props.x+this.state.offsetX,top:null===this.state.offsetY?null:this.props.y+this.state.offsetY},t=this.props.visible,n=!0!==this.state.definition.highPriority?null:r("div",{},void 0,r("div",{className:(0,d.default)("top",{animating:t,"not-animating":!t})}),r("div",{className:(0,d.default)("bottom",{animating:t,"not-animating":!t})})),o={animating:t,"not-animating":!t,highPriority:this.state.definition.highPriority};return l.createElement(_.default,{render:this.renderTutorialPopout,position:this.state.definition.popoutPosition,backdrop:!0,uniqueId:this.props.tutorialId,ref:this.handlePopoutRef},r("div",{className:"indicator",style:e},void 0,r("div",{className:(0,d.default)("animation-container",o)},void 0,n,r("div",{className:(0,d.default)("inner-circle",o)}),r("div",{className:(0,d.default)("outer-circle",o)}))))},t}(l.PureComponent),N=u.default.connectStores([c.default,m.default,p.default,h.default],function(){return{indicators:c.default.getIndicators(),shouldShowAny:c.default.shouldShowAnyIndicators()&&!m.default.hasLayers(),isFocused:p.default.isFocused()}})(function(e){function t(){return S(this,t),b(this,e.apply(this,arguments))}return C(t,e),t.prototype.render=function(){var e=this.props,t=e.indicators,n=e.shouldShowAny,o=e.isFocused;return n?r("div",{className:"tutorial-indicators"},void 0,f.default.map(t,function(e,t){return l.createElement(T,i({key:t,tutorialId:t,visible:o&&!h.default.isOpen(t)},e))})):null},t}(l.Component));t.default=N,e.exports=t.default}).call(this,n(35).setImmediate)},7042:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=A(n(43)),r=A(n(57)),i=A(n(3)),l=A(n(8)),s=A(n(14)),u=A(n(58)),d=A(n(89)),f=A(n(226)),c=A(n(542)),p=A(n(65)),h=A(n(225)),m=A(n(376)),y=A(n(68)),v=A(n(27)),g=A(n(44)),_=A(n(6372)),E=A(n(6033)),S=A(n(20)),b=n(194),C=A(n(18)),T=A(n(128)),N=n(0),O=n(113),I=A(n(274));function A(e){return e&&e.__esModule?e:{default:e}}var M=(0,a.default)({displayName:"AutoAnalytics",mixins:[i.default.StoreListenerMixin(u.default,c.default,p.default,y.default,h.default,_.default,E.default,f.default,I.default),r.default],getStateFromStores:function(){var e=p.default.getVoiceChannelId(),t=null,n=null;if(e){var o=C.default.getChannel(e);null!=o&&(t=o.getGuildId(),n=o.type)}var a=I.default.getPrimaryActivity(),r=y.default.getCurrentGame();return{selectedChannelId:p.default.getChannelId(),selectedGuildId:h.default.getGuildId(),friendsTabSection:_.default.getState().section,homeLink:E.default.getHomeLink(),connected:m.default.isConnected(),selfMute:u.default.isSelfMute(),selfDeaf:u.default.isSelfDeaf(),videoEnabled:u.default.isVideoEnabled(),isScreenSharing:u.default.isScreenSharing(),currentUserSpeaking:c.default.isCurrentUserSpeaking(),currentUserPrioritySpeaking:c.default.isCurrentUserPrioritySpeaking(),anyoneSpeaking:c.default.isAnyoneSpeaking(),anyonePrioritySpeaking:c.default.isAnyonePrioritySpeaking(),voiceChannelId:e,voiceChannelIdJoined:f.default.getChannelId(),voiceChannelGuildId:t,voiceChannelType:n,runningGame:null!=r?r.gameName:null,runningGamePid:null!=r?r.pid:null,gamePlatform:(0,O.getGamePlatform)(a),gameName:null!=a?a.name:null,gameId:null!=a?a.application_id:null}},componentDidMount:function(){var e=this.state,t=e.selectedChannelId;e.connected&&null!=t&&(0,b.trackWithMetadata)(N.AnalyticEvents.CHANNEL_OPENED)},componentDidUpdate:function(e,t){var n=this.state,a=n.voiceChannelId,r=n.voiceChannelIdJoined,i=n.voiceChannelGuildId,l=n.voiceChannelType,s=n.videoEnabled,d=n.isScreenSharing,c=n.anyoneSpeaking,p=n.runningGame,h=n.runningGamePid,m=n.selectedChannelId,_=n.selectedGuildId,E=n.connected,C=n.homeLink,O=n.friendsTabSection,I=n.currentUserPrioritySpeaking;if(t.currentUserSpeaking!==this.state.currentUserSpeaking&&this.state.currentUserSpeaking&&(0,b.trackWithMetadata)(N.AnalyticEvents.START_SPEAKING,o({mode:u.default.getMode(),priority:I,channel:a,server:i,channel_id:a,guild_id:i},this.getGameMetadata())),t.voiceChannelId!==a&&null!=t.voiceChannelId){var A=y.default.getCurrentGame(),M=null!=A?A.gameName:"";S.default.track(N.AnalyticEvents.LEAVE_VOICE_CHANNEL,o({channel_id:t.voiceChannelId,channel_type:t.voiceChannelType,guild_id:t.voiceChannelGuildId,rtc_connection_id:f.default.getRTCConnectionId(),game_name:M,duration:f.default.getDuration(),game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,b.getVoiceStateMetadata)(t.voiceChannelGuildId,t.voiceChannelId,t.videoEnabled||t.isScreenSharing)))}if(t.voiceChannelIdJoined!==r&&null!=r){var R=y.default.getCurrentGame(),P=null!=R?R.gameName:"";null!=r&&S.default.track(N.AnalyticEvents.JOIN_VOICE_CHANNEL,o({channel_id:a,channel_type:l,guild_id:i,rtc_connection_id:f.default.getRTCConnectionId(),game_name:P,game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,b.getVoiceStateMetadata)(i,a,s||d)))}if(t.anyoneSpeaking!==c&&c&&this.trackStartListening(),t.runningGame!==p&&null!=p){var w=v.default.getGameByName(p),L=null!=w?g.default.getLibraryApplication(w.id):null;if(S.default.track(N.AnalyticEvents.LAUNCH_GAME,{game:p,game_id:null==w?null:w.id,verified:null!=w,game_platform:N.AnalyticsGamePlatforms.DESKTOP,distributor:null!=L?L.getDistributor():null}),v.default.shouldReport(p)){var D=p,U=h;T.default.identifyGame(U,D).then(function(e){return T.default.reportUnverifiedGame(e)}).catch(function(e){return console.error(e)})}}if((t.videoEnabled!==s||t.isScreenSharing!==d)&&a){var k="none",F=void 0,x=void 0,G=void 0,B=void 0,j=void 0;if(d){k="screen";var V=u.default.getDesktopSource();null!=V&&(F=V.resolution,x=V.frameRate,G=V.soundshareSession,B=y.default.getGameNameForPid(V.sourcePid),j=y.default.getGameIdForPid(V.sourcePid))}else s&&(k="camera");S.default.track(N.AnalyticEvents.VIDEO_INPUT_TOGGLED,o({video_input_type:k,video_input_resolution:F,video_input_frame_rate:x,soundshare_session:G,share_game_name:B,share_game_id:j},this.getGameMetadata(),(0,b.collectVoiceAnalyticsMetadata)(a)))}!E||null==_||_===t.selectedGuildId&&t.connected?!E||null!=_||C!==N.Routes.FRIENDS||t.connected&&O===t.friendsTabSection&&C===t.homeLink||S.default.track(N.AnalyticEvents.FRIENDS_LIST_VIEWED,{tab_opened:O}):(0,b.trackWithMetadata)(N.AnalyticEvents.GUILD_VIEWED),!E||null==m||m===t.selectedChannelId&&t.connected||(0,b.trackWithMetadata)(N.AnalyticEvents.CHANNEL_OPENED)},trackStartListening:function(){var e=this;if(null!=this.state.voiceChannelId&&!u.default.isDeaf()){var t=d.default.getVoiceStates(f.default.getGuildId());(0,l.default)(c.default.getSpeakers()).keys().filter(function(e){return e!==s.default.getId()}).map(function(e){return t[e]}).some(function(t){return t&&t.channelId===e.state.voiceChannelId})&&(0,b.trackWithMetadata)(N.AnalyticEvents.START_LISTENING,o({mute:u.default.isMute(),anyone_priority:this.state.anyonePrioritySpeaking,channel:this.state.voiceChannelId,server:this.state.voiceChannelGuildId,channel_id:this.state.voiceChannelId,guild_id:this.state.voiceChannelGuildId},this.getGameMetadata()))}},getGameMetadata:function(){return{game_platform:this.state.gamePlatform,game_name:this.state.gameName,game_id:this.state.gameId}},render:function(){return null}});t.default=M,e.exports=t.default},7043:function(e,t,n){"use strict";t.__esModule=!0;var o=g(n(1)),a=v(n(3)),r=v(n(8)),i=g(n(540)),l=n(0),s=v(n(58)),u=v(n(226)),d=v(n(542)),f=v(n(89)),c=v(n(12)),p=v(n(26)),h=v(n(18)),m=v(n(65)),y=v(n(953));function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.selfDeaf!==this.props.selfDeaf?this.playSound(this.props.selfDeaf?"deafen":"undeafen"):e.selfMute!==this.props.selfMute&&this.playSound(this.props.selfMute?"mute":"unmute"),e.voiceDisconnected||e.voiceDisconnected===this.props.voiceDisconnected||this.playSound("disconnect"),e.speaking!==this.props.speaking&&(s.default.getMode()!==l.InputModes.PUSH_TO_TALK||this.props.selfMute||this.playSound(this.props.speaking?"ptt_start":"ptt_stop")),e.tempMuted!==this.props.tempMuted&&(s.default.getMode()!==l.InputModes.VOICE_ACTIVITY||this.props.selfMute||this.playSound(this.props.tempMuted?"ptt_stop":"ptt_start")),e.voiceChannelId===this.props.voiceChannelId){var t=e.voiceChannelUserCount||0,n=this.props.voiceChannelUserCount||0;t>n?!this.isAFK()&&this.playSound("user_leave"):t<n&&!this.isAFK()&&this.playSound("user_join")}this.props.userHasBeenMovedVersion!==e.userHasBeenMovedVersion&&this.playSound("user_moved")},t.prototype.isAFK=function(){var e=h.default.getChannel(this.props.voiceChannelId);if(null==e)return!1;var t=e.getGuildId();if(null==t)return!1;var n=p.default.getGuild(t);return null!=n&&n.afkChannelId===e.id},t.prototype.playSound=function(e){y.default.isSoundDisabled(e)||i.playSound(e,.4)},t.prototype.render=function(){return null},t}(o.PureComponent);t.default=a.default.connectStores([s.default,u.default,d.default,f.default,m.default],function(){var e=m.default.getVoiceChannelId(),t=0;if(null!=e){var n=h.default.getChannel(e),o=c.default.getCurrentUser();null!=n&&null!=o&&r.default.forEach(f.default.getVoiceStates(n.getGuildId()),function(n,a){a!==o.id&&n.channelId===e&&t++})}return{userHasBeenMovedVersion:f.default.userHasBeenMovedVersion,selfMute:s.default.isSelfMute(),selfDeaf:s.default.isSelfDeaf(),voiceDisconnected:u.default.isDisconnected(),speaking:d.default.isCurrentUserSpeaking(),tempMuted:s.default.isSelfMutedTemporarily(),voiceChannelId:e,voiceChannelUserCount:t}})(_),e.exports=t.default},7044:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=v(n(166)),r=v(n(3)),i=v(n(11)),l=v(n(226)),s=v(n(58)),u=v(n(542)),d=v(n(6003)),f=v(n(59)),c=v(n(6060)),p=v(n(953)),h=v(n(522)),m=v(n(364)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),_=i.default.isOSX(),E=i.default.isLinux(),S=_?null:g.DEFAULT,b=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={icon:S},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._updateIcon=function(e){var t=e.deafened,n=e.muted,o=e.speaking,a=e.connected,r=e.unread,i=S;if(!_||a){if(E||!a)return r&&(i=g.UNREAD),void this.setState({icon:i});i=t?g.DEAFENED:n?g.MUTED:o?g.SPEAKING:g.CONNECTED,this.setState({icon:i})}else this.setState({icon:i})},t.prototype.componentDidMount=function(){this._updateIcon(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._updateIcon(e)},t.prototype.componentDidUpdate=function(){i.default.setSystemTrayIcon(this.state.icon)},t.prototype.componentWillUnmount=function(){i.default.setSystemTrayIcon(_?null:S)},t.prototype.render=function(){return null},t}(o.PureComponent),C=function(){return null};i.default.embedded&&(i.default.on("SYSTEM_TRAY_TOGGLE_MUTE",m.default.toggleSelfMute),i.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",m.default.toggleSelfDeaf),i.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",function(){h.default.open(y.UserSettingsSections.VOICE)}),C=r.default.connectStores([l.default,s.default,u.default,d.default,f.default,c.default,p.default],function(){var e=d.default.getTotalMentionCount(),t=d.default.hasAnyUnread(),n=f.default.getPendingCount(),o=c.default.getSuggestionCount(),a=!p.default.getDisableUnreadBadge()&&!!(t||e+n+o>0);return{connected:l.default.isConnected(),speaking:u.default.isCurrentUserSpeaking(),muted:!s.default.isEnabled()||s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:a}})(b)),t.default=C,e.exports=t.default},7046:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=h(n(45)),r=h(n(7045)),i=h(n(3)),l=h(n(11)),s=h(n(6003)),u=h(n(6364)),d=h(n(59)),f=h(n(6060)),c=h(n(953)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=new Set(["Blink","Gecko","WebKit"]),y=p.NOOP,v=p.NOOP;if(l.default.embedded)v=function(e){return l.default.setBadgeDeprecated(e)},y=function(e){return l.default.setBadge(e)};else if(m.has(a.default.layout)){var g=new r.default({animation:"none"});y=v=function(e){try{g.badge(-1===e?"":e)}catch(e){}}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.cancelBounce=null,o.supportsNewBadges=l.default.supportsFeature("new_app_badge"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;this.supportsNewBadges?y(t):v(t),n&&!this.cancelBounce?this.cancelBounce=l.default.bounceDock("critical"):!n&&this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.componentWillUnmount=function(){y(0),this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.render=function(){return null},t}(o.PureComponent),E=function(){return null};y!==p.NOOP&&(E=i.default.connectStores([s.default,u.default,d.default,f.default,c.default],function(){var e=s.default.getTotalMentionCount(),t=d.default.getPendingCount(),n=f.default.getSuggestionCount(),o=s.default.hasAnyUnread(),a=c.default.getDisableUnreadBadge(),r=e+t+n;return 0===r&&o&&!a&&(r=-1),{badge:r,hasIncomingCalls:u.default.hasIncomingCalls()}})(_)),t.default=E,e.exports=t.default},7047:function(e,t,n){"use strict";t.__esModule=!0;var o=p(n(12)),a=p(n(6236)),r=p(n(6235)),i=p(n(6077)),l=p(n(6611)),s=p(n(38)),u=p(n(949)),d=p(n(6)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6011)),c=p(n(536));function p(e){return e&&e.__esModule?e:{default:e}}var h={promptToUpload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(f.anyFileTooLarge(e)){var h=o.default.getCurrentUser();s.default.push(i.default,{title:d.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:d.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:f.sizeString(f.maxFileSize())}),promo:!c.default.canUploadLargeFiles(h)})}else p?(a.default.pushFiles({files:e,channelId:t}),u.default.isModalOpen(l.default)||s.default.push(l.default,{backdropInstant:n})):r.default.instantBatchUpload(t,e)}};t.default=h,e.exports=t.default},7048:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),N(n(43))),i=N(n(73)),l=N(n(57)),s=N(n(3)),u=N(n(9)),d=n(0),f=N(n(6088)),c=N(n(65)),p=N(n(225)),h=N(n(230)),m=N(n(18)),y=N(n(965)),v=N(n(38)),g=N(n(949)),_=N(n(6)),E=N(n(7047)),S=N(n(967)),b=N(n(6077)),C=N(n(5568)),T=N(n(5585));function N(e){return e&&e.__esModule?e:{default:e}}var O=(0,r.default)({displayName:"UploadArea",mixins:[s.default.StoreListenerMixin(m.default,y.default,c.default,p.default),h.default,l.default,E.default,S.default],getInitialState:function(){return{dragging:!1,requireConfirm:!0}},getStateFromStores:function(){return{hasLayers:y.default.hasLayers(),channel:c.default.getChannelId()&&m.default.getChannel(c.default.getChannelId())}},componentDidMount:function(){document.body.addEventListener("dragover",this.handleDragOver,!1),document.body.addEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("drop",this.handleDrop,!1)},componentWillUnmount:function(){document.body.removeEventListener("dragover",this.handleDragOver,!1),document.body.removeEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("drop",this.handleDrop,!1)},render:function(){var e,t=this.state.dragging&&this.canDropFile(),n=_.default.Messages.UPLOAD_AREA_TITLE;this.state.requireConfirm||(n=_.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION);var o=null;return t&&(o=a("div",{},void 0,a("div",{className:(0,u.default)(T.default.sparkleWhite,C.default.sparkleOne)}),a("div",{className:(0,u.default)(T.default.sparkleWhite,C.default.sparkleTwo)}),a("div",{className:(0,u.default)(T.default.lightWhite,C.default.lightOne)}),a("div",{className:(0,u.default)(T.default.lightWhite,C.default.lightTwo)}),a("div",{className:(0,u.default)(T.default.crossWhite,C.default.crossOne)}),a("div",{className:(0,u.default)(T.default.crossWhite,C.default.crossTwo)}),a("div",{className:(0,u.default)(T.default.popWhite,C.default.popOne)}))),a("div",{className:(0,u.default)(C.default.uploadArea,(e={},e[C.default.uploadModalIn]=t,e))},void 0,a("div",{className:C.default.uploadDropModal},void 0,o,a("div",{className:C.default.bgScale}),a("div",{className:C.default.inner},void 0,a("div",{className:C.default.icons},void 0,a("div",{className:C.default.wrapOne},void 0,a("div",{className:(0,u.default)(C.default.icon,C.default.one)})),a("div",{className:C.default.wrapThree},void 0,a("div",{className:(0,u.default)(C.default.icon,C.default.three)})),a("div",{className:C.default.wrapTwo},void 0,a("div",{className:(0,u.default)(C.default.icon,C.default.two)}))),a("div",{className:C.default.title},void 0,n),a("div",{className:C.default.instructions},void 0,a("pre",{},void 0,_.default.Messages.UPLOAD_AREA_HELP)))))},canDropFile:function(){var e=this.state,t=e.channel,n=e.hasLayers;return t&&!n&&(t.isPrivate()&&!t.isManaged()||this.can(d.Permissions.ATTACH_FILES,this.state.channel)&&f.default.canChatInGuild(p.default.getGuildId()))},isAllDropFiles:function(e){for(var t=0;t<e.length;t++)try{var n=e[t].webkitGetAsEntry()||e[t].getAsEntry();if(n&&!n.isFile)return!1}catch(e){continue}return!0},dragOverTimeout:null,preventUnwantedDrop:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.dataTransfer,o=n.types instanceof Array&&-1!==n.types.indexOf("text/uri-list")&&-1===n.types.indexOf("application/json"),a=null!=n.items&&!this.isAllDropFiles(n.items);return!o&&!a||(e.stopPropagation(),e.preventDefault(),n.effectAllowed="none",n.dropEffect="none",t&&(this.setState({dragging:!1}),v.default.push(b.default,{title:_.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:_.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP})),!1)},handleDragOver:function(e){var t=this;if(!this.preventUnwantedDrop(e))return!1;e.dataTransfer.dropEffect="move";var n=g.default.getModal();n&&n.modal===b.default&&v.default.pop(),e.stopPropagation(),e.preventDefault(),this.state.dragging?this.state.dragging&&e.shiftKey!==!this.state.requireConfirm&&this.setState({requireConfirm:!e.shiftKey}):(e.dataTransfer.types instanceof DOMStringList&&e.dataTransfer.types.contains("application/x-moz-file")||e.dataTransfer.types instanceof Array&&-1!==e.dataTransfer.types.indexOf("Files"))&&this.setState(function(t){return t.dragging?{}:{dragging:!0,requireConfirm:!e.shiftKey}}),this.clearTimeout(this.dragOverTimeout),this.dragOverTimeout=this.setTimeout(function(){t.setState({dragging:!1,requireConfirm:!0})},1e3)},handleDragLeave:function(e){this.state.dragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())},clearDragging:function(){this.setState({dragging:!1,requireConfirm:!0})},handleDrop:function(e){if(!this.preventUnwantedDrop(e,!0))return!1;this.state.dragging&&(e.preventDefault(),e.stopPropagation(),this.canDropFile()&&this.promptToUpload(e.dataTransfer.files,this.state.channel.id,!0,this.state.requireConfirm),this.clearDragging())}});t.default=O,e.exports=t.default},7049:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(9)),l=_(n(523)),s=_(n(263)),u=_(n(40)),d=_(n(87)),f=_(n(79)),c=_(n(223)),p=_(n(163)),h=_(n(142)),m=_(n(970)),y=_(n(6)),v=n(0),g=_(n(5729));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=5,b=4,C=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=E(this,e.call.apply(e,[this].concat(l))),o.renderPartyMember=function(e,t){if(null==e)return null;var n=o.props,r=n.host,l=n.renderUserPopout,u=n.onUserContextMenu,d=void 0;d=r.id===e.id?y.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:y.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;var f=a(s.default,{src:e.getAvatarURL("png"),size:s.default.Sizes.XSMALL,className:(0,i.default)(g.default.clickable,t),onContextMenu:function(t){return null!=u&&null!=e&&u(t,e)}},e.id);return d&&(f=a(h.default,{text:d},void 0,f)),f=a(c.default,{render:function(t){return null!=e&&l(t,e)}},e.id,f)},o.renderPartyMemberOverflow=function(e,t,n){var r=o.props.renderOverflowPopout;return a(c.default,{render:r},n,a(h.default,{text:y.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,a("div",{className:(0,i.default)(t,g.default.clickable)},void 0,e)))},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===n.id},t.prototype.renderTitle=function(){return a("div",{className:g.default.textWrap},void 0,a("div",{className:g.default.title},void 0,this.isHost()?y.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):y.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),a("div",{className:g.default.subtitle},void 0,y.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))},t.prototype.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:a(h.default,{text:y.default.Messages.SPOTIFY_LISTEN_ALONG_STOP},void 0,a(d.default,{onClick:e},void 0,a(f.default,{name:f.default.Names.CLOSE,className:g.default.actionIcon})))},t.prototype.renderHelpIcon=function(){return this.isHost()?a(h.default,{text:y.default.Messages.SPOTIFY_LISTEN_ALONG_INFO},void 0,a(p.default,{href:l.default.getArticleURL(v.HelpdeskArticles.SPOTIFY_CONNECTION),className:g.default.iconLink},void 0,a(f.default,{name:f.default.Names.INFO,className:g.default.actionIcon}))):null},t.prototype.render=function(){return a("div",{className:g.default.listeningAlong},void 0,this.renderTitle(),a(u.default,{justify:u.default.Justify.END,className:g.default.party},void 0,a(m.default,{users:this.props.party,max:this.isHost()?S:b,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),a("div",{className:g.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))},t}(r.PureComponent);t.default=C,e.exports=t.default},7050:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=C(n(1)),l=b(n(8)),s=b(n(3)),u=n(143),d=b(n(288)),f=b(n(12)),c=b(n(59)),p=b(n(568)),h=C(n(390)),m=b(n(7049)),y=b(n(6270)),v=n(33),g=b(n(942)),_=b(n(531)),E=b(n(6)),S=n(0);function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=T(this,e.call.apply(e,[this].concat(s))),o.handleUserContextMenu=function(e,t){(0,v.openContextMenu)(e,function(e){return i.createElement(g.default,r({},e,{type:S.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},o.renderOverflowPopout=function(){var e=o.props.party;return o.hasParty(e)?a(y.default,{party:e,header:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})}):null},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.hasParty(this.props.party)!==this.hasParty(e.party)&&u.ComponentDispatch.dispatch(S.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE)},t.prototype.hasParty=function(e){return e.length>1},t.prototype.handleStopListening=function(){h.stopSyncing()},t.prototype.renderUserPopout=function(e,t){return i.createElement(_.default,r({},e,{user:t}))},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.host,o=e.party;return this.hasParty(o)?a(m.default,{currentUser:t,host:n,party:o,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null},t}(i.PureComponent);t.default=s.default.connectStores([d.default,f.default,p.default],function(){var e=d.default.getSyncingWith(),t=d.default.getActivity(),n=f.default.getCurrentUser(),o=void 0,a=[],r=void 0;return null!=e?(o=f.default.getUser(e.userId),r=e.partyId):null!=t&&null!=t.party&&null!=t.party.id&&(o=n,r=t.party.id),null!=r&&(a=(0,l.default)(Array.from(p.default.getParty(r)||[])).map(function(e){return f.default.getUser(e)}).filter(function(e){return null!=e}).orderBy([function(e){return null==o||o.id===e.id},function(e){return c.default.isFriend(e.id)}],["desc","desc"]).value()),{currentUser:n,host:o,party:a}})(N),e.exports=t.default},7052:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=n(264),d=U(n(3)),f=U(n(6)),c=U(n(40)),p=U(n(223)),h=U(n(142)),m=U(n(6369)),y=U(n(87)),v=U(n(6154)),g=U(n(226)),_=U(n(89)),E=U(n(58)),S=U(n(6366)),b=U(n(18)),C=U(n(65)),T=U(n(26)),N=U(n(6207)),O=U(n(68)),I=U(n(165)),A=U(n(5995)),M=U(n(6056)),R=n(33),P=n(0),w=U(n(1038)),L=U(n(6365)),D=U(n(5584));function U(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(0,L.default)((0,w.default)(P.Experiments.EXPERIMENTAL_ADM,"Experimental Audio Subsystem","Enable experimental audio subsystem."),((r={})[P.ExperimentTypes.USER]=((a={})[P.ExperimentBuckets.CONTROL]=function(e){return null},a[P.ExperimentBuckets.TREATMENT_1]=function(e){return null},a),r));var F=d.default.connectStores([g.default],function(){return{connectionState:g.default.getState(),hostname:g.default.getHostname(),pings:g.default.getPings(),averagePing:g.default.getAveragePing(),lastPing:g.default.getLastPing(),outboundLossRate:g.default.getOutboundLossRate()}})(m.default),x=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=k(this,e.call.apply(e,[this].concat(r))),o.renderPopout=function(e){return s.createElement(F,e)},o.handleDisconnect=function(){I.default.selectVoiceChannel(null,null)},o.handleScreenShare=function(e){var t=o.props,n=t.isScreenSharing,a=t.channel,r=O.default.getCurrentGame();n||null!=r?e&&(0,R.openContextMenu)(e,function(e){return s.createElement(v.default,l({},e,{channel:a,game:r}))}):M.default.open(a)},k(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,n=e.channel,o=e.rtcConnectionQuality,a=e.rtcConnectionState,r=e.rtcConnectionLastPing,l=e.hasVideo,s=e.hasGuildVideo,d=e.selectedChannelId,m=e.isScreenSharing;if(null==n)return null;var v=n.toString(!0),g=void 0;null!=t?(g=P.Routes.CHANNEL(t.id,s?n.id:d),v=v+" / "+t.name):g=P.Routes.CHANNEL(P.ME,n.id);var _=i(S.default,{className:s?D.default.status:"",quality:o,state:a,lastPing:r,hasVideo:l}),E=void 0,b=void 0;return s?(_=i(p.default,{closeOnScroll:!1,render:this.renderPopout,position:p.default.Positions.TOP},void 0,i("div",{},void 0,_)),b=i(h.default,{text:m?f.default.Messages.SCREEN_SHARE_OPTIONS:f.default.Messages.SCREEN_SHARE_ON},void 0,i(y.default,{onClick:this.handleScreenShare},void 0,i("div",{className:D.default.buttonScreenShare})))):E=i(p.default,{closeOnScroll:!1,render:this.renderPopout,position:p.default.Positions.TOP},void 0,i(h.default,{text:f.default.Messages.RTC_CONNECTION_INFO},void 0,i("div",{className:D.default.buttonInfo}))),i("div",{className:D.default.container},void 0,i("div",{className:D.default.inner},void 0,_,i(u.Link,{to:g,className:D.default.channel,onClick:function(){return A.default.channelListScrollTo(t?t.id:P.ME,n.id)}},void 0,v)),i(c.default,{grow:0,shrink:0},void 0,E,b,i(h.default,{text:f.default.Messages.DISCONNECT},void 0,i(y.default,{onClick:this.handleDisconnect},void 0,i("div",{className:D.default.buttonDisconnect})))))},t}(s.PureComponent);t.default=d.default.connectStores([g.default,E.default,T.default,b.default,C.default,_.default,N.default],function(){var e=g.default.getGuildId(),t=g.default.getChannelId();return{rtcConnectionQuality:g.default.getQuality(),rtcConnectionState:g.default.getState(),rtcConnectionLastPing:g.default.getLastPing(),hasVideo:null!=t&&_.default.hasVideo(e,t),isScreenSharing:E.default.isScreenSharing(),guild:T.default.getGuild(e),channel:b.default.getChannel(t),hasGuildVideo:N.default.isAvailable(e),selectedChannelId:C.default.getChannelId(e)}})(x),e.exports=t.default},7055:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=U(n(3)),s=U(n(6)),u=U(n(9)),d=U(n(6371)),f=n(6370),c=U(f),p=n(6007),h=U(p),m=U(n(6023)),y=U(n(6008)),v=U(n(79)),g=U(n(6430)),_=U(n(12)),E=U(n(80)),S=U(n(976)),b=U(n(6033)),C=U(n(5556)),T=U(n(18)),N=U(n(950)),O=U(n(59)),I=U(n(6060)),A=U(n(31)),M=U(n(537)),R=U(n(284)),P=U(n(6055)),w=n(6032),L=n(0),D=U(n(5731));function U(e){return e&&e.__esModule?e:{default:e}}var k=l.default.connectStores([O.default,I.default],function(){return{badge:O.default.getPendingCount()+I.default.getSuggestionCount()}})(function(e){var t=e.selected,n=e.badge;return r(f.LinkButton,{selected:t,route:L.Routes.FRIENDS,iconName:v.default.Names.PERSON_WAVING,text:s.default.Messages.FRIENDS},void 0,r(y.default,{value:n}))}),F=l.default.connectStores([T.default,_.default,E.default,S.default],function(e){var t=e.channel,n=_.default.getUser(t.getRecipientId());return{user:n,status:null!=n?E.default.getStatus(n.id):null,activity:null!=n?E.default.getPrimaryActivity(n.id):null,typing:null!=n?S.default.isTyping(t.id,t.getRecipientId()):null}})(c.default);function x(e,t){var n=e.type===L.ChannelTypes.GROUP_DM?c.default:F;return r(n,{channel:e,selected:t},e.id)}var G=l.default.connectStores([N.default,b.default,C.default,T.default],function(){return{selectedChannelId:N.default.getChannelId(L.ME),hasGameStore:M.default.isInExperiment(),homeLink:b.default.getHomeLink(),storeLink:P.default.getCurrentPath(),privateChannelIds:C.default.getPrivateChannelIds(),channels:T.default.getChannels(),version:T.default.getPrivateChannelsVersion()}})(d.default),B=r(m.default,{onFocus:function(){return(0,w.show)("DM_SEARCH","@")}});t.default=l.default.connectStores([A.default,R.default,M.default,P.default,b.default],function(){return{shouldShowGamesTab:!A.default.disableGamesTab,hasGameStore:M.default.isInExperiment(),activityFeed:R.default.isInFeedExperiment(),storeLink:P.default.getCurrentPath(),homeLink:b.default.getHomeLink()}})(function(e){var t,n=e.shouldShowGamesTab,o=e.activityFeed,l=e.hasGameStore,d=e.homeLink,c=e.storeLink,m=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["shouldShowGamesTab","activityFeed","hasGameStore","homeLink","storeLink"]);return r("div",{className:D.default.privateChannels},void 0,r(h.default,{tutorialId:"direct-messages",position:p.TutorialIndicatorPositions.RIGHT,offsetY:-18,offsetX:-52},void 0,r("div",{className:D.default.searchBar},void 0,B)),i.createElement(G,a({},m,{renderChannel:x}),n&&o&&r(f.LinkButton,{selected:d===L.Routes.ACTIVITY,route:L.Routes.ACTIVITY,iconName:v.default.Names.ACTIVITY,text:s.default.Messages.ACTIVITY}),n&&l&&r(f.LinkButton,{selected:d===L.Routes.GAME_LIBRARY,route:L.Routes.GAME_LIBRARY,iconName:v.default.Names.LIBRARY,text:s.default.Messages.LIBRARY},void 0,r(g.default,{className:(0,u.default)(D.default.downloadProgressCircle,(t={},t[D.default.hideGameUpdateProgressIndicator]=d===L.Routes.GAME_LIBRARY,t))})),n&&l&&r(f.LinkButton,{selected:null!=d&&d.startsWith(L.Routes.APPLICATION_STORE),route:null==c||location.pathname.startsWith(L.Routes.APPLICATION_STORE)?L.Routes.APPLICATION_STORE:c,locationState:{analyticsLocation:L.AnalyticsLocations.HOME_NAVIGATION},iconName:v.default.Names.STORE,text:s.default.Messages.STORE}),r(k,{selected:d===L.Routes.FRIENDS}),r("header",{},void 0,s.default.Messages.DIRECT_MESSAGES)))}),e.exports=t.default},7056:function(e,t,n){e.exports=n.p+"b669713872b43ca42333264abf9c858e.svg"},7057:function(e,t,n){e.exports=n.p+"c84361b810ca7c10d6e8ddb6ea722ebe.svg"},7058:function(e,t,n){e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},7059:function(e,t,n){e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},7060:function(e,t,n){e.exports=n.p+"a12ff54c4c5c03b41006fd96a4709c29.svg"},7061:function(e,t,n){e.exports=n.p+"d834d700306f3838c0facef39e7d8a38.svg"},7062:function(e,t,n){e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},7063:function(e,t,n){e.exports=n.p+"6b7098de4cc16f7e431ad8f9aae7f6db.svg"},7064:function(e,t,n){e.exports=n.p+"dd9f22c9e2365062db9d5f75c870e5d7.svg"},7065:function(e,t,n){e.exports=n.p+"77abb58874a4aa3b9a6b6efa852430cf.svg"},7066:function(e,t,n){e.exports=n.p+"88ae294007700a195d8ff49d8f5a01ac.svg"},7067:function(e,t,n){e.exports=n.p+"c7e67cd728f25433eb5b7c1f9dba225e.svg"},7068:function(e,t,n){"use strict";t.__esModule=!0,t.validateDiscordTag=function(e){if(/^(.+?@.+?\..+?|.+?#\d{4})$/.test(e))return null;if(/^DiscordTag/i.test(e))return r.default.Messages.ADD_FRIEND_ERROR_DISCORD_TAG_USERNAME;if(/^\d+$/.test(e))return r.default.Messages.ADD_FRIEND_ERROR_NUMBERS_ONLY;if(e.length>0&&-1===e.indexOf("#"))return r.default.Messages.ADD_FRIEND_ERROR_USERNAME_ONLY.format({username:e});return r.default.Messages.ADD_FRIEND_ERROR_OTHER},t.humanizeAbortCode=function(e,t){switch(e){case i.AbortCodes.RELATIONSHIP_INCOMING_DISABLED:return r.default.Messages.ADD_FRIEND_ERROR_INVALID_DISCORD_TAG.format({discordTag:t});case i.AbortCodes.RELATIONSHIP_INCOMING_BLOCKED:case i.AbortCodes.RELATIONSHIP_INVALID_SELF:case i.AbortCodes.RELATIONSHIP_INVALUD_USER_BOT:case i.AbortCodes.RELATIONSHIP_INVALID_DISCORD_TAG:default:return r.default.Messages.ADD_FRIEND_ERROR_OTHER}};var o,a=n(6),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},7069:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(43)),l=h(n(57)),s=h(n(64)),u=h(n(278)),d=n(7068),f=h(n(6)),c=n(0),p=h(n(5736));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"AddFriendInput",mixins:[l.default],getInitialState:function(){return{canSend:!1,hint:""}},handleSubmit:function(e){var t=this;e.preventDefault();var n=this.props.onSubmit,o=this.refs.INPUT_REF.value.trim(),a=(0,d.validateDiscordTag)(o);null!=a?n(a):(this.setState({canSend:!1}),u.default.sendRequest(o,{location:"Add Friend"}).then(function(){n(null,f.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:o})),t.refs.INPUT_REF.value="",t.setState(t.getInitialState(),t.focus)},function(e){n((0,d.humanizeAbortCode)(e.body.code,o)),t.setState({canSend:!0})}))},handleChange:function(e){var t=e.currentTarget.value;if(t.length>0){var n=t.split("#")[1];this.setState({hint:t+c.PLACEHOLDER_TAG.slice(null!=n?n.length+1:0),canSend:!0})}else this.setState({hint:"",canSend:!1});this.props.onError&&this.props.onError(null)},handleKeyPress:function(e){var t=e.currentTarget.value;if(13!==e.which){var n=t.indexOf("#");if(n>-1){var o=this.refs.INPUT_REF.selectionStart,a=8===e.which||37===e.which||39===e.which,r=e.which>=48&&e.which<=57;o>n&&/^(.+?#\d{4})$/.test(t)&&!a?e.preventDefault():o>n&&!r&&!a&&e.preventDefault()}}},focus:function(){this.refs.INPUT_REF.focus()},renderHint:function(){return a("div",{className:p.default.addFriendHint,onClick:this.focus},void 0,this.state.hint)},render:function(){var e=this.state.canSend;return a("form",{className:p.default.wrapper,onSubmit:this.handleSubmit},void 0,r.createElement("input",{ref:"INPUT_REF",className:p.default.addFriendInput,placeholder:f.default.Messages.ADD_FRIEND_PLACEHOLDER,onKeyPress:this.handleKeyPress,onChange:this.handleChange,autoFocus:!0,maxLength:37}),this.renderHint(),a(s.default,{size:s.default.Sizes.SMALL,disabled:!e,type:"submit"},void 0,f.default.Messages.ADD_FRIEND_BUTTON))}});t.default=m,e.exports=t.default},7070:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=ye(n(1)),l=n(264),s=me(n(43)),u=me(n(539)),d=me(n(9)),f=me(n(521)),c=me(n(8)),p=me(n(3)),h=me(n(90)),m=n(100),y=me(n(6008)),v=me(n(947)),g=me(n(87)),_=n(263),E=me(n(6094)),S=me(n(5992)),b=n(6230),C=me(b),T=me(n(966)),N=me(n(543)),O=me(n(541)),I=n(33),A=me(n(1003)),M=me(n(142)),R=me(n(40)),P=me(n(5985)),w=me(n(79)),L=me(n(64)),D=me(n(369)),U=me(n(942)),k=me(n(164)),F=me(n(67)),x=me(n(6020)),G=me(n(6379)),B=me(n(7069)),j=me(n(6372)),V=me(n(6060)),H=me(n(12)),Y=me(n(18)),W=me(n(31)),z=me(n(59)),K=me(n(144)),$=me(n(291)),q=me(n(988)),X=me(n(58)),Q=me(n(41)),J=me(n(11)),Z=me(n(57)),ee=me(n(364)),te=me(n(1008)),ne=me(n(278)),oe=me(n(146)),ae=me(n(38)),re=me(n(281)),ie=me(n(6429)),le=me(n(522)),se=ye(n(6275)),ue=n(1027),de=n(113),fe=me(n(6)),ce=me(n(189));n(5735);var pe=me(n(519)),he=n(0);function me(e){return e&&e.__esModule?e:{default:e}}function ye(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var ve={NO_SUGGESTIONS:{lightSrc:n(7067),darkSrc:n(7066),width:403,height:157},NO_CONNECTED_ACCOUNTS:{lightSrc:n(7065),darkSrc:n(7064),width:402,height:201},SECTION_ALL:{lightSrc:n(7063),darkSrc:n(7062),width:376,height:162},SECTION_ONLINE:{lightSrc:n(7061),darkSrc:n(7060),width:421,height:218},SECTION_BLOCKED:{lightSrc:n(7059),darkSrc:n(7058),width:433,height:232},SECTION_PENDING:{lightSrc:n(7057),darkSrc:n(7056),width:415,height:200}},ge=r(u.default,{title:"Discord"}),_e=function(e){var t=e.style,n=e.hasAccounts,o=e.onDownloadApp,a=e.onConnectAccounts,i=e.theme,l=void 0,s=void 0,u=void 0;return n||J.default.embedded?!n&&J.default.embedded?(u=ve.NO_CONNECTED_ACCOUNTS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_ACCOUNTS,s=r(L.default,{className:pe.default.marginTop20,onClick:a},void 0,fe.default.Messages.CONNECT_ACCOUNTS)):(u=ve.NO_SUGGESTIONS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_SUGGESTION):(u=ve.NO_CONNECTED_ACCOUNTS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_DOWNLOAD,s=r(L.default,{className:pe.default.marginTop20,onClick:o},void 0,fe.default.Messages.DOWNLOAD)),r(ce.default.div,{className:"friends-empty",style:t},void 0,ge,r(P.default,{theme:i},void 0,r(P.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc,theme:i}),r(P.default.Text,{note:l}),s))},Ee=r(u.default,{title:"Discord"}),Se=r(u.default,{title:"Discord"}),be=r(u.default,{title:"Discord"}),Ce=r(u.default,{title:"Discord"}),Te=(0,s.default)({displayName:"FriendsEmptyState",mixins:[Z.default,p.default.StoreListenerMixin(W.default,$.default)],getInitialState:function(){return{opacity:new ce.default.Value(1)}},getStateFromStores:function(){return{hasAccounts:$.default.getUnsafeAccounts().length>0,accounts:$.default.getAccounts(),theme:W.default.theme}},componentWillEnter:function(e){this.state.opacity.setValue(0),ce.default.timing(this.state.opacity,{toValue:1,duration:250}).start(e)},componentWillLeave:function(e){ce.default.timing(this.state.opacity,{toValue:0,duration:250}).start(e)},handleDownloadApp:function(){ae.default.push(D.default,{source:"Suggestions"})},handleConnectAccounts:function(){le.default.open(he.UserSettingsSections.CONNECTIONS)},render:function(){var e=this.props,t=e.type,n=e.onClick,o=this.state,a=o.theme,i=o.hasAccounts,l=o.accounts,s={opacity:this.state.opacity};switch(t){case he.FriendsSections.ADD_FRIEND:return r(_e,{hasAccounts:i,accounts:l,style:s,onDownloadApp:this.handleDownloadApp,onConnectAccounts:this.handleConnectAccounts,theme:a});case he.FriendsSections.ALL:return r(ce.default.div,{className:"friends-empty section-all",style:s},void 0,Ee,r(P.default,{theme:a},void 0,r(P.default.Image,{width:ve.SECTION_ALL.width,height:ve.SECTION_ALL.height,lightSrc:ve.SECTION_ALL.lightSrc,darkSrc:ve.SECTION_ALL.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_ALL}),r(L.default,{className:pe.default.marginTop20,onClick:n},void 0,fe.default.Messages.ADD_FRIEND)));case he.FriendsSections.ONLINE:return r(ce.default.div,{className:"friends-empty section-online",style:s},void 0,Se,r(P.default,{theme:a},void 0,r(P.default.Image,{width:ve.SECTION_ONLINE.width,height:ve.SECTION_ONLINE.height,lightSrc:ve.SECTION_ONLINE.lightSrc,darkSrc:ve.SECTION_ONLINE.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})));case he.FriendsSections.PENDING:return r(ce.default.div,{className:"friends-empty section-pending",style:s},void 0,be,r(P.default,{theme:a},void 0,r(P.default.Image,{width:ve.SECTION_PENDING.width,height:ve.SECTION_PENDING.height,lightSrc:ve.SECTION_PENDING.lightSrc,darkSrc:ve.SECTION_PENDING.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_PENDING})));case he.FriendsSections.BLOCKED:return r(ce.default.div,{className:"friends-empty section-blocked",style:s},void 0,Ce,r(P.default,{theme:a},void 0,r(P.default.Image,{width:ve.SECTION_BLOCKED.width,height:ve.SECTION_BLOCKED.height,lightSrc:ve.SECTION_BLOCKED.lightSrc,darkSrc:ve.SECTION_BLOCKED.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})));default:return null}}}),Ne=function(e){var t=e.guild;return r(M.default,{text:t.toString()},void 0,r(l.Link,{to:he.Routes.GUILD(t.id),onClick:function(e){return e.stopPropagation()}},void 0,r(S.default,{guild:t,textScale:.8,size:S.default.Sizes.SMALL})))},Oe=function(e){var t=e.num,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["num"]);return i.createElement("div",a({className:"more-mutual-guilds-btn"},n),"+",t)},Ie=function(e){return r("div",{className:"friends-column friends-column-"+e.column},void 0,e.children)},Ae=r("div",{className:"friends-column-separator"}),Me=function(){return Ae},Re={getInitialState:function(){return{height:new ce.default.Value(62),opacity:new ce.default.Value(1)}},componentWillEnter:function(e){this.state.opacity.setValue(0),this.state.height.setValue(0),ce.default.parallel([ce.default.timing(this.state.opacity,{toValue:1,duration:200}),ce.default.timing(this.state.height,{toValue:62,duration:200})]).start(e)},componentWillLeave:function(e){ce.default.parallel([ce.default.timing(this.state.opacity,{toValue:0,duration:200}),ce.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)}};function Pe(e){var t=e.type,n=e.tooltip,o=e.onClick,a=r(g.default,{onClick:o,className:(0,d.default)("friends-action","friends-action-"+t,null==o?"disabled":null)});return r(M.default,{text:n},void 0,a)}var we=(0,s.default)({displayName:"FriendSuggestionRow",mixins:[Re,Z.default,p.default.StoreListenerMixin(W.default,K.default)],getStateFromStores:function(){return{theme:W.default.theme,hide:K.default.hidePersonalInformation}},handleOpenProfile:function(e){e.stopPropagation();var t=this.props.user;re.default.open(t.id)},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;ne.default.addRelationship(t.id,{location:"Friend Suggestion"})},handleIgnoreFriendSuggestion:function(e){e.stopPropagation();var t=this.props.user;ie.default.ignore(t.id)},render:function(){var e=this.props,t=e.user,n=e.reasons,o=this.state,a=o.hide,i=o.theme,l=void 0;return a||(l=n.map(function(e,t){var n=e.name,o=e.platform_type,a=h.default.get(o);return r("div",{className:"friends-suggestion-platform"},t,r("img",{alt:fe.default.Messages.IMG_ALT_LOGO.format({name:a.icon}),className:"friends-suggestion-platform-icon",src:i===he.ThemeTypes.DARK?a.icon.white:a.icon.grey}),r("span",{className:"friends-suggestion-platform-name"},void 0,n))})),r(ce.default.div,{className:"friends-row",onClick:this.handleOpenProfile,style:{height:this.state.height,opacity:this.state.opacity}},void 0,r("div",{className:"friends-suggestion-inner"},void 0,r(v.default,{user:t,size:_.AvatarSizes.LARGE}),r("div",{className:"friends-suggestion-info"},void 0,r(O.default,{user:t}),r("div",{className:"friends-suggestion-platforms"},void 0,l))),r("div",{className:"friends-column friends-column-actions friends-column-actions-visible"},void 0,r(Pe,{type:"add",tooltip:fe.default.Messages.SEND_FRIEND_REQUEST,onClick:this.handleAddRelationship}),r(Pe,{type:"ignore",tooltip:fe.default.Messages.FRIEND_REQUEST_IGNORE,onClick:this.handleIgnoreFriendSuggestion})))}}),Le=(0,s.default)({displayName:"FriendRow",mixins:[Re,Z.default],handleOpenProfile:function(e){e.stopPropagation(),re.default.open(this.props.user.id)},handleOpenPrivateChannel:function(e){e.stopPropagation();var t=this.props.user,n=c.default.find(Y.default.getChannels(),function(e){return e.type===he.ChannelTypes.DM&&e.getRecipientId()===t.id});null!=n?Q.default.transitionTo(he.Routes.CHANNEL(he.ME,n.id)):oe.default.openPrivateChannel(H.default.getCurrentUser().id,t.id)},handleRemoveFriend:function(e){var t=this;e.stopPropagation(),ae.default.push(function(e){return i.createElement(k.default,a({header:fe.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.props.user.toString()}),confirmText:fe.default.Messages.REMOVE_FRIEND,cancelText:fe.default.Messages.CANCEL,onConfirm:t.handleRemoveRelationship},e),r(F.default,{size:F.default.Sizes.MEDIUM,color:F.default.Colors.PRIMARY},void 0,fe.default.Messages.REMOVE_FRIEND_BODY.format({name:t.props.user.toString()})))})},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;ne.default.addRelationship(t.id,{location:"Friends"})},handleRemoveRelationship:function(e){e&&e.stopPropagation(),ne.default.removeRelationship(this.props.user.id,{location:"Friends"})},handleContextMenu:function(e,t){(0,I.openContextMenu)(e,function(e){return i.createElement(U.default,a({},e,{type:he.ContextMenuTypes.USER_FRIEND_LIST,user:t}))})},handleVideoCall:function(e){ee.default.setVideoEnabled(!0),this.handleVoiceCall(e)},handleVoiceCall:function(e){e.stopPropagation(),oe.default.openPrivateChannel(H.default.getCurrentUser().id,this.props.user.id,!0)},renderActivity:function(e){return r(R.default,{align:R.default.Align.CENTER},void 0,r("div",{className:"friend-activity-text"},void 0,(0,de.renderActivity)(e)),(0,de.hasRichActivity)(e)&&r(w.default,{name:w.default.Names.RICH_ACTIVITY,className:"friend-activity-icon",foreground:"friend-activity-icon-foreground"}))},render:function(){var e=this,t=this.props,n=t.user,o=t.type,a=t.mutualGuilds,i=t.mutualGuildsLength,l=t.activity,s=t.video,u=[],f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u.push(r(Pe,{type:e,tooltip:t,onClick:n},u.length))},c=this.props.status,p=null!=l?this.renderActivity(l):(0,ue.humanizeStatus)(this.props.status),h=!0;switch(o){case he.RelationshipTypes.FRIEND:h=!1,s&&f("video-call",fe.default.Messages.START_VIDEO_CALL,this.handleVideoCall),f("voice-call",fe.default.Messages.START_VOICE_CALL,this.handleVoiceCall),f("remove",fe.default.Messages.REMOVE_FRIEND,this.handleRemoveFriend);break;case he.RelationshipTypes.BLOCKED:c=he.StatusTypes.UNKNOWN,p=fe.default.Messages.BLOCKED,f("remove",fe.default.Messages.UNBLOCK,this.handleRemoveRelationship);break;case he.RelationshipTypes.PENDING_INCOMING:c=c===he.StatusTypes.OFFLINE?he.StatusTypes.UNKNOWN:c,p=fe.default.Messages.INCOMING_FRIEND_REQUEST,f("accept",fe.default.Messages.FRIEND_REQUEST_ACCEPT,this.handleAddRelationship),f("ignore",fe.default.Messages.FRIEND_REQUEST_IGNORE,this.handleRemoveRelationship);break;case he.RelationshipTypes.PENDING_OUTGOING:h=!1,c=c===he.StatusTypes.OFFLINE?he.StatusTypes.UNKNOWN:c,p=fe.default.Messages.OUTGOING_FRIEND_REQUEST,f("cancel",fe.default.Messages.FRIEND_REQUEST_CANCEL,this.handleRemoveRelationship)}var m=void 0;return i>he.MAX_MUTUAL_GUILDS&&(m=r(Oe,{num:i-he.MAX_MUTUAL_GUILDS,onClick:this.handleOpenProfile})),r(ce.default.div,{className:"friends-row",onClick:this.handleOpenPrivateChannel,onContextMenu:function(t){return e.handleContextMenu(t,n)},style:{height:this.state.height,opacity:this.state.opacity}},void 0,r("div",{className:"friends-column friends-column-name"},void 0,r(v.default,{user:n}),r(O.default,{user:n})),r("div",{className:"friends-column friends-column-status"},void 0,r(E.default,{className:"status",defaultStatus:(0,de.isStreaming)(this.props.activity)?he.StatusTypes.STREAMING:c}),r("span",{className:"status-text"},void 0,p)),r("div",{className:"friends-column friends-column-guilds"},void 0,a.map(function(e){return r(Ne,{guild:e},e.id)}),m),r("div",{className:(0,d.default)("friends-column friends-column-actions",{"friends-column-actions-visible":h})},void 0,u))}}),De=r(Me,{}),Ue=r(Me,{}),ke=r(Me,{}),Fe=r(Ie,{column:"actions"}),xe=(0,s.default)({displayName:"AddFriendHeader",mixins:[p.default.StoreListenerMixin(q.default)],getInitialState:function(){return{addFriendError:null,addFriendSuccess:null}},getStateFromStores:function(){return{availablePlatformTypes:q.default.getAvailablePlatformTypes().filter(function(e){return e!==he.PlatformTypes.FACEBOOK})}},handleAddFriendSubmit:function(e,t){this.setState({addFriendError:e,addFriendSuccess:t})},render:function(){var e=this.state,t=e.availablePlatformTypes,n=e.addFriendSuccess,o=e.addFriendError,a=void 0;t.length>0&&(a=r("div",{className:"connect-accounts"},void 0,r("h2",{className:"old-h2"},void 0,fe.default.Messages.CONNECT_ACCOUNTS_TITLE),r("h3",{},void 0,fe.default.Messages.CONNECT_ACCOUNTS_DESCRIPTION),r("div",{className:"connect-account-btn-group"},void 0,t.slice(0,4).map(function(e){return r(A.default,{type:e,location:"Friends"},e)}))));var i=!1,l=!1,s=fe.default.Messages.ADD_FRIEND_DESCRIPTION;return null!=n?(i=!0,s=n):null!=o&&(l=!0,s=o),r("div",{className:"friend-table-add-wrapper"},void 0,r("div",{className:"friend-table-add-header"},void 0,r("div",{className:"friends-table-add"},void 0,r("h2",{className:"old-h2"},void 0,fe.default.Messages.ADD_FRIEND),r("div",{className:(0,d.default)("friend-table-add-description",{success:i,error:l})},void 0,s),r(B.default,{onSubmit:this.handleAddFriendSubmit})),a),r("div",{className:"friend-table-suggestions-header"},void 0,r("h2",{className:"old-h2"},void 0,fe.default.Messages.FRIEND_SUGGESTIONS)))}}),Ge=r(xe,{}),Be=r(function(){return r("div",{className:"friends-table-header"},void 0,r(Ie,{column:"name"},void 0,fe.default.Messages.FRIENDS_COLUMN_NAME),De,r(Ie,{column:"status"},void 0,fe.default.Messages.FRIENDS_COLUMN_STATUS),Ue,r(Ie,{column:"guilds"},void 0,fe.default.Messages.MUTUAL_GUILDS),ke,Fe)},{}),je=r(b.TabBarSeparator,{}),Ve=r(b.TabBarSeparator,{}),He=(0,s.default)({displayName:"Friends",mixins:[Z.default,p.default.StoreListenerMixin(j.default,V.default,z.default)],getStateFromStores:function(){return a({suggestionCount:V.default.getSuggestionCount(),relationshipCount:z.default.getRelationshipCount(),suggestions:V.default.getSuggestions(),video:X.default.supports(m.Features.VIDEO)},j.default.getState())},componentDidMount:function(){se.setHomeLink(he.Routes.FRIENDS)},handleItemSelect:function(e){te.default.setSection(e)},handleAddFriend:function(){te.default.setSection(he.FriendsSections.ADD_FRIEND)},renderHeaderToolbar:function(){return r(G.default,{tooltip:fe.default.Messages.NEW_GROUP_DM})},render:function(){var e=this.state,t=e.section,n=e.suggestions,o=e.rows,l=e.video,s=e.suggestionCount,u=e.pendingCount,c=e.relationshipCount,p=void 0,h=void 0;t===he.FriendsSections.ADD_FRIEND?(p=n.map(function(e){return i.createElement(we,e)}),h=Ge):(p=o.filter(t).map(function(e){return i.createElement(Le,a({},e.toJS(),{video:l}))}),h=Be);var m=0===p.length?[r(Te,{type:t,onClick:this.handleAddFriend},t)]:p;return m=c>=64?r(N.default,{className:"friends-table-body",elementHeight:62},void 0,m):r(T.default,{className:"friends-table-body"},void 0,r(f.default,{transitionAppear:!1,component:"div"},void 0,m)),r("div",{id:"friends"},void 0,r(x.default,{renderToolbar:this.renderHeaderToolbar},void 0,r(C.default,{selectedItem:this.state.section,type:b.TabBarTypes.UNIQUE,onItemSelect:this.handleItemSelect,className:(0,d.default)({"tab-bar-desktop":J.default.isDesktop()})},void 0,r(b.TabBarItem,{className:"tab-bar-item-primary"},he.FriendsSections.ADD_FRIEND,fe.default.Messages.FRIENDS_SECTION_ADD_FRIEND," ",r(y.default,{value:s,className:"badge"})),je,r(b.TabBarItem,{},he.FriendsSections.ALL,fe.default.Messages.FRIENDS_SECTION_ALL),r(b.TabBarItem,{},he.FriendsSections.ONLINE,fe.default.Messages.FRIENDS_SECTION_ONLINE),r(b.TabBarItem,{},he.FriendsSections.PENDING,fe.default.Messages.FRIENDS_SECTION_PENDING," ",r(y.default,{value:u})),Ve,r(b.TabBarItem,{},he.FriendsSections.BLOCKED,fe.default.Messages.BLOCKED))),r("div",{className:"friends-table"},void 0,h,m))}});t.default=He,e.exports=t.default},7071:function(e,t,n){e.exports=n.p+"25613a647083f6b2b196f40f58732de6.svg"},7072:function(e,t,n){e.exports=n.p+"94b5558353f1d01035a874f6eddf6d70.svg"},7073:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r=d(n(3)),i=d(n(2)),l=d(n(126)),s=d(n(534)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.getExperimentId=function(){return u.Experiments.CHAT_CLAIM_MODAL},t.prototype.getMetaData=function(){return{title:"Chat Claim Experiment",description:["Control: Off","Treatment 1: On"]}},t.prototype.getExperimentDescriptor=function(){return l.default.getEligibleExperiment(this.getExperimentId())},t.prototype.shouldAllowUnclaimedChat=function(){var e=this.getExperimentDescriptor();return null!=e&&(e.override||s.default.trigger(e),e.bucket===u.ExperimentBuckets.TREATMENT_1)},t}(r.default.Store))(i.default);s.default.register(f,((a={})[u.ExperimentTypes.USER]=((o={})[u.ExperimentBuckets.CONTROL]=function(){return null},o[u.ExperimentBuckets.TREATMENT_1]=function(){return null},o),a)),t.default=f,e.exports=t.default},7074:function(e,t,n){e.exports=n.p+"6793e022dc1b065b21f12d6df02f91bd.svg"},7075:function(e,t,n){e.exports=n.p+"03c7541028afafafd1a9f6a81cb7f149.svg"},7076:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=v(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),v(n(43))),l=v(n(57)),s=v(n(3)),u=v(n(6602)),d=v(n(6106)),f=v(n(6)),c=v(n(6105)),p=v(n(363)),h=v(n(6618)),m=v(n(12)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var g=(0,i.default)({displayName:"ChannelPins",propTypes:{channel:r.default.object.isRequired,onJump:r.default.func},mixins:[s.default.StoreListenerMixin(u.default,p.default),l.default],fetchPins:function(e){d.default.ackPins(e.id),d.default.fetchPins(e.id)},UNSAFE_componentWillUpdate:function(e,t){t.hasUnreadPins&&!this.state.hasUnreadPins&&d.default.ackPins(this.props.channel.id)},getStateFromStores:function(){var e=u.default.getPinnedMessages(this.props.channel.id),t=p.default.hasUnreadPins(this.props.channel.id);return{messages:e&&e.messages,loading:!e||!e.messages||e.loading,hasUnreadPins:t}},handleUnpin:function(e,t){null!=e&&(t.shiftKey?d.default.unpinMessage(this.props.channel,e.id):c.default.confirmUnpin(this.props.channel,e))},getProTip:function(){var e=this.props.channel,t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL;if(e.isPrivate())if(e.type===y.ChannelTypes.DM){var n=m.default.getUser(e.getRecipientId()).username;t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:n})}else t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM;return t},renderEmptyState:function(e){var t=f.default.Messages.NO_PINS_IN_CHANNEL;this.props.channel.isPrivate()&&(t=f.default.Messages.NO_PINS_IN_DM);var o=e===y.ThemeTypes.LIGHT?n(7075):n(7074);return a(h.default.EmptyStateCenter,{msg:t,image:o})},renderHeader:function(){return a(h.default.Header,{title:f.default.Messages.PINNED_MESSAGES})},render:function(){var e=this.state,t=e.messages,n=e.loading;return a(h.default,{onFetch:this.fetchPins,channel:this.props.channel,messages:t,loading:n,analyticsName:"Channel Pins",onCloseMessage:this.handleUnpin,onJump:this.props.onJump,getProTip:this.getProTip,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})}});t.default=g,e.exports=t.default},7077:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(43)),s=C(n(57)),u=C(n(3)),d=C(n(6)),f=C(n(18)),c=C(n(65)),p=C(n(6067)),h=C(n(223)),m=C(n(6035)),y=C(n(79)),v=C(n(142)),g=C(n(7076)),_=C(n(951)),E=C(n(192)),S=C(n(363)),b=n(0);function C(e){return e&&e.__esModule?e:{default:e}}var T="CHANNEL_PINS_POPOUT",N=(0,l.default)({displayName:"ChannelPinsButtons",mixins:[s.default,u.default.StoreListenerMixin(_.default,f.default,S.default,c.default,p.default)],getStateFromStores:function(){var e=c.default.getChannelId(),t=f.default.getChannel(e);return{disabled:null==t||t.isNSFW()&&!p.default.didAgree(t.getGuildId()),open:_.default.isOpen(T),hasUnread:S.default.hasUnreadPins(e),channelId:e}},UNSAFE_componentWillUpdate:function(e,t){this.state.open&&t.channelId!==this.state.channelId&&E.default.close(T)},onJump:function(e){e.shiftKey||E.default.close(T)},renderChannelPinsPopout:function(e){return i.createElement(g.default,r({},e,{onJump:this.onJump,channel:f.default.getChannel(this.state.channelId)}))},render:function(){var e=this.state.disabled,t=a(v.default,{text:d.default.Messages.PINNED_MESSAGES,position:v.default.Positions.BOTTOM},void 0,a(m.default.Icon,{name:y.default.Names.PIN,disabled:e,showBadge:this.state.hasUnread}));return e?t:a(h.default,{animationType:h.default.Animations.NONE,uniqueId:T,position:h.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderChannelPinsPopout,subscribeTo:b.ComponentActions.TOGGLE_CHANNEL_PINS,closeOnScroll:!1,zIndexBoost:-1},void 0,t)}});t.default=N,e.exports=t.default},7078:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(43))),i=h(n(3)),l=h(n(6)),s=n(0),u=h(n(6035)),d=h(n(79)),f=h(n(142)),c=h(n(6104)),p=h(n(6376));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.default)({displayName:"ChannelMembersButton",mixins:[i.default.StoreListenerMixin(c.default)],getStateFromStores:function(){return{section:c.default.getSection()}},handleClick:function(){p.default.toggleSection(s.ChannelSections.MEMBERS)},render:function(){return a(f.default,{text:l.default.Messages.MEMBER_LIST,position:f.default.Positions.BOTTOM},void 0,a(u.default.Icon,{name:d.default.Names.PEOPLE,onClick:this.handleClick,active:this.state.section===s.ChannelSections.MEMBERS}))}});t.default=m,e.exports=t.default},7079:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(45)),l=s(n(189));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)},{scale:e.scale.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}}var f=a("div",{className:"search-index-background"}),c=a("defs",{},void 0,a("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),p=a("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,a("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),a("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),a("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),a("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),a("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),a("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),a("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),a("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),a("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#7289DA",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),a("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),h=a("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),m=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),y=a("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),v=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=a("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),_=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),E=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),S=a("path",{d:"M84 66h130v130H84z"}),b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=u(this,e.call.apply(e,[this].concat(r))),o.state={x:new l.default.Value(0),y:new l.default.Value(0),scale:new l.default.Value(1)},o._isMounted=!1,o.shouldLoop=function(){return o._isMounted},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){this._isMounted=!0},t.prototype.componentDidMount=function(){var e=this.state,t=e.x,n=e.y,o=e.scale;"Firefox"!==i.default.name&&(l.default.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(o,{loop:!0,toValueMin:.9,toValueMax:1.1,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}))},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){return a("div",{className:"search-index-animation"},void 0,f,a("svg",{className:"search-index-foreground",width:"320",height:"280"},void 0,c,a("g",{fill:"none",fillRule:"evenodd"},void 0,a("g",{transform:"translate(120 80)"},void 0,a("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,a(l.default.use,{style:d(this.state),className:"mask",xlinkHref:"#search-index-foreground-mask-a"})),p),a(l.default.g,{className:"magnifying-glass",style:d(this.state)},void 0,h,m,y,v,g,_,E,S))))},t}(r.Component);t.default=b,e.exports=t.default},7080:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=F(n(55)),l=k(n(1)),s=F(n(43)),u=F(n(57)),d=F(n(9)),f=F(n(18)),c=F(n(41)),p=F(n(223)),h=F(n(142)),m=F(n(265)),y=F(n(163)),v=F(n(87)),g=F(n(957)),_=F(n(6069)),E=F(n(6)),S=F(n(3)),b=F(n(145)),C=k(n(6229)),T=F(n(267)),N=F(n(365)),O=F(n(6018)),I=F(n(65)),A=F(n(31)),M=F(n(59)),R=F(n(194)),P=F(n(523)),w=F(n(8)),L=F(n(7079)),D=n(0);n(5740);var U=F(n(5739));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j="HIT_REF",V=function(e){var t=e.searchNext,n=e.searchPrevious,o=e.offset,a=e.totalResults,i=e.pageLength,l=Math.ceil(a/i),s=o/i+1,u=s.toLocaleString(),f=l.toLocaleString();if(1===l)return null;var c=s>1,p=s<l;return r("div",{className:"pagination"},void 0,r(v.default,{onClick:c?n:null,className:(0,d.default)("pagination-previous",{disabled:!c}),"aria-label":E.default.Messages.PAGINATION_PREVIOUS}),E.default.Messages.PAGINATION_PAGE_OF.format({page:u,totalPages:f}),r(v.default,{onClick:p?t:null,className:(0,d.default)("pagination-next",{disabled:!p}),"aria-label":E.default.Messages.PAGINATION_NEXT}))},H=r("div",{className:"spinner-wrapper"},void 0,r(g.default,{type:"spinning-circle"})),Y=function(e){var t=e.searchMode,n=e.searchByMode,o=e.totalResults,a=e.isSearching,i=e.isIndexing,l=e.documentsIndexed,s=(0,w.default)(D.SearchModes).values().map(function(e){var o=void 0;switch(e){case D.SearchModes.RECENT:o=E.default.Messages.SEARCH_RECENT;break;case D.SearchModes.RELEVANT:o=E.default.Messages.SEARCH_RELEVANT;break;default:o=null}return r(v.default,{className:(0,d.default)("tab",{selected:t===e}),onClick:n.bind(null,e)},e,o)}).value(),u=void 0;if(a)u=E.default.Messages.SEARCHING;else if(i)u=r(y.default,{href:P.default.getArticleURL(D.HelpdeskArticles.SEARCH_INDEXING)},void 0,E.default.Messages.STILL_INDEXING);else{var f=o.toLocaleString();u=E.default.Messages.TOTAL_RESULTS.format({count:f})}var c=void 0;return(i||a)&&(c=H),i&&!a&&(u=r(h.default,{text:E.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:l})},void 0,r("div",{className:"total-results-wrapper"},void 0,u,c)),c=null),r("div",{className:"search-header"},void 0,r("div",{className:"total-results"},void 0,u,c),s)},W=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=G(this,e.call.apply(e,[this].concat(r))),o.autoAnalytics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=o.props.searchAnalyticsId){var t=0,n=0,a=0,r=0;o.props.searchResults&&(0,w.default)(o.props.searchResults).flatten().filter(function(e){return e.hit}).forEach(function(e){var o=e.message;o.content&&(t++,/https?:\/\/[^\s]+/.test(o.content)&&r++),o.embeds&&o.embeds.length&&a++,o.attachments&&o.attachments.length&&n++}),R.default.trackWithMetadata("search_result_viewed",{search_id:o.props.searchAnalyticsId,prev_search_id:e!==o.props.searchAnalyticsId?e:null,is_error:o.props.searchHasError,limit:o.props.searchLimit,offset:o.props.searchOffset,page:Math.floor(o.props.searchOffset/o.props.searchLimit)+1,total_results:o.props.searchTotalResults,page_results:o.props.searchResults?o.props.searchResults.length:null,is_indexing:o.props.searchIsIndexing,page_num_messages:t,page_num_links:r,page_num_embeds:a,page_num_attach:n})}},G(o,n)}return B(t,e),t.prototype.componentDidMount=function(){this.autoAnalytics()},t.prototype.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)},t.prototype.render=function(){return null},t}(l.Component),z=function(e){var t=e.children;return r("div",{className:"empty-results-wrap"},void 0,r("div",{className:"empty-results-content"},void 0,t))},K=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=G(this,e.call.apply(e,[this].concat(i))),o.state={expanded:!1},o.getDOMRect=function(e){return e.getClientRects()[0]},o.fixScroll=function(){o.state.expanded;var e=o._height;o._height=o.getDOMRect(o.refs[j]).top;var t=o.props.scrollTo;t(e-o._height)},o.renderControlButtons=function(e){var t=e.messages[0];return r("div",{className:"action-buttons"},void 0,r(v.default,{className:"jump-button",onClick:o.props.onJump.bind(null,t)},void 0,E.default.Messages.JUMP))},o.expand=function(){o.setState(function(e){var t=!e.expanded;return t&&R.default.trackWithMetadata("search_result_expanded",{message_id:o.props.result.filter(function(e){return e.hit})[0].message.id,search_id:O.default.getAnalyticsId(o.props.searchId),limit:D.SEARCH_PAGE_SIZE,offset:o.props.searchOffset,page:Math.floor(o.props.searchOffset/D.SEARCH_PAGE_SIZE)+1,page_results:o.props.pageResultsLength,result_index:o.props.index}),{expanded:t}})},G(o,n)}return B(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.state.expanded!==t.expanded&&(this._height=this.getDOMRect(this.refs[j]).top)},t.prototype.componentDidUpdate=function(e,t){this.state.expanded!==t.expanded&&this.fixScroll()},t.prototype.render=function(){var e=this,t=this.state.expanded,n=this.props,o=n.result,a=n.developerMode,i=n.renderEmbeds,s=!0,u=o.map(function(t,n){var u=t.message,c=t.hit,h=f.default.getChannel(u.channel_id),m=!(s=s&&!c)&&!c,y=void 0;return!c&&s&&o[n+1].hit?y=!0:c||s||!o[n-1].hit||(y=!0),null==h?null:l.createElement("div",{ref:c?j:null,className:(0,d.default)("search-result-message",{hit:c,sibling:y,before:s,after:m}),key:u.id},r(_.default,{className:U.default.messageGroupCozy,messages:[u],channel:h,inlineAttachmentMedia:!0,inlineEmbedMedia:!0,renderEmbeds:i,renderEmbedsSmall:!0,developerMode:a,popoutPosition:p.default.Positions.LEFT,groupOption:c?e.renderControlButtons:null,onClickAnywhere:e.expand,disableInteractionLabel:E.default.Messages.VIEW_SURROUNDING_MESSAGES,canEdit:!1}))});return l.createElement("div",{ref:"MESSAGE_REF",className:(0,d.default)("search-result",{expanded:t})},u)},t}(l.PureComponent),$=r("div",{className:"results-blocked-image"}),q=r(L.default,{}),X=r("div",{className:"error-image"}),Q=(0,s.default)({displayName:"SearchResults",mixins:[u.default,S.default.LazyStoreListenerMixin(O.default,A.default)],propTypes:{searchId:i.default.string.isRequired},getInitialState:function(){return a({searchMode:D.SearchModes.RECENT},this.getStateFromStores())},getStateFromStores:function(){var e=this.props.searchId;return this.getStateForSearchId(e)},UNSAFE_componentWillReceiveProps:function(e){var t=this.props.searchId;e.searchId!==t&&this.setState(this.getStateForSearchId(e.searchId))},componentDidUpdate:function(e,t){var n=t.showBlockedResults;if(this.state.showBlockedResults!==n){var o=this.refs.SCROLLER_REF;if(!o)return;o.scrollToBottom()}},getStateForSearchId:function(e){return a({searchId:e,theme:A.default.theme,renderEmbeds:A.default.renderEmbeds,developerMode:A.default.developerMode,searchAnalyticsId:O.default.getAnalyticsId(e)},O.default.getResultsState(e))},jumpToMessage:function(e){if(e.blocked)T.default.show({title:E.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:E.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:E.default.Messages.OKAY});else{var t=f.default.getChannel(e.channel_id),n=t?t.getGuildId():null;b.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:O.default.getAnalyticsId(this.state.searchId)}),c.default.transitionTo(D.Routes.MESSAGE(n,e.channel_id,e.id))}},selectChannel:function(e){e!==I.default.getChannelId()&&N.default.transitionToInviteChannelSync(e)},searchPrevious:function(){var e=this.props.searchId;this.state.isSearching||C.searchPreviousPage(e)},searchNext:function(){var e=this.props.searchId;this.state.isSearching||C.searchNextPage(e)},searchByMode:function(e){var t=this.props.searchId,n=this.state,o=n.searchMode,a=n.isSearching;e===o||a||(R.default.trackWithMetadata("search_result_sort_changed",{search_id:O.default.getAnalyticsId(this.props.searchId),new_sort_type:e}),C.searchByMode(t,e),this.setState({searchMode:e}))},toggleShowBlockedMessages:function(){var e=this.state,t=e.searchId,n=e.showBlockedResults;C.setShowBlockedResults(t,!n)},renderHeader:function(){var e=this.state,t=e.searchMode,n=e.totalResults,o=e.isSearching,a=e.isHistoricalIndexing,i=e.documentsIndexed;return r(Y,{searchMode:t,searchByMode:this.searchByMode,totalResults:n,isSearching:o,isIndexing:a,documentsIndexed:i})},renderResults:function(){var e=this,t=this.state,n=t.results,o=t.offset,a=t.renderEmbeds,i=t.developerMode,l=t.totalResults,s=t.isSearching,u=t.showBlockedResults;if(!n)return null;var d=[],c=void 0,p=n.length;n.forEach(function(t,n){var o=t.find(function(e){return e.hit});if(u||!o||!M.default.isBlocked(o.message.author.id)){var l=f.default.getChannel(t[0].message.channel_id),s=void 0;!l||c&&c.id===l.id||(s=r("div",{className:"channel-separator"},"channel-separator-"+n,r(v.default,{tag:"span",className:"channel-name",onClick:e.selectChannel.bind(null,l.id)},void 0,l?l.toString(!0):"???")));var h=r(K,{scrollTo:e.scrollTo,searchId:e.props.searchId,renderEmbeds:a,developerMode:i,searchOffset:e.state.offset,pageResultsLength:p,result:t,index:n,onJump:e.jumpToMessage},"search-result-"+n);d.push(s,h),c=l}});var h=void 0;return s||(h=r(V,{searchPrevious:this.searchPrevious,searchNext:this.searchNext,offset:o,totalResults:l,pageLength:D.SEARCH_PAGE_SIZE})),r("div",{className:"results-wrapper"},void 0,r("div",{className:"search-results"},void 0,d,this.renderResultsBlocked()),h)},renderResultsBlocked:function(){var e=this.state,t=e.resultsBlocked,n=e.showBlockedResults;if(!t)return null;var o=n?E.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:t}):E.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:t});return r("button",{className:"results-blocked",onClick:this.toggleShowBlockedMessages},void 0,$,r("div",{className:"results-blocked-text"},void 0,o))},renderIndexing:function(){var e=O.default.getSearchType(this.props.searchId)===D.SearchTypes.GUILD?E.default.Messages.SEARCH_GUILD_STILL_INDEXING:E.default.Messages.SEARCH_DM_STILL_INDEXING;return r(z,{},void 0,q,r("div",{className:"empty-results-text still-indexing"},void 0,e))},renderNoResults:function(){var e=this.state.showNoResultsAlt,t=e?E.default.Messages.SEARCH_NO_RESULTS_ALT:E.default.Messages.SEARCH_NO_RESULTS;return r(z,{},void 0,r("div",{className:(0,d.default)("no-results-image",{alt:e})}),r("div",{className:(0,d.default)("empty-results-text no-results",{alt:e})},void 0,t))},renderError:function(){return r(z,{},void 0,X,r("div",{className:"empty-results-text error-message"},void 0,E.default.Messages.SEARCH_ERROR))},renderContent:function(){var e=this.state,t=e.totalResults,n=e.isSearching,o=e.isIndexing;return e.hasError?this.renderError():o?this.renderIndexing():n?null:t?this.renderResults():this.renderNoResults()},render:function(){return r("div",{className:"search-results-wrap"},void 0,this.renderHeader(),l.createElement(m.default,{ref:"SCROLLER_REF",theme:m.default.Themes.GHOST,backgroundColor:this.state.theme===D.ThemeTypes.LIGHT?D.Colors.PRIMARY_100:D.Colors.CHANNELS_GREY,track:!0},this.renderContent()),r(W,{searchAnalyticsId:this.state.searchAnalyticsId,searchResults:this.state.results,searchOffset:this.state.offset,searchLimit:D.SEARCH_PAGE_SIZE,searchHasError:this.state.hasError,searchTotalResults:this.state.totalResults,searchIsIndexing:this.state.isHistoricalIndexing}))},scrollTo:function(e){var t=this.refs.SCROLLER_REF;if(t){var n=t.getScrollData().scrollTop-e;t.scrollTo(n)}}});t.default=Q,e.exports=t.default},7081:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(6070)),u=n(100),d=O(n(8)),f=O(n(378)),c=O(n(89)),p=O(n(58)),h=O(n(59)),m=O(n(368)),y=O(n(287)),v=O(n(165)),g=O(n(38)),_=(O(n(124)),n(0)),E=O(n(6155)),S=O(n(6)),b=O(n(6035)),C=O(n(79)),T=O(n(142)),N=O(n(369));function O(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return d.default.bindAll(o,["handleStartCall","handleJoinCall","handleVoiceClick","handleStartVideoCall","handleJoinVideoCall","handleBrowserNotSupported","handleDownloadApps"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,a=e.channel,i=e.mode;if(t||n&&i===_.ChannelModes.VOICE)return null;var l=a.isManaged(),s=void 0,d=!1,f=void 0;return p.default.supports(u.Features.VIDEO)?n&&i===_.ChannelModes.VIDEO?(f=this.handleJoinVideoCall,s=l?S.default.Messages.CONNECT:S.default.Messages.JOIN_VIDEO_CALL):(f=this.handleStartVideoCall,s=l?S.default.Messages.CONNECT:S.default.Messages.START_VIDEO_CALL):(d=!0,f=this.handleBrowserNotSupported,s=S.default.Messages.BROWSER_NOT_SUPPORTED),r(T.default,{text:s,position:T.default.Positions.BOTTOM},void 0,r(b.default.Icon,{name:C.default.Names.VIDEO_CAMERA,onClick:f,disabled:d||o}))},t.prototype.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,a=e.channel;if(t)return null;var i=a.isManaged(),l=void 0,s=void 0,u=!1;return o?(l=i?S.default.Messages.VOICE_UNAVAILABLE:S.default.Messages.CALL_UNAVAILABLE,s=T.default.Colors.RED,u=!0):l=n?i?S.default.Messages.CONNECT:S.default.Messages.JOIN_VOICE_CALL:i?S.default.Messages.CONNECT:S.default.Messages.START_VOICE_CALL,r(T.default,{text:l,color:s,position:T.default.Positions.BOTTOM},void 0,r(b.default.Icon,{name:C.default.Names.PHONE,onClick:this.handleVoiceClick,disabled:u}))},t.prototype.render=function(){return r("div",{},void 0,this.renderVideoCallButton(),this.renderVoiceCallButton())},t.prototype.handleStartCall=function(e,t){var n=this.props,o=n.channel,a=n.notFriend,r=a?o.getRecipientId():null;y.default.call(o.id,t,!a&&!o.isManaged()&&e&&!e.shiftKey,r)},t.prototype.handleJoinCall=function(e){v.default.selectVoiceChannel(null,this.props.channel.id,e)},t.prototype.handleVoiceClick=function(e){var t=this.props,n=t.callUnavailable,o=t.callActive;if(!n)return o?this.handleJoinCall(!1):this.handleStartCall(e,!1)},t.prototype.handleStartVideoCall=function(e){this.handleStartCall(e,!0)},t.prototype.handleJoinVideoCall=function(){this.handleJoinCall(!0)},t.prototype.handleBrowserNotSupported=function(){var e=this;g.default.push(function(t){return i.createElement(E.default,a({},t,{title:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,description:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:S.default.Messages.DOWNLOAD_APP,onConfirm:e.handleDownloadApps}))})},t.prototype.handleDownloadApps=function(){g.default.push(N.default,{source:"Video unsupported browser"})},t}(i.PureComponent),A=(0,s.default)(function(e,t){var n;return(n={})[_.ComponentActions.CALL_START]=t.handleVoiceClick.bind(t),n})(I);t.default=l.default.connectStores([f.default,c.default,h.default,m.default],function(e){var t=e.channel,n=c.default.isInChannel(t.getGuildId(),t.id),o=t.getRecipientId();return{channel:t,mode:m.default.getMode(t.id),inCall:n,callActive:f.default.isCallActive(t.id),callUnavailable:f.default.isCallUnavailable(t.id),notFriend:t.type===_.ChannelTypes.DM&&null!=o&&!h.default.isFriend(o)}})(A),e.exports=t.default},7082:function(e,t,n){e.exports=n.p+"d47d2c5ce2dd7d5bdaee2ebd8fde61f2.svg"},7083:function(e,t,n){e.exports=n.p+"990826f372c3d1d1792e3f1df06609bb.svg"},7084:function(e,t,n){e.exports=n.p+"24d0c1e0be789c08a641e29b113c3d61.svg"},7085:function(e,t,n){e.exports=n.p+"37d23346ca73770fda04fbdcc54336e5.svg"},7086:function(e,t,n){e.exports=n.p+"18e22cc758cd6dd220ac88b554519482.svg"},7087:function(e,t,n){e.exports=n.p+"ea5bf2e8b48cfe21ea60588e1568aad6.svg"},7088:function(e,t,n){e.exports=n.p+"f67374a8fd6b116362596d65cc516747.svg"},7089:function(e,t,n){e.exports=n.p+"b0aeca4d2129dcbf73f05feb6bb6e61f.svg"},7090:function(e,t,n){e.exports=n.p+"e58c46a89a6d0e207363ed2c26fef144.svg"},7091:function(e,t,n){e.exports=n.p+"39aa9582008741a5582b87b2336f746d.svg"},7092:function(e,t,n){e.exports=n.p+"9bef291f60e3cd3531073c12a365a87d.svg"},7093:function(e,t,n){e.exports=n.p+"7a2984b632f742b95882d387736c7bd0.svg"},7094:function(e,t,n){e.exports=n.p+"89f266ed023aab0906a402fe580f862a.svg"},7095:function(e,t,n){e.exports=n.p+"1c1683551c9d43dd700b1d650f30c6f6.svg"},7096:function(e,t,n){e.exports=n.p+"9f1cc64606c82356a646c04d46b0f4b4.svg"},7097:function(e,t,n){e.exports=n.p+"da80b49568f5b282cd97f54f2f813441.svg"},7098:function(e,t,n){e.exports=n.p+"894d33a7990cc82c6c470285c45f1e70.svg"},7099:function(e,t,n){e.exports=n.p+"3a773ef164b13d6a5bf37083bc1bc7f6.svg"},7100:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6687),s=f(l),u=f(n(192)),d=f(n(223));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.renderPopout=o.renderPopout.bind(o),o.handleChange=o.handleChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPopout=function(e){var t=this.props,n=t.options,o=t.value,a=t.renderOption,s=t.popoutClassName,u=t.scroller;return i.createElement(l.QuickSelectPopout,r({},e,{scroller:u,className:s,options:n,value:o,renderOption:a,onChange:this.handleChange}))},t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,o=e.renderValue,l=e.className,u=e.popoutId,f=e.popoutProps;return i.createElement(d.default,r({},f,{uniqueId:u,render:this.renderPopout}),a("div",{className:l},void 0,a(s.default,{label:t,value:n,renderValue:o})))},t.prototype.handleChange=function(e){var t=this.props,n=t.popoutId,o=t.onChange;u.default.close(n),o&&o(e)},t}(i.PureComponent);t.default=c,e.exports=t.default},7101:function(e,t,n){"use strict";t.__esModule=!0,t.QUICK_REGION_SELECT_KEY=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(3)),l=m(n(6)),s=m(n(9)),u=n(6131),d=m(n(7100)),f=m(n(6076)),c=m(n(6267)),p=m(n(40)),h=m(n(5742));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={position:"bottom-right",preventInvert:!0},E=t.QUICK_REGION_SELECT_KEY="quick-region-select",S=function(e){function t(){return y(this,t),v(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return a(p.default,{align:p.default.Align.CENTER,className:(0,s.default)({selected:n})},void 0,a(u.RegionFlag,{region:t,className:h.default.regionSelectFlag}),a(u.RegionName,{region:t,className:h.default.regionSelectName}),n?a("i",{className:h.default.check}):null)},t}(r.PureComponent),b=function(e){function t(n){y(this,t);var o=v(this,e.call(this,n));return o.handleChangeVoiceRegion=o.handleChangeVoiceRegion.bind(o),o.renderOption=o.renderOption.bind(o),o}return g(t,e),t.prototype.componentDidMount=function(){null==this.props.regions&&c.default.fetchRegions(null)},t.prototype.renderOption=function(e,t){return a(S,{region:e.value,selected:t},e.value.id)},t.prototype.render=function(){var e=this.props,t=e.regions,n=e.call;if(null==t)return null;var o=t.find(function(e){return e.id===n.region})||{id:"unknown",name:l.default.Messages.UNKNOWN_REGION,vip:!1,deprecated:!1},r={label:o.name,value:o},i=t.filter(function(e){return!e.deprecated}).map(function(e){return{label:e.name,value:e,key:e.id}});return a(d.default,{label:l.default.Messages.REGION,options:i,value:r,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:_,popoutId:E,popoutClassName:h.default.regionSelectPopout})},t.prototype.handleChangeVoiceRegion=function(e){var t=e.value,n=this.props.call.channelId;c.default.changeCallRegion(n,t.id)},t}(r.PureComponent);t.default=i.default.connectStores([f.default],function(){return{regions:f.default.getRegions(null)}})(b)},7102:function(e,t,n){e.exports=n.p+"261873897d8899d4e2e724efdfa21ee3.svg"},7103:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(123)),l=n(64),s=d(l),u=d(n(5743));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,o=e.description,r=e.confirmText,d=e.onConfirm;return a(i.default,{size:u.default.size},void 0,a("div",{className:u.default.container},void 0,a("img",{className:u.default.image,src:n(7102),alt:""}),a("div",{className:u.default.title},void 0,t),a("div",{className:u.default.description},void 0,o)),a("div",{className:u.default.footer},void 0,a(s.default,{className:u.default.button,size:l.ButtonSizes.LARGE,onClick:d},void 0,r)))},t}(r.PureComponent);t.default=f,e.exports=t.default},7104:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(5744)),s=n(0),u=c(n(79)),d=c(n(6156)),f=c(n(6157));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleDoubleClick=o.handleDoubleClick.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.streamId,n=e.videoComponent,o=e.mirror,r=e.user;return e.hasVideo&&null!=n?a(f.default,{className:(0,i.default)(l.default.content,l.default.video),mirror:o,streamId:t,videoComponent:n,fit:f.default.Fit.COVER}):null!=r?a("div",{className:l.default.content},void 0,a(d.default,{user:r,avatarSize:d.default.AvatarSizes.XXLARGE})):null},t.prototype.renderOverlay=function(){var e=this.props,t=e.muted,n=e.deafen;return e.poorConnection?a("div",{className:l.default.overlay},void 0,a(u.default,{className:l.default.poorConnection,width:24,height:24,color:s.Colors.WHITE,name:u.default.Names.CAMERA_OFF})):n||t?a(u.default,{className:l.default.status,width:20,height:20,color:s.Colors.WHITE,name:n?u.default.Names.DEAFENED:u.default.Names.MUTED}):null},t.prototype.render=function(){return a("div",{style:this.props.style,className:(0,i.default)(l.default.wrapper,this.props.className),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderContent(),this.renderOverlay())},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,o=t.user;n&&n(e,o.id)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,o=t.user;n&&n(e,o.id)},t}(r.PureComponent);p.defaultProps={ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,poorConnection:!1},t.default=p,e.exports=t.default},7105:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(5745)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u={LANDSCAPE:"landscape",PORTRAIT:"portrait"},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.children;if(null==n)return null;for(var o=t===u.LANDSCAPE?i.default.horizontal:i.default.vertical,r=t===u.LANDSCAPE?i.default.vertical:i.default.horizontal,s=n.length,d=s>3&&s%2>0?Math.floor(s/2):-1,f=[],c=[],p=s>3?2:1,h=0;h<s;h++)h===d?f.push(a("div",{style:{flex:2},className:i.default.flex},h,n[h])):c.push(n[h]),c.length===p&&(f.push(a("div",{style:{flex:1},className:(0,l.default)(r,"margin-reset")},h,c)),c=[]);return a("div",{className:(0,l.default)(o,i.default.content)},void 0,f)},t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return a("div",{className:(0,l.default)(i.default.wrapper,n),style:t},void 0,this.renderContent())},t}(r.PureComponent);d.Mode=u,d.defaultProps={mode:u.LANDSCAPE},t.default=d,e.exports=t.default},7106:function(e,t,n){e.exports=n.p+"8b47456a037cc496c55ae8f871274018.svg"},7107:function(e,t,n){e.exports=n.p+"0682cf612d4fed39efb57e0a1bcc8544.svg"},7108:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(8)),s=n(73),u=m(n(6)),d=m(n(40)),f=m(n(189)),c=n(64),p=m(c),h=m(n(5746));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={VOICE:"voice",VIDEO:"video"},E={friction:16,tension:400},S=function(e){function t(n){y(this,t);var o=v(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return g(t,e),t.prototype.render=function(){return r(d.default,{className:h.default.callButton,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER,onClick:this.handleClick},void 0,this.props.children)},t.prototype.handleClick=function(){var e=this.props,t=e.type,n=e.onClick;n&&n(t)},t}(i.PureComponent),b=function(e){function t(n){y(this,t);var o=v(this,e.call(this,n));return o._width=0,o._left=0,o.state={hovered:!1,offsetX:new f.default.Value(0)},l.default.bindAll(o,["handleMouseMove","handleMouseLeave","handleVoiceButtonClick"]),o}return g(t,e),t.prototype.renderVoiceButton=function(){return r(p.default,{className:h.default.joinVoiceCallButton,size:c.ButtonSizes.SMALL,color:c.ButtonColors.GREEN,onClick:this.handleVoiceButtonClick},void 0,this.props.text)},t.prototype.renderUnderlay=function(){var e=this.state,t=e.hovered,n={transform:[{translateX:e.offsetX.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:t?1:0};return r(f.default.div,{className:h.default.underlay,style:n})},t.prototype.renderVideoButton=function(){return r("div",{className:h.default.joinVideoCallButton,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnderlay(),r(d.default,{className:h.default.inner,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,r(S,{type:_.VIDEO,onClick:this.props.onClick},void 0,r("img",{alt:"",className:h.default.icon,src:n(7107)}),r("div",{className:h.default.buttonText},void 0,u.default.Messages.VIDEO)),r("div",{className:h.default.callDivider}),r(S,{type:_.VOICE,onClick:this.props.onClick},void 0,r("div",{className:h.default.buttonText},void 0,u.default.Messages.VOICE),r("img",{alt:"",className:h.default.icon,src:n(7106)}))))},t.prototype.render=function(){return this.props.type===_.VOICE?this.renderVoiceButton():this.renderVideoButton()},t.prototype.handleVoiceButtonClick=function(){var e=this.props.onClick;e&&e(_.VOICE)},t.prototype.handleMouseMove=function(e){var t=e.clientX;if(0===this._width){var n=(0,s.findDOMNode)(this);if(null==n||n instanceof Text)throw new Error("[UIKit]JoinCallButton.handleMouseOver(): assert failed: domNode instanceof Element");this._left=n.getBoundingClientRect().left,this._width=n.getBoundingClientRect().width}var o=Math.min(this._width/2-4,Math.max(0,t-this._left-this._width/4));f.default.spring(this.state.offsetX,a({toValue:o},E)).start(),this.state.hovered||this.setState({hovered:!0})},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t}(i.PureComponent);b.defaultProps={type:_.VOICE,text:u.default.Messages.JOIN_CALL},b.Type=_,t.default=b,e.exports=t.default},7109:function(e,t,n){e.exports=n.p+"a8fd82cc52f43902aa1113fdda7c1ef7.svg"},7110:function(e,t,n){e.exports=n.p+"7d12b6a6565c106a587c1d1f06690ca9.svg"},7111:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(73),s=d(n(5748)),u=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(n){f(this,t);var o=c(this,e.call(this,n));return o.handleMouseEnter=o.handleMouseEnter.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.children,o=e.offset,i=r({},t,{transform:"translate3d(0, "+o+"px, 0)"});return a("div",{className:s.default.card,style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n)},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleMouseLeave=function(){var e=this.props.onHover;e&&e(null)},t}(i.PureComponent),m=function(e){function t(n){f(this,t);var o=c(this,e.call(this,n));return o.state={hoverIndex:null,width:0,height:0},o.handleHover=o.handleHover.bind(o),o.setRef=o.setRef.bind(o),o.resize=o.resize.bind(o),o}return p(t,e),t.prototype.renderCards=function(){var e=this,t=this.props,n=t.cardWidth,o=t.cardHeight,r=t.children,i=this.state.height,l=r.length,s=this.state.hoverIndex,u=l-1,d=l>1?(i-o)/(l-1):o,f=o*l;return r.map(function(t,r){var l=i>f?o*r:i-o-function(e){if(null==s||e===s)return d*(u-e);var t=d*(u-s);if(e>s){var n=Math.max(t-o,20);return(u-s-1>0?n/(u-s-1):0)*(u-e)}var a=i-t-2*o,r=Math.max(a,20);return i-(s>1?r/(s-1):0)*e-o-(a<20?Math.min(a,-20):0)}(r);return a(h,{index:r,offset:l,style:{width:n,height:o},onHover:e.handleHover},r,t)}).reverse()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=this.state,a=o.width,r=o.height;return 0===a||0===r?i.createElement("div",{ref:this.setRef,className:t,style:n}):i.createElement("div",{ref:this.setRef,className:(0,u.default)(s.default.wrapper,t),style:n},this.renderCards())},t.prototype.handleHover=function(e){this.setState({hoverIndex:e})},t.prototype.setRef=function(e){this._ref=e,this.resize()},t.prototype.resize=function(){if(null!=this._ref){var e=(0,l.findDOMNode)(this._ref);null!=e&&e instanceof HTMLElement&&this.setState({width:e.clientWidth,height:e.clientHeight})}},t}(i.PureComponent);t.default=m,e.exports=t.default},7112:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),s=O(n(3)),u=O(n(189)),d=n(56),f=O(n(521)),c=O(n(191)),p=O(n(14)),h=O(n(31)),m=O(n(368)),y=O(n(58)),v=O(n(998)),g=n(6377),_=O(g),E=O(n(5985)),S=O(n(7111)),b=n(0),C=O(n(5747)),T=O(n(946)),N=O(n(5585));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=23,P=17,w=26,L={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:u.default.Easing.inOut(u.default.Easing.back()),EASING_OUT:u.default.Easing.quad},D=200,U=125,k=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o.state={scaleAnimation:new u.default.Value(0),spriteAnimation:new u.default.Value(0),spriteOpacity:new u.default.Value(0),widthAnimation:new u.default.Value(0)},o}return M(t,e),t.prototype.componentDidMount=function(){this.componentDidAppear()},t.prototype.componentDidAppear=function(){var e=this.state,t=e.scaleAnimation,n=e.widthAnimation;t.setValue(1),n.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state,n=t.scaleAnimation,o=t.widthAnimation;n.setValue(0),o.setValue(0),u.default.parallel([u.default.timing(n,{toValue:1,duration:L.DURATION_IN,easing:L.EASING_IN}),u.default.timing(o,{toValue:1,duration:D})]).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.scaleAnimation,o=t.spriteAnimation,a=t.spriteOpacity,r=t.widthAnimation;a.setValue(1),o.setValue(0);for(var i=[],l=0;l<R;l++)i.push(u.default.timing(o,{toValue:-w*l,duration:P}));u.default.sequence([u.default.timing(n,{toValue:0,duration:L.DURATION_OUT,easing:L.EASING_OUT}),u.default.sequence(i),u.default.timing(r,{toValue:0,duration:U})]).start(e)},t.prototype.getScaleStyle=function(){var e=this.state.scaleAnimation;return u.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[L.SCALE_MIN,L.SCALE_MAX]})}],opacity:e})},t.prototype.getSpriteStyle=function(){var e=this.state;return{backgroundPosition:e.spriteAnimation,opacity:e.spriteOpacity}},t.prototype.getWidthStyle=function(){return{width:this.state.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}},t.prototype.render=function(){var e,t=this.props,n=t.theme,o=t.children,a=t.className,i=n===b.ThemeTypes.DARK,s=(0,l.default)(C.default.sprite,((e={})[N.default.crossWhite]=i,e[N.default.crossGrey]=!i,e));return r(u.default.div,{className:(0,l.default)(C.default.transition,a),style:this.getWidthStyle()},void 0,r("div",{className:(0,l.default)(C.default.spriteWrapper,T.default.horizontal,T.default.justifyCenter,T.default.alignCenter)},void 0,r(u.default.div,{className:s,style:this.getSpriteStyle()})),r(u.default.div,{style:this.getScaleStyle()},void 0,o))},t}(i.PureComponent),F={friction:10,tension:200},x=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o.state={opacity:new u.default.Value(0),scale:new u.default.Value(0)},o}return M(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=e.opacity,n=e.scale;t.setValue(1),n.setValue(1)},t.prototype.animateTo=function(e,t){var n=this.state,o=n.opacity,r=n.scale;u.default.parallel([u.default.spring(o,a({toValue:e},F)),u.default.spring(r,a({toValue:e},F))]).start(t)},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,o=n.opacity,a=n.scale;o.setValue(0),a.setValue(0),clearTimeout(this._timer),this._timer=setTimeout(function(){return t.animateTo(1,e)},400)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.opacity,o=t.scale;n.setValue(1),o.setValue(1),this.animateTo(0,e)},t.prototype.componentWillUnmount=function(){clearTimeout(this._timer)},t.prototype.render=function(){var e=this.props.theme,t=this.state,o=t.opacity,a=t.scale;return r(u.default.div,{className:C.default.emptyContainer,style:{opacity:o,transform:[{scale:a},{translateZ:0}]}},void 0,r(E.default,{theme:e},void 0,r(E.default.Image,{style:{margin:0},width:210,height:92,lightSrc:n(7110),darkSrc:n(7109)})))},t}(i.Component),G=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o._timeout=new d.Timeout,o.setRef=o.setRef.bind(o),o}return M(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.windowHeight,o=t.layout;n===e.windowHeight&&o===e.layout||this.delayResize()},t.prototype.componentDidMount=function(){this.delayResize()},t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){return i.createElement(S.default,a({ref:this.setRef},this.props))},t.prototype.setRef=function(e){this._ref=e},t.prototype.delayResize=function(){var e=this;this._timeout.start(400,function(){e._ref&&e._ref.resize()})},t}(i.PureComponent),B=s.default.connectStores([c.default,m.default],function(){return{windowHeight:c.default.windowSize().height}})(G),j=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o.handleSelectParticipant=o.handleSelectParticipant.bind(o),o}return M(t,e),t.prototype.handleSelectParticipant=function(e){var t=this.props,n=t.mode,o=t.layout,a=t.selectedParticipantId,r=t.channelId;t.inCall&&n===b.ChannelModes.VIDEO&&(v.default.selectParticipant(r,a===e?null:e),o===b.ChannelLayouts.MINIMUM&&v.default.updateLayout(r,b.ChannelLayouts.NORMAL))},t.prototype.calculateAvatarSize=function(){var e=this.props,t=e.layout,n=e.windowWidth,o=e.participants,a=e.mode;if(null!=e.selectedParticipantId&&a===b.ChannelModes.VIDEO&&t!==b.ChannelLayouts.MINIMUM)return g.CallAvatarSizes.XLARGE;for(var r=t===b.ChannelLayouts.FULL_SCREEN||t===b.ChannelLayouts.NORMAL?g.CallAvatarSizes.XLARGE:g.CallAvatarSizes.XXLARGE,i=n-b.LEFT_PANEL_WIDTH,l=o?o.length:0,s=Object.keys(g.CallAvatarPixelSizes),u=0;u<s.length;u++){var d=g.CallAvatarPixelSizes[s[u]];if(!(d>g.CallAvatarPixelSizes[r])&&(a===b.ChannelModes.VIDEO&&(d*=g.CALL_AVATAR_VIDEO_RATIO),i>l*(d+=16)))return s[u]}return g.CallAvatarSizes.SMALL},t.prototype.render=function(){var e=this,t=this.props,n=t.participants,o=t.selectedParticipantId,a=t.theme,i=t.mode,s=t.inCall,u=t.layout,d=t.videoEnabled,c=t.onContextMenu,h=this.calculateAvatarSize(),m=n.find(function(e){return e.user.id===p.default.getId()}),v=null==m||m.ringing,E=i===b.ChannelModes.VIDEO&&v?g.CallAvatarPixelSizes[h]*g.CALL_AVATAR_VIDEO_RATIO:g.CallAvatarPixelSizes[h],S=n.map(function(t){var n,f=t.speaking,m=t.soundsharing,g=t.user,S=t.streamId,T=t.voiceState,N=t.ringing,O=g.id===p.default.getId()&&d,I=y.default.getMediaEngine().Video;return r(k,{width:E,theme:a,className:(0,l.default)((n={},n[C.default.avatarMargin]=i===b.ChannelModes.VOICE||v,n))},g.id,r(_.default,{id:g.id,name:g.username,selected:u!==b.ChannelLayouts.MINIMUM&&o===g.id,speaking:f,soundsharing:m,mode:i,muted:T&&(T.mute||T.selfMute),deafen:T&&(T.deaf||T.selfDeaf),ringing:N,src:g.getAvatarURL(),hasVideo:T&&T.selfVideo,streamId:s&&S,mirror:O,size:h,onClick:e.handleSelectParticipant,onContextMenu:c,videoComponent:I,disabled:v}))});if(0===S.length&&S.push(r(x,{theme:a},"empty")),i===b.ChannelModes.VIDEO&&!v){var N=E+8;return r(f.default,{component:B,layout:u,style:{width:N},cardWidth:N,cardHeight:N,className:(0,l.default)(C.default.wrapper,T.default.vertical,T.default.alignEnd,T.default.spacer)},void 0,S)}return r(f.default,{component:"div",className:(0,l.default)(C.default.wrapper,T.default.alignEnd,T.default.spacer,u===b.ChannelLayouts.MINIMUM?T.default.horizontal+" "+T.default.justifyCenter:T.default.vertical)},void 0,S)},t}(i.PureComponent);t.default=s.default.connectStores([c.default,m.default,h.default],function(e){return a({windowWidth:c.default.windowSize().width,selectedParticipantId:m.default.getSelectedParticipantId(e.channelId),theme:h.default.theme},e)})(j),e.exports=t.default},7113:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(73),u=se(n(8)),d=se(n(9)),f=se(n(3)),c=n(56),p=n(100),h=se(n(368)),m=se(n(144)),y=se(n(378)),v=se(n(89)),g=se(n(363)),_=se(n(58)),E=se(n(953)),S=se(n(31)),b=se(n(12)),C=se(n(14)),T=se(n(951)),N=se(n(191)),O=se(n(68)),I=(se(n(124)),se(n(364))),A=se(n(165)),M=se(n(522)),R=se(n(998)),P=se(n(6056)),w=se(n(38)),L=n(540),D=n(33),U=se(n(942)),k=se(n(6008)),F=se(n(1189)),x=n(0),G=se(n(6)),B=n(6107),j=n(143),V=se(n(6204)),H=se(n(6045)),Y=se(n(79)),W=se(n(87)),z=n(64),K=se(z),$=se(n(6378)),q=se(n(6157)),X=se(n(6156)),Q=se(n(40)),J=se(n(7112)),Z=se(n(7108)),ee=se(n(142)),te=se(n(7105)),ne=se(n(7104)),oe=se(n(369)),ae=se(n(6155)),re=n(7101),ie=se(n(6154)),le=se(n(5741));function se(e){return e&&e.__esModule?e:{default:e}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ce=((a={})[x.ChannelLayouts.NORMAL]=le.default.normal,a[x.ChannelLayouts.MINIMUM]=le.default.minimum,a[x.ChannelLayouts.NO_CHAT]=le.default.noChat,a[x.ChannelLayouts.FULL_SCREEN]=le.default.fullScreen,a),pe={grey:{screenshare:n(7099),camera:n(7098),cameraOff:n(7097),cameraOffHover:n(7096),fullScreen:n(7095),fullScreenOff:n(7094),mute:n(7093),muteHover:n(7092),muteOff:n(7091),settings:n(7090)},white:{screenshare:n(7089),camera:n(7088),cameraOff:n(7087),cameraOffHover:n(7086),fullScreen:n(7085),fullScreenOff:n(7084),mute:n(7083),muteHover:n(6158),muteOff:n(6159),settings:n(7082)}},he=function(e){var t=e.value,n=e.activeTooltip,o=e.inactiveTooltip,a=e.activeSrc,r=e.inactiveSrc,l=e.activeSrcHover,s=e.inactiveSrcHover,u=e.onChange;return i(ee.default,{text:t?n:o},void 0,i(V.default,{className:le.default.toggleButton,value:t,activeSrc:a,inactiveSrc:r,activeSrcHover:l,inactiveSrcHover:s,onChange:u}))},me=function(e){function t(){return ue(this,t),de(this,e.apply(this,arguments))}return fe(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.muted,o=e.onChange;return i(he,{value:n,activeTooltip:G.default.Messages.UNMUTE,inactiveTooltip:G.default.Messages.MUTE,activeSrc:pe[t].mute,activeSrcHover:pe[t].muteHover,inactiveSrc:pe[t].muteOff,onChange:o})},t}(l.PureComponent),ye=f.default.connectStores([_.default],function(){return{muted:_.default.isSelfMute()||_.default.isSelfMutedTemporarily()}})(me),ve=function(e){var t=e.color,n=e.onClick;return i(ee.default,{text:G.default.Messages.USER_SETTINGS},void 0,i(H.default,{className:le.default.actionButton,src:pe[t].settings,onClick:n}))},ge=function(e){function t(n){ue(this,t);var o=de(this,e.call(this,n));return o.handleDoubleClick=o.handleDoubleClick.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return fe(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return i("div",{className:t,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,n)},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,o=t.id;n&&n(e,o)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,o=t.id;n&&n(e,o)},t}(l.PureComponent),_e=function(e){function t(n){ue(this,t);var o=de(this,e.call(this,n));return o._ringingSound=(0,L.createSound)("call_calling"),o._prevLayout=x.ChannelLayouts.MINIMUM,o._callRef=null,o._timeout=new c.Timeout,u.default.bindAll(o,["handleToggleCamera","handleStartVideo","handleStartScreenShare","handleToggleSelfMute","handleConnect","handleDisconnect","handleOpenSettings","handleChangeLayout","handleToggleLayout","handleFullScreen","handleDoubleClick","handleOpenUserContextMenu","handleCameraUnavailable","handleScreenshareUnavailable","setCallRef","handleFullScreenChange"]),o}return fe(t,e),t.prototype.componentDidMount=function(){document.addEventListener(B.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentWillUnmount=function(){this.stopRinging(),this._timeout.stop(),document.removeEventListener(B.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onResize,o=t.call,a=t.participants,r=t.inCall,i=t.mode,l=t.layout;e.mode===x.ChannelModes.VIDEO&&i===x.ChannelModes.VOICE&&(0,B.isFullScreen)()&&(0,B.exitFullScreen)(F.default.resized),null!=n&&e.participants!==a&&n(),null!=n&&e.layout!==l&&(this._timeout.stop(),this._timeout.start(350,n)),null!=o&&o.ringing.length>0&&r&&1===a.filter(function(e){return!e.ringing}).length?this.startRinging():this.stopRinging()},t.prototype.handleFullScreenChange=function(){(0,B.isFullScreen)()||this.props.layout!==x.ChannelLayouts.FULL_SCREEN||this.handleFullScreen()},t.prototype.handleFullScreen=function(){var e=(0,s.findDOMNode)(this._callRef);this.props.layout!==x.ChannelLayouts.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(x.ChannelLayouts.FULL_SCREEN),(0,B.requestFullScreen)(e,F.default.resized)):(this.handleChangeLayout(this._prevLayout),(0,B.exitFullScreen)(F.default.resized))},t.prototype.handleStartVideo=function(){I.default.setVideoEnabled(!0)},t.prototype.handleToggleCamera=function(e){e!==this.props.videoEnabled&&(I.default.setVideoEnabled(e),this.handleStartScreenShare(!1))},t.prototype.handleStartScreenShare=function(e,t){if(e!==this.props.screenSharingEnabled){var n=this.props.channel,o=O.default.getCurrentGame();e&&null==o?P.default.open(n):t?(0,D.openContextMenu)(t,function(e){return l.createElement(ie.default,r({},e,{channel:n,game:o}))}):I.default.setDesktopSource(null)}},t.prototype.handleToggleLayout=function(){this.handleChangeLayout(this.props.layout===x.ChannelLayouts.NORMAL?x.ChannelLayouts.NO_CHAT:x.ChannelLayouts.NORMAL)},t.prototype.handleChangeLayout=function(e){this.props.layout!==e&&(R.default.updateLayout(this.props.channel.id,e),e===x.ChannelLayouts.FULL_SCREEN&&j.ComponentDispatch.dispatch(x.ComponentActions.TEXTAREA_BLUR))},t.prototype.handleToggleSelfMute=function(){I.default.toggleSelfMute()},t.prototype.handleDisconnect=function(){this.props.layout===x.ChannelLayouts.FULL_SCREEN&&this.handleFullScreen(),A.default.selectVoiceChannel(null,null)},t.prototype.handleConnect=function(e){var t=this.props.channel;A.default.selectVoiceChannel(t.getGuildId(),t.id,e===Z.default.Type.VIDEO)},t.prototype.handleOpenSettings=function(){M.default.open(x.UserSettingsSections.VOICE)},t.prototype.handleOpenUserContextMenu=function(e,t){var n=this;(0,D.openContextMenu)(e,function(e){return l.createElement(U.default,r({},e,{type:x.ContextMenuTypes.USER_GROUP_DM,user:b.default.getUser(t),channelId:n.props.channel.id}))})},t.prototype.handleDoubleClick=function(e,t){var n=this.props,o=n.channel,a=n.selectedParticipantId;null==a?R.default.selectParticipant(o.id,t):a===t&&R.default.selectParticipant(o.id,null)},t.prototype.handleCameraUnavailable=function(){var e=this,t=this.props.cameraGranted;w.default.push(function(n){return l.createElement(ae.default,r({},n,{title:G.default.Messages.CAMERA_UNAVAILABLE,description:t?G.default.Messages.CAMERA_NO_DEVICE:G.default.Messages.CAMERA_NO_ACCESS,confirmText:t?G.default.Messages.OKAY:G.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:t?w.default.pop:e.handleStartVideo}))})},t.prototype.handleScreenshareUnavailable=function(){function e(){w.default.push(oe.default,{source:"Screenshare Unavailable"})}w.default.push(function(t){return l.createElement(ae.default,r({},t,{title:G.default.Messages.SCREENSHARE_UNAVAILABLE,description:G.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:G.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},t.prototype.renderRegionSelect=function(){return i(Q.default,{className:le.default.info})},t.prototype.renderParticipants=function(){var e=this.props,t=e.selectedParticipantId,n=e.participants,o=e.mode,a=e.layout,r=e.channel,l=e.inCall,s=e.videoEnabled;return a!==x.ChannelLayouts.MINIMUM&&null==t?null:i(J.default,{channelId:r.id,participants:n,mode:o,layout:a,inCall:l,videoEnabled:s,onContextMenu:this.handleOpenUserContextMenu})},t.prototype.renderLeftButtonGroups=function(){var e=this,t=this.props,n=t.channel,o=t.mode,a=t.layout,r=t.mentionCount;if(o===x.ChannelModes.VOICE||!n.isPrivate())return null;var l=void 0;if(a!==x.ChannelLayouts.FULL_SCREEN&&a!==x.ChannelLayouts.NO_CHAT||(l=i(k.default,{className:le.default.badge,value:r})),a===x.ChannelLayouts.FULL_SCREEN){return i(Q.default,{className:(0,d.default)(le.default.iconsWrapper,le.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(W.default,{onClick:function(){e._prevLayout=x.ChannelLayouts.NORMAL,e.handleFullScreen()}},void 0,i(Y.default,{className:le.default.iconButton,color:x.Colors.WHITE,name:Y.default.Names.ARROW_UP})),l)}return i(Q.default,{className:(0,d.default)(le.default.iconsWrapper,le.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(W.default,{onClick:this.handleToggleLayout},void 0,i(Y.default,{className:le.default.iconButton,color:x.Colors.WHITE,name:a===x.ChannelLayouts.NO_CHAT?Y.default.Names.ARROW_UP:Y.default.Names.ARROW_DOWN})),l)},t.prototype.renderRightButtonGroups=function(e){var t=this.props,n=t.mode,o=t.layout;return n===x.ChannelModes.VOICE?null:i(Q.default,{className:(0,d.default)(le.default.iconsWrapper,le.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(H.default,{className:le.default.actionButton,src:o===x.ChannelLayouts.FULL_SCREEN?pe[e].fullScreenOff:pe[e].fullScreen,onClick:this.handleFullScreen}))},t.prototype.renderVideoButton=function(e){var t=this.props,n=t.videoEnabled,o=t.cameraGranted,a=t.cameraDisabled;return!1===o||!0===a?i(ee.default,{text:o?G.default.Messages.CAMERA_UNAVAILABLE:G.default.Messages.CAMERA_NOT_ENABLED},void 0,i(H.default,{className:(0,d.default)(le.default.actionButton,le.default.unavailable),src:pe[e].camera,onClick:this.handleCameraUnavailable})):i(he,{value:n,activeTooltip:G.default.Messages.CAMERA_OFF,inactiveTooltip:G.default.Messages.CAMERA_ON,activeSrc:pe[e].camera,inactiveSrc:pe[e].cameraOff,inactiveSrcHover:pe[e].cameraOffHover,onChange:this.handleToggleCamera})},t.prototype.renderScreenshareButton=function(e){var t=this.props,n=t.screenSharingEnabled,o=t.screenshareUnavailable;return t.layout===x.ChannelLayouts.FULL_SCREEN?null:o?i(ee.default,{text:G.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,i(H.default,{className:(0,d.default)(le.default.actionButton,le.default.unavailable),src:pe[e].screenshare,onClick:this.handleScreenshareUnavailable})):i(he,{value:n,activeTooltip:G.default.Messages.SCREEN_SHARE_OPTIONS,inactiveTooltip:G.default.Messages.SCREEN_SHARE_ON,activeSrc:pe[e].screenshare,inactiveSrc:pe[e].screenshare,onChange:this.handleStartScreenShare})},t.prototype.renderSettingsButton=function(e){return this.props.layout!==x.ChannelLayouts.FULL_SCREEN?i(ve,{color:e,onClick:this.handleOpenSettings}):null},t.prototype.renderActionButtonGroups=function(){var e=this.props,t=e.channel,n=e.mode,o=e.layout,a=e.inCall,r=e.theme,l=e.cameraGranted,s=e.cameraDisabled,u=e.video,f=t.isManaged()||!t.isPrivate();if(!a){var c=n===x.ChannelModes.VIDEO&&l&&!s?Z.default.Type.VIDEO:Z.default.Type.VOICE;return i(Q.default,{className:le.default.actions,justify:Q.default.Justify.CENTER},void 0,i(Z.default,{type:c,onClick:this.handleConnect,text:f?G.default.Messages.CONNECT:G.default.Messages.JOIN_CALL}))}var p=r===x.ThemeTypes.LIGHT&&o===x.ChannelLayouts.MINIMUM?"grey":"white";return u?i(Q.default,{className:le.default.actions,justify:Q.default.Justify.BETWEEN},void 0,i(Q.default,{basis:"50%"},void 0,this.renderLeftButtonGroups()),i(Q.default,{className:(0,d.default)(le.default.iconsWrapper,le.default.center),align:Q.default.Align.CENTER,justify:Q.default.Justify.CENTER,grow:0},void 0,this.renderScreenshareButton(p),this.renderVideoButton(p),i(K.default,{className:le.default.exitButton,color:z.ButtonColors.RED,size:z.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?G.default.Messages.DISCONNECT:G.default.Messages.LEAVE_CALL),i(ye,{color:p,onChange:this.handleToggleSelfMute}),this.renderSettingsButton(p)),i(Q.default,{justify:Q.default.Justify.END,basis:"50%"},void 0,this.renderRightButtonGroups(p))):i(Q.default,{className:le.default.actions,justify:Q.default.Justify.CENTER},void 0,i(Q.default,{className:(0,d.default)(le.default.iconsWrapper,le.default.center),align:Q.default.Align.CENTER,justify:Q.default.Justify.CENTER,grow:0},void 0,i(ye,{color:p,onChange:this.handleToggleSelfMute}),i(K.default,{className:(0,d.default)(le.default.exitButton,le.default.voice),color:z.ButtonColors.RED,size:z.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?G.default.Messages.DISCONNECT:G.default.Messages.LEAVE_CALL),this.renderSettingsButton(p)))},t.prototype.calculateGridSize=function(e){var t=this.props,n=t.windowSize,o=t.layout,a=n.width,r=n.height;switch(o){case x.ChannelLayouts.NORMAL:a-=x.LEFT_PANEL_WIDTH,r/=2;break;case x.ChannelLayouts.NO_CHAT:a-=x.LEFT_PANEL_WIDTH}r=Math.max(r,275),r-=120;var i=e<4?1:2,l=Math.floor(e/i)+(i>1&&e%2!=0?2:0),s=a>r?te.default.Mode.LANDSCAPE:te.default.Mode.PORTRAIT;if(s===te.default.Mode.PORTRAIT){var u=i;i=l,l=u}var d=1*l/i,f=r*(16/9*l/i);return f<a?{mode:s,style:{width:f/a*100+"%",height:"100%"}}:(f=r*d)<a?{mode:s,style:{width:"100%",height:"100%"}}:{mode:s,style:{width:"100%",height:a/d/r*100+"%"}}},t.prototype.renderBackground=function(){var e=this,t=this.props,n=t.layout,o=t.selectedParticipantId,a=t.videoEnabled,s=t.participants,u=_.default.getMediaEngine().Video,d=C.default.getId();if(n===x.ChannelLayouts.MINIMUM)return null;if(null==o){var f=s.map(function(t){var n=t.user,o=t.voiceState,r=t.streamId,l=n.id===d&&a;return i(ne.default,{user:n,mirror:l,streamId:r,videoComponent:u,muted:o&&(o.mute||o.selfMute)||!1,deafen:o&&(o.deaf||o.selfDeaf)||!1,hasVideo:o&&o.selfVideo||!1,onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleOpenUserContextMenu},n.id)});return i(Q.default,{justify:Q.default.Justify.CENTER,align:Q.default.Align.CENTER,className:le.default.videoBackgroundWrapper},void 0,l.createElement(te.default,r({className:le.default.videoBackground},this.calculateGridSize(f.length)),f))}var c=s.find(function(e){return e.user.id===o});if(null==c)return null;var p=c.voiceState,h=c.user,m=c.streamId,y=void 0;return y=p&&p.selfVideo&&null!=u?i(q.default,{streamId:m,mirror:o===d&&a,videoComponent:u}):i(X.default,{user:h,avatarSize:X.default.AvatarSizes.PROFILE}),i(ge,{className:le.default.videoBackground,id:o,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleOpenUserContextMenu},void 0,y)},t.prototype.render=function(){var e=this.props,t=e.participants,n=e.layout,o=e.selectedParticipantId,a=e.inCall,r=e.focused;return t&&t.length?l.createElement($.default,{ref:this.setCallRef,className:(0,d.default)(le.default.wrapper,ce[n]),animated:a,layout:n,focused:r,backgroundKey:o,background:this.renderBackground(),top:this.renderRegionSelect(),center:this.renderParticipants(),bottom:this.renderActionButtonGroups()}):null},t.prototype.setCallRef=function(e){this._callRef=e},t.prototype.startRinging=function(){this.props.disableSounds||E.default.isSoundDisabled("call_calling")||this._ringingSound.loop()},t.prototype.stopRinging=function(){this._ringingSound.stop()},t}(l.PureComponent);t.default=f.default.connectStores([h.default,m.default,y.default,_.default,v.default,S.default,T.default,g.default,N.default],function(e){var t=e.channel,n=_.default.supports(p.Features.VIDEO),o=h.default.getParticipants(t.id),a=v.default.isInChannel(t.getGuildId(),t.id),r=n?h.default.getMode(t.id):x.ChannelModes.VOICE,i=(0,u.default)(_.default.getVideoDevices()).values().first(),l=null==i||i.disabled,s=a&&r===x.ChannelModes.VIDEO?h.default.getLayout(t.id):x.ChannelLayouts.MINIMUM;return s!==x.ChannelLayouts.FULL_SCREEN&&t.type===x.ChannelTypes.GUILD_VOICE&&(s=x.ChannelLayouts.NO_CHAT),s===x.ChannelLayouts.NO_CHAT&&(r=x.ChannelModes.VIDEO),{channel:t,video:n,mode:r,participants:o,selectedParticipantId:h.default.getSelectedParticipantId(t.id),call:y.default.getCall(t.id),inCall:a,layout:s,disableSounds:m.default.disableSounds,videoEnabled:_.default.isVideoEnabled(),screenSharingEnabled:_.default.isScreenSharing(),theme:S.default.theme,cameraGranted:_.default.isEnabled(),cameraDisabled:l||!_.default.isEnabled(),screenshareUnavailable:!_.default.supports(p.Features.DESKTOP_CAPTURE),focused:T.default.isOpen(re.QUICK_REGION_SELECT_KEY),mentionCount:g.default.getMentionCount(t.id),windowSize:N.default.windowSize()}})(_e),e.exports=t.default},7114:function(e,t,n){"use strict";t.__esModule=!0,t.getRecipients=function(e){return(0,o.default)(e).map(a.default.getUser).filter(function(e){return null!=e}).unshift(a.default.getCurrentUser()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return{key:e.id,user:e}}).value()};var o=r(n(8)),a=r(n(12));function r(e){return e&&e.__esModule?e:{default:e}}},7115:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=I(n(55)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=I(n(43)),u=I(n(57)),d=I(n(6)),f=I(n(3)),c=n(33),p=I(n(966)),h=I(n(531)),m=I(n(942)),y=I(n(223)),v=I(n(12)),g=I(n(80)),_=I(n(59)),E=I(n(976)),S=I(n(124)),b=n(0),C=n(7114),T=I(n(6385)),N=I(n(191)),O=I(n(5588));function I(e){return e&&e.__esModule?e:{default:e}}var A=(0,s.default)({displayName:"PrivateChannelRecipient",mixins:[f.default.LazyStoreListenerMixin(g.default,_.default,E.default,N.default),u.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.user,n=e.channel,o=void 0,a=void 0;return(_.default.isFriend(t.id)||t===v.default.getCurrentUser())&&(o=g.default.getStatus(t.id),a=g.default.getPrimaryActivity(t.id)),{typing:null!=E.default.getTypingUsers(n.id)[t.id],isFocused:N.default.isFocused(),status:o,activity:a}},handleContextMenu:function(e){var t=this.props,n=t.user,o=t.channel;(0,c.openContextMenu)(e,function(e){return l.createElement(m.default,r({},e,{type:b.ContextMenuTypes.USER_GROUP_DM,user:n,channelId:o.id}))})},renderUserPopout:function(e){var t=this.props,n=t.user,o=t.channel;return l.createElement(h.default,r({},e,{user:n,channelId:o.id}))},render:function(){var e=this.props,t=e.user,n=e.channel,o=this.state,r=o.status,i=o.activity,l=o.typing,s=o.isFocused;return a(y.default,{closeOnScroll:!1,render:this.renderUserPopout,position:y.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,a(T.default,{user:t,isOwner:t.id===n.ownerId,ownerTooltipText:d.default.Messages.GROUP_OWNER,shouldAnimateTypingIndicator:s,isTyping:l,status:r,activity:i,onContextMenu:this.handleContextMenu},t.id))}}),M=(0,s.default)({displayName:"PrivateChannelRecipients",mixins:[f.default.LazyStoreListenerMixin(v.default)],propTypes:{channel:i.default.instanceOf(S.default).isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{recipients:(0,C.getRecipients)(this.props.channel.recipients)}},UNSAFE_componentWillReceiveProps:function(e){var t=e.channel;this.setState({recipients:(0,C.getRecipients)(t.recipients)})},renderMembers:function(){var e=this.props.channel;return this.state.recipients.map(function(t){return l.createElement(A,r({},t,{channel:e}))})},render:function(){var e=this.state.recipients;return a("div",{className:O.default.membersWrap},void 0,a(p.default,{className:O.default.members,fade:!0,theme:"light"},void 0,a("h2",{className:O.default.membersGroup},void 0,d.default.Messages.MEMBERS,"",e.length),this.renderMembers()))}});t.default=M,e.exports=t.default},7116:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(3)),a=h(n(2)),r=h(n(8)),i=n(0),l=h(n(12)),s=h(n(65)),u=h(n(18)),d=h(n(6228)),f=h(n(6416)),c=h(n(59)),p=h(n(124));function h(e){return e&&e.__esModule?e:{default:e}}var m=1e3,y=void 0,v=!1,g="",_=0,E=[],S=!1,b=new Set;function C(){g="",_=0,E=[],b=new Set,v=!1}function T(e){g=e,_=0,O()}function N(){var e=s.default.getChannelId();return null!=e?u.default.getChannel(e):null}function O(){if(!v)return!1;if(0===g.trim().length)return null!=y&&y.clearQuery(),E=function(){var e=c.default.getFriendIDs(),t=N();null!=t&&(e=e.filter(function(e){return!t.recipients.includes(e)}));return e=e.reduce(function(e,t){var n=l.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(A)}(),!0;var e,t,n,o=N(),a=null!=o?o.recipients:[];return null!=y&&y.setQuery(g,{friends:!0},a,null,(e=f.default.getFrequently().filter(function(e){return e instanceof p.default&&e.type===i.ChannelTypes.DM}),t=Math.max.apply(Math,e.map(function(e){var t=e.id;return f.default.getScore(t)})),n={},e.forEach(function(e){var o=f.default.getScore(e.id),a=e.getRecipientId(),r=c.default.isFriend(a)?.2:0,i=u.default.getDMFromUserId(a)?.1:0;n[a]=1+o/t+r+i}),n)),!1}function I(){if(!v)return!1;var e=S;return(S=r.default.some(c.default.getRelationships(),function(e){return e===i.RelationshipTypes.FRIEND}))!==e}function A(e,t){return e.user.usernameLowerCase.localeCompare(t.user.usernameLowerCase)}function M(e){var t=e.results;v&&""!==g&&(E=t.map(function(e){var t=e.user,n=e.id,o=e.score,a=e.comparator;return{user:null!=t?t:l.default.getUser(n),score:o,comparator:a}}),w.emitChange())}function R(e){if((e.type===i.ActionTypes.POPOUT_OPEN?e.popout.key:e.key)!==i.NEW_GROUP_DM_POPOUT_ID)return!1;v=!0,I(),y=d.default.getSearchContext(M,m),T("")}function P(e){if(e.key!==i.NEW_GROUP_DM_POPOUT_ID)return!1;null!=y&&(y.destroy(),y=null),C()}var w=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default,c.default),this.syncWith([l.default,u.default],O),this.syncWith([c.default],I)},t.prototype.getState=function(){return{query:g,selectedRow:_,selectedUsers:b,results:E,hasFriends:S}},t}(o.default.Store))(a.default,{CONNECTION_OPEN:function(e){C()},CHANNEL_SELECT:function(e){if(null!=e.guildId)return!1;var t=v;C(),v=t,O()},POPOUT_OPEN:R,MODAL_PUSH:R,POPOUT_CLOSE:P,MODAL_POP:P,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){T(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){_=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;b.add(t),b=new Set(b)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;b.delete(t),b=new Set(b)}});t.default=w,e.exports=t.default},7117:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={search:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:e})},clear:function(){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:""})},select:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT,row:e})},addUser:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_ADD_USER,userId:e})},removeUser:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER,userId:e})}},e.exports=t.default},7118:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=h(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(43))),l=h(n(3)),s=h(n(142)),u=h(n(6035)),d=h(n(79)),f=h(n(269)),c=h(n(6047)),p=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"ChannelMuteButton",mixins:[l.default.StoreListenerMixin(f.default)],propTypes:{channel:r.default.object.isRequired,legacy:r.default.bool},getDefaultProps:function(){return{legacy:!1,channel:r.default.object.isRequired}},getStateFromStores:function(){return{isMuted:f.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({isMuted:f.default.isChannelMuted(e.channel.getGuildId(),e.channel.id)})},handleClick:function(){c.default.updateChannelOverrideSettings(this.props.channel.getGuildId(),this.props.channel.id,{muted:!this.state.isMuted})},render:function(){return a(s.default,{text:p.default.Messages.CHANNEL_MUTE_TOOLTIP,position:s.default.Positions.BOTTOM},void 0,a(u.default.Icon,{name:this.state.isMuted?d.default.Names.NOTIFICATION_BELL_OFF:d.default.Names.NOTIFICATION_BELL,onClick:this.handleClick}))}});t.default=m,e.exports=t.default},7119:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=S(n(1)),l=E(n(43)),s=E(n(6)),u=E(n(3)),d=n(0),f=E(n(6381)),c=E(n(164)),p=E(n(67)),h=E(n(6091)),m=E(n(12)),y=E(n(6088)),v=S(n(544)),g=E(n(943)),_=E(n(38));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var b=(0,l.default)({displayName:"GuildVerification",mixins:[u.default.StoreListenerMixin(y.default)],getStateFromStores:function(){return y.default.getCheck(this.props.channel.getGuildId())},UNSAFE_componentWillReceiveProps:function(e){this.setState(y.default.getCheck(e.channel.getGuildId()))},handleClaimAccount:function(){v.open()},handleVerifyPhone:function(){_.default.push(function(e){return i.createElement(h.default,e)})},handleResendVerification:function(){g.default.verifyResend(),_.default.push(function(e){return i.createElement(c.default,a({header:s.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:s.default.Messages.OKAY,red:!1},e),r(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,s.default.Messages.VERIFICATION_EMAIL_BODY.format({email:m.default.getCurrentUser().email})))})},render:function(){var e={};return this.state.notClaimed?this.props.allowUnclaimed||(e.message=s.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED,e.buttonText=s.default.Messages.CLAIM_ACCOUNT,e.onButtonClick=this.handleClaimAccount):this.state.notPhoneVerified?(e.message=s.default.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED,e.buttonText=s.default.Messages.VERIFY_PHONE,e.onButtonClick=this.handleVerifyPhone):this.state.notEmailVerified?(e.message=s.default.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED,e.buttonText=s.default.Messages.RESEND_VERIFICATION_EMAIL,e.onButtonClick=this.handleResendVerification):this.state.newMember?(e.message=s.default.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:d.VerificationCriteria.MEMBER_AGE}),e.countdown=this.state.memberDeadline):this.state.newAccount&&(e.message=s.default.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:d.VerificationCriteria.ACCOUNT_AGE}),e.countdown=this.state.accountDeadline),i.createElement(f.default,e,this.props.children)}});t.default=b,e.exports=t.default},7120:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(8)),l=u(n(9)),s=u(n(5755));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._interval=setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},t.prototype.render=function(){var e,t=this.props,n=t.deadline,o=t.className,r=t.neverClassName,u=void 0;if(n===1/0)u="";else{var d=Math.max(0,n-Date.now())/1e3,f=[Math.floor(d/86400),Math.floor((d%=86400)/3600),Math.floor((d%=3600)/60),Math.floor(d%60)];0===f[0]&&f.shift(),u=(0,i.default)(f).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,a("span",{className:s.default.number},t,e)]}).flatten().value()}return a("span",{className:(0,l.default)(s.default.countdown,o,(e={},e[r||s.default.never]=n===1/0,e))},void 0,u)},t}(r.Component);t.default=d,e.exports=t.default},7121:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=f(n(43)),r=f(n(6)),i=f(n(3)),l=n(0),s=f(n(6381)),u=f(n(278)),d=f(n(59));function f(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.default)({displayName:"DMVerification",mixins:[i.default.StoreListenerMixin(d.default)],getStateFromStores:function(){return this.getState(this.props.channel)},UNSAFE_componentWillReceiveProps:function(e){this.setState(this.getState(e.channel))},getState:function(e){return{isBlocked:e.type!==l.ChannelTypes.GROUP_DM&&d.default.isBlocked(e.getRecipientId())}},handleUnblock:function(){u.default.removeRelationship(this.props.channel.getRecipientId())},render:function(){var e={};return this.state.isBlocked&&(e.message=r.default.Messages.DM_VERIFICATION_TEXT_BLOCKED,e.buttonText=r.default.Messages.UNBLOCK,e.onButtonClick=this.handleUnblock),o.createElement(s.default,e,this.props.children)}});t.default=c,e.exports=t.default},7122:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(8)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={focused:!1,lastGoodValue:n.value,value:n.value},i.default.bindAll(o,["handleChange","handleFocus","handleBlur","handleKeyPress"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=e.value&&e.value!==this.props.value&&this.verifyLength(e.value)&&this.setState({value:e.value})},t.prototype.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&this.refs.INPUT_REF.focus()},t.prototype.handleChange=function(e){this.setState({value:e.currentTarget.value});var t=this.props.onChange;t&&t(e)},t.prototype.handleFocus=function(e){this.setState({focused:!0,lastGoodValue:e.currentTarget.value});var t=this.props.onFocus;t&&t(e)},t.prototype.handleBlur=function(e){if(this.verifyLength()){this.setState({focused:!1});var t=this.props.onBlur;t&&t(e)}else this.setState({focused:!1,value:this.state.lastGoodValue})},t.prototype.handleKeyPress=function(e){13===e.which&&this.refs.INPUT_REF.blur()},t.prototype.render=function(){var e=void 0,t={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:t.opacity=0,a("div",{className:(0,l.default)("input-autosize",{focus:this.state.focused},this.props.className)},void 0,a("div",{className:"input-autosize-inner",style:{position:"relative"}},void 0,r.createElement("input",{className:"input-autosize-input",ref:"INPUT_REF",style:t,key:this.props.value,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),r.createElement("div",{className:"input-autosize-input",style:e,ref:"VALUE_REF"},this.state.value)))},t.prototype.verifyLength=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||this.state.value||"";return!(this.props.minLen&&e.length<this.props.minLen||this.props.maxLen&&e.length>this.props.maxLen)},t}(r.Component);t.default=u,e.exports=t.default},7129:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(40)),u=n(263),d=f(n(5761));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=Object.freeze({SINGLE_AVATAR:"1",MULTIPLE_AVATAR:"2"}),h=((a={})[u.AvatarSizes.SMALL]=d.default.avatarSmall,a[u.AvatarSizes.LARGE]=d.default.avatarLarge,a),m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.placeholderMaxWidth=Math.floor(40*Math.random())+40+"%",c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.avatarSize,o=e.className;return t===p.MULTIPLE_AVATAR?r("div",{className:(0,l.default)(d.default.multiplePlaceholder,o)},void 0,r(s.default,{},void 0,r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])})),r(s.default,{grow:1,className:d.default.mulitplePlaceholderUsername,style:{maxWidth:this.placeholderMaxWidth}})):r(s.default,{className:(0,l.default)(d.default.placeholder,o)},void 0,r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])}),r(s.default,{grow:1,className:d.default.placeholderUsername,style:{maxWidth:this.placeholderMaxWidth}}))},t}(i.Component);m.defaultProps={type:p.SINGLE_AVATAR},m.Types=p,t.default=m,e.exports=t.default},7130:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=I(n(55)),l=I(n(8)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=I(n(43)),d=I(n(6423)),f=I(n(275)),c=I(n(942)),p=I(n(531)),h=n(33),m=n(1206),y=I(n(223)),v=I(n(6385)),g=n(1022),_=I(g),E=I(n(976)),S=I(n(191)),b=I(n(3)),C=n(6007),T=I(C),N=n(0),O=I(n(5588));function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=(0,u.default)({displayName:"ChannelMember",mixins:[b.default.StoreListenerMixin(E.default,S.default)],propTypes:{colorString:i.default.any,user:i.default.object.isRequired,channelId:i.default.string.isRequired,guildId:i.default.string.isRequired,status:i.default.oneOf(Object.values(N.StatusTypes))},shouldComponentUpdate:function(e,t){return!(0,f.default)(this.props,e,["channelId"])||!(0,f.default)(this.state,t)},getStateFromStores:function(){return{isTyping:E.default.isTyping(this.props.channelId,this.props.user.id),isFocused:S.default.isFocused()}},renderUserContextMenu:function(e){var t=this;(0,h.openContextMenu)(e,function(e){return s.createElement(c.default,r({},e,{type:N.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channelId}))})},renderUserPopout:function(e){return s.createElement(p.default,r({},e,{user:this.props.user,guildId:this.props.guildId,channelId:this.props.channelId}))},render:function(){var e=this.state,t=e.isFocused,n=e.isTyping,o=this.props,r=o.colorString,i=o.isOwner,l=o.nick,s=o.user,u=o.activity,d=o.status;return a(y.default,{closeOnScroll:!1,render:this.renderUserPopout,position:y.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,a(v.default,{onContextMenu:this.renderUserContextMenu,shouldAnimateTypingIndicator:t,user:s,nick:l,status:d,activity:u,isOwner:i,colorString:r,darkenColor:d===N.StatusTypes.OFFLINE,isTyping:n}))}}),R=function(e){var t=e.id,n=e.title,o=e.count;return t===N.StatusTypes.UNKNOWN?a("div",{className:O.default.membersGroup},void 0,a("div",{className:O.default.memberGroupsPlaceholder})):a("div",{className:O.default.membersGroup},void 0,n,"",o)},P=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),d=0;d<i;d++)u[d]=arguments[d];return n=o=A(this,e.call.apply(e,[this].concat(u))),o.setList=function(e){o._list=e},o.renderSection=function(e){var t=o.props.groups[e];return s.createElement(R,r({},t,{key:e}))},o.renderRow=function(e,t){var n=o.props,i=n.channel,l=n.groups,u=n.rows[l[e].index+1+t];return null!=u&&u.type===g.MemberListRowTypes.MEMBER?s.createElement(M,r({key:u.user.id},u,{channelId:i.id,guildId:i.guild_id})):a(v.default,{},e+":"+t)},o.handleScroll=function(){return o.updateSubscription()},o.updateSubscription=l.default.debounce(function(){var e=o._list;if(null!=e){var t=o.props.channel,n=e.props.rowHeight,a=e.getScrollTop(),r=e.getContainerHeight();(0,m.subscribeChannelDimensions)(t.guild_id,t.id,a,r,n)}},50),A(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version},t.prototype.componentDidMount=function(){this.updateSubscription()},t.prototype.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription()},t.prototype.render=function(){var e=this.props,t=e.groups,n=e.listId;return a(T.default,{tutorialId:"whos-online",position:C.TutorialIndicatorPositions.LEFT,offsetYPercent:-50,offsetX:16,offsetY:16},void 0,a("div",{className:O.default.membersWrap},void 0,s.createElement(d.default,{key:n,ref:this.setList,className:O.default.members,fade:!0,paddingTop:0,theme:d.default.Themes.GHOST_HAIRLINE,sectionHeight:40,rowHeight:40,renderSection:this.renderSection,renderRow:this.renderRow,sections:t.map(function(e){return e.count}),onScroll:this.handleScroll})))},t}(s.Component);t.default=b.default.connectStores([_.default],function(e){var t=e.channel;return _.default.getProps(t.guild_id,t.id)})(P),e.exports=t.default},7131:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Re(n(55)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(264),u=Re(n(43)),d=Re(n(57)),f=Re(n(9)),c=Re(n(539)),p=Re(n(7130)),h=Re(n(6384)),m=Re(n(6382)),y=Re(n(6094)),v=n(5985),g=Re(v),_=Re(n(6049)),E=Re(n(942)),S=n(33),b=Re(n(7122)),C=Re(n(7121)),T=Re(n(6020)),N=Re(n(7119)),O=Re(n(7118)),I=Re(n(6380)),A=Re(n(6379)),M=Re(n(7115)),R=Re(n(7113)),P=Re(n(7081)),w=Re(n(7080)),L=Re(n(7078)),D=Re(n(7077)),U=Re(n(6068)),k=Re(n(67)),F=Re(n(79)),x=Re(n(87)),G=Re(n(124)),B=Re(n(18)),j=Re(n(65)),V=Re(n(225)),H=Re(n(26)),Y=Re(n(6603)),W=Re(n(6104)),z=Re(n(271)),K=Re(n(949)),$=Re(n(12)),q=Re(n(6109)),X=Re(n(6018)),Q=Re(n(6599)),J=Re(n(368)),Z=Re(n(6088)),ee=Re(n(112)),te=Re(n(7073)),ne=Re(n(3)),oe=Re(n(283)),ae=Re(n(987)),re=n(6107),ie=Re(n(6)),le=Re(n(273)),se=n(143),ue=Re(n(971)),de=Re(n(146)),fe=Re(n(281)),ce=n(544),pe=Re(n(38)),he=Re(n(145)),me=Re(n(998)),ye=Re(n(230)),ve=n(6007),ge=Re(ve),_e=Re(n(6375)),Ee=Re(n(6110)),Se=Re(n(977)),be=Re(n(224)),Ce=Re(n(75)),Te=Re(n(6374)),Ne=Re(n(6067)),Oe=Re(n(89)),Ie=Re(n(125)),Ae=n(0),Me=Re(n(5586));function Re(e){return e&&e.__esModule?e:{default:e}}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var De=function(e){function t(){var n,o;Pe(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=we(this,e.call.apply(e,[this].concat(r))),o.handleBlur=function(e){o.props.channel.toString()!==e.currentTarget.value&&de.default.setName(o.props.channel.id,e.currentTarget.value)},we(o,n)}return Le(t,e),t.prototype.render=function(){return r(b.default,{minLen:1,maxLen:100,className:Me.default.channelName,value:this.props.channel.toString(),onBlur:this.handleBlur})},t}(l.Component),Ue=function(e){function t(){var n,o;Pe(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=we(this,e.call.apply(e,[this].concat(i))),o.renderHeader=function(){return r(Ce.default,{tag:Ce.default.Tags.H4},void 0,o.props.channel.toString(!0))},we(o,n)}return Le(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return r(_e.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,r(k.default,{selectable:!0,size:k.default.Sizes.MEDIUM,color:k.default.Colors.PRIMARY,style:{paddingBottom:20}},void 0,oe.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(l.Component),ke=function(e){function t(){var n,o;Pe(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=we(this,e.call.apply(e,[this].concat(r))),o.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&pe.default.push(Ue,o.props)},o.onMouseDown=function(){o._mouseDown=!0},o.onMouseMove=function(){o._mouseDown&&(o._mouseDown=!1)},o.onMouseUp=function(e){o._mouseDown&&e.button!==Ae.MouseButtons.SECONDARY&&o.handleOpenTopic(e),o._mouseDown=!1},we(o,n)}return Le(t,e),t.prototype.render=function(){var e=this,t=this.props.channel;return null==t.topic||0===t.topic.length?r("div",{className:Me.default.noTopic}):t.type===Ae.ChannelTypes.GROUP_DM?null:r("div",{className:(0,f.default)(Me.default.topic,Me.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:function(t){return e.props.onContextMenu(t,Ae.ContextMenuTypes.CHANNEL_TOPIC)}},void 0,oe.default.parseTopic(t.topic,!0,{channelId:t.id}))},t}(l.Component),Fe=(0,u.default)({displayName:"ChannelTextAreaForm",mixins:[Se.default,d.default],UNSAFE_componentWillMount:function(){q.default.addChangeListener(this.draftDidChange)},componentWillUnmount:function(){q.default.removeChangeListener(this.draftDidChange)},getInitialState:function(){return{textValue:q.default.getDraft(this.props.channel.id)}},UNSAFE_componentWillReceiveProps:function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(e)},draftDidChange:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=this.state.textValue,o=q.default.getDraft(t.channel.id);n!==o&&this.setState({textValue:o},function(){if(n!==o){var t=e.props.onFocus;t&&t()}})},render:function(){var e=this,t=this.props,n=t.channel,o=t.focused,a=t.onResize,i=t.onBlur,s=t.onFocus,u=t.allowUnclaimed,d=ie.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:n.toString(!0)}),f=n.isPrivate()?C.default:N.default;return r("form",{},void 0,r(f,{channel:n,allowUnclaimed:u},n.id,r(ge.default,{tutorialId:"writing-messages",position:ve.TutorialIndicatorPositions.LEFT,offsetY:-50,offsetX:90},void 0,l.createElement(U.default,{ref:function(t){e.channelTextAreaRef=t},value:this.state.textValue,focused:o,className:Me.default.channelTextArea,channel:n,placeholder:d,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:a,onFocus:s,onBlur:i,onKeyDown:this.handleKeyDown,disableAttachments:u,disableActivity:u,disableInvites:u}))),r(m.default,{channel:n}))},handleKeyDown:function(e){if(!(e.which!==Ae.KeyboardKeys.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===this.state.textValue.length){e.preventDefault();var t=this.props.channel,n=z.default.getLastEditableMessage(t.id);n&&he.default.startEditMessage(t.id,n.id,n.content)}},handleTextareaChange:function(e,t){var n=this.props.channel.id;Ee.default.changeDraft(n,this.state.value),ae.default.typing(n),J.default.getLayout(n)===Ae.ChannelLayouts.NO_CHAT&&me.default.updateLayout(n,Ae.ChannelLayouts.NORMAL),this.setState({textValue:t})},handleSendMessage:function(e){var t=this;if(0===e.length)return Promise.resolve(!1);var n=this.props,o=n.allowUnclaimed,a=n.channel;return o?((0,ce.open)(!0),Promise.resolve(!1)):this.applyChatRestrictions(this.channelTextAreaRef,e,a).then(function(n){var o=n.valid,r=n.failureReason;return o?(ae.default.clear(a.id),null!=t.props.handleJumpToChat&&t.props.handleJumpToChat(),he.default.sendMessage(a.id,le.default.parse(a,e)),t.setState({textValue:""}),!0):r===Ae.MessageRestrictionTypes.SLOWMODE_COOLDOWN&&(se.ComponentDispatch.dispatch(Ae.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),se.ComponentDispatch.dispatch(Ae.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),!0)})}}),xe=ne.default.connectStores([te.default,Z.default,ee.default],function(e){var t=e.guild,n=e.channel,o=!1;if(null!=t&&t.verificationLevel===Ae.VerificationLevels.LOW){var a=Z.default.getCheck(t.id);null!=a&&a.notClaimed&&ee.default.can(Ae.Permissions.SEND_MESSAGES,n)&&(o=te.default.shouldAllowUnclaimedChat())}return{allowUnclaimed:o}})(Fe),Ge=r(D.default,{},"pins"),Be=r(D.default,{},"pins"),je=r(L.default,{},"members"),Ve=r(D.default,{},"pins"),He=r(L.default,{},"members"),Ye=(0,u.default)({displayName:"Channel",mixins:[ne.default.StoreListenerMixin(B.default,H.default,j.default,V.default,Y.default,K.default,W.default,X.default,J.default,Ne.default,Q.default,Oe.default),ye.default,d.default,ue.default],propTypes:{channel:i.default.instanceOf(G.default)},getStateFromStores:function(){var e=j.default.getChannelId(),t=Y.default.getEditingMessageId(),n=V.default.getGuildId(),o=J.default.getParticipants(e);return{guildId:n,channelId:e,channel:B.default.getChannel(e),isEditing:null!=t,hasModalOpen:K.default.hasModalOpen(),section:W.default.getSection(),guild:H.default.getGuild(n),searchId:X.default.getCurrentSearchId(),hasCall:o&&o.length>0,nsfwAgree:Ne.default.didAgree(n),theme:Q.default.theme,hasVideo:Oe.default.hasVideo(n,e)}},getSubscriptions:function(){var e;return(e={})[Ae.ComponentActions.TEXTAREA_FOCUS]=this.handleInputFocus,e[Ae.ComponentActions.TEXTAREA_BLUR]=this.handleInputBlur,e},componentDidUpdate:function(e,t){this.state.isEditing===t.isEditing&&this.state.hasModalOpen===t.hasModalOpen||(this.state.isEditing||this.state.hasModalOpen?this.handleInputBlur():this.handleInputFocus()),this.state.channel&&t.channel&&this.state.channel.id!==t.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.state.section!==t.section&&this.resizeChat()},resizeChat:function(){se.ComponentDispatch.dispatch(Ae.ComponentActions.CHAT_RESIZE)},handleInputFocus:function(){(0,re.isFullScreen)()||this.setState({textAreaFocused:!0})},handleInputBlur:function(){(document.hasFocus()||this.state.hasModalOpen)&&this.setState({textAreaFocused:!1})},handleOpenProfile:function(){fe.default.open(this.state.channel.getRecipientId(),this.state.channel.guild_id)},handleChannelContextMenu:function(e,t){var n=this.state,o=n.guild,r=n.channel;(0,S.openContextMenu)(e,function(e){return l.createElement(_.default,a({},e,{type:t,channel:r,guild:o}))})},handleUserContextMenu:function(e){var t=this.state.channel;(0,S.openContextMenu)(e,function(e){return l.createElement(E.default,a({},e,{type:Ae.ContextMenuTypes.USER_CHANNEL_TITLE,user:$.default.getUser(t.getRecipientId()),selected:!0,channelId:t.id}))})},renderTitle:function(){var e=this,t=this.state,n=t.channel,o=t.hasVideo,a=n.toString(),i=n.getTitleIcon(o);switch(n.type){case Ae.ChannelTypes.DM:var l=n.getRecipientId();return r("div",{className:Me.default.titleText,onContextMenu:this.handleUserContextMenu},void 0,r(x.default,{tag:"span",className:(0,f.default)(Me.default.channelName,Me.default.private),onClick:this.handleOpenProfile},void 0,r(F.default,{name:i,width:16,height:16,className:Me.default.channelIcon,background:Me.default.background}),a),r(y.default,{userId:l,hideTooltip:!0}));case Ae.ChannelTypes.GROUP_DM:return n.isManaged()?r("div",{className:(0,f.default)(Me.default.titleText,Me.default.groupDMManaged)},void 0,r("span",{className:Me.default.channelName},void 0,a)):r("div",{className:(0,f.default)(Me.default.titleText,Me.default.groupDM)},void 0,r(De,{channel:n},"channel-"+n.id));case Ae.ChannelTypes.GUILD_TEXT:case Ae.ChannelTypes.GUILD_VOICE:return r("div",{className:Me.default.titleText,onContextMenu:function(t){return e.handleChannelContextMenu(t,Ae.ContextMenuTypes.CHANNEL_TITLE)}},void 0,r("span",{className:Me.default.channelName},void 0,r(F.default,{name:i,width:16,height:16,className:Me.default.channelIcon,background:Me.default.background}),a));default:return null}},renderTopic:function(){var e=this.state,t=e.channel,n=e.guild;switch(t.type){case Ae.ChannelTypes.DM:return r(I.default,{channel:t},t.id);case Ae.ChannelTypes.GUILD_TEXT:case Ae.ChannelTypes.GUILD_VOICE:case Ae.ChannelTypes.GROUP_DM:return r(ke,{channel:t,guild:n,onContextMenu:this.handleChannelContextMenu},t.id);default:return null}},renderHeaderToolbar:function(){var e=this.state.channel,t=[];switch(e.type){case Ae.ChannelTypes.DM:t.push(r(P.default,{channel:e},"calls")),t.push(Ge),t.push(r(A.default,{channel:e,tooltip:ie.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Ae.ChannelTypes.GROUP_DM:if(t.push(r(P.default,{channel:e},"calls")),t.push(Be),!e.isManaged()){var n=ie.default.Messages.GROUP_DM_ADD_FRIENDS;t.push(r(A.default,{channel:e,tooltip:n},"invite"))}t.push(je);break;case Ae.ChannelTypes.GUILD_TEXT:t.push(r(O.default,{channel:e},"mute")),t.push(Ve),t.push(He)}return t},renderHeaderBar:function(){var e=this.state,t=e.channel,n=e.theme,o=e.hasCall,a=e.guildId;return r("div",{className:(0,f.default)(Me.default.titleWrapper,"theme-"+n)},void 0,r(T.default,{title:r(l.Fragment,{},void 0,this.renderTitle(),this.renderTopic()),guildId:a,channelId:t.id,renderToolbar:this.renderHeaderToolbar,className:o?Me.default.titleCall:Me.default.title}))},renderCall:function(){var e=this.state.channel;switch(e.type){case Ae.ChannelTypes.DM:case Ae.ChannelTypes.GROUP_DM:case Ae.ChannelTypes.GUILD_VOICE:return r(R.default,{channel:e,onResize:this.resizeChat},e.id);default:return null}},renderChat:function(){var e=this.state,t=e.channel,n=e.nsfwAgree,o=e.guild,a=e.textAreaFocused;return t.type===Ae.ChannelTypes.GUILD_VOICE?null:!n&&t.isNSFW()?r(Te.default,{guild:o}):r("div",{className:"flex-spacer flex-vertical",style:{position:"relative"}},void 0,r(h.default,{channel:t},t.id),r(xe,{focused:a,channel:t,guild:o,onResize:this.resizeChat,handleJumpToPresent:this.handleJumpToPresent,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}))},renderSidebar:function(){var e=this.state,t=e.searchId,n=e.channel,o=e.section;if(o===Ae.ChannelSections.MEMBERS)switch(n.type){case Ae.ChannelTypes.GROUP_DM:return r(M.default,{channel:n});case Ae.ChannelTypes.GUILD_TEXT:return r(p.default,{channel:n})}else if(o===Ae.ChannelSections.SEARCH)return r(w.default,{searchId:t});return null},renderEmptyChannel:function(){var e=void 0;return e=null!=this.state.channelId?r(v.EmptyStateText,{},void 0,r(be.default,{type:be.default.Type.SPINNING_CIRCLE})):r(v.EmptyStateText,{note:ie.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,ie.default.Messages.CHANNELS_UNAVAILABLE_TITLE),r("div",{className:Me.default.noChannel},void 0,r(g.default,{theme:this.state.theme},void 0,r(v.EmptyStateImage,{darkSrc:n(7072),lightSrc:n(7071),width:272,height:222}),e))},render:function(){var e=this.state,t=e.channel,n=e.hasCall;if(!t)return this.renderEmptyChannel();if(t.type===Ae.ChannelTypes.GUILD_VOICE&&!n){var o=Ie.default.getDefaultChannel(t.guild_id);return r(s.Redirect,{to:Ae.Routes.CHANNEL(t.guild_id,null!=o?o.id:null)})}return r("div",{className:Me.default.chat},void 0,r(c.default,{title:t.toString(!0)}),this.renderHeaderBar(),this.renderCall(),r("div",{className:Me.default.content},void 0,this.renderChat(),this.renderSidebar()))},handleJumpToPresent:function(){z.default.getMessages(this.state.channel.id).hasMoreAfter&&se.ComponentDispatch.dispatch(Ae.ComponentActions.SCROLLTO_PRESENT)}});t.default=Ye,e.exports=t.default},7132:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(6)),s=n(0),u=c(n(528)),d=n(6425),f=c(d);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=r(d.PopoutMenuSeparator,{}),m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleSelect=function(e){u.default.updateRemoteSettings({status:e}),o.props.onClose()},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(this.props,[]);return i.createElement(f.default,a({alt:!0},e),r(d.StatusItem,{status:s.StatusTypes.ONLINE,onSelect:this.handleSelect}),h,r(d.StatusItem,{status:s.StatusTypes.IDLE,onSelect:this.handleSelect}),r(d.StatusItem,{status:s.StatusTypes.DND,onSelect:this.handleSelect},void 0,l.default.Messages.STATUS_DND_HELP),r(d.StatusItem,{status:s.StatusTypes.INVISIBLE,onSelect:this.handleSelect},void 0,l.default.Messages.STATUS_INVISIBLE_HELPER))},t}(i.PureComponent);t.default=m,e.exports=t.default},7133:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(3)),l=c(n(6059)),s=c(n(126)),u=c(n(534)),d=c(n(195)),f=c(n(379));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=p(this,e.call.apply(e,[this].concat(i))),o.renderBuckets=function(e,t){var n=o.props,r=n.currentBucket,i=n.currentType;return t.map(function(t){var n=l.default.getExperimentBucketName(t);return a(d.default,{label:n,action:function(){return o.handleOverrideSelect(e,t)},active:e===i&&t===r},t)})},o.renderOverrideTypes=function(){var e=o.props.experiment;return Object.keys(e.experiments).map(function(t){var n=e.experiments[t];return a(f.default,{invertChildY:!0,label:t,render:function(){return o.renderBuckets(t,n)}},t)})},o.handleOverrideSelect=function(e,t){var n=o.props.id;u.default.overrideType(n,e),u.default.overrideBucket(n,t)},o.handleResetOverride=function(){var e=o.props.id;u.default.overrideType(e,null),u.default.overrideBucket(e,null)},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.experiment;return a(f.default,{invertChildY:!0,label:e.title,render:this.renderOverrideTypes,action:this.handleResetOverride})},t}(r.PureComponent);t.default=i.default.connectStores([s.default],function(e){var t=e.id,n=s.default.getExperimentOverrides()[t],o=-1,a="";return n&&(o=n.bucket,a=n.type),{experiment:s.default.getRegisteredExperiments()[t],bucket:s.default.getExperimentBucket(t),currentBucket:o,currentType:a}})(h),e.exports=t.default},7134:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=p(n(55)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(43))),l=p(n(57)),s=p(n(3)),u=p(n(6)),d=p(n(1018)),f=p(n(58)),c=p(n(364));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({displayName:"VoiceSettingsVolumeItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{type:r.default.oneOf(["input","output"])},getVolume:function(){switch(this.props.type){case"input":return f.default.getInputVolume();case"output":return f.default.getOutputVolume()/2;default:return 0}},setVolume:function(e){switch(this.props.type){case"input":c.default.setInputVolume(e);break;case"output":c.default.setOutputVolume(2*e)}},renderVolume:function(e){switch(this.props.type){case"input":return e.toFixed(0)+"%";case"output":return(2*e).toFixed(0)+"%";default:return""}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{volume:this.getVolume()}},render:function(){return a(d.default,{label:"input"===this.props.type?u.default.Messages.FORM_LABEL_INPUT_VOLUME:u.default.Messages.FORM_LABEL_OUTPUT_VOLUME,defaultValue:this.state.volume,onValueChange:this.setVolume,onValueRender:this.renderVolume})}});t.default=h,e.exports=t.default},7135:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(43))),i=p(n(57)),l=p(n(3)),s=p(n(6)),u=p(n(34)),d=p(n(58)),f=p(n(364)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({displayName:"VoiceSettingsInputModeItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],getStateFromStores:function(){return{inputMode:d.default.getMode()}},render:function(){return a(u.default,{label:this.state.inputMode===c.InputModes.PUSH_TO_TALK?s.default.Messages.SWITCH_TO_VOICE_ACTIVITY:s.default.Messages.SWITCH_TO_PUSH_TO_TALK,action:this.handleAction})},handleAction:function(){f.default.setMode(this.state.inputMode===c.InputModes.PUSH_TO_TALK?c.InputModes.VOICE_ACTIVITY:c.InputModes.PUSH_TO_TALK)}});t.default=h,e.exports=t.default},7136:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(43))),i=c(n(57)),l=c(n(3)),s=c(n(6)),u=c(n(34)),d=c(n(31)),f=c(n(528));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({displayName:"AppearanceMessageDisplayMenuItem",mixins:[l.default.LazyStoreListenerMixin(d.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCompact:d.default.messageDisplayCompact}},render:function(){return a(u.default,{label:this.state.isCompact?s.default.Messages.SWITCH_TO_COZY_MODE:s.default.Messages.SWITCH_TO_COMPACT_MODE,action:this.handleAction})},handleAction:function(){f.default.updateRemoteSettings({messageDisplayCompact:!this.state.isCompact})}});t.default=p,e.exports=t.default},7137:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(43))),i=p(n(57)),l=p(n(3)),s=p(n(6)),u=p(n(34)),d=p(n(31)),f=p(n(528)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({displayName:"AppearanceThemeMenuItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],getStateFromStores:function(){return{theme:d.default.theme}},render:function(){return a(u.default,{label:this.state.theme===c.ThemeTypes.LIGHT?s.default.Messages.SWITCH_TO_DARK_THEME:s.default.Messages.SWITCH_TO_LIGHT_THEME,action:this.handleAction})},handleAction:function(){f.default.updateRemoteSettings({theme:this.state.theme===c.ThemeTypes.LIGHT?c.ThemeTypes.DARK:c.ThemeTypes.LIGHT})}});t.default=h,e.exports=t.default},7138:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(43))),i=c(n(57)),l=c(n(3)),s=c(n(6)),u=c(n(195)),d=c(n(144)),f=c(n(6101));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({displayName:"StreamerModeToggleItem",mixins:[l.default.LazyStoreListenerMixin(d.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{enabled:d.default.enabled}},render:function(){return a(u.default,{label:s.default.Messages.ENABLE_STREAMER_MODE_LABEL,action:this.handleToggle,active:this.state.enabled})},handleToggle:function(){f.default.setEnabled(!this.state.enabled)}});t.default=p,e.exports=t.default},7139:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=u(n(8)),r=u(n(3)),i=u(n(2)),l=u(n(12)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=s.FormStates.CLOSED,f=void 0,c={},p={},h=void 0,m=void 0,y=!1;function v(e){var t,n=l.default.getCurrentUser();if(null==n)return g();f=e.section||f,e.subsection&&null!=f&&(c[f]=e.subsection),d=s.FormStates.OPEN,p={},(t={})[s.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},m=o({},h=t)}function g(){d=s.FormStates.CLOSED,y=!1,h=null,m=null,f=null,c={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return null!=m&&null!=h&&(!!this.isOpen()&&!a.default.isEqual(m,h))},t.prototype.isOpen=function(){return y},t.prototype.getSection=function(){return f},t.prototype.getProps=function(){return{submitting:d===s.FormStates.SUBMITTING,section:f,subsection:null!=c&&null!=f?c[f]:null,settings:m,errors:p,hasChanges:this.hasChanges()}},t}(r.default.Store);t.default=new _(i.default,{USER_SETTINGS_MODAL_OPEN:function(e){y=!0,v(e)},USER_SETTINGS_MODAL_INIT:v,USER_SETTINGS_MODAL_CLOSE:function(e){return g()},LOGOUT:function(e){return g()},USER_SETTINGS_MODAL_SUBMIT:function(e){d=s.FormStates.SUBMITTING},USER_SETTINGS_MODAL_SUBMIT_FAILURE:function(e){if(d!==s.FormStates.SUBMITTING)return!1;d=s.FormStates.OPEN,f=s.UserSettingsSections.ACCOUNT,p=e.errors||{}},USER_SETTINGS_MODAL_SET_SECTION:function(e){f=e.section,e.subsection&&(c[f]=e.subsection)},USER_SETTINGS_MODAL_UPDATE_ACCOUNT:function(e){var t=e.settings;null==m&&(m={});var n=m[s.UserSettingsSections.ACCOUNT];m[s.UserSettingsSections.ACCOUNT]=o({},n,t)}}),e.exports=t.default},7140:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),u(n(79))),i=u(n(163)),l=u(n(5762)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a("div",{className:l.default.socialLinks},void 0,a(i.default,{target:"_blank",rel:"author",title:"Twitter",href:s.SOCIAL_LINKS.TWITTER_URL,className:l.default.link},void 0,a(r.default,{name:r.default.Names.TWITTER,foreground:l.default.foreground})),a(i.default,{target:"_blank",rel:"author",title:"Facebook",href:s.SOCIAL_LINKS.FACEBOOK_URL,className:l.default.link},void 0,a(r.default,{name:r.default.Names.FACEBOOK,foreground:l.default.foreground})),a(i.default,{target:"_blank",rel:"author",title:"Instagram",href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:l.default.link},void 0,a(r.default,{name:r.default.Names.INSTAGRAM,foreground:l.default.foreground})))},e.exports=t.default},7141:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6388)),l=f(n(64)),s=f(n(67)),u=f(n(6)),d=f(n(5764));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.state={isRequestPending:!1,hasError:!1},o.handleLeaveHypeSquadError=function(){o.setState({hasError:!0})},o.handleLeaveHypeSquadClick=function(){o.setState({isRequestPending:!0},function(){i.default.leaveHypeSquadOnline().then(function(){o.setState({isRequestPending:!1})}).catch(function(){o.setState({hasError:!0,isRequestPending:!1})})})},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderErrorMessage=function(){return this.state.hasError?a("div",{className:d.default.error},void 0,u.default.Messages.HYPESQUAD_LEAVE_ERROR):null},t.prototype.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?a("div",{className:d.default.leaveActionWrapper},void 0,this.renderErrorMessage(),a(s.default,{className:d.default.leaveActionCopy,color:s.default.Colors.PRIMARY},void 0,u.default.Messages.HYPESQUAD_LEAVE_PROMPT,a(l.default,{className:d.default.leaveButton,color:l.default.Colors.LINK,look:l.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:l.default.Sizes.NONE,submitting:e},void 0,u.default.Messages.HYPESQUAD_LEAVE_ACTION))):null},t}(r.PureComponent);t.default=p,e.exports=t.default},7142:function(e,t,n){e.exports=n.p+"ac89ab7dd6f700d02b0ac958b98a3309.svg"},7143:function(e,t,n){e.exports=n.p+"0f1eadc1ec3616e0b1c9ce515ee5683a.svg"},7144:function(e,t,n){e.exports=n.p+"59419b0683ef50f5e8ecd8748ecbcfeb.svg"},7145:function(e,t,n){e.exports=n.p+"07ed671b6c823a6cae5be39860ac8bf0.svg"},7146:function(e,t,n){e.exports=n.p+"8c59bddd746488fe8acf23d8d36c1a60.svg"},7147:function(e,t,n){e.exports=n.p+"a359371246d6353de6bc32715e092eba.svg"},7148:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(67)),l=d(n(5990)),s=d(n(6)),u=d(n(5767));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.state={selectedValue:null},o.handleOptionChange=function(e){var t=o.props.onSelect;o.setState({selectedValue:e.value}),t(e.value)},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getQuestionOptions=function(){return this.props.options.map(function(e){return{name:e.copy,value:e.house}})},t.prototype.render=function(){var e=this.state.selectedValue;return a(r.Fragment,{},void 0,a(i.default,{className:u.default.prompt,size:i.default.Sizes.MEDIUM,weight:i.default.Weights.SEMIBOLD},void 0,this.props.prompt),a("hr",{className:u.default.separator}),a(i.default,{className:u.default.selectYourAnswer,size:i.default.Sizes.SMALL},void 0,s.default.Messages.HYPESQUAD_QUIZ_SELECT_ANSWER),a(l.default,{options:this.getQuestionOptions(),onChange:this.handleOptionChange,value:e}))},t}(r.Component);t.default=c,e.exports=t.default},7149:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=u(n(189)),i=u(n(123)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=u(n(5768));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=d(this,e.call.apply(e,[this].concat(i))),o.state={isExiting:!1,offset:new r.default.Value(0),selectedValue:null},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){var t=this.state.offset;t.setValue(1),r.default.spring(t,{toValue:0,duration:75}).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state.offset;t.setValue(0),this.setState({isExiting:!0},function(){r.default.spring(t,{toValue:-1,duration:75}).start(e)})},t.prototype.render=function(){var e=this.state,t=e.isExiting,n=e.offset;return a(r.default.div,{className:s.default.wrapper,style:{left:0,position:t?"absolute":"relative",top:0,transform:[{translateX:n.interpolate({inputRange:[-1,1],outputRange:["-100%","100%"]})}]}},void 0,a(i.default.Content,{className:s.default.contentWrapper},void 0,this.props.children))},t}(l.Component);t.default=f,e.exports=t.default},7150:function(e,t,n){"use strict";t.__esModule=!0,t.getQuestions=t.getRandomHouse=void 0;var o,a=n(0),r=n(6),i=(o=r)&&o.__esModule?o:{default:o};t.getRandomHouse=function(){var e=Object.keys(a.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]},t.getQuestions=function(){return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map(function(e){return{prompt:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_PROMPT"],options:[{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_A"],house:a.HypeSquadHouses.HOUSE_1},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_B"],house:a.HypeSquadHouses.HOUSE_2},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_C"],house:a.HypeSquadHouses.HOUSE_3},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_D"],house:a.RANDOM_HYPESQUAD_HOUSE}]}})}},7151:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=C(n(9)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=C(n(521)),f=C(n(6388)),c=n(7150),p=C(n(64)),h=C(n(75)),m=C(n(7149)),y=C(n(7148)),v=C(n(123)),g=C(n(67)),_=C(n(6)),E=n(0),S=C(n(519)),b=C(n(5766));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){return l("div",{className:b.default.innerContentWrapper},void 0,e.children)},O=((o={})[E.HypeSquadHouses.HOUSE_1]=n(7147),o[E.HypeSquadHouses.HOUSE_2]=n(7146),o[E.HypeSquadHouses.HOUSE_3]=n(7145),o),I=((a={})[E.HypeSquadHouses.HOUSE_1]=b.default.quizResultLogoWrapperHouse1,a[E.HypeSquadHouses.HOUSE_2]=b.default.quizResultLogoWrapperHouse2,a[E.HypeSquadHouses.HOUSE_3]=b.default.quizResultLogoWrapperHouse3,a),A=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=T(this,e.call.apply(e,[this].concat(r))),o.state={currentStep:0,hasSubmittedHouse:!1,hasUnknownError:!1,isRequestPending:!1,questions:(0,c.getQuestions)(),responses:{},selectedHouse:null},o.handleQuestionSelect=function(e){o.setState(function(t){var n;return{responses:i({},t.responses,(n={},n[t.currentStep]=e,n))}})},o.handleSubmitButtonClick=function(){var e=o.getSelectedHouseID();o.setState({isRequestPending:!0},function(){f.default.joinHypeSquadOnline({houseID:e}).then(function(){o.setState({hasUnknownError:!1,hasSubmittedHouse:!0,isRequestPending:!1,selectedHouse:e})}).catch(function(){o.setState({hasUnknownError:!0,hasSubmittedHouse:!1,isRequestPending:!1})})})},o.handleKeyDown=function(e){e.keyCode===E.KeyboardKeys.ENTER&&o.handleSubmitButtonClick()},o.handleNextQuestionButtonClick=function(){o.setState(function(e){return{currentStep:e.currentStep+1}})},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSelectedHouseID=function(){var e=this.state.responses,t={},n=void 0,o=0;return Object.keys(e).forEach(function(a){var r=e[a];null==t[r]&&(t[r]=0),t[r]++,t[r]>o&&(n=r,o=t[r])}),null==n||n===E.RANDOM_HYPESQUAD_HOUSE?(0,c.getRandomHouse)():n},t.prototype.renderUnknownErrorMessage=function(){return l(m.default,{},"error",l(u.Fragment,{},void 0,l(g.default,{className:b.default.quizResultHeading,color:g.default.Colors.PRIMARY,size:g.default.Sizes.LARGE,weight:g.default.Weights.SEMIBOLD},void 0,_.default.Messages.HYPESQUAD_ERROR_HEADING),l(g.default,{color:g.default.Colors.PRIMARY},void 0,_.default.Messages.HYPESQUAD_ERROR_BODY.format({emailAddress:"hypesquad@discordapp.com",emailAddressLink:"mailto:hypesquad@discordapp.com"}))))},t.prototype.renderQuizResult=function(){var e=this.state.selectedHouse;if(null==e)return null;var t,n,o=_.default.Messages.HYPESQUAD_QUIZ_TITLE.format({house:_.default.Messages["HYPESQUAD_"+e]});return l(m.default,{},"submit-step",l(u.Fragment,{},void 0,l("div",{className:(0,s.default)(b.default.quizResultLogoWrapper,I[e],S.default.marginBottom20)},void 0,l("img",{alt:o,className:b.default.quizResultLogo,src:O[e]})),l(g.default,{className:b.default.quizResultHeading,color:g.default.Colors.PRIMARY,size:g.default.Sizes.LARGE,weight:g.default.Weights.SEMIBOLD},void 0,o),l(g.default,{className:b.default.quizResultBody,color:g.default.Colors.PRIMARY},void 0,(t=e,((n={})[E.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_1,n[E.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_2,n[E.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_3,n)[t]))))},t.prototype.renderContent=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,o=e.hasSubmittedHouse,a=e.questions;if(n)return this.renderUnknownErrorMessage();if(o)return this.renderQuizResult();var r=a[t];return l(m.default,{},t,l(y.default,{onSelect:this.handleQuestionSelect,options:r.options,prompt:r.prompt},t))},t.prototype.renderHeaderCopy=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,o=e.hasSubmittedHouse,a=e.questions;return n?_.default.Messages.HYPESQUAD_QUIZ_ERROR_MODAL_TITLE:o?_.default.Messages.HYPESQUAD_QUIZ_COMPLETED_MODAL_TITLE:_.default.Messages.HYPESQUAD_QUIZ_ONGOING_MODAL_TITLE.format({currentQuestion:t+1,questionCount:a.length})},t.prototype.renderNewsletterWarning=function(){return l(m.default,{},void 0,l(g.default,{className:b.default.nameFormPreface,color:g.default.Colors.PRIMARY,size:g.default.Sizes.MEDIUM},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t.prototype.renderPrimaryAction=function(){var e=this.state,t=e.currentStep,n=e.responses,o=e.hasUnknownError,a=e.hasSubmittedHouse,r=e.isRequestPending,i=e.questions,s=null==n[t];return o?l(p.default,{type:"submit",color:p.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:r},void 0,_.default.Messages.HYPESQUAD_QUIZ_RETRY):a?l(p.default,{type:"submit",color:p.default.Colors.BRAND,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CLOSE):t===i.length-1?l(p.default,{disabled:s,type:"submit",color:p.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:r},void 0,_.default.Messages.HYPESQUAD_QUIZ_SHOW_MY_HOUSE):l(p.default,{disabled:s,type:"submit",color:p.default.Colors.BRAND,onClick:this.handleNextQuestionButtonClick},void 0,_.default.Messages.HYPESQUAD_QUIZ_NEXT_QUESTION)},t.prototype.renderSecondaryAction=function(){return this.state.hasSubmittedHouse?null:l(p.default,{type:"button",look:p.default.Looks.LINK,color:p.default.Colors.PRIMARY,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CANCEL)},t.prototype.render=function(){var e=this.state.selectedHouse;return l(v.default,{size:null==e?v.default.Sizes.MEDIUM:v.default.Sizes.SMALL},void 0,l(v.default.Header,{separator:!1},void 0,l(h.default,{tag:h.default.Tags.H4},void 0,this.renderHeaderCopy())),l("div",{className:b.default.outerContentWrapper},void 0,l(d.default,{component:N},void 0,this.renderContent())),l(v.default.Footer,{},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))},t}(u.Component);t.default=A,e.exports=t.default},7152:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i,l=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=_(n(9)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=_(n(38)),f=_(n(64)),c=_(n(87)),p=_(n(40)),h=_(n(7151)),m=_(n(67)),y=_(n(6)),v=n(0),g=_(n(5765));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=((a={})[v.HypeSquadHouses.HOUSE_1]=g.default.membershipDialogHouse1,a[v.HypeSquadHouses.HOUSE_2]=g.default.membershipDialogHouse2,a[v.HypeSquadHouses.HOUSE_3]=g.default.membershipDialogHouse3,a),b=((r={})[v.HypeSquadHouses.HOUSE_1]=g.default.houseLogoHouse1,r[v.HypeSquadHouses.HOUSE_2]=g.default.houseLogoHouse2,r[v.HypeSquadHouses.HOUSE_3]=g.default.houseLogoHouse3,r),C=((i={})[v.HypeSquadHouses.HOUSE_1]=n(7144),i[v.HypeSquadHouses.HOUSE_2]=n(7143),i[v.HypeSquadHouses.HOUSE_3]=n(7142),i),T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=E(this,e.call.apply(e,[this].concat(r))),o.handleJoinHypeSquadClick=function(){d.default.push(function(e){return u.createElement(h.default,e)})},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;if(!n||!o)return null;if(null!=t){var a=y.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:y.default.Messages["HYPESQUAD_"+t]});return l("div",{className:(0,s.default)(g.default.membershipDialog,S[t])},void 0,l("div",{className:g.default.membershipDialogContent},void 0,l(p.default,{},void 0,l(p.default.Child,{grow:1,shrink:1},void 0,l(m.default,{className:g.default.membershipDialogHeading,color:m.default.Colors.WHITE,size:m.default.Sizes.SMALL},void 0,y.default.Messages.HYPESQUAD_YOUR_HOUSE),l(m.default,{className:g.default.membershipDialogHouseName,color:m.default.Colors.WHITE,weight:m.default.Weights.SEMIBOLD},void 0,a),l(m.default,{className:g.default.membershipDialogHouseDescription,color:m.default.Colors.WHITE,size:m.default.Sizes.MEDIUM},void 0,y.default.Messages["HYPESQUAD_DESCRIPTION_"+t])),l(p.default.Child,{className:g.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,l("img",{className:(0,s.default)(g.default.houseLogo,b[t]),src:C[t],alt:a}))),l(m.default,{className:g.default.membershipDialogSwitchHouses,color:m.default.Colors.WHITE,size:m.default.Sizes.MEDIUM},void 0,y.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,l(c.default,{className:g.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,y.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return l("div",{className:g.default.joinCTAWrapper},void 0,l(p.default,{className:g.default.joinCTA,align:p.default.Align.CENTER,justify:p.default.Justify.CENTER,direction:p.default.Direction.HORIZONTAL},void 0,l(p.default.Child,{grow:0,shrink:0},void 0,l(m.default,{color:m.default.Colors.PRIMARY},void 0,y.default.Messages.HYPESQUAD_READY_TO_REP)),l(p.default.Child,{grow:0,shrink:0},void 0,l(f.default,{onClick:this.handleJoinHypeSquadClick},void 0,y.default.Messages.HYPESQUAD_JOIN))),l(m.default,{className:g.default.newsletterWarning,color:m.default.Colors.PRIMARY},void 0,y.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t}(u.Component);t.default=T,e.exports=t.default},7153:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6399)),l=f(n(6396)),s=f(n(67)),u=f(n(6)),d=f(n(5769));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("div",{className:d.default.features},void 0,a(l.default,{className:d.default.video,videoID:"SWzB1mx2o5k"}),a(s.default,{className:d.default.perksHeading,color:s.default.Colors.PRIMARY,weight:s.default.Weights.BOLD},void 0,u.default.Messages.HYPESQUAD_PERKS_HEADING),a(i.default,{features:[{icon:d.default.perkNewsletter,title:u.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:d.default.perkBadge,title:u.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:d.default.perkChallenges,title:u.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))},t}(r.Component);t.default=c,e.exports=t.default},7154:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(12)),a=l(n(3)),r=l(n(2)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=null;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHouseMembership=function(){return s},t}(a.default.Store);t.default=new u(r.default,{CONNECTION_OPEN:function(e){var t;(t=o.default.getCurrentUser()).hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?s=i.HypeSquadHouses.HOUSE_1:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?s=i.HypeSquadHouses.HOUSE_2:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(s=i.HypeSquadHouses.HOUSE_3)},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(e){s=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){s=e.houseID}}),e.exports=t.default},7155:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(3)),l=g(n(7154)),s=g(n(12)),u=g(n(31)),d=g(n(524)),f=g(n(6401)),c=g(n(7153)),p=g(n(7152)),h=g(n(7141)),m=g(n(6)),y=n(0),v=g(n(5763));function g(e){return e&&e.__esModule?e:{default:e}}var _=a(c.default,{}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIntroHeader=function(){return null==this.props.houseMembership?m.default.Messages.HYPESQUAD_HEADING:m.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER},t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;return a(r.Fragment,{},void 0,a("div",{className:v.default.intro},void 0,a("div",{className:v.default.introHeader},void 0,this.renderIntroHeader()),a("div",{className:v.default.introBlurb},void 0,m.default.Messages.HYPESQUAD_SUBHEADING)),a(f.default,{className:v.default.verificationNotice,unclaimedNotice:m.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:m.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),a(p.default,{houseMembership:t,isClaimed:n,isVerified:o}),_,a(h.default,{isHypeSquadOnlineMember:null!=t}),a(d.default,{className:v.default.attendeeCTA},void 0,m.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:y.MarketingURLs.HYPESQUAD})))},t}(r.PureComponent);t.default=i.default.connectStores([l.default,u.default,s.default],function(){var e=s.default.getCurrentUser();return{houseMembership:l.default.getHouseMembership(),isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(E),e.exports=t.default},7156:function(e,t,n){"use strict";t.__esModule=!0,t.activate=void 0;t.activate=(o=regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.default.dispatch({type:s.ActionTypes.PREMIUM_CODE_ACTIVATION_START}),e.prev=1,e.next=4,i.default.post({url:s.Endpoints.BILLING_SUBSCRIPTION_REDEEM_CODE,body:{coupon_code:t}});case 4:return n=e.sent,r.default.dispatch({type:s.ActionTypes.PREMIUM_CODE_ACTIVATION_SUCCESS,subscription:n.body}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),o=new l.BillingError(e.t0),r.default.dispatch({type:s.ActionTypes.PREMIUM_CODE_ACTIVATION_FAIL,error:o}),o;case 14:case"end":return e.stop()}},e,this,[[1,9]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)});var o,a,r=u(n(2)),i=u(n(13)),l=n(529),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}},7157:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=T(n(3)),l=T(n(41)),s=T(n(27)),u=T(n(525)),d=n(270),f=T(n(38)),c=n(564),p=n(149),h=n(7156),m=T(n(64)),y=T(n(939)),v=T(n(40)),g=T(n(75)),_=T(n(372)),E=T(n(123)),S=T(n(6)),b=T(n(5771)),C=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=/^WUMP-[a-zA-Z0-9]{5}-[a-zA-Z0-9]{5}-[a-zA-Z0-9]{5}$/,M="WUMP-AAAAA-BBBBB-CCCCC",R=/^[a-zA-Z]{4}-\d{4}-[a-zA-Z]{4}$/,P="aaaa-1111-bbbb",w="-",L=Object.freeze({ENTITLEMENT:1,PREMIUM:2}),D=function(e){function t(){var n,o;N(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=O(this,e.call.apply(e,[this].concat(r))),o.handleClose=function(){f.default.pop()},o.handleGoToLibrary=function(){l.default.transitionTo(C.Routes.GAME_LIBRARY),o.handleClose(),(0,d.popLayer)()},O(o,n)}return I(t,e),t.prototype.renderBackground=function(){var e=this.props.data;if(e.type===L.ENTITLEMENT){var t=e.application.getSplashURL(880),n=null!=t?"url("+t+")":null;return a("div",{className:b.default.confirmEntitlementBackground,style:{backgroundImage:n}})}if(e.type===L.PREMIUM)return a("div",{className:b.default.confirmPremiumBackground})},t.prototype.render=function(){var e=this.props.data,t=void 0;if(e.type===L.ENTITLEMENT){var n=e.application,o=e.sku;t=a(r.Fragment,{},void 0,a(_.default,{game:n}),a("div",{className:b.default.confirmTitle},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_CONFIRMATION_TITLE),a("div",{className:b.default.confirmBlurb},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_CONFIRMATION_BLURB.format({skuName:o.name})),a(m.default,{color:m.default.Colors.BRAND,className:b.default.confirmButton,onClick:this.handleGoToLibrary},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_GO_TO_LIBRARY))}else t=a(r.Fragment,{},void 0,a("div",{className:b.default.confirmPremiumIcon}),a("div",{className:b.default.confirmBlurb},void 0,S.default.Messages.PREMIUM_CODE_REDEMPTION_CONFIRMATION_BLURB.format({numMonths:1})),a(m.default,{color:m.default.Colors.BRAND,className:b.default.confirmButton,onClick:this.handleClose},void 0,S.default.Messages.PREMIUM_CODE_REDEMPTION_CONFIRMATION_BUTTON));return a(E.default,{},void 0,this.renderBackground(),a(E.default.Content,{className:b.default.confirmContent},void 0,a(v.default,{direction:v.default.Direction.VERTICAL,align:v.default.Align.CENTER},void 0,a(E.default.CloseButton,{onClick:this.handleClose,className:b.default.confirmCloseButton}),t)))},t}(r.Component),U=i.default.connectStores([s.default],function(e){var t=e.type,n=e.entitlement;if(t===L.ENTITLEMENT)return{data:{type:L.ENTITLEMENT,application:s.default.getGame(n.application_id),sku:u.default.get(n.sku_id)}};if(t===L.PREMIUM)return{data:{type:t}};throw new Error("Unexpected type")})(D);function k(e,t,n){var o=""+e+t.substr(e.length);return n.test(o)}var F=function(e){function t(){var n,o,a,r,i=this;N(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=O(this,e.call.apply(e,[this].concat(s))),o.state={codeInput:"",submitting:!1,hasError:!1},o.inputRef=function(e){o._inputRef=e},o.handleChange=function(e){if(e.length>0&&null!=o._inputRef&&o._inputRef.selectionStart===e.length){var t=e.substr(0,e.length-1)+w+e[e.length-1];(k(t,M,A)||k(t,P,R))&&(e=t)}o.setState({codeInput:e,hasError:!1})},o.handleSubmit=(a=regeneratorRuntime.mark(function e(t){var n,a,r,l,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n=o.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(a=o.processInput(n))){e.next=8;break}return o.setState({hasError:!0}),e.abrupt("return");case 8:if(o.setState({submitting:!0}),e.prev=9,r=a[0],l=a[1],r!==L.ENTITLEMENT){e.next=20;break}return e.next=14,(0,c.redeemEntitlementCode)(l);case 14:s=e.sent,u=s[0],(0,p.fetchLibraryApplications)(),f.default.push(U,{type:r,entitlement:u}),e.next=24;break;case 20:if(r!==L.PREMIUM){e.next=24;break}return e.next=23,(0,h.activate)(l);case 23:f.default.push(U,{type:r});case 24:o.setState({codeInput:""}),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(9),o.setState({hasError:!0});case 30:return e.prev=30,o.setState({submitting:!1}),e.finish(30);case 33:case"end":return e.stop()}},e,i,[[9,27,30,33]])}),r=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return r.apply(this,arguments)}),O(o,n)}return I(t,e),t.prototype.processInput=function(e){var t=e.trim();return R.test(t)?[L.PREMIUM,t]:t.startsWith("WUMP")?[L.ENTITLEMENT,t.substr("WUMP".length).replace(new RegExp(w,"g"),"")]:null},t.prototype.render=function(){var e=this.state,t=e.codeInput,n=e.submitting,o=e.hasError;return a("div",{className:b.default.codeRedemption},void 0,a(g.default,{tag:g.default.Tags.H2},void 0,a(v.default,{align:v.default.Align.CENTER},void 0,S.default.Messages.BILLING_REDEEM_CODES)),a("div",{className:b.default.inputPrompt},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),a("form",{onSubmit:this.handleSubmit},void 0,a(v.default,{className:b.default.codeRedemptionForm},void 0,a(y.default,{value:t,onChange:this.handleChange,placeholder:M,inputRef:this.inputRef,error:o?S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:b.default.codeRedemptionInput}),a(m.default,{type:"submit",submitting:n},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))},t}(r.Component);t.default=F,e.exports=t.default},7158:function(e,t,n){"use strict";t.__esModule=!0;var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(9)),u=O(n(5)),d=O(n(166)),f=n(533),c=n(955),p=O(n(27)),h=O(n(6272)),m=O(n(163)),y=O(n(40)),v=O(n(79)),g=O(n(372)),_=O(n(974)),E=O(n(6031)),S=O(n(6165)),b=(O(n(6166)),n(964)),C=n(0),T=O(n(6)),N=O(n(5590));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=14,M=5,R=2,P=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},w=(0,d.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),L=[C.PaymentStatusTypes.FAILED,C.PaymentStatusTypes.REVERSED],D=function(e){var t=e.description,n=e.cost;return r("li",{className:N.default.paymentDetail},void 0,r(y.default,{justify:y.default.Justify.BETWEEN},void 0,r("div",{},void 0,t),r("div",{},void 0,n)))},U=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=I(this,e.call.apply(e,[this].concat(r))),o.state={expanded:!1},o.refundRules=[{rule:w.TIME_PLAYED,canRefund:function(){var e=o.timePlayed;return null==e||e.asMilliseconds()<u.default.duration(R,"hours").asMilliseconds()}},{rule:w.PURCHASE_DATE,canRefund:function(){return o.props.payment.isPremiumPayment?o.daysSincePurchase<=M:o.daysSincePurchase<=A}},{rule:w.SKU_TYPE,canRefund:function(){var e=o.props.payment;return null==e.sku||e.sku.type!==C.SKUTypes.CONSUMABLE}},{rule:w.ALREADY_REFUNDED,canRefund:function(){var e=o.props.payment;return e.amountRefunded<e.amount}},{rule:w.PAYMENT_STATUS,canRefund:function(){var e=o.props.payment;return L.includes(e.status)}}],o.handleExpandInfo=function(){o.setState({expanded:!o.state.expanded})},I(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},t.prototype.renderStatus=function(){switch(this.props.payment.status){case C.PaymentStatusTypes.PENDING:return r("span",{className:N.default.statusTagGrey},void 0,T.default.Messages.BILLING_TAG_PENDING);case C.PaymentStatusTypes.FAILED:return r("span",{className:N.default.statusTagRed},void 0,T.default.Messages.BILLING_TAG_FAILED);case C.PaymentStatusTypes.REFUNDED:return r("span",{className:N.default.statusTagGreen},void 0,T.default.Messages.BILLING_TAG_REFUNDED);case C.PaymentStatusTypes.REVERSED:return r("span",{className:N.default.statusTagRed},void 0,T.default.Messages.BILLING_TAG_REVERSED);default:return null}},t.prototype.renderPrice=function(){var e=this.props.payment;return r("span",{},void 0,(0,c.formatPrice)(e.amount,e.currency))},t.prototype.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,o=t.taxInclusive,a=t.tax,l=t.amount,u=t.currency;return r("div",{className:(0,s.default)(N.default.paymentText,N.default.paymentBreakdown)},void 0,null!=t.paymentSource?r(S.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:N.default.paymentText}):null,r("ul",{},void 0,!o&&a>0?r(i.Fragment,{},void 0,r(D,{description:t.description,cost:(0,c.formatPrice)(l-a,u)}),r(D,{description:T.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,c.formatPrice)(a,u)})):null,r(D,{description:T.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,c.formatPrice)(l,u)})))},t.prototype.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,o=this.validateRefundRules();if(o.includes(w.PAYMENT_STATUS))return null;var a=0===o.length,l=P(t),s=void 0;return s=o.includes(w.SKU_TYPE)?T.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):a?n.isPremiumPayment?T.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:M,supportURL:l}):T.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:A,playtimeLimit:R,supportURL:l}):n.isPremiumPayment?T.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:M,supportURL:l}):T.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:A,playtimeLimit:R}),r(i.Fragment,{},void 0,r("h2",{className:N.default.paymentHeader},void 0,T.default.Messages.BILLING_REFUND_HEADER),r("div",{className:N.default.paymentText},void 0,r("div",{},void 0,s),this.renderRefundActions(o)))},t.prototype.renderRefundActions=function(e){var t=this.props,n=t.locale,o=t.payment;return e.includes(w.SKU_TYPE)?null:r(y.default,{justify:y.default.Justify.BETWEEN,align:y.default.Align.END},void 0,r(y.default,{},void 0,r("div",{className:N.default.refundCriteria},void 0,r("h3",{className:N.default.refundSubHeader},void 0,T.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),r(y.default,{align:y.default.Align.CENTER},void 0,r(v.default,{name:e.includes(w.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),r("div",{},void 0,T.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),o.isPremiumPayment?null:r("div",{className:N.default.refundCriteria},void 0,r("h3",{className:N.default.refundSubHeader},void 0,T.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),r(y.default,{},void 0,r(v.default,{name:e.includes(w.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),r("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():T.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),r(m.default,{href:P(n)},void 0,T.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},t.prototype.renderDescription=function(){var e=this.props.payment,t=void 0,n=void 0;return null!=e.sku?(n=e.sku.name,t=r(g.default,{className:N.default.descriptionIcon,game:p.default.getGame(e.sku.applicationId),size:g.default.Sizes.XSMALL})):(t=r(v.default,{className:N.default.descriptionIcon,name:v.default.Names.NITRO_WHEEL}),n=e.description),r("div",{className:N.default.description},void 0,t,n)},t.prototype.renderExpandedSection=function(){return r("div",{className:N.default.expandedInfo},void 0,r("h2",{className:N.default.paymentHeader},void 0,T.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},t.prototype.render=function(){var e=this.state.expanded,t=this.props,n=t.payment,o=t.className;return r("div",{className:(0,s.default)(e?N.default.payment:N.default.hoverablePayment,o)},void 0,r(y.default,{onClick:this.handleExpandInfo,className:N.default.summaryInfo,align:y.default.Align.CENTER},void 0,r(y.default.Child,{className:N.default.date},void 0,(0,f.dateFormat)((0,u.default)(n.createdAt),"MM/DD/YYYY")),this.renderDescription(),r("div",{className:N.default.amount},void 0,this.renderStatus(),this.renderPrice()),r(v.default,{name:v.default.Names.CARET,className:N.default.expand,direction:e?_.default.Directions.UP:_.default.Directions.DOWN})),e?this.renderExpandedSection():null)},a(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?u.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment;return(0,u.default)().diff(e.createdAt,"days")}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof b.PaypalSourceRecord?E.default.Types.PAYPAL:e instanceof b.CreditCardSourceRecord?E.default.getType(e.brand):E.default.Types.UNKNOWN}}]),t}(i.PureComponent);t.default=l.default.connectStores([h.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===C.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?h.default.getCurrentUserStatisticsForApplication(n):null}})(U),e.exports=t.default},7159:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(9))),i=d(n(40)),l=d(n(79)),s=d(n(6)),u=d(n(5773));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n,o=e.currentPageIndex,d=e.numPages,f=e.onChangePage,c=e.children,p=e.className;return a("div",{className:(0,r.default)(u.default.paginator,p)},void 0,c,a(i.default,{justify:i.default.Justify.CENTER,className:u.default.pageActions},void 0,a(l.default,{name:l.default.Names.LEFT_CARET,onClick:function(){o>0&&f(o-1)},className:(0,r.default)(u.default.pageButtonPrev,(t={},t[u.default.disabled]=0===o,t))}),a("div",{className:u.default.pageIndicator},void 0,s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:o+1,numPages:d})),a(l.default,{name:l.default.Names.RIGHT_CARET,onClick:function(){o<d-1&&f(o+1)},className:(0,r.default)(u.default.pageButtonNext,(n={},n[u.default.disabled]=o>=d-1,n))})))},e.exports=t.default},7160:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=E(n(8)),u=E(n(3)),d=E(n(6395)),f=(E(n(6166)),E(n(7159))),c=E(n(6050)),p=E(n(40)),h=E(n(75)),m=E(n(7158)),y=E(n(6)),v=n(0),g=E(n(5772)),_=E(n(5590));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=Object.freeze({ALL:"0",STORE:"1",PREMIUM:"2",REFUNDED:"3"}),C=((a={})[b.ALL]=y.default.Messages.BILLING_PAYMENT_FILTER_TAB_ALL,a[b.STORE]=y.default.Messages.BILLING_PAYMENT_FILTER_TAB_STORE,a[b.PREMIUM]=y.default.Messages.BILLING_PAYMENT_FILTER_TAB_NITRO,a[b.REFUNDED]=y.default.Messages.BILLING_PAYMENT_FILTER_TAB_REFUNDED,a);function T(e,t){switch(t){case b.ALL:return e;case b.STORE:return e.filter(function(e){return null!=e.skuId});case b.PREMIUM:return e.filter(function(e){return null==e.skuId});case b.REFUNDED:return e.filter(function(e){return e.status===v.PaymentStatusTypes.REFUNDED})}throw new Error("Unknown filter type")}var N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.state={pageIndex:0,filter:b.ALL},o.handlePageChange=function(e){o.setState({pageIndex:e})},o.handleSelectTab=function(e){o.setState({filter:e})},S(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPage=function(){var e=this.props.locale,t=this.state.pageIndex,n=this.filteredPayments.slice(200*t,200*(t+1));return r(l.Fragment,{},void 0,n.map(function(t,n){return r(m.default,{className:g.default.paymentRow,payment:t,locale:e},n)}))},t.prototype.renderFilters=function(){var e=this.props.payments,t=this.state.filter;return r(c.default,{type:c.default.Types.TOP,selectedItem:t,onItemSelect:this.handleSelectTab},void 0,s.default.values(b).map(function(t,n){return T(e,t).length>0?r(c.default.Item,{id:t,className:g.default.tab},n,C[t]):null}))},t.prototype.render=function(){var e=this.props,t=e.payments,n=e.className,o=this.state.pageIndex;return 0===t.length?null:r("div",{className:n},void 0,r(h.default,{tag:h.default.Tags.H2},void 0,r(p.default,{align:p.default.Align.CENTER},void 0,y.default.Messages.BILLING_PAYMENT_HISTORY)),this.renderFilters(),r("div",{className:g.default.paymentPane},void 0,r("div",{className:g.default.paymentRow},void 0,r(p.default,{className:g.default.paymentRowHeader},void 0,r("div",{className:_.default.date},void 0,y.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),r("div",{className:_.default.description},void 0,y.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),r("div",{className:_.default.amount},void 0,y.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),r(f.default,{className:g.default.paginator,currentPageIndex:o,onChangePage:this.handlePageChange,numPages:Math.max(Math.ceil(t.length/200),1)},void 0,this.renderPage())))},i(t,[{key:"filteredPayments",get:function(){return T(this.props.payments,this.state.filter)}}]),t}(l.PureComponent);t.default=u.default.connectStores([d.default],function(){return{payments:d.default.getPayments()}})(N),e.exports=t.default},7165:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=L(n(1)),u=w(n(3)),d=w(n(2)),f=(n(529),w(n(6163))),c=w(n(6058)),p=w(n(377)),h=w(n(38)),m=L(n(535)),y=L(n(982)),v=L(n(6393)),g=w(n(6392)),_=w(n(6391)),E=w(n(6164)),S=w(n(6057)),b=w(n(6390)),C=w(n(6389)),T=w(n(40)),N=w(n(123)),O=w(n(6161)),I=w(n(520)),A=w(n(64)),M=w(n(6)),R=n(0),P=w(n(5775));function w(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=Object.freeze({PAYMENT_TYPE:"payment_type",CARD_INFO:"card_info",ADDRESS:"billing_address",PAYPAL:"paypal"}),F=((a={})[k.PAYMENT_TYPE]=M.default.Messages.PAYMENT_SOURCE_TYPE,a[k.CARD_INFO]=M.default.Messages.PAYMENT_SOURCE_INFORMATION,a[k.ADDRESS]=M.default.Messages.BILLING_ADDRESS,a[k.PAYPAL]=M.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS,a),x=[k.PAYMENT_TYPE,k.CARD_INFO,k.ADDRESS],G=[k.PAYMENT_TYPE,k.PAYPAL,k.ADDRESS];function B(e){return e.hasCardError()?k.CARD_INFO:e.hasAddressError()?k.ADDRESS:null}var j=i(b.default,{}),V=function(e){function t(){var n,o,a,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];return o=a=U(this,e.call.apply(e,[this].concat(d))),a.state={step:k.PAYMENT_TYPE,errorStep:null,type:null},a.STEPS_DATA=((n={})[k.PAYMENT_TYPE]={renderBody:function(){return i(g.default,{onChooseType:a.handleChooseType})}},n[k.CARD_INFO]={renderBody:function(){var e=a.props,t=e.creditCardInfo,n=e.error,o=null!=n&&(null==n.code||B(n)===k.CARD_INFO);return i(s.Fragment,{},void 0,o?i(S.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_CARD):null,s.createElement(_.default,r({},t,{onCardInfoChange:a.handleCardInfoChange,error:o?n:null})))},renderNextButton:function(){var e=a.props,t=e.isCreditCardInfoValid,n=e.submitting;return i(A.default,{disabled:!t,onClick:a.handleNextClick,type:"submit",submitting:n},void 0,M.default.Messages.NEXT)}},n[k.ADDRESS]={renderBody:function(){var e=a.props,t=e.billingAddressInfo,n=e.error,o=null!=n&&(null==n.code||B(n)===k.ADDRESS);return i(s.Fragment,{},void 0,o?i(S.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,s.createElement(E.default,r({},t,{onBillingAddressChange:a.handleBillingAddressChange,error:o?n:null})))},renderNextButton:function(){var e=a.props,t=e.submitting,n=e.isBillingAddressInfoValid;return i(A.default,{type:"submit",submitting:t,disabled:!n,onClick:a.state.type===R.PaymentSourceTypes.PAYPAL?a.handlePaypalSave:a.handleCardSave},void 0,M.default.Messages.SAVE)}},n[k.PAYPAL]={renderBody:function(){return j},renderNextButton:function(){var e=a.props,t=e.submitting,n=e.braintreeNonce,o=null!=e.braintreeEmail&&null!=n;return i(A.default,{submitting:t,look:o?A.default.Looks.FILLED:A.default.Looks.OUTLINED,onClick:o?a.handleNextClick:a.handleReopenPaypal},void 0,o?M.default.Messages.NEXT:M.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN)}},n),a.handleChooseType=function(e){var t=a.getNextStep(e);null!=t&&a.setState({type:e,step:t})},a.handleCardInfoChange=function(e,t){v.updateCardInfo(e,t)},a.handleBillingAddressChange=function(e,t){v.updateAddressInfo(e,t)},a.handleBackClick=function(){var e=a.getPreviousStep();null!=e&&(e===k.PAYMENT_TYPE&&v.clearError(),a.setState({step:e}))},a.handleNextClick=function(){var e=a.getNextStep();null!=e&&a.setState({step:e})},a.handleCardSave=D(regeneratorRuntime.mark(function e(){var t,n,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.creditCardInfo,o=t.billingAddressInfo,i=t.isCreditCardInfoValid,s=t.isBillingAddressInfoValid,i&&s){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,m.createCardPaymentSource(r({},n,{billingAddress:o,type:R.PaymentSourceTypes.CARD,isDefault:!1}));case 6:h.default.pop(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:case"end":return e.stop()}},e,l,[[3,9]])})),a.handlePaypalSave=D(regeneratorRuntime.mark(function e(){var t,n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.braintreeEmail,o=t.braintreeNonce,r=t.billingAddressInfo,null==n||null==o){e.next=10;break}return e.prev=2,e.next=5,m.createPaypalPaymentSource(o,r);case 5:h.default.pop(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}},e,l,[[2,8]])})),U(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.error,o=t.errorStep;if(null==n)return null==o?null:{errorStep:null};var a=B(n);return null!=a&&a!==t.errorStep?{step:a,errorStep:a}:null},t.prototype.componentDidMount=function(){y.createClient()},t.prototype.componentWillUnmount=function(){d.default.wait(function(){return y.teardown()}),v.clearCardInfo()},t.prototype.getSteps=function(e){return(null!=e?e:this.state.type)===R.PaymentSourceTypes.PAYPAL?G:x},t.prototype.getNextStep=function(e){var t=this.state.step,n=this.getSteps(e);return n[n.indexOf(t)+1]},t.prototype.getPreviousStep=function(){var e=this.state.step,t=this.getSteps();return t[t.indexOf(e)-1]},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.handleReopenPaypal=function(){y.reopenPayPalWindow()},t.prototype.handleClose=function(){h.default.pop()},t.prototype.renderGenericError=function(){var e=this.props.error;return null==e||null!=B(e)?null:i(S.default,{className:P.default.errorBlock},void 0,e.message)},t.prototype.renderFooter=function(){var e=this.stepData;return null==e.renderNextButton?null:i(N.default.Footer,{},void 0,i(T.default,{justify:T.default.Justify.BETWEEN},void 0,i(A.default,{onClick:this.handleBackClick,color:A.default.Colors.WHITE,look:A.default.Looks.LINK,size:A.default.Sizes.MIN},void 0,M.default.Messages.BACK),e.renderNextButton()))},t.prototype.render=function(){var e=this.state.step,t=this.getSteps(),n=(e===k.PAYMENT_TYPE?x:t).map(function(e){return{id:e,label:F[e]}});return i(N.default,{size:N.default.Sizes.SMALL,className:P.default.modal},void 0,i("form",{className:P.default.form,onSubmit:this.preventDefault},void 0,i(N.default.Header,{separator:!1},void 0,i(T.default,{direction:T.default.Direction.VERTICAL},void 0,i(T.default,{className:P.default.modalTitle,justify:T.default.Justify.BETWEEN,align:T.default.Align.CENTER},void 0,i(I.default.FormTitle,{tag:I.default.FormTitleTags.H4},void 0,M.default.Messages.PAYMENT_SOURCES_ADD),i(N.default.CloseButton,{onClick:this.handleClose})),this.renderGenericError(),i(O.default,{breadcrumbs:n,activeId:e}))),i("div",{className:P.default.divider}),i(N.default.Content,{className:P.default.modalContent},void 0,i(C.default,{step:e,steps:t},void 0,this.stepData.renderBody())),this.renderFooter()))},l(t,[{key:"stepData",get:function(){var e=this.state.step,t=this.STEPS_DATA[e];if(null==t)throw new Error("Invalid step "+e);return t}}]),t}(s.PureComponent);t.default=u.default.connectStores([f.default,p.default,c.default],function(){return{braintreeEmail:f.default.braintreeEmail,braintreeNonce:f.default.braintreeNonce,creditCardInfo:f.default.getCreditCardInfo(),isCreditCardInfoValid:f.default.isCardInfoValid,billingAddressInfo:f.default.getBillingAddressInfo(),isBillingAddressInfoValid:f.default.isBillingAddressInfoValid,error:f.default.error,submitting:c.default.isBusy}})(V),e.exports=t.default},7169:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),s=O(n(3)),u=O(n(2)),d=(n(529),O(n(6058))),f=n(535),c=O(n(6165)),p=O(n(6164)),h=O(n(6057)),m=O(n(520)),y=O(n(524)),v=O(n(945)),g=O(n(67)),_=O(n(142)),E=O(n(40)),S=O(n(64)),b=n(964),C=(O(b),O(n(6))),T=n(0),N=O(n(5781));function O(e){return e&&e.__esModule?e:{default:e}}var I="isDefault",A=a(m.default.FormDivider,{}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));R.call(o);var a=n.paymentSource,i=n.isDefault,l=a.billingAddress;return o.state={billingAddress:r({line1:"",line2:"",country:"",state:"",city:"",postalCode:""},l),billingAddressValid:!1,isDefault:i,dirtyFields:{}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){u.default.wait(function(){(0,f.clearUpdatePaymentSourceError)(),(0,f.clearRemovePaymentSourceError)()})},t.prototype.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?a(h.default,{className:N.default.formError},void 0,n.message):null:a(h.default,{className:N.default.formError},void 0,t.message)},t.prototype.renderBillingAddressSection=function(){var e=this.state.billingAddress;return a("div",{className:N.default.addressSection},void 0,a(g.default,{color:g.default.Colors.PRIMARY,className:N.default.sectionHeader},void 0,C.default.Messages.BILLING_ADDRESS),i.createElement(p.default,r({},e,{mode:p.default.Modes.EDIT,layout:p.default.Layouts.SETTINGS,onBillingAddressChange:this.handleAddressUpdate,error:this.props.updateError})))},t.prototype.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,o=e.isPremium,r=this.state.billingAddressValid;return a(E.default,{justify:E.default.Justify.BETWEEN,className:N.default.formActions},void 0,a("div",{className:N.default.disabledTooltipWrapper},void 0,o?a(_.default,{text:C.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,a("div",{"aria-hidden":!0,className:N.default.disabledTooltipTarget})):null,a(S.default,{type:"button",disabled:o||t,submitting:n,onClick:this.handleDelete,look:S.default.Looks.OUTLINED,color:S.default.Colors.RED},void 0,C.default.Messages.PAYMENT_SOURCE_DELETE)),a(E.default,{grow:0},void 0,a(S.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:S.default.Looks.LINK,color:S.default.Colors.PRIMARY},void 0,C.default.Messages.CANCEL),a(S.default,{submitting:t,disabled:!r||n,type:"submit",color:S.default.Colors.GREEN},void 0,C.default.Messages.SAVE)))},t.prototype.render=function(){var e=this,t=this.props,n=t.paymentSource,o=t.isDefault,r=t.locale,i=t.className,s=t.isPremium,u=this.state.isDefault,d=n instanceof b.CreditCardSourceRecord;return a(y.default,{editable:!0,className:(0,l.default)(N.default.card,i)},void 0,a("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),a("div",{className:N.default.paymentSection},void 0,a(c.default,{paymentSource:n,isDefault:o,isPremium:s,locale:r}),a("div",{className:N.default.subText},void 0,d?C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD:C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:T.PAYPAL_URL}))),this.renderBillingAddressSection(),a(v.default,{name:I,value:u,onChange:function(t,n){return e.handleFieldChange(n,I)},type:v.default.Types.INVERTED,className:N.default.defaultSection},void 0,a(g.default,{className:N.default.defaultCheckboxLabel,color:g.default.Colors.PRIMARY},void 0,C.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),A,this.renderActions()))},t}(i.PureComponent);M.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var R=function(){var e=this;this.handleSubmit=function(t){if(t.preventDefault(),t.stopPropagation(),0===Object.values(e.state.dirtyFields).filter(Boolean).length)e.props.onCancel();else{var n=e.state,o=n.billingAddress,a=n.isDefault;e.props.onSubmit(e.props.paymentSource.id,{billingAddress:o,isDefault:a})}},this.handleCancel=function(){e.props.onCancel()},this.handleDelete=function(){var t=e.props;(0,t.onDelete)(t.paymentSource.id)},this.handleAddressUpdate=function(t,n,o){e.setState({billingAddress:t,billingAddressValid:n,dirtyFields:r({},e.state.dirtyFields,{billingAddress:o})})},this.handleFieldChange=function(t,n){var o,a;null!=n&&e.setState(((a={})[n]=t,a.dirtyFields=r({},e.state.dirtyFields,((o={})[n]=!0,o)),a))}};t.default=s.default.connectStores([d.default],function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}})(M),e.exports=t.default},7170:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=T(n(1)),l=C(n(8)),s=T(n(535)),u=C(n(38)),d=C(n(7169)),f=C(n(6165)),c=C(n(7165)),p=n(79),h=C(p),m=C(n(64)),y=C(n(40)),v=C(n(142)),g=C(n(67)),_=C(n(75)),E=C(n(526)),S=(C(n(964)),C(n(6))),b=C(n(5774));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){function t(){var n,o;O(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=I(this,e.call.apply(e,[this].concat(r))),o.handleEditClick=function(){o.props.onEditClick(o.props.paymentSource.id)},I(o,n)}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,o=e.isEditing,l=e.index,s=e.hideDivider,u=(e.onEditClick,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["paymentSource","isDefault","isEditing","index","hideDivider","onEditClick"]));return o?i.createElement(d.default,r({},u,{paymentSource:t,isDefault:n})):a("div",{className:b.default.paymentSourceItem},void 0,l>0&&!s?a(E.default,{className:b.default.sourceDivider}):null,a(y.default,{align:y.default.Align.CENTER,justify:y.default.Justify.BETWEEN,className:b.default.paymentSourceRow},void 0,i.createElement(f.default,r({},this.props,{showSubtext:!0})),o?null:a(m.default,{color:m.default.Colors.PRIMARY,onClick:this.handleEditClick,size:m.default.Sizes.SMALL},void 0,S.default.Messages.EDIT)))},t}(i.PureComponent);M.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var R=function(e){function t(){var n,o,a,r,i=this;O(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=o=I(this,e.call.apply(e,[this].concat(u))),o.state={editingPayment:null},o.handleEditClick=function(e){o.setState({editingPayment:e})},o.handleCancel=function(){o.setState({editingPayment:null})},o.handleDelete=(r=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deletePaymentSource(t);case 3:o.setState({editingPayment:null}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,i,[[0,6]])})),function(e){return r.apply(this,arguments)}),o.handleSubmit=(a=N(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=9;break}return e.prev=1,e.next=4,s.updatePaymentSource(t,n);case 4:o.setState({editingPayment:null}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,i,[[1,7]])})),function(e,t){return a.apply(this,arguments)}),I(o,n)}return A(t,e),t.prototype.handleAddPaymentMethod=function(){u.default.push(function(e){return i.createElement(c.default,e)})},t.prototype.renderFooter=function(){var e=this.props.paymentSources;return a(y.default,{justify:y.default.Justify.END,className:b.default.footer},void 0,0===Object.keys(e).length?a(y.default.Child,{},void 0,a(g.default,{color:g.default.Colors.PRIMARY},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD),a("div",{className:b.default.subText},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,a(m.default,{onClick:this.handleAddPaymentMethod},void 0,S.default.Messages.BILLING_ADD_PAYMENT_METHOD))},t.prototype.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,o=t.paymentSources,r=t.locale,i=t.removing,s=t.submitting,u=t.premiumSubscriptionPaymentSourceId,d=l.default.values(o),f=this.state.editingPayment,c=d.findIndex(function(e){return e.id===f}),m=d.map(function(t,o){return a(M,{locale:r,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isPremium:t.id===u,hideDivider:c===o-1,onSubmit:e.handleSubmit,index:o,submitting:s,removing:i,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)});return a("div",{},void 0,a(_.default,{tag:_.default.Tags.H2},void 0,a(y.default,{align:y.default.Align.CENTER},void 0,a(v.default,{position:v.default.Positions.LEFT,text:S.default.Messages.BILLING_SECURE_TOOLTIP},void 0,a(h.default,{name:p.IconNames.SECURE_LOCK,className:b.default.lockIcon})),S.default.Messages.BILLING_PAYMENT_SOURCES)),m,c!==d.length-1?a(E.default,{className:b.default.sourceDivider}):null,this.renderFooter())},t}(i.PureComponent);t.default=R,e.exports=t.default},7171:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=b(n(1)),i=S(n(3)),l=S(n(2)),s=S(n(6058)),u=S(n(12)),d=S(n(31)),f=S(n(144)),c=S(n(377)),p=S(n(6167)),h=b(n(535)),m=S(n(6001)),y=S(n(7170)),v=S(n(7160)),g=S(n(224)),_=S(n(7157)),E=S(n(5770));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var C=a(m.default,{}),T=a(g.default,{}),N=a(_.default,{}),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.default.wait(function(){h.fetchPaymentSources(),h.fetchPayments(),h.fetchSubscriptions()})},t.prototype.render=function(){var e=this.props,t=e.syncing,n=e.hide,o=e.paymentSources,r=e.defaultPaymentSourceId,i=e.locale,l=e.premiumSubscription,s=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?C:t?a("div",{className:E.default.syncing},void 0,T):a("div",{className:E.default.userSettingsBilling},void 0,a(y.default,{paymentSources:o,defaultPaymentSourceId:r,premiumSubscriptionPaymentSourceId:l?l.paymentSourceId:null,locale:i,removing:s,submitting:u}),a(v.default,{locale:i,className:E.default.paymentHistory}),N)},t}(r.PureComponent);t.default=i.default.connectStores([d.default,s.default,c.default,u.default,f.default,p.default],function(){var e=p.default.getPremiumSubscription(),t=u.default.getCurrentUser();return{locale:d.default.locale,hide:f.default.enabled,isClaimed:t.email,isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:c.default.defaultPaymentSourceId,paymentSources:c.default.paymentSources,syncing:s.default.isSyncing,isRemovingPaymentSource:s.default.isRemovingPaymentSource,isUpdatingPaymentSource:s.default.isUpdatingPaymentSource}})(O),e.exports=t.default},7172:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(41)),s=n(270),u=m(n(64)),d=m(n(40)),f=n(6398),c=m(n(6)),p=n(0),h=m(n(5788));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(r))),o.handleViewApplicationsClick=function(){(0,s.popLayer)(),location.pathname===p.Routes.APPLICATION_STORE?l.default.replaceWith(""+p.Routes.APPLICATION_STORE+p.PREMIUM_ROUTE_HASH):l.default.transitionTo(""+p.Routes.APPLICATION_STORE+p.PREMIUM_ROUTE_HASH)},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleApplicationClick=function(){(0,s.popLayer)()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.directoryLayout;return a("div",{className:(0,i.default)(h.default.premium,t)},void 0,a(d.default,{align:d.default.Align.CENTER,className:h.default.header},void 0,a("div",{className:h.default.arcadeImage}),a("div",{},void 0,a("h2",{className:h.default.premiumHeader},void 0,c.default.Messages.PREMIUM_FEATURE_TITLE_APPLICATIONS),a("h3",{className:h.default.premiumSubheader},void 0,c.default.Messages.PREMIUM_FEATURE_DESCRIPTION_APPLICATIONS))),a(f.PremiumApplicationsCarousel,{large:!1,items:n.premiumCarousel,onApplicationClick:this.handleApplicationClick}),a(u.default,{color:u.default.Colors.BRAND,look:u.default.Looks.INVERTED,className:h.default.viewGamesButton,onClick:this.handleViewApplicationsClick},void 0,c.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS))},t}(r.PureComponent);t.default=v,e.exports=t.default},7173:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=g(n(1)),i=v(n(3)),l=v(n(6)),s=v(n(6399)),u=v(n(7172)),d=v(n(6396)),f=v(n(67)),c=v(n(537)),p=v(n(6169)),h=g(n(6089)),m=n(0),y=v(n(5786));function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=[{icon:y.default.discriminatorIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_DISCRIMINATOR,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_DISCRIMINATOR},{icon:y.default.avatarIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_ANIMATED_AVATAR,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_ANIMATED_AVATAR},{icon:y.default.screenshareIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_SCREENSHARE,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_SCREENSHARE},{icon:y.default.emojiIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_CUSTOM_EMOJI,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_CUSTOM_EMOJI},{icon:y.default.animatedEmojiIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_ANIMATED_EMOJI,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_ANIMATED_EMOJI},{icon:y.default.uploadIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_UPLOAD_LIMIT,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_UPLOAD_LIMIT.format({maxUploadStandard:l.default.Messages.FILE_UPLOAD_LIMIT_STANDARD,maxUploadPremium:l.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM})},{icon:y.default.badgeIcon,title:l.default.Messages.PREMIUM_FEATURE_TITLE_BADGE,description:l.default.Messages.PREMIUM_FEATURE_DESCRIPTION_BADGE}],E=a(s.default,{features:_}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.hasGameStore,n=e.shouldFetchDirectoryLayout,o=e.directoryLayout;t&&n&&null==o&&h.loadDirectory(m.STORE_DIRECTORY_LAYOUT_ID)},t.prototype.render=function(){var e=this.props,t=e.hasGameStore,n=e.isFetchingDirectoryLayout,o=e.directoryLayout;return a("div",{className:y.default.features},void 0,t&&!n&&null!=o?a(u.default,{directoryLayout:o,className:y.default.applicationsPerk}):a(d.default,{className:y.default.video,videoID:"DI6bvoIDUhw"}),a(f.default,{className:y.default.featureHeader,color:f.default.Colors.PRIMARY,weight:f.default.Weights.BOLD},void 0,l.default.Messages.PREMIUM_FEATURES_HEADER),E)},t}(r.PureComponent);t.default=i.default.connectStores([c.default,p.default],function(){return{hasGameStore:c.default.isInExperiment(),isFetchingDirectoryLayout:p.default.isFetching,shouldFetchDirectoryLayout:p.default.shouldFetch(),directoryLayout:p.default.getDirectoryLayout(m.STORE_DIRECTORY_LAYOUT_ID)}})(S),e.exports=t.default},7174:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=N(n(1)),l=T(n(6)),s=T(n(9)),u=T(n(5)),d=n(955),f=n(6400),c=N(n(535)),p=N(n(6170)),h=T(n(20)),m=n(262),y=T(m),v=T(n(526)),g=n(64),_=T(g),E=n(964),S=(T(E),n(533)),b=n(0),C=n(6090);function T(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=((a={})[b.SubscriptionStatusTypes.UNPAID]="active",a[b.SubscriptionStatusTypes.ACTIVE]="active",a[b.SubscriptionStatusTypes.PAST_DUE]="past-due",a[b.SubscriptionStatusTypes.CANCELED]="cancelled",a),A=r(v.default,{className:"margin-top-40 margin-bottom-40"}),M=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=O(this,e.call.apply(e,[this].concat(r))),o.removePaymentSource=function(){var e=o.props.paymentSource;null!=e&&c.deletePaymentSource(e.id)},o.unsubscribe=function(){var e=o.props.premiumSubscription,t=new Date(e.currentPeriodEnd);p.cancel(l.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_DETAILED.format({date:t}),e.id)},o.changePaymentSource=function(){var e=o.props.premiumSubscription;null!=e&&p.openModal(b.PremiumPaymentSubscriptionModes.CHANGE,e.plan)},o.resubscribe=function(){var e=o.props,t=e.paymentSource,n=e.premiumSubscription;null!=t&&null!=n?p.resubscribe(n,t):null!=n&&p.openModal(b.PremiumPaymentSubscriptionModes.RESUBSCRIBE,n.plan)},o.upgradeYearly=function(){var e=o.props,t=e.premiumSubscription;if(null!=e.paymentSource){var n=(0,u.default)(t.currentPeriodStart),a=(0,u.default)(t.currentPeriodEnd),r=a.diff(n,"seconds"),i=a.diff((0,u.default)(),"seconds")/r*b.PremiumPlanPrices.MONTHLY,s=b.PremiumPlanPrices.YEARLY-i;h.default.track("premium_upgrade_started",{plan:b.SubscriptionPlans.PREMIUM_YEARLY,price_shown:Math.round(s)}),p.upgrade(t,b.SubscriptionPlans.PREMIUM_YEARLY,l.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_NEW.format({price:(0,d.formatPrice)(s,b.CurrencyCodes.USD)}))}},O(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSubscriptionDetails=function(){var e=this.props,t=e.premiumSubscription,n=e.busy,o=t.status,a=t.plan,i=void 0;switch(o){case b.SubscriptionStatusTypes.PAST_DUE:i=l.default.Messages.PREMIUM_PAST_DUE;break;case b.SubscriptionStatusTypes.CANCELED:i=l.default.Messages.PREMIUM_CANCELED.format({date:t.currentPeriodEnd});break;default:i=l.default.Messages.PREMIUM_INFO_NEW.format({price:(0,d.formatPrice)(a===b.SubscriptionPlans.PREMIUM_YEARLY?b.PremiumPlanPrices.YEARLY:b.PremiumPlanPrices.MONTHLY,b.CurrencyCodes.USD),date:t.currentPeriodEnd})}var u=void 0;return o!==b.SubscriptionStatusTypes.CANCELED?(u=[r(_.default,{className:"premium-tools-button",size:_.default.Sizes.SMALL,look:g.ButtonLooks.INVERTED,color:g.ButtonColors.BRAND,disabled:n,submitting:n,onClick:this.unsubscribe},"cancel",l.default.Messages.CANCEL)],a===b.SubscriptionPlans.PREMIUM_MONTHLY&&u.unshift(r(_.default,{className:"premium-tools-button",size:_.default.Sizes.SMALL,look:g.ButtonLooks.INVERTED,color:g.ButtonColors.BRAND,disabled:n,submitting:n,onClick:this.upgradeYearly},"upgradeYearly",l.default.Messages.UPGRADE_YEARLY))):u=[r(_.default,{className:"premium-tools-button",size:_.default.Sizes.SMALL,look:g.ButtonLooks.INVERTED,color:g.ButtonColors.YELLOW,disabled:n,submitting:n,onClick:this.resubscribe},"resubscribe",l.default.Messages.RESUBSCRIBE)],r("div",{className:(0,s.default)("subscription",I[o])},void 0,r("div",{className:"premium-details"},void 0,r("div",{className:"payment-subhead premium-title"},void 0,l.default.Messages.PREMIUM_TITLE),r("div",{className:"premium-info"},void 0,i)),r("div",{className:"premium-tools"},void 0,u))},t.prototype.renderPaymentSourceCreditCard=function(e){var t=this.props,n=t.locale,o=t.premiumSubscription,a=t.busy,r=void 0,i=void 0,s=void 0,u=void 0,d=e.brand.toLowerCase(),c=e.invalid;o.status===b.SubscriptionStatusTypes.CANCELED?(r=l.default.Messages.PAYMENT_SOURCE_REMOVE_CARD,i=this.removePaymentSource):(r=l.default.Messages.PAYMENT_SOURCE_CHANGE_CARD,i=this.changePaymentSource);var p={brand:e.brand,last_4:(e.last4||"****").padStart(4,"0")};return c?(s=l.default.Messages.PAYMENT_SOURCE_INVALID.format(p),u=l.default.Messages.PAYMENT_SOURCE_INVALID_DETAILS):(s=l.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format(p),u=l.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,f.getLocalizedDisplayMonth)(e.expiresMonth,n),year:e.expiresYear})),this.renderGenericPaymentSource(c,s,u,d,r,a,i)},t.prototype.renderPaymentSourcePayPal=function(e){var t=this.props,n=t.busy,o=t.premiumSubscription,a=e.invalid,r=null,i=void 0,s=void 0;return o.status!==b.SubscriptionStatusTypes.CANCELED&&(r=l.default.Messages.PAYMENT_SOURCE_CHANGE_PAYPAL,i=this.changePaymentSource),s=a?l.default.Messages.PAYMENT_SOURCE_INVALID_DETAILS:e.email,this.renderGenericPaymentSource(a,"PayPal",s,"paypal",r,n,i)},t.prototype.renderGenericPaymentSource=function(e,t,n,o,a,i,l){return r("div",{className:(0,s.default)("payment-source","margin-top-40","margin-bottom-40",{invalid:e})},void 0,r("div",{className:"payment-info"},void 0,r("div",{className:(0,s.default)("card-icon",o)}),r("div",{className:"card-info"},void 0,r(y.default,{className:"card-description"},void 0,t),r(y.default,{type:m.Types.DESCRIPTION,className:"card-details"},void 0,n)),r("div",{className:"card-tools"},void 0,null!=a?r(_.default,{className:"card-tools-button",disabled:i,look:g.ButtonLooks.OUTLINED,onClick:l},void 0,a):null)))},t.prototype.renderPaymentSource=function(){var e=this.props,t=e.paymentSource,n=e.premiumSubscription;return null==t&&n.status===b.SubscriptionStatusTypes.CANCELED?null:t instanceof E.CreditCardSourceRecord?this.renderPaymentSourceCreditCard(t):t instanceof E.PaypalSourceRecord?this.renderPaymentSourcePayPal(t):this.renderGenericPaymentSource(!1,l.default.Messages.PREMIUM_NO_PAYMENT_SOURCE,l.default.Messages.PREMIUM_NO_PAYMENT_SOURCE_DETAILS,"disabled",l.default.Messages.PREMIUM_ADD_CARD,!1,this.changePaymentSource)},t.prototype.renderNitroCodeSub=function(){var e=this.props.premiumSubscription;return r("div",{className:"subscription active-code"},void 0,r("div",{className:"premium-details"},void 0,r("div",{className:"payment-subhead premium-title"},void 0,l.default.Messages.PREMIUM_TITLE),r("div",{className:"premium-info"},void 0,l.default.Messages.PREMIUM_CODE_ACTIVE_UNTIL.format({date:(0,S.dateFormat)((0,u.default)(e.currentPeriodEnd),"LL")}))))},t.prototype.render=function(){return this.props.premiumSubscription.id===C.PREMIUM_CODE_SUBSCRIPTION_ID?this.renderNitroCodeSub():r("div",{className:"premium-header"},void 0,this.renderSubscriptionDetails(),this.renderPaymentSource(),A)},t}(i.PureComponent);t.default=M,e.exports=t.default},7175:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=m(n(1)),i=n(955),l=m(n(6170)),s=h(n(6401)),u=h(n(40)),d=h(n(64)),f=h(n(6)),c=n(0),p=h(n(5792));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDuration=function(e,t){return a("span",{className:p.default.subscriptionDuration},t,e)},t.prototype.renderActions=function(){var e=this,t=this.props,n=t.isClaimed,o=t.isVerified;return n&&o?a(u.default,{className:p.default.actions,align:u.default.Align.START},void 0,a(u.default,{direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER},void 0,a(d.default,{size:p.default.action,color:d.default.Colors.GREEN,onClick:function(){return e.handleSignUp(c.SubscriptionPlans.PREMIUM_YEARLY)}},void 0,f.default.Messages.PREMIUM_YEAR_SUBSCRIPTION_STYLED_NEW.format({price:(0,i.formatPrice)(c.PremiumPlanPrices.YEARLY,c.CurrencyCodes.USD),durationHook:this.renderDuration})),a("div",{className:p.default.promo},"promo",f.default.Messages.PREMIUM_YEAR_FREE_MONTHS_SHORT)),a(d.default,{size:p.default.action,color:d.default.Colors.PRIMARY,onClick:function(){return e.handleSignUp(c.SubscriptionPlans.PREMIUM_MONTHLY)},look:d.default.Looks.OUTLINED,className:p.default.actionRight},void 0,f.default.Messages.PREMIUM_MONTH_SUBSCRIPTION_STYLED_NEW.format({price:(0,i.formatPrice)(c.PremiumPlanPrices.MONTHLY,c.CurrencyCodes.USD),durationHook:this.renderDuration}))):a(s.default,{className:p.default.emailNotice})},t.prototype.render=function(){return a(u.default,{className:p.default.splashHeader,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER},void 0,a("div",{className:p.default.header},void 0,f.default.Messages.PREMIUM_TITLE_SUPPORT),a("div",{className:p.default.blurb},void 0,f.default.Messages.PREMIUM_BLURB),this.renderActions())},t.prototype.handleSignUp=function(e){l.openModal(c.PremiumPaymentSubscriptionModes.NEW,e)},t}(r.PureComponent);t.default=y,e.exports=t.default},7176:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=S(n(1)),i=E(n(3)),l=E(n(6001)),s=E(n(7175)),u=E(n(7174)),d=E(n(7173)),f=E(n(224)),c=E(n(6058)),p=E(n(6167)),h=E(n(377)),m=E(n(6395)),y=E(n(12)),v=E(n(31)),g=E(n(144)),_=S(n(535));n(5785);E(n(6090));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var b=a(l.default,{}),C=a("div",{className:"premium-settings loading"},void 0,a(f.default,{})),T=a("div",{className:"premium-settings-background"}),N=a(d.default,{}),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderHeader=function(){var e=this.props,t=e.premiumSubscription,n=e.busy,o=e.paymentSource,r=e.locale,i=e.isClaimed,l=e.isVerified;return t?a(u.default,{premiumSubscription:t,paymentSource:o,busy:n,locale:r}):a(s.default,{isClaimed:i,isVerified:l})},t.prototype.componentDidMount=function(){_.fetchSubscriptions(),_.fetchPaymentSources()},t.prototype.render=function(){var e=this.props,t=e.syncing;return e.hide?b:t?C:a("div",{className:"premium-settings"},void 0,T,this.renderHeader(),N)},t}(r.PureComponent);t.default=i.default.connectStores([v.default,p.default,c.default,m.default,h.default,y.default,g.default],function(){var e=p.default.getPremiumSubscription(),t=y.default.getCurrentUser();return{locale:v.default.locale,hide:g.default.enabled,isClaimed:t.email,isVerified:t.verified,syncing:c.default.isSyncing,busy:c.default.isBusy,premiumSubscription:e,paymentSource:null!=e&&null!=e.paymentSourceId?h.default.getPaymentSource(e.paymentSourceId):null}})(O),e.exports=t.default},7177:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(9)),s=j(n(3)),u=j(n(6)),d=j(n(5)),f=j(n(31)),c=j(n(26)),p=j(n(12)),h=j(n(1029)),m=j(n(941)),y=j(n(940)),v=j(n(64)),g=j(n(142)),_=j(n(528)),E=j(n(522)),S=n(962),b=j(n(38)),C=j(n(267)),T=n(6708),N=j(n(526)),O=n(75),I=j(O),A=j(n(5990)),M=n(262),R=j(M),P=j(n(164)),w=j(n(67)),L=j(n(524)),D=j(n(40)),U=j(n(519)),k=j(n(5794)),F=n(6692),x=j(n(523)),G=n(6402),B=n(0);function j(e){return e&&e.__esModule?e:{default:e}}function V(e){var t=e.body,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["body"]);b.default.push(function(e){return i.createElement(P.default,a({},e,n),r(w.default,{size:w.default.Sizes.MEDIUM,color:w.default.Colors.PRIMARY},void 0,t))})}function H(e){var t=e.message;V({header:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:u.default.Messages.OKAY,red:!0,body:t})}var Y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.handleUsageStatisticsChange=function(){!o.props.usageStatistics?(0,T.setConsents)([B.Consents.USAGE_STATISTICS],[]).catch(H):V({header:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,T.setConsents)([],[B.Consents.USAGE_STATISTICS]).catch(H)}})},o.handlePersonalizationChange=function(){!o.props.personalization?(0,T.setConsents)([B.Consents.PERSONALIZATION],[]).catch(H):V({header:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,T.setConsents)([],[B.Consents.PERSONALIZATION]).catch(H)},body:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})},o.handleDataDownloadRequest=function(){V({header:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){o.setState({requestingHarvest:!0},function(){(0,S.requestHarvest)().then(function(e){null!=e&&null!=e.body?(o.setState({currentHarvestRequest:e.body}),C.default.show({body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})):C.default.show({title:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})},function(){return C.default.show({title:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}).finally(function(){return o.setState({requestingHarvest:!1})})})}})},o.handleChangeDefaultGuildsRestricted=o.handleChangeDefaultGuildsRestricted.bind(o);var a=n.defaultGuildsRestricted;return o.state={defaultGuildsRestricted:a,currentHarvestRequest:null,requestingHarvest:!0},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this;(0,T.fetchConsents)(),(0,S.getHarvestStatus)().then(function(t){console.log("getHarvestStatus",t);var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)},function(t){console.log("getHarvestStatus error",t),e.setState({requestingHarvest:!1})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.defaultGuildsRestricted;t!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:t})},t.prototype.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(B.FriendSourceFlagKeys.ALL)||n(e)},t.prototype.onFieldChange=function(e,t){var n,o,r=this.props.friendSourceFlags,i=void 0;if(e===B.FriendSourceFlagKeys.ALL)t?((n={})[B.FriendSourceFlagKeys.ALL]=!0,n[B.FriendSourceFlagKeys.FRIENDS]=!0,n[B.FriendSourceFlagKeys.GUILDS]=!0,i=n):((o={})[B.FriendSourceFlagKeys.ALL]=!1,o[B.FriendSourceFlagKeys.FRIENDS]=!0,o[B.FriendSourceFlagKeys.GUILDS]=!0,i=o);else if(t){var l,s=!1;switch(e){case B.FriendSourceFlagKeys.FRIENDS:s=!0===r[B.FriendSourceFlagKeys.GUILDS];break;default:s=!0===r[B.FriendSourceFlagKeys.FRIENDS]}i=a({},r,((l={})[B.FriendSourceFlagKeys.ALL]=s,l[e]=!0,l))}else{var u;i=a({},r,((u={})[B.FriendSourceFlagKeys.ALL]=!1,u[e]=!1,u))}this.updatePermittedFriendSourceFlags(i)},t.prototype.updatePermittedFriendSourceFlags=function(e){_.default.updateRemoteSettings({friendSourceFlags:e})},t.prototype.handleExplicitContentFilterChange=function(e){var t=e.value;_.default.updateRemoteSettings({explicitContentFilter:t})},t.prototype.handleChangeDefaultGuildsRestricted=function(e){var t=this,n=e.currentTarget.checked;n=!n,this.setState({defaultGuildsRestricted:n},function(){return t.showGuildRestrictionModal(n)})},t.prototype.showGuildRestrictionModal=function(e){V({header:u.default.Messages.USER_DM_SETTINGS,body:u.default.Messages.USER_DM_SETTINGS_QUESTION,confirmText:u.default.Messages.YES_TEXT,cancelText:u.default.Messages.NO_TEXT,onConfirm:function(){_.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(c.default.getGuilds()):[]})},onCancel:function(){_.default.updateRemoteSettings({defaultGuildsRestricted:e})}})},t.prototype.renderFriendSettings=function(){var e=this;return r(m.default,{title:u.default.Messages.FRIEND_PERMITTED_SOURCE,className:U.default.marginBottom40},void 0,r(y.default,{className:(0,l.default)(U.default.marginTop8,U.default.marginBottom20),value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.ALL,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),r(y.default,{value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.FRIENDS,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),r(y.default,{className:U.default.marginReset,value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.GUILDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.GUILDS,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))},t.prototype.renderDMSafety=function(){return r(m.default,{className:U.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:U.default.marginBottom4},void 0,u.default.Messages.USER_EXPLICIT_CONTENT_FILTER),r(R.default,{type:M.Types.DESCRIPTION,className:U.default.marginBottom8},void 0,u.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),r(A.default,{value:this.props.explicitContentFilter,options:(0,F.generateDMSafetyOptions)(),onChange:this.handleExplicitContentFilterChange}))},t.prototype.renderServerPrivacy=function(){return r(m.default,{className:U.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:U.default.marginBottom8},void 0,u.default.Messages.USER_DM_SETTINGS),r(y.default,{className:U.default.marginReset,value:!this.state.defaultGuildsRestricted,note:u.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,u.default.Messages.NEW_GUILDS_DM_ALLOWED))},t.prototype.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization;return r(m.default,{className:U.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:U.default.marginBottom8},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS),r(y.default,{value:t,note:u.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE,onChange:this.handleUsageStatisticsChange},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),r(y.default,{value:n,note:u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:x.default.getArticleURL(B.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),r(I.default,{tag:O.Tags.H3,className:(0,l.default)(U.default.marginTop20,U.default.marginBottom8)},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),r(R.default,{type:M.Types.DESCRIPTION,className:U.default.marginBottom20},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){E.default.setSection(B.UserSettingsSections.ACCOUNT),(0,S.toggleEditingProfile)(!0)}})),this.renderHarvestRequest())},t.prototype.renderHarvestRequest=function(){var e=this.props.currentUser,t=this.state,n=t.requestingHarvest,o=t.currentHarvestRequest,a=(0,G.harvestDisabled)(o,e),l=r(v.default,{disabled:a,onClick:this.handleDataDownloadRequest,look:v.default.Looks.OUTLINED,color:v.default.Colors.BRAND,submitting:n},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD);e.verified||(l=r(g.default,{text:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,l));var s=void 0;return a&&null!=o&&(s=r(L.default,{className:k.default.card},void 0,r(w.default,{size:w.default.Sizes.MEDIUM,color:w.default.Colors.PRIMARY},void 0,u.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,d.default)(o.created_at).add(B.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")}))),l=null),null!=l&&(l=r(D.default,{},void 0,l)),r(i.Fragment,{},void 0,r(N.default,{className:U.default.marginBottom20}),r(I.default,{tag:O.Tags.H3},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),r(R.default,{type:M.Types.DESCRIPTION,className:U.default.marginBottom20},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:x.default.getArticleURL(B.HelpdeskArticles.GDPR_REQUEST_DATA)})),s,l)},t.prototype.render=function(){var e=this.props.fetchedConsents;return r(m.default,{tag:O.Tags.H2,title:u.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),e?this.renderDataPrivacy():null)},t}(i.PureComponent);t.default=s.default.connectStores([f.default,p.default,h.default],function(){return{currentUser:p.default.getCurrentUser(),friendSourceFlags:(0,G.computeFlags)(),explicitContentFilter:f.default.explicitContentFilter,defaultGuildsRestricted:f.default.defaultGuildsRestricted,fetchedConsents:h.default.fetchedConsents,usageStatistics:h.default.hasConsented(B.Consents.USAGE_STATISTICS),personalization:h.default.hasConsented(B.Consents.PERSONALIZATION)}})(Y),e.exports=t.default},7178:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(6)),l=h(n(9)),s=h(n(941)),u=n(75),d=h(u),f=h(n(940)),c=h(n(11)),p=h(n(519));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.handleToggleOpenOnStartup=function(){var e=!o.state.openOnStartup;o.setState({openOnStartup:e}),c.default.send("TOGGLE_OPEN_ON_STARTUP",e)},o.handleToggleStartMinimized=function(){var e=!o.state.startMinimized;o.setState({startMinimized:e}),c.default.send("TOGGLE_START_MINIMIZED",e)},o.handleToggleMinimizeToTray=function(){var e=!o.state.minimizeToTray;o.setState({minimizeToTray:e}),c.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};var a=c.default.getGlobal("appSettings");return o.state={openOnStartup:a.get("OPEN_ON_STARTUP",!0),startMinimized:a.get("START_MINIMIZED",!1),minimizeToTray:a.get("MINIMIZE_TO_TRAY",!0)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,o=e.minimizeToTray,r=c.default.isLinux()?i.default.Messages.USER_SETTINGS_LINUX_SETTINGS:i.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return a(s.default,{tag:u.Tags.H2,title:r},void 0,a(d.default,{},void 0,i.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),a(f.default,{className:p.default.marginBottom20,value:t,note:i.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,i.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),c.default.isWindows()?a(f.default,{disabled:!t,className:(0,l.default)(p.default.marginTop8,p.default.marginBottom20),value:!!t&&n,note:i.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,i.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,a(d.default,{className:(0,l.default)(p.default.marginTop20,p.default.marginBottom8)},void 0,i.default.Messages.USER_SETTINGS_CLOSE_BUTTON),a(f.default,{className:p.default.marginBottom20,value:o,note:i.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,i.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))},t}(r.PureComponent);t.default=m,e.exports=t.default},7179:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(3)),s=I(n(8)),u=I(n(268)),d=I(n(546)),f=I(n(6038)),c=I(n(367)),p=I(n(6405)),h=I(n(20)),m=(I(n(523)),n(375)),y=n(520),v=I(n(6403)),g=I(n(40)),_=I(n(266)),E=I(n(940)),S=I(n(6199)),b=I(n(5990)),C=I(n(6)),T=n(0),N=I(n(519)),O=I(n(5795));function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(){return s.default.find(f.default.getState(),function(e){return!0===e.managed&&e.action===T.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK})}function R(){var e=u.default.getNotificationPositionMode(),t=e!==T.OverlayNotificationPositions.DISABLED,n=M(),o=f.default.getOverlayChatKeybind();h.default.track(T.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:d.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:u.default.getTextChatNotificationMode(),hotkey:null!=n?(0,m.toString)(n.shortcut):null,text_activation_hotkey:null!=o?(0,m.toString)(o.shortcut):null,text_opacity_slider:u.default.getTextWidgetOpacity()})}var P=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=A(this,e.call.apply(e,[this].concat(i))),o.handleChangeEnabled=function(e){c.default.setEnabled(e.currentTarget.checked),R(),h.default.track(T.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e.currentTarget.checked,setting_type:"overlay toggled - global"})},o.handleChangeDisplayNameMode=function(e){var t=e.value;c.default.setDisplayNameMode(t)},o.handleChangeAvatarSizeMode=function(e){var t=e.value;c.default.setAvatarSizeMode(t)},o.handleChangeDisplayUserMode=function(e){var t=e.value;c.default.setDisplayUserMode(t)},o.handleChangeTextNotificationMode=function(){var e=T.OverlayNotificationTextChatTypes.ENABLED,t=T.OverlayNotificationTextChatTypes.DISABLED,n=o.props.textChatNotificationMode===e?t:e;c.default.setTextChatNotificationMode(n),R()},o.handleChangeNotificationPositionMode=function(e,t){c.default.setNotificationPositionMode(t),R()},o.handleInputLockShortcutChange=function(e){p.default.setKeybind(r({},o.props.inputLockKeybind,{shortcut:e})),R()},A(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderExplanation=function(){return null},t.prototype.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind;return a(g.default,{className:"margin-bottom-20"},void 0,a(g.default.Child,{basis:"50%"},void 0,a(_.default,{},void 0,a(y.FormTitle,{tag:y.FormTitleTags.H5},void 0,C.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),a(E.default,{className:"margin-bottom-20",style:{marginTop:16},value:t,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,C.default.Messages.ENABLE_INGAME_OVERLAY))),a(g.default.Child,{basis:"50%"},void 0,a(_.default,{title:C.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,a(S.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))},t.prototype.renderAvatarSize=function(){return a(g.default,{className:"margin-bottom-20"},void 0,a(g.default.Child,{},void 0,a(_.default,{title:C.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,a(b.default,{options:[{name:C.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:T.OverlayAvatarSizes.LARGE},{name:C.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:T.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))},t.prototype.renderDisplayNames=function(){return a(g.default,{className:"margin-bottom-20"},void 0,a(g.default.Child,{},void 0,a(_.default,{title:C.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,a(b.default,{options:[{name:C.default.Messages.DISPLAY_OPTION_ALWAYS,value:T.OverlayDisplayNames.ALWAYS},{name:C.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:T.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:C.default.Messages.DISPLAY_OPTION_NEVER,value:T.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))},t.prototype.renderDisplayUsers=function(){return a(g.default,{className:"margin-bottom-20"},void 0,a(g.default.Child,{},void 0,a(_.default,{title:C.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,a(b.default,{options:[{name:C.default.Messages.DISPLAY_OPTION_ALWAYS,value:T.OverlayDisplayUsers.ALWAYS},{name:C.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:T.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))},t.prototype.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==T.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===T.OverlayNotificationTextChatTypes.ENABLED;return a(g.default,{className:"margin-bottom-20"},void 0,a(g.default.Child,{},void 0,a(_.default,{},void 0,a(E.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,C.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))},t.prototype.renderNotificationPosition=function(){return a(g.default,{className:"margin-bottom-20"},void 0,a(g.default.Child,{},void 0,a(_.default,{title:C.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,a("div",{className:O.default.notificationSettings},void 0,a(v.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))},t.prototype.render=function(){return a(i.Fragment,{},void 0,a(y.FormSection,{tag:y.FormTitleTags.H2,title:C.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),a(y.FormSection,{tag:y.FormTitleTags.H2,title:C.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:N.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))},t}(i.PureComponent);t.default=l.default.connectStores([d.default,u.default,f.default],function(){return{enabled:d.default.enabled,avatarSizeMode:u.default.getAvatarSizeMode(),displayNameMode:u.default.getDisplayNameMode(),displayUserMode:u.default.getDisplayUserMode(),notificationPositionMode:u.default.getNotificationPositionMode(),textChatNotificationMode:u.default.getTextChatNotificationMode(),inputLockKeybind:M()}})(P),e.exports=t.default},7180:function(e,t,n){e.exports=n.p+"e8b66317ab0dc9ba3bf8d41a4f3ec914.png"},7181:function(e,t,n){e.exports=n.p+"8c49c7d4a59675bb6ceaee1bb80b5803.png"},7182:function(e,t,n){e.exports=n.p+"aba3ec7874f7f01fe9a8275a3e5c21a0.svg"},7183:function(e,t,n){e.exports=n.p+"baf6cccc846651d5ca897296163227f5.svg"},7184:function(e,t,n){e.exports=n.p+"d630d71d5d2a19c1a81607b7b77f8717.svg"},7185:function(e,t,n){e.exports=n.p+"f98fe1aef65b144ddb4dbc7eedfac860.svg"},7186:function(e,t,n){e.exports=n.p+"799da7cb8e1aa0bf9588a2d789c03926.svg"},7187:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=K(n(3)),s=n(56),u=n(562),d=K(n(9)),f=n(100),c=K(n(58)),p=K(n(542)),h=K(n(31)),m=K(n(560)),y=K(n(364)),v=K(n(38)),g=K(n(522)),_=K(n(369)),E=K(n(11)),S=K(n(6)),b=K(n(8)),C=K(n(941)),T=n(1220),N=K(T),O=n(524),I=K(n(40)),A=K(n(266)),M=K(n(526)),R=K(n(262)),P=K(n(984)),w=K(n(944)),L=K(n(985)),D=K(n(5990)),U=K(n(6199)),k=K(n(940)),F=n(75),x=K(F),G=n(64),B=K(G),j=K(n(371)),V=K(n(164)),H=K(n(67)),Y=n(0),W=K(n(5797)),z=K(n(1203));function K(e){return e&&e.__esModule?e:{default:e}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q=r("div",{className:"grow"}),J=function(e){function t(n){$(this,t);var o=q(this,e.call(this,n));return o._timeout=new s.Timeout,o.state={volume:-100,speaking:!1},b.default.bindAll(o,["setupVoiceActivity","handleVoiceActivity","handleAutoThresholdChange","handleSensitivityChange","handleValueRender"]),o}return X(t,e),t.prototype.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)},t.prototype.componentWillUnmount=function(){c.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},t.prototype.setupVoiceActivity=function(){c.default.getMediaEngine().on("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},t.prototype.handleVoiceActivity=function(e,t){this.setState({volume:e,speaking:(t&f.SpeakingFlags.VOICE)===f.SpeakingFlags.VOICE})},t.prototype.handleAutoThresholdChange=function(e){var t=this.props,n=t.onThresholdChange,o=t.threshold;n&&n(o,e.target.checked)},t.prototype.handleSensitivityChange=function(e){var t=this.props,n=t.onThresholdChange,o=t.auto;n&&n(-1*(100-e),o)},t.prototype.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},t.prototype.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(c.default.supports(f.Features.AUTOMATIC_VAD))return r(u.SmartUID,{},void 0,function(n){return r("div",{className:"flex-horizontal margin-bottom-4"},void 0,r(x.default,{tag:F.Tags.H3,className:"margin-reset"},void 0,r("label",{htmlFor:n},void 0,S.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),r(P.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},t.prototype.renderSlider=function(){var e,t=this.props,n=t.auto,o=t.threshold,a=t.speaking;return n?r("section",{className:W.default.inputSensitivityToggle},void 0,r("div",{className:z.default.slider},void 0,r("div",{className:(0,d.default)(z.default.bar,W.default.sliderBar,(e={},e[W.default.speaking]=a||this.state.speaking,e))})),r(R.default,{type:R.default.Types.DESCRIPTION,className:"input-sensitivity-note margin-bottom-8"},void 0,S.default.Messages.FORM_HELP_AUTOMATIC_VAD)):r("section",{className:(0,d.default)(W.default.inputSensitivityToggle,W.default.manual)},void 0,r(L.default,{defaultValue:o+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:Y.Colors.STATUS_GREEN_400},fillStyles:{background:Y.Colors.STATUS_YELLOW_400}},void 0,r("div",{className:(0,d.default)(W.default.sliderBar,W.default.microphone,z.default.bar)},void 0,r("div",{className:(0,d.default)(W.default.fill,z.default.barFill),style:{width:this.state.volume+100+"%"}}),Q)))},t.prototype.renderInputDisabledWarning=function(){if(!c.default.isEnabled())return r(R.default,{type:R.default.Types.DESCRIPTION,className:(0,d.default)(W.default.inputDisabledWarning,"margin-bottom-8")},void 0,S.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:y.default.enable}))},t.prototype.render=function(){return r(A.default,{className:W.default.sensitivity},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),r("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())},t}(i.PureComponent),Z=l.default.connectStores([p.default],function(){return{speaking:p.default.isCurrentUserSpeaking()}})(J),ee=r(M.default,{lineOnly:!0,className:"margin-bottom-20"}),te=r(M.default,{lineOnly:!0,className:"margin-bottom-20"}),ne=r(M.default,{className:"margin-bottom-40 margin-top-40"}),oe=r(M.default,{className:"margin-top-8 margin-bottom-40"}),ae=r(M.default,{className:"margin-bottom-40"}),re=function(e){function t(o){$(this,t);var a=q(this,e.call(this,o));return a.renderDevice=function(e){var t=e.label,o=e.value,i=void 0;if(m.default.isCertified(o)){var l=a.props.theme===Y.ThemeTypes.LIGHT?n(7186):n(7185);i=r("img",{src:l,alt:"Certified",className:W.default.deviceOptionCertified})}return r("span",{className:W.default.deviceOption},o,r("span",{className:W.default.deviceOptionLabel},void 0,m.default.getCertifiedDeviceName(o,t)),i)},a.state={showCamera:!1},b.default.bindAll(a,["handleInputDeviceChange","handleOutputDeviceChange","handleInputVolumeChange","handleOutputVolumeChange","handleOutputRender","handleInputModeChange","handleDelayChange","handleThresholdChange","handleVideoDeviceChange","handleEchoCancellationChange","handleNoiseSuppressionChange","handleAutomaticGainControlChange","handleSilenceWarningChange","handleDebugLoggingChange","handleQoSChanged","handleAttenuationChange","handleAttenuateSelfChanged","handleAttenuateOthersChanged","handleVoiceReset","handleAudioSubsystemChanged","handleShortcutChange","handleShowCamera"]),a}return X(t,e),t.prototype.handleInputDeviceChange=function(e){var t=e.value;y.default.setInputDevice(t,"Settings")},t.prototype.handleOutputDeviceChange=function(e){var t=e.value;y.default.setOutputDevice(t,"Settings")},t.prototype.handleDownload=function(e){v.default.push(_.default,{source:e})},t.prototype.handleInputVolumeChange=function(e){y.default.setInputVolume(e)},t.prototype.handleOutputVolumeChange=function(e){var t=2*e;y.default.setOutputVolume(t)},t.prototype.handleOutputRender=function(e){return(2*e).toFixed(0)+"%"},t.prototype.handleInputModeChange=function(e){var t=this,o=e.value;o===Y.InputModes.PUSH_TO_TALK&&this.props.usePTTLimited&&v.default.push(function(e){return i.createElement(j.default,a({title:S.default.Messages.PTT_LIMITED_TITLE,confirmText:S.default.Messages.DOWNLOAD,cancelText:S.default.Messages.OKAY,onConfirm:t.handleDownload.bind(t,"PTT Limited Modal"),body:S.default.Messages.PTT_LIMITED_BODY,iconUrl:n(7184)},e))}),y.default.setMode(o)},t.prototype.handleDelayChange=function(e){y.default.setMode(this.props.inputMode,{delay:e})},t.prototype.handleThresholdChange=function(e,t){y.default.setMode(this.props.inputMode,{threshold:e,autoThreshold:t})},t.prototype.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"},t.prototype.handleVideoDeviceChange=function(e){var t=e.value;y.default.setVideoDevice(t,"Settings")},t.prototype.handleEchoCancellationChange=function(e){y.default.setEchoCancellation(e.currentTarget.checked)},t.prototype.handleNoiseSuppressionChange=function(e){y.default.setNoiseSuppression(e.currentTarget.checked)},t.prototype.handleAutomaticGainControlChange=function(e){y.default.setAutomaticGainControl(e.currentTarget.checked)},t.prototype.handleSilenceWarningChange=function(e){y.default.setSilenceWarning(e.currentTarget.checked)},t.prototype.handleDebugLoggingChange=function(e){var t=e.currentTarget.checked;v.default.push(function(e){return i.createElement(V.default,a({header:S.default.Messages.SET_DEBUG_LOGGING,confirmText:S.default.Messages.OKAY,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return y.default.setDebugLogging(t)},red:!0},e),r(H.default,{size:H.default.Sizes.MEDIUM,color:H.default.Colors.PRIMARY},void 0,S.default.Messages.SET_DEBUG_LOGGING_BODY))})},t.prototype.handleQoSChanged=function(e){y.default.setQoS(e.currentTarget.checked)},t.prototype.handleAttenuationChange=function(e){y.default.setAttenuation(e,this.props.attenuateWhileSpeakingSelf,this.props.attenuateWhileSpeakingOthers)},t.prototype.handleAttenuateSelfChanged=function(e){y.default.setAttenuation(this.props.attenuation,e.currentTarget.checked,this.props.attenuateWhileSpeakingOthers)},t.prototype.handleAttenuateOthersChanged=function(e){y.default.setAttenuation(this.props.attenuation,this.props.attenuateWhileSpeakingSelf,e.currentTarget.checked)},t.prototype.handleVoiceReset=function(){v.default.push(function(e){return i.createElement(V.default,a({header:S.default.Messages.RESET_VOICE_SETTINGS,confirmText:S.default.Messages.OKAY,cancelText:S.default.Messages.CANCEL,onConfirm:y.default.reset,red:!0},e),r(H.default,{size:H.default.Sizes.MEDIUM,color:H.default.Colors.PRIMARY},void 0,S.default.Messages.RESET_VOICE_SETTINGS_BODY))})},t.prototype.handleAudioSubsystemChanged=function(e){var t=e.value;v.default.push(function(e){return i.createElement(V.default,a({header:S.default.Messages.SWITCH_SUBSYSTEM,confirmText:S.default.Messages.OKAY,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return y.default.setAudioSubsystem(t)},red:!0},e),r(H.default,{size:H.default.Sizes.MEDIUM,color:H.default.Colors.PRIMARY},void 0,S.default.Messages.SWITCH_SUBSYSTEM_BODY))})},t.prototype.handleShortcutChange=function(e){y.default.setMode(this.props.inputMode,{shortcut:e})},t.prototype.handleShowCamera=function(){this.setState({showCamera:!0})},t.prototype.renderDevices=function(){var e=this.props,t=e.inputDevices,n=e.inputDeviceId,o=e.outputDeviceId,a=e.outputDevices,i=e.canSetInputDevice,l=e.canSetOutputDevice,s=void 0;i||(s=r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8"},void 0,S.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));var u=void 0;l||(u=r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8"},void 0,S.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,b.default)(t).values().first().disabled||null!=s,f=(0,b.default)(a).values().first().disabled||null!=u;return r(I.default,{className:"margin-bottom-20"},void 0,r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_INPUT_DEVICE),r(w.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleInputDeviceChange,options:b.default.map(t,function(e){return{value:e.id,label:e.name}}),disabled:d,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_OUTPUT_DEVICE),r(w.default,{value:o,clearable:!1,searchable:!1,onChange:this.handleOutputDeviceChange,options:b.default.map(a,function(e){return{value:e.id,label:e.name}}),disabled:f,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),u))},t.prototype.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return r(I.default,{className:"volume"},void 0,r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-4"},void 0,S.default.Messages.FORM_LABEL_INPUT_VOLUME),r(L.default,{defaultValue:t,asValueChanges:this.handleInputVolumeChange})),r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-4"},void 0,S.default.Messages.FORM_LABEL_OUTPUT_VOLUME),r(L.default,{defaultValue:n/2,onValueRender:this.handleOutputRender,asValueChanges:this.handleOutputVolumeChange})))},t.prototype.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,o=[{value:Y.InputModes.VOICE_ACTIVITY,name:S.default.Messages.INPUT_MODE_VAD},{value:Y.InputModes.PUSH_TO_TALK,name:t?S.default.Messages.INPUT_MODE_PTT_LIMITED:S.default.Messages.INPUT_MODE_PTT}];return r(A.default,{title:S.default.Messages.FORM_LABEL_INPUT_MODE,className:"margin-bottom-20"},void 0,r(D.default,{onChange:this.handleInputModeChange,options:o,value:n}))},t.prototype.renderPTTTools=function(){var e=this.props,t=e.inputMode,n=e.delay,o=e.shortcut;if(t!==Y.InputModes.PUSH_TO_TALK)return null;var a=void 0;return a=E.default.embedded||t!==Y.InputModes.PUSH_TO_TALK?r(R.default,{type:R.default.Types.DESCRIPTION,className:(0,d.default)(W.default.pttToolsMessage,"margin-bottom-8")},void 0,S.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return g.default.setSection(Y.UserSettingsSections.KEYBINDS)}})):r(R.default,{type:R.default.Types.DESCRIPTION,className:(0,d.default)(W.default.pttToolsMessage,W.default.pttToolsWarning,"margin-bottom-8")},void 0,S.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})),r("div",{className:W.default.pttTools},void 0,r(I.default,{},void 0,r(I.default.Child,{basis:"50%"},void 0,r(A.default,{title:S.default.Messages.FORM_LABEL_SHORTCUT},void 0,r(U.default,{defaultValue:o,onChange:this.handleShortcutChange}))),r(I.default.Child,{basis:"50%"},void 0,r(A.default,{title:S.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY},void 0,r(L.default,{defaultValue:n,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:Y.MAX_PTT_RELEASE_DELAY})))),a)},t.prototype.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,o=e.vadAutoThreshold;return t!==Y.InputModes.VOICE_ACTIVITY?null:r(Z,{inputMode:t,threshold:n,auto:o,onThresholdChange:this.handleThresholdChange})},t.prototype.renderVideoDevices=function(){var e,t,o=this.props,a=o.videoDevices,i=o.videoDeviceId,l=o.theme,s=void 0;c.default.isEnabled()||(s=r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8"},void 0,S.default.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:y.default.enable})));var u=(0,b.default)(a).values().first().disabled||null!=s,f=c.default.getMediaEngine().Camera,p=l===Y.ThemeTypes.LIGHT?n(7183):n(7182);return r(I.default,{},void 0,r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_VIDEO_DEVICE),r(w.default,{value:i,clearable:!1,searchable:!1,disabled:u,onChange:this.handleVideoDeviceChange,options:b.default.map(a,function(e){return{value:e.id,label:e.name}}),valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_VIDEO_PREVIEW),r("div",{className:W.default.previewContainer},void 0,r(f,{deviceId:i,disabled:!this.state.showCamera||u}),r(I.default,{className:(0,d.default)(W.default.previewOverlay,(e={},e[W.default.dismiss]=this.state.showCamera,e))},void 0,r(I.default,{className:(0,d.default)(W.default.previewOverlayInner,(t={},t[W.default.dismiss]=this.state.showCamera,t)),direction:I.default.Direction.VERTICAL,justify:I.default.Justify.CENTER,align:I.default.Align.CENTER},void 0,r("img",{className:"margin-bottom-20",alt:"",src:p}),r(B.default,{onClick:this.handleShowCamera,disabled:u},void 0,S.default.Messages.TEST_VIDEO))))))},t.prototype.renderVideoWarnings=function(){return r(N.default,{type:O.Types.PRIMARY,title:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:r(B.default,{size:B.default.Sizes.SMALL,className:"margin-top-20",onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,S.default.Messages.DOWNLOAD_APP)})},t.prototype.renderCodec=function(){var e=void 0;return e=this.props.theme===Y.ThemeTypes.LIGHT?n(7181):n(7180),r(N.default,{className:"margin-bottom-40",type:T.Types.PRIMARY,imageData:{src:e,width:70,height:40},title:S.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,body:S.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})},t.prototype.renderVoiceProcessing=function(){if(!c.default.supports(f.Features.VOICE_PROCESSING))return null;var e=this.props,t=e.noiseSuppression,n=e.echoCancellation,o=e.automaticGainControl,a=e.inputDeviceId,i=m.default.hasEchoCancellation(a),l=m.default.hasNoiseSuppression(a),s=m.default.hasAutomaticGainControl(a),u=void 0;return(i||i||s)&&(u=r(R.default,{className:"margin-bottom-20",type:R.default.Types.DESCRIPTION},void 0,S.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING)),r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,u,r(k.default,{className:"margin-top-8 margin-bottom-20",value:n,onChange:this.handleEchoCancellationChange,disabled:i},void 0,S.default.Messages.ECHO_CANCELLATION),r(k.default,{value:t,onChange:this.handleNoiseSuppressionChange,disabled:l},void 0,S.default.Messages.NOISE_SUPPRESSION),r(k.default,{className:"",value:o,onChange:this.handleAutomaticGainControlChange,disabled:s},void 0,S.default.Messages.AUTOMATIC_GAIN_CONTROL))},t.prototype.renderQoS=function(){if(!c.default.supports(f.Features.QOS))return null;var e=this.props.qosEnabled;return r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_QOS},void 0,r(k.default,{className:"",value:e,onChange:this.handleQoSChanged,note:S.default.Messages.FORM_HELP_QOS},void 0,S.default.Messages.FORM_CHECKBOX_QOS))},t.prototype.renderAttenutation=function(){if(!c.default.supports(f.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,o=e.attenuateWhileSpeakingOthers;return r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_ATTENUATION},void 0,r(L.default,{defaultValue:t,onValueRender:this.handleOutputRender,onValueChange:this.handleAttenuationChange}),r(R.default,{className:"margin-bottom-20",type:R.default.Types.DESCRIPTION},void 0,S.default.Messages.FORM_HELP_ATTENUATION),ee,r(k.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,S.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),r(k.default,{className:"",value:o,onChange:this.handleAttenuateOthersChanged},void 0,S.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))},t.prototype.renderAudioSubsystem=function(){if(!c.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&!c.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:f.AudioSubsystems.STANDARD,label:"Standard"}];c.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.LEGACY,label:"Legacy"}),c.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props,n=t.audioSubsystem,o=t.disableAudioSubsystem;return r(I.default,{},void 0,r(I.default.Child,{},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_SUBSYSTEM),r(w.default,{value:n,disabled:o,clearable:!1,searchable:!1,options:e,onChange:this.handleAudioSubsystemChanged}),r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8 margin-bottom-20"},void 0,S.default.Messages.FORM_HELP_LEGACY_AUDIO_SUBSYSTEM)))},t.prototype.renderDiagnostics=function(){if(!E.default.embedded)return null;var e=this.props,t=e.silenceWarning,n=e.debugLogging,o=void 0;return c.default.supports(f.Features.DEBUG_LOGGING)&&(o=r(i.Fragment,{},void 0,te,r(k.default,{value:n,onChange:this.handleDebugLoggingChange,note:S.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,S.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING))),r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,r(k.default,{className:"",value:t,onChange:this.handleSilenceWarningChange},void 0,S.default.Messages.DISPLAY_SILENCE_WARNING),o)},t.prototype.renderResetVoiceSettings=function(){return r(A.default,{},void 0,r(B.default,{look:G.ButtonLooks.OUTLINED,color:G.ButtonColors.RED,onClick:this.handleVoiceReset,size:G.ButtonSizes.SMALL},void 0,S.default.Messages.RESET_VOICE_SETTINGS))},t.prototype.renderVideoSettings=function(){var e=c.default.supports(f.Features.VIDEO);return r("div",{},void 0,r(x.default,{tag:F.Tags.H2,className:"margin-bottom-20"},void 0,S.default.Messages.VIDEO_SETTINGS),e?this.renderVideoDevices():this.renderVideoWarnings(),ne)},t.prototype.render=function(){return r(C.default,{className:W.default.userSettingsVoice,tag:F.Tags.H2,title:S.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),oe,this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),ae,this.renderVideoSettings(),r(x.default,{tag:F.Tags.H2,className:"margin-bottom-20"},void 0,S.default.Messages.SETTINGS_ADVANCED),this.renderCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderDiagnostics(),this.renderResetVoiceSettings())},t}(i.PureComponent);t.default=l.default.connectStores([h.default,c.default,m.default],function(){return{theme:h.default.theme,canSetInputDevice:c.default.supports(f.Features.AUDIO_INPUT_DEVICE),canSetOutputDevice:c.default.supports(f.Features.AUDIO_OUTPUT_DEVICE),inputVolume:c.default.getInputVolume(),outputVolume:c.default.getOutputVolume(),inputDeviceId:c.default.getInputDeviceId(),inputDevices:c.default.getInputDevices(),outputDevices:c.default.getOutputDevices(),outputDeviceId:c.default.getOutputDeviceId(),videoDevices:c.default.getVideoDevices(),videoDeviceId:c.default.getVideoDeviceId(),echoCancellation:c.default.getEchoCancellation(),noiseSuppression:c.default.getNoiseSuppression(),automaticGainControl:c.default.getAutomaticGainControl(),inputMode:c.default.getMode(),shortcut:c.default.getModeOptions().shortcut,vadThreshold:c.default.getModeOptions().threshold,vadAutoThreshold:c.default.getModeOptions().autoThreshold,delay:c.default.getModeOptions().delay,usePTTLimited:!E.default.embedded,attenuation:c.default.getAttenuation(),attenuateWhileSpeakingSelf:c.default.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:c.default.getAttenuateWhileSpeakingOthers(),silenceWarning:c.default.getEnableSilenceWarning(),debugLogging:c.default.getDebugLogging(),qosEnabled:c.default.getQoS(),audioSubsystem:c.default.getAudioSubsystem(),disableAudioSubsystem:c.default.getDisableAudioSubsystem(),certifiedDeviceRevision:m.default.getRevision()}})(re),e.exports=t.default},7188:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=M(n(1)),i=A(n(8)),l=A(n(9)),s=A(n(3)),u=n(562),d=A(n(6)),f=A(n(1010)),c=M(n(540)),p=n(520),h=A(n(67)),m=A(n(40)),y=A(n(984)),v=A(n(944)),g=A(n(940)),_=A(n(5990)),E=A(n(557)),S=A(n(528)),b=A(n(953)),C=A(n(31)),T=A(n(11)),N=n(0),O=A(n(5798)),I=A(n(519));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var R=a("i",{}),P=a(p.FormDivider,{}),w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.default.bindAll(o,["handlePreviewSound","handleSoundChange","handleToggleShowUnreadBadge","handleToggleShowFlash","renderSounds","renderTTS","handleAFKTimeoutChange"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePreviewSound=function(e,t){t.stopPropagation(),null!=this._currentPlayingSound&&this._currentPlayingSound.stop(),this._currentPlayingSound=c.playSound(e)},t.prototype.handleSoundChange=function(e,t){var n=this.props.disabledSounds.filter(function(t){return t!==e});t.currentTarget.checked||n.push(e),E.default.setDisabledSounds(n)},t.prototype.handleDesktopChange=function(e){var t=e.currentTarget.checked?N.DesktopNotificationTypes.ALL:N.DesktopNotificationTypes.NEVER;t!==N.DesktopNotificationTypes.NEVER?E.default.requestPermission("UserSettingsModal"):E.default.setDesktopType(t)},t.prototype.handleTTSChange=function(e){var t=e.value;E.default.setTTSType(t)},t.prototype.handleAFKTimeoutChange=function(e){var t=e.value;S.default.updateRemoteSettings({afkTimeout:t})},t.prototype.handleToggleShowUnreadBadge=function(){E.default.setDisableUnreadBadge(!this.props.disableUnreadBadge)},t.prototype.handleToggleShowFlash=function(){E.default.setTaskbarFlash(!this.props.taskbarFlash)},t.prototype.renderSounds=function(){var e=this,t=[{label:d.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:d.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:d.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:d.default.Messages.MUTE,sound:"mute"},{label:d.default.Messages.UNMUTE,sound:"unmute"},{label:d.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:d.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:d.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:d.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:d.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:d.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:d.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:d.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"}].map(function(t){var n=t.label,o=t.sound;return a(u.SmartUID,{},o,function(t){return a(m.default,{className:O.default.notificationsSound,justify:m.default.Justify.BETWEEN,align:m.default.Align.CENTER,onClick:e.handlePreviewSound.bind(e,o)},void 0,a(m.default,{className:O.default.notificationsSoundLabel,grow:0},void 0,a(m.default.Child,{className:O.default.notificationsSoundIcon},void 0,R),a(m.default.Child,{},void 0,a(h.default,{tag:"label",htmlFor:t,className:O.default.sound,size:h.default.Sizes.MEDIUM},void 0,n))),a(m.default.Child,{wrap:!0,grow:0},void 0,a(y.default,{id:t,value:-1===e.props.disabledSounds.indexOf(o),onChange:e.handleSoundChange.bind(e,o)})))})});return a(p.FormSection,{title:d.default.Messages.SOUNDS},void 0,t)},t.prototype.renderTTS=function(){if(!f.default.supported)return null;var e=[{name:d.default.Messages.TTS_ALLS,value:N.TTSNotificationTypes.ALL_CHANNELS},{name:d.default.Messages.TTS_CURRENT,value:N.TTSNotificationTypes.SELECTED_CHANNEL},{name:d.default.Messages.TTS_NEVER,value:N.TTSNotificationTypes.NEVER}];return a(p.FormItem,{title:d.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,a(p.FormText,{type:p.FormTextTypes.DESCRIPTION,className:I.default.marginBottom8},void 0,d.default.Messages.FORM_DESCRIPTION_TTS),a(_.default,{options:e,onChange:this.handleTTSChange,value:this.props.ttsType}))},t.prototype.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,o=e.disableUnreadBadge,r=e.taskbarFlash,s=T.default.embedded&&T.default.isWindows(),u=i.default.range(1,11).map(function(e){return{value:60*e,label:d.default.Messages.DURATION_MINUTES.format({minutes:e})}});return a(p.FormSection,{tag:p.FormTitleTags.H2,title:d.default.Messages.NOTIFICATIONS},void 0,a(g.default,{className:I.default.marginBottom20,value:t!==N.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:d.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,d.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),a(g.default,{className:s?I.default.marginBottom20:I.default.marginBottom40,value:!o,note:d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?a(g.default,{className:I.default.marginBottom40,value:r,note:d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,a(p.FormItem,{title:d.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,a(v.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleAFKTimeoutChange,options:u}),a(p.FormText,{type:p.FormTextTypes.DESCRIPTION,className:I.default.marginTop8},void 0,d.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),a(p.FormDivider,{className:(0,l.default)(I.default.marginTop40,I.default.marginBottom40)})),this.renderTTS(),a(p.FormDivider,{className:(0,l.default)(I.default.marginTop40,I.default.marginBottom40)}),a(p.FormItem,{},void 0,this.renderSounds()),P)},t}(r.PureComponent);t.default=s.default.connectStores([b.default,C.default],function(){return{disableUnreadBadge:b.default.getDisableUnreadBadge(),taskbarFlash:b.default.taskbarFlash,disabledSounds:b.default.getDisabledSounds(),desktopType:b.default.getDesktopType(),ttsType:b.default.getTTSType(),afkTimeout:C.default.afkTimeout}})(w),e.exports=t.default},7189:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(6))),i=s(n(142)),l=s(n(5801));function s(e){return e&&e.__esModule?e:{default:e}}var u=Math.ceil(2*Math.PI*20);t.default=function(e){var t=e.total,n=e.used,o=Math.max(0,Math.min(1,n/t)),s=Math.floor(100*o)+"%";return a(i.default,{text:r.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:s})},void 0,a("div",{className:l.default.wrapper,role:"progressbar","aria-label":r.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:s})},void 0,a("svg",{viewBox:"25 25 50 50",className:l.default.svg,"aria-hidden":!0},void 0,a("circle",{className:l.default.background,cx:"50",cy:"50",r:20}),a("circle",{className:l.default.foreground,cx:"50",cy:"50",r:20,stroke:function(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}(o),strokeDasharray:function(e){return Math.floor(u*e)+", "+u}(o)})),a("aside",{className:l.default.usageInfo,"aria-hidden":!0},void 0,s)))},e.exports=t.default},7190:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=n(382),u=O(n(11)),d=O(n(199)),f=O(n(38)),c=n(1218),p=O(n(164)),h=O(n(67)),m=O(n(40)),y=O(n(524)),v=O(n(7189)),g=O(n(6404)),_=O(n(64)),E=O(n(945)),S=O(n(939)),b=n(520),C=O(n(6)),T=O(n(5800)),N=O(n(519));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(){var n,o;I(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=A(this,e.call.apply(e,[this].concat(s))),o.state={label:null,isDefault:null},o.handleStartEditing=function(){var e=o.props,t=e.path,n=e.label,a=e.isDefault;(0,e.onToggleEditing)(t),o.setState({label:n,isDefault:a})},o.handleStopEditing=function(){(0,o.props.onToggleEditing)(null),o.setState({label:null,isDefault:null})},o.handleRemoveLocation=function(){f.default.push(function(e){return i.createElement(p.default,a({},e,{header:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:C.default.Messages.CANCEL,onConfirm:function(){o.handleStopEditing(),(0,c.removeInstallLocation)(o.props.path)}}),r(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,C.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))})},o.handleSaveChanges=function(){(0,c.updateInstallLocation)(o.props.path,{label:null!=o.state.label?o.state.label:o.props.label,isDefault:null!=o.state.isDefault?o.state.isDefault:o.props.isDefault}),o.handleStopEditing()},o.handleLabelChange=function(e){o.setState({label:e})},o.handleToggleDefault=function(){o.setState({isDefault:!o.state.isDefault})},A(o,n)}return M(t,e),t.prototype.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?r(v.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null},t.prototype.renderViewing=function(){var e=this.props,t=e.path,n=e.label,o=e.editingPath,a=e.isDefault,i=e.metadata,l=void 0,u=void 0;return null!=i&&(l=null!=i.availableKB?(0,s.formatSize)(i.availableKB,{useKibibytes:!0}):null,u=null!=i.totalKB?(0,s.formatSize)(i.totalKB,{useKibibytes:!0}):null),r(m.default,{className:T.default.installationPath,align:m.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),r(m.default,{direction:m.default.Direction.VERTICAL,className:T.default.descriptionWrapper},void 0,r(m.default,{align:m.default.Align.CENTER},void 0,r(h.default,{className:T.default.rowTitle,size:h.default.Sizes.MEDIUM},void 0,null!=n?n:d.default.getLabelFromPath(t)),a?r("span",{className:T.default.defaultIndicator},void 0,C.default.Messages.DEFAULT):null),null!=i&&null!=l&&null!=u?r(g.default,{className:T.default.rowBody,hoverText:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:l,total:u})},void 0,t):r(h.default,{className:T.default.rowBody,size:h.default.Sizes.SMALL},void 0,t)),r(_.default,{size:_.default.Sizes.SMALL,disabled:null!=o,color:_.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,C.default.Messages.EDIT))},t.prototype.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,o=this.state,a=o.label,i=o.isDefault;return r(y.default,{editable:!0,className:T.default.installationPathEditing},void 0,r(m.default,{},void 0,this.renderDiskUsageCircle(),r(m.default.Child,{},void 0,r(b.FormItem,{title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,r(S.default,{value:a,placeholder:d.default.getLabelFromPath(t),onChange:this.handleLabelChange})),r(b.FormItem,{title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:N.default.marginTop20},void 0,r(S.default,{disabled:!0,value:t})),r(E.default,{type:E.default.Types.INVERTED,value:null!=i?i:this.props.isDefault,disabled:this.props.isDefault,className:T.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),r("hr",{className:T.default.separator}),r(m.default,{},void 0,r(_.default,{disabled:n||this.props.isDefault,size:_.default.Sizes.SMALL,color:_.default.Colors.RED,look:_.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),r(m.default,{justify:m.default.Justify.END},void 0,r(_.default,{size:_.default.Sizes.SMALL,color:_.default.Colors.PRIMARY,look:_.default.Looks.LINK,onClick:this.handleStopEditing},void 0,C.default.Messages.CANCEL),r(_.default,{disabled:t===this.props.path&&a===this.props.label&&i===this.props.isDefault,size:_.default.Sizes.SMALL,color:_.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,C.default.Messages.SAVE))))))},t.prototype.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()},t}(i.PureComponent),P=function(e){function t(){var n,o;I(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=A(this,e.call.apply(e,[this].concat(r))),o.state={editingPath:null},o.handleAddInstallationLocation=function(){u.default.showOpenDialog(["openDirectory"]).then(function(e){null!=e&&0!==e.length&&(0,c.addInstallLocation)(e[0])})},o.handleToggleEditing=function(e){o.setState({editingPath:e})},A(o,n)}return M(t,e),t.prototype.componentDidMount=function(){(0,c.fetchMetadata)(this.props.installationPaths.map(function(e){return e.path}))},t.prototype.render=function(){var e=this,t=this.props,n=t.installationPaths,o=t.installationPathsMetadata,a=t.defaultInstallationPath,i=this.state.editingPath;return r(b.FormSection,{className:T.default.wrapper,title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map(function(t){var n=t.path,l=t.label;return r(R,{path:n,label:l,metadata:o[n],isDefault:a===n,editingPath:i,hasGamesInstalledInPath:d.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)}),r("div",{className:T.default.buttonRowWrapper},void 0,r(_.default,{disabled:!u.default.embedded,onClick:this.handleAddInstallationLocation,size:_.default.Sizes.SMALL},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))},t}(i.PureComponent);t.default=l.default.connectStores([d.default],function(){return{installationPaths:d.default.installationPaths,installationPathsMetadata:d.default.installationPathsMetadata,defaultInstallationPath:d.default.defaultInstallationPath}})(P),e.exports=t.default},7191:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=O(n(1)),i=N(n(3)),l=N(n(11)),s=N(n(20)),u=O(n(173)),d=N(n(31)),f=N(n(6079)),c=N(n(528)),p=O(n(149)),h=O(n(289)),m=N(n(940)),y=N(n(87)),v=N(n(79)),g=N(n(40)),_=n(520),E=N(n(7190)),S=n(130),b=(N(S),N(n(6))),C=n(0),T=N(n(5799));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var o=t.map(function(e){var t=e.libraryApplication.getDistributor();return a("div",{className:T.default.hiddenLibraryApplication},e.libraryApplication.id,a(g.default,{direction:g.default.Direction.VERTICAL,className:T.default.hiddenLibraryApplicationContent},void 0,a("div",{className:T.default.applicationName},void 0,e.application.name),null!=t?a("div",{className:T.default.applicationSubText},void 0,C.DistributorNames[t]):null),a(y.default,{className:T.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,a(v.default,{name:v.default.Names.CLOSE,className:T.default.restoreIcon})))});return a(_.FormSection,{className:T.default.hiddenLibraryApplications},void 0,a(_.FormTitle,{className:T.default.hiddenLibraryApplicationsTitle},void 0,b.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),o)}var A=a(E.default,{}),M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleToggleImportGames=function(e){var t=e.currentTarget.checked;c.default.updateLocalSettings({importGamesEnabled:t}),s.default.track(C.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:t})},t.prototype.handleToggleShortcutDesktop=function(e){var t=e.currentTarget.checked;c.default.updateLocalSettings({installShortcutDesktop:t})},t.prototype.handleToggleShortcutStartMenu=function(e){var t=e.currentTarget.checked;c.default.updateLocalSettings({installShortcutStartMenu:t})},t.prototype.handleRestoreHiddenLibraryApplication=function(e){var t=u.toggleFlag(e.getFlags(),C.LibraryApplicationFlags.HIDDEN);e instanceof S.LocalApplicationRecord?h.updateFlags(e.id,t):p.updateFlags(e.id,t)},t.prototype.render=function(){var e=this.props,t=e.importGamesEnabled,n=e.hiddenLibraryApplicationViewItems,o=e.installShortcutDesktop,i=e.installShortcutStartMenu,s=l.default.isWindows();return a(r.Fragment,{},void 0,a(_.FormSection,{tag:_.FormTitleTags.H2,title:b.default.Messages.USER_SETTINGS_GAME_LIBRARY},void 0,s?a(r.Fragment,{},void 0,a(m.default,{value:!0===t,onChange:this.handleToggleImportGames,note:b.default.Messages.SETTINGS_GAMES_IMPORT_EXPLANATION},void 0,b.default.Messages.SETTINGS_GAMES_IMPORT_LABEL),a(m.default,{value:o,onChange:this.handleToggleShortcutDesktop,note:b.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,b.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),a(m.default,{value:i,onChange:this.handleToggleShortcutStartMenu,note:b.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,b.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),A):null,a(I,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:n})))},t}(r.PureComponent);t.default=i.default.connectStores([d.default,f.default],function(){return{importGamesEnabled:d.default.importGamesEnabled,hiddenLibraryApplicationViewItems:f.default.hiddenLibraryApplicationViewItems,installShortcutDesktop:d.default.installShortcutDesktop,installShortcutStartMenu:d.default.installShortcutStartMenu}})(M),e.exports=t.default},7192:function(e,t,n){e.exports=n.p+"bb8e02d970950bdadb649d765f3b8488.svg"},7193:function(e,t,n){e.exports=n.p+"d01c53acda73318e5b39676ef8242eb7.svg"},7194:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=R(n(3)),l=R(n(8)),s=R(n(9)),u=R(n(11)),d=R(n(31)),f=R(n(68)),c=R(n(128)),p=R(n(528)),h=R(n(223)),m=R(n(87)),y=R(n(940)),v=R(n(944)),g=R(n(79)),_=n(64),E=R(_),S=n(520),b=R(n(6404)),C=n(5985),T=R(C),N=R(n(142)),O=R(n(6));n(5802);var I=R(n(5558)),A=R(n(5559)),M=R(n(5557));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=i.default.connectStores([d.default],function(){return{theme:d.default.theme}})(T.default),U=u.default.isWindows(),k=a(S.FormDivider,{className:"margin-top-8 margin-bottom-8"}),F=function(e){function t(n){P(this,t);var o=w(this,e.call(this,n));return o.state={selectedValue:null},l.default.bindAll(o,["handleGameChange","handleAdd","handleClose"]),o}return L(t,e),t.prototype.render=function(){var e=this.props.candidates,t=this.state.selectedValue,n=e.map(function(e){return{value:e.pid,label:e.name}});return a("div",{className:(0,s.default)("add-game-popout",A.default.elevationBorderHigh)},void 0,a(v.default,{clearable:!1,options:n,onChange:this.handleGameChange,value:t}),k,a("div",{className:"actions flex-horizontal"},void 0,a(E.default,{className:"cancel-button",look:_.ButtonLooks.LINK,color:_.ButtonColors.GREY,onClick:this.handleClose},void 0,O.default.Messages.CANCEL),a(E.default,{disabled:null==t,onClick:this.handleAdd},void 0,O.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))},t.prototype.handleGameChange=function(e){this.setState({selectedValue:e})},t.prototype.handleAdd=function(){c.default.addGame(this.state.selectedValue.value),(0,this.props.onClose)()},t.prototype.handleClose=function(){(0,this.props.onClose)()},t}(r.PureComponent),x=i.default.connectStores([f.default],function(){return{candidates:f.default.getCandidateGames()}})(F),G=a("i",{className:"game-verified-icon"}),B=a("i",{className:"overlay-warning-icon"}),j=function(e){function t(n){P(this,t);var o=w(this,e.call(this,n));return l.default.bindAll(o,["handleRemoveClick","handleNameEdit","handleNameChange","handleOverlayToggle","handleEnterKey"]),o.state={editingName:null!=n.game?n.game.gameName:""},o}return L(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.nowPlaying&&e.game&&e.game.gameName!==this.state.editingName&&this.setState({editingName:e.game.gameName})},t.prototype.renderName=function(){var e=this.props.game;return null==e?a("div",{className:"game-name"},void 0,O.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):e.verified?a("div",{className:"flex-horizontal"},void 0,a("div",{className:"game-name game-name-verified"},void 0,e.gameName),a(N.default,{text:O.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,G)):a("input",{className:"game-name game-name-input",type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})},t.prototype.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return a("div",{className:"last-played"},void 0,O.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var o=t.played,r=t.exePath,i=void 0;return n?i=O.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:o&&(i=O.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:o})),a("div",{className:"last-played"},void 0,a(b.default,{hoverText:r?r.toUpperCase():""},void 0,i))},t.prototype.renderOverlayToggle=function(){var e=this.props.game;if(!U||null==e)return null;var t=e.overlay,n=e.overlayWarn,o=t?O.default.Messages.SETTINGS_GAMES_OVERLAY_ON:O.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,r=a(g.default,t?{name:g.default.Names.OVERLAY_ON,className:"overlay-toggle-icon-on",foreground:"fill"}:{name:g.default.Names.OVERLAY_OFF,className:"overlay-toggle-icon-off",foreground:"fill"}),i=n?a(N.default,{text:O.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,B):null;return a("div",{className:"flex-center flex-nowrap flex-justify-between"},void 0,i,a("div",{className:"overlay-status-text"},void 0,o),a(N.default,{text:O.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,a(m.default,{className:"overlay-toggle-icon",onClick:this.handleOverlayToggle},void 0,r)))},t.prototype.renderRemove=function(){return a(m.default,{className:(0,s.default)(M.default.button,"remove-game"),onClick:this.handleRemoveClick},void 0,O.default.Messages.REMOVE_KEYBIND)},t.prototype.render=function(){var e,t=this.props,n=t.nowPlaying,o=null!=t.game,r=(0,s.default)("flex-center",((e={game:!n})[I.default.card]=!n,e["now-playing"]=o&&n,e["not-detected"]=!o&&n,e));return a("div",{className:r},void 0,a("div",{className:"game-name-last-played flex-vertical"},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),!n&&o?this.renderRemove():null)},t.prototype.handleRemoveClick=function(){c.default.deleteEntry(this.props.game)},t.prototype.handleNameEdit=function(){var e=this.props.game,t=this.state.editingName;e.gameName!==t&&c.default.editName(e,t)},t.prototype.handleNameChange=function(e){this.setState({editingName:e.target.value})},t.prototype.handleEnterKey=function(e){13===e.keyCode&&(e.target.blur(),e.preventDefault())},t.prototype.handleOverlayToggle=function(){c.default.toggleOverlay(this.props.game)},t}(r.PureComponent),V=function(e){function t(){return P(this,t),w(this,e.apply(this,arguments))}return L(t,e),t.prototype.componentDidMount=function(){f.default.watchCandidateGames(!0)},t.prototype.componentWillUnmount=function(){f.default.watchCandidateGames(!1)},t.prototype.handleToggleShowCurrentGame=function(e){p.default.updateRemoteSettings({showCurrentGame:e.currentTarget.checked})},t.prototype.renderPopout=function(e){return r.createElement(x,e)},t.prototype.renderGameList=function(){var e=this.props.gameHistory;return e.length?a(S.FormSection,{className:"games-list margin-top-40"},void 0,a(S.FormTitle,{className:"margin-bottom-4"},void 0,O.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),e.map(function(e){return a(j,{game:e},e.exePath)})):a(D,{className:"margin-top-40"},void 0,a(C.EmptyStateImage,{darkSrc:n(7193),lightSrc:n(7192),width:430,height:250}),a(C.EmptyStateText,{},void 0,O.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER))},t.prototype.render=function(){var e=this.props,t=e.runningGame,n=e.showCurrentGame;return a(r.Fragment,{},void 0,a(S.FormSection,{className:"user-settings-games",tag:S.FormTitle.Tags.H2,title:O.default.Messages.USER_SETTINGS_GAME_ACTIVITY},void 0,a(j,{game:t,nowPlaying:!0}),a("div",{className:"now-playing-add margin-reset margin-top-8 margin-bottom-20"},void 0,a("span",{},void 0,O.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),a(h.default,{closeOnScroll:!1,render:this.renderPopout,shadow:!1,position:h.default.Positions.BOTTOM},void 0,a(E.default,{look:_.ButtonLooks.LINK,size:_.ButtonSizes.MIN,color:_.ButtonColors.LINK},void 0,O.default.Messages.SETTINGS_GAMES_ADD_GAME))),a(y.default,{value:n,onChange:this.handleToggleShowCurrentGame},void 0,O.default.Messages.SHOW_CURRENT_GAME),this.renderGameList()))},t}(r.PureComponent);t.default=i.default.connectStores([d.default,f.default],function(){return{showCurrentGame:d.default.showCurrentGame,gameHistory:f.default.getGamesSeen(),runningGame:f.default.getSettingsGame()}})(V),e.exports=t.default},7195:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},7196:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=n(520),s=c(n(40)),u=c(n(945)),d=n(0),f=c(n(5804));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var n,o;p(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){return o.props.onClick(o.props.option)},h(o,n)}return m(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isChecked,o=t.option;return a(s.default,{className:(0,i.default)(f.default.item,(e={},e[f.default.selected]=n,e)),justify:s.default.Justify.BETWEEN,align:s.default.Align.CENTER,onClick:this.handleClick},void 0,a(s.default,{grow:0,className:f.default.label,justify:s.default.Justify.START},void 0,a(s.default.Child,{},void 0,a(u.default,{readOnly:!0,value:n,shape:u.default.Shapes.ROUND,color:d.Colors.STATUS_GREEN,type:u.default.Types.INVERTED,className:f.default.checkbox})),a(s.default.Child,{className:f.default.marginReset},void 0,a(l.FormTitle,{className:f.default.labelText,tag:l.FormTitleTags.H3},void 0,o.name))),a(s.default,{grow:0},void 0,a(s.default.Child,{className:f.default.marginReset},void 0,a(l.FormText,{type:l.FormText.Types.DESCRIPTION},void 0,o.localizedName)),o.image?a(s.default.Child,{},void 0,a("img",{alt:"",src:o.image,className:f.default.image})):null))},t}(r.PureComponent),v=function(e){function t(){var n,o;p(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=h(this,e.call.apply(e,[this].concat(i))),o.renderRadio=function(e,t){var n=o.props.value===e.value;return a(y,{isChecked:n,option:e,onClick:o.props.onChange},t)},h(o,n)}return m(t,e),t.prototype.render=function(){return a("div",{},void 0,this.props.options.map(this.renderRadio))},t}(r.PureComponent);v.defaultProps={options:[],onChange:d.NOOP,value:null},t.default=v,e.exports=t.default},7197:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(43))),s=m(n(57)),u=m(n(3)),d=n(520),f=m(n(7196)),c=m(n(528)),p=m(n(31)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var y=(0,l.default)({displayName:"UserSettingsLocale",mixins:[u.default.StoreListenerMixin(p.default),s.default],getInitialState:function(){return{locales:h.default.getAvailableLocales().map(function(e){var t=void 0;try{t=n(6198)("./"+e.value+".png")}catch(e){t=n(7195)}return i({},e,{image:t})})}},getStateFromStores:function(){return{currentLocale:p.default.locale}},render:function(){return r(d.FormSection,{className:"user-settings-locale",tag:d.FormTitleTags.H2,title:h.default.Messages.LANGUAGE},void 0,r(d.FormSection,{},void 0,r(d.FormTitle,{className:"margin-reset"},void 0,h.default.Messages.LANGUAGE_SELECT),r(f.default,{options:this.state.locales,value:this.state.currentLocale,onChange:this.handleLocaleChange})))},handleLocaleChange:function(e){this.setState({currentLocale:e.value},function(){return o.nextTick(function(){return c.default.updateRemoteSettings({locale:e.value})})})}});t.default=y,e.exports=t.default}).call(this,n(61))},7198:function(e,t,n){e.exports=n.p+"68b37187aee175514a1402d4088cf90b.svg"},7199:function(e,t,n){e.exports=n.p+"b47564b3086d0d8d941aae95a4b7b78c.svg"},7200:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a=c(n(3)),r=c(n(2)),i=(n(0),c(n(18))),l=c(n(385)),s=c(n(146)),u=c(n(8)),d=c(n(271)),f=c(n(167));function c(e){return e&&e.__esModule?e:{default:e}}var p=864e5,h=null;function m(){var e=Date.now()-p;(0,u.default)(i.default.getManagedChannels()).filter(function(t){return f.default.extractTimestamp(t.id)<e}).forEach(function(e){return s.default.closePrivateChannel(e.id)})}setInterval(function(){return m()},36e5);var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default,d.default)},t.prototype.getApps=function(){return h},t}(a.default.Store);t.default=new y(r.default,{CONNECTION_OPEN:function(e){return o(m),!1},USER_AUTHORIZED_APPS_UPDATE:function(e){h=e.apps}}),e.exports=t.default}).call(this,n(35).setImmediate)},7201:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),a=n(0),r=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetch:function(){r.default.get(a.Endpoints.OAUTH2_TOKENS).then(function(e){return o.default.dispatch({type:a.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})},function(){return o.default.dispatch({type:a.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})})},delete:function(e){var t=this;r.default.delete(a.Endpoints.OAUTH2_TOKEN(e)).then(function(){t.fetch()})}},e.exports=t.default},7202:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(8)),s=P(n(3)),u=P(n(9)),d=P(n(371)),f=P(n(6)),c=P(n(31)),p=n(520),h=P(n(40)),m=n(524),y=P(m),v=n(64),g=P(v),_=n(5985),E=P(_),S=P(n(224)),b=P(n(81)),C=P(n(6001)),T=P(n(38)),N=P(n(7201)),O=P(n(7200)),I=P(n(144)),A=n(0),M=P(n(5805)),R=P(n(519));function P(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=s.default.connectStores([c.default],function(){return{theme:c.default.theme}})(E.default),k=function(e){function t(){var n,o;w(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=o=L(this,e.call.apply(e,[this].concat(s))),o.renderPermissions=function(){var e=o.props.scopes.map(function(e){var t=void 0;switch(e){case A.OAuth2Scopes.IDENTIFY:t=f.default.Messages.SCOPE_IDENTIFY;break;case A.OAuth2Scopes.EMAIL:t=f.default.Messages.SCOPE_EMAIL;break;case A.OAuth2Scopes.CONNECTIONS:t=f.default.Messages.SCOPE_CONNECTIONS;break;case A.OAuth2Scopes.GUILDS:t=f.default.Messages.SCOPE_GUILDS;break;case A.OAuth2Scopes.GUILDS_JOIN:t=f.default.Messages.SCOPE_GUILDS_JOIN;break;case A.OAuth2Scopes.GDM_JOIN:t=f.default.Messages.SCOPE_GDM_JOIN;break;case A.OAuth2Scopes.BOT:t=f.default.Messages.SCOPE_BOT;break;case A.OAuth2Scopes.RPC:t=f.default.Messages.SCOPE_RPC;break;case A.OAuth2Scopes.RPC_API:t=f.default.Messages.SCOPE_RPC_API;break;case A.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=f.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case A.OAuth2Scopes.MESSAGES_READ:t=f.default.Messages.SCOPE_MESSAGES_READ;break;default:t=e}return r("li",{className:(0,u.default)(M.default.permission,R.default.marginTop8)},e,r("i",{className:M.default.permissionCheckmark}),r(p.FormText,{},void 0,t))});if(e.length)return r(p.FormItem,{faded:!0,title:f.default.Messages.PERMISSIONS,className:R.default.marginTop20},void 0,r("ul",{},void 0,e))},o.renderHeader=function(){var e=o.props.application,t=b.default.getApplicationIconURL({id:e.id,icon:e.icon}),n=t?r(h.default.Child,{className:M.default.appAvatar,grow:0},void 0,r("img",{src:t,alt:""})):null;return r(h.default,{className:(0,u.default)(M.default.header,R.default.marginBottom20)},void 0,r(h.default,{className:M.default.headerInfo},void 0,n,r(h.default.Child,{},void 0,r(p.FormText,{type:p.FormTextTypes.LABEL_BOLD},void 0,r("span",{},void 0,e.name)))),r(h.default.Child,{wrap:!0,grow:0},void 0,r(g.default,{className:M.default.deleteApp,color:v.ButtonColors.RED,look:v.ButtonLooks.OUTLINED,size:v.ButtonSizes.SMALL,onClick:o.handleDeleteApp},void 0,f.default.Messages.DEAUTHORIZE)))},o.handleDeleteApp=function(){T.default.push(function(e){return i.createElement(d.default,a({title:f.default.Messages.DEAUTHORIZE_APP,body:f.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:f.default.Messages.DEAUTHORIZE,cancelText:f.default.Messages.CANCEL,onConfirm:o.props.onDelete},e))})},L(o,n)}return D(t,e),t.prototype.renderDescription=function(){var e=this.props.application;if(e.description)return r(p.FormItem,{faded:!0,title:f.default.Messages.ABOUT_THIS_APP},void 0,r(p.FormText,{},void 0,e.description))},t.prototype.render=function(){return r(y.default,{className:(0,u.default)(M.default.authedApp,R.default.marginBottom8),outline:!0},void 0,this.renderHeader(),this.renderDescription(),this.renderPermissions())},t}(i.PureComponent),F=r(C.default,{}),x=function(e){function t(n){w(this,t);var o=L(this,e.call(this,n));return l.default.bindAll(o,["handleDelete"]),o}return D(t,e),t.prototype.componentDidMount=function(){N.default.fetch()},t.prototype.handleDelete=function(e){var t=e.id;N.default.delete(t)},t.prototype.renderEmpty=function(){return r(U,{className:M.default.marginTop20},void 0,r(_.EmptyStateImage,{darkSrc:n(7199),lightSrc:n(7198),width:380,height:282}),r(_.EmptyStateText,{note:f.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,f.default.Messages.NO_AUTHORIZED_APPS))},t.prototype.renderContent=function(){var e=this,t=this.props.applications;return t?0===t.length?this.renderEmpty():t.filter(function(e){return!e.scopes.includes(A.OAuth2Scopes.RPC)}).map(function(t){return i.createElement(k,a({key:t.id,onDelete:e.handleDelete.bind(e,t)},t))}):r(S.default,{className:R.default.marginTop20,type:S.default.Type.SPINNING_CIRCLE})},t.prototype.render=function(){return this.props.hide?F:r(p.FormSection,{tag:p.FormTitleTags.H2,title:f.default.Messages.AUTHORIZED_APPS},void 0,r(p.FormNotice,{className:R.default.marginBottom40,type:m.Types.PRIMARY,title:f.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:f.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),this.renderContent())},t}(i.PureComponent);t.default=s.default.connectStores([O.default,I.default],function(){return{hide:I.default.hidePersonalInformation,applications:O.default.getApps()}})(x),e.exports=t.default},7203:function(e,t,n){e.exports=n.p+"616e078b351d0df460971441949c53a3.svg"},7204:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(9)),s=E(n(3)),u=E(n(6)),d=E(n(11)),f=n(520),c=E(n(940)),p=E(n(31)),h=E(n(144)),m=E(n(6101)),y=E(n(522)),v=n(0),g=E(n(5806)),_=E(n(519));function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){return r(f.FormNotice,{className:_.default.marginBottom40,iconClassName:g.default.noticeIcon,type:f.FormNoticeTypes.PRIMARY,imageData:{src:n(7203),width:184,height:110,position:f.FormNoticeImagePositions.RIGHT},title:u.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:u.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:"https://discordapp.com/streamkit"})})},t.prototype.renderAutoToggle=function(){if(d.default.embedded)return r(c.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:u.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,u.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)},t.prototype.render=function(){return r(f.FormSection,{className:g.default.container,tag:f.FormTitleTags.H2,title:u.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),r(c.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:u.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,u.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),r(f.FormTitle,{className:(0,l.default)(_.default.marginTop40,_.default.marginBottom8)},void 0,u.default.Messages.OPTIONS),r(c.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:u.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,u.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),r(c.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:u.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,u.default.Messages.HIDE_INSTANT_INVITES_LABEL),r(c.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:u.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,u.default.Messages.DISABLE_SOUNDS_LABEL),r(c.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:u.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,u.default.Messages.DISABLE_NOTIFICATIONS_LABEL))},t.prototype.handleChange=function(e,t){var n;m.default.update(((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleGotoKeybinds=function(){y.default.setSection(v.UserSettingsSections.KEYBINDS)},t}(i.PureComponent);t.default=s.default.connectStores([p.default,h.default],function(){return a({},h.default.getSettings(),{theme:p.default.theme})})(S),e.exports=t.default},7205:function(e,t,n){e.exports=n.p+"21b610d45d1f2175431413ad53258aa6.svg"},7206:function(e,t,n){e.exports=n.p+"f3bb89a27e9d102f748da035cd7e5df7.svg"},7207:function(e,t,n){"use strict";t.__esModule=!0,t.RecordModes=void 0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=m(n(6227)),u=n(64),d=m(u),f=m(n(40)),c=n(375),p=m(n(6)),h=m(n(5808));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.RecordModes={DEFAULT:"DEFAULT",RECORDING:"RECORDING"},g=((a={})[v.DEFAULT]=h.default.default,a[v.RECORDING]=h.default.recording,a);function _(e){e.preventDefault()}var E=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(r))),o.setInputRef=function(e){o._input=e},o.handleBlur=function(){o.props.mode===v.RECORDING&&(0,o.props.onClick)()},o.handleFocus=function(){o.props.mode===v.DEFAULT&&(0,o.props.onClick)()},o.handleClick=function(e){e.preventDefault(),(0,o.props.onClick)()},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.onChange;e&&this._input&&(new s.default(this._input).handleKey=e)},t.prototype.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var o=document.activeElement;t===v.DEFAULT&&n===o&&n.blur(),t===v.RECORDING&&n!==o&&n.focus()}}},t.prototype.render=function(){var e,t=this.props,n=t.mode,o=t.value,a=t.disabled,s=(0,c.toString)(o,!0),m=void 0;m=n===v.RECORDING?p.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===o.length?p.default.Messages.SHORTCUT_RECORDER_BUTTON:p.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var y=n===v.DEFAULT&&o.length>0;return r("div",{className:(0,l.default)(h.default.container,g[n],(e={},e[h.default.hasValue]=y,e[h.default.disabled]=a,e))},void 0,r(f.default,{className:h.default.layout},void 0,r(f.default.Child,{className:h.default.input},void 0,i.createElement("input",{placeholder:p.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:s,onKeyDown:_,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:a})),r(f.default,{shrink:1,grow:0,style:{margin:0}},void 0,r(d.default,{className:h.default.button,disabled:a,onMouseDown:_,onMouseUp:this.handleClick,size:d.default.Sizes.MIN,color:u.ButtonColors.GREY,look:u.ButtonLooks.GHOST},void 0,r("span",{className:h.default.text},void 0,m),r("span",{className:h.default.editIcon})))))},t}(i.PureComponent);t.default=E},7208:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=k(n(1)),s=U(n(8)),u=U(n(9)),d=U(n(3)),f=U(n(6038)),c=U(n(546)),p=U(n(6)),h=U(n(31)),m=n(520),y=U(n(40)),v=U(n(87)),g=U(n(944)),_=n(64),E=U(_),S=n(5985),b=U(S),C=U(n(6199)),T=n(262),N=U(T),O=U(n(6405)),I=n(0),A=U(n(5999)),M=k(n(375)),R=U(n(5558)),P=U(n(5557)),w=U(n(1026)),L=U(n(519)),D=U(n(5807));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=d.default.connectStores([h.default],function(){return{theme:h.default.theme}})(b.default),j=((a={})[I.KeybindCustomActions.UNASSIGNED]=p.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,a[I.KeybindCustomActions.PUSH_TO_MUTE]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,a[I.KeybindCustomActions.PUSH_TO_TALK]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,a[I.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,a[I.KeybindCustomActions.TOGGLE_MUTE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,a[I.KeybindCustomActions.TOGGLE_DEAFEN]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,a[I.KeybindCustomActions.TOGGLE_VOICE_MODE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,a[I.KeybindCustomActions.TOGGLE_STREAMER_MODE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,a),V=[{value:I.KeybindCustomActions.UNASSIGNED,label:p.default.Messages.KEYBIND_UNASSIGNED},{value:I.KeybindCustomActions.PUSH_TO_TALK,label:p.default.Messages.KEYBIND_PUSH_TO_TALK},{value:I.KeybindCustomActions.PUSH_TO_TALK_PRIORITY,label:p.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:I.KeybindCustomActions.PUSH_TO_MUTE,label:p.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:I.KeybindCustomActions.TOGGLE_MUTE,label:p.default.Messages.KEYBIND_TOGGLE_MUTE},{value:I.KeybindCustomActions.TOGGLE_DEAFEN,label:p.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:I.KeybindCustomActions.TOGGLE_VOICE_MODE,label:p.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:I.KeybindCustomActions.TOGGLE_STREAMER_MODE,label:p.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}],H=function(e){function t(){var n,o;F(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=x(this,e.call.apply(e,[this].concat(r))),o.handleActionChanged=function(e){O.default.setKeybind(i({},o.props.keybind,{action:e.value}))},o.handleShortcutChange=function(e){O.default.setKeybind(i({},o.props.keybind,{shortcut:e}))},o.handleDeleteKeybind=function(){O.default.deleteKeybind(o.props.keybind.id)},x(o,n)}return G(t,e),t.prototype.renderMessage=function(){return A.default.hasBind(M.toString(this.props.keybind.shortcut))?r(N.default,{className:D.default.keybindMessage,type:T.Types.DESCRIPTION,style:{color:I.Colors.STATUS_RED}},void 0,p.default.Messages.KEYBIND_CONFLICT):r(N.default,{className:D.default.keybindMessage,type:T.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[this.props.keybind.action])},t.prototype.render=function(){var e=this.props.keybind.managed;return r(y.default,{direction:y.default.Direction.VERTICAL,className:(0,u.default)(D.default.keybindGroup,R.default.card)},void 0,!e&&r(v.default,{className:(0,u.default)(P.default.button,D.default.removeKeybind),onClick:this.handleDeleteKeybind},void 0,p.default.Messages.REMOVE_KEYBIND),r(y.default,{className:L.default.marginBottom8},void 0,r(y.default.Child,{basis:"50%"},void 0,r(m.FormItem,{title:p.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:D.default.item},void 0,r(g.default,{options:this.props.keybindActionTypes,onChange:this.handleActionChanged,value:this.props.keybind.action,clearable:!1,searchable:!1,disabled:e}))),r(y.default.Child,{basis:"50%"},void 0,r(m.FormItem,{title:p.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:D.default.item},void 0,r(C.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),r(y.default.Child,{},void 0,this.renderMessage()))},t}(l.PureComponent),Y=r(m.FormDivider,{}),W=function(e){function t(n){F(this,t);var o=x(this,e.call(this,n));o.handleAddKeybind=function(){O.default.addKeybind()};var a=i({},j),r=[].concat(V);return c.default.isSupported()&&(a[I.KeybindCustomActions.TOGGLE_OVERLAY]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY,r.push({value:I.KeybindCustomActions.TOGGLE_OVERLAY,label:p.default.Messages.KEYBIND_TOGGLE_OVERLAY}),a[I.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK,r.push({value:I.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,label:p.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK}),r.push({value:I.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:p.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})),o.state={keybindDescriptions:a,keybindActionTypes:r},o}return G(t,e),t.prototype.renderKeybinds=function(e){var t=this;return e.map(function(e){return r("div",{className:D.default.row},e.id,r(H,{keybind:e,keybindDescriptions:t.state.keybindDescriptions,keybindActionTypes:t.state.keybindActionTypes},e.id))})},t.prototype.renderEmpty=function(e){if(0===e.length)return r(B,{className:L.default.marginTop60},void 0,r(S.EmptyStateImage,{darkSrc:n(7206),lightSrc:n(7205),width:320,height:170}))},t.prototype.render=function(){var e=(0,s.default)(this.props.keybinds).sortBy(function(e){return e.id}).sortBy(function(e){return-e.managed}).value();return r(m.FormSection,{tag:m.FormTitleTags.H2,title:p.default.Messages.KEYBINDS},void 0,r(y.default,{justify:y.default.Justify.BETWEEN,className:L.default.marginBottom20},void 0,r(y.default.Child,{grow:0},void 0,r("div",{className:(0,u.default)(D.default.ghostPill,w.default.cursorDefault)},void 0,p.default.Messages.ADD_KEYBIND_WARNING)),r(y.default.Child,{wrap:!0,grow:0},void 0,r(E.default,{size:_.ButtonSizes.SMALL,onClick:this.handleAddKeybind},void 0,p.default.Messages.ADD_KEYBIND))),Y,r(m.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e)))},t}(l.PureComponent);t.default=d.default.connectStores([f.default],function(){return{keybinds:f.default.getState()}})(W),e.exports=t.default},7209:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=S(n(1)),i=E(n(3)),l=E(n(2)),s=E(n(279)),u=S(n(6205)),d=E(n(38)),f=E(n(64)),c=E(n(939)),p=E(n(123)),h=E(n(40)),m=E(n(75)),y=E(n(262)),v=E(n(6)),g=E(n(519)),_=E(n(5810));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=/^\d+$|^$/,T=function(e){function t(){var n,o,a,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=o=b(this,e.call.apply(e,[this].concat(l))),o.state={applicationId:o.props.authorizedApplicationId||"",isValid:!0},o.handleSave=(a=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.authorizeAndSetTestModeApplication(o.state.applicationId);case 2:e.sent&&o.handleClose();case 4:case"end":return e.stop()}},e,r)}),function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})}),o.handleClear=function(){u.reset(),o.setState({applicationId:""})},o.handleInputChange=function(e){u.resetError(),o.setState({applicationId:e,isValid:C.test(e)})},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){l.default.wait(function(){return u.resetError()})},t.prototype.handleClose=function(){l.default.wait(function(){return d.default.pop()})},t.prototype.render=function(){var e=this.props,t=e.authorizedApplicationId,n=e.authorizationError,o=e.authorizing,r=this.state,i=r.applicationId,l=r.isValid,s=null!=t&&t===i,u=s?this.handleClear:this.handleSave,d=null;return n?d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_AUTHORIZATION_ERROR:l||(d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID),a(p.default,{},void 0,a(p.default.Header,{},void 0,a(h.default,{align:h.default.Align.CENTER},void 0,a(m.default,{tag:m.default.Tags.H2,className:g.default.marginReset},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),a(p.default.CloseButton,{onClick:this.handleClose}))),a(p.default.Content,{className:_.default.modalContent},void 0,a(y.default,{className:g.default.marginBottom20,type:y.default.Types.DESCRIPTION},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),a("form",{onSubmit:function(e){e.preventDefault(),u()}},void 0,a(h.default,{align:h.default.Align.START},void 0,a("div",{className:_.default.inputWrapper},void 0,a(c.default,{value:i,maxLength:19,error:d,onChange:this.handleInputChange,disabled:o,placeholder:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER})),a(f.default,{submitting:o,type:"submit",disabled:!l||0===i.length,color:s?f.default.Colors.RED:f.default.Colors.GREEN},void 0,s?v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))},t}(r.PureComponent);t.default=i.default.connectStores([s.default],function(){return{authorizedApplicationId:s.default.testModeApplicationId,authorizationError:s.default.error,authorizing:s.default.isFetchingAuthorization}})(T),e.exports=t.default},7210:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=x(n(1)),l=F(n(3)),s=F(n(9)),u=F(n(11)),d=F(n(279)),f=F(n(31)),c=F(n(972)),p=F(n(284)),h=F(n(528)),m=n(1039),y=F(n(38)),v=x(n(6205)),g=F(n(164)),_=F(n(7209)),E=F(n(67)),S=n(963),b=n(520),C=F(n(524)),T=F(n(5990)),N=F(n(940)),O=F(n(985)),I=F(n(40)),A=F(n(273)),M=F(n(5999)),R=F(n(6069)),P=n(0),w=F(n(276)),L=F(n(124)),D=F(n(6)),U=F(n(5809)),k=F(n(519));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var G={COZY:"cozy",COMPACT:"compact"},B=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.hardwareAccelerationEnabled=u.default.getEnableHardwareAcceleration(),o.handleThemeChange=function(e){var t=e.value;t!==o.props.theme&&h.default.updateRemoteSettings({theme:t})},o.handleMessageDisplayModeChange=function(e){var t=e.value;t!==o.props.messageDisplayCompact&&h.default.updateRemoteSettings({messageDisplayCompact:t===G.COMPACT})},o.handleTestModeChecked=function(e){e.currentTarget.checked?y.default.push(_.default):v.reset()};var a=0;return o.channel=new L.default({id:"1337"}),o.messages=[w.default.create(r({},A.default.createMessage(o.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1),{state:P.MessageStates.SENT,id:""+a++})),w.default.create(r({},A.default.createMessage(o.channel.id,o.getPreviewMessage(n.theme)),{state:P.MessageStates.SENT,id:""+a++})),w.default.create(r({},A.default.createMessage(o.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3),{state:P.MessageStates.SENT,id:""+a++})),w.default.create(r({},A.default.createMessage(o.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4),{state:P.MessageStates.SENT,id:""+a++})),w.default.create(r({},A.default.createMessage(o.channel.id,D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5),{state:P.MessageStates.SENT,id:""+a}))],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPreviewMessage=function(e){return e===P.ThemeTypes.DARK?D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:D.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT},t.prototype.UNSAFE_componentWillUpdate=function(e){this.props.theme!==e.theme&&(this.messages[1]=w.default.create(r({},A.default.createMessage(this.channel.id,this.getPreviewMessage(e.theme)),{state:"SENT"})))},t.prototype.renderZoomSlider=function(){return u.default.embedded?a(b.FormItem,{title:D.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL,className:k.default.marginTop20},void 0,a(O.default,{className:(0,s.default)(k.default.marginTop20,k.default.marginBottom4),defaultValue:this.props.zoom,markers:P.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender}),a(b.FormText,{type:b.FormText.Types.DESCRIPTION},void 0,D.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:M.default.modKey}))):null},t.prototype.renderFontScaleSlider=function(){return a(b.FormItem,{title:D.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL,className:k.default.marginTop40},void 0,a(I.default,{align:I.default.Align.CENTER},void 0,a(I.default.Child,{className:U.default.fontScaleSmall},void 0,"Aa"),a(I.default.Child,{},void 0,a(O.default,{className:k.default.marginTop4,defaultValue:this.props.fontScale,markers:P.Accessibility.FONT_SCALES,stickToMarkers:!0,equidistant:!0,onValueChange:this.handleFontScaleChange,onValueRender:this.handleSliderRender,onMarkerRender:this.handleRenderFontScale})),a(I.default.Child,{className:U.default.fontScaleLarge},void 0,"Aa")))},t.prototype.renderPreview=function(){var e,t=this,n=this.props.messageDisplayCompact;return a(C.default,{className:U.default.preview,outline:!0},void 0,a("div",{className:(0,s.default)(U.default.previewInner,(e={},e[U.default.previewCompact]=n,e))},void 0,this.messages.map(function(e){return a(R.default,{channel:t.channel,messages:[e],enableInteraction:!1,compact:n},e.id)})))},t.prototype.renderThemePicker=function(){return a(b.FormItem,{title:D.default.Messages.THEME,className:k.default.marginTop40},void 0,a(T.default,{options:[{name:D.default.Messages.THEME_LIGHT,value:P.ThemeTypes.LIGHT},{name:D.default.Messages.THEME_DARK,value:P.ThemeTypes.DARK}],onChange:this.handleThemeChange,value:this.props.theme}))},t.prototype.renderDisplayMode=function(){return a(b.FormItem,{title:D.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:k.default.marginTop40},void 0,a(T.default,{options:[{name:D.default.Messages.COZY_MODE,value:G.COZY},{name:D.default.Messages.COMPACT_MODE,value:G.COMPACT}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?G.COMPACT:G.COZY}))},t.prototype.renderColorblindMode=function(){return a(b.FormItem,{title:D.default.Messages.USER_SETTINGS_APPEARANCE_COLORS,className:k.default.marginTop40},void 0,a(N.default,{onChange:m.toggleColorblindMode,value:this.props.colorblindMode,note:D.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_DESCRIPTION},void 0,D.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_TITLE))},t.prototype.renderDeveloperMode=function(){if(S.SUPPORTS_COPY)return a(N.default,{value:this.props.developerMode,onChange:this.handleDeveloperModeChecked,note:D.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:P.MarketingURLs.API_DOCS})},void 0,D.default.Messages.DEVELOPER_MODE)},t.prototype.renderHardwareAcceleration=function(){if(u.default.embedded)return a(N.default,{value:this.hardwareAccelerationEnabled,onChange:this.handleHardwareAccelerationChecked,note:D.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,D.default.Messages.HARDWARE_ACCELERATION)},t.prototype.renderDisableGamesTab=function(){var e=this.props,t=e.isInFeedExperiment,n=e.disableGamesTab;if(t)return a(N.default,{value:!n,note:D.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB_NOTE,onChange:this.handleDisableGamesTabChecked},void 0,D.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB)},t.prototype.renderTestMode=function(){var e=this.props,t=e.developerMode,n=e.testModeApplicationId;return t?a(N.default,{value:null!=n,note:D.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:this.handleTestModeChecked},void 0,D.default.Messages.DEVELOPER_APPLICATION_TEST_MODE):null},t.prototype.render=function(){return a(b.FormSection,{className:U.default.container,tag:b.FormTitleTags.H2,title:D.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderThemePicker(),this.renderDisplayMode(),this.renderFontScaleSlider(),this.renderZoomSlider(),this.renderColorblindMode(),a(b.FormTitle,{tag:b.FormTitleTags.H2,className:(0,s.default)(k.default.marginTop60,k.default.marginBottom20)},void 0,D.default.Messages.SETTINGS_ADVANCED),this.renderDeveloperMode(),this.renderHardwareAcceleration(),this.renderDisableGamesTab(),this.renderTestMode())},t.prototype.handleDeveloperModeChecked=function(e){h.default.updateRemoteSettings({developerMode:e.currentTarget.checked})},t.prototype.handleHardwareAccelerationChecked=function(e){var t=e.currentTarget.checked;y.default.push(function(e){return i.createElement(g.default,r({header:D.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:D.default.Messages.OKAY,cancelText:D.default.Messages.CANCEL,onConfirm:function(){return u.default.setEnableHardwareAcceleration(t)},red:!0},e),a(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,D.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))})},t.prototype.handleDisableGamesTabChecked=function(e){h.default.updateRemoteSettings({disableGamesTab:!e.currentTarget.checked})},t.prototype.handleRenderFontScale=function(e){return 82===e?e=80:92===e&&(e=90),""+e.toFixed(0)},t.prototype.handleSliderRender=function(e){return e.toFixed(0)+"%"},t.prototype.handleFontScaleChange=function(e){(0,m.fontScaleTo)(Math.round(e))},t.prototype.handleZoomChange=function(e){(0,m.zoomTo)(e)},t}(i.Component);t.default=l.default.connectStores([c.default,p.default,f.default,d.default],function(){return{theme:f.default.theme,messageDisplayCompact:f.default.messageDisplayCompact,developerMode:f.default.developerMode,fontScale:c.default.fontScale,zoom:c.default.zoom,colorblindMode:c.default.colorblindMode,disableGamesTab:f.default.disableGamesTab,testModeApplicationId:d.default.testModeApplicationId,isInFeedExperiment:p.default.isInFeedExperiment()}})(B),e.exports=t.default},7211:function(e,t,n){e.exports=n.p+"fffa18d6d66a76c08c500c56afe68a62.svg"},7212:function(e,t,n){e.exports=n.p+"e9aaf1824f17126a7992e5ad98752389.svg"},7213:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=B(n(43)),s=B(n(57)),u=B(n(9)),d=B(n(6)),f=B(n(3)),c=B(n(90)),p=B(n(371)),h=B(n(5992)),m=n(1003),y=B(m),v=B(n(6001)),g=n(520),_=B(n(524)),E=B(n(163)),S=B(n(87)),b=B(n(224)),C=n(64),T=B(C),N=B(n(940)),O=n(5985),I=B(O),A=B(n(291)),M=B(n(26)),R=B(n(144)),P=B(n(31)),w=B(n(988)),L=B(n(38)),D=B(n(292)),U=B(n(528)),k=(B(n(1235)),B(n(11))),F=n(0),x=B(n(5811)),G=B(n(519));function B(e){return e&&e.__esModule?e:{default:e}}var j=f.default.connectStores([P.default],function(){return{theme:P.default.theme}})(I.default),V=(0,l.default)({displayName:"Integration",mixins:[s.default,f.default.LazyStoreListenerMixin(M.default,A.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props.integration;return{isJoining:A.default.isJoining(e.id),isMember:M.default.getGuild(e.guild.id)}},render:function(){var e=this.state,t=e.isMember,n=e.isJoining,o=this.props.integration,a=void 0;t||(a=r(T.default,{size:C.ButtonSizes.SMALL,look:C.ButtonLooks.GHOST,color:C.ButtonColors.WHITE,onClick:this.handleJoinGuild,disabled:n},void 0,r("span",{},void 0,n?d.default.Messages.JOINING_SERVER:d.default.Messages.JOIN_SERVER)));var i=void 0,l=void 0;switch(o.type){case"youtube":i=o.account.name,l="gaming.youtube.com/channel/"+o.account.id;break;case"twitch":default:i=l="twitch.tv/"+o.account.name}return r("div",{className:x.default.integration},void 0,r("div",{},void 0,r(h.default,{size:h.default.Sizes.SMALL,guild:o.guild,className:x.default.guildIcon}),r("div",{className:x.default.integrationInner},void 0,r(g.FormText,{className:x.default.integrationName},void 0,o.guild.toString()),r(E.default,{className:x.default.channelLink,href:"//"+l},void 0,i))),a)},handleJoinGuild:function(){D.default.joinServer(this.props.integration.id)}}),H=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));Y.call(o);var a=n.account,r=a.friendSync,i=a.visibility,l=a.verified,s=a.showActivity;return o.state={friendSync:r,visibility:i,verified:l,showActivity:s},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.account,n=t.friendSync,o=t.visibility,a=t.verified,r=t.showActivity;!this.state.verified&&a&&this.handleInProgressVisibilityChange(),this.setState({friendSync:n,visibility:o,verified:a,showActivity:r})},t.prototype.renderHeader=function(e){var t=this.props.account;return r("div",{className:x.default.connectionHeader},void 0,r("img",{alt:"",className:x.default.connectionIcon,src:e.icon.white}),r("div",{},void 0,r(g.FormText,{className:x.default.connectionAccountValue},void 0,t.name),r(g.FormText,{className:x.default.connectionAccountLabel,type:g.FormTextTypes.DESCRIPTION,style:{color:F.Colors.WHITE}},void 0,d.default.Messages.ACCOUNT_NAME)),r(S.default,{className:x.default.connectionDelete,onClick:this.handleDisconnect},void 0,r("span",{},void 0,d.default.Messages.SERVICE_CONNECTIONS_DISCONNECT)))},t.prototype.renderConnectionOptions=function(e){var t=this.state,n=t.visibility,o=t.friendSync,a=t.showActivity,i=this.props.account,l=void 0;F.FRIEND_SYNC_PLATFORM_TYPES.has(i.type)&&(l=r(N.default,{className:x.default.connectionOptionSwitch,theme:N.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:o,onChange:this.handleFriendSyncChange},void 0,d.default.Messages.SYNC_FRIENDS));var s=void 0;return F.ACTIVITY_PLATFORM_TYPES.has(i.type)&&(s=r(N.default,{className:x.default.connectionOptionSwitch,theme:N.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:a,onChange:this.handleShowActivityChange},void 0,d.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))),r("div",{className:x.default.connectionOptionsWrapper},void 0,r("div",{className:x.default.connectionOptions},void 0,r(N.default,{className:x.default.connectionOptionSwitch,theme:N.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:1===n,onChange:this.handleVisibilityChange},void 0,d.default.Messages.DISPLAY_ON_PROFILE),s,l))},t.prototype.renderIntegrations=function(e){var t=this.props.account,n=e.name.toUpperCase().replace(/\./g,"");return t.revoked?r(g.FormItem,{className:x.default.integrationsWrapper},void 0,r(g.FormTitle,{tag:g.FormTitleTags.H5},void 0,r("span",{style:{color:F.Colors[n+"_200"]}},void 0,d.default.Messages.SUB_ENABLED_SERVERS)),r(g.FormText,{},void 0,d.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):t.integrations.length>0?r(g.FormItem,{className:x.default.integrationsWrapper},void 0,r(g.FormTitle,{tag:g.FormTitleTags.H5},void 0,r("span",{style:{color:F.Colors[n+"_200"]}},void 0,d.default.Messages.SUB_ENABLED_SERVERS)),r("div",{},void 0,t.integrations.map(function(t){return r(V,{integration:t,color:e.color},t.id)}))):void 0},t.prototype.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return r(g.FormDivider,{className:x.default.connectedAccountSeparator})},t.prototype.render=function(){var e=this.props.account,t=c.default.get(e.type);return r("div",{className:x.default.connection,style:{borderColor:t.color,backgroundColor:t.color}},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations(t))},t}(i.PureComponent),Y=function(){var e=this;this.handleReconnect=function(){(0,m.authorize)(e.props.account.type,"User Settings")},this.handleDisconnect=function(){if(F.UNSAFE_PLATFORM_TYPES.has(e.props.account.type))e.props.onDisconnect();else{var t=c.default.get(e.props.account.type);L.default.push(function(n){return i.createElement(p.default,a({title:d.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:t.name}),body:d.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:d.default.Messages.DISCONNECT_ACCOUNT,cancelText:d.default.Messages.CANCEL,onConfirm:e.props.onDisconnect},n))})}},this.handleVisibilityChange=function(t){var n=e.props.account,o=t.currentTarget.checked?1:0;if(F.SAFE_PLATFORM_TYPES.has(n.type)&&!e.state.verified)return e._inProgressVisibility=o,void(0,m.authorize)(n.type);e.setState({visibility:o}),D.default.setVisibility(n.type,n.id,o)},this.handleInProgressVisibilityChange=function(){if(null!=e._inProgressVisibility){var t=e.props.account;D.default.setVisibility(t.type,t.id,e._inProgressVisibility),e._inProgressVisibility=null}},this.handleFriendSyncChange=function(t){var n=e.props.account,o=t.currentTarget.checked;e.setState({friendSync:o}),D.default.setFriendSync(n.type,n.id,o)},this.handleShowActivityChange=function(t){var n=e.props.account,o=t.currentTarget.checked;e.setState({showActivity:o}),D.default.setShowActivity(n.type,n.id,o)}},W=r(v.default,{}),z=(0,l.default)({displayName:"UserSettingsConnections",mixins:[s.default,f.default.LazyStoreListenerMixin(A.default,w.default,P.default,R.default)],getInitialState:function(){return a({descriptionWarning:!1},this.getStateFromStores())},getStateFromStores:function(){return{hide:R.default.hidePersonalInformation,fetching:A.default.isFetching(),accounts:A.default.getAccounts(),notDetectedPlatformTypes:w.default.getNotDetectedPlatformTypes(),detectPlatformAccounts:P.default.detectPlatformAccounts}},componentDidUpdate:function(e,t){var n=this.state.notDetectedPlatformTypes;t.notDetectedPlatformTypes!==n&&this.setState({descriptionWarning:!0})},componentDidMount:function(){D.default.fetch()},handleDisconnect:function(e){var t=e.type,n=e.id;D.default.disconnect(t,n)},handleDetectPlatformAccounts:function(e){U.default.updateRemoteSettings({detectPlatformAccounts:e.currentTarget.checked})},renderConnectCard:function(){var e,t=this.state.descriptionWarning,n=d.default.Messages.CONNECT_ACCOUNT_DESCRIPTION;return t&&(n=r("div",{className:x.default.warning},void 0,d.default.Messages.CONNECT_ACCOUNT_NONE_DETECTED)),r(_.default,{className:(0,u.default)(x.default.accountList,(e={},e[G.default.marginBottom20]=!k.default.embedded,e))},void 0,r(g.FormTitle,{faded:!0,className:G.default.marginBottom4},void 0,d.default.Messages.CONNECT_ACCOUNT_TITLE),r(g.FormText,{className:G.default.marginBottom8},void 0,n),r("div",{className:x.default.connectedAccounts},void 0,c.default.filter(function(e){return e.enabled}).map(function(e){return r(y.default,{type:e.type,location:"User Settings",className:x.default.accountBtn,innerClassName:x.default.accountBtnInner},e.type)})))},renderDetectPlatformAccounts:function(){var e=this.state.detectPlatformAccounts;if(k.default.embedded)return r(N.default,{value:e,onChange:this.handleDetectPlatformAccounts,className:(0,u.default)(G.default.marginTop20,G.default.marginBottom20)},void 0,d.default.Messages.DETECT_PLATFORM_ACCOUNTS)},renderConnectionList:function(){var e=this,t=this.state,o=t.fetching,a=t.accounts,i=void 0;return i=o?r(b.default,{className:G.default.marginTop20,type:b.default.Type.SPINNING_CIRCLE}):0===a.length?r(j,{className:G.default.marginTop40},void 0,r(O.EmptyStateImage,{darkSrc:n(7212),lightSrc:n(7211),width:230,height:220}),r(O.EmptyStateText,{note:d.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,d.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):a.map(function(t,n){return r(H,{account:t,onDisconnect:e.handleDisconnect.bind(e,t)},n)}),r(g.FormItem,{},void 0,i)},render:function(){return this.state.hide?W:r(g.FormSection,{className:x.default.connections,tag:g.FormTitleTags.H2,title:d.default.Messages.CONNECTIONS},void 0,this.renderConnectCard(),this.renderDetectPlatformAccounts(),this.renderConnectionList())}});t.default=z,e.exports=t.default},7214:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(3)),l=y(n(31)),s=y(n(528)),u=y(n(1010)),d=y(n(6)),f=y(n(283)),c=y(n(941)),p=n(75),h=y(p),m=y(n(940));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onFieldChange=function(e,t){var n;s.default.updateRemoteSettings(((n={})[e]=t,n))},t.prototype.renderTTSControl=function(){var e=this;if(u.default.supported)return a(c.default,{},void 0,a(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.FORM_LABEL_TTS),a(m.default,{className:"margin-top-8",value:this.props.enableTTSCommand,onChange:function(t){return e.onFieldChange("enableTTSCommand",t.currentTarget.checked)}},void 0,d.default.Messages.ALLOW_TTS_COMMAND))},t.prototype.render=function(){var e=this,t=this.props,n=t.inlineEmbedMedia,o=t.inlineAttachmentMedia,r=t.gifAutoPlay,i=t.renderEmbeds,l=t.renderReactions,s=t.animateEmoji,u=t.convertEmoticons;return a(c.default,{tag:p.Tags.H2,title:d.default.Messages.TEXT_AND_IMAGES},void 0,a(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.INLINE_MEDIA_LABEL),a(m.default,{className:"margin-top-8 margin-bottom-20",value:n,onChange:function(t){return e.onFieldChange("inlineEmbedMedia",t.currentTarget.checked)}},void 0,d.default.Messages.INLINE_EMBED_MEDIA),a(m.default,{className:"margin-top-8 margin-bottom-20",value:o,note:d.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:function(t){return e.onFieldChange("inlineAttachmentMedia",t.currentTarget.checked)}},void 0,d.default.Messages.INLINE_ATTACHMENT_MEDIA),a(m.default,{className:"margin-bottom-40",value:r,onChange:function(t){return e.onFieldChange("gifAutoPlay",t.currentTarget.checked)}},void 0,d.default.Messages.GIF_AUTO_PLAY_LABEL),a(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.RENDER_EMBEDS_LABEL),a(m.default,{className:"margin-top-8 margin-bottom-40",value:i,onChange:function(t){return e.onFieldChange("renderEmbeds",t.currentTarget.checked)}},void 0,d.default.Messages.RENDER_EMBEDS),a(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.EMOJI),a(m.default,{className:"margin-top-8 margin-bottom-20",value:l,onChange:function(t){return e.onFieldChange("renderReactions",t.currentTarget.checked)}},void 0,d.default.Messages.RENDER_REACTIONS),a(m.default,{className:"margin-top-8 margin-bottom-20",value:s,note:d.default.Messages.ANIMATE_EMOJI_NOTE,onChange:function(t){return e.onFieldChange("animateEmoji",t.currentTarget.checked)}},void 0,d.default.Messages.ANIMATE_EMOJI),a(m.default,{className:"margin-bottom-40",value:u,note:f.default.parse(d.default.Messages.CONVERT_EMOTICONS_HELP),onChange:function(t){return e.onFieldChange("convertEmoticons",t.currentTarget.checked)}},void 0,d.default.Messages.CONVERT_EMOTICONS),this.renderTTSControl())},t}(r.PureComponent);t.default=i.default.connectStores([l.default],function(){return{inlineAttachmentMedia:l.default.inlineAttachmentMedia,inlineEmbedMedia:l.default.inlineEmbedMedia,gifAutoPlay:l.default.gifAutoPlay,renderEmbeds:l.default.renderEmbeds,renderReactions:l.default.renderReactions,animateEmoji:l.default.animateEmoji,enableTTSCommand:l.default.enableTTSCommand,convertEmoticons:l.default.convertEmoticons}})(v),e.exports=t.default},7215:function(e,t,n){"use strict";t.__esModule=!0,t.setDeveloperOptionSettings=function(e){r.default.dispatch({type:i.ActionTypes.DEVELOPER_OPTIONS_UPDATE_SETTINGS,settings:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},7216:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=k(n(8)),s=k(n(9)),u=k(n(1035)),d=k(n(3)),f=k(n(6412)),c=k(n(400)),p=k(n(31)),h=n(7215),m=k(n(38)),y=n(520),v=n(5985),g=k(v),_=n(64),E=k(_),S=k(n(940)),b=k(n(939)),C=k(n(6262)),T=k(n(224)),N=k(n(944)),O=k(n(123)),I=k(n(40)),A=k(n(524)),M=k(n(67)),R=n(0),P=k(n(5557)),w=k(n(5558)),L=k(n(387)),D=k(n(519)),U=k(n(5812));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=["discord_web","discord_marketing"],V=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function H(e){var t=this;return new Promise(function(n){m.default.push(function(o){var a=function(e){o.onClose(),n(e)};return i.createElement(O.default,o,r(O.default.Header,{},void 0,r(y.FormTitle,{tag:y.FormTitle.Tags.H4},void 0,"Choose A Project to Override")),r(O.default.Content,{},void 0,r(I.default,{},void 0,e.map(function(e){return r(I.default.Child,{grow:0},e,r(E.default,{value:e,look:E.default.Looks.GHOST,color:E.default.Colors.GREEN,onClick:a.bind(t,e)},void 0,e))}))),r(O.default.Footer,{},void 0,r(E.default,{color:E.default.Colors.PRIMARY,look:E.default.Looks.LINK,onClick:a.bind(t,null)},void 0,"Nevermind")))})})}var Y=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=G(this,e.call.apply(e,[this].concat(r))),o.handleRemoveBuildOverride=function(){o.props.onBuildOverrideRemoved(o.props.project)},o.handleOverrideIdChanged=function(e){o.props.onBuildOverrideUpdated(o.props.project,{id:e})},o.handleOverrideTypeChanged=function(e){o.props.onBuildOverrideUpdated(o.props.project,{type:e.value,id:""})},G(o,n)}return B(t,e),t.prototype.render=function(){var e,t=this.props,n=t.project,o=t.overrideType,a=t.overrideId,i=t.disabled,l=t.error,u="branch"===o?"Branch Name":"Build ID";return r(I.default,{direction:I.default.Direction.VERTICAL,className:(0,s.default)(U.default.buildOverrideGroup,D.default.marginBottom20,w.default.card,U.default.row)},void 0,r("button",{className:(0,s.default)(P.default.button,U.default.removeBuildOverride,(e={},e[U.default.removeBuildOverrideDisabled]=i,e)),onClick:i?null:this.handleRemoveBuildOverride},void 0,"Remove Build Override"),r(I.default,{className:D.default.marginBottom8},void 0,r(I.default.Child,{basis:"50%"},void 0,r(y.FormItem,{title:"Override Type",className:U.default.item},void 0,r(N.default,{options:V,onChange:this.handleOverrideTypeChanged,value:o,disabled:i,clearable:!1,searchable:!1}))),r(I.default.Child,{basis:"50%"},void 0,r(y.FormItem,{title:u,className:U.default.item},void 0,r(b.default,{value:a,onChange:this.handleOverrideIdChanged,disabled:i})))),r(I.default.Child,{},void 0,l&&r(y.FormText,{className:U.default.item,style:{color:R.Colors.STATUS_RED},type:y.FormText.Types.DESCRIPTION},void 0,l),r(y.FormText,{className:U.default.item,type:y.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",r("code",{},void 0,n)," project.")))},t}(i.Component),W=r(v.EmptyStateText,{},void 0,"You have no build overrides configured."),z=r(y.FormDivider,{}),K=function(e){function t(){var n,o,r=this;x(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=o=G(this,e.call.apply(e,[this].concat(u))),o.state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1},o.handleAddBuildOverride=F(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(o.getAvailableProjects());case 2:if(null!=(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:i=a({},o.state.buildOverrides,((t={})[n]={type:"branch",id:""},t)),o.setState({buildOverrides:i});case 7:case"end":return e.stop()}},e,r)})),o.handleBuildOverrideUpdated=function(e,t){var n,r=o.state.buildOverrides[e]||{},i=a({},r,t),l=a({},o.state.buildOverrides,((n={})[e]=i,n));o.setState({buildOverrides:l})},o.handleBuildOverrideRemoved=function(e){var t=a({},o.state.buildOverrides);delete t[e],o.setState({buildOverrides:t})},o.handleDiscardChanges=function(){o.setState({buildOverrides:l.default.cloneDeep(o.state.loadedBuildOverrides),errors:{},didSave:!1})},o.handleSaveChanges=F(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({saving:!0}),e.next=3,f.default.put(o.state.buildOverrides);case 3:200===(t=e.sent).status?o.setState({buildOverrides:t.body,loadedBuildOverrides:l.default.cloneDeep(t.body),errors:{},didSave:!0,saving:!1}):400===t.status?o.setState({errors:t.body,saving:!1,didSave:!1}):o.setState({saving:!1,didSave:!1});case 5:case"end":return e.stop()}},e,r)})),o.handleLinkGeneration=function(){var e=o.state.buildOverrides;m.default.push(function(t){return i.createElement($,a({},t,{buildOverrides:e}))})},G(o,n)}return B(t,e),t.prototype.refreshBuildOverrides=function(){var e=F(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.get();case 3:t=e.sent,this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:l.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!l.default.isEqual(t,n)},t.prototype.componentDidMount=function(){this.refreshBuildOverrides()},t.prototype.getAvailableProjects=function(){var e=Object.keys(this.state.buildOverrides);return l.default.without.apply(l.default,[j].concat(e))},t.prototype.renderEmpty=function(){return r(g.default,{theme:p.default.theme,className:(0,s.default)(D.default.marginTop40,D.default.marginBottom20)},void 0,r(v.EmptyStateImage,{darkSrc:n(6682),lightSrc:n(6681),width:294,height:192}),W)},t.prototype.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,o=t.saving,a=t.errors;return l.default.map(n,function(t,n){return r(Y,{project:n,overrideType:t.type,overrideId:t.id,disabled:o,error:a[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)})},t.prototype.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:function(){return location.reload()},look:E.default.Looks.GHOST,color:E.default.Colors.PRIMARY},void 0,"Reload App")))},t.prototype.renderLinkButton=function(){var e=this.state.buildOverrides;return 0===Object.keys(e).length?null:r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:this.handleLinkGeneration,look:E.default.Looks.GHOST,color:E.default.Colors.BRAND},void 0,"Generate Public Link")))},t.prototype.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state.saving;return r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:this.handleSaveChanges,submitting:e,look:E.default.Looks.GHOST,color:E.default.Colors.GREEN},void 0,"Save Build Overrides")),r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:this.handleDiscardChanges,disabled:e,look:E.default.Looks.GHOST,color:E.default.Colors.RED},void 0,"Discard Changes")))},t.prototype.render=function(){var e=this.state,t=e.loading,n=e.saving,o=e.buildOverrides,a=void 0;a=t?r(T.default,{className:D.default.marginTop20}):0===Object.keys(o).length?this.renderEmpty():this.renderItems();var i=!n&&!t&&this.getAvailableProjects().length>0;return r(y.FormSection,{className:D.default.marginTop60},void 0,r(I.default,{className:D.default.marginBottom20},void 0,r(I.default.Child,{},void 0,r(y.FormTitle,{tag:y.FormTitleTags.H2},void 0,"Build Overrides")),r(I.default.Child,{grow:0},void 0,r(E.default,{size:_.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!i},void 0,"Add Build Override"))),z,r(I.default,{direction:I.default.Direction.VERTICAL},void 0,a,r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))},t}(i.Component),$=function(e){function t(){var n,o,a=this;x(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=G(this,e.call.apply(e,[this].concat(i))),o.state={ttlSeconds:3600,userIds:[],userIdEntry:"",removeUserIdEntry:"",publicLink:" ",userIdEntryError:null,statusText:null,statusTextColor:M.default.Colors.RED},o.setUserEntryError=function(e){o.setState({userIdEntryError:e})},o.setStatusMessage=function(e,t){o.setState({statusText:e,statusTextColor:t||M.default.Colors.RED})},o.handleUserIDEntry=function(e){if(e=e.trim(),!/^\d+$/.test(e))return o.setUserEntryError("User IDs are numbers!");o.setState({userIdEntry:e})},o.handleRemoveUserIDEntry=function(e){o.setState({removeUserIdEntry:e})},o.handleUserEnter=function(e){e.charCode===R.KeyboardKeys.ENTER&&o.handleAddUser()},o.handleAddUser=function(){var e=o.state,t=e.userIds,n=e.userIdEntry;return 0===n.length?o.setUserEntryError("Enter a valid user ID!"):t.indexOf(n)>=0?o.setUserEntryError("You already added that user!"):void o.setState({userIds:[].concat(t,[n]),userIdEntry:""})},o.handleRemoveUser=function(e){var t=o.state.userIds;t=t.filter(function(t){return t!==e.value}),o.setState({userIds:t})},o.handleExpirationChange=function(e){o.setState({ttlSeconds:e.value})},o.generatePayload=function(){return{overrides:o.props.buildOverrides,meta:{release_channel:window.GLOBAL_ENV.RELEASE_CHANNEL,ttl_seconds:o.state.ttlSeconds,user_ids:o.state.userIds}}},o.handleGenerateLink=F(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setStatusMessage(null),t=o.generatePayload(),e.next=4,f.default.getPublicLink(t);case 4:!1!==(n=e.sent).error?o.setStatusMessage(n.error.toString(),M.default.Colors.RED):(o.setState({publicLink:n.url.toString()}),0===t.meta.user_ids.length&&o.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",M.default.Colors.YELLOW));case 6:case"end":return e.stop()}},e,a)})),G(o,n)}return B(t,e),t.prototype.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,o=t.userIdEntry,a=t.userIdEntryError,i=t.userIds,l=f.default.EXPIRATION_OPTIONS.find(function(e){return e.value===n}),s=i.map(function(e){return{label:e,value:e}});return r(I.default,{direction:I.default.Direction.VERTICAL},void 0,r(y.FormItem,{title:"Expire After",className:D.default.marginBottom20},void 0,r(N.default,{value:l,clearable:!1,searchable:!1,options:f.default.EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),r(y.FormItem,{title:"Add User ID (optional)",className:D.default.marginBottom20},void 0,r(I.default,{direction:I.default.Direction.HORIZONTAL},void 0,r(I.default.Child,{wrap:!0,basis:"90%"},void 0,r(b.default,{autoFocus:!0,value:o,onKeyPress:this.handleUserEnter,error:a,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),r(E.default,{className:_.ButtonLooks.GHOST,onClick:this.handleAddUser},void 0,"Add"))),r(y.FormItem,{title:"Remove User ID",className:D.default.marginBottom20},void 0,r(N.default,{options:s,onChange:this.handleRemoveUser,disabled:0===i.length})))},t.prototype.renderPayloadBlock=function(){var e=this.generatePayload(),t=u.default.highlight("json",JSON.stringify(e,null,2),!0);return r(A.default,{},void 0,r("pre",{},void 0,r("code",{className:"hljs scroller "+t.language+" "+L.default.scrollbarGhost+" "+U.default.codebox,dangerouslySetInnerHTML:{__html:t.value}})))},t.prototype.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,o=e.publicLink;return r("div",{},void 0,r(y.FormItem,{title:"Signed Link"},void 0,r(I.default,{},void 0,r(I.default.Child,{wrap:!0,basis:"75%"},void 0,r(C.default,{value:o})),r(E.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),r(M.default,{color:t,className:D.default.marginBottom8+" "+D.default.marginTop8},void 0,!1!==n?n:""))},t.prototype.render=function(){return r(O.default,{size:O.default.Sizes.LARGE},void 0,r(O.default.Header,{},void 0,r(y.FormTitle,{tag:y.FormTitle.Tags.H4},void 0,"Generate Public Build Override Link"),r(O.default.CloseButton,{onClick:this.props.onClose})),r(O.default.Content,{},void 0,r(I.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))},t}(i.Component),q=d.default.connectStores([c.default],function(){return{isTracingRequests:c.default.isTracingRequests,isForcedCanary:c.default.isForcedCanary,isLoggingGatewayEvents:c.default.isLoggingGatewayEvents,isLoggingOverlayEvents:c.default.isLoggingOverlayEvents}})(function(e){var t=e.isTracingRequests,n=e.isForcedCanary,o=e.isLoggingGatewayEvents,a=e.isLoggingOverlayEvents;return r(y.FormSection,{title:"Developer Flags",tag:y.FormTitleTags.H2},void 0,r(S.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({trace:t.checked})}},void 0,"Enable Tracing Requests"),r(S.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({canary:t.checked})}},void 0,"Enable Forced Canary"),r(S.default,{value:o,note:"Logs all incoming and outgoing gateway events to the developer console",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({logGatewayEvents:t.checked})}},void 0,"Enable Logging of Gateway Events to Console"),r(S.default,{value:a,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({logOverlayEvents:t.checked})}},void 0,"Enable Logging of Overlay RPC Events & Commands"))}),X=r(i.Fragment,{},void 0,r(q,{}),r(K,{})),Q=function(e){function t(){return x(this,t),G(this,e.apply(this,arguments))}return B(t,e),t.prototype.render=function(){return X},t}(i.PureComponent);t.default=Q,e.exports=t.default},7217:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(43)),l=y(n(57)),s=y(n(3)),u=n(520),d=y(n(40)),f=y(n(944)),c=y(n(534)),p=y(n(126)),h=y(n(6059)),m=y(n(5813));function y(e){return e&&e.__esModule?e:{default:e}}var v=a(u.FormDivider,{className:"margin-top-20"}),g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleToggleVisibility=function(){o.setState({open:!o.state.open})},o.state={open:n.open},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.open,t=this.props,n=t.title,o=t.children;return a("div",{className:m.default.group},void 0,a(u.FormSection,{},void 0,a(u.FormTitle,{tag:u.FormTitleTags.H3,className:m.default.title,onClick:this.handleToggleVisibility},void 0,n),e?o:null),v)},t}(r.Component),_=a(u.FormSection,{},void 0,a(u.FormText,{},void 0,"No Experiments are currently running")),E=(0,i.default)({displayName:"UserSettingsModalExperiments",mixins:[l.default,s.default.LazyStoreListenerMixin(p.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{experiments:p.default.getRegisteredExperiments(),overrides:p.default.getExperimentOverrides()}},renderExperimentGroup:function(e,t){var n=this.state.experiments[e],o=n.description;return Array.isArray(o)||(o=[o]),o=o.map(function(e,t){return a(u.FormText,{type:u.FormTextTypes.DESCRIPTION},t,e)}),a(g,{title:n.title,open:null!=this.state.overrides[e]},t,a("div",{},void 0,this.renderExperimentTypes(e,n.experiments),a("div",{className:"margin-top-4"},void 0,o)))},renderExperimentTypes:function(e,t){var n=Object.keys(t),o=this.state.overrides[e];return a(d.default,{},void 0,a(d.default.Child,{},void 0,a(u.FormItem,{title:"Type Override"},void 0,a(f.default,{value:o?o.type:"",clearable:!0,searchable:!1,options:this.getExperimentTypes(n),onChange:function(t){return c.default.overrideType(e,t&&t.value)}}))),a(d.default.Child,{},void 0,a(u.FormItem,{title:"Bucket Override"},void 0,a(f.default,{value:o?o.bucket:"",disabled:!o||!o.type,clearable:!0,searchable:!1,options:this.getExperimentBuckets(t[o?o.type:""]),onChange:function(t){return c.default.overrideBucket(e,t&&t.value)}}))))},getExperimentTypes:function(e){return e.map(function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})},getExperimentBuckets:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{label:h.default.getExperimentBucketName(e),value:e}})},renderEmpty:function(){return _},render:function(){var e=Object.keys(this.state.experiments),t=void 0;return t=e.length?e.map(this.renderExperimentGroup):this.renderEmpty(),a(u.FormSection,{tag:u.FormTitleTags.H2,title:"Experiments"},void 0,t)}});t.default=E,e.exports=t.default},7218:function(e,t,n){e.exports=n.p+"f8696a3854655998a24c219403420867.svg"},7219:function(e,t,n){e.exports=n.p+"cdea41ede63f61153e4a3c0531fa3873.svg"},7220:function(e,t,n){e.exports=n.p+"b73a63cb14a22dd24f0f8da07b186335.svg"},7221:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1,s=null,u=224,d=!1;function f(){i=!0}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getProps=function(){return{working:i,valid:l,error:s}},t.prototype.getCountryId=function(){return u},t.prototype.getCountrySelectorOpened=function(){return d},t}(o.default.Store);t.default=new c(a.default,{VERIFICATION_ADDING_PHONE:function(e){return f()},VERIFICATION_VERIFYING_PHONE:function(e){return f()},VERIFICATION_ADD_PHONE_SUCCESS:function(e){return s=null,i=!1,void(l=!0)},VERIFICATION_ADD_PHONE_FAILURE:function(e){var t=e.error;s=t,i=!1,l=!1},VERIFICATION_VERIFY_PHONE_SUCCESS:function(e){return s=null,void(i=!1)},VERIFICATION_ADD_PHONE_RESET:function(e){return s=null,i=!1,void(l=!1)},VERIFICATION_VERIFY_PHONE_FAILURE:function(e){var t=e.error;s=t,i=!1},VERIFICATION_SELECT_COUNTRY:function(e){var t=e.id;u!==t&&(u=t)},VERIFICATION_OPEN_COUNTRY_SELECTOR:function(e){d=!0}}),e.exports=t.default},7222:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(40)),l=s(n(5816));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(n){u(this,t);var o=d(this,e.call(this,n));return o.handleKeyDown=o.handleKeyDown.bind(o),o.handleChange=o.handleChange.bind(o),o.setCodeBlockRef=o.setCodeBlockRef.bind(o),o}return f(t,e),t.prototype.render=function(){return r.createElement("input",{ref:this.setCodeBlockRef,className:l.default.input,maxLength:1,value:this.props.code,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})},t.prototype.setCodeBlockRef=function(e){this._codeBlockRef=e},t.prototype.focus=function(){this._codeBlockRef&&this._codeBlockRef.focus()},t.prototype.blur=function(){this._codeBlockRef&&this._codeBlockRef.blur()},t.prototype.handleKeyDown=function(e){var t=8===e.which||37===e.which||39===e.which,n=e.which>=48&&e.which<=57||e.keyCode>=96&&e.keyCode<=105;t||n||e.preventDefault();var o=this.props.onKeyDown;o&&o(e)},t.prototype.handleChange=function(e){var t=this.props.onChange;t&&t(e.currentTarget.value)},t}(r.PureComponent);c.defaultProps={autoFocus:!1};var p=function(e){function t(n){u(this,t);var o=d(this,e.call(this,n));return o._codeBlockRefs=new Array(o.props.count),o.state={codes:new Array(n.count)},o}return f(t,e),t.prototype.render=function(){for(var e=this,t=this.state.codes,n=[],o=function(o){o===t.length/2&&n.push(a("div",{className:l.default.spacer},"spacer")),n.push(r.createElement(c,{ref:function(t){return e.setCodeBlockRef(o,t)},key:o,code:t[o],autoFocus:0===o,onChange:function(t){return e.handleChange(o,t)},onKeyDown:function(t){return e.handleKeyDown(o,t)}}))},s=0;s<t.length;s++)o(s);return a(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.CENTER},void 0,n)},t.prototype.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t},t.prototype.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var o=this._codeBlockRefs[n];o&&o.focus()}},t.prototype.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var o=e-1;n[o]="";var a=this._codeBlockRefs[o];a&&a.focus()}},t.prototype.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t},t.prototype.submit=function(e){var t=this.props.onSubmit;t&&t(e)},t}(r.PureComponent);p.defaultProps={count:6},t.default=p,e.exports=t.default},7223:function(e){e.exports=[{code:"+7 840",name:"Abkhazia"},{code:"+93",name:"Afghanistan"},{code:"+355",name:"Albania"},{code:"+213",name:"Algeria"},{code:"+1 684",name:"American Samoa"},{code:"+376",name:"Andorra"},{code:"+244",name:"Angola"},{code:"+1 264",name:"Anguilla"},{code:"+1 268",name:"Antigua and Barbuda"},{code:"+54",name:"Argentina"},{code:"+374",name:"Armenia"},{code:"+297",name:"Aruba"},{code:"+247",name:"Ascension"},{code:"+61",name:"Australia"},{code:"+672",name:"Australian External Territories"},{code:"+43",name:"Austria"},{code:"+994",name:"Azerbaijan"},{code:"+1 242",name:"Bahamas"},{code:"+973",name:"Bahrain"},{code:"+880",name:"Bangladesh"},{code:"+1 246",name:"Barbados"},{code:"+1 268",name:"Barbuda"},{code:"+375",name:"Belarus"},{code:"+32",name:"Belgium"},{code:"+501",name:"Belize"},{code:"+229",name:"Benin"},{code:"+1 441",name:"Bermuda"},{code:"+975",name:"Bhutan"},{code:"+591",name:"Bolivia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+267",name:"Botswana"},{code:"+55",name:"Brazil"},{code:"+246",name:"British Indian Ocean Territory"},{code:"+1 284",name:"British Virgin Islands"},{code:"+673",name:"Brunei"},{code:"+359",name:"Bulgaria"},{code:"+226",name:"Burkina Faso"},{code:"+257",name:"Burundi"},{code:"+855",name:"Cambodia"},{code:"+237",name:"Cameroon"},{code:"+1",name:"Canada"},{code:"+238",name:"Cape Verde"},{code:"+1 345",name:"Cayman Islands"},{code:"+236",name:"Central African Republic"},{code:"+235",name:"Chad"},{code:"+56",name:"Chile"},{code:"+86",name:"China"},{code:"+61",name:"Christmas Island"},{code:"+61",name:"Cocos-Keeling Islands"},{code:"+57",name:"Colombia"},{code:"+269",name:"Comoros"},{code:"+242",name:"Congo"},{code:"+243",name:"Congo, Dem. Rep. of (Zaire)"},{code:"+682",name:"Cook Islands"},{code:"+506",name:"Costa Rica"},{code:"+385",name:"Croatia"},{code:"+53",name:"Cuba"},{code:"+599",name:"Curacao"},{code:"+357",name:"Cyprus"},{code:"+420",name:"Czech Republic"},{code:"+45",name:"Denmark"},{code:"+246",name:"Diego Garcia"},{code:"+253",name:"Djibouti"},{code:"+1 767",name:"Dominica"},{code:"+1 809",name:"Dominican Republic"},{code:"+670",name:"East Timor"},{code:"+56",name:"Easter Island"},{code:"+593",name:"Ecuador"},{code:"+20",name:"Egypt"},{code:"+503",name:"El Salvador"},{code:"+240",name:"Equatorial Guinea"},{code:"+291",name:"Eritrea"},{code:"+372",name:"Estonia"},{code:"+251",name:"Ethiopia"},{code:"+500",name:"Falkland Islands"},{code:"+298",name:"Faroe Islands"},{code:"+679",name:"Fiji"},{code:"+358",name:"Finland"},{code:"+33",name:"France"},{code:"+596",name:"French Antilles"},{code:"+594",name:"French Guiana"},{code:"+689",name:"French Polynesia"},{code:"+241",name:"Gabon"},{code:"+220",name:"Gambia"},{code:"+995",name:"Georgia"},{code:"+49",name:"Germany"},{code:"+233",name:"Ghana"},{code:"+350",name:"Gibraltar"},{code:"+30",name:"Greece"},{code:"+299",name:"Greenland"},{code:"+1 473",name:"Grenada"},{code:"+590",name:"Guadeloupe"},{code:"+1 671",name:"Guam"},{code:"+502",name:"Guatemala"},{code:"+224",name:"Guinea"},{code:"+245",name:"Guinea-Bissau"},{code:"+592",name:"Guyana"},{code:"+509",name:"Haiti"},{code:"+504",name:"Honduras"},{code:"+852",name:"Hong Kong SAR China"},{code:"+36",name:"Hungary"},{code:"+354",name:"Iceland"},{code:"+91",name:"India"},{code:"+62",name:"Indonesia"},{code:"+98",name:"Iran"},{code:"+964",name:"Iraq"},{code:"+353",name:"Ireland"},{code:"+972",name:"Israel"},{code:"+39",name:"Italy"},{code:"+225",name:"Ivory Coast"},{code:"+1 876",name:"Jamaica"},{code:"+81",name:"Japan"},{code:"+962",name:"Jordan"},{code:"+7",name:"Kazakhstan"},{code:"+254",name:"Kenya"},{code:"+686",name:"Kiribati"},{code:"+383",name:"Kosovo"},{code:"+965",name:"Kuwait"},{code:"+996",name:"Kyrgyzstan"},{code:"+856",name:"Laos"},{code:"+371",name:"Latvia"},{code:"+961",name:"Lebanon"},{code:"+266",name:"Lesotho"},{code:"+231",name:"Liberia"},{code:"+218",name:"Libya"},{code:"+423",name:"Liechtenstein"},{code:"+370",name:"Lithuania"},{code:"+352",name:"Luxembourg"},{code:"+853",name:"Macau SAR China"},{code:"+389",name:"Macedonia"},{code:"+261",name:"Madagascar"},{code:"+265",name:"Malawi"},{code:"+60",name:"Malaysia"},{code:"+960",name:"Maldives"},{code:"+223",name:"Mali"},{code:"+356",name:"Malta"},{code:"+692",name:"Marshall Islands"},{code:"+596",name:"Martinique"},{code:"+222",name:"Mauritania"},{code:"+230",name:"Mauritius"},{code:"+262",name:"Mayotte"},{code:"+52",name:"Mexico"},{code:"+691",name:"Micronesia"},{code:"+1 808",name:"Midway Island"},{code:"+373",name:"Moldova"},{code:"+377",name:"Monaco"},{code:"+976",name:"Mongolia"},{code:"+382",name:"Montenegro"},{code:"+1664",name:"Montserrat"},{code:"+212",name:"Morocco"},{code:"+95",name:"Myanmar"},{code:"+264",name:"Namibia"},{code:"+674",name:"Nauru"},{code:"+977",name:"Nepal"},{code:"+31",name:"Netherlands"},{code:"+599",name:"Netherlands Antilles"},{code:"+1 869",name:"Nevis"},{code:"+687",name:"New Caledonia"},{code:"+64",name:"New Zealand"},{code:"+505",name:"Nicaragua"},{code:"+227",name:"Niger"},{code:"+234",name:"Nigeria"},{code:"+683",name:"Niue"},{code:"+672",name:"Norfolk Island"},{code:"+850",name:"North Korea"},{code:"+1 670",name:"Northern Mariana Islands"},{code:"+47",name:"Norway"},{code:"+968",name:"Oman"},{code:"+92",name:"Pakistan"},{code:"+680",name:"Palau"},{code:"+970",name:"Palestinian Territory"},{code:"+507",name:"Panama"},{code:"+675",name:"Papua New Guinea"},{code:"+595",name:"Paraguay"},{code:"+51",name:"Peru"},{code:"+63",name:"Philippines"},{code:"+48",name:"Poland"},{code:"+351",name:"Portugal"},{code:"+1 787",name:"Puerto Rico"},{code:"+974",name:"Qatar"},{code:"+262",name:"Reunion"},{code:"+40",name:"Romania"},{code:"+7",name:"Russia"},{code:"+250",name:"Rwanda"},{code:"+685",name:"Samoa"},{code:"+378",name:"San Marino"},{code:"+966",name:"Saudi Arabia"},{code:"+221",name:"Senegal"},{code:"+381",name:"Serbia"},{code:"+248",name:"Seychelles"},{code:"+232",name:"Sierra Leone"},{code:"+65",name:"Singapore"},{code:"+421",name:"Slovakia"},{code:"+386",name:"Slovenia"},{code:"+677",name:"Solomon Islands"},{code:"+27",name:"South Africa"},{code:"+500",name:"South Georgia and the South Sandwich Islands"},{code:"+82",name:"South Korea"},{code:"+34",name:"Spain"},{code:"+94",name:"Sri Lanka"},{code:"+249",name:"Sudan"},{code:"+597",name:"Suriname"},{code:"+268",name:"Swaziland"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+963",name:"Syria"},{code:"+886",name:"Taiwan"},{code:"+992",name:"Tajikistan"},{code:"+255",name:"Tanzania"},{code:"+66",name:"Thailand"},{code:"+670",name:"Timor Leste"},{code:"+228",name:"Togo"},{code:"+690",name:"Tokelau"},{code:"+676",name:"Tonga"},{code:"+1 868",name:"Trinidad and Tobago"},{code:"+216",name:"Tunisia"},{code:"+90",name:"Turkey"},{code:"+993",name:"Turkmenistan"},{code:"+1 649",name:"Turks and Caicos Islands"},{code:"+688",name:"Tuvalu"},{code:"+1 340",name:"U.S. Virgin Islands"},{code:"+256",name:"Uganda"},{code:"+380",name:"Ukraine"},{code:"+971",name:"United Arab Emirates"},{code:"+44",name:"United Kingdom"},{code:"+1",name:"United States"},{code:"+598",name:"Uruguay"},{code:"+998",name:"Uzbekistan"},{code:"+678",name:"Vanuatu"},{code:"+58",name:"Venezuela"},{code:"+84",name:"Vietnam"},{code:"+1 808",name:"Wake Island"},{code:"+681",name:"Wallis and Futuna"},{code:"+967",name:"Yemen"},{code:"+260",name:"Zambia"},{code:"+255",name:"Zanzibar"},{code:"+263",name:"Zimbabwe"}]},7224:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(9)),s=S(n(8)),u=S(n(6026)),d=S(n(7223)),f=n(64),c=S(f),p=S(n(79)),h=S(n(265)),m=S(n(6686)),y=S(n(40)),v=S(n(6)),g=S(n(5817)),_=S(n(5559)),E=S(n(519));function S(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=r(m.default.Divider,{}),O=function(e){function t(n){b(this,t);var o=C(this,e.call(this,n));return o.state={query:""},o.onChangeQuery=o.onChangeQuery.bind(o),o.onClearQuery=o.onClearQuery.bind(o),o.onClick=o.onClick.bind(o),o}return T(t,e),t.prototype.renderItems=function(){var e=this,t=this.state.query,n=d.default.map(function(e,t){var n=e.code,o=e.name,a=n.split(" ")[0];return{id:t,value:o,children:r(y.default,{className:g.default.countryItem,justify:y.default.Justify.CENTER,align:y.default.Align.CENTER},void 0,r(y.default.Child,{className:g.default.countryName},void 0,o),r(y.default.Child,{className:g.default.countryCode,grow:0,shrink:0},void 0,a))}}),o=(0,s.default)(n).filter(function(e){return 0===t.length||(0,u.default)(t.toLowerCase(),e.value.toLowerCase())}).map(function(t){return i.createElement(m.default.Item,a({key:t.id},t,{onClick:e.onClick}))}).value();return 0===o.length?r(m.default.Empty,{},void 0,v.default.Messages.NONE):r(h.default,{outerClassName:g.default.scrollerWrap,className:g.default.phoneFieldScroller},void 0,o)},t.prototype.render=function(){return r(m.default,{className:(0,l.default)(g.default.phoneFieldPopout,_.default.elevationBorderLow)},void 0,r(m.default.SearchBar,{query:this.state.query,placeholder:v.default.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery}),N,this.renderItems())},t.prototype.onChangeQuery=function(e){this.setState({query:e})},t.prototype.onClearQuery=function(){this.setState({query:""})},t.prototype.onClick=function(e){var t=e.id,n=this.props.onClick;n(t)},t}(i.PureComponent),I=function(e){function t(n){b(this,t);var o=C(this,e.call(this,n)),a=d.default[224].code.split(" "),r=a[0],i=a[1];return o.state={countryCode:r,phone:i||"",open:!1},o.handleSubmit=o.handleSubmit.bind(o),o.handleTogglePopout=o.handleTogglePopout.bind(o),o.handleChange=o.handleChange.bind(o),o.handleKeyPress=o.handleKeyPress.bind(o),o.handleClick=o.handleClick.bind(o),o}return T(t,e),t.prototype.render=function(){var e=this.state,t=e.countryCode,n=e.phone,o=e.open,a=this.props,i=a.className,s=a.submitting,u=t.split("+")[1];return r(y.default,{className:(0,l.default)(g.default.phoneField,_.default.elevationLow,i),align:y.default.Align.CENTER,grow:0},void 0,r(y.default,{className:g.default.countryButton,grow:0,align:y.default.Align.CENTER,onClick:this.handleTogglePopout},void 0,r(y.default,{className:(0,l.default)(g.default.countryCodeContainer,E.default.marginReset),justify:y.default.Justify.CENTER},void 0,r("div",{className:g.default.plusSign},void 0,"+"),r("div",{className:g.default.countryCode},void 0,u)),r(p.default,{name:p.default.Names.CARET,foreground:g.default.phoneFieldExpand,expanded:o,width:16,height:16})),r("input",{className:g.default.inputField,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),r(c.default,{className:g.default.sendButton,size:f.ButtonSizes.SMALL,submitting:s,onClick:this.handleSubmit},void 0,v.default.Messages.SEND),o?r(O,{onClick:this.handleClick}):null)},t.prototype.handleChange=function(e){this.closePopout(),this.setState({phone:e.currentTarget.value})},t.prototype.handleKeyPress=function(e){this.closePopout(),13===e.which&&(e.preventDefault(),this.handleSubmit())},t.prototype.handleSubmit=function(){var e=this.props,t=e.onSubmit,n=e.submitting,o=this.state,a=o.countryCode,r=o.phone;n||t&&t(""+a+r)},t.prototype.handleTogglePopout=function(){this.setState({open:!this.state.open})},t.prototype.handleClick=function(e){var t=d.default[e].code.split(" "),n=t[0],o=t[1];this.setState({open:!1,countryCode:n,phone:o||""})},t.prototype.closePopout=function(){this.state.open&&this.setState({open:!1})},t}(i.PureComponent);t.default=I,e.exports=t.default},7225:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(9)),l=g(n(1001)),s=g(n(123)),u=g(n(40)),d=g(n(7224)),f=g(n(7222)),c=n(64),p=g(c),h=g(n(5815)),m=g(n(946)),y=g(n(519)),v=g(n(6));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._animItem=null,o.state={animated:!1},o.setLottieRef=o.setLottieRef.bind(o),o.handleAddPhone=o.handleAddPhone.bind(o),o.handleVerifyPhone=o.handleVerifyPhone.bind(o),o.handleResendCode=o.handleResendCode.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(201).then(function(t){var o=n(6771);e._animItem=l.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!1,animationData:o})}.bind(null,n)).catch(n.oe)},t.prototype.componentWillUnmount=function(){null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},t.prototype.render=function(){var e=this.props,t=e.error,n=e.working,o=e.validPhone,l=void 0;l=t?a("div",{className:(0,i.default)(h.default.description,h.default.error,y.default.marginBottom20)},void 0,t):a("div",{className:(0,i.default)(h.default.description,y.default.marginBottom20)},void 0,o?v.default.Messages.VERIFICATION_PHONE_DESCRIPTION:v.default.Messages.ENTER_PHONE_DESCRIPTION);var g=void 0;return g=o?a(u.default,{className:h.default.field,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER},void 0,a(f.default,{onSubmit:this.handleVerifyPhone}),a(p.default,{className:y.default.marginTop8,size:c.ButtonSizes.SMALL,look:c.ButtonLooks.LINK,color:c.ButtonColors.PRIMARY,onClick:this.handleResendCode},void 0,v.default.Messages.RESEND_CODE)):a(d.default,{className:h.default.field,onSubmit:this.handleAddPhone,submitting:n}),a(s.default,{className:(0,i.default)(h.default.phoneVerificationModal,m.default.vertical,m.default.alignCenter,m.default.justifyCenter,y.default.marginTop60)},void 0,r.createElement("div",{className:h.default.animationContainer,ref:this.setLottieRef}),a("div",{className:(0,i.default)(h.default.title,y.default.marginBottom8)},void 0,o?v.default.Messages.VERIFICATION_PHONE_TITLE:v.default.Messages.ENTER_PHONE_TITLE),l,g)},t.prototype.setLottieRef=function(e){this._lottieRef=e},t.prototype.handleAddPhone=function(e){this.state.animated||null==this._animItem||(this._animItem.play(),this.setState({animated:!0})),this._phone=e;var t=this.props.onAddPhone;t&&t(e)},t.prototype.handleVerifyPhone=function(e){var t=this.props.onVerifyPhone;t&&t(e)},t.prototype.handleResendCode=function(){var e=this.props.onAddPhone;e&&e(this._phone)},t}(r.PureComponent);t.default=_,e.exports=t.default},7228:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(6)),u=O(n(283)),d=O(n(123)),f=O(n(75)),c=O(n(526)),p=O(n(67)),h=O(n(40)),m=O(n(64)),y=O(n(6409)),v=O(n(6091)),g=O(n(6203)),_=(O(n(88)),O(n(12))),E=O(n(6201)),S=O(n(38)),b=O(n(6202)),C=O(n(6092)),T=n(0),N=O(n(5814));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){var t=e.label,n=e.text,o=e.children,l=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["label","text","children"]);return i.createElement(h.default,a({direction:h.default.Direction.VERTICAL},l),r(f.default,{tag:f.default.Tags.H2},void 0,t),null!=n?r(p.default,{size:p.default.Sizes.MEDIUM,className:N.default.sectionBody},void 0,n):null,r(h.default.Child,{wrap:!0},void 0,o))},M=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=I(this,e.call.apply(e,[this].concat(l))),o.getDownloadFileContents=function(){var e=o.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+s.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")}).join("\r\n");return s.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:o.props.currentUser.email})+"\r\n\r\n"+e},o.handleChangePhoneNumber=function(){o.openPhoneVerificationModal()},o.handleEnableSMS=function(){var e=function(){S.default.push(function(e){return i.createElement(g.default,a({},e,{handleSubmit:function(e){return C.default.enableSMS(e)},title:s.default.Messages.MFA_SMS_ENABLE,actionText:s.default.Messages.MFA_SMS_CONFIRM_ENABLE}))})};null==o.props.currentUser.phone?o.openPhoneVerificationModal({onAddedPhone:e}):e()},I(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(T.UserFlags.MFA_SMS),o=e.hasFlag(T.UserFlags.PARTNER)||e.hasFlag(T.UserFlags.STAFF);return t?r(A,{label:s.default.Messages.MFA_SMS_ENABLE,text:s.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,r(p.default,{size:p.default.Sizes.MEDIUM,className:N.default.sectionBody},void 0,r("strong",{className:N.default.phoneNumber},void 0,s.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),r(m.default,{look:m.default.Looks.LINK,color:m.default.Colors.LINK,size:m.default.Sizes.MIN,className:N.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,s.default.Messages.CHANGE_PHONE_NUMBER)),r(m.default,{onClick:this.handleEnableSMS,disabled:n||o,color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,o?s.default.Messages.MFA_SMS_DISABLED_PARTNER:n?s.default.Messages.MFA_SMS_ALREADY_ENABLED:s.default.Messages.MFA_SMS_ENABLE)):r(A,{label:s.default.Messages.MFA_SMS_ENABLE,text:s.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,r(m.default,{onClick:this.handleEnableSMS,color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL,disabled:o},void 0,o?s.default.Messages.MFA_SMS_DISABLED_PARTNER:s.default.Messages.MFA_SMS_ADD_PHONE))},t.prototype.renderBackupCodesSection=function(){return r(A,{label:s.default.Messages.TWO_FA_DOWNLOAD_CODES,text:s.default.Messages.TWO_FA_BACKUP_CODES_SALES_PITCH},void 0,r(y.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,r(m.default,{color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,s.default.Messages.TWO_FA_DOWNLOAD_CODES)))},t.prototype.renderHeader=function(){return r(d.default.Header,{},void 0,r(h.default.Child,{grow:1,shrink:1},void 0,r(f.default,{tag:f.default.Tags.H4,className:N.default.header},void 0,u.default.parse(s.default.Messages.TWO_FA_SUCCESS_HEADER)),r(p.default,{size:p.default.Sizes.SMALL,className:N.default.subHeader},void 0,s.default.Messages.MFA_SMS_ENABLE_SUBHEADER)),r(h.default.Child,{grow:0},void 0,r(d.default.CloseButton,{onClick:S.default.pop})))},t.prototype.render=function(){return r(d.default,{className:N.default.modal},void 0,this.renderHeader(),r(d.default.Content,{className:N.default.modalInner},void 0,this.renderSMSSection(),r(c.default,{className:N.default.divider}),this.renderBackupCodesSection()))},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b.default.reset(),S.default.push(function(t){return i.createElement(v.default,a({},t,e))})},t}(i.PureComponent);t.default=l.default.connectStores([_.default],function(){return{currentUser:_.default.getCurrentUser(),backupCodes:E.default.getBackupCodes()}})(M),e.exports=t.default},7229:function(e,t,n){e.exports=n.p+"cdec1a78913423b428eb0013e9678244.svg"},7230:function(e,t,n){e.exports=n.p+"0b8465d21b4c248c18f7e0a44fda86cc.png"},7233:function(e,t,n){"use strict";t.__esModule=!0;var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(7232),i=(o=r)&&o.__esModule?o:{default:o};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.componentDidUpdate=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.render=function(){return a.createElement("div",{ref:"QR_REF",style:{padding:8,borderRadius:4,background:this.props.colorLight}})},t}(a.PureComponent);l.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:r.CorrectLevel.M},t.default=l,e.exports=t.default},7234:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(6)),l=S(n(7233)),s=S(n(123)),u=S(n(75)),d=S(n(526)),f=S(n(67)),c=S(n(262)),p=S(n(40)),h=S(n(64)),m=S(n(939)),y=S(n(12)),v=S(n(6092)),g=S(n(38)),_=n(6410),E=S(n(5818));function S(e){return e&&e.__esModule?e:{default:e}}var b=function(e){var t=e.image,n=e.label,o=e.text,r=e.children;return a(p.default,{className:E.default.spacing},void 0,a(p.default,{grow:0,shrink:0,basis:"156px",justify:p.default.Justify.CENTER,className:E.default.image},void 0,t),a(p.default,{direction:p.default.Direction.VERTICAL,justify:p.default.Justify.CENTER},void 0,a("div",{},void 0,a(u.default,{tag:u.default.Tags.H5,className:E.default.headerSpacing},void 0,n),a(c.default,{type:c.default.Types.DESCRIPTION},void 0,o),r)))},C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleActivateSuccess=function(){var e=o.props.onClose;null!=e&&e()},o.handleActivate=o.handleActivate.bind(o),o.handleCodeChange=o.handleCodeChange.bind(o),o.state={code:"",totpSecret:(0,_.generateTotpSecret)(),error:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.totpSecret,o=e.code,r=y.default.getCurrentUser().email,c=(0,_.encodeTotpSecretAsUrl)(r,t),v=a(p.default,{className:E.default.inputContainer,align:p.default.Align.START},void 0,a(m.default,{value:o,className:E.default.input,placeholder:"000 000",maxLength:7,autoComplete:"off",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),a(p.default.Child,{grow:0,shrink:0},void 0,a(h.default,{onClick:this.handleActivate},void 0,i.default.Messages.TWO_FA_ACTIVATE)));return a(s.default,{size:E.default.customWidth},void 0,a(s.default.Header,{},void 0,a(p.default.Child,{grow:1,shrink:1},void 0,a(u.default,{tag:u.default.Tags.H4},void 0,i.default.Messages.TWO_FA_ENABLE),a(f.default,{size:f.default.Sizes.SMALL,className:E.default.subHeader},void 0,i.default.Messages.TWO_FA_ENABLE_SUBHEADER)),a(p.default.Child,{grow:0},void 0,a(s.default.CloseButton,{onClick:g.default.pop}))),a(s.default.Content,{},void 0,a(b,{image:a("img",{alt:"",src:n(7230),width:100,height:100}),label:i.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:i.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),a(d.default,{className:E.default.divider}),a(b,{image:a(l.default,{text:c}),label:i.default.Messages.TWO_FA_QR_LABEL,text:i.default.Messages.TWO_FA_QR_BODY},void 0,a("div",{className:E.default.topSpacing},void 0,a(u.default,{tag:u.default.Tags.H5,className:E.default.headerSpacing},void 0,i.default.Messages.TWO_FA_KEY),a(f.default,{color:f.default.Colors.PRIMARY,size:f.default.Sizes.MEDIUM,family:f.default.Family.CODE,selectable:!0},void 0,t))),a(d.default,{className:E.default.divider}),a(b,{image:a("img",{alt:"",src:n(7229)}),label:i.default.Messages.TWO_FA_LOGIN_LABEL,text:i.default.Messages.TWO_FA_LOGIN_BODY},void 0,v)))},t.prototype.handleCodeChange=function(e){this.setState({code:e})},t.prototype.handleActivate=function(){var e=this,t=this.state,n=t.totpSecret,o=t.code;v.default.enable({code:o,secret:(0,_.encodeTotpSecret)(n)}).then(this.handleActivateSuccess,function(t){return e.setState({error:t.body.message})})},t}(r.PureComponent);C.key=function(){return"mfa-enable-modal"},t.default=C,e.exports=t.default},7237:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(9)),s=n(6410),u=R(n(6)),d=R(n(3)),f=R(n(7234)),c=R(n(7228)),p=R(n(6203)),h=R(n(6409)),m=R(n(6091)),y=n(520),v=R(n(40)),g=R(n(163)),_=R(n(945)),E=n(64),S=R(E),b=(R(n(88)),R(n(6201))),C=R(n(12)),T=R(n(6092)),N=R(n(38)),O=R(n(6202)),I=n(0),A=R(n(5591)),M=R(n(519));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=P(this,e.call.apply(e,[this].concat(l))),o.state={revealed:!1},o.togglePhoneNumberVisibility=function(e){e.preventDefault(),o.setState({revealed:!o.state.revealed})},o.handleEnableMFA=function(){N.default.push(function(e){var t=e.onClose,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["onClose"]);return i.createElement(f.default,r({},n,{onClose:function(){null!=t&&t(),o.handleEnableMFASuccess()}}))})},o.handleEnableMFASuccess=function(){N.default.push(function(e){return i.createElement(c.default,e)})},o.handleDisableMFA=function(){T.default.disable()},o.generateBackupCodes=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:function(e){return T.default.viewBackupCodes(e,!0)},title:u.default.Messages.TWO_FA_GENERATE_CODES,actionText:u.default.Messages.TWO_FA_GENERATE_CODES}),u.default.Messages.TWO_FA_GENERATE_CODES_CONFIRM_TEXT)})},o.viewBackupCodes=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:function(e){return T.default.viewBackupCodes(e)},title:u.default.Messages.TWO_FA_VIEW_BACKUP_CODES,actionText:u.default.Messages.TWO_FA_VIEW_CODES}))})},o.getDownloadFileContents=function(){var e=o.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")}).join("\r\n");return u.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:o.props.currentUser.email})+"\r\n\r\n"+e},o.handleChangePhoneNumber=function(){o.openPhoneVerificationModal()},o.handleEnableSMS=function(){var e=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:T.default.enableSMS,title:u.default.Messages.MFA_SMS_ENABLE,actionText:u.default.Messages.MFA_SMS_CONFIRM_ENABLE}))})};null==o.props.currentUser.phone?o.openPhoneVerificationModal({onAddedPhone:e}):e()},o.handleDisableSMS=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:T.default.disableSMS,title:u.default.Messages.MFA_SMS_REMOVE,actionText:u.default.Messages.MFA_SMS_CONFIRM_REMOVE}),u.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)})},P(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)},t.prototype.renderMFASMS=function(){var e=this.state.revealed,t=this.props,n=t.currentUser,o=t.togglingSMS,r=null!=n.phone,i=n.hasFlag(I.UserFlags.MFA_SMS),s=void 0,d=void 0;if(r||i){var f=e?n.phone:this.maskPhoneNumber(n.phone);d=a(y.FormText,{type:y.FormText.Types.DESCRIPTION,className:M.default.marginBottom8},void 0,u.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:f}),a(g.default,{onClick:this.togglePhoneNumberVisibility,className:A.default.phoneRevealer},void 0,e?u.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:u.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(i)s=a(v.default,{className:r?"":M.default.marginTop8},void 0,a(S.default,{color:S.default.Colors.RED,look:S.default.Looks.OUTLINED,size:S.default.Sizes.SMALL,submitting:o,onClick:this.handleDisableSMS},void 0,u.default.Messages.MFA_SMS_REMOVE));else{var c=n.hasFlag(I.UserFlags.STAFF)||n.hasFlag(I.UserFlags.PARTNER);s=a(v.default,{className:r?"":M.default.marginTop8},void 0,a(S.default,{onClick:this.handleEnableSMS,size:S.default.Sizes.SMALL,submitting:o,disabled:c},void 0,c?u.default.Messages.MFA_SMS_DISABLED_PARTNER:u.default.Messages.MFA_SMS_ENABLE),r?a(S.default,{onClick:this.handleChangePhoneNumber,color:S.default.Colors.PRIMARY,size:S.default.Sizes.SMALL,look:S.default.Looks.LINK},void 0,u.default.Messages.CHANGE_PHONE_NUMBER):null)}return a(y.FormSection,{className:(0,l.default)(M.default.marginBottom40,M.default.marginTop40),title:u.default.Messages.MFA_SMS_AUTH},void 0,a(y.FormText,{type:y.FormText.Types.DESCRIPTION},void 0,u.default.Messages.MFA_SMS_AUTH_SALES_PITCH),d,s)},t.prototype.renderEnabled=function(){var e=this.props.backupCodes,t=a(S.default,{onClick:this.viewBackupCodes,size:S.default.Sizes.SMALL},void 0,u.default.Messages.TWO_FA_VIEW_BACKUP_CODES),o=void 0;if(e.length){t=a(h.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",className:"btn btn-primary"},void 0,a(S.default,{size:S.default.Sizes.SMALL},void 0,u.default.Messages.TWO_FA_DOWNLOAD_CODES));var r=function(e){return e.map(function(e){var t=e.consumed,n=e.code;return a("li",{className:M.default.marginBottom20},n,a(_.default,{readOnly:!0,className:A.default.codeCheckbox,value:t},void 0,a("span",{className:A.default.code},void 0,n.substr(0,4)+"-"+n.substr(4))))})};o=a(y.FormSection,{title:u.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,a(y.FormText,{type:y.FormText.Types.DESCRIPTION,className:M.default.marginBottom20},void 0,u.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),a(v.default,{},void 0,a(v.default.Child,{},void 0,a("ul",{className:A.default.checkboxGroup},void 0,r(e.slice(0,e.length/2)))),a(v.default.Child,{},void 0,a("ul",{className:A.default.checkboxGroup},void 0,r(e.slice(e.length/2))))),a("div",{},void 0,a(S.default,{onClick:this.generateBackupCodes,look:E.ButtonLooks.LINK,size:E.ButtonSizes.MIN},void 0,u.default.Messages.TWO_FA_GENERATE_CODES)),a(y.FormDivider,{className:M.default.marginTop20}))}return a(y.FormSection,{},void 0,a(y.FormTitle,{className:(0,l.default)(A.default.isEnabled,M.default.marginTop4,M.default.marginBottom8)},void 0,a("img",{alt:"",className:(0,l.default)(A.default.lockIcon),src:n(7220)}),u.default.Messages.TWO_FA_ENABLED),a(v.default,{justify:v.default.Justify.START,className:M.default.marginBottom20},void 0,a(v.default.Child,{wrap:!0,grow:0},void 0,t),a(v.default.Child,{wrap:!0},void 0,a(S.default,{onClick:this.handleDisableMFA,size:S.default.Sizes.SMALL,color:E.ButtonColors.RED,look:E.ButtonLooks.OUTLINED},void 0,u.default.Messages.TWO_FA_REMOVE))),o,this.renderMFASMS())},t.prototype.renderDisabled=function(){return a(y.FormSection,{},void 0,a(y.FormText,{type:y.FormText.Types.DESCRIPTION,className:M.default.marginBottom20},void 0,u.default.Messages.TWO_FA_SALES_PITCH),a(y.FormItem,{},void 0,a(S.default,{onClick:this.handleEnableMFA,size:E.ButtonSizes.SMALL},void 0,u.default.Messages.TWO_FA_ENABLE)))},t.prototype.render=function(){var e=this.props.currentUser;return s.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():a(y.FormText,{type:y.FormText.Types.DESCRIPTION},void 0,u.default.Messages.TWO_FA_NOT_VERIFIED):a(y.FormText,{type:y.FormText.Types.DESCRIPTION},void 0,u.default.Messages.TWO_FA_USE_DESKTOP_APP)},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O.default.reset(),N.default.push(function(t){return i.createElement(m.default,r({},t,e))})},t}(i.PureComponent);t.default=d.default.connectStores([C.default,b.default],function(){return{currentUser:C.default.getCurrentUser(),togglingSMS:b.default.togglingSMS}})(w),e.exports=t.default},7238:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=z(n(3)),s=z(n(6)),u=z(n(9)),d=z(n(947)),f=z(n(6132)),c=z(n(164)),p=z(n(6203)),h=z(n(6001)),m=n(79),y=z(m),v=z(n(142)),g=z(n(7237)),_=z(n(524)),E=z(n(939)),S=n(64),b=z(S),C=n(520),T=z(n(67)),N=z(n(40)),O=z(n(87)),I=z(n(6408)),A=z(n(81)),M=z(n(536)),R=z(n(12)),P=z(n(6201)),w=z(n(144)),L=z(n(6407)),D=z(n(31)),U=z(n(26)),k=z(n(6092)),F=z(n(38)),x=z(n(6015)),G=n(544),B=n(962),j=z(n(522)),V=n(0),H=z(n(5591)),Y=z(n(519)),W=z(n(561));function z(e){return e&&e.__esModule?e:{default:e}}var K=r(h.default,{}),$=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return q.call(o),o.state={multiInputFocused:!0,discriminatorError:null,passwordError:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){k.default.clearBackupCodes(),(0,B.accountDetailsClose)()},t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.renderPasswordChanger=function(){var e=this.props,t=e.isEditingPassword,n=e.accountInfo;return t?r(C.FormItem,{className:Y.default.marginTop20,title:s.default.Messages.FORM_LABEL_NEW_PASSWORD,required:!0},void 0,r(E.default,{name:"newPassword",type:"password",value:null!=n?n.newPassword:"",onChange:this.handleChangeProfileField,error:this.getError("new_password")})):r(C.FormItem,{className:Y.default.marginTop20},void 0,r(b.default,{onClick:this.startEditingPassword,color:S.ButtonColors.PRIMARY,look:S.ButtonLooks.LINK,size:S.ButtonSizes.MIN},void 0,s.default.Messages.CHANGE_PASSWORD_LINK))},t.prototype.renderUsernameDiscriminator=function(){var e,t=this,n=this.props,o=n.currentUser,a=n.accountInfo,i=this.state.discriminatorError,l=this.getError("username");return i=i||this.getError("discriminator"),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_USERNAME,className:Y.default.marginBottom20,required:!0},void 0,r("div",{className:W.default.inputWrapper},void 0,r("div",{className:(0,u.default)(W.default.input,H.default.multiInput,(e={},e[W.default.error]=l||i,e[W.default.focused]=this.state.multiInputFocused,e))},void 0,r(E.default,{name:"username",value:a.username||"",onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},autoFocus:!0,className:H.default.multiInputFirst,inputClassName:H.default.multiInputField}),r(E.default,{name:"discriminator",maxLength:4,value:a.discriminator,onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},inputPrefix:"#",disabled:!M.default.canEditDiscriminator(o),className:H.default.multiInputLast,inputClassName:H.default.multiInputField}),M.default.canEditDiscriminator(o)?null:r(v.default,{text:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,position:"bottom"},void 0,r(O.default,{tag:"span",className:H.default.questionMark,onClick:function(){return j.default.setSection(V.UserSettingsSections.PREMIUM)}},void 0,r(y.default,{name:m.IconNames.QUESTION_MARK,className:H.default.icon})))),l?r("div",{className:W.default.errorMessage},void 0,l):null,i?r("div",{className:W.default.errorMessage},void 0,i):null))},t.prototype.renderEditing=function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=this.props,a=o.formState,i=o.accountInfo,l=o.claimed,d=o.verified,c=o.currentUser,p=this.state.passwordError,h=d&&n?this.renderPasswordChanger():null;return r(_.default,{className:(0,u.default)(H.default.userInfoEditing,(e={},e[H.default.danger]=!l,e[H.default.warning]=!d,e)),editable:!0},void 0,r(N.default,{},void 0,r(N.default.Child,{grow:0,className:H.default.avatarColumn},void 0,r(f.default,{showIcon:!0,avatar:i.avatar,size:V.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(e){var t={id:c.id,avatar:e,discriminator:c.discriminator},n=A.default.hasAnimatedAvatar(t)?"gif":"png";return A.default.getUserAvatarURL(t,n)}}),r(T.default,{color:T.default.Colors.RED,className:Y.default.marginTop8},void 0,this.getError("avatar"))),r(N.default.Child,{},void 0,this.renderUsernameDiscriminator(),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_EMAIL,className:Y.default.marginBottom20,required:!0},void 0,r(E.default,{name:"email",value:i.email||"",onChange:this.handleChangeProfileField,error:this.getError("email")})),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_CURRENT_PASSWORD,required:!0},void 0,r(E.default,{name:"password",type:"password",value:i.password||"",onChange:this.handleChangeProfileField,error:p||this.getError("password")})),h)),r(C.FormDivider,{className:(0,u.default)(Y.default.marginTop20,Y.default.marginBottom20)}),r(N.default,{justify:N.default.Justify.END,align:N.default.Align.CENTER},void 0,r(N.default.Child,{wrap:!0,grow:0},void 0,r(b.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!0)}},void 0,s.default.Messages.DELETE_ACCOUNT)),r(N.default,{grow:1},void 0,l?r(b.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!1)}},void 0,s.default.Messages.DISABLE_ACCOUNT):null),r(N.default.Child,{wrap:!0,grow:0},void 0,r("div",{},void 0,l?r(b.default,{look:S.ButtonLooks.LINK,color:S.ButtonColors.PRIMARY,size:S.ButtonSizes.MIN,onClick:this.handleCancelEditing},void 0,s.default.Messages.CANCEL):null)),r(N.default.Child,{wrap:!0,grow:0},void 0,r(b.default,{color:S.ButtonColors.GREEN,size:S.ButtonSizes.SMALL,onClick:this.handleSaveProfile,submitting:a===V.FormStates.SUBMITTING},void 0,s.default.Messages.USER_SETTINGS_SAVE))))},t.prototype.renderViewing=function(){var e,t=this.props,n=t.currentUser,o=t.verified;return r(_.default,{className:(0,u.default)(H.default.userInfoViewing,(e={},e[H.default.warning]=!o,e))},void 0,r(N.default,{},void 0,r(N.default.Child,{grow:0},void 0,r("div",{},void 0,r(d.default,{user:n,size:"xxlarge",animate:!0}))),r(N.default.Child,{},void 0,r(C.FormItem,{className:Y.default.marginBottom20},void 0,r(C.FormTitle,{faded:!0,className:Y.default.marginBottom4},void 0,s.default.Messages.FORM_LABEL_USERNAME),r(T.default,{className:H.default.viewBody,selectable:!0},void 0,n.toString(),r("span",{style:{opacity:.5}},void 0,"#",n.discriminator))),r(C.FormItem,{},void 0,r(C.FormTitle,{faded:!0,className:Y.default.marginBottom4},void 0,s.default.Messages.FORM_LABEL_EMAIL),r(T.default,{className:H.default.viewBody,selectable:!0},void 0,n.email)))),r(b.default,{className:H.default.userInfoViewingButton,size:S.ButtonSizes.SMALL,onClick:this.startEditingProfile},void 0,s.default.Messages.EDIT))},t.prototype.renderAccountSettings=function(){var e=this.props,t=e.verified,o=e.claimed,a=e.isEditingProfile,i=void 0,l=void 0;if(o){if(!t){var u=r("section",{},void 0,r("div",{className:Y.default.marginBottom8},void 0,s.default.Messages.USER_SETTINGS_UNVERIFIED_ACCOUNT_BODY),r(I.default,{look:S.ButtonLooks.INVERTED,size:S.ButtonSizes.SMALL,color:b.default.Colors.YELLOW}));l=r(C.FormNotice,{type:C.FormNotice.Types.WARNING,className:Y.default.marginBottom8,imageData:{src:n(6406),width:60,height:60},title:s.default.Messages.UNVERIFIED_ACCOUNT_TITLE,body:u})}}else l=r(C.FormNotice,{className:Y.default.marginBottom8,imageData:{src:n(6406),width:60,height:60},title:s.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:s.default.Messages.UNCLAIMED_ACCOUNT_BODY.format()}),i=this.renderEditing(!1);return null==i&&(i=a?this.renderEditing():this.renderViewing()),r(C.FormSection,{tag:C.FormTitleTags.H2,title:s.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:H.default.userSettingsAccount},void 0,l,i)},t.prototype.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,o=e.currentUser,a=e.theme===V.ThemeTypes.DARK?n(7219):n(7218);return r(C.FormSection,{className:(0,u.default)(H.default.userSettingsSecurity,Y.default.marginTop60),title:s.default.Messages.TWO_FA,tag:C.FormTitle.Tags.H2},void 0,r(N.default,{align:N.default.Align.STRETCH},void 0,r(N.default.Child,{wrap:!0},void 0,r(g.default,{backupCodes:t})),o.mfaEnabled?null:r(N.default,{align:N.default.Align.CENTER,basis:"323px",grow:0},void 0,r("img",{src:a,className:H.default.userSettingsSecurityImage,alt:""}))))},t.prototype.render=function(){return this.props.hide?K:r("div",{},void 0,this.renderAccountSettings(),this.renderSecuritySettings())},t.prototype.startEditingProfile=function(){(0,B.toggleEditingProfile)(!0)},t.prototype.startEditingPassword=function(){(0,B.toggleEditingPassword)(!0)},t.prototype.handleChangeProfileField=function(e,t){var n;("discriminator"===t&&(e=e.replace(/[^0-9]/,"")),null!=t)&&(0,B.updateAccountInfo)(((n={})[t]=e,n))},t.prototype.handleAvatarChange=function(e){(0,B.updateAccountInfo)({avatar:e})},t.prototype.handleCancelEditing=function(){(0,B.toggleEditingProfile)(!1)},t.prototype.saveAccount=function(){var e=this.props,t=e.claimed,n=e.currentUser,o=e.accountInfo,a=o.username,r=o.email,i=o.password,l=o.newPassword,s=o.avatar,u=o.discriminator;(0,B.saveAccountChanges)(a,r,i,s,l,M.default.canEditDiscriminator(n)?u:null).then(function(e){t||null==e||(0,G.claimSuccess)(e)})},t.prototype.handleDisableAccount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.currentUser,n=U.default.getGuilds();Object.keys(n).filter(function(e){return n[e].ownerId===t.id}).length>0?F.default.push(function(e){return i.createElement(c.default,a({header:s.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:s.default.Messages.OKAY,red:!1},e),r(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}):t.isClaimed()?F.default.push(function(t){return i.createElement(p.default,a({},t,{handleSubmit:function(t){return(0,B.disableAccount)(t,e)},title:e?s.default.Messages.DELETE_ACCOUNT:s.default.Messages.DISABLE_ACCOUNT,actionText:e?s.default.Messages.DELETE_ACCOUNT:s.default.Messages.DISABLE_ACCOUNT}),e?s.default.Messages.DELETE_ACCOUNT_BODY:s.default.Messages.DISABLE_ACCOUNT_BODY)}):F.default.push(function(e){return i.createElement(c.default,a({header:s.default.Messages.DELETE_ACCOUNT,confirmText:s.default.Messages.DELETE_ACCOUNT,cancelText:s.default.Messages.CANCEL,onConfirm:function(){return(0,B.disableAccount)("",!1)}},e),r(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_ACCOUNT_BODY))})},t}(i.PureComponent),q=function(){var e=this;this.handleSaveProfile=function(){var t=e.props,n=t.currentUser,o=t.accountInfo,l=o.discriminator,u=o.password,d=!1;if(M.default.canEditDiscriminator(n)&&n.discriminator!==l){if(4!==l.length?(e.setState({discriminatorError:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_LENGTH_ERROR}),d=!0):0===parseInt(l,10)?(e.setState({discriminatorError:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_ZERO_ERROR}),d=!0):e.setState({discriminatorError:null}),0===u.length?(e.setState({passwordError:s.default.Messages.PASSWORD_REQUIRED}),d=!0):e.setState({passwordError:null}),d)return;F.default.push(function(t){return i.createElement(c.default,a({header:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_HEADER,cancelText:s.default.Messages.CANCEL,confirmText:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_CONFIRM,red:!1,onConfirm:function(){return e.saveAccount()}},t),r(T.default,{size:T.default.Sizes.MEDIUM,color:T.default.Colors.PRIMARY},void 0,s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_BODY))})}else null==e.state.discriminatorError&&null==e.state.passwordError||e.setState({discriminatorError:null,passwordError:null}),e.saveAccount()},this.debounceFocusBlur=(0,x.default)(function(t){return e.setState({multiInputFocused:t})},50)};t.default=l.default.connectStores([R.default,w.default,L.default,D.default,P.default],function(){return a({},L.default.getState(),{currentUser:R.default.getCurrentUser(),backupCodes:P.default.getBackupCodes(),hide:w.default.hidePersonalInformation,theme:D.default.theme})})($),e.exports=t.default},7239:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(34)),s=S(n(227)),u=S(n(379)),d=S(n(126)),f=n(33),c=S(n(522)),p=n(6411),h=S(n(7138)),m=S(n(7137)),y=S(n(7136)),v=S(n(7135)),g=S(n(7134)),_=S(n(7133)),E=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=a(h.default,{},"streamer-mode"),T=a(m.default,{},"theme"),N=a(y.default,{},"messages"),O=a(v.default,{},"inputMode"),I=a(s.default,{},"volume",a(g.default,{type:"input"}),a(g.default,{type:"output"})),A=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=Array(s),h=0;h<s;h++)p[h]=arguments[h];return n=o=b(this,e.call.apply(e,[this].concat(p))),o.renderMenuItem=function(e){var t=e.section,n=e.label,s=e.onClick,c={key:t,label:n,action:s?function(){(0,f.closeContextMenu)(),s()}:function(){return o.handleAction(t)}};switch(t){case E.UserSettingsSections.STREAMER_MODE:return i.createElement(u.default,r({},c,{render:function(){return[C]}}));case E.UserSettingsSections.APPEARANCE:return i.createElement(u.default,r({},c,{render:function(){return[T,N]}}));case E.UserSettingsSections.VOICE:return i.createElement(u.default,r({},c,{render:function(){return[O,I]}}));case E.UserSettingsSections.EXPERIMENTS:var p=d.default.getRegisteredExperiments(),h=Object.keys(p).map(function(e){return a(_.default,{id:e},e)});return i.createElement(u.default,r({invertChildY:!0},c,{render:function(){return h}}));case"logout":return null;default:return i.createElement(l.default,c)}},o.handleAction=function(e){(0,f.closeContextMenu)(),c.default.open(e)},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return a("div",{className:n,style:t},void 0,(0,p.getUserSettingsSections)().map(this.renderMenuItem))},t}(i.PureComponent);t.default=A,e.exports=t.default},7240:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(73),l=P(n(3)),s=P(n(6)),u=P(n(6412)),d=P(n(79)),f=P(n(6204)),c=P(n(6045)),p=P(n(40)),h=P(n(947)),m=n(33),y=P(n(7239)),v=P(n(142)),g=P(n(223)),_=P(n(541)),E=n(6007),S=P(E),b=P(n(7132)),C=P(n(12)),T=P(n(274)),N=P(n(58)),O=P(n(522)),I=P(n(364)),A=n(0),M=P(n(5589)),R=P(n(64));function P(e){return e&&e.__esModule?e:{default:e}}function w(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}var L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={webBuildOverride:null},o.getDOMNode=o.getDOMNode.bind(o),o.handleToggleSelfMute=o.handleToggleSelfMute.bind(o),o.handleToggleSelfDeaf=o.handleToggleSelfDeaf.bind(o),o.handleOpenSettings=o.handleOpenSettings.bind(o),o.handleOpenSettingsContextMenu=o.handleOpenSettingsContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=w(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.default.shouldCheckForBuildOverride()){e.next=5;break}return e.next=3,u.default.get();case 3:t=e.sent,this.setState({webBuildOverride:t.discord_web});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.fetchWebBuildOverrides=function(){var e=w(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.getActiveWebOverride();case 2:t=e.sent,this.setState({webBuildOverride:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.getDOMNode=function(){return(0,i.findDOMNode)(this)},t.prototype.handleToggleSelfMute=function(){I.default.toggleSelfMute()},t.prototype.handleToggleSelfDeaf=function(){I.default.toggleSelfDeaf()},t.prototype.handleOpenSettings=function(){O.default.open(A.UserSettingsSections.ACCOUNT)},t.prototype.handleOpenSettingsContextMenu=function(e){(0,m.openContextMenu)(e,function(e){return r.createElement(y.default,e)})},t.prototype.render=function(){var e=this.props,t=e.currentUser,o=e.mute,i=e.deaf,l=e.streaming,u=e.status;if(null==t)return null;var m=this.state.webBuildOverride,y=o?s.default.Messages.UNMUTE:s.default.Messages.MUTE,C=i?s.default.Messages.UNDEAFEN:s.default.Messages.DEAFEN;return a("div",{className:M.default.container},void 0,a(g.default,{animationType:g.default.Animations.SPRING,render:function(e){return r.createElement(b.default,e)},position:g.default.Positions.TOP_LEFT,target:this.getDOMNode},void 0,a(h.default,{user:t,status:u,streaming:l,className:M.default.avatar,statusClassName:M.default.status})),a(_.default,{user:t,className:M.default.accountDetails}),a(p.default,{grow:0},void 0,a(v.default,{text:y},void 0,a("div",{},void 0,a(f.default,{className:M.default.button,size:c.default.Sizes.SMALL,value:o,inactiveSrc:n(6159),activeSrc:n(6158),onChange:this.handleToggleSelfMute,"aria-label":y}))),a(S.default,{tutorialId:"voice-conversations",position:E.TutorialIndicatorPositions.TOP,offsetY:-38,offsetX:-18},void 0,a(v.default,{text:C},void 0,a("div",{},void 0,a(f.default,{className:M.default.button,size:c.default.Sizes.SMALL,value:i,inactiveSrc:n(6387),activeSrc:n(6386),onChange:this.handleToggleSelfDeaf,"aria-label":C})))),a(v.default,{text:null!=m?s.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:m.id}):s.default.Messages.USER_SETTINGS},void 0,a(R.default,{"aria-label":s.default.Messages.USER_SETTINGS,look:R.default.Looks.BLANK,size:R.default.Sizes.NONE,className:M.default.button,innerClassName:M.default.buttonInner,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu},void 0,a(d.default,{name:d.default.Names.GEAR,width:18,height:18}),null!=m?a(d.default,{name:d.default.Names.INFO,width:9,height:9,className:M.default.hasBuildOverride}):null))))},t}(r.PureComponent);t.default=l.default.connectStores([C.default,N.default,T.default],function(){var e=T.default.getPrimaryActivity();return{currentUser:C.default.getCurrentUser(),mute:!N.default.isEnabled()||N.default.isSelfMute()||N.default.isSelfMutedTemporarily(),deaf:N.default.isSelfDeaf(),status:T.default.getStatus(),streaming:null!=e&&e.type===A.ActivityTypes.STREAMING}})(L),e.exports=t.default},7241:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(364)),s=d(n(38)),u=d(n(371));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.dontShowAgain=function(){l.default.setSilenceWarning(!1),o.okay()},o.okay=function(){s.default.pop()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(u.default,{title:i.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:i.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:i.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:this.dontShowAgain,onConfirm:this.okay,confirmText:i.default.Messages.OKAY,iconUrl:n(999)})},t}(r.Component);t.default=c,e.exports=t.default},7242:function(e,t,n){"use strict";t.__esModule=!0,t.TestModeSKUButtonEnums=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=y(n(1)),l=m(n(3)),s=n(527),u=m(n(525)),d=m(n(44)),f=m(n(27)),c=y(n(33)),p=m(n(34)),h=m(n(6413));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeSKUButtonEnums={DropdownSizes:h.default.DropdownSizes,Sizes:h.default.Sizes,Colors:h.default.Colors,Looks:h.default.Looks};var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v(this,e.call.apply(e,[this].concat(i))),o.renderContextMenu=function(e){var t=e.className,n=e.style,a=o.props,i=a.skus,l=a.onSKUSelect,s=i.map(function(e){return r(p.default,{label:e.name,action:function(){c.closeContextMenu(),l&&l(e)}},e.id)});return r("div",{className:t,style:n},void 0,s)},o.handleContextMenu=function(e){e.stopPropagation(),c.openContextMenu(e,o.renderContextMenu)},o.handleClick=function(){var e=o.props,t=e.onSKUSelect,n=e.primarySKU;t&&null!=n&&t(n)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,o=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return i.createElement(h.default,a({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:null},o),n)},t}(i.PureComponent);t.default=l.default.connectStores([u.default,d.default,f.default],function(e){var t=e.applicationId,n=(0,s.getPrimarySKUForApplication)(t,f.default,u.default);return{skus:u.default.getForApplication(t).sort(function(e,t){return null!=n&&e.id===n.id?-1:null!=n&&t.id===n.id?1:e.name>=t.name?-1:1}),primarySKU:n}})(g)},7243:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(3)),l=y(n(523)),s=y(n(38)),u=y(n(6600)),d=y(n(75)),f=y(n(64)),c=y(n(40)),p=y(n(123)),h=y(n(6)),m=y(n(5822));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.openSupportTicket=function(){window.open(l.default.getSubmitRequestURL())},t.prototype.close=function(){s.default.pop()},t.prototype.render=function(){var e=this.props.error;return a(p.default,{size:p.default.Sizes.SMALL},void 0,a(p.default.Header,{},void 0,a(c.default.Child,{grow:1},void 0,a(d.default,{tag:d.default.Tags.H4},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_HEADER)),a(c.default.Child,{grow:0},void 0,a(p.default.CloseButton,{onClick:this.close}))),a(p.default.Content,{},void 0,a("div",{className:m.default.body},void 0,a("div",{},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_BODY),a("div",{className:m.default.errorLabel},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_ERROR_LABEL),a("div",{className:m.default.errorDetails},void 0,a("div",{},void 0,null!=e.code?"Code: "+e.code+"\n":null,null!=e.uuid?"UUID: "+e.uuid:null)))),a(p.default.Footer,{},void 0,a(f.default,{onClick:this.openSupportTicket},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_OPEN_TICKET),a(f.default,{look:f.default.Looks.LINK,onClick:this.close,color:m.default.closeLink},void 0,h.default.Messages.CLOSE)))},t}(r.Component);t.default=i.default.connectStores([u.default],function(){return{error:u.default.getLastError()}})(v),e.exports=t.default},7244:function(e,t,n){"use strict";t.__esModule=!0,t.surveyHide=function(e,t){o.default.dispatch({type:r.ActionTypes.SURVEY_HIDE,id:e}),a.default.track(r.AnalyticEvents.APP_NOTICE_CLOSED,{notice_type:r.NoticeTypes.SURVEY,survey_id:e,dismissed:t})};var o=i(n(2)),a=i(n(20)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7245:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(40)),u=f(n(5824)),d=f(n(1244));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={width:null},o.buttonRef=o.buttonRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.buttonRef=function(e){null!=e&&this.setState({width:e.offsetWidth})},t.prototype.getButtonBorderStyles=function(){var e=this.state.width;if(null==e)return null;var t=1.5*e;return{height:t,marginLeft:-t/2,marginTop:-t/2,width:t}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","className"]);return i.createElement("button",a({className:(0,l.default)(d.default.buttonWhiteOutlinedDefault,u.default.button,n),ref:this.buttonRef},o),r("div",{className:d.default.contentsOutlined},void 0,t),r("div",{className:u.default.buttonContents},void 0,r("div",{className:u.default.buttonBorder,style:this.getButtonBorderStyles()}),r(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,className:u.default.buttonInner},void 0,t)))},t}(i.PureComponent);t.default=c,e.exports=t.default},7246:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(3)),s=C(n(275)),u=C(n(566)),d=C(n(27)),f=C(n(80)),c=C(n(274)),p=C(n(189)),h=n(0),m=n(574),y=C(n(128)),v=C(n(40)),g=C(n(64)),_=C(n(7245)),E=C(n(978)),S=C(n(6)),b=C(n(5823));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=40,A=[h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED,h.ActivityJoinRequestStates.RECEIVER_INVITE_SENT];var M,R=function(e){function t(){return T(this,t),N(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){return i.createElement(g.default,a({color:g.default.Colors.WHITE,look:g.default.Looks.OUTLINED,size:g.default.Sizes.MIN,className:b.default.button},this.props))},t}(i.PureComponent),P=function(e){function t(){return T(this,t),N(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){var e=this.props.game;if(null==e||null==e.splash)return null;var t=Math.min(window.innerWidth/2,800),n=e.getIconURL(t);return null==n?null:r("div",{className:b.default.gameBackground,style:{backgroundImage:"url("+n+")"}},void 0,r("div",{className:b.default.gameBackgroundOverlay}))},t}(i.PureComponent),w=function(e){function t(n){T(this,t);var o=N(this,e.call(this,n));return o.state={animateIn:new p.default.Value(0)},o.handleSendInvite=o.handleSendInvite.bind(o),o.handleJoin=o.handleJoin.bind(o),o.handleClose=o.handleClose.bind(o),o}return O(t,e),t.prototype.componentDidMount=function(){p.default.timing(this.state.animateIn,{toValue:1,delay:50,duration:150,easing:p.default.Easing.out(p.default.Easing.ease)}).start()},t.prototype.renderGameBackground=function(){var e=this.props.game;return null!=e?r(P,{game:e}):null},t.prototype.renderGameIcon=function(){var e=this.props.game;if(null==e||null==e.icon)return null;var t=e.getIconURL(20);return null==t?null:r("div",{className:b.default.gameIcon,style:{backgroundImage:"url("+t+")"}})},t.prototype.renderMessage=function(){var e=this.props,t=e.joinRequest,n=t.state,o=t.user.username,a=e.activity;if(null==a)return null;var i=a.name,l=void 0;switch(n){case h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:i,username:o});break;case h.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:i,username:o});break;case h.ActivityJoinRequestStates.SENDER_INVITE_WAITING:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:o});break;case h.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:o});break;case h.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:o})}return r("div",{className:b.default.message},void 0,l)},t.prototype.renderButtons=function(){switch(this.props.joinRequest.state){case h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return r("div",{className:b.default.buttonContainer},void 0,r(g.default,{color:g.default.Colors.GREEN,size:g.default.Sizes.MIN,className:b.default.button,onClick:this.handleSendInvite},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_YEAH),r(R,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_NOPE));case h.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return r("div",{className:b.default.buttonContainer},void 0,r(_.default,{className:b.default.button,onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case h.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return r("div",{className:b.default.buttonContainer},void 0,r(E.default,{color:g.default.Colors.GREEN,size:g.default.Sizes.MIN,className:b.default.button,onClick:this.handleJoin},void 0,S.default.Messages.USER_ACTIVITY_ACCEPT_INVITE),r(R,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case h.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return r("div",{className:b.default.buttonContainer},void 0,r(R,{onClick:this.handleClose},void 0,S.default.Messages.OKAY));default:return null}},t.prototype.render=function(){return null==this.props.activity?null:r(v.default,{className:b.default.notice},void 0,this.renderGameBackground(),r(p.default.div,{style:{transform:[{translateY:this.state.animateIn.interpolate({inputRange:[0,1],outputRange:["-15px","0px"]})}]},className:b.default.noticeBody},void 0,this.renderGameIcon(),this.renderMessage(),this.renderButtons()))},t.prototype.handleSendInvite=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.user.id;(0,m.invite)(n,t)},t.prototype.handleJoin=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.secret,o=e.user.id;null!=n&&y.default.joinWithSecret(t,n),(0,m.close)(o)},t.prototype.handleClose=function(){(0,m.close)(this.props.joinRequest.user.id)},t}(i.Component);t.default=(M=l.default.connectStores([u.default,d.default],function(){var e=u.default.getRequest(),t=void 0;return null!=e&&(t=A.includes(e.state)?c.default.getApplicationActivity(e.applicationId):f.default.getApplicationActivity(e.user.id,e.applicationId)),{joinRequest:e,game:e&&d.default.getGame(e.applicationId),activity:t}})(w),function(e){function t(){var n,o;T(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=N(this,e.call.apply(e,[this].concat(r))),o.state={show:new p.default.Value(0),hiding:!1},N(o,n)}return O(t,e),t.prototype.componentDidAppear=function(){this.state.show.setValue(1)},t.prototype.componentWillEnter=function(e){this.animateTo(1,e)},t.prototype.componentWillLeave=function(e){this.setState({hiding:!0}),this.animateTo(0,e)},t.prototype.animateTo=function(e,t){p.default.timing(this.state.show,{toValue:e,duration:100,easing:p.default.Easing.out(p.default.Easing.ease)}).start(t)},t.prototype.shouldComponentUpdate=function(e){return!this.state.hiding&&(0,s.default)(this.props,e)},t.prototype.render=function(){return r(p.default.div,{style:{height:this.state.show.interpolate({inputRange:[0,1],outputRange:[0,I]})},className:b.default.animationWrapper},void 0,i.createElement(M,this.props))},t}(i.Component)),e.exports=t.default},7247:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=z(n(1)),i=W(n(3)),l=W(n(8)),s=W(n(6601)),u=W(n(18)),d=W(n(12)),f=W(n(65)),c=W(n(126)),p=W(n(7246)),h=n(0),m=W(n(38)),y=W(n(1020)),v=W(n(6277)),g=W(n(522)),_=W(n(165)),E=W(n(6101)),S=z(n(6205)),b=W(n(567)),C=z(n(373)),T=n(7244),N=W(n(534)),O=W(n(943)),I=W(n(267)),A=W(n(523)),M=W(n(369)),R=n(1003),P=n(544),w=W(n(7243)),L=W(n(90)),D=n(7242),U=W(D),k=W(n(79)),F=W(n(87)),x=W(n(224)),G=W(n(40)),B=W(n(163)),j=W(n(6)),V=W(n(5820)),H=W(n(7241)),Y=W(n(521));function W(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=i.default.connectStores([s.default,d.default],function(){return{currentUser:d.default.getCurrentUser(),notice:s.default.getNotice()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=e.notice,n=this.props.notice;if(null!=n&&null!=t&&n.type===h.NoticeTypes.SURVEY&&t.type===h.NoticeTypes.SURVEY){var o=n.metadata;if(null!=o&&null!=t.metadata&&o.id!==t.metadata.id){var a=c.default.getEligibleExperiment(o.id);N.default.trigger(a)}}},t.prototype.dismiss=function(){y.default.dismiss()},t.prototype.renderNotice=function(){var e=this,t=this.props.notice;if(null==t)return null;switch(t.type){case h.NoticeTypes.GENERIC:return a("div",{className:V.default.noticeDefault},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),t.message,a("button",{className:V.default.button,onClick:t.callback},void 0,t.buttonText));case h.NoticeTypes.VOICE_DISABLED:return a("div",{className:V.default.noticeDefault},void 0,a(F.default,{className:V.default.dismiss,onClick:function(){null!=f.default.getVoiceChannelId()&&_.default.clearVoiceChannel(),e.dismiss()},"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_CONNECTION_CONFLICT,a("button",{className:V.default.button,onClick:function(){var e=f.default.getVoiceChannelId();if(null!=e){var t=u.default.getChannel(e);null!=t&&_.default.selectVoiceChannel(t.getGuildId(),e)}}},void 0,j.default.Messages.RECONNECT));case h.NoticeTypes.SPOTIFY_AUTO_PAUSED:var n=L.default.get(h.PlatformTypes.SPOTIFY);return a("div",{className:V.default.noticeDanger},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),a("img",{alt:"",className:V.default.platformIcon,src:n.icon.white}),j.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,a("button",{className:V.default.button,onClick:function(){return g.default.open(h.UserSettingsSections.VOICE)}},void 0,j.default.Messages.VOICE_SETTINGS),a(B.default,{className:V.default.textLinkSmall,href:A.default.getArticleURL(h.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,j.default.Messages.NOTICE_WHATS_THIS));case h.NoticeTypes.UNCLAIMED_ACCOUNT:return a("div",{className:V.default.noticeDefault},void 0,j.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,a("button",{className:V.default.button,onClick:function(){return(0,P.open)()}},void 0,j.default.Messages.CLAIM_ACCOUNT));case h.NoticeTypes.GDPR_PRIVACY_POLICY:return a("div",{className:V.default.noticeInfo},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_GDPR_PRIVACY_POLICY_MESSAGE,a(B.default,{className:V.default.button,href:A.default.getArticleURL(h.HelpdeskArticles.GDPR_PRIVACY_POLICY),target:"_blank"},void 0,j.default.Messages.NOTICE_GDPR_PRIVACY_POLICY_BUTTON));case h.NoticeTypes.UNVERIFIED_ACCOUNT:return a("div",{className:V.default.noticeDefault},void 0,j.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,a("button",{className:V.default.button,onClick:function(){var t=e.props.currentUser;O.default.verifyResend(),I.default.show({title:j.default.Messages.VERIFICATION_EMAIL_TITLE,body:j.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email}),minorText:j.default.Messages.CHANGE_EMAIL,onConfirmSecondary:P.open})}},void 0,j.default.Messages.RESEND));case h.NoticeTypes.DOWNLOAD_NAG:return a("div",{className:V.default.noticeDefault},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_NATIVE_APPS,a("i",{className:V.default.iconApple}),a("i",{className:V.default.iconAndroid}),a("i",{className:V.default.iconWindows}),a("button",{className:V.default.button,onClick:function(){return m.default.push(M.default,{source:"Top Bar Nag"})}},void 0,j.default.Messages.DOWNLOAD));case h.NoticeTypes.SCHEDULED_MAINTENANCE:return null==t.metadata?null:a("div",{className:V.default.noticeInfo},void 0,a(F.default,{className:V.default.dismiss,onClick:function(){return v.default.ackScheduledMaintenance()},"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(t.metadata),a(B.default,{className:V.default.button,href:h.STATUS_PAGE_ENDPOINT+"/incidents/"+t.metadata.id},void 0,j.default.Messages.LEARN_MORE));case h.NoticeTypes.NO_INPUT_DETECTED:return a("div",{className:V.default.noticeDanger},void 0,a(F.default,{className:V.default.dismiss,onClick:function(){e.dismiss(),m.default.push(H.default)},"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_NO_INPUT_DETECTED,a(B.default,{className:V.default.button,href:A.default.getArticleURL(h.HelpdeskArticles.NO_INPUT_DETECTED),target:"_blank"},void 0,j.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT));case h.NoticeTypes.HARDWARE_MUTE:if(null==t.metadata)return null;var o=t.metadata,r=o.vendor,i=o.model;return a("div",{className:V.default.noticeDanger},void 0,j.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:r.name,modelName:i.name}),a(B.default,{className:V.default.button,href:i.url,target:"_blank",rel:"noreferrer noopener"},void 0,j.default.Messages.SUPPORT));case h.NoticeTypes.STREAMER_MODE:return a("div",{className:V.default.noticeStreamerMode},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_STREAMER_MODE_TEXT,a("button",{className:V.default.button,onClick:function(){return E.default.setEnabled(!1)}},void 0,j.default.Messages.DISABLE));case h.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS:if(!Array.isArray(t.metadata))return null;var s=l.default.uniq(t.metadata.map(function(e){return L.default.get(e.type)})),d=s.map(function(e){return e.name}),c=d[0],y=d[1],N=d[2],Y=void 0;return Y=1===d.length?j.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:c}):2===d.length?j.default.Messages.NOTICE_TWO_PLATFORM_ACCOUNTS.format({a:c,b:y}):3===d.length?j.default.Messages.NOTICE_THREE_PLATFORM_ACCOUNTS.format({a:c,b:y,c:N}):j.default.Messages.NOTICE_FOUR_OR_MORE_PLATFORM_ACCOUNTS.format({a:c,b:y,c:N}),a("div",{className:V.default.noticeBrand},void 0,a(F.default,{className:V.default.dismiss,onClick:function(){e.dismiss(),b.default.ignore()},"aria-label":j.default.Messages.DISMISS}),s.map(function(e){return a("img",{alt:e.name,className:V.default.platformIcon,src:e.icon.color},e.type)}),Y,a("button",{className:V.default.button,onClick:function(){return b.default.changeDisplayType(h.DetectedPlatformAccountsDisplayTypes.MODAL)}},void 0,j.default.Messages.SETUP));case h.NoticeTypes.SURVEY:return null==t.metadata?null:a("div",{className:V.default.noticeInfo},void 0,a(F.default,{className:V.default.dismiss,onClick:function(){t.type===h.NoticeTypes.SURVEY&&null!=t.metadata&&(0,T.surveyHide)(t.metadata.id,!0)},"aria-label":j.default.Messages.DISMISS}),t.metadata.content,a("button",{className:V.default.button,onClick:function(){window.open(t.metadata.url,"_blank"),(0,T.surveyHide)(t.metadata.id,!1)}},void 0,t.metadata.button));case h.NoticeTypes.CORRUPT_INSTALLATION:return a("div",{className:V.default.noticeDanger},void 0,j.default.Messages.NOTICE_CORRUPT_INSTALLATION,a(B.default,{className:V.default.button,href:A.default.getArticleURL(h.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,j.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case h.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return a("div",{className:V.default.noticeDefault},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),j.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,a("button",{className:V.default.button,onClick:function(){return m.default.push(M.default,{source:"Video unsupported browser"})}},void 0,j.default.Messages.DOWNLOAD));case h.NoticeTypes.ACTIVITY_JOIN_REQUEST:return a(p.default,{},t.type);case h.NoticeTypes.CONNECT_FACEBOOK:var W=L.default.get(h.PlatformTypes.FACEBOOK);return a("div",{className:V.default.noticeFacebook},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),a("img",{alt:"",className:V.default.platformIcon,src:W.icon.white}),j.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:W.name}),a("button",{className:V.default.button,onClick:function(){return(0,R.authorize)(h.PlatformTypes.FACEBOOK,"Notice Bar")}},void 0,j.default.Messages.CONNECT));case h.NoticeTypes.CONNECT_SPOTIFY:return a("div",{className:V.default.noticeSpotify},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),a(k.default,{name:k.default.Names.PLATFORM_SPOTIFY,className:V.default.platformIcon}),j.default.Messages.NOTICE_CONNECT_SPOTIFY,a("button",{className:V.default.button,onClick:function(){return(0,R.authorize)(h.PlatformTypes.SPOTIFY,"Notice Bar")}},void 0,j.default.Messages.CONNECT));case h.NoticeTypes.PREMIUM_PROMO:return a("div",{className:V.default.noticePremium},void 0,a("span",{className:V.default.premiumLogo}),a("span",{className:V.default.premiumText},void 0,j.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),a("button",{className:V.default.premiumAction,onClick:function(){return g.default.open(h.UserSettingsSections.PREMIUM)}},void 0,j.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),a(F.default,{tag:"span",className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}));case h.NoticeTypes.MFA_SMS_BACKUP:return a("div",{className:V.default.noticeInfo},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),j.default.Messages.NOTICE_MFA_SMS_BACKUP,a("button",{className:V.default.button,onClick:function(){return g.default.open(h.UserSettingsSections.ACCOUNT)}},void 0,j.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case h.NoticeTypes.DISPATCH_ERROR:if(null==t.metadata)return null;var z=t.metadata.error;return a("div",{className:V.default.noticeDanger},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),z.displayMessage,a("button",{className:V.default.button,onClick:function(){return m.default.push(w.default)}},void 0,j.default.Messages.LEARN_MORE));case h.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==t.metadata)return null;var K=t.metadata,$=K.progress,q=K.total,X=K.name;return a("div",{className:V.default.noticeInfo},void 0,a(F.default,{className:V.default.dismiss,onClick:this.dismiss,"aria-label":j.default.Messages.DISMISS}),a(G.default,{justify:G.default.Justify.CENTER},void 0,null!=X?j.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+X,progress:""+$,total:""+q}):j.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+$,total:""+q}),a(x.default,{type:x.default.Type.PULSING_ELLIPSIS,className:V.default.ellipsis})));case h.NoticeTypes.APPLICATION_TEST_MODE:return null==t.metadata?null:a("div",{className:V.default.noticeDefault},void 0,a(G.default,{justify:G.default.Justify.CENTER,align:G.default.Align.CENTER},void 0,a("div",{},void 0,j.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:t.metadata.applicationName})),a(U.default,{dropdownSize:D.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:V.default.testModeSKUSelector,color:D.TestModeSKUButtonEnums.Colors.WHITE,look:D.TestModeSKUButtonEnums.Looks.OUTLINED,size:D.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return C.goToApplicationStoreListing(e.id,null,h.AnalyticsLocations.APPLICATION_TEST_MODE_NOTICE)},applicationId:t.metadata.applicationId},void 0,j.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),a(F.default,{className:V.default.dismiss,onClick:S.reset,"aria-label":j.default.Messages.DISMISS})));default:return null}},t.prototype.render=function(){return a(Y.default,{component:"div"},void 0,this.renderNotice())},t}(r.PureComponent)),e.exports=t.default},7248:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notices=t}return e.prototype.getStores=function(){var e=[];return this.notices.forEach(function(t){return t.Store&&e.push(t.Store)}),e},e.prototype.getNotice=function(e,t,n){return this.notices.find(function(o){var a=o.Store,r=o.Type,i=e[r];return null!=a?a.channelNoticePredicate(i,t,n):i})},e}();t.default=o,e.exports=t.default},7249:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(9))),i=m(n(6)),l=m(n(64)),s=n(6093),u=n(6032),d=n(6414),f=n(6102),c=n(0),p=m(n(6206)),h=m(n(5562));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(){var e=d.QUICKSWITCHER_SHOW.binds[0].split("+").map(function(e){return f.PRETTY_KEYS[e]?f.PRETTY_KEYS[e]():e}).join(" + ");return a("div",{className:(0,r.default)(h.default.channelNotice,h.default.quickswitcher)},void 0,a(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:h.default.close,onClick:function(){return(0,s.hideNotice)(c.ChannelNoticeTypes.QUICKSWITCHER)}}),a("div",{className:h.default.message},void 0,a("div",{},void 0,i.default.Messages.QUICKSWITCHER_NOTICE),a("button",{className:h.default.btn,onClick:function(){return(0,u.show)("CHANNEL_NOTICE")}},void 0,e)))};y.Type=c.ChannelNoticeTypes.QUICKSWITCHER,y.Store=p.default,t.default=y,e.exports=t.default},7250:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=u(n(2)),r=u(n(12)),i=u(n(112)),l=u(n(76)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default),this.syncWith([i.default],d)},t.prototype.channelNoticePredicate=function(e,t,n){var o=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY,a=r.default.getCurrentUser();return null!=a&&(e&&o&&l.default.can(s.Permissions.ADMINISTRATOR,a,t))},t}(o.default.Store);t.default=new f(a.default),e.exports=t.default},7251:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),_(n(55))),i=_(n(43)),l=_(n(57)),s=_(n(9)),u=_(n(6)),d=_(n(64)),f=_(n(6024)),c=_(n(65)),p=_(n(7250)),h=_(n(145)),m=_(n(38)),y=n(6093),v=n(0),g=_(n(5562));function _(e){return e&&e.__esModule?e:{default:e}}var E=(0,i.default)({displayName:"InviteNotice",mixins:[l.default],propTypes:{guild:r.default.object.isRequired,experiment:r.default.object},handleInvite:function(){var e=this.props.guild;m.default.push(f.default,{guild:e,source:v.InstantInviteSources.INVITE_NOTICE})},handleClose:function(){var e=c.default.getChannelId();(0,y.hideNotice)(v.ChannelNoticeTypes.INVITE),e&&h.default.sendBotMessage(e,u.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:u.default.Messages.INVITE_PEOPLE}))},render:function(){return a("div",{className:(0,s.default)(g.default.channelNotice,g.default.invite)},void 0,a(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:g.default.close,onClick:this.handleClose}),a("div",{className:g.default.message},void 0,a("div",{},void 0,u.default.Messages.INVITE_NOTICE_MESSAGE),a("div",{},void 0,u.default.Messages.INVITE_NOTICE_MESSAGE_PART_2),a("button",{className:g.default.btn,onClick:this.handleInvite},void 0,u.default.Messages.INVITE_PEOPLE)))}});E.Type=v.ChannelNoticeTypes.INVITE,E.Store=p.default,t.default=E,e.exports=t.default},7252:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(12)),r=s(n(125)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1;function d(){var e=a.default.getCurrentUser();if(null==e||e.mfaEnabled===u)return!1;u=e.mfaEnabled}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default,r.default),this.syncWith([a.default,r.default],d)},t.prototype.channelNoticePredicate=function(e,t){var n=a.default.getCurrentUser();return t.mfaLevel===l.MFALevels.ELEVATED&&!n.mfaEnabled&&r.default.hasElevatedPermissions(t.id)},t}(o.default.Store);t.default=new f(i.default,function(e){switch(e){case l.ActionTypes.CONNECTION_OPEN:return d();case l.ActionTypes.GUILD_UPDATE:return!0;default:return!1}}),e.exports=t.default},7253:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(6)),s=p(n(522)),u=p(n(7252)),d=n(6093),f=n(0),c=p(n(5562));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleEnableMFA=function(){s.default.open(f.UserSettingsSections.ACCOUNT)},t.prototype.componentWillUnmount=function(){(0,d.hideNotice)(f.ChannelNoticeTypes.MFA_WARNING)},t.prototype.render=function(){return a("div",{className:(0,i.default)(c.default.channelNotice,c.default.guildMFAWarning)},void 0,a("div",{className:c.default.message},void 0,l.default.Messages.TWO_FA_GUILD_MFA_WARNING.format({onClick:this.handleEnableMFA})))},t}(r.PureComponent);h.Type=f.ChannelNoticeTypes.MFA_WARNING,h.Store=u.default,t.default=h,e.exports=t.default},7254:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=E(n(55)),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(43))),s=E(n(8)),u=E(n(3)),d=E(n(57)),f=E(n(6418)),c=E(n(7253)),p=n(6093),h=E(n(7251)),m=E(n(7249)),y=E(n(7248)),v=E(n(194)),g=n(0),_=E(n(5562));function E(e){return e&&e.__esModule?e:{default:e}}var S=new y.default([c.default,h.default,m.default]),b=s.default.debounce(v.default.trackWithMetadata,500),C=(0,l.default)({displayName:"ChannelNotices",mixins:[d.default,u.default.LazyStoreListenerMixin.apply(u.default,[f.default].concat(S.getStores()))],propTypes:{guild:i.default.object.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=f.default.getState(),t=e.noticeStates,n=e.lastHidden,o=this.props.guild;return r({},e,{Notice:S.getNotice(t,o,n)})},componentDidMount:function(){var e=this.props.guild,t=this.state.Notice;null!=t&&((0,p.showNotice)(t.Type,e),b(g.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:t.Type,guild_id:e.id}))},componentDidUpdate:function(e,t){var n=this.props.guild,o=this.state.Notice;null==o||e.guild.id===n.id&&null!=t.Notice&&t.Notice.Type===o.Type||((0,p.showNotice)(o.Type,n),b(g.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o.Type,guild_id:n.id}))},render:function(){var e=this.props.guild,t=this.state.Notice;return null==t?null:a("div",{className:_.default.channelNotices},void 0,a(t,{guild:e}))}});t.default=C,e.exports=t.default},7266:function(e,t,n){e.exports=n.p+"858df73648ac3877a22156da2e69a5fd.svg"},7267:function(e,t,n){e.exports=n.p+"50f8ef2cdb4e7697a4202fb9c6d0e1fc.svg"},7268:function(e,t,n){e.exports=n.p+"6afcd5d6a8c9d467e27e1bb48755dce0.svg"},7269:function(e,t,n){e.exports=n.p+"6a711bd91522e885413464a88a4e3c69.svg"},7270:function(e,t,n){e.exports=n.p+"00de6b3cbb5c4dbcec817c91262f5f5b.svg"},7271:function(e,t,n){e.exports=n.p+"bc11a9099f5729962c095cb49d5042f6.svg"},7272:function(e,t,n){e.exports=n.p+"52bc30f8a2b1a51f808a785819ca00b5.svg"},7273:function(e,t,n){e.exports=n.p+"2fc862597335421b35a79aa9aaba4a86.svg"},7274:function(e,t,n){e.exports=n.p+"9a93097ab591379729c68f15a17b26af.svg"},7275:function(e,t,n){e.exports=n.p+"d4ff0d2af68cd1119f0d16ef79d1369c.svg"},7276:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(3)),s=I(n(8)),u=I(n(6)),d=I(n(12)),f=I(n(112)),c=I(n(366)),p=I(n(6047)),h=I(n(6239)),m=I(n(1017)),y=I(n(6073)),v=I(n(38)),g=I(n(6263)),_=I(n(164)),E=I(n(67)),S=I(n(6024)),b=I(n(14)),C=I(n(269)),T=n(0),N=n(6425),O=I(N);function I(e){return e&&e.__esModule?e:{default:e}}var A=r(N.PopoutMenuSeparator,{}),M=r(N.PopoutMenuSeparator,{},"separator"),R=r(N.PopoutMenuSeparator,{}),P=r(N.PopoutMenuSeparator,{}),w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s.default.bindAll(o,["close","handleOpenInviteModal","handleOpenGuildSettings","handleCreateChannel","handleCreateCategory","handleOpenNotificationSettings","handleOpenPrivacySettings","handleOpenChangeNickname","handleLeaveGuild","handleConfirmLeaveGuild","handleToggleMuted"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose()},t.prototype.handleOpenInviteModal=function(){var e=this.props.guild;v.default.push(S.default,{guild:e,source:T.InstantInviteSources.GUILD_HEADER}),this.close()},t.prototype.handleOpenGuildSettings=function(){var e=this.props.guild;c.default.open(e.id,T.GuildSettingsSections.OVERVIEW),this.close()},t.prototype.handleCreateChannel=function(){y.default.open(null,this.props.guild.id,null,null),this.close()},t.prototype.handleCreateCategory=function(){y.default.open(T.ChannelTypes.GUILD_CATEGORY,this.props.guild.id,null,null),this.close()},t.prototype.handleOpenNotificationSettings=function(){p.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenPrivacySettings=function(){h.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenChangeNickname=function(){m.default.open(this.props.guild.id,b.default.getId()),this.close()},t.prototype.handleLeaveGuild=function(){var e=this;v.default.push(function(t){return i.createElement(_.default,a({header:u.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.toString()}),confirmText:u.default.Messages.LEAVE_SERVER,cancelText:u.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),r(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,u.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.toString()})))})},t.prototype.handleConfirmLeaveGuild=function(){c.default.leaveGuild(this.props.guild.id)},t.prototype.handleToggleMuted=function(){g.default.toggleCollapseGuild(this.props.guild.id)},t.prototype.render=function(){var e=this.props,t=e.isCollapsed,o=e.canInvite,a=e.canAccessSettings,l=e.canManageChannels,s=e.canEditNickname,d=e.isOwner,f=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["isCollapsed","canInvite","canAccessSettings","canManageChannels","canEditNickname","isOwner"]),c=void 0,p=void 0,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return o&&(c=r(N.PopoutMenuItem,{onClick:this.handleOpenInviteModal,type:"invite"},void 0,r(N.PopoutMenuIcon,{icon:n(7275)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.INVITE_PEOPLE))),a&&(p=r(N.PopoutMenuItem,{onClick:this.handleOpenGuildSettings},void 0,r(N.PopoutMenuIcon,{icon:n(7274)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.SERVER_SETTINGS))),l&&(y=r(N.PopoutMenuItem,{onClick:this.handleCreateChannel},void 0,r(N.PopoutMenuIcon,{icon:n(7273)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.CREATE_CHANNEL)),v=r(N.PopoutMenuItem,{onClick:this.handleCreateCategory},void 0,r(N.PopoutMenuIcon,{icon:n(7272)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.CREATE_CATEGORY)),g=A),s&&(h=r(N.PopoutMenuItem,{onClick:this.handleOpenChangeNickname},"popout-item",r(N.PopoutMenuIcon,{icon:n(7271)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.CHANGE_NICKNAME))),d||(m=[M,r(N.PopoutMenuItem,{onClick:this.handleLeaveGuild,type:"leave"},"popout-item",r(N.PopoutMenuIcon,{icon:n(7270)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.LEAVE_SERVER))]),i.createElement(O.default,f,c,c?R:null,p,y,v,g,r(N.PopoutMenuItem,{onClick:this.handleOpenNotificationSettings},void 0,r(N.PopoutMenuIcon,{icon:n(7269)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.NOTIFICATION_SETTINGS)),r(N.PopoutMenuItem,{onClick:this.handleOpenPrivacySettings},void 0,r(N.PopoutMenuIcon,{icon:n(7268)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.PRIVACY_SETTINGS)),P,h,r(N.PopoutMenuItem,{onClick:this.handleToggleMuted},void 0,r(N.PopoutMenuIcon,{icon:n(t?7267:7266)}),r(N.PopoutMenuItemLabel,{},void 0,t?u.default.Messages.SHOW_MUTED_CHANNELS:u.default.Messages.HIDE_MUTED_CHANNELS)),m)},t}(i.PureComponent);t.default=l.default.connectStores([f.default,d.default,C.default],function(e){var t=e.guild,n=d.default.getCurrentUser();return{user:n,isCollapsed:C.default.isGuildCollapsed(t.id),canInvite:f.default.can(T.Permissions.CREATE_INSTANT_INVITE,t),canAccessSettings:f.default.can(T.Permissions.MANAGE_GUILD,t)||f.default.can(T.Permissions.MANAGE_ROLES,t)||f.default.can(T.Permissions.BAN_MEMBERS,t)||f.default.can(T.Permissions.MANAGE_NICKNAMES,t)||f.default.can(T.Permissions.MANAGE_EMOJIS,t)||f.default.can(T.Permissions.MANAGE_WEBHOOKS,t)||f.default.can(T.Permissions.VIEW_AUDIT_LOG,t),canManageChannels:f.default.can(T.Permissions.MANAGE_CHANNELS,t),canEditNickname:f.default.can(T.Permissions.CHANGE_NICKNAME,t)||f.default.can(T.Permissions.MANAGE_NICKNAMES,t),isOwner:t.isOwner(n)}})(w),e.exports=t.default},7277:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5837));function l(e){return e&&e.__esModule?e:{default:e}}var s=a("g",{fill:"none",fillRule:"evenodd"},void 0,a("path",{d:"M0 0h18v18H0"}),a("path",{stroke:"#FFF",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),a("path",{stroke:"#FFF",d:"M13.5 4.5l-9 9",strokeLinecap:"round"}));t.default=function(e){var t,n=e.open;return a("svg",{width:"18",height:"18",className:(0,r.default)(i.default.button,(t={},t[i.default.open]=n,t))},void 0,s)},e.exports=t.default},7278:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(6)),s=n(6007),u=_(s),d=_(n(7277)),f=n(33),c=_(n(6051)),p=_(n(7276)),h=_(n(142)),m=_(n(79)),y=_(n(223)),v=n(0),g=_(n(5834));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.renderPopout=o.renderPopout.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o.handleOpen=o.handleOpen.bind(o),o.handleClose=o.handleClose.bind(o),o.state={open:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPopout=function(e){return i.createElement(p.default,r({},e,{guild:this.props.guild}))},t.prototype.handleOpen=function(){this.setState({open:!0})},t.prototype.handleClose=function(){this.setState({open:!1})},t.prototype.handleContextMenu=function(e){var t=this.props.guild;(0,f.openContextMenu)(e,function(e){return i.createElement(c.default,r({},e,{type:v.ContextMenuTypes.GUILD_HEADER,guild:t}))})},t.prototype.render=function(){var e=this.props.guild,t=this.state.open,n=void 0;return e.hasFeature(v.GuildFeatures.VERIFIED)&&(n=a(h.default,{text:l.default.Messages.GUILD_VERIFIED,position:h.default.Positions.BOTTOM},void 0,a(m.default,{className:g.default.verified,name:m.default.Names.VERIFIED,inner:v.Colors.PRIMARY,checkmark:v.Colors.WHITE}))),a(y.default,{uniqueId:"guild-header",animationType:y.default.Animations.SPRING,render:this.renderPopout,position:y.default.Positions.BOTTOM,onOpen:this.handleOpen,onClose:this.handleClose},void 0,a("div",{className:g.default.container,onContextMenu:this.handleContextMenu},void 0,a("header",{className:g.default.header},void 0,n,a("span",{className:g.default.name},void 0,e.toString()),a(u.default,{tutorialId:"server-settings",position:s.TutorialIndicatorPositions.BOTTOM,offsetY:-30,offsetX:-18},void 0,a(d.default,{open:t})))))},t}(i.PureComponent);t.default=E,e.exports=t.default},7279:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(3)),s=P(n(6070)),u=P(n(40)),d=P(n(7278)),f=P(n(6424)),c=P(n(7254)),p=n(33),h=P(n(6051)),m=P(n(950)),y=P(n(547)),v=P(n(125)),g=P(n(954)),_=P(n(6003)),E=P(n(26)),S=P(n(226)),b=P(n(65)),C=P(n(986)),T=P(n(6264)),N=P(n(269)),O=P(n(112)),I=P(n(6418)),A=P(n(958)),M=n(0),R=P(n(5825));function P(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=w(this,e.call.apply(e,[this].concat(l))),o.handleContextMenu=function(e){var t=o.props.guild;(0,p.openContextMenu)(e,function(e){return i.createElement(h.default,r({},e,{type:M.ContextMenuTypes.GUILD_CHANNEL_LIST,guild:t}))})},w(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderGuildHeader=function(){var e=this.props.guild;return a(u.default.Child,{wrap:!0,grow:0,shrink:0},"guild-header",a(d.default,{guild:e}))},t.prototype.renderNotice=function(){var e=this.props.guild;return a(c.default,{guild:e})},t.prototype.render=function(){var e=this.props.guild,t=this.props,n=(t.channelNoticeVersion,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["channelNoticeVersion"]));return a(u.default,{className:R.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.STRETCH,onContextMenu:this.handleContextMenu},void 0,null!=e&&this.renderGuildHeader(),null!=e&&this.renderNotice(),i.createElement(f.default,n))},t}(i.PureComponent),D=(0,s.default)(function(e,t){var n;return(n={})[M.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE]=function(){return t.forceUpdate()},n})(L);t.default=l.default.connectStores([O.default,m.default,y.default,v.default,_.default,E.default,S.default,b.default,C.default,N.default,T.default,I.default,g.default,A.default],function(e){var t=e.guildId,n=E.default.getGuild(t),o=v.default.getChannels(t),a=g.default.getCategories(t),r=N.default.getMutedChannels(t),i=C.default.getVoiceStates(t),l=T.default.getCollapsed(),s=N.default.isGuildCollapsed(t),u=_.default.getMentionCounts()[t],d=_.default.getGuildUnreadCount(t),f=y.default.getGuildDimensions(t),c=f.scrollTo,p=f.scrollTop;return{guild:n,channels:o,categories:a,mutedChannels:r,scrollToChannel:c,selectedChannelId:m.default.getChannelId(t),selectedVoiceChannelId:S.default.isDisabled()?null:b.default.getVoiceChannelId(),voiceStates:i,collapsedChannels:l,collapseMuted:s,scrollTop:p,mentionCount:u,unreadCount:d,permissionVersion:O.default.getGuildVersion(t),channelNoticeVersion:I.default.getVersion(),categoryCollapseVersion:A.default.version}})(D),e.exports=t.default},7286:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=m(n(3)),u=n(56),d=m(n(79)),f=m(n(142)),c=n(0),p=m(n(577)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=new Set([c.CloudSaveStatuses.PUSHING,c.CloudSaveStatuses.PULLING]),g=Object.freeze(((a={})[c.CloudSaveStatuses.SAVED]=d.default.Names.CLOUD,a[c.CloudSaveStatuses.PLANNING]=d.default.Names.CLOUD,a[c.CloudSaveStatuses.PREPARING]=d.default.Names.CLOUD,a[c.CloudSaveStatuses.PUSHING]=d.default.Names.CLOUD_UPLOAD,a[c.CloudSaveStatuses.PULLING]=d.default.Names.CLOUD_DOWNLOAD,a[c.CloudSaveStatuses.CONFLICT]=d.default.Names.CLOUD,a[c.CloudSaveStatuses.ERROR]=d.default.Names.CLOUD,a)),_=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(r))),o._doneTimer=new u.Timeout,y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.getIsRecentlySaved()&&this.setRecentlySavedTimeout()},t.prototype.componentDidUpdate=function(e){null!=this.props.cloudSaveState&&(this.props.cloudSaveState.type!==c.CloudSaveStatuses.SAVED||null==this.props.cloudSaveState.savedAt||null!=e.cloudSaveState&&null!=e.cloudSaveState.savedAt||this.setRecentlySavedTimeout())},t.prototype.componentWillUnmount=function(){this._doneTimer.stop()},t.prototype.setRecentlySavedTimeout=function(){var e=this;this._doneTimer.start(2e3,function(){return e.forceUpdate()})},t.prototype.getIsRecentlySaved=function(){var e=this.props.cloudSaveState;if(null!=e&&e.type===c.CloudSaveStatuses.SAVED){var t=e.savedAt;return null!=t&&Date.now()-t<=2e3}return!1},t.prototype.getStop=function(e,t){return t?1:e.type===c.CloudSaveStatuses.PUSHING||e.type===c.CloudSaveStatuses.PULLING?e.progress/e.total:0},t.prototype.getTooltip=function(e,t){switch(e.type){case c.CloudSaveStatuses.SAVED:return t?h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_DONE:h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_SUPPORTED;case c.CloudSaveStatuses.CONFLICT:case c.CloudSaveStatuses.ERROR:return h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_SUPPORTED;case c.CloudSaveStatuses.PLANNING:return h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_PLANNING;case c.CloudSaveStatuses.PREPARING:return h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_PREPARING;case c.CloudSaveStatuses.PUSHING:return h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_PUSHING;case c.CloudSaveStatuses.PULLING:return h.default.Messages.CLOUD_SAVE_ICON_TOOLTIP_PULLING}},t.prototype.render=function(){var e=this.props,t=e.cloudSaveState,n=e.libraryApplication,o=e.className,a=null==t?{type:c.CloudSaveStatuses.SAVED}:t,s=this.getIsRecentlySaved(),u={};return(v.has(a.type)||s)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,s)}),i(f.default,{text:this.getTooltip(a,s)},void 0,l.createElement(d.default,r({className:o,name:s?d.default.Names.CLOUD_DONE:g[a.type]},u)))},t}(l.PureComponent);t.default=s.default.connectStores([p.default],function(e){var t=e.libraryApplication;return{cloudSaveState:p.default.getState(t.id,t.getActiveBranchId())}})(_),e.exports=t.default},7287:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=j(n(1)),l=B(n(9)),s=B(n(147)),u=B(n(3)),d=n(56),f=B(n(2)),c=B(n(11)),p=n(272),h=B(n(20)),m=B(n(27)),y=B(n(44)),v=B(n(6273)),g=B(n(68)),_=B(n(31)),E=B(n(6079)),S=n(33),b=j(n(6433)),C=B(n(528)),T=j(n(289)),N=B(n(38)),O=B(n(7286)),I=B(n(6432)),A=B(n(40)),M=B(n(64)),R=B(n(79)),P=B(n(372)),w=B(n(142)),L=B(n(968)),D=B(n(991)),U=B(n(1005)),k=B(n(989)),F=B(n(6)),x=B(n(5844)),G=n(0);function B(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var H=(0,p.cssValueToNumber)(x.default.rowMinHeight),Y=(0,p.cssValueToNumber)(x.default.linkedToGlowDuration),W=function(e){var t,n=e.flag,o=e.name,a=e.item,i=e.tooltip,s=a.libraryApplication.hasFlag(n);return r(w.default,{text:i},void 0,r(R.default,{name:o,className:(0,l.default)(x.default.settingIcon,(t={},t[x.default.hidden]=!s,t))}))},z=[{key:G.GameTableListKeys.NAME,renderHeader:function(){return F.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:x.default.nameCell,bodyCellClassName:x.default.nameBodyCell,render:function(e,t){var n=e.isNew?r("div",{className:x.default.nameCellNew},void 0,F.default.Messages.GAME_LIBRARY_NEW):null;return r(A.default,{align:A.default.Align.CENTER,onClick:function(){return null!=t&&t.openGamePopout(e)}},void 0,r(P.default,{game:e.application,size:P.default.Sizes.SMALL,className:x.default.gameIcon}),r("div",{className:x.default.nameCellInfo},void 0,r("div",{className:x.default.nameCellTextWrapper},void 0,r("div",{className:x.default.nameCellText},void 0,e.application.name),e.libraryApplication.hasFlag(G.LibraryApplicationFlags.PREMIUM)?r(R.default,{name:R.default.Names.NITRO_WHEEL,className:x.default.nitroIcon}):null),n))}},{key:G.GameTableListKeys.PLATFORM,renderHeader:function(){return F.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:x.default.platformCell,bodyCellClassName:x.default.textCell,render:function(e,t){var n=e.libraryApplication.getDistributor();return r(A.default,{align:A.default.Align.CENTER,onClick:function(){return null!=t&&t.openGamePopout(e)}},void 0,null!=n?G.DistributorNames[n]:F.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:G.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return F.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:x.default.lastPlayedCell,bodyCellClassName:x.default.textCell,render:function(e,t){var n=void 0;return n=e.isRunning?F.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:0!==e.lastPlayed?r(L.default,{end:e.lastPlayed,location:L.default.Locations.GAME_LIBRARY_LAST_PLAYED}):F.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,r(A.default,{align:A.default.Align.CENTER,onClick:function(){return null!=t&&t.openGamePopout(e)}},void 0,n)}},{key:G.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:x.default.actionsCell,render:function(e,t){var n,o=null!=t&&e.id===t.activeRowId;return r(i.Fragment,{},void 0,r("div",{className:x.default.settingIcons},void 0,r(W,{flag:G.LibraryApplicationFlags.PRIVATE,item:e,name:R.default.Names.EYE_HIDDEN,tooltip:F.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),r(W,{flag:G.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,name:R.default.Names.OVERLAY_OFF,tooltip:F.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),r(O.default,{className:(0,l.default)(x.default.settingIcon,(n={},n[x.default.hidden]=!e.supportsCloudSaves,n)),libraryApplication:e.libraryApplication})),r(U.default,{game:e.application,customColor:o?null:M.default.Colors.PRIMARY,source:G.AnalyticsLocations.APPLICATION_LIBRARY,size:x.default.actionButtonSize,isShiny:o&&e.defaultAction===G.LibraryApplicationActions.PLAY,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowId(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowId()}}))}}],K=function(e){var t,n=e.item,o=e.activeRowId,a=e.highlightedApplicationId,s=e.onMouseEnter,u=e.onMouseLeave,d=e.onContextMenu,f=e.setRef,c=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["item","activeRowId","highlightedApplicationId","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),p=n.id===o,h=n.id===a,m=p?n.application.getSplashURL(300):null;return i.createElement("div",{className:(0,l.default)((t={},t[x.default.rowWrapperActive]=p&&!h,t[x.default.rowWrapperGlow]=h,t[x.default.rowWrapper]=!p&&!h,t[x.default.rowWrapperDim]=!p&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return f(e,n.id)}),onMouseEnter:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return s(n)}),onMouseLeave:u,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d(e,n)})},p?r("div",{className:x.default.rowBackground,style:null!=m?{backgroundImage:"url("+m+")"}:null}):null,i.createElement("div",c))},$=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=o=V(this,e.call.apply(e,[this].concat(l))),o._didUnmount=!1,o._rowRefs={},o.state={overflowMenuRowId:null,highlightedApplicationId:null!=o.props.location.state?o.props.location.state.applicationId:null},o.setActiveRowId=function(e){o.setState({overflowMenuRowId:e.id})},o.clearActiveRowId=function(){o._didUnmount||o.setState({overflowMenuRowId:null})},o.openGamePopout=function(e){N.default.push(D.default,{game:e.application,source:G.AnalyticsLocations.APPLICATION_LIBRARY,isModal:!0})},o.handleRowMouseEnter=function(e){o.props.isNavigatingByKeyboard||b.updateActiveRowId(e.id)},o.handleRowMouseLeave=function(){o.props.isNavigatingByKeyboard||b.updateActiveRowId(null)},o.setRowRef=function(e,t){o._rowRefs[t]=e},o.handleApplicationContextMenu=function(e,t){o.setActiveRowId(t),(0,S.openContextMenu)(e,function(e){return i.createElement(k.default,a({},e,{type:G.ContextMenuTypes.APPLICATION_GAME_LIBRARY,application:t.application,analyticsLocation:G.AnalyticsLocations.APPLICATION_LIBRARY}))},{onClose:o.clearActiveRowId})},V(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,o=e.fetched;t&&null!=n&&T.scanForLocalApplications(),o&&(this.handleHighlightedApplicationId(),this.trackViewed())},t.prototype.componentWillUnmount=function(){this._didUnmount=!0},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return T.scanForLocalApplications()}),!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationId(),this.trackViewed());var t=this.props.activeRowId;if(null!=t&&e.activeRowId!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];null!=n&&(f.default.wait(S.closeContextMenu),this.props.scrollToRow(n,H))}},t.prototype.handleHighlightedApplicationId=function(){var e=this,t=this.state.highlightedApplicationId;null!=t&&null!=this._rowRefs[t]&&(this.props.scrollToRow(this._rowRefs[t],H),(new d.Timeout).start(Y,function(){e._didUnmount||e.setState({highlightedApplicationId:null})}))},t.prototype.trackViewed=function(){var e={num_applications_total:0,num_applications_battlenet:0,num_applications_discord:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0};this.props.applicationViewItems.forEach(function(t){switch(t.libraryApplication.getDistributor()){case G.Distributors.BATTLENET:e.num_applications_battlenet++;break;case G.Distributors.DISCORD:e.num_applications_discord++;break;case G.Distributors.TWITCH:e.num_applications_twitch++;break;case G.Distributors.UPLAY:e.num_applications_uplay++;break;case G.Distributors.ORIGIN:e.num_applications_origin++;break;case G.Distributors.GOG:e.num_applications_gog++}e.num_applications_total++}),h.default.track(G.AnalyticEvents.LIBRARY_VIEWED,a({},e,{load_id:s.default.v4()}))},t.prototype.handleSort=function(e,t){b.sortList(e,t)},t.prototype.handleEnableImportClick=function(){C.default.updateLocalSettings({importGamesEnabled:!0}),h.default.track(G.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!0})},t.prototype.handleDenyImportClick=function(){C.default.updateLocalSettings({importGamesEnabled:!1}),h.default.track(G.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!1})},t.prototype.renderImportHelp=function(){var e=this.props,t=e.importGamesEnabled,n=e.applicationViewItems,o=e.filterQuery,a=n.length>0,i=null==t&&c.default.isWindows()&&!o;if(a&&!i)return null;var l=void 0;return l=i?F.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT_ASK:""!==o?F.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:o}):t&&c.default.isWindows()?F.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT:F.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,r("div",{className:a?x.default.emptyStateSmall:x.default.emptyStateLarge},void 0,r("div",{className:x.default.emptyWumpus}),r(A.default,{grow:0,shrink:a?1:0,direction:A.default.Direction.VERTICAL},void 0,r("div",{className:x.default.emptyStateText},void 0,r("h5",{className:x.default.emptyStateHeader},void 0,i?F.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER_IMPORT:F.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),r("div",{className:x.default.emptyStateDescription},void 0,l)),i?r("div",{className:x.default.emptyStateButtons},void 0,r(M.default,{onClick:this.handleDenyImportClick,className:x.default.emptyStateButton,color:M.default.Colors.PRIMARY,size:M.default.Sizes.MEDIUM},void 0,F.default.Messages.APPLICATION_LIBRARY_IMPORT_DENY),r(M.default,{className:x.default.emptyStateButton,color:M.default.Colors.BRAND,size:M.default.Sizes.MEDIUM,onClick:this.handleEnableImportClick},void 0,F.default.Messages.APPLICATION_LIBRARY_IMPORT_ACCEPT)):null))},t.prototype.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,o=e.applicationViewItems,a=e.activeRowId,l=e.stickyHeader,s=this.state,u=s.overflowMenuRowId,d=s.highlightedApplicationId;return r(i.Fragment,{},void 0,o.length>0?r(I.default,{columns:z,data:o,sortData:!1,rowComponent:K,className:x.default.table,headerClassName:l?x.default.stickyHeader:x.default.header,headerCellClassName:x.default.headerCell,sortedHeaderCellClassName:x.default.headerCellSorted,bodyCellClassName:x.default.bodyCell,rowClassName:x.default.row,sortKey:t,sortDirection:n,stickyHeader:l,rowProps:{activeRowId:u||a,highlightedApplicationId:d,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{highlightedApplicationId:d,onContextMenu:this.handleApplicationContextMenu,setActiveRowId:this.setActiveRowId,clearActiveRowId:this.clearActiveRowId,openGamePopout:this.openGamePopout},onSort:this.handleSort}):null,this.renderImportHelp())},t}(i.PureComponent);$.defaultProps={stickyHeader:!1},t.default=u.default.connectStores([m.default,y.default,v.default,_.default,g.default,E.default],function(){return{applicationViewItems:E.default.sortedFilteredLibraryApplicationViewItems,gamesDBLastFetched:m.default.lastFetched,importGamesEnabled:_.default.importGamesEnabled,filterQuery:E.default.applicationFilterQuery,sortKey:v.default.sortKey,sortDirection:v.default.sortDirection,activeRowId:v.default.activeRowId,isNavigatingByKeyboard:v.default.isNavigatingByKeyboard,fetched:y.default.fetched&&null!=m.default.lastFetched}})($),e.exports=t.default},7288:function(e,t,n){"use strict";t.__esModule=!0,t.hexWithOpacity=function(e,t){var n=Math.round(255*t).toString(16).toUpperCase();return""+e+n},t.hexToRgb=function(e){"#"===e[0]&&(e=e.slice(1));var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}}},7289:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=d(n(1)),i=d(n(7288)),l=u(n(5848)),s=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=f(this,e.call.apply(e,[this].concat(i))),o.canvas=r.createRef(),o.updateAnimation=function(e){var t=o.canvas.current;if(null!=t){var n=o.props,a=n.data,r=n.updateInterval,i=n.color,l=n.numUpdatesToShow,s=n.lineWidth,u=n.animate;if(!(a.length<2)){var d=Math.max(Math.min((e-o.dataChangedAt)/r,1),0),f=t.getContext("2d"),c=o.maxValue;f.strokeStyle=i,f.lineWidth=s;var p=t.height-f.lineWidth,h=f.createLinearGradient(0,0,0,p);h.addColorStop(0,"transparent"),h.addColorStop(1,o.fillColor),f.fillStyle=h;var m=a.length>=l?l:a.length;f.setTransform(1,0,0,-1,0,t.height),f.clearRect(0,0,t.width,t.height),f.translate(0,.5*f.lineWidth);var y=Math.floor(t.width/(m-3)),v=.5*y,g=y-y*d;f.translate(g,0),f.beginPath();var _=void 0,E=void 0,S=-y;a.forEach(function(e,t){_={x:S,y:p*e/c},0===t?f.moveTo(_.x,_.y):f.bezierCurveTo(E.x+v,E.y,_.x-v,_.y,_.x,_.y),E=_,S+=y}),f.stroke(),f.lineTo(S-y,0),f.lineTo(0,0),f.fill(),u&&d<1&&(o.animationFrameRequestId=window.requestAnimationFrame(o.updateAnimation))}}},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onDataUpdate=function(e,t){var n=this.props,o=n.maxValue,a=n.data,r=n.animate,l=null==e||e.data!==t.data&&!s.default.isEqual(e.data,t.data);if(l&&(this.dataChangedAt=performance.now(),this.maxValue=null!=o?o:Math.max.apply(Math,a)),l||null==e||!e.animate&&r||e.color!==this.props.color){var u=i.hexToRgb(this.props.color);this.fillColor="rgba("+u.r+", "+u.g+", "+u.b+", 0.5)",window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}},t.prototype.componentDidMount=function(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)},t.prototype.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)},t.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0},t.prototype.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return a("div",{className:t},void 0,r.createElement("canvas",{ref:this.canvas,className:l.default.canvas,width:n,height:o}))},t}(r.PureComponent);c.defaultProps={animate:!0},t.default=c,e.exports=t.default},7290:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(6211)),s=c(n(40)),u=c(n(7289)),d=c(n(6)),f=c(n(5847));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=1e3;var m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return n=o=p(this,e.call.apply(e,[this].concat(l))),o.renderBody=function(e,t,n){var r,l=o.props,c=l.title,p=l.className,m=l.color,y=l.animate;return a("div",{className:(0,i.default)(f.default.monitor,p)},void 0,a(s.default,{align:s.default.Align.CENTER},void 0,a(s.default,{className:f.default.text,direction:s.default.Direction.VERTICAL},void 0,a("div",{className:f.default.title},void 0,c),a("div",{className:f.default.rate},void 0,(r=e[e.length-1]/t*1e3)>h?d.default.Messages.FILE_RATE_MB.format({size:Math.round(r/h)}):d.default.Messages.FILE_RATE_KB.format({size:Math.round(r)}))),a("div",{className:f.default.overflowContainer},void 0,a(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:f.default.sparkChart,updateInterval:t,color:m,numUpdatesToShow:n,animate:y,pixelWidth:600,pixelHeight:48,lineWidth:4}))))},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)},t}(r.PureComponent);t.default=m,e.exports=t.default},7291:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===r)t.children=o;else if(r>1){for(var s=Array(r),u=0;u<r;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),f=Y(n(1)),c=H(n(9)),p=H(n(3)),h=H(n(8)),m=H(n(2)),y=H(n(69)),v=H(n(383)),g=H(n(27)),_=H(n(191)),E=H(n(44)),S=Y(n(171)),b=Y(n(33)),C=H(n(38)),T=H(n(7290)),N=H(n(6211)),O=H(n(989)),I=H(n(6432)),A=H(n(40)),M=H(n(64)),R=H(n(79)),P=H(n(142)),w=H(n(1004)),L=H(n(372)),D=n(968),U=H(n(1005)),k=H(n(991)),F=Y(n(127)),x=n(382),G=H(n(959)),B=n(0),j=H(n(6)),V=H(n(5845));function H(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $=function(e){var t=e.className,n=e.children,o=e.onContextMenu,a=e.item;return d("div",{className:t,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return o(e,a)})},void 0,n)},q=function(e){var t=e.tooltip,n=e.onClick,o=e.icon;return d(P.default,{text:t},void 0,d(M.default,{className:V.default.actionButton,innerClassName:V.default.actionButtonContents,color:M.default.Colors.PRIMARY,size:M.default.Sizes.ICON,onClick:n},void 0,d(R.default,{name:o,className:V.default.actionIcon})))};function X(e,t){switch(t){case B.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case B.DispatchApplicationStages.PLANNING:case B.DispatchApplicationStages.FINALIZING:case B.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,x.formatSize)(e,{useKibibytes:!0})}}var Q=Object.freeze(((i={})[B.LocalDispatchApplicationStates.INSTALLING]=((o={})[D.TimeUnits.NONE]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[D.TimeUnits.SECONDS]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:o})},o[D.TimeUnits.MINUTES]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:o})},o[D.TimeUnits.HOURS]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:o})},o),i[B.LocalDispatchApplicationStates.UPDATING]=((a={})[D.TimeUnits.NONE]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[D.TimeUnits.SECONDS]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:o})},a[D.TimeUnits.MINUTES]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:o})},a[D.TimeUnits.HOURS]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:o})},a),i[B.LocalDispatchApplicationStates.REPAIRING]=((r={})[D.TimeUnits.NONE]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[D.TimeUnits.SECONDS]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:o})},r[D.TimeUnits.MINUTES]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:o})},r[D.TimeUnits.HOURS]=function(e,t,n,o){return j.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:o})},r),i));function J(e,t,n,o,a){var r=null!=e?e/60:null,i=null!=Q[t]?Object.keys(Q[t]):[],l=(0,D.getTimeAndUnit)(r,i),s=l.unit,u=l.time,d=Q[t];if(null!=d&&null!=s){var f=d[s];return null!=f?f(n,o,a,u):null}return null}function Z(e,t,n,o,a,r){var i=X(a,t),l=X(o,t);switch(t){case B.DispatchApplicationStages.QUEUED:return 0===o?j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:l,total:i});case B.DispatchApplicationStages.PLANNING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case B.DispatchApplicationStages.ALLOCATING_DISK:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case B.DispatchApplicationStages.PATCHING:return J(r,e,n,l,i);case B.DispatchApplicationStages.FINALIZING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case B.DispatchApplicationStages.PAUSING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:l,total:i});case B.DispatchApplicationStages.VERIFYING:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:l,total:i});case B.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:l,total:i});case B.DispatchApplicationStages.REPAIRING:return e===B.LocalDispatchApplicationStates.REPAIRING?J(r,e,n,l,i):j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:l,total:i})}throw new Error("Invalid Dispatch stage")}function ee(e,t){b.openContextMenu(e,function(e){return f.createElement(O.default,u({},e,{type:B.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES,application:t.application,analyticsLocation:B.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}))})}var te="name",ne="progress",oe="actions",ae=function(e){function t(){var n,o;W(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=z(this,e.call.apply(e,[this].concat(r))),o.renderProgressPatchingBody=function(e,t){var n=o.props.item.state;if(null==n)return null;var a=n.stage,r=n.progress,i=n.total,l=n.type;if(null==r||null==i||null==a)return null;var s=e[e.length-1]/t*1e3,u=i-r,d=0!==s?Math.max(1,u/s):null,f=F.calculateDownloadProgressPercentage(r,i),c=Math.floor(f);return o.renderBody({percent:f,message:Z(l,a,c,r,i,d),foregroundGradientColor:[B.Colors.BRAND_300,B.Colors.BRAND_500],color:B.Colors.BRAND})},z(o,n)}return K(t,e),t.prototype.renderBody=function(e){var t=e.percent,n=e.color,o=e.foregroundGradientColor,a=e.message;return d(A.default,{direction:A.default.Direction.VERTICAL},void 0,d(w.default,{percent:t,size:w.default.Sizes.SMALL,backgroundColor:B.Colors.PRIMARY_800,foregroundColor:n,foregroundGradientColor:o,animate:this.isFocused}),d("div",{className:V.default.progressCellText},void 0,null!=a?a:""))},t.prototype.renderFinished=function(){var e=this.props.item;return this.renderBody({message:j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return S.removeFinished(e.applicationId,e.branchId)}}),color:B.Colors.PRIMARY_630,percent:100})},t.prototype.renderQueued=function(){var e=this.props.item.state,t=void 0,n=void 0;if(null!=e){var o=e.progress,a=e.total,r=e.stage;if(null!=o&&null!=a){var i=X(a,r),l=X(o,r);n=F.calculateDownloadProgressPercentage(o,a);var s=Math.floor(n);t=r===B.DispatchApplicationStages.PAUSING?j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:s,progress:l,total:i}):j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:s,progress:l,total:i})}}return null!=n&&null!=t||(n=0,t=j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:n,color:B.Colors.PRIMARY,message:t})},t.prototype.renderPaused=function(){var e=this.props.item.state;if(null==e)return null;var t=e.progress,n=e.total;if(null==t||null==n)return null;var o=F.calculateDownloadProgressPercentage(t,n),a=Math.floor(o);return this.renderBody({message:j.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:a,progress:(0,x.formatSize)(t),total:(0,x.formatSize)(n)}),color:B.Colors.PRIMARY,percent:o})},t.prototype.renderProgressPatching=function(){return d(N.default,{getHistoricalTotalBytes:y.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)},t.prototype.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,o=e.stage,a=e.type;if(null==t||null==n||null==o)return null;var r=F.calculateDownloadProgressPercentage(n,t),i=Math.floor(r);return this.renderBody({percent:r,message:Z(a,o,i,n,t),foregroundGradientColor:[B.Colors.BRAND_300,B.Colors.BRAND_500],color:B.Colors.BRAND})},t.prototype.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case B.DispatchApplicationStages.PATCHING:case B.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==B.LocalDispatchApplicationStates.UPDATING&&t.state.type!==B.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==B.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()},s(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]),t}(f.PureComponent),re=function(){return d(q,{icon:R.default.Names.PAUSE,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return S.pause()}})},ie=function(e){var t=e.item;return d(q,{icon:R.default.Names.ARROW_UP,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return S.moveUp(t.applicationId,t.branchId)}})},le=function(e){var t=e.item;return d(q,{icon:R.default.Names.CLOSE,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return S.cancel(t.applicationId,t.branchId)}})},se=d(function(){return d(q,{icon:R.default.Names.PLAY,tooltip:j.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return S.resume()}})},{}),ue=[{key:te,cellClassName:V.default.nameCell,render:function(e){return d(A.default,{align:A.default.Align.CENTER,onClick:function(){return function(e){C.default.push(k.default,{game:e.application,source:B.AnalyticsLocations.APPLICATION_LIBRARY,isModal:!0})}(e)}},void 0,d(L.default,{game:e.application,className:V.default.gameIcon,size:L.default.Sizes.SMALL}),d("div",{className:V.default.nameCellText},void 0,e.application.name))}},{key:ne,cellClassName:V.default.progressCell,headerCellClassName:V.default.progressCellHeader,bodyCellClassName:V.default.progressCellBody,render:function(e,t){return d(ae,{item:e,cellProps:t})}},{key:oe,cellClassName:V.default.actionsCell,render:function(e,t){var n=void 0,o=void 0;return e.finished?n=d(U.default,{game:e.application,size:M.default.Sizes.SMALL,className:V.default.gameActionButton,source:B.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null!=e.state?e.state.type!==B.LocalDispatchApplicationStates.UP_TO_DATE&&(n=e.index>0?d(ie,{item:e}):null!=t&&t.paused?se:d(re,{item:e}),o=d(le,{item:e})):o=d(le,{item:e}),d(A.default,{justify:A.default.Justify.END},void 0,n,o)}}],de=function(e){function t(){var n,o;W(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=z(this,e.call.apply(e,[this].concat(r))),o.isUnmounted=!1,o.isTallerThanHalfViewport=!1,o.throttledUpdateHeight=h.default.throttle(function(){if(!o.isUnmounted){var e=o.props,t=e.height,n=e.onHeightTallerThanHalfViewportChange,a=t>window.innerHeight/2;o.isTallerThanHalfViewport!==a&&(o.isTallerThanHalfViewport=a,n(a))}},1e3),z(o,n)}return K(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)},t.prototype.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()},t.prototype.componentWillUnmount=function(){this.props.applications.forEach(function(e){e.finished&&m.default.wait(function(){S.removeFinished(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0},t.prototype.render=function(){var e=this.props,t=e.applications,n=e.paused,o=e.isFocused;return 0===t.length?null:d("div",{className:V.default.gameUpdates},void 0,d("div",{className:V.default.headerRow},void 0,d(T.default,{className:(0,c.default)(V.default.headerCell,V.default.networkProgress),title:j.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:y.default.getHistoricalTotalBytesDownloaded,color:B.Colors.STATUS_GREEN,animate:o}),d(T.default,{className:(0,c.default)(V.default.headerCell,V.default.diskProgress),title:j.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:y.default.getHistoricalTotalBytesWritten,color:B.Colors.LINK,animate:o})),d(I.default,{hasHeader:!1,columns:ue,data:t,className:V.default.table,rowClassName:V.default.row,rowComponent:$,cellProps:{paused:n,isFocused:o},rowProps:{onContextMenu:ee},bodyCellClassName:V.default.cell}))},t}(f.PureComponent);function fe(e,t){return e.reduce(function(e,n,o){var a=n.applicationId,r=n.branchId,i=g.default.getGame(a),l=y.default.getState(a,r);return null!=i&&e.push({id:a+":"+r,applicationId:a,branchId:r,state:l,application:i,finished:t,index:o}),e},[])}t.default=(0,G.default)(p.default.connectStores([y.default,v.default,g.default,E.default,_.default],function(){var e=fe(v.default.activeItems,!1),t=fe(v.default.finishedItems,!0);return{applications:[].concat(e,t),paused:v.default.paused,isFocused:_.default.isFocused()}})(de)),e.exports=t.default},7292:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=C(n(1)),i=b(n(3)),l=b(n(9)),s=b(n(2)),u=C(n(231)),d=n(6237),f=b(n(6079)),c=b(n(965)),p=b(n(949)),h=b(n(6273)),m=C(n(6433)),y=b(n(939)),v=b(n(79)),g=b(n(87)),_=n(0),E=b(n(6)),S=b(n(5849));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=T(this,e.call.apply(e,[this].concat(r))),o.inputRef=null,o.setRef=function(e){o.inputRef=e},o.handleKeyDown=function(e){var t=o.props,n=t.activeRowId,a=t.hasModalOpen,r=t.applicationViewItems;if(!(a||e.ctrlKey||e.altKey||e.metaKey||document.activeElement!==o.inputRef&&(0,d.isInputLikeElement)(document.activeElement)))switch(e.which){case _.KeyboardKeys.ESCAPE:e.target!==o.inputRef?o.reset():null!=o.inputRef&&o.inputRef.blur();break;case _.KeyboardKeys.ENTER:if(null!=n){e.preventDefault();var i=r.find(function(e){return e.id===n});if(null==i)return;var l=i.libraryApplication;u.performDefaultLibraryApplicationAction(l,_.AnalyticsLocations.APPLICATION_LIBRARY)}break;case _.KeyboardKeys.ARROW_DOWN:case _.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),o.updateActiveRow(e.which===_.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=o.inputRef&&e.target!==o.inputRef&&o.inputRef.focus()}},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){s.default.wait(function(){return m.updateActiveRowId(null)}),document.removeEventListener("keydown",this.handleKeyDown)},t.prototype.reset=function(){m.updateActiveRowId(null),m.updateLibraryFilter("")},t.prototype.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,o=t.activeRowId,a=n.findIndex(function(e){return e.id===o}),r=0;a>=0&&(r=(a+e)%n.length)<0&&(r=n.length-1);var i=n[r];m.updateActiveRowId(null!=i?i.id:null,!0)},t.prototype.render=function(){var e,t,n=this.props.filterQuery;return a("div",{className:S.default.libraryFilter},void 0,a(y.default,{className:S.default.libraryFilterInputWrapper,inputClassName:S.default.libraryFilterInput,inputRef:this.setRef,size:y.default.Sizes.MINI,onChange:m.updateLibraryFilter,name:"filter",maxLength:100,value:n,placeholder:E.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}),a(v.default,{className:(0,l.default)(S.default.icon,(e={},e[S.default.iconVisible]=""===n,e)),name:v.default.Names.SEARCH}),a(g.default,{onClick:this.reset},void 0,a(v.default,{className:(0,l.default)(S.default.icon,S.default.clearIcon,(t={},t[S.default.iconVisible]=""!==n,t)),name:v.default.Names.CLEAR})))},t}(r.PureComponent);t.default=i.default.connectStores([f.default,c.default,p.default,h.default],function(){return{filterQuery:f.default.applicationFilterQuery,applicationViewItems:f.default.sortedFilteredLibraryApplicationViewItems,hasModalOpen:p.default.hasModalOpen()||c.default.hasLayers(),activeRowId:h.default.activeRowId}})(N),e.exports=t.default},7293:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=C(n(1)),i=b(n(3)),l=b(n(9)),s=b(n(539)),u=b(n(537)),d=b(n(6276)),f=C(n(6275)),c=b(n(265)),p=b(n(7292)),h=b(n(7291)),m=b(n(7287)),y=b(n(6020)),v=b(n(6)),g=b(n(554)),_=b(n(11)),E=n(0),S=b(n(5843));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=a(p.default,{}),O=a(d.default,{}),I=a(s.default,{title:"Discord"}),A=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=T(this,e.call.apply(e,[this].concat(i))),o._scrollerRef=r.createRef(),o._scrollToPadding=0,o.state={includeUpdatesInScroller:!1},o.handleHeightTallerThanHalfViewportChange=function(e){o.setState({includeUpdatesInScroller:e})},o.scrollToRow=function(e,t){var n=o._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoView(e,!1,{top:t,bottom:t}),o._scrollToOnMount=null):(o._scrollToOnMount=e,o._scrollToPadding=t)},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.setHomeLink(E.Routes.GAME_LIBRARY),_.default.embedded||g.default.requestRedirect(E.RPCCommands.DEEP_LINK,{type:E.RPCDeepLinks.LIBRARY}),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)},t.prototype.renderToolbar=function(){return N},t.prototype.render=function(){var e,t=this.props,n=t.shouldExperimentRedirect,o=t.location;if(n)return O;var i=this.state.includeUpdatesInScroller,s=a("div",{},void 0,a(h.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange}));return a("div",{className:S.default.gameLibrary},void 0,I,a(y.default,{className:S.default.libraryHeader,title:v.default.Messages.GAME_LIBRARY,renderToolbar:this.renderToolbar}),i?null:s,r.createElement(c.default,{outerClassName:(0,l.default)((e={},e[S.default.stickyScroller]=!i,e)),ref:this._scrollerRef,theme:c.default.Themes.GHOST_HAIRLINE},i?s:null,a(m.default,{stickyHeader:!i,scrollToRow:this.scrollToRow,location:o})))},t}(r.PureComponent);t.default=i.default.connectStores([u.default],function(){return{shouldExperimentRedirect:u.default.isLoaded()&&!u.default.isInExperiment()}})(A),e.exports=t.default},7294:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6)),l=s(n(5852));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("div",{className:l.default.emptyState},void 0,a("div",{className:l.default.title},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_TITLE),a("div",{className:l.default.subtitle},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_SUBTITLE))},t}(r.PureComponent);t.default=u,e.exports=t.default},7295:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(959)),s=p(n(64)),u=p(n(40)),d=p(n(67)),f=p(n(6)),c=(n(0),p(n(5854)));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=n(1225),y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=o=h(this,e.call.apply(e,[this].concat(l))),o.handleApplicationClick=function(e,t){var n=o.props.onApplicationClick;null==n||t.disabled||n(e,t)},o.handlePlayClick=function(e,t){e.stopPropagation();var n=o.props.onApplicationPlay;null==n||t.disabled||n(t)},o.handleApplicationContextMenu=function(e,t){var n=o.props.onApplicationContextMenu;null==n||t.disabled||n(e,t)},o.renderIcon=function(e){var t,n=o.props.dockItemClassName,r=null!=e.iconSrc?e.iconSrc:m;return a(u.default,{direction:u.default.Direction.VERTICAL,shrink:0,grow:0,align:u.default.Align.CENTER,className:(0,i.default)(c.default.dockItem,n),onContextMenu:function(t){return o.handleApplicationContextMenu(t,e)},onClick:function(t){return t.shiftKey?o.handlePlayClick(t,e):o.handleApplicationClick(t,e)}},e.id,a("div",{className:(0,i.default)(c.default.dockIcon,(t={},t[c.default.dockIconDisabled]=e.disabled,t)),style:{backgroundImage:"url('"+r+"')"}}),a(d.default,{className:c.default.dockItemText,size:d.default.Sizes.SMALL},void 0,e.name),a(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.SMALL,onClick:function(t){return o.handlePlayClick(t,e)},disabled:e.disabled,className:c.default.dockItemPlay,fullWidth:!0},void 0,f.default.Messages.GAME_FEED_ACTIVITY_ACTION_PLAY))},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applications,n=e.className,o=e.width,r=Math.floor(o/90),l=t.slice(0,r).map(this.renderIcon);return a("div",{className:(0,i.default)(c.default.dock,n)},void 0,l)},t}(r.PureComponent);y.defaultProps={disabled:!1},t.default=(0,l.default)(y),e.exports=t.default},7296:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=C(n(1)),l=C(n(545)),s=C(n(231)),u=b(n(27)),d=n(33),f=b(n(989)),c=b(n(991)),p=n(223),h=b(p),m=b(n(40)),y=b(n(7295)),v=n(79),g=b(v),_=(b(n(101)),b(n(6))),E=n(0),S=b(n(5853));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var m=arguments.length,y=Array(m),v=0;v<m;v++)y[v]=arguments[v];return n=o=T(this,e.call.apply(e,[this].concat(y))),o.handleApplicationPlay=function(e){s.playApplication(e.id,e.libraryApplication,{analyticsParams:{source:E.AnalyticsLocations.QUICK_LAUNCHER,num_launcher_applications:o.props.applicationItems.length}})},o.handleApplicationClick=function(e,t){var n=u.default.getGame(t.id);if(null!=n){var a=e.currentTarget;a=a instanceof Element?a:o,l.trackGamePopoutOpened(n,E.AnalyticsLocations.QUICK_LAUNCHER),(0,p.openPopout)(a,{render:function(){return o.renderGamePopout(n)},position:h.default.Positions.BOTTOM_LEFT,closeOnScroll:!1})}},o.handleApplicationContextMenu=function(e,t){var n=u.default.getGame(t.id);null!=n&&(0,d.openContextMenu)(e,function(e){return i.createElement(f.default,r({},e,{type:E.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER,application:n,analyticsLocation:E.AnalyticsLocations.QUICK_LAUNCHER}))})},o.renderGamePopout=function(e){return a(c.default,{popoutKey:"popout:"+e.id,game:e,source:E.AnalyticsLocations.QUICK_LAUNCHER})},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applicationItems,n=e.className,o=0===t.length;return a("div",{className:n},void 0,a(m.default,{align:m.default.Align.CENTER,justify:m.default.Justify.BETWEEN},void 0,a("div",{className:S.default.header},void 0,_.default.Messages.QUICK_LAUNCHER_HEADER)),o?a(m.default,{align:m.default.Align.CENTER,className:S.default.emptyState},void 0,a(g.default,{className:S.default.emptyIcon,name:v.IconNames.OPEN_EXTERNAL}),a("div",{},void 0,_.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT)):a(y.default,{onApplicationPlay:this.handleApplicationPlay,onApplicationClick:this.handleApplicationClick,onApplicationContextMenu:this.handleApplicationContextMenu,applications:t,className:S.default.dock}))},t}(i.PureComponent);t.default=N,e.exports=t.default},7297:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=_(n(1)),l=g(n(9)),s=g(n(521)),u=_(n(545)),d=g(n(41)),f=n(272),c=g(n(6095)),p=g(n(6434)),h=n(6034),m=g(h),y=n(0),v=g(n(5855));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=(0,f.cssValueToNumber)(v.default.carouselHeight),b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=o=E(this,e.call.apply(e,[this].concat(l))),o.state={gamePopoutOpen:!1,visibleIndex:0,direction:1},o.numIntentionalNewsChange=0,o.getCurrentDirection=function(){return o.state.direction},o.nextItem=function(){var e=o.props.items;o.changeItem(e,1)},o.prevItem=function(){var e=o.props.items;o.changeItem(e,-1)},o.handleGamePopoutOpen=function(){o.setState({gamePopoutOpen:!0})},o.handleGamePopoutClose=function(){o.setState({gamePopoutOpen:!1})},o.handleSetItem=function(e){var t=o.state.visibleIndex,n=o.props.items;o.changeItem(n,e-t),o.numIntentionalNewsChange++},o.handleNewsClick=function(e,t,n){null!=t&&u.trackGameNewsOpened(y.AnalyticsLocations.ACTIVITY_FEED,t,n,e,o.props.cardMetadata)},o.handlePromotionClick=function(e){null!=e&&d.default.transitionTo(e.redirectRoute,{analyticsLocation:y.AnalyticsLocations.ACTIVITY_FEED})},o.renderNews=function(e,t){if(null==e)return null;var n=o.state.visibleIndex;if(e.type===y.FeedCarouselItemTypes.GAME_NEWS){var i=e.news,l=e.game;return r(p.default,{itemType:e.type,url:i.url,title:i.title,description:i.description,timestamp:i.timestamp,game:l,onOpen:function(){return o.handleNewsClick(l,i,t)},onGamePopoutOpen:o.handleGamePopoutOpen,onGamePopoutClose:o.handleGamePopoutClose,className:v.default.header,getDirection:o.getCurrentDirection,index:n,thumbnail:a({},i.thumbnail,{height:2*S}),simple:!0,horizontal:!0},n)}var s=e.promotion;return r(p.default,{itemType:e.type,title:s.title,description:s.description,onOpen:function(){return o.handlePromotionClick(s)},className:v.default.header,getDirection:o.getCurrentDirection,index:n,simple:!0,horizontal:!0},n)},o.renderPaginationItem=function(e,t){return r("div",{className:t===o.state.visibleIndex?v.default.dotSelected:v.default.dotNormal},t)},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.numIntentionalNewsChange>0&&u.trackGameNewsChanged(y.AnalyticsLocations.ACTIVITY_FEED,null,this.numIntentionalNewsChange,this.props.cardMetadata)},t.prototype.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0),this.setState({visibleIndex:n,direction:t>0?1:-1})},t.prototype.render=function(){var e=this.props,t=e.items,n=e.paused,o=e.className,a=this.state,i=a.gamePopoutOpen,u=a.visibleIndex;return t.length<1?null:1===t.length?r("div",{className:(0,l.default)(v.default.feedCarousel,o)},void 0,r("div",{className:v.default.smallCarousel},void 0,this.renderNews(t[0],0))):r(c.default,{onInterval:this.nextItem,interval:8e3,disable:n||i,pauseOnHover:!0},void 0,r("div",{className:(0,l.default)(v.default.feedCarousel,o)},void 0,r(s.default,{className:v.default.smallCarousel},void 0,this.renderNews(t[u],u)),r("div",{className:v.default.pagination},void 0,r(h.CarouselPrevious,{onClick:this.prevItem,className:v.default.arrow}),r(m.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:u,onSetItem:this.handleSetItem}),r(h.CarouselNext,{onClick:this.nextItem,className:v.default.arrow}))))},t}(i.PureComponent);t.default=b,e.exports=t.default},7298:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=g(n(1)),l=v(n(9)),s=v(n(521)),u=g(n(545)),d=n(169),f=v(n(41)),c=v(n(6095)),p=v(n(6434)),h=v(n(6034)),m=n(0),y=v(n(5856));function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=300,S=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),h=0;h<s;h++)c[h]=arguments[h];return n=o=_(this,e.call.apply(e,[this].concat(c))),o.state={gamePopoutOpen:!1,visibleIndex:0,direction:1},o.numIntentionalNewsChange=0,o.getCurrentDirection=function(){return o.state.direction},o.nextItem=function(){var e=o.props.items;o.changeItem(e,1)},o.handleGamePopoutOpen=function(){o.setState({gamePopoutOpen:!0})},o.handleGamePopoutClose=function(){o.setState({gamePopoutOpen:!1})},o.handleSetItem=function(e){var t=o.state.visibleIndex,n=o.props.items;o.changeItem(n,e-t),o.numIntentionalNewsChange++},o.handleNewsClick=function(e,t,n){null!=t&&u.trackGameNewsOpened(m.AnalyticsLocations.ACTIVITY_FEED,t,n,e,o.props.cardMetadata)},o.handlePromotionClick=function(e){null!=e&&f.default.transitionTo(e.redirectRoute,{state:{analyticsLocation:m.AnalyticsLocations.CAROUSEL_PROMOTION_UNIT},hash:e.redirectHash,query:"?utm_campaign_current=premium_catalog_test"})},o.renderNews=function(e,t){if(null==e)return null;var n=o.state.visibleIndex;if(e.type===m.FeedCarouselItemTypes.GAME_NEWS){var a=e.news,l=e.game;return i.createElement(p.default,r({},a,{itemType:e.type,game:l,onOpen:function(){return o.handleNewsClick(l,a,t)},onGamePopoutOpen:o.handleGamePopoutOpen,onGamePopoutClose:o.handleGamePopoutClose,className:y.default.article,getDirection:o.getCurrentDirection,key:n,index:n}))}var s=e.promotion;return i.createElement(p.default,r({},s,{itemType:e.type,onOpen:function(){return o.handlePromotionClick(s)},onGamePopoutOpen:o.handleGamePopoutOpen,onGamePopoutClose:o.handleGamePopoutClose,className:y.default.article,getDirection:o.getCurrentDirection,key:n,index:n}))},o.renderPaginationItem=function(e,t){var n=o.state.visibleIndex,r=void 0,i=void 0,s=void 0,u=void 0;if(e.type===m.FeedCarouselItemTypes.GAME_NEWS){var f=e.news,c=e.game;r=f.thumbnail,i=f.title,s=c.getSplashURL(E),u=c.name}else{var p=e.promotion;i=p.title,u=p.subtitle}if(null!=r&&null!=r.proxy_url){var h=r.height/r.width*E;s=(0,d.getSizedImageSrc)(r.proxy_url,E,h,"png")}return a("div",{className:(0,l.default)(y.default.paginationItem,t===n?y.default.selectedPage:null)},t,a("div",{className:e.type===m.FeedCarouselItemTypes.PROMOTION?y.default.promotionBackground:null!=s?y.default.splashArt:y.default.splashBackup,style:null!=s?{backgroundImage:"url("+s+")"}:null}),a("div",{className:y.default.paginationText},void 0,a("h2",{className:y.default.paginationTitle},void 0,i),a("h4",{className:y.default.paginationSubtitle},void 0,u)))},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){return null==e.items[t.visibleIndex]?{visibleIndex:0}:null},t.prototype.componentWillUnmount=function(){this.numIntentionalNewsChange>0&&u.trackGameNewsChanged(m.AnalyticsLocations.ACTIVITY_FEED,null,this.numIntentionalNewsChange,this.props.cardMetadata)},t.prototype.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0),this.setState({visibleIndex:n,direction:t>0?1:-1})},t.prototype.render=function(){var e=this.props,t=e.items,n=e.paused,o=e.className,r=this.state,i=r.gamePopoutOpen,u=r.visibleIndex;return t.length<1?null:1===t.length?a("div",{className:(0,l.default)(y.default.feedCarousel,o)},void 0,a("div",{className:y.default.carousel},void 0,this.renderNews(t[0],0))):a(c.default,{onInterval:this.nextItem,interval:8e3,disable:n||i,pauseOnHover:!0},void 0,a("div",{className:(0,l.default)(y.default.feedCarousel,o)},void 0,a(s.default,{className:y.default.carousel},void 0,this.renderNews(t[u],u)),a("div",{className:y.default.pagination},void 0,a(h.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:u,onSetItem:this.handleSetItem,vertical:!0}))))},t}(i.PureComponent);t.default=S,e.exports=t.default},7510:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(73)),l=_(n(8)),s=_(n(9)),u=_(n(959)),d=_(n(223)),f=_(n(142)),c=_(n(79)),p=_(n(40)),h=n(263),m=n(6238),y=_(n(6270)),v=_(n(6)),g=_(n(5895));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){function t(){var n,o;E(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.renderPopout=function(e){var t=o.props,n=t.renderPopout,a=t.member;return null!=a&&null!=n?n(a,e):null},o.handleUserPopoutOpen=function(){var e=o.props,t=e.onUserPopoutOpen,n=e.member,a=e.position,r=e.members;null!=n&&null!=t&&t(r,n,a)},o.handleClick=function(){var e=o.props,t=e.onClick,n=e.member;null!=n&&null!=t&&t(n)},o.handleUserContextMenu=function(e){var t=o.props,n=t.onContextMenu,a=t.member;null!=a&&null!=n&&n(e,a)},S(o,n)}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.member;return e.empty?a("div",{className:g.default.partyMemberEmpty}):null!=t?a(d.default,{render:this.renderPopout,position:d.default.Positions.LEFT,closeOnScroll:!1,onOpen:this.handleUserPopoutOpen},void 0,a(f.default,{text:t.username},void 0,a(h.AvatarImage,{src:t.getAvatarURL(),size:h.AvatarSizes.SMALL,onContextMenu:this.handleUserContextMenu,onClick:this.handleClick,className:(0,s.default)(g.default.partyMember,g.default.clickable)}))):a(f.default,{text:v.default.Messages.GAME_FEED_UNKNOWN_PLAYER},void 0,a("div",{className:g.default.partyMemberUnknown},void 0,a(c.default,{name:c.default.Names.DISCORD,className:g.default.partyMemberUnknownIcon})))},t}(r.PureComponent),T=function(e){function t(){var n,o;E(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.handleMasonryNodeInserted=function(e){var t=e.node,n=i.default.findDOMNode(o);n instanceof Element&&t.contains(n)&&o.props.triggerResize()},S(o,n)}return b(t,e),t.prototype.componentDidMount=function(){m.MasonryNodeInsertedEmitter.addListener("change",this.handleMasonryNodeInserted)},t.prototype.componentWillUnmount=function(){m.MasonryNodeInsertedEmitter.removeListener("change",this.handleMasonryNodeInserted)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.justify,o=void 0===n?p.default.Justify.END:n,r=e.renderUserPopout,i=e.onUserContextMenu,s=e.onUserPopoutOpen,u=e.partySize,c=e.minInOrderToRender,h=e.members,m=e.width,v=e.overflowPopoutHeader,_=e.overflowTooltip,E=u.unknownSize,S=u.totalSize,b=u.knownSize;if(S<=c)return null;for(var T=Math.floor(m/38),N=(0,l.default)(h).filter(function(e){return null!=e}).map(function(e,t){return a(C,{position:t+1,member:e,members:h,renderPopout:r,onContextMenu:i,onUserPopoutOpen:s},e.id)}).take(T).value(),O=N.length,I=0;I<E&&N.length<T;I++)N.push(a(C,{position:O+I},"unknown-member-"+I));O=N.length;for(var A=0;A<S-b-E&&N.length<T;A++)N.push(a(C,{position:O+A,empty:!0},"empty-member-"+A));var M=a(y.default,{party:h,header:v});if(N.length<S){N.pop();var R=Math.min(S-N.length,99);N.push(a(d.default,{render:function(){return M}},"overflow",a(f.default,{text:_.format({overflow:R})},void 0,a("div",{className:g.default.partyMemberOverflow},void 0,"+",R))))}return a(p.default,{justify:o,className:t},void 0,N)},t}(r.PureComponent);t.default=(0,u.default)(T),e.exports=t.default},7511:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=V(n(1)),s=j(n(9)),u=n(113),d=j(n(65)),f=j(n(194)),c=j(n(20)),p=V(n(545)),h=j(n(5995)),m=j(n(41)),y=n(81),v=j(n(6706)),g=j(n(163)),_=j(n(223)),E=j(n(64)),S=j(n(263)),b=j(n(5992)),C=j(n(7510)),T=j(n(968)),N=j(n(40)),O=j(n(79)),I=j(n(87)),A=j(n(372)),M=j(n(6705)),R=j(n(1030)),P=j(n(1216)),w=j(n(541)),L=j(n(531)),D=j(n(6271)),U=j(n(6704)),k=j(n(6)),F=n(0),x=j(n(5894)),G=j(n(5569)),B=j(n(1002));function j(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o=H(this,e.call.apply(e,[this].concat(i))),o.state={isHovered:!1,isOverflowOpen:!1},o.renderUserPopout=function(e,t){return l.createElement(L.default,r({},t,{user:e}))},o.setRef=function(e){var t=o.props.setRef;null!=t&&t(e)},o.handleMouseEnter=function(){o.setState({isHovered:!0})},o.handleMouseLeave=function(){o.setState({isHovered:!1})},o.handleOverflowOpen=function(e,t){o.setState({isOverflowOpen:!0}),o.props.onUserContextMenu(e,t,F.ContextMenuTypes.USER_ACTIVITY_FEED,o.handleOverflowClose)},o.handleOverflowClose=function(){o.setState({isOverflowOpen:!1})},o.handleMessageUser=function(e,t){var n=o.props,a=n.index,r=n.loadId,i=n.party,l=n.onMessageUser,s=i.currentActivities.length>0?i.currentActivities[0].game:null;l(e,t).then(function(e){p.trackUserMessaged(t,e,s,i,{loadId:r,index:a,type:F.ActivityCardTypes.USER})})},o.handleChannelClick=function(e,t,n){if(null!=t&&null!=n){var a=r({},o.getGamePlatformData(),o.analyticsMetadata,{af_voice_chat:!0,af_people_count:e.length,af_recently_played:!1,af_rich_presence:!1,guild_id:t.id,channel_id:n.id});f.default.trackWithMetadata(F.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,a);var i=d.default.getChannelId(t.id),l=null!=i?F.Routes.CHANNEL(t.id,i):F.Routes.GUILD(t.id);m.default.transitionTo(l),h.default.channelListScrollTo(t.id,n.id)}},o.handleGuildClick=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r({},o.getGamePlatformData(),o.analyticsMetadata,{af_voice_chat:n,af_people_count:t.length,guild_id:e.id});f.default.trackWithMetadata(F.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,a)},o.handleUserPopoutOpen=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=r({},o.getGamePlatformData(),o.analyticsMetadata,{popout_user_id:e.id,avatar_position:n,af_voice_chat:i,af_people_count:t.length,af_rich_presence:l});null!=a&&(s.game_id=a.id,s.game_name=a.name),c.default.track(F.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,s)},H(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSplashArtURL=function(){var e=this.props.party.currentActivities;return e.length>0?e[0].game.getSplashURL(740):null},t.prototype.getPartyActivitySize=function(e,t){var n=e.length,o=0,a=void 0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var r=t.party.size;o=Math.max(r[0]-e.length,0),a=r[1]}else a=n+o;return{knownSize:n,unknownSize:o,totalSize:a}},t.prototype.getGamePlatformData=function(){var e=this.props.party;return null!=e?{game_platform:e.currentActivities.length>0?(0,u.getGamePlatform)(e.currentActivities[0].activity):null}:null},t.prototype.renderSoloCardHeader=function(e){var t,n=this,o=this.state,r=o.isHovered,i=o.isOverflowOpen,l=this.props.onUserContextMenu,u=e.user,d=e.status;return a("div",{className:(0,s.default)(x.default.header,(t={},t[x.default.headerOverflowOpen]=i,t))},void 0,a(_.default,{render:function(e){return n.renderUserPopout(u,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(u)},closeOnScroll:!1},void 0,a(S.default,{className:x.default.avatar,src:u.getAvatarURL(r&&(0,y.hasAnimatedAvatar)(u)?"gif":"png"),status:d,size:S.default.Sizes.LARGE,onContextMenu:function(e){return l(e,u)}})),a(_.default,{render:function(e){return n.renderUserPopout(u,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(u)},closeOnScroll:!1},void 0,a(w.default,{user:u,usernameClass:x.default.username,discriminatorClass:x.default.discriminator,onContextMenu:function(e){return l(e,u)}})),a(N.default,{className:x.default.headerActions,align:N.default.Align.CENTER,justify:N.default.Justify.END},void 0,a(E.default,{color:G.default.headerButtonColor,hover:E.default.Hovers.BRAND,size:E.default.Sizes.SMALL,onClick:function(e){return n.handleMessageUser(e,u)}},void 0,k.default.Messages.GAME_FEED_ACTION_MESSAGE),a(E.default,{look:E.default.Looks.BLANK,size:E.default.Sizes.NONE,onClick:function(e){return n.handleOverflowOpen(e,u)}},void 0,a(O.default,{name:O.default.Names.OVERFLOW_MENU,className:x.default.overflowMenu}))))},t.prototype.renderPartiedCardHeader=function(e){var t=this,n=this.props.party,o=n.guildContext,r=n.isSpotifyActivity,i=e.map(function(n,o){var r,i=o===e.length-1;return a(_.default,{render:function(e){return t.renderUserPopout(n.user,e)},position:_.default.Positions.RIGHT,onOpen:function(){return t.handleUserPopoutOpen(n.user,e,o+1)},closeOnScroll:!1},n.user.id,a("span",{className:(0,s.default)(x.default.usernamePartied,(r={},r[x.default.usernameSpacing]=i,r)),onContextMenu:function(e){return t.props.onUserContextMenu(e,n.user)}},void 0,n.user.username+(i?"":", ")))});return a("div",{className:x.default.header},void 0,null!=o?a(b.default,{size:b.default.Sizes.MEDIUM,guild:o,className:x.default.guildIcon,to:F.Routes.GUILD(o.id),onContextMenu:function(e){return t.props.onGuildContextMenu(e,o)},onClick:function(){return t.handleGuildClick(o,e,!1)}}):a("div",{className:x.default.headerGroupIconBackground},void 0,a(O.default,{name:O.default.Names.PEOPLE,className:x.default.headerGroupIcon})),a("div",{className:x.default.headerText},void 0,a("div",{className:x.default.headerTitle},void 0,null!=o?k.default.Messages.GAME_FEED_CARD_HEADER_GROUP_GUILD.format({count:e.length,guild:o}):r?k.default.Messages.GAME_FEED_CARD_HEADER_SPOTIFY_GROUP:k.default.Messages.GAME_FEED_CARD_HEADER_GROUP.format({count:e.length})),a("div",{className:x.default.headerSubtitle},void 0,i)))},t.prototype.renderHeader=function(){var e=this.props.party.priorityMembers;return 1===e.length?this.renderSoloCardHeader(e[0]):this.renderPartiedCardHeader(e)},t.prototype.renderVoiceChannel=function(e,t,n){var o,r=this,i=this.props,l=i.party,u=i.onUserContextMenu,d=i.onGuildContextMenu,f=i.onChannelContextMenu;return a(N.default,{align:N.default.Align.CENTER,className:(0,s.default)(x.default.voiceChannel,(o={},o[x.default.bottomSeparator]=l.currentActivities.length>0,o))},n.id+"-"+t.id,null!=l.guildContext?a("div",{className:x.default.guildIconEmptyBackground},void 0,a(O.default,{className:x.default.guildIconEmptyIcon,name:O.default.Names.SPEAKER})):a("div",{className:x.default.guildIconWrapper},void 0,a(b.default,{className:x.default.voiceGuildIcon,showTooltip:!0,showVerified:!0,guild:n,size:b.default.Sizes.MEDIUM,to:F.Routes.GUILD(n.id),onContextMenu:function(e){return d(e,n)},onClick:function(){return r.handleGuildClick(n,e,!0)}}),a(O.default,{name:O.default.Names.SPEAKER,className:x.default.voiceChannelIcon})),a(I.default,{className:x.default.channelName,onClick:function(){return r.handleChannelClick(e,n,t)},onContextMenu:function(e){return f(e,t)}},void 0,t.name),a("div",{className:x.default.partyAvatars},void 0,a(C.default,{renderUserPopout:this.renderUserPopout,onUserContextMenu:u,onUserPopoutOpen:function(e,t,n){return r.handleUserPopoutOpen(t,e,n,null,!0,!1)},overflowPopoutHeader:k.default.Messages.GAME_FEED_VOICE_OVERFLOW_COUNT.format({count:e.length}),overflowTooltip:k.default.Messages.GAME_FEED_VOICE_OVERFLOW,members:e,partySize:this.getPartyActivitySize(e),minInOrderToRender:0})))},t.prototype.renderActivity=function(e,t){var n,o=this,r=e.game,i=e.activity,l=e.playingMembers,d=this.props,f=d.party,c=f.showPlayingMembers,p=f.isSpotifyActivity,h=d.onUserContextMenu,m=d.onApplicationContextMenu,y=(0,u.hasRichActivity)(i),v=null!=i&&y,_=this.getPartyActivitySize(l,i),S=(0,u.isStreaming)(i)?(0,u.getStreamURL)(i):null,b=null==S&&(c||v&&_.totalSize>1)?a("div",{className:x.default.partyAvatars},void 0,a(C.default,{justify:N.default.Justify.END,renderUserPopout:this.renderUserPopout,onUserContextMenu:h,onUserPopoutOpen:function(e,t,n){return o.handleUserPopoutOpen(t,e,n,r,!1,y)},overflowPopoutHeader:p?k.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:l.length}):k.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:l.length}),overflowTooltip:p?k.default.Messages.GAME_FEED_SPOTIFY_OVERFLOW:k.default.Messages.GAME_FEED_USER_OVERFLOW,members:l,partySize:_,minInOrderToRender:0})):null;return a("div",{className:(0,s.default)(x.default.game,(n={},n[x.default.bottomSeparator]=!t,n))},r.id,a(N.default,{align:N.default.Align.CENTER},void 0,a(D.default,{game:r,source:F.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:B.default.iconHover},void 0,a(A.default,{game:r,onContextMenu:function(e){return m(e,r)}})),a("div",{className:y?x.default.gameInfoRich:x.default.gameInfo},void 0,null!=S?a("div",{className:x.default.streamInfo},void 0,a("div",{className:x.default.gameName},void 0,r.name),a(g.default,{className:x.default.playTime,href:S},void 0,(0,u.getSimpleStreamURL)(S))):a("div",{className:x.default.gameNameWrapper},void 0,a(D.default,{game:r,source:F.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:B.default.textHover},void 0,a("div",{className:x.default.gameName,onContextMenu:function(e){return m(e,r)}},void 0,r.name))),y?null:(0,u.isOnXbox)(i)?a("span",{className:x.default.playTime},void 0,k.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX):a(T.default,{className:x.default.playTime,start:e.startedPlayingTime,end:e.stoppedPlayingTime,location:T.default.Locations.ACTIVITY_FEED}),null!=i&&y?a(P.default,{reverse:!0,showPrimaryActionOnly:!this.state.isHovered,color:E.default.Colors.PRIMARY,hover:E.default.Hovers.BRAND,look:E.default.Looks.FILLED,type:R.default.Types.ACTIVITY_FEED,source:"Activity Feed Flipped",activity:i,user:e.activityUser}):null),c&&!v?b:null),v?a(N.default,{className:x.default.richActivity},void 0,a(R.default,{hideHeader:!0,hideName:!p,showActions:!1,type:R.default.Types.ACTIVITY_FEED,user:e.activityUser,activity:i,source:"Activity Feed Flipped",className:x.default.activity}),b):null)},t.prototype.renderActivities=function(e,t,n){var o=this;return 0===e.length?null:a(M.default,{title:t,className:n},void 0,e.map(function(t,n){return o.renderActivity(t,n===e.length-1)}))},t.prototype.renderVoiceChannels=function(){var e=this,t=this.props.party.voiceChannels;return 0===t.length?null:a(M.default,{},void 0,t.map(function(t){var n=t.members,o=t.channel,a=t.guild;return e.renderVoiceChannel(n,o,a)}))},t.prototype.render=function(){return l.createElement(v.default,{ref:this.setRef,className:x.default.card,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a(v.default.Header,{className:x.default.cardHeader,splashArtURL:this.getSplashArtURL()},void 0,this.renderHeader()),a(v.default.Body,{className:x.default.cardBody},void 0,this.renderVoiceChannels(),this.renderActivities(this.props.party.currentActivities)))},i(t,[{key:"analyticsMetadata",get:function(){var e=this.props;return{card_index:e.index,load_id:e.loadId,card_type:e.party.partiedMembers.length>1?F.ActivityCardTypes.GROUP:F.ActivityCardTypes.USER}}}]),t}(l.PureComponent);t.default=(0,U.default)(Y),e.exports=t.default},7873:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(3)),s=n(6707),u=E(s),d=E(n(6238)),f=E(n(549)),c=E(n(553)),p=E(n(559)),h=E(n(170)),m=E(n(12)),y=E(n(27)),v=E(n(380)),g=E(n(6)),_=E(n(5896));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=S(this,e.call.apply(e,[this].concat(i))),o.isEmpty=null,o.renderEmptyState=function(){return o.props.hasNowPlayingItem?null:r("div",{className:_.default.emptyImage})},o.renderHeader=function(){var e=o.props,t=e.items,n=e.hasNowPlayingSection;return 0===t.length?null:r("div",{className:n?_.default.headerWithNowPlaying:_.default.headerWithoutNowPlaying},void 0,g.default.Messages.GAME_FEED_WHAT_IS_NEW_HEADER_TITLE)},o.getItemId=function(e){return e.gameId},o.setCardRef=function(e,t,n){o.props.onCardRef(e,t,n.length)},o.renderCard=function(e,t,n){var a=e.gameId,i=e.game,l=e.players,d=e.news;return r(u.default,{type:s.GameCardTypes.RECENTLY_PLAYED,setActivityFeedCardRef:function(e){return o.setCardRef(e,a,l)},game:i,news:d,onVideoPlay:o.handleVideoPlay,players:l,width:t,index:n,loadId:o.props.loadId},a)},o.handleVideoPlay=function(){o.videoStartPlayingTime=Date.now()},S(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateIsEmpty()},t.prototype.shouldComponentUpdate=function(){var e=this.videoStartPlayingTime;return null==e||Date.now()-e>3e5},t.prototype.componentDidUpdate=function(){this.updateIsEmpty()},t.prototype.updateIsEmpty=function(){var e=this.props,t=e.items,n=e.onEmptyChange,o=0===t.length;this.isEmpty!==o&&(this.isEmpty=o,n(o))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.maxColumns,o=e.desiredItemWidth,r=e.maxItemWidth,l=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["items","maxColumns","desiredItemWidth","maxItemWidth"]);return i.createElement(d.default,a({},l,{items:t,renderEmpty:this.renderEmptyState,renderHeader:this.renderHeader,renderItem:this.renderCard,maxColumns:n,getItemId:this.getItemId,desiredItemWidth:o,maxItemWidth:r,className:_.default.root}))},t}(i.Component);t.default=l.default.connectStores([c.default,p.default,f.default,y.default,v.default,h.default,m.default],function(){var e=function(e){var t={};for(var n in e)if(h.default.isOnFeed(n))for(var o in e[n]){var a=y.default.getGame(o);if(null!=a&&!h.default.isUnsubscribedToGame(a.id)){var r=p.default.getUserGame(n);if(null==r||r.gameId!==o){var i=c.default.gamesByUser[n][o].date;null==t[o]?t[o]={players:[{userId:n,stoppedPlaying:i}],mostRecentStoppedPlaying:i}:(t[o].players.push({userId:n,stoppedPlaying:i}),t[o].mostRecentStoppedPlaying<i&&(t[o].mostRecentStoppedPlaying=i))}}}return t}(c.default.gamesByUser);return e=function(e,t){var n=a({},e),o=t,r=Array.isArray(o),i=0;for(o=r?o:o[Symbol.iterator]();;){var l;if(r){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var s=l;if(null==n[s]&&null!=y.default.getGame(s)){var u=v.default.getByGameId(s)[0];if(null!=u){var d=u.timestamp;null!=d&&(n[s]={players:[],mostRecentStoppedPlaying:Date.parse(d)})}}}return n}(e,h.default.gameIDsToShow),{items:Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).reduce(function(t,n){var o=y.default.getGame(n);return null==o?t:(t.push({gameId:n,game:o,news:1!==f.default.news.length||f.default.news[0].game.id!==n?v.default.getByGameId(n)[0]:null,players:e[n].players.reduce(function(e,t){var n=t.userId,o=t.stoppedPlaying,a=m.default.getUser(n);return a&&e.push({user:a,stoppedPlaying:o}),e},[]).sort(function(e,t){return(t.stoppedPlaying||0)-(e.stoppedPlaying||0)})}),t)},[]).filter(function(e){var t=e.players,n=e.news,o=e.gameId;return t.length>0||h.default.gameIDsToShow.has(o)&&null!=n}),loadId:f.default.loadId}})(b),e.exports=t.default},7874:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(3)),l=v(n(1029)),s=v(n(170)),u=n(6708),d=n(1227),f=v(n(522)),c=v(n(64)),p=v(n(6)),h=n(0),m=v(n(5946)),y=v(n(79));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=g(this,e.call.apply(e,[this].concat(r))),o.handleAcceptClick=function(){(0,u.setConsents)([h.Consents.PERSONALIZATION],[]),(0,d.dismissPersonalizationNotice)()},o.handleDismissClick=function(){(0,d.dismissPersonalizationNotice)()},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.hasDismissedPersonalizationNotice,n=e.hasFetchedPersonalizationConsent;return e.personalizationEnabled||!n||t?null:a("div",{className:m.default.personalizationNotice},void 0,a(y.default,{name:y.default.Names.INFO,className:m.default.personalizationNoticeIcon}),a("div",{className:m.default.personalizationNoticeBody},void 0,a("div",{className:m.default.personalizationNoticeText},void 0,p.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE.format({onClickPrivacy:function(){return f.default.open(h.UserSettingsSections.PRIVACY_AND_SAFETY)}}))),a("div",{className:m.default.personalizationNoticeButtons},void 0,a(c.default,{className:m.default.personalizationNoticeButton,onClick:this.handleAcceptClick},void 0,p.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ACCEPT),a(c.default,{color:c.default.Colors.TRANSPARENT,className:m.default.personalizationNoticeButton,onClick:this.handleDismissClick},void 0,p.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_DISMISS)))},t}(r.Component);t.default=i.default.connectStores([s.default,l.default],function(){return{hasDismissedPersonalizationNotice:s.default.hasDismissedPersonalizationNotice,hasFetchedPersonalizationConsent:l.default.receivedConsentsInConnectionOpen||l.default.fetchedConsents,personalizationEnabled:l.default.hasConsented(h.Consents.PERSONALIZATION)}})(_),e.exports=t.default},7876:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=j(n(1)),i=B(n(73)),l=B(n(8)),s=B(n(3)),u=n(56),d=B(n(2)),f=n(6274),c=n(113),p=B(n(11)),h=j(n(173)),m=B(n(20)),y=n(549),v=B(y),g=B(n(6079)),_=B(n(170)),E=B(n(31)),S=B(n(27)),b=B(n(191)),C=j(n(289)),T=B(n(7874)),N=B(n(7873)),O=B(n(7511)),I=n(6707),A=B(I),M=B(n(6020)),R=B(n(265)),P=B(n(6238)),w=B(n(40)),L=B(n(7298)),D=B(n(7297)),U=B(n(7296)),k=B(n(7294)),F=B(n(6)),x=n(0),G=B(n(5851));function B(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var V=1e3;function H(){return window.innerHeight<680||window.innerWidth<1200}var Y=a(k.default,{}),W=a(T.default,{}),z=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.updateDimensions=function(){o.setState({shouldUseSmallCarousel:H()})},o.trackLoaded=function(){if(!o.tracked){o.tracked=!0,o.updateViewedCards();var e=o.props,t=e.news,n=e.loadId,a=e.quickLauncherApplications,r=new Set,i={load_id:n,num_cards:Object.keys(o.nowPlayingCardRefs).length+Object.keys(o.gameFeedCardRefs).length,num_cards_game_playable:0,game_ids:[],num_cards_visible:o.viewedCards.size,num_game_parties:0,num_game_parties_voice:0,num_game_parties_solo:0,num_game_parties_recently_played:0,num_game_parties_rich_presence:0,num_game_parties_collapsed:0,num_cards_game_news:t.length,num_users_subscribed:_.default.feedUserIDs.size,num_launcher_applications:a.length,window_width:window.innerWidth,window_height:window.innerHeight};for(var l in o.nowPlayingCardRefs){o.nowPlayingCardRefs[l].parties.forEach(function(e){var t=e.showPlayingMembers,n=e.voiceChannels,o=e.currentActivities;i.num_game_parties_voice+=n.length;var a=o,l=Array.isArray(a),s=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(s>=a.length)break;u=a[s++]}else{if((s=a.next()).done)break;u=s.value}var d=u,f=d.game,p=d.activity,h=d.playingMembers;i.num_game_parties+=1,(0,y.isRealGameId)(f.id)&&r.add(f.id),(0,c.hasRichActivity)(p)&&(i.num_game_parties_rich_presence+=1),1===h.length&&(i.num_game_parties_solo+=1),t||(i.num_game_parties_collapsed+=1)}})}for(var s in o.gameFeedCardRefs){var u=o.gameFeedCardRefs[s],d=u.gameId,f=u.numPlayers;i.num_game_parties_recently_played+=f,r.add(d)}i.game_ids=Array.from(r),m.default.track(x.AnalyticEvents.ACTIVITY_FEED_LOADED,i)}},o.trackExited=function(){var e=Math.floor((Date.now()-o.openedTimestamp)/1e3),t={load_id:o.props.loadId,game_ids_viewed:Array.from(o.viewedGames),num_games_viewed:o.viewedGames.size,num_cards_viewed:o.viewedCards.size,num_cards_total:Object.keys(o.nowPlayingCardRefs).length+Object.keys(o.gameFeedCardRefs).length,seconds_spent:e};m.default.track(x.AnalyticEvents.ACTIVITY_FEED_EXITED,t)},o.renderItem=function(e,t,n){switch(e.type){case x.ActivityCardTypes.USER:var r=e.party;return a(O.default,{setRef:function(e){return o.setNowPlayingCardRef(e,r.id,[r])},party:r,index:n,loadId:o.props.loadId},r.id);case x.ActivityCardTypes.GAME:var i=e.game,l=e.parties;return a(A.default,{type:I.GameCardTypes.NOW_PLAYING,setActivityFeedCardRef:function(e){return o.setNowPlayingCardRef(e,i.id,l)},game:i,players:l.map(function(e){var t=e.priorityMembers,n=e.currentActivities;return{user:t[0].user,startedPlaying:n[0].startedPlayingTime}}),width:t,index:n,loadId:o.props.loadId},"game-"+i.id)}throw new Error("unknown type of NowPlayingCard")},o.getItemId=function(e){switch(e.type){case x.ActivityCardTypes.USER:return e.party.id;case x.ActivityCardTypes.GAME:return e.game.id}throw new Error("unknown type of NowPlayingCard")},o.hasScrolledPassedCard=function(e){if(null==e)return!1;var t=i.default.findDOMNode(e);return t instanceof HTMLElement&&t.getBoundingClientRect().top<o.scrollerBottom},o.updateViewedCards=function(){if(o.tracked){for(var e in o.nowPlayingCardRefs){var t=o.nowPlayingCardRefs[e],n=t.ref,a=t.parties;o.hasScrolledPassedCard(n)&&(o.viewedCards.add(e),a.forEach(function(e){var t=e.currentActivities,n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(a>=t.length)break;r=t[a++]}else{if((a=t.next()).done)break;r=a.value}var i=r.game.id;(0,y.isRealGameId)(i)&&o.viewedGames.add(i)}}))}for(var r in o.gameFeedCardRefs){var i=o.gameFeedCardRefs[r],l=i.ref,s=i.gameId;o.hasScrolledPassedCard(l)&&(o.viewedCards.add(r),o.viewedGames.add(s))}}},o.renderNowPlayingEmpty=function(){return Y},o.renderNowPlayingHeader=function(){return a(w.default,{className:G.default.header,align:w.default.Align.CENTER},void 0,a("div",{className:G.default.headerText},void 0,F.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE))},o.renderNewsCarousel=function(){var e=o.props,t=e.news,n=e.promotions,r=e.isFocused,i=e.loadId,l=o.state.shouldUseSmallCarousel?D.default:L.default,s=[],u=n,d=Array.isArray(u),f=0;for(u=d?u:u[Symbol.iterator]();;){var c;if(d){if(f>=u.length)break;c=u[f++]}else{if((f=u.next()).done)break;c=f.value}var p=c;s.push({type:x.FeedCarouselItemTypes.PROMOTION,promotion:p})}var m=t,y=Array.isArray(m),v=0;for(m=y?m:m[Symbol.iterator]();;){var g;if(y){if(v>=m.length)break;g=m[v++]}else{if((v=m.next()).done)break;g=v.value}var _=g,E=_.news,S=_.game;h.hasFlag(E.flags,x.GameNewsFlags.PROMOTION)||s.push({type:x.FeedCarouselItemTypes.GAME_NEWS,news:E,game:S})}return 0===s.length?null:a(l,{cardMetadata:{loadId:i},items:s.slice(0,4),paused:!r,className:G.default.carousel})},o.setNowPlayingCardRef=function(e,t,n){null==e?delete o.nowPlayingCardRefs[t]:(o.nowPlayingCardRefs[t]={ref:e,parties:n},!o.tracked&&o.props.loaded&&o.loadingTimeout.start(V,o.trackLoaded))},o.handleNowPlayingColumnChange=function(){o.updateViewedCards()},o.handleWhatsNewFeedColumnChange=function(){o.updateViewedCards()},o.handleWhatsNewEmptyChange=function(e){o.setState({isWhatsNewEmpty:e})},o.setWhatsNewFeedCardRef=function(e,t,n){null==e?delete o.gameFeedCardRefs[t]:(o.gameFeedCardRefs[t]={ref:e,gameId:t,numPlayers:n},!o.tracked&&o.props.loaded&&o.loadingTimeout.start(V,o.trackLoaded))},o.handleScroll=l.default.throttle(function(e){var t=e.getScrollerNode();if(null!=t){var n=t.getBoundingClientRect(),a=n.top,r=n.bottom;o.scrollerTop=a,o.scrollerBottom=r}o.updateViewedCards()},500,{leading:!1}),o.tracked=!1,o.openedTimestamp=Date.now(),o.loadingTimeout=new u.Timeout,o.viewedGames=new Set,o.viewedCards=new Set,o.scrollerTop=0,o.scrollerBottom=0,o.nowPlayingCardRefs={},o.gameFeedCardRefs={},o.state={currentActivityColumnCount:0,gameFeedColumnCount:0,isWhatsNewEmpty:null,shouldUseSmallCarousel:H()},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateDimensions),m.default.track(x.AnalyticEvents.ACTIVITY_FEED_VIEWED);var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched;t&&null!=n&&d.default.wait(function(){return C.scanForLocalApplications()})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions),this.trackExited(),this.loadingTimeout.stop(),this.handleScroll.cancel()},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||d.default.wait(function(){return C.scanForLocalApplications()}),this.tracked||!this.props.loaded||e.loaded||this.loadingTimeout.start(V,this.trackLoaded)},t.prototype.renderNowPlayingSection=function(){var e=this,t=this.props,n=t.isExperiencedFeedUser,o=t.nowPlayingCards,r=this.state.isWhatsNewEmpty;return n&&!0!==r&&0===o.length?null:a(P.default,{items:o,renderEmpty:this.renderNowPlayingEmpty,renderItem:this.renderItem,renderHeader:function(){return e.renderNowPlayingHeader()},maxColumns:2,getItemId:this.getItemId,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleNowPlayingColumnChange})},t.prototype.renderBody=function(){var e=this.props,t=e.nowPlayingCards,n=e.quickLauncherApplications,o=p.default.isWindows()?a(U.default,{applicationItems:n,className:G.default.quickLauncher}):null,r=this.renderNowPlayingSection(),i=a(N.default,{hasNowPlayingSection:null!=r,hasNowPlayingItem:t.length>0,maxColumns:2,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleWhatsNewFeedColumnChange,onEmptyChange:this.handleWhatsNewEmptyChange,onCardRef:this.setWhatsNewFeedCardRef});return a("div",{className:G.default.body},void 0,W,this.renderNewsCarousel(),o,r,i)},t.prototype.render=function(){return this.props.loaded?a(w.default,{direction:w.default.Direction.VERTICAL,className:G.default.feedWrapper},void 0,a(M.default,{title:F.default.Messages.ACTIVITY}),a(R.default,{track:!0,className:G.default.feed,onScroll:this.handleScroll,onUpdate:this.handleScroll,onResize:this.handleScroll},void 0,this.renderBody())):null},t}(r.PureComponent),K=(0,f.cachedFunction)(function(e){return e.map(function(e){var t=e.application;return{id:t.id,name:t.name,libraryApplication:e.libraryApplication,iconSrc:t.getIconURL(60),splashSrc:t.getSplashURL(300),disabled:e.isLaunching||e.isRunning,distributor:null!=e.libraryApplication?e.libraryApplication.getDistributor():null}})});t.default=s.default.connectStores([v.default,b.default,_.default,S.default,g.default],function(){return{nowPlayingCards:v.default.nowPlayingCards,news:v.default.news,promotions:v.default.promotions,importGamesEnabled:E.default.importGamesEnabled,gamesDBLastFetched:S.default.lastFetched,quickLauncherApplications:K(g.default.launchableApplicationViewItems),isExperiencedFeedUser:_.default.isExperiencedFeedUser,isFocused:b.default.isFocused(),loaded:v.default.loaded,loadId:v.default.loadId}})(z),e.exports=t.default},7877:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=y(n(1)),i=m(n(3)),l=m(n(539)),s=m(n(284)),u=m(n(6276)),d=y(n(6275)),f=y(n(1016)),c=m(n(7876)),p=n(0),h=m(n(5850));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=a(u.default,{}),g=a(l.default,{title:"Discord"}),_=a(c.default,{}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.mount(),d.setHomeLink(p.Routes.ACTIVITY)},t.prototype.componentWillUnmount=function(){f.unmount()},t.prototype.render=function(){return this.props.isInFeedExperiment?a("div",{className:h.default.activityFeed},void 0,g,_):v},t}(r.PureComponent);t.default=i.default.connectStores([s.default],function(){return{isInFeedExperiment:s.default.isInFeedExperiment()}})(E),e.exports=t.default},7878:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=x(n(1)),i=F(n(9)),l=n(264),s=F(n(3)),u=F(n(7877)),d=F(n(7293)),f=F(n(1242)),c=F(n(6431)),p=F(n(7279)),h=F(n(7247)),m=F(n(7240)),y=F(n(7131)),v=F(n(7070)),g=F(n(7055)),_=F(n(7052)),E=F(n(7050)),S=F(n(40)),b=F(n(538)),C=F(n(547)),T=F(n(950)),N=F(n(226)),O=F(n(18)),I=F(n(65)),A=F(n(6003)),M=F(n(280)),R=F(n(368)),P=F(n(6033)),w=F(n(126)),L=x(n(1016)),D=F(n(11)),U=n(0),k=F(n(5728));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=s.default.connectStores([A.default,b.default,M.default,O.default,N.default,T.default,C.default,R.default],function(){var e=N.default.isDisabled()?null:N.default.getChannelId(),t=R.default.getMode(e);return{guilds:b.default.getSortedGuilds(),channels:O.default.getChannels(),selectedGuildId:T.default.getGuildId(),selectedVoiceGuildId:N.default.isDisabled()?null:N.default.getGuildId(),selectedVoiceChannelId:e,selectedPrivateChannelId:I.default.getChannelId(U.ME),unreadGuilds:A.default.getUnreadGuilds(),mentionCounts:A.default.getMentionCounts(),totalUnavailableGuilds:M.default.totalUnavailableGuilds,scrollTop:C.default.getGuildListDimensions().scrollTop,mode:t}})(c.default);var H=a(h.default,{}),Y=a(g.default,{}),W=a(E.default,{}),z=a(_.default,{}),K=a(m.default,{}),$=s.default.connectStores([T.default],function(){return{selectedGuildId:T.default.getGuildId()}})(function(e){function t(){return G(this,t),B(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){var e=this.props.selectedGuildId,t=window.location.pathname.startsWith(U.Routes.APPLICATION_STORE)?k.default.hiddenOnMobileStore:null;return a(S.default,{className:k.default.container},void 0,a(V,{className:t}),a(S.default,{direction:S.default.Direction.VERTICAL,className:k.default.base,style:{marginLeft:0}},void 0,a(S.default.Child,{wrap:!0,grow:0,shrink:0,className:t},void 0,H),a(S.default,{className:k.default.spacer},void 0,a("div",{className:(0,i.default)(k.default.channels,t)},void 0,e?a(p.default,{guildId:e}):Y,W,z,K),a(l.Switch,{},void 0,a(l.Route,{path:U.Routes.ACTIVITY,component:u.default}),a(l.Route,{path:U.Routes.GAME_LIBRARY,component:d.default}),a(l.Route,{path:U.Routes.APPLICATION_STORE,component:f.default}),a(l.Route,{path:U.Routes.ME,exact:!0,component:v.default}),a(l.Route,{path:U.Routes.CHANNEL(U.ME,":channelId"),component:y.default}),a(l.Route,{path:U.Routes.CHANNEL(":guildId",":channelId?"),component:y.default})))))},t}(r.PureComponent));t.default=s.default.connectStores([w.default,P.default],function(){return{hasLoadedExperiments:w.default.hasLoadedExperiments,hasHandledRedirect:P.default.hasHandledRedirect}})(function(e){function t(){return G(this,t),B(this,e.apply(this,arguments))}return j(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.hasLoadedExperiments,n=e.hasHandledRedirect,o=e.match;!D.default.isDesktop()||t||n||o.url!==U.Routes.FRIENDS||L.handleRedirect()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){D.default.isDesktop()&&e.hasLoadedExperiments&&!this.props.hasLoadedExperiments&&!this.props.hasHandledRedirect&&this.props.match.url===U.Routes.FRIENDS&&L.handleRedirect()},t.prototype.render=function(){return r.createElement($,this.props)},t}(r.PureComponent)),e.exports=t.default},7879:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=L(n(3)),l=L(n(7878)),s=L(n(7048)),u=L(n(7046)),d=L(n(7044)),f=L(n(7043)),c=L(n(7042)),p=L(n(7041)),h=L(n(7039)),m=L(n(7036)),y=L(n(943)),v=L(n(1034)),g=L(n(14)),_=L(n(31)),E=L(n(952)),S=L(n(5999)),b=L(n(6360)),C=n(143),T=n(0),N=L(n(7017)),O=L(n(7016)),I=L(n(165)),A=L(n(229)),M=L(n(145)),R=L(n(41)),P=L(n(11)),w=L(n(972));function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e){var t=e.params,n=t.guildId,o=t.channelId,a=t.messageId;return{guildId:n||T.ME,channelId:o,messageId:a}}var k=a(s.default,{}),F=a(u.default,{}),x=a(d.default,{}),G=a(f.default,{}),B=a(c.default,{}),j=a(m.default,{}),V=a(p.default,{}),H=a(h.default,{}),Y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=D(this,e.call.apply(e,[this].concat(r))),o.shake=function(e){var t=e.duration,n=e.intensity;o.refs.shakeable&&o.refs.shakeable.shake(t,n)},D(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){C.ComponentDispatch.subscribe(T.ComponentActions.SHAKE_APP,this.shake),P.default.setZoomFactor(w.default.zoom),this.checkGuildAndChannel(),this.jumpToMessageOnConnect();var e=g.default.getToken();null!=e&&y.default.startSession(e),S.default.setLayout(b.default),S.default.enable()},t.prototype.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()},t.prototype.componentWillUnmount=function(){C.ComponentDispatch.unsubscribe(T.ComponentActions.SHAKE_APP,this.shake),S.default.disable()},t.prototype.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=U(e),n=t.guildId,o=t.channelId,a=t.messageId;(function(e){return null!=e&&(e===T.ME||/^\d+$/.test(e))})(n)&&function(e){return null==e||/^\d+$/.test(e)}(o)?(A.default.selectGuild(n),I.default.selectChannel(n,o,a)):R.default.replaceWith(this.props.defaultRoute)}},t.prototype.jumpToMessageOnConnect=function(){var e=this.props.match;if(null!=e){var t=U(e),n=t.channelId,o=t.messageId;o&&v.default.call(function(){return M.default.jumpToMessage(n,o,!0,"Page Load")})}},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.match;return r.createElement(N.default,{ref:"shakeable",className:"app flex-vertical theme-"+t},a(O.default,{className:"flex-vertical flex-spacer"},void 0,a(l.default,{match:n})),k,F,x,G,B,j,V,H)},t}(r.Component);t.default=i.default.connectStores([_.default,E.default],function(){return{theme:_.default.theme,defaultRoute:E.default.defaultRoute}})(Y),e.exports=t.default},7880:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(43))),i=E(n(57)),l=E(n(9)),s=E(n(967)),u=E(n(6)),d=E(n(163)),f=E(n(3)),c=E(n(189)),p=n(0),h=E(n(6136)),m=E(n(376)),y=E(n(6709)),v=E(n(6277)),g=E(n(6135)),_=E(n(5947));function E(e){return e&&e.__esModule?e:{default:e}}var S=(0,r.default)({displayName:"ConnectingModal",mixins:[f.default.StoreListenerMixin(m.default,y.default),i.default,s.default],videoRef:null,getInitialState:function(){var e=g.default[Math.floor(Math.random()*g.default.length)],t=e[0],n=e[1],o=e[2],a=m.default.isConnected();return{ready:a,quote:t,author:n,type:o,hide:a,problems:!1,shouldRender:!a,opacity:new c.default.Value(a?0:1)}},getStateFromStores:function(){return{connected:m.default.isConnected(),incident:y.default.getIncident()}},componentDidMount:function(){this.setProblemsTimeout()},UNSAFE_componentWillUpdate:function(e,t){var n=this,o=this.state,a=t.connected&&t.ready&&!t.hide&&!t.problems;if(o.connected!==t.connected||a)if(t.connected&&null!=this.videoRef){var r=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);this.setTimeout(function(){n.setState(function(e){return{problems:!1,hide:e.connected}})},r)}else this.setState({problems:!1,hide:t.connected});else o.hide!==t.hide?(t.hide?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),c.default.timing(t.opacity,{toValue:t.hide?0:1,duration:200}).start(function(){return n.setState({shouldRender:!n.state.hide})})):o.problems!==this.state.problems&&this.state.problems&&v.default.checkIncidents()},handleReady:function(){this.setState({ready:!0})},setVideoRef:function(e){this.videoRef=e},setProblemsTimeout:function(){var e=this;null==this._problemsTimeout&&(this._problemsTimeout=this.setTimeout(function(){return e.setState({problems:!0})},1e4))},clearProblemsTimeout:function(){this.clearTimeout(this._problemsTimeout),this._problemsTimeout=null},render:function(){if(this.state.shouldRender){var e,t=this.state.quote,n=this.state.connected?u.default.Messages.READY:u.default.Messages.CONNECTING;null!=this.state.incident&&(t=this.state.incident.name,n=this.state.incident.incident_updates[0].body);var o=void 0;switch(this.state.type){case"facebook":o=u.default.Messages.QUOTE_ATTRIBUTION_FACEBOOK.format({url:"https://www.facebook.com/discordapp/"});break;case"instagram":o=u.default.Messages.QUOTE_ATTRIBUTION_INSTAGRAM.format({url:"https://www.instagram.com/"+this.state.author+"/"});break;case"twitter":o=u.default.Messages.QUOTE_ATTRIBUTION.format({name:"@"+this.state.author,url:"https://twitter.com/"+this.state.author})}return o&&(o=a("div",{className:_.default.attribution},void 0,o)),a(c.default.div,{className:_.default.container,style:{opacity:this.state.opacity}},void 0,a("div",{className:_.default.content},void 0,a(h.default,{autoPlay:!0,loop:!this.state.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?_.default.ready:null}),a("div",{className:_.default.quote},void 0,t),o,a("div",{className:_.default.status},void 0,n)),a("div",{className:(0,l.default)(_.default.problems,(e={},e[_.default.slideIn]=this.state.problems,e))},void 0,a("div",{className:_.default.problemsText},void 0,u.default.Messages.CONNECTING_PROBLEMS_CTA),a("div",{},void 0,a(d.default,{className:_.default.twitterLink,href:"//twitter.com/discordapp",target:"_blank"},void 0,u.default.Messages.TWEET_US),a(d.default,{className:_.default.statusLink,href:p.STATUS_PAGE_ENDPOINT,target:"_blank"},void 0,u.default.Messages.SERVER_STATUS))))}return null}}),b=a(S,{}),C=(0,r.default)({displayName:"Connecting",mixins:[f.default.StoreListenerMixin(m.default),i.default],getStateFromStores:function(){return{isTryingToConnect:m.default.isTryingToConnect()}},render:function(){return this.state.isTryingToConnect?b:null}});t.default=C,e.exports=t.default}}]);
//# sourceMappingURL=d01b502fbfdca9da98ff.js.map