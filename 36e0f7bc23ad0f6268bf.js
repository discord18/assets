(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{1167:function(e,t,n){"use strict";t.__esModule=!0,t.hex2int=function(e){if(!e)return;4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);return parseInt(e.slice(1),16)},t.int2hex=function(e){var t=e>>8&255,n=255&e;return"#"+r((e>>16&255).toString(16))+r(t.toString(16))+r(n.toString(16))},t.hex2rgb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.match(s);if(n){if(3!==(n=n.slice(1)).length)return null;var r=n.map(function(e){return 1===e.length&&(e+=e),parseInt(e,16)});return"rgba("+r.join(", ")+", "+t+")"}return null},t.int2rgba=function(e,t){null==t&&(t=(e>>24&255)/255);return"rgba("+(e>>16&255)+", "+(e>>8&255)+", "+(255&e)+", "+t+")"},t.getDarkness=function(e){return 1-(.299*(e>>16&255)+.587*(e>>8&255)+.114*(255&e))/255},t.isValidHex=function(e){if(4!==e.length&&7!=e.length||"#"!=e[0])return!1;return null!=e.match(s)};var s=/^#?([a-f,A-F,0-9]{1,2})([a-f,A-F,0-9]{1,2})([a-f,A-F,0-9]{1,2})$/;function r(e){return 1==e.length?"0"+e:e}},1174:function(e,t,n){e.exports=n(1187)()},1186:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1187:function(e,t,n){"use strict";var s=n(87),r=n(76),a=n(1186);e.exports=function(){function e(e,t,n,s,o,i){i!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=s,n.PropTypes=n,n}},1198:function(e,t,n){"use strict";t.__esModule=!0;var s,r,a=(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:s,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=n(1174),i=((r=o)&&r.__esModule,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)));function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){return{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:e?"not-allowed":"pointer"}},c=function(e){function t(){var n,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=s=u(this,e.call.apply(e,[this].concat(a))),s.activateUploadDialogue=function(){s.props.embedded?s.handleNativeClick():s._input&&s._input.click()},s.handleNativeClick=function(){s.props.handleNativeClick(s.props)},s.handleBrowserInputMouseDown=function(e){e.currentTarget.value=null},u(s,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,s=t.tabIndex;if(this.props.embedded)return a("div",{style:l(n),className:"file-input",onClick:!n&&this.handleNativeClick});var r=void 0;return this.props.filters&&(r=this.props.filters.map(function(e){return e.extensions.map(function(e){return"."+e}).join(",")}).join(",")),i.createElement("input",{style:l(n),className:"file-input",disabled:n,type:"file",tabIndex:s,onMouseDown:this.handleBrowserInputMouseDown,onChange:this.props.onChange,multiple:this.props.multiple,accept:r,ref:function(t){return e._input=t}})},t}(i.Component);c.defaultProps={multiple:!1,disabled:!1,tabIndex:0},t.default=c,e.exports=t.default},1714:function(e,t,n){"use strict";t.__esModule=!0;var s,r=(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:s,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=w(n(2)),o=n(74),i=I(n(22)),u=n(165),l=I(n(163)),c=I(n(166)),f=w(n(115)),p=I(n(1361)),d=I(n(1190)),h=I(n(1165)),g=I(n(1164)),m=I(n(395)),y=I(n(1168)),b=I(n(1170)),A=I(n(1163)),S=I(n(1169)),v=I(n(117)),_=n(43),M=n(13),E=I(n(1120));function I(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=r(v.default,{}),T=function(e){function t(){var n,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=s=C(this,e.call.apply(e,[this].concat(o))),s.assetManagerRef=a.createRef(),s.state={errorMessage:null,hasLoadedRemoteAssets:!1,hasUnsavedChanges:!1,inviteImageData:null,isSubmitting:!1,unblock:null},s.deleteAsset=function(e){return f.deleteStoreAsset(s.props.match.params.id,e)},s.getAssetUri=function(e){return(0,u.getStoreAssetImage)(s.props.match.params.id,e)},s.handleAssetsFormChange=function(){s.state.hasUnsavedChanges||s.setState({hasUnsavedChanges:!0,unblock:l.default.blockTransition()})},s.handleAssetsFormSubmit=function(e){s.setState({isSubmitting:!0});var t=s.state,n=t.inviteImageData,r=t.unblock,a=[];null!=s.assetManagerRef.current&&a.push(s.assetManagerRef.current.uploadAllAssets()),null!=n&&a.push(f.updateApplication(s.props.match.params.id,{cover_image:e.coverImage}).then(function(){s.setState({inviteImageData:null})})),Promise.all(a).then(function(){null!=r&&r(),s.setState({errorMessage:null,hasUnsavedChanges:!1,isSubmitting:!1,unblock:null})}).catch(function(e){s.setState({errorMessage:e.message,isSubmitting:!1})})},s.handleInviteImageChange=function(e){var t=s.state.unblock,n={hasUnsavedChanges:!0,inviteImageData:e,unblock:t};null==t&&(n.unblock=l.default.blockTransition()),s.setState(n)},s.handleReset=function(){var e=s.state.unblock;null!=e&&e(),null!=s.assetManagerRef.current&&s.assetManagerRef.current.resetAssets(),s.setState({hasUnsavedChanges:!1,unblock:null})},s.uploadAsset=function(e){return f.uploadStoreAsset(s.props.match.params.id,{filename:e.name,file:e.file})},C(s,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;f.fetchStoreAssets(this.props.match.params.id).then(function(){e.setState({errorMessage:null,hasLoadedRemoteAssets:!0})}).catch(function(t){e.setState({errorMessage:t.message,hasLoadedRemoteAssets:!0})})},t.prototype.renderAssetManager=function(){var e=this.props.storeAssets;return this.state.hasLoadedRemoteAssets?a.createElement(p.default,{actionCopy:_.Messages.AssetLibrary.ADD_IMAGES,assetLabel:_.Messages.AssetLibrary.IMAGES,assetsHeadingRenderer:this.renderAssetsHeading,assets:e,getAssetUri:this.getAssetUri,uploadAsset:this.uploadAsset,deleteAsset:this.deleteAsset,emptyState:this.renderEmptyAssetState(),fileTypeDescription:_.Messages.AssetLibrary.ACCEPTED_FILE_TYPES.format({minSize:M.MINIMUM_ASSET_IMAGE_SIZE,recommendedSize:M.RECOMMENDED_ASSET_IMAGE_SIZE}),minAssetSize:M.MINIMUM_ASSET_IMAGE_SIZE,ref:this.assetManagerRef,supportedExtensions:["jpg","jpeg","png","mp4","gif"]}):O},t.prototype.renderAssetsHeading=function(e){return _.Messages.AssetLibrary.ASSETS_MANAGER_HEADING.format({count:e})},t.prototype.renderEmptyAssetState=function(){return r(d.default,{},void 0,r("img",{alt:_.Messages.RichPresence.NO_ASSETS_UPLOADED,className:E.default.emptyStateImage,src:n(1360)}))},t.prototype.render=function(){var e=this.state,t=e.hasUnsavedChanges,n=e.isSubmitting;return r(h.default,{onChange:this.handleAssetsFormChange,onSubmit:this.handleAssetsFormSubmit},void 0,r(m.default,{},void 0,r(g.default,{},void 0,_.Messages.AssetLibrary.HEADING),r(A.default,{isFlush:!0},void 0,_.Messages.AssetLibrary.SUBHEADING)),r(m.default,{className:t?E.default.extraPadding:"",isFlush:!0},void 0,r(y.default,{},void 0,_.Messages.AssetLibrary.ASSETS_SECTION_HEADING),r(b.default,{},void 0,_.Messages.AssetLibrary.ASSETS_SECTION_SUBHEADING),this.renderAssetManager()),t?r(S.default,{onReset:this.handleReset,submitting:n}):null)},t}(a.Component);t.default=i.default.connectStores([c.default],function(e){return{storeAssets:c.default.getStoreAssets(e.match.params.id)}})((0,o.withRouter)(T)),e.exports=t.default}}]);
//# sourceMappingURL=36e0f7bc23ad0f6268bf.js.map