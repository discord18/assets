(window.webpackJsonp=window.webpackJsonp||[]).push([[161,171,172],{5570:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(73),u=c(n(8)),s=c(n(3)),f=c(n(1032)),d=n(142);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(5595);var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=p(this,e.call.apply(e,[this].concat(i))),o.state={offsetX:null,offsetY:null},o.updateOffsets=function(){var e=(0,l.findDOMNode)(o);if(null!=e&&e instanceof HTMLElement){var t={offsetY:-e.offsetHeight/2};switch(o.props.position){case d.Positions.LEFT:t.offsetX=-e.offsetWidth,t.offsetY+=o.props.targetHeight/2;break;case d.Positions.RIGHT:t.offsetX=o.props.targetWidth,t.offsetY+=o.props.targetHeight/2;break;case d.Positions.BOTTOM:t.offsetX=(o.props.targetWidth-e.offsetWidth)/2,t.offsetY=o.props.targetHeight;break;case d.Positions.TOP:default:t.offsetX=(o.props.targetWidth-e.offsetWidth)/2,t.offsetY=-e.offsetHeight}o.setState(t)}},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateOffsets()},t.prototype.componentDidUpdate=function(e){var t=e.text,n=e.position,o=e.x,a=e.y,i=e.targetWidth,r=e.targetHeight,l=e.windowWidth,u=e.windowHeight;this.props.text===t&&this.props.position===n&&this.props.x===o&&this.props.y===a&&this.props.targetWidth===i&&this.props.targetHeight===r&&this.props.windowWidth===l&&this.props.windowHeight===u||this.updateOffsets()},t.prototype.render=function(){var e="function"==typeof this.props.text?this.props.text():this.props.text;if(!e)return null;var t=this.props.position,n=this.props,o=n.windowWidth,a=n.windowHeight,r=null===this.state.offsetX?null:this.props.x+this.state.offsetX,l=null===this.state.offsetY?null:this.props.y+this.state.offsetY,u=void 0;return u=t===d.Positions.TOP?{left:r,bottom:a-this.props.y+8}:t===d.Positions.LEFT?{right:o-this.props.x+8,top:l}:{left:r,top:l},i("div",{className:"tooltip tooltip-"+this.props.position+" tooltip-"+this.props.color,style:u},void 0,e)},t}(r.PureComponent);t.default=s.default.connectStores([f.default],function(){return{tooltips:f.default.getTooltips()}})(function(e){var t=e.tooltips;return i("div",{className:"tooltips"},void 0,u.default.map(t,function(e,t){return r.createElement(h,a({key:t},e))}))}),e.exports=t.default},5572:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(73)),u=_(n(521)),s=_(n(9)),f=_(n(189)),d=_(n(3)),c=_(n(975)),p=_(n(951)),h=_(n(949)),y=_(n(192)),v=n(143),g=n(0),m=_(n(555)),b=_(n(5571));function _(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=10,w=14,T={left:b.default.popoutLeft,right:b.default.popoutRight,bottom:b.default.popoutBottom,"bottom-right":b.default.popoutBottomRight,"bottom-left":b.default.popoutBottomLeft,"top-left":b.default.popoutTopLeft,"top-right":b.default.popoutTopRight,top:b.default.popoutTop};function N(e){switch(e){case"left":return{x:-1,y:0};case"right":return{x:0,y:0};case"bottom":return{x:-.5,y:0};case"bottom-right":return{x:-1,y:0};case"bottom-left":return{x:0,y:0};case"top-left":return{x:0,y:-1};case"top-right":return{x:-1,y:-1};case"top":default:return{x:-.5,y:-1}}}var I=function(){function e(){C(this,e),this.animated=new f.default.ValueXY({x:0,y:0})}return e.prototype.run=function(e,t,n){var o=t.position;this.animated.setValue(N(o)),n()},e.prototype.getStyle=function(){return f.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},e}(),A=function(){function e(){C(this,e),this.animated=new f.default.ValueXY({x:0,y:0})}return e.prototype.computeStyles=function(e){var t=void 0,n=void 0;switch(e){case"left":t={x:-1.05,y:0},n={x:-1,y:0};break;case"right":t={x:.05,y:0},n={x:0,y:0};break;case"bottom":t={x:-.5,y:.05},n={x:-.5,y:0};break;case"bottom-left":t={x:0,y:.05},n={x:0,y:0};break;case"bottom-right":t={x:0,y:.05},n={x:-1,y:0};break;case"top-left":t={x:0,y:-1.05},n={x:0,y:-1};break;case"top-right":t={x:0,y:-1.05},n={x:-1,y:-1};break;case"top":default:t={x:-.5,y:-1.05},n={x:-.5,y:-1}}return{startStyle:t,endStyle:n}},e.prototype.run=function(e,t,n){var o=t.position,a=this.computeStyles(o),i=a.startStyle,r=a.endStyle,l=e.getBoundingClientRect(),u=l.left,s=l.right,d=l.width;u-=S,s+=S;var c=d*r.x;if(s+=c,(u+=c)<0){var p=u/d;r.x+=p,i.x+=p}else if(s>window.innerWidth){var h=(s-window.innerWidth)/d;r.x-=h,i.x-=h}this.animated.setValue(i),f.default.timing(this.animated,{toValue:r,duration:150,easing:f.default.Easing.inOut(f.default.Easing.cubic)}).start(n)},e.prototype.getStyle=function(){return f.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},e}(),M=function(){function e(){C(this,e),this.animated=new f.default.Value(0)}return e.prototype.run=function(e,t,n){this.animated.setValue(0),f.default.spring(this.animated,{toValue:1,tension:80,friction:8,overshootClamping:!0}).start(n)},e.prototype.interpolate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.animated.interpolate({inputRange:[0,1],outputRange:t})},e.prototype.getStyle=function(e){var t=e.position,n=e.height,o=e.width,a=e.x,r=e.offsetX,l=e.clickPos,u=N(t),s=void 0;return n>0&&(s={height:this.interpolate(0,n),width:this.interpolate(0,o),left:this.interpolate(a+l,a+r)}),f.default.accelerate(i({},s,{overflow:"hidden",transform:[{translateY:100*u.y+"%"},{translateX:100*u.x+"%"}]}))},e}(),P=function(e){function t(n){C(this,t);var o=O(this,e.call(this,n));o.preventNextClose=!1,o.componentWillEnterCallback=function(){},o.close=function(e){if(o.preventNextClose&&c.default.isOpen())o.preventNextClose=!1;else{var t=o.props,n=t.popoutKey,a=t.preventCloseFromModal,i=t.onClose;if(!a||!h.default.hasModalOpen()){if(null!=e)for(var r=e.target,u=l.default.findDOMNode(o);r instanceof Element;){if(r===u)return;if(null!=r.classList&&r.classList.contains("popout-open"))return;r=r.parentNode}i&&i(),y.default.close(n)}}},o.closeContext=function(e){if(null!=e)for(var t=e.target;t instanceof HTMLElement;){if(t===l.default.findDOMNode(o))return void(o.preventNextClose=!0);t=t instanceof HTMLElement?t.parentNode:null}o.preventNextClose&&c.default.isOpen()?o.preventNextClose=!1:y.default.close(o.props.popoutKey)},o.updateOffsets=function(){var e=o.props,t=e.position,n=e.preventInvert,a=l.default.findDOMNode(o);if(!(a instanceof HTMLElement))throw new Error("domNode is not instance of HTMLElement");var i=a.offsetWidth,r=a.offsetHeight,u=!1;n||(u="top"===t||"top-right"===t||"top-left"===t?o.props.y<.5*window.innerHeight&&o.props.y-a.offsetHeight<0:o.props.y+o.props.targetHeight+w+r>=window.innerHeight)&&("bottom"===t?t="top":"bottom-left"===t?t="top-left":"bottom-right"===t?t="top-right":"top-right"===t?t="bottom-right":"top-left"===t?t="bottom-left":"top"===t&&(t="bottom"));var s={invert:u,position:t,height:r,width:i,offsetX:0,offsetY:0};switch(t){case"left":s.offsetX=0,s.offsetY=o.props.targetHeight/2;break;case"right":s.offsetX=o.props.targetWidth,s.offsetY=o.props.targetHeight/2;break;case"bottom":s.offsetX=o.props.targetWidth/2,s.offsetY=o.props.targetHeight;break;case"bottom-left":s.offsetX=0,s.offsetY=o.props.targetHeight;break;case"bottom-right":s.offsetX=o.props.targetWidth,s.offsetY=o.props.targetHeight;break;case"top-left":s.offsetX=0,s.offsetY=0;break;case"top-right":s.offsetX=o.props.targetWidth,s.offsetY=0;break;case"top":default:s.offsetX=o.props.targetWidth/2,s.offsetY=0}!u||"right"!==t&&"left"!==t||(o.props.closeOnScroll?s.offsetY-=r-o.props.targetHeight:s.offsetY-=o.props.y+r-window.innerHeight+S),o.setState(s,o._componentWillEnter)};var a=void 0;switch(o.props.animationType){case"default":a=new A;break;case"spring":a=new M;break;case"none":default:a=new I}return o.state={width:0,height:0,offsetX:null,offsetY:null,animation:a,position:"",invert:!1},o}return E(t,e),t.prototype.componentDidMount=function(){v.ComponentDispatch.subscribe(g.ComponentActions.POPOUT_CLOSE,this.close),document.addEventListener("click",this.close,!0),document.addEventListener("contextmenu",this.closeContext,!0),this.updateOffsets()},t.prototype.componentWillEnter=function(e){this.componentWillEnterCallback=e},t.prototype._componentWillEnter=function(){if(this.componentWillEnterCallback){var e=this.componentWillEnterCallback;delete this.componentWillEnterCallback;var t=l.default.findDOMNode(this);if(!(t instanceof HTMLElement))throw new Error("node is not an instance of HTMLElement");this.state.animation.run(t,{position:this.state.position,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,targetWidth:this.props.targetWidth,targetHeight:this.props.targetHeight,offsetX:this.state.offsetX,offsetY:this.state.offsetY},e)}},t.prototype.componentWillLeave=function(e){e()},t.prototype.componentDidUpdate=function(e){var t=e.text,n=e.position,o=e.x,a=e.y,i=e.targetWidth,r=e.targetHeight,l=e.closeOnScroll;this.props.text===t&&this.props.position===n&&this.props.x===o&&this.props.y===a&&this.props.targetWidth===i&&this.props.targetHeight===r&&this.props.closeOnScroll===l||this.updateOffsets()},t.prototype.UNSAFE_componentWillUpdate=function(e){e.needsRerender&&y.default.didRerender(this.props.popoutKey)},t.prototype.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(g.ComponentActions.POPOUT_CLOSE,this.close),document.removeEventListener("click",this.close,!0),document.removeEventListener("contextmenu",this.closeContext,!0)},t.prototype.render=function(){var e,t=this.state,n=t.offsetX,o=t.offsetY,r=t.invert,l=t.position,u=t.animation,d=this.props,c=d.zIndexBoost,p=d.closeOnScroll,h=d.x,y=d.y,v=d.popoutKey,g=d.animationType,m=d.clickPos,_=d.render,O=d.containerClass,E=i({},{left:null===n?null:h+n,top:null==o?null:y+o,zIndex:null!=c?1001+c:null},u.getStyle({position:l,width:this.state.width,height:this.state.height,x:h,y:y,offsetX:n,offsetY:o,clickPos:m}));E.visibility||(E.visibility=null==E.transform?"hidden":"visible");var C=((e={})[b.default.popoutInvert]=r&&p,e[b.default.noArrow]=!p,e[b.default.noShadow]=!this.props.shadow||"none"===g,e);return O&&(C[O]=!0),a(f.default.div,{className:(0,s.default)(C,b.default.popout,T[l],"popout"+l),style:E},void 0,_({popoutKey:v,onClose:this.close,inverted:r}))},t}(r.PureComponent);P.defaultProps={animationType:"default",closeOnScroll:!0,preventInvert:!1,preventCloseFromModal:!1,shadow:!0,text:"",offsetX:0,offsetY:0};var k=function(e){function t(){return C(this,t),O(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.className,o=e.popouts,l=o.some(function(e){return e.backdrop}),f=(o.find(function(e){return null!=e.zIndexBoost&&e.zIndexBoost>0})||{}).zIndexBoost,d=l?a(m.default,{backdropStyle:m.default.Styles.SUBTLE,zIndexBoost:null!=f?f:0}):null;return a(u.default,{className:(0,s.default)("theme-"+t,b.default.popouts,n),component:"div"},void 0,d,o.map(function(e){var t=e.key,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["key"]);return r.createElement(P,i({popoutKey:String(t)},n,{key:t+"-popout"}))}))},t}(r.PureComponent);t.default=d.default.connectStores([p.default],function(){return{popouts:p.default.getPopouts()}})(k),e.exports=t.default},5674:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=m(n(3)),l=m(n(9)),u=m(n(539)),s=m(n(31)),f=m(n(972)),d=m(n(6861)),c=m(n(1243)),p=m(n(5572)),h=m(n(5570)),y=m(n(1190)),v=m(n(6818)),g=n(0);function m(e){return e&&e.__esModule?e:{default:e}}r.default.initialize();var b=a(d.default,{}),_=a(h.default,{}),O=a(y.default,{}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.locale,n=e.fontScaleClass,o=e.fontScale,i=e.colorblindMode;return a(v.default,{className:(0,l.default)("theme-dark",n,{colorblindMode:i})},void 0,a(u.default,{},void 0,a("html",{lang:t,style:"font-size: "+o+"%"})),b,_,a(p.default,{theme:g.ThemeTypes.DARK}),a(c.default,{theme:g.ThemeTypes.DARK}),O)},t}(i.Component);t.default=r.default.connectStores([s.default,f.default],function(){return{locale:s.default.locale,fontScaleClass:f.default.fontScaleClass,fontScale:f.default.fontScale,colorblindMode:f.default.colorblindMode}})(E),e.exports=t.default},6005:function(e,t,n){"use strict";t.__esModule=!0,t.Widget=t.DEFAULT_OPACITY=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=v(n(9)),u=v(n(6858)),s=v(n(64)),f=v(n(79)),d=v(n(265)),c=v(n(142)),p=n(0),h=v(n(5673)),y=v(n(946));function v(e){return e&&e.__esModule?e:{default:e}}var g=p.OverlayWidgetTypes.DEFAULT,m=t.DEFAULT_OPACITY=1,b=r.createContext({type:g,opacity:m}),_=r.createContext(),O=function(e){var t=e.children,n=e.className,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","className"]);return i(b.Consumer,{},void 0,function(e){var s=e.type;return i(_.Consumer,{},void 0,function(e){return r.createElement("div",a({className:(0,l.default)(n,h.default.bar,h.default[(0,u.default)(s)]),style:e},o),t)})})},E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.disableScroll,n=e.children,o=e.className;return i(_.Consumer,{},void 0,function(e){return i(b.Consumer,{},void 0,function(a){var r=(0,l.default)(h.default.body,h.default[(0,u.default)(a.type)],o);return t?i("div",{className:r,style:e},void 0,n):i(d.default,{theme:d.default.Themes.GHOST_HAIRLINE,fade:!0,outerClassName:r,className:h.default.scroller},void 0,n)})})},t}(r.PureComponent);E.defaultProps={disableScroll:!1};var C=t.Widget=function(e){var t=e.type,n=void 0===t?g:t,o=e.width,a=e.height,r=e.children,s=e.className,f=e.opacity,d=void 0===f?m:f;return i(b.Provider,{value:{type:n,opacity:d}},void 0,i("div",{className:(0,l.default)(h.default.widget,h.default[(0,u.default)(n)],s),style:{width:o,height:a}},void 0,r))},S=function(e){var t=e.children,n=e.className,o=e.dynamicSize,a=void 0!==o&&o;return i(_.Consumer,{},void 0,function(e){var o;return i("div",{className:(0,l.default)(h.default.content,n,(o={},o[h.default.staticSize]=!a,o)),style:e},void 0,t)})};C.Background=function(e){var t=e.children,n=e.opacityOverride;if(null==t)return null;var o="string"==typeof t.type,a=[O,E,S];return i(b.Consumer,{},void 0,function(e){var l=e.opacity,u={backgroundColor:"rgba(54, 57, 63, "+(n||l)+")"};if(o){var s={style:u};return r.cloneElement(t,s)}if(a.includes(t.type))return i(_.Provider,{value:u},void 0,t);throw new Error("Widget.Background cannot be wrapped around "+t.type.displayName+". Pass a DOM node or one of "+a.map(function(e){return"Widget."+e.name}).join(","))})},C.Body=E,C.Content=S,C.Icon=function(e){var t,n=e.name,o=e.label,a=e.onClick,r=e.isActive,u=e.tooltipPosition,d=void 0===u?c.default.Positions.TOP:u,p=e.size,v=void 0===p?20:p,g=e.isTutorial,m=void 0!==g&&g;return i(c.default,{text:o,position:d,forceOpen:m,color:m?c.default.Colors.BRAND:c.default.Colors.BLACK},void 0,i(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,onClick:a,className:(0,l.default)(h.default.icon,(t={},t[h.default.toggledIconOn]=r,t)),innerClassName:y.default.flexCenter,"aria-label":o},void 0,i(f.default,{name:n,width:v,height:v,role:"img"})))},C.Bar=O,t.default=C},6141:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=c(n(3)),i=c(n(9)),r=c(n(191)),l=c(n(268)),u=c(n(367)),s=c(n(192)),f=c(n(6363)),d=(n(0),c(n(5672)));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=a=p(this,e.call.apply(e,[this].concat(r))),a.draggableRef=o.createRef(),a.handleDragStart=function(e,t){var n=a.props.onDragStart;s.default.close(),n&&n(e,t)},a.handleDragEnd=function(e,t){var n=a.props.onDragEnd;a.handleMovedTo(e),n&&n(e,t)},a.handleMovedTo=function(e){var t=a.props.overlayWidget;s.default.close(),t&&u.default.setPosition(t,e)},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(!e.locked&&this.props.locked){var t=this.draggableRef;null!=t.current&&t.current.handleMouseUp()}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggableStartSelector,a=e.flipVertical,r=e.flipHorizontal,l=e.initialPosition,u=e.dragAnywhere,s=e.snapOrientation,c=e.windowWidth,p=e.windowHeight,h=e.isVisible,y=null!=n?"."+n:"";return o.createElement(f.default,{snapOrientation:s,ref:this.draggableRef,selector:y,dragAnywhere:u,className:(0,i.default)(h?d.default.container:d.default.containerHidden),maxX:c,maxY:p,initialPosition:l,flipVertical:a,flipHorizontal:r,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onRelocated:this.handleMovedTo},t)},t}(o.Component);h.FlipTypes=f.default.FlipTypes,h.defaultProps={flipVertical:f.default.FlipTypes.DISABLED,flipHorizontal:f.default.FlipTypes.DISABLED,snapOrientation:!0},t.default=a.default.connectStores([r.default,l.default],function(){var e=r.default.windowSize();return{windowWidth:e.width,windowHeight:e.height}})(h),e.exports=t.default},6311:function(e,t,n){"use strict";t.__esModule=!0,t.ColorSchemes=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=h(n(9)),l=h(n(166)),u=h(n(263)),s=h(n(64)),f=h(n(40)),d=h(n(79)),c=h(n(5665)),p=h(n(519));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.ColorSchemes=(0,l.default)({PRIMARY:null,BRAND:null,DANGER:null}),g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=y(this,e.call.apply(e,[this].concat(i))),o.handleClose=function(e){e.stopPropagation();var t=o.props.onClose;t&&t(e)},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){return null==this.props.onClose?null:a(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,onClick:this.handleClose,className:c.default.closeButton},void 0,a(d.default,{name:d.default.Names.CLOSE,width:16,height:16,className:c.default.closeIcon}))},t.prototype.renderFooter=function(){var e=this.props.footer;return null==e?null:a(i.Fragment,{},void 0,a("div",{className:c.default.divider}),a("div",{className:c.default.footer},void 0,e))},t.prototype.render=function(){var e,t,n=this.props,o=n.title,i=n.body,l=n.isCompact,s=n.className,d=n.onClick,h=n.onClose,y=n.colorScheme,g=this.props.icon;null!=g&&(g="string"==typeof g?a(u.default,{src:g,className:c.default.avatar}):a("div",{className:c.default.avatar},void 0,g));var m=c.default.themePrimary;switch(y){case v.PRIMARY:break;case v.BRAND:m=c.default.themeBrand;break;case v.DANGER:m=c.default.themeDanger}return a("div",{className:(0,r.default)(m,c.default.container,(e={},e[c.default.compact]=l,e[c.default.clickable]=null!=d||null!=h,e),s),onClick:d},void 0,this.renderCloseButton(),a(f.default,{direction:f.default.Direction.HORIZONTAL,align:f.default.Align.CENTER},void 0,g,a(f.default,{justify:f.default.Justify.CENTER,direction:f.default.Direction.VERTICAL,className:c.default.details},void 0,a("div",{className:(0,r.default)(c.default.title,(t={},t[p.default.marginBottom4]=null!=i,t))},void 0,o),null!=i?a("div",{className:c.default.body},void 0,i):null)),this.renderFooter())},t}(i.Component);g.defaultProps={isCompact:!0,colorScheme:v.PRIMARY},t.default=g},6312:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=w(n(3)),l=w(n(166)),u=w(n(6)),s=w(n(40)),f=w(n(6050)),d=w(n(940)),c=w(n(123)),p=w(n(266)),h=w(n(75)),y=w(n(5990)),v=w(n(6403)),g=w(n(268)),m=w(n(6038)),b=w(n(367)),_=w(n(192)),O=n(375),E=n(0),C=w(n(5668)),S=w(n(519));function w(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=(0,l.default)({GENERAL:null,VOICE:null});function I(){var e=g.default.getNotificationPositionMode(),t=e!==E.OverlayNotificationPositions.DISABLED,n=m.default.getOverlayKeybind(),o=m.default.getOverlayChatKeybind();b.default.track(E.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:!0,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:g.default.getTextChatNotificationMode(),text_opacity_slider:g.default.getTextWidgetOpacity(),hotkey:null!=n?(0,O.toString)(n.shortcut):null,text_activation_hotkey:null!=o?(0,O.toString)(o.shortcut):null})}var A=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=T(this,e.call.apply(e,[this].concat(i))),o.state={selectedSection:N.GENERAL},o.handleSelectSection=function(e){o.setState({selectedSection:e})},o.handleToggleTextChatNotifications=function(){var e=E.OverlayNotificationTextChatTypes.ENABLED,t=E.OverlayNotificationTextChatTypes.DISABLED,n=o.props.textChatNotificationMode===e?t:e;b.default.setTextChatNotificationMode(n),I()},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){b.default.track(E.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"overlay",destination_pane:"OVERLAY SETTINGS",origin_pane:null})},t.prototype.handleCloseSettings=function(){_.default.close()},t.prototype.handleChangeNotificationPositionMode=function(e,t){b.default.setNotificationPositionMode(t),I()},t.prototype.handleChangeAvatarSizeMode=function(e){var t=e.value;b.default.setAvatarSizeMode(t)},t.prototype.handleChangeDisplayNameMode=function(e){var t=e.value;b.default.setDisplayNameMode(t)},t.prototype.handleChangeDisplayUserMode=function(e){var t=e.value;b.default.setDisplayUserMode(t)},t.prototype.renderHeader=function(){return a(s.default,{direction:s.default.Direction.VERTICAL,grow:0,shrink:0,className:C.default.header},void 0,a(s.default,{},void 0,a(h.default,{className:C.default.headerTitle,tag:h.default.Tags.H2},void 0,u.default.Messages.OVERLAY_SETTINGS_TITLE),a(c.default.CloseButton,{className:C.default.headerClose,onClick:this.handleCloseSettings})),this.renderTabBar())},t.prototype.renderTabBar=function(){var e=this.state.selectedSection;return a(f.default,{selectedItem:e,type:f.default.Types.TOP,className:C.default.tabBar,onItemSelect:this.handleSelectSection},void 0,a(f.default.Item,{id:N.GENERAL,className:C.default.tabBarItem},void 0,u.default.Messages.OVERLAY_SETTINGS_GENERAL_TAB),a(f.default.Item,{id:N.VOICE,className:C.default.tabBarItem},void 0,u.default.Messages.OVERLAY_SETTINGS_VOICE_TAB))},t.prototype.renderBody=function(){var e=this.state.selectedSection,t=void 0;switch(e){case N.VOICE:t=this.renderVoiceSettings();break;case N.GENERAL:default:t=this.renderGeneralSettings()}return a(c.default.Content,{className:C.default.content},e,t)},t.prototype.renderGeneralSettings=function(){var e=this.props,t=e.textChatNotificationMode,n=e.notificationPositionMode,o=n!==E.OverlayNotificationPositions.DISABLED;return a(i.Fragment,{},void 0,a(p.default,{title:u.default.Messages.FORM_LABEL_NOTIFICATION_POSITION,className:S.default.marginBottom20},void 0,a(v.default,{position:n,onChange:this.handleChangeNotificationPositionMode})),a(d.default,{value:o&&t===E.OverlayNotificationTextChatTypes.ENABLED,onChange:this.handleToggleTextChatNotifications,disabled:!o,hideBorder:!0},void 0,u.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))},t.prototype.renderVoiceSettings=function(){var e=this.props,t=e.avatarSizeMode,n=e.displayNameMode,o=e.displayUserMode;return a(i.Fragment,{},void 0,a(p.default,{title:u.default.Messages.FORM_LABEL_AVATAR_SIZE,className:S.default.marginBottom20},void 0,a(y.default,{onChange:this.handleChangeAvatarSizeMode,options:[{value:E.OverlayAvatarSizes.LARGE,name:u.default.Messages.AVATAR_SIZE_OPTION_LARGE},{value:E.OverlayAvatarSizes.SMALL,name:u.default.Messages.AVATAR_SIZE_OPTION_SMALL}],value:t,size:y.default.Sizes.SMALL})),a(p.default,{title:u.default.Messages.FORM_LABEL_DISPLAY_NAMES,className:S.default.marginBottom20},void 0,a(y.default,{onChange:this.handleChangeDisplayNameMode,options:[{value:E.OverlayDisplayNames.ALWAYS,name:u.default.Messages.DISPLAY_OPTION_ALWAYS},{value:E.OverlayDisplayNames.ONLY_WHILE_SPEAKING,name:u.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING},{value:E.OverlayDisplayNames.NEVER,name:u.default.Messages.DISPLAY_OPTION_NEVER}],value:n,size:y.default.Sizes.SMALL})),a(p.default,{title:u.default.Messages.FORM_LABEL_DISPLAY_USERS,className:S.default.marginBottom20},void 0,a(y.default,{onChange:this.handleChangeDisplayUserMode,options:[{value:E.OverlayDisplayUsers.ALWAYS,name:u.default.Messages.DISPLAY_OPTION_ALWAYS},{value:E.OverlayDisplayUsers.ONLY_WHILE_SPEAKING,name:u.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING}],value:o,size:y.default.Sizes.SMALL})))},t.prototype.render=function(){return a("div",{},void 0,a(c.default,{className:C.default.wrapper},void 0,this.renderHeader(),this.renderBody()))},t}(i.PureComponent);t.default=r.default.connectStores([g.default],function(){return{avatarSizeMode:g.default.getAvatarSizeMode(),displayNameMode:g.default.getDisplayNameMode(),displayUserMode:g.default.getDisplayUserMode(),notificationPositionMode:g.default.getNotificationPositionMode(),textChatNotificationMode:g.default.getTextChatNotificationMode()}})(A),e.exports=t.default},6313:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(9))),r=h(n(6838)),l=h(n(223)),u=h(n(79)),s=h(n(40)),f=h(n(6005)),d=n(0),c=h(n(6)),p=h(n(5574));function h(e){return e&&e.__esModule?e:{default:e}}var y=a(r.default,{});t.default=function(e){var t=e.title,n=e.children,o=e.renderSettings;return a(s.default,{className:p.default.guildWidgetSidebar,direction:s.default.Direction.VERTICAL},void 0,a(f.default.Bar,{className:(0,i.default)(p.default.header,p.default.draggableStartArea)},void 0,a(f.default.Content,{className:(0,i.default)(p.default.headerTitle,p.default.draggableStartArea),dynamicSize:!0},void 0,t),a(f.default.Content,{},void 0,a(l.default,{position:l.default.Positions.RIGHT,render:o},void 0,a(f.default.Icon,{name:u.default.Names.GEAR,onClick:d.NOOP,label:c.default.Messages.SETTINGS})))),a(s.default,{direction:s.default.Direction.VERTICAL,justify:s.default.Justify.BETWEEN},void 0,n),y)},e.exports=t.default},6314:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},6816:function(e,t,n){"use strict";t.__esModule=!0,t.createMouseEvent=function(e,t,n){return new MouseEvent(e,{screenX:t,screenY:n,clientX:t,clientY:n,bubbles:!0,view:window})},t.dispatchEventToPoint=function(e,t,n){document.elementFromPoint(t,n).dispatchEvent(e)}},6817:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=f(n(8)),i=n(73),r=f(n(11)),l=n(6816),u=n(56),s=f(n(275));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={x:0,y:0};function p(e){var t=e.clientX,n=e.clientY;c.x=t,c.y=n}var h=new Map;function y(e,t){if(null==t)h.delete(e),0===h.size&&window.removeEventListener("mousemove",p);else{var n=h.get(e);if(null!=n&&(0,s.default)(n.zone,t.zone))return;0===h.size&&window.addEventListener("mousemove",p),h.set(e,t)}r.default.embedded&&(r.default.requireModule("discord_overlay2").broadcastCommand({message:"set_click_zones",zones:Array.from(h.values()).map(function(e){return e.zone})}),function(){if(v)return;r.default.requireModule("discord_overlay2").setClickZoneCallback(function(e){var t=h.get(e);null!=t&&t.instance.click()}),v=!0}())}var v=!1;var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=o=d(this,e.call.apply(e,[this].concat(l))),o.zone=a.default.uniqueId("ClickArea"),o.interval=new u.Interval,o.updateZone=function(){var e=(0,i.findDOMNode)(o);if(e instanceof HTMLElement){var t=e.getBoundingClientRect(),n=t.left,a=t.top,r=t.right,l=t.bottom;y(o.zone,{instance:o,zone:{name:o.zone,left:parseInt(n),top:parseInt(a),right:parseInt(r),bottom:parseInt(l)}})}},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.observe?this.observeZone():this.updateZone()},t.prototype.componentWillUnmount=function(){this.interval.stop(),y(this.zone,null)},t.prototype.componentDidUpdate=function(e){var t=this.props.observe;t!==e.observe&&(t?this.observeZone():this.interval.stop())},t.prototype.render=function(){return o.Children.only(this.props.children)},t.prototype.observeZone=function(){this.updateZone(),this.interval.start(1e3,this.updateZone)},t.prototype.click=function(){var e=(0,l.createMouseEvent)("click",c.x,c.y);(0,l.dispatchEventToPoint)(e,c.x,c.y)},t}(o.PureComponent);g.defaultProps={observe:!0},t.default=g,e.exports=t.default},6818:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=o;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(238)),u=n(579),s=C(n(9)),f=C(n(6)),d=C(n(64)),c=C(n(87)),p=C(n(40)),h=C(n(79)),y=C(n(6005)),v=n(6311),g=C(v),m=n(396),b=C(n(367)),_=n(0),O=C(n(6817)),E=C(n(5655));function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=1e4;function I(){(0,m.send)({type:_.OverlayEventTypes.DISPATCH,pid:(0,u.getPID)(),payloads:[{type:_.ActionTypes.OVERLAY_SET_LOCKED,locked:!0}]})}var A=i(y.default.Bar,{},void 0,"Error Details"),M=function(e){function t(n){S(this,t);var o=w(this,e.call(this,n));P.call(o);var a=setTimeout(o.hideNotification,N);return o.state={notificationTimer:a,showTrace:!1,busy:!1},o}return T(t,e),t.prototype.componentDidMount=function(){b.default.track(_.AnalyticEvents.NOTIFICATION_VIEWED,{notif_type:"Overlay Crashed"})},t.prototype.componentWillUnmount=function(){var e=this.state.notificationTimer;e&&clearTimeout(e)},t.prototype.renderFooter=function(){var e=this.state.busy;return i(p.default,{},void 0,i(d.default,{size:d.default.Sizes.SMALL,color:d.default.Colors.TRANSPARENT,fullWidth:!0,submitting:e,onClick:this.handleReload,className:E.default.notificationButton},void 0,f.default.Messages.OVERLAY_RELOAD))},t.prototype.render=function(){var e=this.props,t=e.info,n=e.error,o=this.state,a=o.notificationTimer,r=o.showTrace;return null==a?null:i(O.default,{observe:!1},void 0,i(c.default,{className:(0,s.default)("theme-dark",E.default.container),onClick:function(e){return e.stopPropagation()}},void 0,i(g.default,{colorScheme:v.ColorSchemes.DANGER,icon:i(h.default,{name:h.default.Names.POOP,width:40,height:40,className:E.default.notificationIcon}),isCompact:!1,title:f.default.Messages.OVERLAY_CRASHED_TITLE,onClick:this.handleNotificationClick,onClose:this.hideNotification,footer:this.renderFooter()}),r&&t?i(y.default,{className:E.default.stackTrace},void 0,A,i(y.default.Content,{className:E.default.stackTraceCode},void 0,i("code",{className:E.default.code},void 0,i("pre",{},void 0,n.stack)))):null))},t}(r.PureComponent),P=function(){var e=this;this.hideNotification=function(){I(),e.setState({notificationTimer:null})},this.handleReload=function(t){e.setState({busy:!0}),I(),b.default.track(_.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:"Overlay Crashed",action_type:"reload"},!0),t.stopPropagation(),setTimeout(function(){return location.reload(!0)},200)},this.handleNotificationClick=function(t){t.stopPropagation();var n=e.state.notificationTimer;n&&clearTimeout(n),t.shiftKey&&e.setState({showTrace:!0})}},k=function(e){function t(){var n,o;S(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=w(this,e.call.apply(e,[this].concat(i))),o.state={error:null,info:null},w(o,n)}return T(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e,info:t}),(0,m.send)({type:_.OverlayEventTypes.DISPATCH,pid:(0,u.getPID)(),payloads:[{type:_.ActionTypes.OVERLAY_CRASHED,pid:(0,u.getPID)()},{type:_.ActionTypes.OVERLAY_SET_LOCKED,locked:!0}]}),o(function(){return window.addEventListener("click",I)}),l.default.captureException(e,{extra:t})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=this.state,a=o.error,r=o.info;return null!=a?i(M,{error:a,info:r}):i("div",{className:n},void 0,t)},t}(r.PureComponent);t.default=k,e.exports=t.default}).call(this,n(35).setImmediate)},6819:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=f(n(3)),i=f(n(65)),r=f(n(225)),l=f(n(268)),u=n(194),s=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.locked)return null;var t=this.props,n=t.selectedGuild,o=t.selectedChannel;n!==e.selectedGuild&&(0,u.trackWithOverlayMetadata)(s.AnalyticEvents.GUILD_VIEWED),null!=o&&o!==e.selectedChannel&&(0,u.trackWithOverlayMetadata)(s.AnalyticEvents.CHANNEL_OPENED)},t.prototype.render=function(){return null},t}(o.Component);t.default=a.default.connectStores([i.default,r.default],function(){var e=r.default.getGuildId();return{selectedGuild:e,selectedChannel:i.default.getChannelId(e),locked:l.default.locked}})(d),e.exports=t.default},6820:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),a=f(n(6330)),i=f(n(6332)),r=f(n(6327)),l=f(n(6336)),u=f(n(6335)),s=f(n(6150));function f(e){return e&&e.__esModule?e:{default:e}}o.default.initialize();var d=[i.default,a.default,r.default,s.default,l.default,u.default];t.default=d,e.exports=t.default},6821:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=M(n(3)),u=M(n(9)),s=M(n(6)),f=M(n(268)),d=M(n(367)),c=n(33),p=M(n(65)),h=M(n(18)),y=M(n(986)),v=M(n(542)),g=M(n(58)),m=M(n(14)),b=M(n(942)),_=M(n(142)),O=M(n(6141)),E=M(n(79)),C=M(n(87)),S=M(n(67)),w=M(n(6005)),T=M(n(6420)),N=n(0),I=M(n(5657)),A=M(n(946));function M(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=function(e){function t(){var n,o;P(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=k(this,e.call.apply(e,[this].concat(i))),o.handleClick=function(e){var t=o.props,n=t.onClick,a=t.user;null!=n&&n(e,a)},o.handleContextMenu=function(e){var t=o.props,n=t.onContextMenu,a=t.user;null!=n&&n(e,a)},k(o,n)}return L(t,e),t.prototype.render=function(){var e,t,n,o,a,r,l,s,f=this.props,d=f.flipped,c=f.locked,p=f.deafened,h=f.muted,y=f.user,v=f.channel,g=f.size,m=f.speaking,b=f.isPrioritySpeaker,_=f.nick,O=f.displayNameMode;return f.displayUserMode===N.OverlayDisplayUsers.ONLY_WHILE_SPEAKING&&c&&!m?null:i("li",{className:(0,u.default)(I.default.voiceUserWrapper,(e={},e[I.default.faded]=!m,e[I.default.interactive]=!c,e))},void 0,i(C.default,{onClick:c?null:this.handleClick,onContextMenu:c?null:this.handleContextMenu,className:(0,u.default)(I.default.voiceUser,(t={},t[A.default.directionRowReverse]=d,t[A.default.directionRow]=!d,t))},void 0,i(T.default,{user:y,nick:_,speaking:!1,flipped:d,channel:v,size:g,avatarContainerClass:(0,u.default)(I.default.avatarContainer,(n={},n[I.default.flipped]=d,n)),userNameClassName:(0,u.default)(I.default.username,(o={},o[I.default.locked]=c,o[I.default.hidden]=c&&(O===N.OverlayDisplayNames.NEVER||!m&&O===N.OverlayDisplayNames.ONLY_WHILE_SPEAKING),o))}),i(w.default.Content,{},void 0,b?i("div",{className:(0,u.default)(I.default.icon,(a={},a[I.default.locked]=c,a))},void 0,i("div",{className:(0,u.default)(I.default.priority,(r={},r[I.default.prioritySpeaking]=m,r))})):null,p?i(E.default,{name:E.default.Names.DEAFENED,className:(0,u.default)(I.default.icon,(l={},l[I.default.locked]=c,l))}):null,h?i(E.default,{name:E.default.Names.MUTED,className:(0,u.default)(I.default.icon,(s={},s[I.default.locked]=c,s))}):null)))},t}(r.PureComponent);x.defaultProps={size:N.OverlayAvatarSizes.LARGE,flipped:!1,locked:!1,speaking:!1,isPrioritySpeaker:!1,hideName:!1,deafened:!1,muted:!1};var R=l.default.connectStores([v.default,g.default],function(e){var t=e.user,n=e.voiceState;return{speaking:v.default.isSpeaking(t.id),isPrioritySpeaker:v.default.isPrioritySpeaker(t.id),muted:function(e){var t=e.mute||e.selfMute||e.suppress;return t||m.default.getId()!==e.userId?t||(t=g.default.isLocalMute(e.userId)):t=!g.default.isEnabled()||g.default.isSelfMute()||g.default.isSelfMutedTemporarily(),t}(n),deafened:function(e){var t=e.deaf||e.selfDeaf;return t||m.default.getId()!==e.userId||(t=g.default.isSelfDeaf()),t}(n)}})(function(e){var t=e.user,n=(e.voiceState,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["user","voiceState"]));return r.createElement(x,a({user:t},n))}),D=function(e){function t(){var n,o;P(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=k(this,e.call.apply(e,[this].concat(l))),o.handleUserContextMenu=function(e,t){var n=o.props.channel;(0,c.openContextMenu)(e,function(e){return r.createElement(b.default,a({},e,{type:N.ContextMenuTypes.USER_CHANNEL_VOICE,user:t,selected:!0,channelId:n.id}))})},o.handlePin=function(){d.default.togglePinned(N.OverlayWidgets.VOICE)},k(o,n)}return L(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pinned,o=t.channel;n!==e.pinned&&d.default.track(N.AnalyticEvents.OVERLAY_PIN_TOGGLED,{pinned:n,guild_id:o.guild_id,channel_id:o.id,channel_type:o.type,widget_type:N.OverlayWidgets.VOICE})},t.prototype.renderVoiceUsers=function(){var e,t,n=this,o=this.props,a=o.sortedVoiceStates,r=o.displayNameMode,l=o.displayUserMode,s=o.locked,f=o.isPreviewingInGame,d=o.channel,c=o.flipped,p=o.avatarSizeMode,h=o.atTopEdge,y=a.map(function(e){var t=e.user,o=e.voiceState,a=e.nick;return null==t?null:i(R,{user:t,nick:a,channel:d,flipped:c,voiceState:o,displayNameMode:r,displayUserMode:l,size:p,locked:s||f,onContextMenu:n.handleUserContextMenu,onClick:n.handleUserContextMenu},t.id)});return i(w.default.Body,{className:(0,u.default)((e={},e[I.default.topMargin]=s&&!h,e))},void 0,i("ul",{className:(0,u.default)(I.default.voiceUserList,(t={},t[I.default.flipped]=c,t))},void 0,y))},t.prototype.renderChannelInfo=function(){var e,t=this.props,n=t.pinned,o=t.channel,a=t.dragging;return i(w.default.Bar,{className:(0,u.default)((e={},e[I.default.draggingHeader]=a,e))},void 0,i(w.default.Content,{dynamicSize:!0},void 0,i(E.default,{name:E.default.Names.DRAG,color:N.Colors.WHITE,width:20,height:20,className:(0,u.default)(I.default.icon,I.default.faded,I.default.dragIcon)}),i(E.default,{name:E.default.Names.SPEAKER,color:N.Colors.WHITE,width:20,height:20,className:(0,u.default)(I.default.icon,I.default.faded,I.default.speakerIcon)}),i(S.default,{color:N.Colors.PRIMARY_200,className:I.default.title},void 0,o.toString())),i(w.default.Icon,{name:E.default.Names.WIDGET_PINNED,label:n?s.default.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:s.default.Messages.OVERLAY_WIDGET_SHOW_IN_GAME,onClick:this.handlePin,tooltipPosition:_.default.Positions.LEFT,size:18,isActive:n}))},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.locked,o=e.pinned,a=e.atTopEdge,r=e.isPreviewingInGame;if(null==t)return null;if(n&&!o)return null;var l=n||r,u=N.OverlayWidgetTypes.UNPINNED;return o&&(u=N.OverlayWidgetTypes.PINNED),l&&(u=N.OverlayWidgetTypes.IN_GAME),i(w.default,{type:u,width:280},void 0,l||a?null:this.renderChannelInfo(),this.renderVoiceUsers(),!l&&a?this.renderChannelInfo():null)},t}(r.PureComponent);D.defaultProps={flipped:!1,atTopEdge:!1};var z=l.default.connectStores([f.default,y.default],function(e){var t=e.channel;return{sortedVoiceStates:y.default.getVoiceStatesForChannel(t.guild_id,t.id),pinned:f.default.isPinned(N.OverlayWidgets.VOICE),displayUserMode:f.default.getDisplayUserMode(),displayNameMode:f.default.getDisplayNameMode(),avatarSizeMode:f.default.getAvatarSizeMode()}})(D),j=function(e){function t(){var n,o;P(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=k(this,e.call.apply(e,[this].concat(i))),o.state={dragging:!1},o.handleDragStart=function(){o.props.pinned&&d.default.setPreviewInGameMode(!0),o.setState({dragging:!0})},o.handleDragEnd=function(){o.props.pinned&&d.default.setPreviewInGameMode(!1),o.setState({dragging:!1})},k(o,n)}return L(t,e),t.prototype.render=function(){var e=this.props,t=e.initialPosition,n=e.locked,o=e.channel,a=e.isPreviewingInGame,r=e.isVisible,l=this.state.dragging;return null!=o?i(O.default,{overlayWidget:N.OverlayWidgets.VOICE,dragAnywhere:!n,locked:n,initialPosition:t,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,isVisible:r},void 0,i(z,{locked:n,isPreviewingInGame:a,dragging:l,channel:o})):null},t}(r.PureComponent);t.default=l.default.connectStores([p.default,h.default,f.default],function(){var e=p.default.getVoiceChannelId(),t=f.default.isPinned(N.OverlayWidgets.VOICE);return{channel:null!=e?h.default.getChannel(e):null,isVisible:t||!f.default.locked,pinned:t}})(j),e.exports=t.default},6822:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=v(n(3)),l=v(n(985)),u=n(75),s=v(u),f=v(n(268)),d=v(n(367)),c=v(n(5660)),p=v(n(6)),h=n(0),y=n(532);function v(e){return e&&e.__esModule?e:{default:e}}var g=[].concat(Object.values(y.OpacityBounds)).map(function(e){return 100*e}),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleUpdateBackgroundOpacity=function(e){d.default.setTextWidgetOpacity(e),d.default.track(h.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_opacity_slider:e})},t.prototype.handlePreviewBackgroundOpacity=function(e){d.default.setTextWidgetOpacity(e,{preview:!0})},t.prototype.render=function(){var e=this.props.opacity;return a("div",{className:c.default.container},void 0,a(s.default,{tag:u.Tags.H5,className:c.default.title},void 0,p.default.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY),a("div",{className:c.default.sliderContainer},void 0,a(l.default,{mini:!0,defaultValue:e,minValue:0,maxValue:100,handleSize:10,onValueChange:this.handleUpdateBackgroundOpacity,asValueChanges:this.handlePreviewBackgroundOpacity,markers:g,onMarkerRender:h.NOOP,equidistant:!0,stickToMarkers:!0})))},t}(i.PureComponent);t.default=r.default.connectStores([f.default],function(){return{opacity:f.default.getTextWidgetOpacity()}})(m),e.exports=t.default},6823:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=p(n(9)),l=p(n(6005)),u=n(79),s=p(u),f=p(n(5661)),d=n(0),c=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=h(this,e.call.apply(e,[this].concat(i))),o.handleCall=function(e){var t=o.props,n=t.onClickCall,a=t.channelHasActiveCall,i=t.userIsInChannelCall;n&&n(e,a,i)},o.handleBarClick=function(e){var t=o.props.onClick;null!=t&&t(e)},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCallButton=function(){var e=this.props,t=e.channelHasActiveCall,n=e.userIsInChannelCall,o=void 0,i="";return t?n?(o=c.default.Messages.LEAVE_CALL,i=f.default.disconnectCallIcon):(o=c.default.Messages.JOIN_CALL,i=f.default.activeCallIcon):o=c.default.Messages.START_VOICE_CALL,a("div",{className:i},u.IconNames.PHONE,a(l.default.Icon,{name:u.IconNames.PHONE,label:o,onClick:this.handleCall}))},t.prototype.renderWidgetButtons=function(){var e=this.props,t=(e.handlePin,e.pinned),n=e.handleOpenOpacitySettings,o=e.channel,i=(e.disablePinTutorial,[]);return t&&i.push(a(l.default.Icon,{name:u.IconNames.OPACITY,label:c.default.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY,onClick:n},u.IconNames.OPACITY)),o.type!==d.ChannelTypes.DM&&o.type!==d.ChannelTypes.GROUP_DM||i.push(this.renderCallButton()),i},t.prototype.render=function(){var e=this.props,t=e.className,n=e.channel,o=e.draggableClassName,u=e.topic,d=e.status,c=e.onContextMenu,p=e.dragging,h=n.getTitleIcon(),y=p?l.default.Background:i.Fragment;return a(y,{},void 0,a(l.default.Bar,{className:(0,r.default)(t,o),onContextMenu:c,onClick:this.handleBarClick},void 0,a(y,{},void 0,a(l.default.Content,{dynamicSize:!0},void 0,a(s.default,{name:s.default.Names.DRAG,className:(0,r.default)(f.default.dragIcon,o),background:f.default.iconBackground,width:16,height:16}),h?a(s.default,{name:h,width:16,height:16,className:(0,r.default)(f.default.titleIcon,o),background:f.default.iconBackground}):null,a("span",{className:(0,r.default)(f.default.channelName,o)},void 0,n.toString()),d,u)),a(y,{},void 0,a(l.default.Content,{},void 0,this.renderWidgetButtons()))))},t}(i.Component);t.default=y,e.exports=t.default},6824:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=E(n(3)),l=E(n(6380)),u=E(n(6094)),s=E(n(378)),f=E(n(18)),d=E(n(65)),c=E(n(268)),p=E(n(367)),h=E(n(165)),y=E(n(79)),v=E(n(6823)),g=E(n(6005)),m=E(n(6822)),b=n(0),_=E(n(6)),O=E(n(5659));function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=a(m.default,{}),w=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=C(this,e.call.apply(e,[this].concat(i))),o.state={showOpacitySlider:!1},o.handleClickCall=function(e,t,n){var a=o.props.channel;if(t)n?h.default.selectVoiceChannel(null,null):p.default.callPrivateChannel(a.id,!1);else{var i=!t&&!e.shiftKey;p.default.callPrivateChannel(a.id,i)}},o.handleOpenOpacitySettings=function(){var e=o.props.pinned;o.setState({showOpacitySlider:!0}),e&&p.default.setPreviewInGameMode(!0)},o.handleCloseOpacitySettings=function(){var e=o.props.pinned;o.setState({showOpacitySlider:!1}),e&&p.default.setPreviewInGameMode(!1)},o.handleChannelHeaderClick=function(){o.props.disablePinTutorial||p.default.disablePinTutorial()},C(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.draggableClassName,o=e.locked,i=e.channel,r=e.handlePin,s=e.channelHasActiveCall,f=e.userIsInChannelCall,d=e.onContextMenu,c=e.pinned,p=e.dragging,h=e.disablePinTutorial;return this.state.showOpacitySlider&&!o?a(g.default.Bar,{className:O.default.opacityHeader},void 0,S,a(g.default.Icon,{name:y.default.Names.CLOSE,onClick:this.handleCloseOpacitySettings,label:_.default.Messages.CLOSE})):a(v.default,{channel:i,channelHasActiveCall:s,userIsInChannelCall:f,onClickCall:this.handleClickCall,pinned:c,dragging:p,className:t,draggableClassName:n,handlePin:r,handleOpenOpacitySettings:this.handleOpenOpacitySettings,topic:i.type===b.ChannelTypes.DM?a(l.default,{channel:i}):null,status:i.type===b.ChannelTypes.DM?a(u.default,{userId:i.getRecipientId()}):null,onContextMenu:d,disablePinTutorial:h,onClick:this.handleChannelHeaderClick})},t}(i.Component);t.default=r.default.connectStores([s.default,d.default,f.default,c.default],function(e){var t=e.channel,n=d.default.getVoiceChannelId(),o=f.default.getChannel(n),a=!c.default.getPinTutorialStatus();return{channelHasActiveCall:s.default.isCallActive(t.id),userIsInChannelCall:null!=o&&o.id===t.id,disablePinTutorial:a}})(w),e.exports=t.default},6825:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),u=n(0),s=f(n(5662));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=d(this,e.call.apply(e,[this].concat(l))),o.state={resizing:!1},o.size=i({},o.props.initialSize),o._resizableRef=r.createRef(),o._startClick={clientX:0,clientY:0},o._startPosition={left:0,top:0},o._startSize={width:0,height:0},o.resizeEnd=function(){o.removeEventListeners();var e=o.props.onResizeEnd;o.state.resizing&&null!=e&&e(i({},o.size),o);o.setState({resizing:!1})},o.handleMouseDown=function(e){e.button===u.MouseButtons.PRIMARY&&o.resizeStart(e.clientX,e.clientY)},o.handleMouseMove=function(e){e.preventDefault(),e.stopPropagation(),o.resizeUpdate(e.clientX,e.clientY)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(){this.updateSize(this.size)},t.prototype.componentWillUnmount=function(){this.cancelResize()},t.prototype.constrainDimensions=function(e,t){var n=e.width,o=e.height,a=t.left,i=t.top,r=this.props,l=r.minWidth,u=r.maxWidth,s=r.minHeight,f=r.maxHeight,d=r.maxX,c=r.maxY;return n<l&&(n=l),n>u&&(n=u),o<s&&(o=s),o>f&&(o=f),a+n>d&&(n=d-a),i+o>c&&(o=c-i),{width:n,height:o}},t.prototype.getElementPosition=function(){var e=this.getResizableNode();if(null==e)throw new Error("could not get resizable element");var t=e.getBoundingClientRect(),n=t.left,o=t.top;return{left:n+window.scrollX,top:o+window.scrollY}},t.prototype.getResizableNode=function(){return this._resizableRef.current},t.prototype.setDOMSizes=function(e){var t=e.width,n=e.height;this.size={width:t,height:n};var o=this.getResizableNode();null!=o&&(o.style.width=t+"px",o.style.height=n+"px")},t.prototype.updateSize=function(e,t){null==t&&(t=this.getElementPosition());var n=this.constrainDimensions(e,t),o=this.size,a=o.width,i=o.height;if(n.width!==a||n.height!==i){this.setDOMSizes(n);var r=this.props.onResize;null!=r&&r(n,this)}},t.prototype.resizeStart=function(e,t){this._startClick={clientX:e,clientY:t},this._startPosition=this.getElementPosition(),this._startSize=i({},this.size),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.resizeEnd);var n=this.props.onResizeStart;null!=n&&n(this),this.setState({resizing:!0})},t.prototype.resizeUpdate=function(e,t){if(this.state.resizing){var n=this._startSize,o=n.width,a=n.height;o+=e-this._startClick.clientX,a+=t-this._startClick.clientY,this.updateSize({width:o,height:a},this._startPosition)}},t.prototype.cancelResize=function(){this.removeEventListeners(),this.state.resizing&&(this.updateSize(this._startSize,this._startPosition),this.resizeEnd())},t.prototype.removeEventListeners=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.resizeEnd)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.className,o=e.children,i=void 0;return t||null==o||(i=a("div",{className:s.default.resizeIcon,onMouseDown:this.handleMouseDown})),r.createElement("div",{ref:this._resizableRef,className:(0,l.default)(s.default.resizable,n),style:this.size},o,i)},t}(r.PureComponent);c.defaultProps={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxX:1/0,maxY:1/0,disabled:!1},t.default=c,e.exports=t.default},6826:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(191)),r=f(n(367)),l=f(n(192)),u=f(n(6825)),s=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),f=0;f<i;f++)u[f]=arguments[f];return n=o=d(this,e.call.apply(e,[this].concat(u))),o.resizableRef=a.createRef(),o.handleResizeStart=function(){var e=o.props.previewInGameMode;l.default.close(),e&&r.default.setPreviewInGameMode(!0),window.addEventListener("keydown",o.handleKeyDown);var t=o.props.onResizeStart;null!=t&&t()},o.handleResizeEnd=function(e,t){var n=o.props,a=n.overlayWidget,i=n.onResizeEnd;n.previewInGameMode&&r.default.setPreviewInGameMode(!1),window.removeEventListener("keydown",o.handleKeyDown),a&&r.default.setWidgetSize(a,e),null!=i&&i(t)},o.handleKeyDown=function(e){if(e.keyCode===s.KeyboardKeys.ESCAPE){var t=o.resizableRef.current;null!=t&&t.cancelResize()}},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(!e.locked&&this.props.locked){var t=this.resizableRef.current;null!=t&&t.cancelResize()}},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleKeyDown)},t.prototype.render=function(){var e=this.props,t=(e.overlayWidget,e.locked),n=(e.onResizeStart,e.onResizeEnd,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["overlayWidget","locked","onResizeStart","onResizeEnd"])),r=i.default.windowSize(),l=r.width,s=r.height;return a.createElement(u.default,o({ref:this.resizableRef,maxX:l,maxY:s,onResizeStart:this.handleResizeStart,onResizeEnd:this.handleResizeEnd,disabled:t},n))},t}(a.Component);t.default=c,e.exports=t.default},6827:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=H(n(3)),u=H(n(6)),s=H(n(9)),f=H(n(6068)),d=H(n(6384)),c=H(n(6382)),p=H(n(6374)),h=H(n(6141)),y=H(n(6826)),v=H(n(6824)),g=n(6005),m=H(g),b=H(n(942)),_=H(n(191)),O=H(n(18)),E=H(n(12)),C=H(n(26)),S=H(n(225)),w=H(n(6067)),T=H(n(65)),N=H(n(6109)),I=H(n(268)),A=H(n(271)),M=H(n(6038)),P=H(n(367)),k=H(n(145)),L=H(n(6110)),x=n(33),R=H(n(987)),D=H(n(273)),z=n(143),j=n(375),W=H(n(977)),V=n(0),G=H(n(5658)),U=n(532),Y=n(389);function H(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=U.OpacityBounds.UPPER+.1,$=function(e){function t(n){B(this,t);var o=K(this,e.call(this,n));return Z.call(o),N.default.addChangeListener(o.draftDidChange),o.state={textValue:N.default.getDraft(n.channel.id),focused:!1},z.ComponentDispatch.subscribe(V.ComponentActions.TEXTAREA_FOCUS,o.focusInput),z.ComponentDispatch.subscribe(V.ComponentActions.TEXTAREA_BLUR,o.blurInput),o}return X(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(e),(this.props.channel!==e.channel||!this.props.isTemporarilyActive&&e.isTemporarilyActive)&&this.setState({focused:!0})},t.prototype.componentWillUnmount=function(){N.default.removeChangeListener(this.draftDidChange),z.ComponentDispatch.unsubscribe(V.ComponentActions.TEXTAREA_FOCUS,this.focusInput),z.ComponentDispatch.unsubscribe(V.ComponentActions.TEXTAREA_BLUR,this.blurInput)},t.prototype.handleResize=function(){z.ComponentDispatch.dispatch(V.ComponentActions.CHAT_RESIZE)},t.prototype.render=function(){var e=this,t=this.props,n=t.channel,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["channel"]),a=this.state,l=a.focused,s=a.textValue;return r.createElement(f.default,i({},o,{setRef:this.ref,channel:n,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},placeholder:u.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:n.toString(!0)}),value:s,onSubmit:this.handleSendMessage,onChange:this.handleTextareaChange,onKeyDown:this.handleTextareaKeyDown,onResize:this.handleResize,focused:l,disableAttachments:!0,disableImagePaste:!1}))},t}(r.Component),Z=function(){var e=this;this.ref=r.createRef(),this.draftDidChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=e.state.textValue,o=N.default.getDraft(t.channel.id);n!==o&&e.setState({textValue:o})},this.handleTextareaKeyDown=function(t){if(!(t.which!==V.KeyboardKeys.ARROW_UP||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)&&0===e.state.textValue.length){t.preventDefault();var n=e.props.channel,o=A.default.getLastEditableMessage(n.id);o&&k.default.startEditMessage(n.id,o.id,o.content)}},this.handleTextareaChange=function(t,n){var o=e.props.channel.id;L.default.changeDraft(o,e.state.textValue),R.default.typing(o),e.setState({textValue:n})},this.handleSendMessage=function(t){var n=e.props,o=n.channel,a=n.isTemporarilyActive;return 0===t.length?Promise.resolve(!1):W.default.applyChatRestrictions(e.ref.current,t,o).then(function(n){var i=n.valid,r=n.failureReason;if(i){if(R.default.clear(o.id),k.default.sendMessage(o.id,D.default.parse(o,t),!0),e.setState({textValue:""}),!a)return!0;P.default.deactivateAllRegions()}else r===V.MessageRestrictionTypes.SLOWMODE_COOLDOWN&&z.ComponentDispatch.dispatch(V.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN)})},this.focusInput=function(){e.setState({focused:!0})},this.blurInput=function(){e.setState({focused:!1})}},J=function(e){function t(){var n,o;B(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=K(this,e.call.apply(e,[this].concat(l))),o.handlePin=function(){P.default.togglePinned(V.OverlayWidgets.TEXT)},o.getOpacityType=function(){var e=o.props,t=e.locked,n=e.isPreviewingInGame;if(!(t||n))return U.BackgroundOpacityTypes.FULL;var a=o.getOpacity(),i=U.BackgroundOpacityTypes.MEDIUM;return a===U.OpacityBounds.TOP?i=U.BackgroundOpacityTypes.FULL:a<U.OpacityBounds.LOWER?i=U.BackgroundOpacityTypes.LOW:a>=U.OpacityBounds.UPPER&&(i=U.BackgroundOpacityTypes.HIGH),i},o.handleContextMenu=function(e){var t=o.props,n=t.channel,a=t.user;null!=n&&null!=a&&(0,x.openContextMenu)(e,function(e){return r.createElement(b.default,i({},e,{type:V.ContextMenuTypes.USER_CHANNEL_TITLE,user:a,selected:!0,channelId:n.id}))})},K(o,n)}return X(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.channel,o=t.pinned,a=t.activated;null!=n&&(o!==e.pinned&&P.default.track(V.AnalyticEvents.OVERLAY_PIN_TOGGLED,{pinned:o,guild_id:n.guild_id,channel_id:n.id,channel_type:n.type,widget_type:V.OverlayWidgets.TEXT}),a&&!e.activated&&P.default.track(V.AnalyticEvents.OVERLAY_UNLOCKED,{channel_id:n.id,channel_type:n.type,guild_id:n.guild_id}))},t.prototype.getOpacity=function(){var e=this.props,t=e.locked,n=e.activated,o=e.opacity,a=e.isPreviewingInGame;return t&&!n||a?o/100:n||!t?Math.min(1,(o+25)/100):g.DEFAULT_OPACITY},t.prototype.renderContent=function(){var e,t,n=this.props,o=n.channel,i=n.nsfwAgree,l=n.guild,f=n.locked,h=n.activated,y=n.chatKeybind,v=n.pinned,g=n.isPreviewingInGame,b=n.dragging;if(null==o)return null;if(!i&&null!=o&&o.isNSFW()&&null!=l)return a(p.default,{className:G.default.solidBackground,guild:l});var _=f||g,O=!_||h,E=this.getOpacityType();return a(Y.MessagesInteractionContext.Provider,{value:{disableInteractions:v&&f&&!h,disableAnimations:v&&_&&!h}},void 0,a(r.Fragment,{},void 0,a(m.default.Background,{opacityOverride:_?null:F},void 0,a("div",{className:(0,s.default)(G.default.messagesContainer,G.default[E+"BackgroundOpacity"],(e={},e[G.default.looksLocked]=g&&(!b||!v),e[G.default.isDragging]=b,e[G.default.disableHoverStates]=v&&f&&!h,e))},void 0,a(d.default,{channel:o,className:G.default.messages,forceCompact:v,backgroundOpacity:E},o.id))),a("div",{className:(0,s.default)((t={},t[G.default.looksLocked]=g&&(!b||!v),t))},void 0,O?a(m.default.Background,{opacityOverride:_?null:F},void 0,a("div",{className:G.default.footerContent},void 0,a($,{channel:o,isTemporarilyActive:h}),a("div",{className:G.default.typingWrapper},void 0,a(c.default,{channel:o,className:G.default.typing})))):a(m.default.Background,{opacityOverride:U.OpacityBounds.LOWER},void 0,a("div",{className:(0,s.default)(G.default.activateKeybind,G.default.mediumBackgroundOpacity)},void 0,null!=o.name&&o.name.length>0?u.default.Messages.OVERLAY_CHANNEL_CHAT_HOTKEY.format({keybind:y,channelName:o.type===V.ChannelTypes.GROUP_DM?o.name:"#"+o.name}):u.default.Messages.OVERLAY_USER_CHAT_HOTKEY.format({keybind:y}))))))},t.prototype.render=function(){var e,t,n=this.props,o=n.locked,i=n.channel,r=n.pinned,l=n.activated,u=n.isPreviewingInGame,f=n.dragging;if(null==i)return null;var d=V.OverlayWidgetTypes.UNPINNED;l?d=V.OverlayWidgetTypes.IN_GAME_ACTIVE:r&&o||u?d=V.OverlayWidgetTypes.IN_GAME_TEXT:r&&(d=V.OverlayWidgetTypes.PINNED);var c=o&&!l||u,p=r&&(c||l),h=r&&l,y=r&&c&&!l,g=this.getOpacity(),b=this.getOpacityType();return(!c||c&&r||l&&r)&&a(U.BackgroundOpacityContext.Provider,{value:{backgroundOpacity:b}},void 0,a(m.default,{className:(0,s.default)((e={},e[G.default.widgetWrapper]=!r,e[G.default.widgetWrapperPinned]=r,e[G.default.locked]=y,e[G.default.inGame]=p,e[G.default.inGameActive]=h,e[G.default.pinned]=r,e)),type:d,opacity:g},void 0,o||f&&r?null:a(v.default,{draggableClassName:G.default.draggableStartArea,className:(0,s.default)(G.default.headerDefault,(t={},t[G.default.draggingHeader]=f,t)),channel:i,locked:o,pinned:r,dragging:f,handlePin:this.handlePin,onContextMenu:this.handleContextMenu}),this.renderContent()))},t}(r.Component),q=l.default.connectStores([C.default,w.default,O.default,T.default,S.default,I.default,M.default],function(){var e=S.default.getGuildId(),t=T.default.getChannelId(e),n=O.default.getChannel(t),o=I.default.isPinned(V.OverlayWidgets.TEXT)&&!1,a=M.default.getOverlayChatKeybind(),i=null!=a?(0,j.toString)(a.shortcut,!0):"]",r=I.default.getTextWidgetOpacity(),l=C.default.getGuild(e),u=null!=e&&w.default.didAgree(e);return{guild:l,channel:n,user:null!=n?E.default.getUser(n.getRecipientId()):null,pinned:o,opacity:r,nsfwAgree:u,chatKeybind:i}})(J),Q=function(e){function t(){var n,o;B(this,t);for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=o=K(this,e.call.apply(e,[this].concat(i))),o.state={resizing:!1,dragging:!1},o.handleResizeStart=function(){o.setState({resizing:!0}),o.props.pinned&&P.default.setPreviewInGameMode(!0),P.default.disablePinTutorial()},o.handleResizeEnd=function(){o.setState({resizing:!1}),o.props.pinned&&P.default.setPreviewInGameMode(!1)},o.handleDragStart=function(){o.setState({dragging:!0}),o.props.pinned&&P.default.setPreviewInGameMode(!0),P.default.disablePinTutorial()},o.handleDragEnd=function(){o.setState({dragging:!1}),o.props.pinned&&P.default.setPreviewInGameMode(!1)},K(o,n)}return X(t,e),t.prototype.handleResize=function(){z.ComponentDispatch.dispatch(V.ComponentActions.CHAT_RESIZE)},t.prototype.render=function(){var e=this.props,t=e.initialPosition,n=e.guildWidgetPosition,o=e.locked,r=e.initialSize,l=e.maxWidth,u=e.activated,s=e.isPreviewingInGame,f=e.isVisible,d=this.state,c=d.resizing,p=d.dragging,v=function(e,t){if(null!=e)return e;var n=_.default.windowSize().width,o=i({},t);if(null!=o.left)o.left=o.left+310+20;else if(null!=o.right){var a=o.right;o.right=a>540?o.right-520:o.right+310+20}return(null!=t.left&&o.left+500>n||null!=t.right&&o.right+500>n)&&(o.top+=60,o.left=t.left+20,o.right=t.right+20),o}(t,n);return a(h.default,{overlayWidget:V.OverlayWidgets.TEXT,draggableStartSelector:G.default.draggableStartArea,initialPosition:v,locked:o,snapOrientation:!c,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,isVisible:f},void 0,a(y.default,{overlayWidget:V.OverlayWidgets.TEXT,locked:o,initialSize:r,minWidth:330,minHeight:132,maxWidth:l,onResizeStart:this.handleResizeStart,onResize:this.handleResize,onResizeEnd:this.handleResizeEnd},void 0,a(q,{locked:o,activated:u,isPreviewingInGame:s,dragging:p})))},t}(r.Component);t.default=l.default.connectStores([_.default,I.default],function(){var e=I.default.isPinned(V.OverlayWidgets.TEXT);return{maxWidth:.85*_.default.windowSize().width,pinned:e,isVisible:e||!I.default.locked}})(Q),e.exports=t.default},6828:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=u(n(9)),l=u(n(5666));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.keybind,n=e.separator,o=e.className;return t.map(function(e,u){return a(i.Fragment,{},u,a("span",{className:(0,r.default)(l.default.key,o)},void 0,e),u===t.length-1?void 0:n)})};s.defaultProps={separator:"+"},t.default=s,e.exports=t.default},6829:function(e,t,n){"use strict";t.__esModule=!0,t.dismissNotification=function(e){i.default.dispatch({type:r.ActionTypes.OVERLAY_DISMISS_NOTIFICATION,notificationId:e})};var o,a=n(2),i=(o=a)&&o.__esModule?o:{default:o},r=n(0)},6830:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),u=O(n(6)),s=O(n(367)),f=O(n(128)),d=n(6829),c=O(n(287)),p=O(n(64)),h=O(n(40)),y=O(n(6828)),v=O(n(6311)),g=O(n(79)),m=O(n(41)),b=n(0),_=O(n(5664));function O(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(){var n,o;E(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=C(this,e.call.apply(e,[this].concat(r))),o.handleDecline=function(){var e=o.props.notification,t=(e.meta||{}).channelId;null!=t&&(c.default.stopRinging(t),s.default.track(b.AnalyticEvents.NOTIFICATION_CLICKED,i({},e.analyticsMeta,{action_type:"decline"})))},o.handleAccept=function(){var e=o.props.notification,t=(e.meta||{}).channelId;null!=t&&(s.default.callPrivateChannel(t),s.default.track(b.AnalyticEvents.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:null,channel_id:t,video_enabled:!1}),s.default.track(b.AnalyticEvents.NOTIFICATION_CLICKED,i({},e.analyticsMeta,{action_type:"join"})))},C(o,n)}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.locked,n=e.keybind;return t?u.default.Messages.OVERLAY_UNLOCK_TO_ANSWER.format({keybind:n,keybindHook:function(e,t){return a(y.default,{keybind:n.split(" + ")},t)}}):a(h.default,{},void 0,a(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.GREY,fullWidth:!0,onClick:this.handleDecline,className:_.default.button},void 0,u.default.Messages.DECLINE),a(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN,fullWidth:!0,onClick:this.handleAccept,className:_.default.button},void 0,u.default.Messages.JOIN_CALL))},t}(r.Component),T=function(e){function t(){var n,o;E(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=C(this,e.call.apply(e,[this].concat(r))),o.handleJoin=function(){var e=o.props.notification,t=e.meta||{},n=t.userId,a=t.sessionId,r=t.applicationId,l=t.channelId,u=t.messageId;null!=n&&null!=a&&null!=r&&null!=l&&null!=u&&(f.default.join(n,a,r,l,u),(0,d.dismissNotification)(e.id),s.default.track(b.AnalyticEvents.NOTIFICATION_CLICKED,i({},e.analyticsMeta,{action_type:"join"})))},C(o,n)}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.locked,n=e.keybind;return t?u.default.Messages.OVERLAY_UNLOCK_TO_JOIN.format({keybind:n,keybindHook:function(e,t){return a(y.default,{keybind:n.split(" + ")},t)}}):a(h.default,{},void 0,a(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN,fullWidth:!0,onClick:this.handleJoin,className:_.default.button},void 0,u.default.Messages.JOIN))},t}(r.Component),N=function(e){function t(){var n,o;E(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=C(this,e.call.apply(e,[this].concat(r))),o.jumpToMessage=function(){var e=o.props.notification,t=e.meta||{},n=t.guildId,a=t.channelId,r=t.messageId;null!=a&&null!=r&&(m.default.transitionTo(b.Routes.CHANNEL(n||b.ME,a)),s.default.track(b.AnalyticEvents.NOTIFICATION_CLICKED,i({},e.analyticsMeta,{action_type:"jump"})))},o.handleClose=function(){var e=o.props.notification,t=e.id,n=e.analyticsMeta;(0,d.dismissNotification)(t),s.default.track(b.AnalyticEvents.NOTIFICATION_CLICKED,i({},n,{action_type:"dismiss"}))},C(o,n)}return S(t,e),t.prototype.componentDidMount=function(){var e=this.props.notification.analyticsMeta;null!=e&&s.default.track(b.AnalyticEvents.NOTIFICATION_VIEWED,e)},t.prototype.renderFooter=function(){var e=this.props,t=e.notification,n=e.keybind,o=e.locked;switch(t.type){case b.OverlayNotificationTypes.INCOMING_CALL:return a(w,{keybind:n,locked:o,notification:t});case b.OverlayNotificationTypes.ACTIVITY_INVITE:return a(T,{keybind:n,locked:o,notification:t});case b.OverlayNotificationTypes.WELCOME:return u.default.Messages.OVERLAY_LAUNCH_OPEN_TIP.format({keybind:n,keybindHook:function(e,t){return a(y.default,{keybind:n.split(" + ")},t)}});case b.OverlayNotificationTypes.NEWS_NUDGE:return o?u.default.Messages.OVERLAY_LAUNCH_OPEN_TIP.format({keybind:n,keybindHook:function(e,t){return a(y.default,{keybind:n.split(" + "),className:_.default.newsNudgeKey},t)}}):u.default.Messages.OVERLAY_TEXT_NOTIFICATION_TIP_UNLOCKED.format({settingsHook:function(e,t){return a(g.default,{width:16,height:16,className:_.default.icon,name:g.default.Names.GEAR},t)}})}return null},t.prototype.render=function(){var e,t=this.props,n=t.notification,o=t.className,i=t.locked,r=void 0;return n.type!==b.OverlayNotificationTypes.TEXT||i||(r=this.jumpToMessage),a(v.default,{icon:n.icon,title:n.title,body:n.body,footer:this.renderFooter(),onClick:r,className:(0,l.default)(o,(e={},e[_.default.newsNudge]=n.type===b.OverlayNotificationTypes.NEWS_NUDGE,e)),onClose:i?null:this.handleClose,isCompact:n.type===b.OverlayNotificationTypes.INCOMING_CALL||n.type===b.OverlayNotificationTypes.ACTIVITY_INVITE||n.type===b.OverlayNotificationTypes.TEXT})},t}(r.Component);t.default=N,e.exports=t.default},6831:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=O(n(147)),i=O(n(3)),r=O(n(2)),l=O(n(14)),u=O(n(18)),s=O(n(953)),f=O(n(573)),d=O(n(268)),c=O(n(80)),p=O(n(65)),h=O(n(274)),y=O(n(12)),v=n(6324),g=n(6323),m=n(540),b=O(n(6)),_=n(0);function O(e){return e&&e.__esModule?e:{default:e}}var E=3,C=[],S=function(e){return setTimeout(function(){return r.default.dispatch({type:_.ActionTypes.OVERLAY_NOTIFICATION_TIMEOUT,notificationId:e})},5e3)};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.OverlayNotificationStatuses.DISMISSED;if(null==e)return!1;var n=C.findIndex(function(t){return t.id===e});if(-1===n)return!1;var a=C[n];clearTimeout(a.timerId),C=[].concat(C),t===_.OverlayNotificationStatuses.DISMISSED||!a.priority&&t===_.OverlayNotificationStatuses.TIMED_OUT?C.splice(n,1):C[n]=o({},a,{status:t})}function T(e){var t=C.length;return(C=C.filter(function(t){var n=t.type,o=t.meta;return n!==_.OverlayNotificationTypes.TEXT||(null==o||o.channelId!==e)})).length!==t}function N(e){var t=C.find(function(t){var n=t.type,o=t.meta;return n===_.OverlayNotificationTypes.INCOMING_CALL&&null!=o&&o.channelId===e});return null!=t?t.id:null}function I(e){var t=e.title,n=e.body,o=e.icon,i=e.type,r=e.meta,l=e.analyticsMeta,u=e.priority;if(null!=r&&!r.isOverlayOnly&&!d.default.isFocused())return!1;var s=a.default.v4(),f=[{id:s,type:i,title:t,body:n,icon:o,meta:r,analyticsMeta:l,priority:u,status:_.OverlayNotificationStatuses.ACTIVE,timerId:S(s)}];C.forEach(function(e){(f.length<E||e.priority)&&f.push(e)}),C=f}function A(e){var t=e.channelId;if(e.ringing.includes(l.default.getId())){var n=u.default.getChannel(t);if(null==n)return!1;if(h.default.getStatus()===_.StatusTypes.DND)return!1;var o=C.find(function(e){var n=e.type,o=e.meta;return n===_.OverlayNotificationTypes.TEXT&&null!=o&&o.channelId===t&&o.messageType===_.MessageTypes.CALL});null!=o&&w(o.id),I({title:n.toString(),body:b.default.Messages.OVERLAY_NOTIFICATION_INCOMING_CALL,icon:n.getIconURL(),type:_.OverlayNotificationTypes.INCOMING_CALL,meta:{channelId:n.id},analyticsMeta:{notif_type:"Incoming Call",notif_user_id:1===n.recipients.length?n.recipients[0]:null,guild_id:n.guild_id,channel_id:n.id,channel_type:n.type},priority:!0})}else w(N(t))}var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,y.default)},t.prototype.getNotifications=function(){return C},t}(i.default.Store);t.default=new M(r.default,{OVERLAY_NOTIFICATION_TIMEOUT:function(e){w(e.notificationId,_.OverlayNotificationStatuses.TIMED_OUT)},OVERLAY_DISMISS_NOTIFICATION:function(e){w(e.notificationId)},OVERLAY_MOUNTED:function(e){var t=e.newsNudge,o=n(1255),a=b.default.Messages.OVERLAY_LAUNCH_TITLE,i=_.OverlayNotificationTypes.WELCOME;I({title:null!=t?t.title:a,icon:null!=t?t.icon:o,type:null!=t?t.type:i,meta:{isOverlayOnly:!0},analyticsMeta:{notif_type:null!=t?"News Nudge":"Welcome Nudge"},priority:!1})},OVERLAY_SET_LOCKED:function(e){if(e.locked)return!1;C=C.map(function(e){return e.status===_.OverlayNotificationStatuses.ACTIVE?(clearTimeout(e.timerId),o({},e,{timerId:S(e.id)})):e})},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,o=u.default.getChannel(t),a=y.default.getUser(n.author.id);if(null==o||null==a)return!1;if(!(0,g.shouldNotify)(n,t))return!1;if((!d.default.locked||d.default.isPinned(_.OverlayWidgets.TEXT))&&t===p.default.getChannelId())return!1;var i=d.default.getTextChatNotificationMode()!==_.OverlayNotificationTextChatTypes.DISABLED;if(d.default.isFocused()&&i&&(s.default.isSoundDisabled(v.MESSAGE_SOUND)||(0,m.playSound)(v.MESSAGE_SOUND,v.MESSAGE_SOUND_VOLUME)),null==n.activity||n.activity.type!==_.ActivityActionTypes.JOIN||!function(e,t,n){var o=t.activity.party_id,a=f.default.getGame();if(null==a)return!1;var i=c.default.getApplicationActivity(n.id,a.id);if(null==i||null==i.party||i.party.id!==o)return!1;var r=(0,g.makeTextChatNotification)(e,t,n),l=r.icon;I({title:r.title,body:r.body,icon:l,type:_.OverlayNotificationTypes.ACTIVITY_INVITE,meta:{type:t.activity.type,userId:n.id,sessionId:i.session_id,applicationId:a.id,channelId:e.id,messageId:t.id},analyticsMeta:{notif_type:"Activity Invite",notif_user_id:n.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,activity_type:t.activity.type,activity_name:i.name},priority:!1})}(o,n,a)){if(!i)return!1;var r=(0,g.makeTextChatNotification)(o,n,a),l=r.icon;I({title:r.title,body:r.body,icon:l,type:_.OverlayNotificationTypes.TEXT,meta:{guildId:o.guild_id,channelId:o.id,messageId:n.id,messageType:n.type},analyticsMeta:{notif_type:"Text Chat",notif_user_id:n.author.id,message_id:n.id,message_type:n.type,guild_id:o.guild_id,channel_id:o.id,channel_type:o.type},priority:!1})}},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&T(t)},MESSAGE_ACK:function(e){return T(e.channelId)},CALL_CREATE:A,CALL_UPDATE:A,CALL_DELETE:function(e){w(N(e.channelId))}}),e.exports=t.default},6832:function(e,t,n){var o=n(6096),a=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=o(e))===a||e===-a?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},6833:function(e,t,n){var o=n(6832);e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},6834:function(e,t,n){var o=n(1028),a=n(6833);e.exports=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:a(t),o(e,0,t<0?0:t)):[]}},6835:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=h(n(3)),l=h(n(9)),u=h(n(6834)),s=h(n(6831)),f=h(n(268)),d=h(n(6830)),c=n(0),p=h(n(5663));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderStackedNotifications=function(e){return a("div",{className:p.default.stackedNotifications},void 0,(0,u.default)(e,Math.min(3,e.length-1)).map(function(e,t){return a("div",{className:p.default.stackedNotification},t)}))},t.prototype.render=function(){var e=this.props,t=e.keybind,n=e.notifications,o=e.position,i=e.locked;if(o===c.OverlayNotificationPositions.DISABLED)return null;var r=n.filter(function(e){return e.status===c.OverlayNotificationStatuses.ACTIVE}),u=i&&r.length>1,s=i?r.slice(0,1):n;return a("div",{className:(0,l.default)(p.default.container,p.default[o])},void 0,s.map(function(e){var n;return a(d.default,{className:(0,l.default)((n={},n[p.default.attachedToStack]=u,n)),notification:e,keybind:t,locked:i},e.id)}),u?this.renderStackedNotifications(r):null)},t}(i.Component);t.default=r.default.connectStores([s.default,f.default],function(){return{notifications:s.default.getNotifications(),position:f.default.getNotificationPositionMode()}})(y),e.exports=t.default},6836:function(e,t,n){e.exports=n.p+"1ac919360611a8962ea15859f6c27d9c.svg"},6837:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2)),i=n(0);function r(e){return e&&e.__esModule?e:{default:e}}var l=i.RTCConnectionStates.DISCONNECTED,u=i.RTCConnectionQuality.UNKNOWN,s=void 0,f=void 0,d=void 0;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getConnectionState=function(){return l},t.prototype.getQuality=function(){return u},t.prototype.getHostname=function(){return f},t.prototype.getPings=function(){return s},t.prototype.getAveragePing=function(){var e=this.getPings();return 0===e.length?0:e.reduce(function(e,t){return e+t},0)/e.length},t.prototype.getLastPing=function(){var e=this.getPings();return 0===e.length?0:e[e.length-1]},t.prototype.getOutboundLossRate=function(){return d},t}(o.default.Store);t.default=new c(a.default,{OVERLAY_INITIALIZE:function(e){l=e.rtcConnectionState.state,f=e.rtcConnectionState.hostname,s=e.rtcConnectionState.pings,d=e.rtcConnectionState.lossRate,u=e.rtcConnectionState.quality},RTC_CONNECTION_STATE:function(e){if(null!=e.lobbyId)return!1;l=e.state,f=e.hostname},RTC_CONNECTION_PING:function(e){if(null!=e.lobbyId)return!1;s=e.pings,u=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){if(null!=e.lobbyId)return!1;d=e.lossRate}}),e.exports=t.default},6838:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=M(n(3)),l=M(n(6)),u=n(264),s=M(n(40)),f=M(n(6204)),d=M(n(6045)),c=M(n(142)),p=M(n(223)),h=M(n(6005)),y=M(n(6837)),v=M(n(58)),g=M(n(89)),m=M(n(65)),b=M(n(18)),_=M(n(26)),O=M(n(6366)),E=M(n(6369)),C=M(n(364)),S=M(n(165)),w=M(n(5995)),T=n(0),N=M(n(5669)),I=M(n(5589)),A=M(n(5584));function M(e){return e&&e.__esModule?e:{default:e}}var P=r.default.connectStores([y.default],function(){return{connectionState:y.default.getConnectionState(),pings:y.default.getPings(),hostname:y.default.getHostname(),averagePing:y.default.getAveragePing(),lastPing:y.default.getLastPing(),outboundLossRate:y.default.getOutboundLossRate()}})(E.default),k=a(P,{}),L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPopout=function(){return k},t.prototype.endCall=function(){S.default.selectVoiceChannel(null,null)},t.prototype.renderChannelLink=function(){var e=this.props,t=e.guild,n=e.channelId,o=e.channelName,i=null!=t?o+" / "+t.name:o,r=null!=t?t.id:T.ME;return a(u.Link,{to:T.Routes.CHANNEL(r),className:A.default.channel,onClick:function(){return w.default.channelListScrollTo(r,n)}},void 0,i)},t.prototype.render=function(){var e=this.props,t=e.channelId,o=e.quality,i=e.lastPing,r=e.hasVideo,u=e.connectionState,y=e.deaf,v=e.mute;return null==t?null:a(h.default.Bar,{className:N.default.controls},void 0,a("div",{className:A.default.inner},void 0,a(p.default,{render:this.renderPopout},void 0,a("div",{className:N.default.clickable},void 0,a(O.default,{quality:o,lastPing:i,hasVideo:r,state:u}))),this.renderChannelLink()),a(s.default,{grow:0},void 0,a(c.default,{text:v?l.default.Messages.UNMUTE:l.default.Messages.MUTE},void 0,a("div",{},void 0,a(f.default,{className:I.default.button,size:d.default.Sizes.SMALL,value:v,inactiveSrc:n(6159),activeSrc:n(6158),onChange:C.default.toggleSelfMute}))),a(c.default,{text:y?l.default.Messages.UNDEAFEN:l.default.Messages.DEAFEN},void 0,a("div",{},void 0,a(f.default,{className:I.default.button,size:d.default.Sizes.SMALL,value:y,inactiveSrc:n(6387),activeSrc:n(6386),onChange:C.default.toggleSelfDeaf}))),u!==T.RTCConnectionStates.DISCONNECTED&&a(c.default,{text:l.default.Messages.DISCONNECT},void 0,a("div",{},void 0,a(d.default,{className:I.default.button,size:d.default.Sizes.SMALL,src:n(6836),onClick:this.endCall})))))},t}(i.PureComponent);t.default=r.default.connectStores([y.default,b.default,_.default,v.default,m.default,g.default],function(){var e=null,t=!1,n="",o=m.default.getVoiceChannelId();if(null!=o){var a=b.default.getChannel(o);if(null!=a){var i=a.getGuildId();t=null!=(e=_.default.getGuild(i))&&g.default.hasVideo(e.id,o),n=a.toString()}}return{channelId:o,guild:e,hasVideo:t,channelName:n,mute:v.default.isSelfMute()||v.default.isSelfMutedTemporarily(),deaf:v.default.isSelfDeaf(),connectionState:y.default.getConnectionState(),lastPing:y.default.getLastPing(),quality:y.default.getQuality()}})(L),e.exports=t.default},6839:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(3)),u=S(n(958)),s=S(n(6264)),f=S(n(950)),d=S(n(65)),c=S(n(547)),p=S(n(954)),h=S(n(125)),y=S(n(26)),v=S(n(112)),g=S(n(269)),m=S(n(986)),b=S(n(40)),_=S(n(6424)),O=S(n(6313)),E=S(n(6312)),C=S(n(5667));function S(e){return e&&e.__esModule?e:{default:e}}var w=i(E.default,{}),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSettings=function(){return w},t.prototype.render=function(){var e=this.props.guild;return i(O.default,{title:e.name,renderSettings:this.renderSettings},void 0,i(b.default,{className:C.default.container,direction:b.default.Direction.VERTICAL,align:b.default.Align.STRETCH},void 0,r.createElement(_.default,a({},this.props,{showSimplified:!0}))))},t}(r.Component);t.default=l.default.connectStores([v.default,d.default,f.default,c.default,h.default,y.default,m.default,g.default,s.default,p.default,u.default],function(e){var t=e.guildId,n=y.default.getGuild(t),o=h.default.getChannels(t),a=p.default.getCategories(t),i=g.default.getMutedChannels(t),r=m.default.getVoiceStates(t),l=s.default.getCollapsed(),b=g.default.isGuildCollapsed(t),_=c.default.getGuildDimensions(t),O=_.scrollTo,E=_.scrollTop;return{guild:n,channels:o,categories:a,mutedChannels:i,scrollToChannel:O,selectedChannelId:f.default.getChannelId(t),selectedVoiceChannelId:d.default.getVoiceChannelId(),voiceStates:r,collapsedChannels:l,collapseMuted:b,scrollTop:E,permissionVersion:v.default.getGuildVersion(t),categoryCollapseVersion:u.default.version}})(T),e.exports=t.default},6840:function(e,t,n){"use strict";t.__esModule=!0;var o,a,i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5671)),l=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t=e.children;return i("div",{className:l.default.emptyContainer},void 0,i("div",{className:l.default.empty},void 0,i("div",{className:l.default.emptyMessage},void 0,t)))},e.exports=t.default},6841:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=C(n(3)),l=C(n(6)),u=C(n(6371)),s=C(n(6370)),f=C(n(6023)),d=C(n(6840)),c=C(n(5556)),p=C(n(18)),h=C(n(12)),y=C(n(80)),v=C(n(976)),g=C(n(950)),m=C(n(6033)),b=C(n(268)),_=n(6032),O=n(0),E=C(n(5670));function C(e){return e&&e.__esModule?e:{default:e}}var S=r.default.connectStores([p.default,h.default,y.default,v.default],function(e){var t=e.channel,n=h.default.getUser(t.getRecipientId());return{user:n,status:null!=n?y.default.getStatus(n.id):null,activity:null!=n?y.default.getPrimaryActivity(n.id):null,typing:null!=n?v.default.isTyping(t.id,t.getRecipientId()):null}})(s.default);var w=r.default.connectStores([g.default,m.default,c.default,p.default,b.default],function(){return{selectedChannelId:g.default.getChannelId(O.ME),homeLink:m.default.getHomeLink(),privateChannelIds:c.default.getPrivateChannelIds(),channels:p.default.getChannels(),version:p.default.getPrivateChannelsVersion()+":"+(b.default.locked?"true":"false")}})(u.default),T=a(f.default,{onFocus:function(){return(0,_.show)("DM_SEARCH","@")}}),N=a(w,{padding:8,renderChannel:function(e,t){var n=e.type===O.ChannelTypes.GROUP_DM?s.default:S;return a(n,{channel:e,selected:t},e.id)},renderEmptyState:function(e){return a(d.default,{},e,l.default.Messages.OVERLAY_PRIVATE_CHANNELS_EMPTY_STATE)}}),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("div",{className:E.default.privateChannels},void 0,a("div",{className:E.default.searchBar},void 0,T),N)},t}(i.PureComponent);t.default=r.default.connectStores([b.default],function(){return{locked:b.default.locked}})(I),e.exports=t.default},6842:function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+n+"]",a="\\d+",i="[\\u2700-\\u27bf]",r="[a-z\\xdf-\\xf6\\xf8-\\xff]",l="[^\\ud800-\\udfff"+n+a+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",f="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+r+"|"+l+")",c="(?:"+f+"|"+l+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",u,s].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),y="(?:"+[i,u,s].join("|")+")"+h,v=RegExp([f+"?"+r+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[o,f,"$"].join("|")+")",c+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[o,f+d,"$"].join("|")+")",f+"?"+d+"+(?:['](?:d|ll|m|re|s|t|ve))?",f+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,y].join("|"),"g");e.exports=function(e){return e.match(v)||[]}},6843:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},6844:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},6845:function(e,t,n){var o=n(6844),a=n(6843),i=n(556),r=n(6842);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?a(e)?r(e):o(e):e.match(t)||[]}},6846:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},6847:function(e,t,n){var o=n(6846)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=o},6848:function(e,t,n){var o=n(6847),a=n(556),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(i,o).replace(r,"")}},6849:function(e,t){e.exports=function(e,t,n,o){var a=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}},6850:function(e,t,n){var o=n(6849),a=n(6848),i=n(6845),r=RegExp("[']","g");e.exports=function(e){return function(t){return o(i(a(t).replace(r,"")),e,"")}}},6851:function(e,t){var n="[\\ud800-\\udfff]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+o+"|"+a+")"+"?",s="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[i,r,l].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),f="(?:"+[i+o+"?",o,r,l,n].join("|")+")",d=RegExp(a+"(?="+a+")|"+f+s,"g");e.exports=function(e){return e.match(d)||[]}},6852:function(e,t){e.exports=function(e){return e.split("")}},6853:function(e,t,n){var o=n(6852),a=n(6314),i=n(6851);e.exports=function(e){return a(e)?i(e):o(e)}},6854:function(e,t,n){var o=n(1028);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:o(e,t,n)}},6855:function(e,t,n){var o=n(6854),a=n(6314),i=n(6853),r=n(556);e.exports=function(e){return function(t){t=r(t);var n=a(t)?i(t):void 0,l=n?n[0]:t.charAt(0),u=n?o(n,1).join(""):t.slice(1);return l[e]()+u}}},6856:function(e,t,n){var o=n(6855)("toUpperCase");e.exports=o},6857:function(e,t,n){var o=n(556),a=n(6856);e.exports=function(e){return a(o(e).toLowerCase())}},6858:function(e,t,n){var o=n(6857),a=n(6850)(function(e,t,n){return t=t.toLowerCase(),e+(n?o(t):t)});e.exports=a},6859:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),N(n(3))),r=N(n(6)),l=N(n(18)),u=N(n(368)),s=N(n(538)),f=N(n(950)),d=N(n(65)),c=N(n(225)),p=N(n(547)),h=N(n(6003)),y=N(n(280)),v=N(n(268)),g=N(n(6005)),m=N(n(6141)),b=N(n(6431)),_=N(n(6841)),O=N(n(6839)),E=N(n(6312)),C=N(n(6313)),S=n(0),w=N(n(1228)),T=N(n(5574));function N(e){return e&&e.__esModule?e:{default:e}}var I=i.default.connectStores([s.default,l.default,f.default,d.default,h.default,y.default,p.default,v.default],function(){var e=null,t=d.default.getVoiceChannelId();if(null!=t){var n=l.default.getChannel(t);null!=n&&(e=n.getGuildId())}return{guilds:s.default.getSortedGuilds(),channels:l.default.getChannels(),selectedGuildId:f.default.getGuildId(),selectedPrivateChannelId:d.default.getChannelId(S.ME),unreadGuilds:h.default.getUnreadGuilds(),mentionCounts:h.default.getMentionCounts(),totalUnavailableGuilds:y.default.totalUnavailableGuilds,scrollTop:p.default.getGuildListDimensions().scrollTop,selectedVoiceGuildId:e,selectedVoiceChannelId:t,mode:u.default.getMode(t),isVisible:!v.default.isPreviewingInGame()&&(v.default.isPinned(S.OverlayWidgets.GUILDS)||!v.default.locked)}})(b.default),A=a(E.default,{});function M(){return A}var P=a(I,{isOverlay:!0,disableAppDownload:!0}),k=i.default.connectStores([c.default],function(){return{selectedGuildId:c.default.getGuildId()}})(function(e){var t=e.selectedGuildId,n=e.locked,o=null!=t?a(O.default,{guildId:t}):a(C.default,{title:r.default.Messages.DIRECT_MESSAGES,renderSettings:M},void 0,a(_.default,{locked:n}));return a(g.default,{className:w.default.guildWidget,width:310},void 0,a("div",{className:w.default.guildWidgetSplit},void 0,P,o))});t.default=i.default.connectStores([v.default],function(){return{isVisible:!v.default.isPreviewingInGame()&&!v.default.locked||v.default.isPinned(S.OverlayWidgets.GUILDS)}})(function(e){var t=e.initialPosition,n=e.locked,o=e.isVisible;return a(m.default,{overlayWidget:S.OverlayWidgets.GUILDS,draggableStartSelector:T.default.draggableStartArea,initialPosition:t,locked:n,isVisible:o},void 0,a(k,{locked:n}))}),e.exports=t.default},6860:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(264),l=d(n(229)),u=d(n(165)),s=d(n(41)),f=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()},t.prototype.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=function(e){var t=e.params,n=t.guildId,o=t.channelId,a=t.messageId;return{guildId:n||f.ME,channelId:o,messageId:a}}(e),n=t.guildId,o=t.channelId,a=t.messageId;(function(e){return null!=e&&(e===f.ME||/^\d+$/.test(e))})(n)&&function(e){return null==e||/^\d+$/.test(e)}(o)?(l.default.selectGuild(n),u.default.selectChannel(n,o,a)):s.default.replaceWith(f.Routes.ME)}},t.prototype.render=function(){return null},t}(i.Component),p=a(r.Route,{component:c});t.default=function(){return a(r.Switch,{},void 0,a(r.Route,{path:f.Routes.MESSAGE(":guildId",":channelId",":messageId"),component:c}),a(r.Route,{path:f.Routes.CHANNEL(":guildId",":channelId?"),component:c}),p)},e.exports=t.default},6861:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var u=Array(r),s=0;s<r;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=x(n(3)),l=x(n(6015)),u=x(n(6200)),s=x(n(1037)),f=x(n(9)),d=x(n(11)),c=x(n(6)),p=x(n(191)),h=x(n(268)),y=x(n(6038)),v=x(n(65)),g=x(n(367)),m=x(n(267)),b=x(n(6860)),_=x(n(6859)),O=x(n(6700)),E=x(n(6835)),C=x(n(6827)),S=x(n(6821)),w=x(n(87)),T=x(n(5999)),N=n(6329),I=x(n(949)),A=x(n(6820)),M=x(n(6819)),P=n(375),k=n(0),L=x(n(5656));function x(e){return e&&e.__esModule?e:{default:e}}r.default.PersistedStore.disableWrites=__OVERLAY__,r.default.initialize();var R=void 0,D=null;I.default.registerModals(A.default),d.default.embedded;var z=function(e){var t,n=e.keybind,o=e.onClick,i=e.isPreviewingInGame,r=e.locked,l=r?w.default:"div";return a(l,{className:(0,f.default)(L.default.overlayBackground,(t={},t[L.default.overlayActive]=!r,t[L.default.previewMode]=!r&&i,t)),onClick:r?o:null},void 0,r?null:a("div",{className:L.default.closeContainer},void 0,a(O.default,{theme:k.ThemeTypes.DARK,variant:O.default.Variants.BOLD,keybind:n,closeAction:o})))},j=function(e){return{keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey}},W=a(b.default,{}),V=a(M.default,{}),G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleLock=function(){g.default.setLocked(!0)},o.handleDeactivate=function(){g.default.deactivateAllRegions()},o.handleWindowResize=(0,l.default)(function(){o.forceUpdate()},500),o.activeKeyEventShapes=[],o.lockEventShape=(0,P.toBrowserEvents)(o.props.keybindKeyCodes),o.getActiveKeyEventIndex=function(e){return o.activeKeyEventShapes.findIndex(function(t){return(0,u.default)(t,e)})},o.onKeyDownGlobal=function(e){var t=j(e),n=o.getActiveKeyEventIndex(t)>-1,a=[16,17,18,91].includes(e.keyCode);n||a||o.activeKeyEventShapes.push(t),o.activeKeyEventShapes.length===o.lockEventShape.length&&o.lockEventShape.every(function(e){return o.activeKeyEventShapes.some(function(t){return(0,u.default)(e,t)})})&&(e.preventDefault(),e.stopPropagation());var i=o.props,r=i.locked,l=i.activeRegions;t.keyCode===s.default.codes.esc&&r&&l.has(k.OverlayActiveRegions.TEXT_WIDGET)&&g.default.deactivateAllRegions()},o.onKeyUpGlobal=function(e){var t=j(e),n=o.getActiveKeyEventIndex(t);n>-1&&o.activeKeyEventShapes.splice(n,1)},T.default.setLayout(N.OVERLAY_LAYOUT),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.disableContextMenu=function(e){e.preventDefault()},t.prototype.componentDidMount=function(){g.default.startSession()},t.prototype.componentDidUpdate=function(e){var t=this.props.initialized;if(t){if(t&&!e.initialized&&this.initialSetup(),!e.locked&&this.props.locked){if(window.addEventListener("contextmenu",this.disableContextMenu,!1),null!=D){var n=Date.now()-D;g.default.track(k.AnalyticEvents.OVERLAY_LOCKED,{unlocked_duration:n}),D=null}T.default.disable(),this.activeKeyEventShapes=[]}else e.locked&&!this.props.locked&&(window.removeEventListener("contextmenu",this.disableContextMenu,!1),null==D&&(D=Date.now(),g.default.track(k.AnalyticEvents.OVERLAY_UNLOCKED)),T.default.enable());e.keybindKeyCodes!==this.props.keybindKeyCodes&&(this.lockEventShape=(0,P.toBrowserEvents)(this.props.keybindKeyCodes))}},t.prototype.initialSetup=function(){var e=this.props,t=e.connectedToVoice,n=e.locked;g.default.track(k.AnalyticEvents.OVERLAY_INITIALIZED,{voice_widget_connected:t,text_widget_connected:h.default.isPinned(k.OverlayWidgets.TEXT)}),g.default.overlayMounted(),window.addEventListener("resize",this.handleWindowResize),n&&window.addEventListener("contextmenu",this.disableContextMenu,!1),d.default.blur(),d.default.embedded&&d.default.on("REQUEST_OPEN_EXTERNAL_URL",function(e,t){h.default.getDisableExternalLinkAlert()?d.default.send("OPEN_EXTERNAL_URL",t):m.default.show({title:c.default.Messages.OVERLAY_LINK_ALERT_TITLE,body:c.default.Messages.OVERLAY_LINK_ALERT_BODY,minorText:c.default.Messages.OVERLAY_LINK_ALERT_SECONDARY,confirmText:c.default.Messages.CONTINUE,cancelText:c.default.Messages.CANCEL,onConfirmSecondary:function(){g.default.disableExternalLinkAlert(),d.default.send("OPEN_EXTERNAL_URL",t)},onConfirm:function(){return d.default.send("OPEN_EXTERNAL_URL",t)}})}),window.addEventListener("keydown",this.onKeyDownGlobal,!0),window.addEventListener("keyup",this.onKeyUpGlobal,!0)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("keydown",this.onKeyDownGlobal,!0),window.removeEventListener("keyup",this.onKeyUpGlobal,!0),this.props.locked&&window.removeEventListener("contextmenu",this.disableContextMenu,!1)},t.prototype.render=function(){var e=this.props,t=e.positions,n=e.sizes,o=e.locked,i=e.keybind,r=e.incompatibleApp,l=e.initialized,u=e.activeRegions,s=e.isPreviewingInGame,f=p.default.windowSize(),d=f.width,h=f.height;if(0===d||0===h||r||!l)return null;var y=o||s;return a("div",{className:L.default.overlay},void 0,W,s&&a("header",{className:L.default.previewingInGameHeader},void 0,c.default.Messages.OVERLAY_IN_GAME_PREVIEW_HEADER),R,(!o||u.has(k.OverlayActiveRegions.TEXT_WIDGET))&&a(z,{locked:o,keybind:i,onClick:o?this.handleDeactivate:this.handleLock,isPreviewingInGame:s}),a(_.default,{locked:y,initialPosition:t[k.OverlayWidgets.GUILDS]}),a(C.default,{locked:o,isPreviewingInGame:s,initialPosition:t[k.OverlayWidgets.TEXT],guildWidgetPosition:t[k.OverlayWidgets.GUILDS],initialSize:n[k.OverlayWidgets.TEXT],activated:u.has(k.OverlayActiveRegions.TEXT_WIDGET)}),a(S.default,{locked:o,isPreviewingInGame:s,initialPosition:t[k.OverlayWidgets.VOICE]}),a(E.default,{locked:y,keybind:i}),V)},t}(i.Component);t.default=r.default.connectStores([h.default,v.default,y.default],function(){var e=y.default.getOverlayKeybind();return{connectedToVoice:null!=v.default.getVoiceChannelId(),positions:h.default.getPositions(),sizes:h.default.getSizes(),locked:h.default.locked,keybind:null!=e?(0,P.toString)(e.shortcut,!0):"???",keybindKeyCodes:null!=e?e.shortcut:[],initialized:h.default.initialized,incompatibleApp:h.default.incompatibleApp,activeRegions:h.default.getActiveRegions(),isPreviewingInGame:h.default.isPreviewingInGame()}})(G),e.exports=t.default}}]);
//# sourceMappingURL=715bfe2d8ac1b6ebf353.js.map