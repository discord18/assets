(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{1375:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var s=u(r(1)),n=i(r(9)),a=u(r(177)),o=i(r(1239));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var p=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["className"]);return s.createElement(a.default,l({},r,{className:(0,n.default)(o.default.formStatusAlert,t)}))},i}(s.Component);t.default=p,p.displayName="FormStatusAlert",p.Types=a.AlertTypes},1416:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var s,n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(1));var a=function(e){return{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:e?"not-allowed":"pointer"}},o=function(e){var t,r;function o(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).activateUploadDialogue=function(){t.props.embedded?t.handleNativeClick():t._input&&t._input.click()},t.handleNativeClick=function(){t.props.handleNativeClick(t.props)},t.handleBrowserInputMouseDown=function(e){e.currentTarget.value=null},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e,t=this,r=this.props,o=r.disabled,i=r.tabIndex,u=r.className,l=r.name;return this.props.embedded?function(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=n;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{style:a(o),className:u||"file-input",onClick:!o&&this.handleNativeClick}):(this.props.filters&&(e=this.props.filters.map(function(e){return e.extensions.map(function(e){return"."+e}).join(",")}).join(",")),n.createElement("input",{style:a(o),className:u||"file-input",disabled:o,type:"file",tabIndex:i,onMouseDown:this.handleBrowserInputMouseDown,onChange:this.props.onChange,multiple:this.props.multiple,accept:e,name:l,ref:function(e){return t._input=e}}))},o}(n.Component);o.displayName="FileInput",o.defaultProps={multiple:!1,disabled:!1,tabIndex:0};var i=o;t.default=i},2105:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var s,n=_(r(1)),a=b(r(15)),o=_(r(129)),i=b(r(178)),u=b(r(180)),l=r(130),p=b(r(1633)),d=b(r(436)),c=b(r(423)),f=b(r(1375)),h=b(r(1373)),y=b(r(421)),m=b(r(424)),g=b(r(1381)),v=b(r(1374)),A=b(r(426)),S=r(21);function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}function O(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=n;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M=O(u.default,{}),E=function(e){var t,s;function a(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).assetManagerRef=n.createRef(),t.state={errorMessage:null,hasLoadedRemoteAssets:!1,hasUnsavedChanges:!1,isSubmitting:!1,hasSubmitted:!1,hasError:!1},t.deleteAsset=function(e){return o.deleteStoreAsset(t.props.match.params.id,e)},t.getAssetUri=function(e){return(0,l.getStoreAssetImage)(t.props.match.params.id,e)},t.handleAssetsFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})},t.handleAssetsFormSubmit=function(){t.setState({isSubmitting:!0});var e=[];null!=t.assetManagerRef.current&&e.push(t.assetManagerRef.current.uploadAllAssets()),Promise.all(e).then(function(){t.setState({errorMessage:null,hasUnsavedChanges:!1,isSubmitting:!1,hasSubmitted:!0,hasError:!1})}).catch(function(e){t.setState({errorMessage:e.message,isSubmitting:!1,hasError:!0})})},t.handleReset=function(){null!=t.assetManagerRef.current&&t.assetManagerRef.current.resetAssets(),t.setState({hasUnsavedChanges:!1,hasError:!1})},t.renderFormStatus=function(){var e=t.state,r=e.hasError,s=e.hasSubmitted;return r?O(f.default,{type:f.default.Types.ERROR},void 0,S.Messages.Alerts.ERROR):s?O(f.default,{type:f.default.Types.SUCCESS},void 0,S.Messages.AssetLibrary.SUCCESS):null},t.uploadAsset=function(e){return o.uploadStoreAsset(t.props.match.params.id,{filename:e.name,file:e.file})},t}s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var i=a.prototype;return i.componentDidMount=function(){var e=this;o.fetchStoreAssets(this.props.match.params.id).then(function(){e.setState({errorMessage:null,hasLoadedRemoteAssets:!0})}).catch(function(t){e.setState({errorMessage:t.message,hasLoadedRemoteAssets:!0})})},i.renderAssetManager=function(){var e=this.props.storeAssets;return this.state.hasLoadedRemoteAssets?n.createElement(p.default,{actionCopy:S.Messages.AssetLibrary.ADD_ASSETS,assetLabel:S.Messages.AssetLibrary.ASSETS,assetsHeadingRenderer:this.renderAssetsHeading,assets:e,getAssetUri:this.getAssetUri,uploadAsset:this.uploadAsset,deleteAsset:this.deleteAsset,emptyState:this.renderEmptyAssetState(),fileTypeDescription:S.Messages.AssetLibrary.ACCEPTED_FILE_TYPES,ref:this.assetManagerRef,supportedExtensions:["jpg","jpeg","png","mp4","gif"]}):M},i.renderAssetsHeading=function(e){return S.Messages.AssetLibrary.ASSETS_MANAGER_HEADING.format({count:e})},i.renderEmptyAssetState=function(){return O(d.default,{},void 0,O("img",{alt:S.Messages.RichPresence.NO_ASSETS_UPLOADED,src:r(1634)}))},i.render=function(){var e=this.state,t=e.hasUnsavedChanges,r=e.isSubmitting;return O(c.default,{onChange:this.handleAssetsFormChange,onSubmit:this.handleAssetsFormSubmit},void 0,O(y.default,{},void 0,O(h.default,{},void 0,S.Messages.AssetLibrary.HEADING),O(v.default,{isFlush:!0},void 0,S.Messages.AssetLibrary.SUBHEADING),this.renderFormStatus()),O(y.default,{isFlush:!0},void 0,O(m.default,{},void 0,S.Messages.AssetLibrary.ASSETS_SECTION_HEADING),O(g.default,{},void 0,S.Messages.AssetLibrary.ASSETS_SECTION_SUBHEADING),this.renderAssetManager()),O(A.default,{isVisible:t,onReset:this.handleReset,submitting:r}))},a}(n.Component);E.displayName="AssetLibrary";var w=a.default.connectStores([i.default],function(e){return{storeAssets:i.default.getStoreAssets(e.match.params.id)}})(E);t.default=w}}]);
//# sourceMappingURL=a97fee8d9b4a9ad79c0c.js.map