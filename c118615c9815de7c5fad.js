(window.webpackJsonp=window.webpackJsonp||[]).push([[237],{5623:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}(n(2)),a=m(n(17)),i=n(435),s=m(n(339)),l=m(n(166)),u=m(n(332)),d=m(n(112)),f=m(n(427)),c=n(0),p=m(n(10)),v=m(n(5367));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var g=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={verifying:!0,verified:!1},t.getType=function(){return t.props.match.params.type},t.isPopout=function(){return null!=window.opener},t.handleDone=function(){t.isPopout()&&window.close()},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var e=this,t=(0,i.parse)(this.props.location.search),n=t.code,o=t.state,r=t.oauth_verifier;if(null==t.loading){var a;null!=r&&(n=r),Object.keys(t).forEach(function(e){e.startsWith("openid.")&&(null==a&&(a={}),a[e]=t[e])});var l=function(t){var n=t.status;e.setState({verifying:!1,verified:204===n},function(){return e.state.verified&&e.handleDone()})},d={code:n,openid_params:a,state:o},f=function(t){return s.default.callback(e.getType(),d,t).then(l,l)};this.isPopout()?f(!1):u.default.request(c.RPCCommands.CONNECTIONS_CALLBACK,h({},d,{providerType:this.getType()})).then(l,function(e){return f("RPCError"!==e.name)}).then(function(){return u.default.disconnect()})}},r.render=function(){var e,t,n=this.state,o=n.verifying,r=n.verified,i=l.default.get(this.getType());return e=o?y("div",{className:v.default.message},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFYING.format({name:i.name})):r?y("div",{className:v.default.message},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFY_SUCCESS.format({name:i.name})):y("div",{className:(0,a.default)(v.default.message,v.default.error)},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFY_FAILURE.format({name:i.name})),(this.isPopout()||o)&&(t=y(d.default,{className:v.default.btn,disabled:o,onClick:this.handleDone},void 0,o?y(f.default,{itemClassName:v.default.spinnerItem}):p.default.Messages.DONE)),y("div",{className:v.default.verifyConnectedAccount},void 0,y("div",{},void 0,y("div",{className:v.default.logos},void 0,y("div",{className:(0,a.default)(v.default.logo,v.default.logoDiscord)}),y("div",{className:v.default.logosDivider}),y("div",{className:v.default.logo,style:{backgroundImage:'url("'+i.icon.white+'")'}})),e,t))},o}(r.Component);g.displayName="VerifyConnectedAccount";var C=g;t.default=C}}]);
//# sourceMappingURL=c118615c9815de7c5fad.js.map