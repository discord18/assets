(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{1373:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=s(r(9)),a=s(r(25)),i=s(r(1237));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r=e.children,s=e.tag,l=void 0===s?"h2":s,u=e.isFlush,c=void 0!==u&&u;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(a.default,{className:(0,o.default)(i.default.heading,(t={},t[i.default.flush]=c,t)),color:a.default.Colors.WHITE,size:a.default.Sizes.LARGE,tag:l,weight:a.default.Weights.MEDIUM},void 0,r)};l.displayName="PageHeading";var u=l;t.default=u},1374:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=s(r(9)),a=s(r(25)),i=s(r(1238));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r=e.children,s=e.className,l=e.tag,u=void 0===l?"p":l,c=e.isFlush,d=void 0!==c&&c;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(a.default,{className:(0,o.default)(i.default.subheading,s,(t={},t[i.default.flush]=d,t)),color:a.default.Colors.PRIMARY_300,size:a.default.Sizes.MEDIUM_LARGE,tag:u,weight:a.default.Weights.NORMAL},void 0,r)};l.displayName="PageSubheading";var u=l;t.default=u},1375:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(1)),o=s(r(9)),a=l(r(177)),i=s(r(1239));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=function(e){var t,r;function s(){return e.apply(this,arguments)||this}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["className"]);return n.createElement(a.default,u({},r,{className:(0,o.default)(i.default.formStatusAlert,t)}))},s}(n.Component);t.default=c,c.displayName="FormStatusAlert",c.Types=a.AlertTypes},1387:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=d(r(9)),i=r(432),s=r(70),l=d(r(420)),u=r(4),c=d(r(1241));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h={DEFAULT:"default",INVERTED:"inverted",GHOST:"ghost"},g={BOX:c.default.box,ROUND:c.default.round},v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={focused:!1},t.handleFocus=function(){t.setState({focused:!0})},t.handleBlur=function(){t.setState({focused:!1})},t.handleChange=function(e){var r=t.props,n=r.onChange,o=r.name;null!=n&&n(e.currentTarget.checked,o)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getInputMode=function(){return this.props.disabled?"disabled":this.props.readOnly?"readonly":"default"},o.getStyle=function(){var e=this.props,t=e.value,r=e.type,n=e.color,o=this.props.style||{};if(!1===t)return o;switch(o=p({},o),r){case h.DEFAULT:o.borderColor=n;break;case h.GHOST:o.borderColor=(0,i.hex2rgb)(n,.15),o.backgroundColor=(0,i.hex2rgb)(n,.15);break;case h.INVERTED:o.backgroundColor=n,o.borderColor=n}return o},o.getColor=function(){var e=this.props,t=e.value,r=e.type,n=e.color,o=r===h.INVERTED?u.Colors.WHITE:n;return r===h.INVERTED&&n===u.Colors.WHITE&&(o=u.Colors.BLACK),t?o:"transparent"},o.render=function(){var e,t=this.state.focused,r=this.props,n=r.disabled,o=r.readOnly,i=r.value,d=r.shape,h=r.className,g=r.children,v=r.size;return f("label",{className:(0,a.default)((0,s.getClass)(c.default,"checkboxWrapper",n?"disabled":""),h),style:{height:v}},void 0,f("input",{className:(0,s.getClass)(c.default,"input",this.getInputMode()),type:"checkbox",onChange:n||o?u.NOOP:this.handleChange,onFocus:n||o?u.NOOP:this.handleFocus,onBlur:this.handleBlur,checked:i,style:{width:v,height:v}}),f("div",{className:(0,a.default)(c.default.checkbox,d,(e={},e[c.default.checked]=i,e[c.default.focused]=t,e)),style:p({width:v,height:v},this.getStyle())},void 0,f(l.default,{name:l.default.Names.CHECKMARK,width:18,height:18,color:this.getColor()})),g?f("div",{className:c.default.label,style:{lineHeight:v+"px"}},void 0,g):null)},n}(o.PureComponent);v.displayName="Checkbox",v.Types=h,v.Shapes=g,v.defaultProps={size:24,disabled:!1,readOnly:!1,value:!1,type:h.DEFAULT,color:u.Colors.WHITE,shape:g.BOX,onChange:u.NOOP};var y=v;t.default=y},2413:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=m(r(1)),a=r(83),i=b(r(15)),s=m(r(1396)),l=b(r(427)),u=b(r(423)),c=b(r(1375)),d=b(r(1373)),f=b(r(421)),p=b(r(1374)),h=b(r(426)),g=b(r(2414)),v=r(4),y=r(21);function b(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function S(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _={hasUnsavedChanges:!1,submitting:!1,hasSubmitted:!1,hasSubmissionError:!1},C=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).esrbRef=o.createRef(),t.pegiRef=o.createRef(),t.state=O({},_),t.handleFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})},t.handleFormSubmit=function(){var e=t.props.match.params,r=e.id,n=e.skuId;if(null!=t.esrbRef.current){var o=t.esrbRef.current.getValuesForAPI();if(null!=t.pegiRef.current){var a={content_ratings:O({},o,t.pegiRef.current.getValuesForAPI())};t.setState({submitting:!0},function(){s.updateSku(r,n,a).then(function(){t.setState({submitting:!1,hasSubmitted:!0,hasUnsavedChanges:!1,hasSubmissionError:!1})}).catch(function(){t.setState({submitting:!1,hasSubmissionError:!0,hasSubmitted:!1})})})}}},t.handleReset=function(){t.setState(O({},_)),null!=t.esrbRef.current&&t.esrbRef.current.resetRatings(),null!=t.pegiRef.current&&t.pegiRef.current.resetRatings()},t.renderFormStatus=function(){var e=t.state,r=e.hasSubmitted;return e.hasSubmissionError?S(c.default,{type:c.default.Types.ERROR},void 0,y.Messages.Alerts.ERROR):r?S(c.default,{type:c.default.Types.SUCCESS},void 0,y.Messages.Alerts.SUCCESS_CHANGES_SAVED):null},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.sku,t=this.state,r=t.hasUnsavedChanges,n=t.submitting,a=this.renderFormStatus();return S(o.Fragment,{},void 0,S(f.default,{},void 0,S(d.default,{},void 0,y.Messages.SkuRatings.RATINGS),S(p.default,{isFlush:null==a},void 0,y.Messages.SkuRatings.RATINGS_SUBHEADING),a),S(u.default,{onChange:this.handleFormChange,onSubmit:this.handleFormSubmit},void 0,o.createElement(g.default,{ref:this.esrbRef,agency:v.ContentRatingAgencies.ESRB,heading:y.Messages.SkuRatings.ESRB_RATING,descriptorMap:v.ESRBContentDescriptors,onChange:this.handleFormChange,sku:e}),o.createElement(g.default,{isFlush:!0,ref:this.pegiRef,agency:v.ContentRatingAgencies.PEGI,heading:y.Messages.SkuRatings.PEGI_RATING,descriptorMap:v.PEGIContentDescriptors,onChange:this.handleFormChange,sku:e}),S(h.default,{isVisible:r,actionCopy:y.Messages.Actions.PUBLISH_CHANGES,onReset:this.handleReset,submitting:n})))},n}(o.Component);C.displayName="SkuRatings";var R=(0,a.withRouter)(i.default.connectStores([l.default],function(e){return{sku:l.default.getSku(e.match.params.skuId)}})(C));t.default=R},2414:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=g(r(1)),a=h(r(1387)),i=g(r(418)),s=h(r(425)),l=h(r(419)),u=h(r(421)),c=h(r(424)),d=r(4),f=r(21),p=h(r(1335));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=function(e){if(null==e.sku.content_ratings||null==e.sku.content_ratings[e.agency])return{rating:null,descriptors:[],ratingError:null};var t=e.sku.content_ratings[e.agency],r=t.rating,n=t.descriptors;return{descriptors:Array.from(n),rating:r,ratingError:null}},m=function(e,t){return null==e&&t.length>0?f.Messages.Forms.REQUIRED_FIELD:null},S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state=y({},b(t.props)),t.handleCheckboxClick=function(e,r){var n=t.props.descriptorMap;if(null!=r){var o=n[r];t.setState(function(e){var t=e.descriptors,r=e.rating,n=t.includes(o)?t.filter(function(e){return e!==o}):[].concat(t,[o]);return{descriptors:n,ratingError:m(r,n)}})}},t.handleSelectChange=function(e){var r=t.props.onChange;t.setState(function(t){var r=t.descriptors,n=null==e?null:e.value;return{rating:n,ratingError:m(n,r)}}),r()},t.renderCheckboxes=function(){var e=t.props.descriptorMap,r=t.state.descriptors;return Object.keys(e).map(function(n){return v(i.GridChild,{columnSpread:3,columnSpreadMedium:4,columnSpreadSmallMedium:6,columnSpreadSmall:6,columnSpreadExtraSmall:12},n,v(a.default,{onChange:t.handleCheckboxClick,value:r.includes(e[n]),name:n,type:a.default.Types.INVERTED},void 0,f.Messages.ContentDescriptors[n]))})},t.renderSelectOptions=function(){var e=t.props.agency,r=d.Ratings[e];return Object.keys(r).map(function(e){return{label:f.Messages.SkuRatings[e],value:r[e]}})},t.resetRatings=function(){t.setState(y({},b(t.props)))},t.getValuesForAPI=function(){var e,r=t.props.agency,n=t.state,o=n.rating,a=n.descriptors;return null!=o||a.length>0?((e={})[r]={rating:o,descriptors:a},e):null},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.heading,r=e.isFlush,n=this.state,o=n.descriptors,a=n.rating,d=n.ratingError;return v(u.default,{isFlush:r},void 0,v(c.default,{},void 0,t),v(i.default,{className:p.default.ratingContentGrid},void 0,v(i.GridSection,{},void 0,v(i.GridChild,{columnSpread:4,columnSpreadSmallMedium:6,columnSpreadSmall:8,columnSpreadExtraSmall:10},void 0,v(l.default,{isRequired:o.length>0},void 0,f.Messages.SkuRatings.RATING),v(s.default,{searchable:!1,clearable:!0,value:a,isHidden:!1,options:this.renderSelectOptions(),onChange:this.handleSelectChange,error:d}))),v(i.GridSection,{},void 0,v(i.GridChild,{columnSpread:12},void 0,v(l.default,{},void 0,f.Messages.SkuRatings.CONTENT_DESCRIPTORS)),this.renderCheckboxes())))},n}(o.Component);t.default=S,S.displayName="RatingSection"}}]);
//# sourceMappingURL=9f91ef05b0a6866d91cf.js.map