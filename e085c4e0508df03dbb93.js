(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{1373:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}t.default=e}(r(1));var a,o=s(r(9)),i=s(r(25)),n=s(r(1237));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r=e.children,s=e.tag,l=void 0===s?"h2":s,d=e.isFlush,u=void 0!==d&&d;return function(e,t,r,o){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===n)t.children=o;else if(n>1){for(var l=new Array(n),d=0;d<n;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i.default,{className:(0,o.default)(n.default.heading,(t={},t[n.default.flush]=u,t)),color:i.default.Colors.WHITE,size:i.default.Sizes.LARGE,tag:l,weight:i.default.Weights.MEDIUM},void 0,r)};l.displayName="PageHeading";var d=l;t.default=d},1374:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}t.default=e}(r(1));var a,o=s(r(9)),i=s(r(25)),n=s(r(1238));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r=e.children,s=e.className,l=e.tag,d=void 0===l?"p":l,u=e.isFlush,c=void 0!==u&&u;return function(e,t,r,o){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===n)t.children=o;else if(n>1){for(var l=new Array(n),d=0;d<n;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i.default,{className:(0,o.default)(n.default.subheading,s,(t={},t[n.default.flush]=c,t)),color:i.default.Colors.PRIMARY_300,size:i.default.Sizes.MEDIUM_LARGE,tag:d,weight:i.default.Weights.NORMAL},void 0,r)};l.displayName="PageSubheading";var d=l;t.default=d},1381:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}t.default=e}(r(1));var a,o=s(r(9)),i=s(r(25)),n=s(r(1240));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r=e.children,s=e.className,l=e.isFlush,d=void 0!==l&&l,u=e.tag,c=void 0===u?"p":u;return function(e,t,r,o){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===n)t.children=o;else if(n>1){for(var l=new Array(n),d=0;d<n;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i.default,{className:(0,o.default)(n.default.heading,(t={},t[n.default.flush]=d,t),s),color:i.default.Colors.PRIMARY_400,size:i.default.Sizes.MEDIUM,tag:c,weight:i.default.Weights.NORMAL},void 0,r)};l.displayName="PageSectionSubheading";var d=l;t.default=d},2083:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var a,o=_(r(1)),i=A(r(15)),n=_(r(129)),s=A(r(178)),l=_(r(177)),d=A(r(180)),u=A(r(96)),c=A(r(436)),p=A(r(1373)),f=A(r(421)),v=A(r(1374)),h=A(r(2084)),g=r(4),y=r(21),m=A(r(1313));function A(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function P(e,t,r,o){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===n)t.children=o;else if(n>1){for(var l=new Array(n),d=0;d<n;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var S=function(e,t){return e.approvalForm&&e.approvalForm.video_urls&&e.approvalForm.video_urls[t]},b=P(d.default,{}),E=function(e){var t,a;function i(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={error:null,isLoading:!0},t.handleError=function(e){t.setState({error:e.message})},t.handleSuccess=function(){t.setState({error:null})},t.handleAskToJoinVideoSubmit=function(e){var r=t.props.applicationDetails,a={};return null!=r.approvalForm&&null!=r.approvalForm.video_urls&&(a.url=r.approvalForm.video_urls.spectate_url,a.password=r.approvalForm.video_urls.spectate_password),n.submitApprovalVideos(r.id,e,a)},t.handleSpectateVideoSubmit=function(e){var r=t.props.applicationDetails,a={};return null!=r.approvalForm&&null!=r.approvalForm.video_urls&&(a.url=r.approvalForm.video_urls.join_request_url,a.password=r.approvalForm.video_urls.join_request_password),n.submitApprovalVideos(r.id,a,e)},t.isFeaturePending=function(e){var r=t.props.applicationDetails.approvalForm;return null!=r&&r.state===g.ApplicationApprovalStates.SUBMITTED&&null!=r.video_urls&&null!=r.video_urls[e]},t}a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=i.prototype;return s.componentDidMount=function(){var e=this;n.fetchRichPresenceApprovalForm(this.props.applicationDetails.id).then(function(){e.setState({error:null,isLoading:!1})}).catch(function(t){t.statusCode!==g.APIErrorCodes.UNKNOWN_APPROVAL_FORM?e.setState({error:t.message,isLoading:!1}):e.setState({error:null,isLoading:!1})})},s.renderConnectionStatus=function(){var e=this.props.applicationDetails,t=this.state.error;return null!=t?P(l.default,{className:m.default.alert,type:l.AlertTypes.ERROR},void 0,t):e.hasRpcConnected?e.approvalForm?e.approvalForm.state===g.ApplicationApprovalStates.SUBMITTED?P(l.default,{className:m.default.alert,heading:y.Messages.RichPresence.PENDING_APPROVAL_HEADING,type:l.AlertTypes.BENIGN},void 0,y.Messages.RichPresence.PENDING_APPROVAL_BODY):e.approvalForm.state===g.ApplicationApprovalStates.REJECTED?P(l.default,{className:m.default.alert,heading:y.Messages.RichPresence.REJECTED_HEADING,type:l.AlertTypes.ERROR},void 0,y.Messages.RichPresence.REJECTED_BODY):e.approvalForm.state===g.ApplicationApprovalStates.APPROVED?P(l.default,{className:m.default.alert,heading:y.Messages.RichPresence.APPROVED_HEADING,type:l.AlertTypes.SUCCESS},void 0,y.Messages.RichPresence.APPROVED_BODY):null:null:P(l.default,{className:m.default.alert,type:l.AlertTypes.ERROR},void 0,y.Messages.RichPresence.RPC_NOT_CONNECTED_WARNING)},s.renderPageContent=function(){if(this.state.isLoading)return b;var e=this.props.applicationDetails;return P(o.Fragment,{},void 0,P(f.default,{},void 0,P(h.default,{application:e,defaultPasswordValue:S(e,"spectate_password"),defaultUrlValue:S(e,"spectate_url"),headingCopy:y.Messages.RichPresence.SPECTATE_HEADING,isAddActionDisabled:!e.hasRpcConnected,isPendingApproval:this.isFeaturePending("spectate_url"),isSubmitActionEnabled:e.hasRpcConnected&&e.spectateEnabled,onAdd:n.addSpectateFlag,onError:this.handleError,onSuccess:this.handleSuccess,onSubmit:this.handleSpectateVideoSubmit,subheadingCopy:y.Messages.RichPresence.SPECTATE_SUBHEADING,submitActionCopy:y.Messages.RichPresence.SUBMIT_SPECTATE_VIDEO})))},s.render=function(){return P(o.Fragment,{},void 0,P(f.default,{},void 0,P(p.default,{},void 0,y.Messages.RichPresence.ADVANCED_HEADING),P(v.default,{},void 0,y.Messages.RichPresence.ADVANCED_SUBHEADING),P("p",{},void 0,y.Messages.RichPresence.ADVANCED_SUBHEADING_LINK.format({link:u.default.prependBasename(g.Routes.DOCS_RICH_PRESENCE_GETTING_APPROVED)})),this.renderConnectionStatus()),this.renderPageContent(),P(c.default,{},void 0,P("img",{alt:"",className:m.default.footerImage,src:r(2085)})))},i}(o.Component);E.displayName="RichPresenceAdvanced";var R=i.default.connectStores([s.default],function(e){var t=e.match.params.id;return{applicationDetails:s.default.getApplication(t),assets:s.default.getApplicationAssets(t)}})(E);t.default=R},2084:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var a,o=y(r(1)),i=y(r(177)),n=g(r(52)),s=g(r(40)),l=y(r(418)),d=g(r(422)),u=g(r(423)),c=g(r(419)),p=g(r(424)),f=g(r(1381)),v=r(21),h=g(r(1312));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function m(e,t,r,o){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===n)t.children=o;else if(n>1){for(var l=new Array(n),d=0;d<n;d++)l[d]=arguments[d+3];t.children=l}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A=function(e){var t,r;function a(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={hasError:!1,isAddRequestPending:!1,isMissingUrl:!1,isSubmitRequestPending:!1},t.handleAddClick=function(){var e=t.props,r=e.application,a=e.onAdd,o=e.onError,i=e.onSuccess;t.setState({isAddRequestPending:!0},function(){a(r.id,r.approvalForm).then(function(){t.setState({isAddRequestPending:!1}),i()}).catch(function(e){t.setState({isAddRequestPending:!1}),o(e)})})},t.handleVideoFormSubmit=function(e){if(e.url){var r=t.props.onSubmit;t.setState({isSubmitRequestPending:!0},function(){r({url:e.url,password:e.password}).then(function(){t.setState({hasError:!1,isMissingUrl:!1,isSubmitRequestPending:!1})}).catch(function(){t.setState({hasError:!0,isSubmitRequestPending:!1})})})}else t.setState({isMissingUrl:!0})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var g=a.prototype;return g.renderAddAction=function(){var e=this.props,t=e.isAddActionDisabled;if(e.isSubmitActionEnabled)return null;var r=this.state.isAddRequestPending;return m(s.default.Child,{grow:0,shrink:0,wrap:!0},void 0,m(n.default,{disabled:t,onClick:this.handleAddClick,submitting:r},void 0,v.Messages.Actions.ADD))},g.renderError=function(){var e=this.state,t=e.hasError,r=e.isMissingUrl;return t?m(i.default,{className:h.default.alert,type:i.AlertTypes.ERROR},void 0,v.Messages.RichPresence.ADVANCED_FEATURE_INVALID_SUBMISSION):r?m(i.default,{className:h.default.alert,type:i.AlertTypes.ERROR},void 0,v.Messages.RichPresence.ADVANCED_FEATURE_MISSING_VIDEO_URL):null},g.renderFormFields=function(){var e=this.props,t=e.defaultPasswordValue,r=e.defaultUrlValue,a=e.isPendingApproval,o=e.isSubmitActionEnabled,i=e.submitActionCopy;if(!o)return null;var s=this.state.isSubmitRequestPending;return m(u.default,{onSubmit:this.handleVideoFormSubmit},void 0,m(l.default,{},void 0,m(l.GridSection,{},void 0,m(l.GridChild,{columnSpread:6},void 0,m(c.default,{},void 0,v.Messages.RichPresence.URLS_INPUT_LABEL),m(d.default,{defaultValue:r,disabled:a,name:"url",placeholder:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"})),m(l.GridChild,{columnSpread:6},void 0,m(c.default,{},void 0,v.Messages.RichPresence.PASSWORD_INPUT_LABEL),m(d.default,{disabled:a,defaultValue:t,name:"password"}))),m(l.GridSection,{},void 0,m(l.GridChild,{className:h.default.submitActionWrapper,columnSpread:12},void 0,m(n.default,{disabled:a,submitting:s,type:"submit"},void 0,i)))))},g.render=function(){var e=this.props,t=e.headingCopy,r=e.isSubmitActionEnabled,a=e.subheadingCopy,i=this.state,n=i.hasError,l=i.isMissingUrl;return m(o.Fragment,{},void 0,m(s.default,{wrap:s.default.Wrap.NO_WRAP},void 0,m(s.default.Child,{grow:1,shrink:1,className:h.default.textWrap},void 0,m(p.default,{},void 0,t),m(f.default,{isFlush:!r&&!n&&!l},void 0,a),this.renderError()),this.renderAddAction()),this.renderFormFields())},a}(o.Component);t.default=A,A.displayName="RichPresenceAdvancedFeatureApprovalForm"},2085:function(e,t,r){e.exports=r.p+"fde020385d68f3073f88b70d0147d2f0.svg"}}]);
//# sourceMappingURL=e085c4e0508df03dbb93.js.map