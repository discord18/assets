(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{6018:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(8)),o=_(n(3)),a=_(n(25)),u=_(n(7417)),i=_(n(2)),s=n(0),l=_(n(65)),c=_(n(225)),f=_(n(26)),d=_(n(18)),p=_(n(59)),h=_(n(7416)),E=n(6066),y=n(7415);function _(e){return e&&e.__esModule?e:{default:e}}var T=.05,S={},m=!1;function v(e){return null==S[e]&&(S[e]={searchId:e,searchType:g(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),S[e]}function g(e){return f.default.getGuild(e)?s.SearchTypes.GUILD:d.default.getChannel(e)?s.SearchTypes.CHANNEL:null}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e)return n;var r=S[e];return null==r?n:t(r)}var R="SearchStore",I=!1,N={},O=null;function C(e){var t=e.searchId,n=S[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete S[t]}function M(){var e=c.default.getGuildId(),t=l.default.getChannelId(e),n=e||t;if(n===O)return!1;n&&!S[n]&&v(n),O=n}function b(){(0,E.refreshSearchTokens)()}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,c.default,f.default,d.default);var e,t=a.default.get(R);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),N=e),I=!!a.default.get("tokenized")||!1},t.prototype.isOpen=function(){return m},t.prototype.getCurrentSearchId=function(){return O},t.prototype.isActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},t.prototype.isTokenized=function(){return I},t.prototype.getSearchType=function(e){return A(e||O,function(e){return e.searchType})},t.prototype.getResults=function(e){return A(e,function(e){return e.searchResults})},t.prototype.hasResults=function(e){return null!=A(e,function(e){return e.searchResults})},t.prototype.isIndexing=function(e){return A(e,function(e){return e.isIndexing})||!1},t.prototype.isHistoricalIndexing=function(e){return A(e,function(e){return e.isHistoricalIndexing})||!1},t.prototype.isSearching=function(e){return A(e,function(e){return e.isSearching})||!1},t.prototype.getAnalyticsId=function(e){return A(e,function(e){return e.analyticsId})},t.prototype.getResultsBlocked=function(e){return A(e,function(e){return e.resultsBlocked})},t.prototype.getDocumentsIndexedCount=function(e){return A(e,function(e){return e.documentsIndexed})},t.prototype.getSearchFetcher=function(e){return A(e,function(e){return e.searchFetcher})},t.prototype.getTotalResults=function(e){return A(e,function(e){return e.totalResults})||0},t.prototype.getEditorState=function(e){return A(e,function(e){return e.editorState})},t.prototype.getHistory=function(e){return N[e]},t.prototype.getOffset=function(e){return A(e,function(e){return e.offset})||0},t.prototype.getQuery=function(e){return A(e,function(e){return e.query})},t.prototype.hasError=function(e){return A(e,function(e){return e.hasError})||!1},t.prototype.shouldShowBlockedResults=function(e){return A(e,function(e){return e.showBlockedResults},!1)||!1},t.prototype.shouldShowNoResultsAlt=function(e){return A(e,function(e){return e.showNoResultsAlt},!1)||!1},t.prototype.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},t}(o.default.Store);t.default=new P(i.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,o=e.query,l=v(n);l.searchFetcher&&(l.searchFetcher.cancel(),l.searchFetcher=null);var c=new u.default(n,l.searchType,o);l.searchFetcher=c,l.isSearching=!0,l.searchResults=null,l.analyticsId=null,l.query=r.default.omit(o,"type"),l.offset=o.offset?o.offset:0,l.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=N[e]=N[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),a.default.set(R,{history:N})}}(n,t),c.fetch(function(e){i.default.dispatch({type:s.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){i.default.dispatch({type:s.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){i.default.dispatch({type:s.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=v(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=v(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<T;var n=t.query;if(n){var o=(0,y.createASTHighlighter)(n.content||""),a=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return h.default.create(e,o)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&a++,!t||e.hit})}).value(),t.resultsBlocked=a}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:C,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&v(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;v(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;v(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return M()},GUILD_SELECT:function(e){return M()},CHANNEL_TOGGLE_SECTION:function(e){return null!=O&&C({searchId:O})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(a.default.remove(R),N={}):(delete N[t],a.default.set(R,{history:N}))},LOGOUT:function(e){return a.default.remove(R),void(N={})},CONNECTION_OPEN:function(e){Object.keys(S).forEach(function(e){null!=S[e]&&(S[e].searchType=g(e))})},SEARCH_MODAL_OPEN:function(e){m=!0},SEARCH_MODAL_CLOSE:function(e){m=!1},USER_SETTINGS_UPDATE:function(e){return b()},I18N_LOAD_SUCCESS:function(e){return b()}}),e.exports=t.default},6020:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderBarIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=b(n(9)),s=b(n(3)),l=b(n(949)),c=b(n(18)),f=b(n(65)),d=b(n(6619)),p=b(n(38)),h=b(n(192)),E=b(n(7509)),y=b(n(6070)),_=b(n(7507)),T=b(n(369)),S=b(n(7504)),m=b(n(7418)),v=b(n(40)),g=b(n(79)),A=b(n(64)),R=b(n(142)),I=b(n(223)),N=b(n(6035)),O=b(n(6)),C=n(0),M=b(n(5859));function b(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F="RECENT_MENTIONS_POPOUT",D=t.HeaderBarIcon=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.tooltip,r=e.onClick,i=e.foreground,s=e.noMargin,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","tooltip","onClick","foreground","noMargin"]),c=a(N.default.Icon,{name:t,onClick:r,foreground:i,noMargin:s});return null!=n?u.createElement(R.default,o({text:n,position:R.default.Positions.BOTTOM},l),c):c},t}(u.PureComponent),k=s.default.connectStores([d.default],function(){return{state:d.default.getState()}})(function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={clicked:!1},r.handleInstallDownload=function(){r.state.clicked||(r.setState({clicked:!0}),E.default.quitAndInstall())},L(r,n)}return w(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.state!==this.props.state&&this.setState({clicked:!1})},t.prototype.render=function(){var e=void 0,t=void 0,n=void 0,r=void 0;switch(this.props.state){case C.ActionTypes.UPDATE_NOT_AVAILABLE:case C.ActionTypes.UPDATE_ERROR:break;case C.ActionTypes.CHECKING_FOR_UPDATES:e=g.default.Names.UPDATE_AVAILABLE,n=O.default.Messages.CHECKING_FOR_UPDATES;break;case C.ActionTypes.UPDATE_AVAILABLE:e=g.default.Names.DOWNLOADING,n=O.default.Messages.UPDATE_AVAILABLE;break;case C.ActionTypes.UPDATE_MANUALLY:e=g.default.Names.DOWNLOADING,n=O.default.Messages.UPDATE_MANUALLY,r=this.handleDownloadApps;break;case C.ActionTypes.UPDATE_DOWNLOADED:e=g.default.Names.UPDATE,t=M.default.updateIconForeground,n=O.default.Messages.UPDATE_DOWNLOADED,r=this.handleInstallDownload}return null==e||null==n?null:a(D,{tooltip:n,onClick:r,name:e,foreground:t})},t.prototype.handleDownloadApps=function(){p.default.push(T.default,{source:"Links"})},t}(u.PureComponent)),U=a(N.default.Divider,{}),H=a(k,{}),x=function(e){function t(){var n,r;P(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=L(this,e.call.apply(e,[this].concat(i))),r.renderRecentMentionsPopout=function(e){return u.createElement(S.default,o({},e,{onJump:r.handleMentionsJump,channel:c.default.getChannel(f.default.getChannelId()),popoutName:F}))},L(r,n)}return w(t,e),t.prototype.renderTitle=function(){var e=this.props.title;return null==e?null:a(N.default.Title,{className:M.default.title},void 0,e)},t.prototype.renderSearch=function(){var e=this.props,t=e.guildId;return null!=e.channelId?a(m.default,{className:M.default.search},t):null},t.prototype.renderBackButton=function(){var e=this.props,t=e.isAuthenticated,n=e.onGoBack,r=e.backText,o=t?R.default.Positions.BOTTOM:R.default.Positions.RIGHT;return null!=n?a(R.default,{text:r,position:o},void 0,a(A.default,{look:A.default.Looks.BLANK,size:A.default.Sizes.NONE,onClick:n,className:M.default.back},void 0,a(g.default,{name:g.default.Names.ARROW_LEFT}))):null},t.prototype.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return a(N.default,{className:(0,i.default)(M.default.headerBarLoggedOut,n)},void 0,a("div",{className:M.default.headerBarLoggedOutInner},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(v.default.Child,{},void 0,t):null))},t.prototype.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.renderToolbar,r=e.className,o=null!=n?n():null,i=null!=o&&u.Children.count(o)>0;return a(N.default,{className:r},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(v.default.Child,{},void 0,t):null,a(v.default,{grow:0,shrink:0,align:v.default.Align.CENTER,className:M.default.toolbar},void 0,o,i?this.renderSearch():null,i?U:null,H,a(I.default,{animationType:I.default.Animations.NONE,uniqueId:F,position:I.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:C.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,a(D,{name:g.default.Names.MENTION,tooltip:O.default.Messages.MENTIONS})),a(D,{name:g.default.Names.QUESTION_MARK,onClick:this.handleHelpToggle,tooltip:O.default.Messages.HELP})))},t.prototype.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},t.prototype.handleHelpToggle=function(){l.default.isModalOpen(_.default)?p.default.pop():p.default.push(_.default)},t.prototype.handleMentionsJump=function(e){e.shiftKey||h.default.close(F)},t}(u.PureComponent);x.defaultProps={isAuthenticated:!0,backText:O.default.Messages.BACK},t.default=(0,y.default)(function(e,t){var n;return(n={})[C.ComponentActions.TOGGLE_HELP_MODAL]=t.handleHelpToggle,n})(x)},6034:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselNext=t.CarouselPrevious=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=d(n(9)),i=d(n(1223)),s=d(n(64)),l=n(265),c=d(l),f=d(n(5857));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._paginationItemRefs=[],r.handleSetScrollerRef=function(e){r._scrollerRef=e},r.handleSelectedIndexChange=function(e){var t=r._scrollerRef;if(null!=t){var n=r._paginationItemRefs[e];null!=n&&t.scrollIntoView(n,!0,r.props.scrollToPadding)}},r.handlePageClick=function(e){(0,r.props.onSetItem)(e)},h(r,n)}return E(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,o=t.vertical,i=t.paginationContainerClass,s=o?c.default:l.HorizontalScroller,d=o?f.default.verticalPaginationItemContainer:f.default.horizontalPaginationItemContainer;return a.createElement(s,{track:!0,className:(0,u.default)(d,i),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);y.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0}};t.CarouselPrevious=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return E(t,e),t.prototype.render=function(){var e=this.props.className;return o(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,className:(0,u.default)(f.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,o(i.default,{className:f.default.arrow,direction:i.default.Directions.LEFT}))},t}(a.PureComponent),t.CarouselNext=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return E(t,e),t.prototype.render=function(){var e=this.props.className;return o(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,className:(0,u.default)(f.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,o(i.default,{className:f.default.arrow,direction:i.default.Directions.RIGHT}))},t}(a.PureComponent);t.default=y},6035:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),s=n(99),l=h(n(40)),c=h(n(87)),f=h(n(79)),d=h(n(67)),p=h(n(5860));function h(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=E(e,["className","children"]);return u.createElement(d.default,a({className:(0,i.default)(p.default.title,t),weight:d.default.Weights.SEMIBOLD},r),n)},t}(u.PureComponent),m=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.getMode=function(){var e=this.props,t=e.disabled,n=e.active;return t?"Disabled":n?"Active":"Inactive"},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.noMargin,l=t.foreground,d=(t.active,t.disabled),h=t.showBadge,y=t.onClick,_=E(t,["className","noMargin","foreground","active","disabled","showBadge","onClick"]),T=u.createElement(f.default,a({foreground:null!=l?l:p.default.iconForeground},_,{className:(0,i.default)((0,s.getClass)(p.default,"icon",this.getMode()),n)}));return h?o(c.default,{tag:"span",onClick:d?null:y,className:p.default.iconBadgeWrapper},void 0,T,o("span",{className:p.default.iconBadge})):d?T:o(c.default,{tag:"span",onClick:y,className:(0,i.default)((e={},e[p.default.iconMargin]=!r,e))},void 0,T)},t}(u.PureComponent),v=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){return o("div",{className:(0,i.default)(p.default.divider,this.props.className)})},t}(u.PureComponent),g=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return o(l.default,{align:l.default.Align.CENTER,className:(0,i.default)(p.default.headerBarDrag,p.default.headerBar,t),shrink:0,grow:0},void 0,n)},t}(u.PureComponent);g.Icon=m,g.Title=S,g.Divider=v,t.default=g,e.exports=t.default},6065:function(e,t,n){"use strict";t.__esModule=!0,t.ComponentTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRandomDateShortcut=function(){return a.default.sample(F())},t.refreshSearchTokens=function(){Object.assign(G,(t=[s.default.Messages.SEARCH_ANSWER_HAS_LINK,s.default.Messages.SEARCH_ANSWER_HAS_EMBED,s.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,s.default.Messages.SEARCH_ANSWER_HAS_VIDEO,s.default.Messages.SEARCH_ANSWER_HAS_IMAGE,s.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[T.SearchTokenTypes.FILTER_FROM]={regex:M(s.default.Messages.SEARCH_FILTER_FROM),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_FROM),validator:x,getAutocompletions:U},e[T.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[T.SearchTokenTypes.FILTER_FROM],regex:j,validator:b,mutable:!0,componentType:B.ANSWER,queryKey:"author_id"},e[T.SearchTokenTypes.FILTER_MENTIONS]={regex:M(s.default.Messages.SEARCH_FILTER_MENTIONS),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_MENTIONS),validator:x,getAutocompletions:U},e[T.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[T.SearchTokenTypes.FILTER_MENTIONS],regex:j,validator:b,mutable:!0,componentType:B.ANSWER,queryKey:"mentions"},e[T.SearchTokenTypes.FILTER_HAS]={regex:M(s.default.Messages.SEARCH_FILTER_HAS),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return k(e,r,t)}},e[T.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return _.default.escape(e)}).join("|")+"))","i"),follows:[T.SearchTokenTypes.FILTER_HAS],validator:w,componentType:B.ANSWER,queryKey:"has"},e[T.SearchTokenTypes.FILTER_FILE_TYPE]={regex:M(s.default.Messages.SEARCH_FILTER_FILE_TYPE),key:C(s.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:B.FILTER},e[T.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[T.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_extensions"},e[T.SearchTokenTypes.FILTER_FILE_NAME]={regex:M(s.default.Messages.SEARCH_FILTER_FILE_NAME),key:C(s.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:B.FILTER},e[T.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[T.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_filename"},e[T.SearchTokenTypes.FILTER_BEFORE]={regex:M(s.default.Messages.SEARCH_FILTER_BEFORE),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return D(e,n,T.SearchTokenTypes.FILTER_BEFORE)}},e[T.SearchTokenTypes.FILTER_ON]={regex:M("("+s.default.Messages.SEARCH_FILTER_ON+"|"+s.default.Messages.SEARCH_FILTER_DURING+")"),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return D(e,n,T.SearchTokenTypes.FILTER_ON)}},e[T.SearchTokenTypes.FILTER_AFTER]={regex:M(s.default.Messages.SEARCH_FILTER_AFTER),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return D(e,n,T.SearchTokenTypes.FILTER_AFTER)}},e[T.SearchTokenTypes.ANSWER_BEFORE]={regex:O,follows:[T.SearchTokenTypes.FILTER_BEFORE],componentType:B.ANSWER,mutable:!0,validator:function(e){return P(e,"before")}},e[T.SearchTokenTypes.ANSWER_ON]={regex:O,follows:[T.SearchTokenTypes.FILTER_ON],componentType:B.ANSWER,mutable:!0,validator:function(e){return P(e,"on")}},e[T.SearchTokenTypes.ANSWER_AFTER]={regex:O,follows:[T.SearchTokenTypes.FILTER_AFTER],componentType:B.ANSWER,mutable:!0,validator:function(e){return P(e,"after")}},e[T.SearchTokenTypes.FILTER_IN]={regex:M(s.default.Messages.SEARCH_FILTER_IN),componentType:B.FILTER,key:C(s.default.Messages.SEARCH_FILTER_IN),validator:H,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=y.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var o=d.default.getChannelId(t),u=r.find(function(e){return e.id===o});u&&(r.splice(r.indexOf(u),1),r.unshift(u))}var i=E.default.getTextChannelNameDisambiguations(t);return(0,a.default)(r).take(n).map(function(e){return{text:""+i[e.id].name,channel:e}}).value()}},e[T.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[T.SearchTokenTypes.FILTER_IN],componentType:B.ANSWER,validator:L,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(G).length;return(0,a.default)(Object.keys(G)).filter(function(e){return T.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return G[e].key}).map(function(e){return{token:e,text:G[e].key}}).filter(function(t){var n=t.text;return(0,o.default)(e.toLowerCase(),n)}).take(t).value()};var o=S(n(6026)),a=S(n(8)),u=S(n(5)),i=S(n(166)),s=S(n(6)),l=S(n(12)),c=S(n(6018)),f=S(n(225)),d=S(n(65)),p=S(n(144)),h=S(n(59)),E=S(n(125)),y=S(n(6046)),_=S(n(233)),T=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function m(){return new Set(u.default.months().map(function(e){return e.toLowerCase()}))}function v(){return new Set(u.default.weekdays().map(function(e){return e.toLowerCase()}))}function g(){var e=(new Date).getFullYear();return new Set(a.default.range(2015,e+1).map(function(e){return e.toString()}))}function A(e,t){return[e,e.clone().add(1,t)]}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return A((0,u.default)().startOf(e).add(t,e),e)}function I(e,t,n){return A((0,u.default)(e,t).local(),n)}function N(){var e;return(e={})[s.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return R("day")},e[s.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return R("day",-1)},e[s.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return R("week")},e[s.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return R("month")},e[s.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return R("year")},e}var O=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function C(e){return e+":"}function M(e){return new RegExp(C(e),"i")}function b(e){var t=void 0;return!!(t=e.getMatch(1)===T.ME?l.default.getCurrentUser():l.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function P(e,t){var n=e.getFullMatch().trim().toLowerCase(),r=N()[n],o=void 0,a=void 0;if(null!=r){var u=r();o=u[0],a=u[1]}else if(m().has(n)){var i=I(n,"MMMM","month");o=i[0],a=i[1]}else if(v().has(n)){var s=I(n,"dddd","day");o=s[0],a=s[1]}else if(g().has(n)){var l=I(n,"YYYY","year");o=l[0],a=l[1]}else{var c=I(n,T.SEARCH_DATE_FORMAT,"day");o=c[0],a=c[1]}return!(!o.isValid()||!a.isValid())&&("before"===t?(a=o,o=null):"after"===t&&(o=a,a=null),e.setData("start",o),e.setData("end",a),!0)}function L(e){var t=e.getMatch(1),n=f.default.getGuildId(),r=E.default.getChannels(n)[T.ChannelTypes.GUILD_TEXT],o=E.default.getTextChannelNameDisambiguations(n),u=a.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===o[e.id].name}).value();return!!u&&(e.setData("channel",u),!0)}function w(e){var t,n=(t={},t[s.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[s.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[s.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[s.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[s.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[s.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function F(){return[].concat(Array.from(m()),Array.from(v()),Array.from(g()),Object.keys(N()))}function D(e,t,n){return k(e,t,F()).map(function(e){return r({},e,{group:n,key:n+"-"+e.text})})}function k(e,t,n){return(0,a.default)(n).filter(function(t){return(0,o.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=c.default.getSearchType(t);e=e.split("#")[0];var a=void 0;switch(o){case T.SearchTypes.GUILD:a=y.default.queryGuildUsers;break;case T.SearchTypes.CHANNEL:a=y.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!h.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function H(){return c.default.getSearchType()===T.SearchTypes.GUILD}function x(){return!p.default.hidePersonalInformation}var j=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,B=t.ComponentTypes=(0,i.default)({FILTER:null,ANSWER:null});var G={};t.default=G},6066:function(e,t,n){"use strict";t.__esModule=!0,t.ShowDatePicker=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getSearchOptionAnswer=function(e){switch(e){case c.SearchTokenTypes.FILTER_FROM:return f.default.Messages.SEARCH_ANSWER_FROM;case c.SearchTokenTypes.FILTER_MENTIONS:return f.default.Messages.SEARCH_ANSWER_MENTIONS;case c.SearchTokenTypes.FILTER_HAS:return f.default.Messages.SEARCH_ANSWER_HAS;case c.SearchTokenTypes.FILTER_BEFORE:case c.SearchTokenTypes.FILTER_ON:case c.SearchTokenTypes.FILTER_AFTER:return f.default.Messages.SEARCH_ANSWER_DATE;case c.SearchTokenTypes.FILTER_IN:return f.default.Messages.SEARCH_ANSWER_IN;case c.SearchTokenTypes.FILTER_FILE_TYPE:return f.default.Messages.SEARCH_ANSWER_FILE_TYPE;case c.SearchTokenTypes.FILTER_FILE_NAME:return f.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!c.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case c.SearchTokenTypes.ANSWER_BEFORE:case c.SearchTokenTypes.ANSWER_ON:case c.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),o=e.getData("end");return r&&(t.min_id=l.default.fromTimestamp(r)),void(o&&(t.max_id=l.default.fromTimestamp(o)))}var a=function(e){var t=s.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[a]&&(t[a]=new Set);var u=t[a];switch(n){case c.SearchTokenTypes.ANSWER_USERNAME_FROM:case c.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:u.add(e.getData("user").id);break;case c.SearchTokenTypes.ANSWER_FILE_TYPE:case c.SearchTokenTypes.ANSWER_FILE_NAME:u.add(e.getMatch(1));break;case c.SearchTokenTypes.ANSWER_IN:u.add(e.getData("channel").id);break;case c.SearchTokenTypes.ANSWER_HAS:u.add(e.getData("has"));break;default:u.add(e.getFullMatch().trim())}}});for(var n=Object.entries(t),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var u=a,i=u[0],f=u[1];f instanceof Set&&(t[i]=Array.from(f))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===u.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r=void 0,o=void 0,a=e.find(function(a,u){return t>=a.start&&t<=a.end&&n>=a.start&&n<=a.end?(e[u+1]&&(o=e[u+1]),!0):(r=a,!1)});if(!a)return null;return{previousToken:r,currentToken:a,nextToken:o,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n=e=e||{},r=n.currentToken,o=n.nextToken,a=n.previousToken;if(0===t.length)return{type:c.SearchPopoutModes.EMPTY,filter:null,token:null};if(!r)return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(c.IS_SEARCH_FILTER_TOKEN.test(r.type)){if(!o||o.type===u.default.NON_TOKEN_TYPE)return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:o};if(o&&!c.IS_SEARCH_ANSWER_TOKEN.test(o.type))return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:null}}if(r.type===u.default.NON_TOKEN_TYPE&&a&&c.IS_SEARCH_FILTER_TOKEN.test(a.type))return{type:c.SearchPopoutModes.FILTER,filter:a.type,token:r};var i=void 0;r.type===u.default.NON_TOKEN_TYPE&&(i=r);return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:i}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===c.SearchPopoutModes.FILTER_ALL){r=e.group||r;var o=s.default[r];o&&o.key&&(n=o.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return h.tokenize(e)},t.clearTokenCache=function(){return h.clearCache()},t.showDatePicker=function(e){return p[e]},t.filterHasAnswer=function(e,t){var n=c.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!c.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,i.refreshSearchTokens)(),h.reset(),(0,a.default)(s.default).forOwn(function(e,t){return h.addRule(o({type:t},e))})};var a=d(n(8)),u=d(n(6103)),i=n(6065),s=d(i),l=d(n(167)),c=n(0),f=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.ShowDatePicker=((r={})[c.SearchTokenTypes.FILTER_BEFORE]=!0,r[c.SearchTokenTypes.FILTER_AFTER]=!0,r[c.SearchTokenTypes.FILTER_ON]=!0,r);var h=new u.default},6089:function(e,t,n){"use strict";t.__esModule=!0,t.loadDirectory=t.loadLayout=void 0;var r,o;t.loadLayout=(r=f(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START}),e.next=3,a.default.get(l.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,r=s.default.createFromServer(n.body),u.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:r}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.loadDirectory=(o=f(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.httpGetWithCountryCodeQuery)(l.Endpoints.STORE_DIRECTORY(t));case 2:n=e.sent,r=n.body,o=n.body.store_listings,u.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:s.default.createFromServer(r),storeListings:o});case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.setHideLibraryGames=function(e){u.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){u.default.wait(function(){return u.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.clearStoreData=function(){u.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var a=c(n(13)),u=c(n(2)),i=n(527),s=c(n(6168)),l=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var u=t[o](a),i=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}},6095:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(56);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.timer=new a.Interval,r.state={hovered:!1},r.handlePause=function(){r.state.hovered||r.setState({hovered:!0})},r.handleResume=function(){r.setState({hovered:!1})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null},t.prototype.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,r=this.state.hovered&&t;n||r||this.startTimer()},t.prototype.componentWillUnmount=function(){this.stopTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},o=r(n,this.state),a=r(e,t);o&&!a||e.interval!==n.interval?this.startTimer():!o&&a&&this.stopTimer()},t.prototype.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},t.prototype.stopTimer=function(){this.timer.stop()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return o.createElement("div",r({},a,{className:n}),t)},t}(o.Component);i.defaultProps={disable:!1,pauseOnHover:!1},t.default=i,e.exports=t.default},6103:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=/.+/g,u=t.NON_TOKEN_TYPE="NON_TOKEN";function i(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var o=t[r],a=s(e.match(o.regex),n),u=void 0;if(a){var i=o.cache;if(i&&(u=i.get(a[0]))&&((u=new c(u)).start=a.index),!u){if(u=new c(a,o.type),o.validator&&!o.validator(u))continue;i&&!i.has(a[0])&&i.set(a[0],u)}return u}}return null}function s(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}var l=t.QueryTokenizer=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];o(this,e),this.reset(n,r),n.forEach(function(e){return t.addRule(e)})}return e.prototype.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||u},e.prototype.addRule=function(e){var t=this,n=e.type,r=e.follows,o=e.validator,a=e.regex;"^"!==a.source.charAt(0)&&(a=new RegExp("^"+a.source,a.flags));var u=void 0;o&&(u=new Map),r?r.forEach(function(e){t._followers[e]||(t._followers[e]=[]),t._followers[e].push({regex:a,type:n,validator:o,cache:u})}):this._rules.push({regex:a,type:n,validator:o,cache:u})},e.prototype.tokenize=function(e){for(var t=e,n="",r=0,o=void 0,u=[];t.length;){var i=this._getMatch(t,o,r+n.length);i?(n&&u.push(new c(s(n.match(a),r),this._nonTokenType)),o=i,u.push(i),r+=o.length+n.length,t=t.substring(o.length),n=""):(n+=t[0],t=t.substring(1))}return n&&u.push(new c(s(n.match(a),r),this._nonTokenType)),u},e.prototype.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},e.prototype._getMatch=function(e,t,n){var r=t?t.type:null,o=void 0;return t&&t.end===n&&(o=i(e,this._followers[r],n)),o||(o=i(e,this._rules,n)),o},e}(),c=t.Token=function(){function e(t,n){o(this,e),t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}return e.prototype.valueOf=function(){return this.match[0]},e.prototype.getFullMatch=function(){return this.match[0]},e.prototype.getMatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.match[e]},e.prototype.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},e.prototype.getData=function(e){if(this._data)return this._data.get(e)},r(e,[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}]),e}();l.NON_TOKEN_TYPE=u,l.Token=c,t.default=l},6104:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(3)),o=s(n(25)),a=s(n(2)),u=n(0),i=s(n(6018));function s(e){return e&&e.__esModule?e:{default:e}}var l="ChannelSectionStore",c=null,f=null;function d(){var e=void 0;if(i.default.isActive()&&(e=u.ChannelSections.SEARCH),f===e)return!1;f=e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){c=o.default.get(l)||u.ChannelSections.MEMBERS},t.prototype.getSection=function(){return f||c},t}(r.default.Store);t.default=new p(a.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;c===t?null==f&&(c=u.ChannelSections.NONE):c=t,f=null,o.default.set(l,c)},SEARCH_START:function(e){return d()},SEARCH_INDEXING:function(e){return d()},SEARCH_FINISH:function(e){return d()},SEARCH_EDITOR_STATE_CLEAR:function(e){return d()},SEARCH_EDITOR_STATE_CHANGE:function(e){return d()},CHANNEL_SELECT:function(e){return d()},GUILD_SELECT:function(e){return d()}}),e.exports=t.default},6168:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(82),a=(r=o)&&r.__esModule?r:{default:r},u=n(0);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=function(e){var t=""+e.type;switch(e.type){case u.StoreDirectoryTileServerTypes.BLOG:case u.StoreDirectoryTileTypes.BLOG:return{type:t};default:return{type:t,skuId:e.sku_id}}};return new t({id:e.id,hero:e.data.hero.map(function(e){var t=""+e.type;switch(e.type){case u.StoreDirectoryHeroCarouselItemServerTypes.APPLICATION:case u.StoreDirectoryHeroCarouselItemTypes.APPLICATION:return{type:t,skuId:e.sku_id};case u.StoreDirectoryHeroCarouselItemServerTypes.PREMIUM_ANNOUNCEMENT:case u.StoreDirectoryHeroCarouselItemTypes.PREMIUM_ANNOUNCEMENT:return{type:t}}}),premiumCarousel:e.data.premium_carousel.map(function(e){return{skuId:e.sku_id,tagline:e.tagline}}),featured:e.data.featured.map(n),newReleases:e.data.new_releases.map(n),bestSellers:e.data.best_sellers.map(n),premium:e.data.premium.map(n),allSkuIds:e.data.sku_ids||[]})},t.prototype.initialize=function(e){this.id=e.id,this.hero=e.hero,this.premiumCarousel=e.premiumCarousel,this.featured=e.featured,this.newReleases=e.newReleases,this.bestSellers=e.bestSellers,this.premium=e.premium,this.allSkuTiles=e.allSkuIds.map(function(e){return{skuId:e,type:u.StoreDirectoryTileTypes.REGULAR}}),this.allSkuIds=e.allSkuIds},t}(a.default);t.default=i,e.exports=t.default},6169:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(3)),a=f(n(2)),u=f(n(27)),i=f(n(525)),s=f(n(948)),l=(f(n(6168)),n(0)),c=f(n(31));function f(e){return e&&e.__esModule?e:{default:e}}var d={},p=void 0,h=!1,E=!1,y=void 0,_=void 0,T=void 0,S=void 0;function m(e){var t=e.directoryLayout;d[t.id]=t,h=!1,p=Date.now()}function v(){d={},p=null}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,s.default,u.default,c.default),S=c.default.locale},t.prototype.getDirectoryLayout=function(e){return d[e]},t.prototype.shouldFetch=function(){return!h&&(null==p||Date.now()-p>18e5)},r(t,[{key:"isFetching",get:function(){return h}},{key:"lastHomeDirectoryView",get:function(){return _}},{key:"lastBrowseDirectoryView",get:function(){return T}},{key:"isLibraryApplicationsHidden",get:function(){return E}},{key:"searchTerm",get:function(){return y}}]),t}(o.default.Store);t.default=new g(a.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){h=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:m,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:m,APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case l.DirectoryLocations.HOME:_={scrollTop:t};break;case l.DirectoryLocations.BROWSE:T={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;E=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;y=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:c.default.locale;if(S===t)return!1;S=t,v()},APPLICATION_STORE_CLEAR_DATA:function(e){return v()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return _=null,void(T=null)}}),e.exports=t.default},6229:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.search=c,t.searchByMode=function(e,t){var n=a.default.getQuery(e);return c(e,r({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.SEARCH_PAGE_SIZE;return f(e,t)},t.searchPreviousPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.SEARCH_PAGE_SIZE;return f(e,-t)},t.clearHistory=function(e){o.default.dispatch({type:s.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){o.default.dispatch({type:s.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})},t.setSearchState=function(e,t){null!=e&&o.default.dirtyDispatch({type:s.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){u.default.trackWithMetadata("search_closed",{search_id:a.default.getAnalyticsId(e)}),o.default.dispatch({type:s.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&o.default.dirtyDispatch({type:s.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){o.default.dispatch({type:s.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var o=l(n(2)),a=l(n(6018)),u=l(n(194)),i=l(n(6067)),s=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){i.default.didAgree(e)&&(t.include_nsfw=!0);var r=Object.keys(t);u.default.trackWithMetadata("search_started",{prev_search_id:a.default.getAnalyticsId(e),num_modifiers:r.length,modifiers:r.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),o.default.dispatch({type:s.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function f(e,t){var n=a.default.getOffset(e),o=a.default.getQuery(e),u=n+t,i=a.default.getTotalResults(e);if(!(u<0||u>i))return c(e,r({},o,{offset:u}))}},6276:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(264)),u=l(n(3)),i=l(n(126)),s=l(n(952));function l(e){return e&&e.__esModule?e:{default:e}}t.default=u.default.connectStores([i.default,s.default],function(){return{hasLoadedExperiments:i.default.hasLoadedExperiments,defaultRoute:s.default.defaultRoute}})(function(e){var t=e.hasLoadedExperiments,n=e.defaultRoute;return t?o(a.Redirect,{to:n}):null}),e.exports=t.default},6277:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=n(0),a=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var i=o.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",s=o.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json";t.default={checkIncidents:function(){Promise.all([a.default.get(i+"/active.json"),a.default.get(s)]).then(function(e){var t=e[0],n=e[1],a=t.body.scheduled_maintenances[0],u=n.body.incidents[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_INCIDENT,incident:u||a})})},checkScheduledMaintenances:function(){a.default.get(i+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}},e.exports=t.default},6397:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselWithPreview=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.normalizeIndex=h;var u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),s=f(n(189)),l=f(n(959)),c=f(n(5790));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={tension:7,friction:5,overshootClamping:!0};function h(e,t){return(e%t+t)%t}var E=t.CarouselWithPreview=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.animatedIndex=new s.default.Value(r.props.currentIndex),r.animatedOpacity=new s.default.Value(1),r.getItemStyle=function(){var e=r.props.itemSize,t=e.width;return{flexBasis:t,marginRight:e.margin,height:e.height,width:t}},r.interpolateValueForItem=function(e){return r.animatedIndex.interpolate({inputRange:[e-1,e,e+1],outputRange:[0,1,0],extrapolate:"clamp"})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.currentIndex,r=t.items,o=h(n,r.length),a=h(e.currentIndex,r.length);o===a&&r.length===e.items.length||this.updateAnimatedIndex(o,a)},t.prototype.getCarouselTranslate=function(){var e=this.props,t=e.width,n=e.itemSize,r=e.edgeItems,o=(t-n.width)/2;return r*(n.width+n.margin)-o},t.prototype.animateToIndex=function(e,t){var n=this.animatedIndex,r=this.props.items;0===e&&t===r.length-1?n.setValue(-1):0===t&&e===r.length-1&&r.length>2&&n.setValue(r.length),s.default.spring(n,a({},p,{toValue:e})).start()},t.prototype.updateAnimatedIndex=function(e,t){var n=this.animatedIndex,r=this.animatedOpacity;this.props.animate?this.animateToIndex(e,t):s.default.timing(r,{fromValue:1,toValue:0,duration:100}).start(function(){n.setValue(e),s.default.timing(r,{fromValue:0,toValue:1,duration:100}).start()})},t.prototype.renderSingleItem=function(){var e=this.props,t=e.renderItem,n=e.items,r=e.itemSize,a=e.className;return o("div",{className:(0,i.default)(c.default.singleItemWrapper,c.default.viewport,a)},void 0,o("div",{className:c.default.singleItem,style:{width:r.width,height:r.height}},void 0,t(n[0],0)))},t.prototype.renderCarouselItems=function(){var e=this,t=this.animatedIndex,n=this.animatedOpacity,r=this.props,a=r.renderItem,u=r.items,i=r.itemSize,l=r.edgeItems,f=i.margin,d=i.width,p=this.getCarouselTranslate(),h=this.getItemStyle(),E=[].concat(u.slice(-l),u,u.slice(0,l)).map(function(t,n){return o("div",{style:h,className:c.default.item},n,a(t,n-l,e.interpolateValueForItem(n-l)))});return o(s.default.div,{className:c.default.carousel,style:{opacity:n,left:t.interpolate({inputRange:[0,1],outputRange:[-p,-f-d-p]})}},void 0,E)},t.prototype.render=function(){var e=this.props,t=e.items,n=e.className;if(t.length<=0)throw new Error("Carousel has no items");return 1===t.length?this.renderSingleItem():o("div",{className:(0,i.default)(c.default.viewport,n)},void 0,this.renderCarouselItems())},t}(u.Component);E.defaultProps={animate:!0,edgeItems:2},t.default=(0,l.default)(E)},6398:function(e,t,n){"use strict";t.__esModule=!0,t.PremiumApplicationsCarousel=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=N(n(9)),s=n(56),l=N(n(189)),c=N(n(3)),f=n(551),d=n(264),p=N(n(27)),h=N(n(525)),E=N(n(948)),y=N(n(64)),_=n(6034),T=N(n(40)),S=N(n(6397)),m=n(527),v=N(n(522)),g=N(n(959)),A=N(n(6)),R=n(0),I=N(n(5789));function N(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=200,P={width:280,height:220,margin:10},L=function(e){function t(){var n,r;O(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=C(this,e.call.apply(e,[this].concat(i))),r.state={currentIndex:0},r.resizeTimer=new s.Timeout,r._carousel=u.createRef(),r.renderItem=function(e,t,n){var o=r.props,u=o.onApplicationClick,i=o.skuMap,s=o.storeListingMap,l=i[e.skuId],c=s[e.skuId];return a(d.Link,{to:{pathname:R.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug),state:{analyticsLocation:R.AnalyticsLocations.APPLICATION_STORE_PREMIUM_CAROUSEL}},className:I.default.premiumItem,onClick:function(){return null!=u&&u(e)}},void 0,null!=c.thumbnail?a("img",{className:I.default.carouselItemImage,src:(0,m.getAssetUrl)(l.applicationId,c.thumbnail,b),alt:l.name}):null,r.renderItemSummary(e,n))},C(r,n)}return M(t,e),t.prototype.componentDidMount=function(){var e=this;this.resizeTimer.start(500,function(){null!=e._carousel.current&&e._carousel.current.triggerResize()})},t.prototype.componentWillUnmount=function(){this.resizeTimer.stop()},t.prototype.renderItemSummary=function(e,t){return this.props.large?a("div",{className:I.default.carouselGameBlurbLarge},void 0,e.tagline):a(l.default.div,{className:I.default.carouselGameBlurbSmall,style:{opacity:t}},void 0,e.tagline)},t.prototype.render=function(){var e=this,t=this.props.hasFetchedAllStoreListings,n=this.state.currentIndex;return t?a("div",{className:I.default.carouselButtonsContainer},void 0,u.createElement(S.default,{className:I.default.carousel,items:this.props.items,itemSize:P,renderItem:this.renderItem,currentIndex:n,animate:!0,edgeItems:3,ref:this._carousel}),a(_.CarouselPrevious,{onClick:function(){return e.setState({currentIndex:e.state.currentIndex-1})},className:I.default.arrow}),a(_.CarouselNext,{onClick:function(){return e.setState({currentIndex:e.state.currentIndex+1})},className:I.default.arrow})):null},t}(u.Component),w=t.PremiumApplicationsCarousel=c.default.connectStores([p.default,h.default,E.default],function(e){var t=!0,n={},r={},o=e.items,a=Array.isArray(o),u=0;for(o=a?o:o[Symbol.iterator]();;){var i;if(a){if(u>=o.length)break;i=o[u++]}else{if((u=o.next()).done)break;i=u.value}var s=i,l=h.default.get(s.skuId);if(null==l){t=!1;break}var c=E.default.getForSKU(l.id);if(null==c){t=!1;break}n[s.skuId]=l,r[s.skuId]=c}return{hasFetchedAllStoreListings:t,skuMap:n,storeListingMap:r}})(L),F=(0,g.default)(function(e){var t=e.width,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["width"]);return u.createElement(w,o({},n,{large:t>680}))}),D=function(e){function t(){var n,r;O(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.state={hasSeen:!1},r.handleVisibilityChange=function(e){e&&!r.state.hasSeen&&r.setState({hasSeen:e})},r.handleGoToPremium=function(){r.props.isAuthenticated?v.default.open(R.UserSettingsSections.PREMIUM):window.location=R.WebRoutes.NITRO},C(r,n)}return M(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.items,r=this.state.hasSeen,o=(0,i.default)(I.default.premium,t);return a(f.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!r},void 0,a("div",{className:o},void 0,a("h2",{className:I.default.premiumHeader},void 0,A.default.Messages.APPLICATION_STORE_PREMIUM_NOTICE_HEADER),a("h3",{className:I.default.premiumSubheader},void 0,A.default.Messages.APPLICATION_STORE_PREMIUM_NOTICE_SUBHEADER),r?a(F,{items:n}):a("div",{className:I.default.carouselPlaceholder}),a(T.default,{className:I.default.buttonContainer,justify:T.default.Justify.CENTER,wrap:T.default.Wrap.WRAP},void 0,a(y.default,{look:y.default.Looks.INVERTED,hover:y.default.Hovers.GREY,className:I.default.learnMoreButton,onClick:this.handleGoToPremium},void 0,A.default.Messages.APPLICATION_STORE_PREMIUM_NOTICE_LEARN_MORE))))},t}(u.PureComponent);t.default=D},6413:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(166)),s=p(n(64)),l=p(n(40)),c=p(n(87)),f=p(n(79)),d=p(n(5821));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({SMALL:null,MEDIUM:null,LARGE:null}),E=((o={})[h.SMALL]=d.default.dropdownSmall,o[h.MEDIUM]=d.default.dropdownMedium,o[h.LARGE]=d.default.dropdownLarge,o),y=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,o=e.dropdownSize,i=void 0===o?h.MEDIUM:o,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return u.createElement(s.default,p,a(l.default,{align:l.default.Align.CENTER},void 0,a(l.default.Child,{className:r},void 0,n),null!=t?a(c.default,{className:E[i],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,a("div",{className:d.default.arrowSeparator}),a(f.default,{name:f.default.Names.ARROW_DROP_DOWN,className:d.default.dropdownArrow})):null))};y.DropdownSizes=h,y.Sizes=s.default.Sizes,y.Colors=s.default.Colors,y.Looks=s.default.Looks,t.default=y,e.exports=t.default},6435:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultKeyBinding=void 0,t.createEntity=E,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var o=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",o)).set("focusOffset",o)},t.updateContent=y,t.deleteContent=function(e,t){switch(e){case"delete":return(0,s.default)(t);case"delete-word":return(0,u.default)(t);case"backspace":return(0,i.default)(t);case"backspace-word":return(0,a.default)(t);case"backspace-to-start-of-line":return(0,o.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,l.default)(t);case"move-selection-to-start-of-block":return(0,c.default)(t);case"move-selection-to-end-of-block":return(0,f.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=_,t.applyTokensAsEntities=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCurrentContent(),o=r.getFirstBlock(),a=o.getText(),u=[];return o.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(o.getEntityAt(e)).getType(),i=a.substring(e,t);u.push({processed:!1,type:n,start:e,end:t,text:i})}),e.forEach(function(e){var r=!1;if(u.forEach(function(n){var o=e.type,a=e.start,u=e.end,i=e.getFullMatch();n.processed||(n.type===o&&n.start===a&&n.text===i?(n.processed=!0,r=!0):(a>=n.start&&a<n.end||u>n.start&&u<=n.end)&&(n.processed=!0,t=E(null,n.start,n.end,t)))}),!r){var o=n[e.type];t=E([e.type,o&&o.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),u.forEach(function(e){e.processed||(t=E(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset,a=void 0,u=void 0,i=e.find(function(t,n){return r>=t.start&&r<=t.end&&o>=t.start&&o<=t.end?(e[n+1]&&(u=e[n+1]),!0):(a=t,!1)});if(!i)return null;return{previousToken:a,currentToken:i,nextToken:u}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=_(t);return y(e,t,0,n.length)},t.appendSpace=function(e){var t=_(e);return y(" ",e,t.length)},t.setCollapsedSelection=T,t.setCollapsedEndSelection=function(e){return T(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return T(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=_(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=_(e);if(n.length>t){var o=e.getSelection();e=y("",e,t,n.length),o.getAnchorOffset()>t&&(o=o.set("anchorOffset",t)),o.getFocusOffset()>t&&(o=o.set("focusOffset",t)),e=r.EditorState.forceSelection(e,o)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],o=e.getClientRects()[0];if(!r||!o)return;var a=r.left-o.left+e.scrollLeft;a<e.scrollLeft?e.scrollLeft=a-10:a>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=a-e.offsetWidth+3)},t.isEmpty=function(e){return 0===_(e).length};var r=n(6469),o=h(n(6451)),a=h(n(6448)),u=h(n(6446)),i=h(n(6442)),s=h(n(6441)),l=h(n(6440)),c=h(n(6443)),f=h(n(6444)),d=h(n(6098)),p=h(n(6214));function h(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,o){var a,u=o.getCurrentContent(),i=null;null!=e&&(i=(u=(a=u).createEntity.apply(a,e)).getLastCreatedEntityKey());var s=u.getFirstBlock(),l=new r.SelectionState({anchorKey:s.getKey(),anchorOffset:t,focusKey:s.getKey(),focusOffset:n});return u=r.Modifier.applyEntity(u,l,i),r.EditorState.set(o,{currentContent:u})}function y(e,t,n,o){var a=void 0,u=t.getCurrentContent(),i=u.getFirstBlock(),s=i.getText();"number"==typeof n?(n>s.length&&(n=s.length),o>s.length&&(o=s.length),a=new r.SelectionState({anchorKey:i.getKey(),anchorOffset:n,focusKey:i.getKey(),focusOffset:o||n})):a=t.getSelection();var l=t.getCurrentInlineStyle(),c=(0,d.default)(u,a),f=void 0;return a.isCollapsed()?(u=r.Modifier.insertText(u,a,e,l,c),f="insert-characters"):(u=r.Modifier.replaceText(u,a,e,l,c),f="replace-characters"),r.EditorState.push(t,u,f)}function _(e){return e.getCurrentContent().getFirstBlock().getText()}function T(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}t.getDefaultKeyBinding=p.default},6474:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=d(n(9)),i=d(n(6)),s=d(n(87)),l=d(n(6102)),c=d(n(5865)),f=d(n(5563));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,d=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:o(s.default,{className:(0,u.default)(c.default.queryContainer,(t={},t[c.default.focused]=-1===a,t)),onMouseEnter:p,onClick:d},void 0,o("div",{className:c.default.queryText},void 0,i.default.Messages.SEARCH_FOR_VALUE.format({value:r})),o("div",{className:c.default.queryShortcut},void 0,o(l.default,{shortcut:"return",className:(0,u.default)(f.default.dim,f.default.keybindShortcutSearchPopout)})))},t.prototype.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,o=t.renderInitialState,a=t.renderResult,u=t.renderCustomResults;if(e)return o();if(0===n)return r();if(null!=a)return Array.from({length:n}).map(function(e,t){return a(t)});if(null!=u)return u();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},t.prototype.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return o("div",{className:c.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},t}(a.PureComponent);h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320},t.default=h,e.exports=t.default},6599:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(3)),a=h(n(2)),u=n(0),i=n(100),s=h(n(31)),l=h(n(368)),c=h(n(89)),f=h(n(65)),d=h(n(225)),p=h(n(58));function h(e){return e&&e.__esModule?e:{default:e}}var E=u.ThemeTypes.DARK,y=null;function _(){E=s.default.theme}function T(){y=f.default.getChannelId(d.default.getGuildId())}function S(e){return e.channelId===y}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,l.default,d.default,f.default,c.default),this.syncWith([s.default],_),this.syncWith([d.default,f.default,l.default],T)},r(t,[{key:"theme",get:function(){if(null!=y){var e=d.default.getGuildId(),t=c.default.isInChannel(e,y)&&(null!=e||c.default.hasVideo(e,y))&&p.default.supports(i.Features.VIDEO)?l.default.getLayout(y):null;return t===u.ChannelLayouts.NORMAL||t===u.ChannelLayouts.NO_CHAT?u.ThemeTypes.DARK:E}return E}}]),t}(o.default.Store);t.default=new m(a.default,{VOICE_STATE_UPDATE:S,CHANNEL_RTC_UPDATE_LAYOUT:S}),e.exports=t.default},6600:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(3)),o=u(n(2)),a=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var i=null,s=[a.DispatchErrors.REDISTRIBUTABLE_INSTALL_FAILED,a.DispatchErrors.POST_INSTALL_FAILED,a.DispatchErrors.POST_INSTALL_CANCELLED];var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLastError=function(){return i},t}(r.default.Store);t.default=new l(o.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=i&&s.includes(i.code)&&(i=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;i=t}}),e.exports=t.default},6601:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=B(n(3)),u=B(n(90)),i=B(n(25)),s=B(n(2)),l=n(0),c=B(n(11)),f=n(7425),d=B(n(536)),p=B(n(12)),h=B(n(226)),E=B(n(14)),y=B(n(6600)),_=B(n(1238)),T=B(n(58)),S=B(n(560)),m=B(n(6709)),v=B(n(26)),g=B(n(60)),A=B(n(144)),R=B(n(566)),I=B(n(988)),N=B(n(126)),O=B(n(376)),C=B(n(225)),M=B(n(6039)),b=B(n(7424)),P=B(n(89)),L=B(n(288)),w=B(n(68)),F=B(n(7421)),D=B(n(27)),k=B(n(525)),U=B(n(279)),H=B(n(1234)),x=n(1015),j=n(100);function B(e){return e&&e.__esModule?e:{default:e}}var G=["hideGDPRPrivacyUpdate"],W=((r={})[l.NoticeTypes.DOWNLOAD_NAG]="hideNag",r[l.NoticeTypes.CONNECT_FACEBOOK]="hideConnectFacebook",r[l.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",r[l.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",r[l.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",r[l.NoticeTypes.GDPR_PRIVACY_POLICY]="hideGDPRPrivacyUpdate",r),Y=new Set([l.NoticeTypes.NO_INPUT_DETECTED,l.NoticeTypes.STREAMER_MODE,l.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,l.NoticeTypes.SPOTIFY_AUTO_PAUSED,l.NoticeTypes.DISPATCH_ERROR,l.NoticeTypes.DISPATCH_ERROR,l.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),V={},K=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),z=null;function q(e){if(null!=e){var t=W[e];null!=t&&i.default.set(t,!0),Y.has(e)&&(V[e]=!0),e===l.NoticeTypes.PREMIUM_PROMO&&(0,x.setFlag)(l.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function Q(e){if(null==e)return!1;var t=W[e];return t?i.default.get(t):!!Y.has(e)&&V[e]}function $(){if(!O.default.isConnected())return!1;var e=p.default.getCurrentUser();z=null;var t=P.default.getCurrentVoiceChannelId(null,E.default.getId()),n=null!=t&&P.default.hasVideo(null,t),r=void 0,a=y.default.getLastError(),i=_.default.getLastProgress();if(null!=R.default.getRequest())z=o({},K,{type:l.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(h.default.isDisabled())z=o({},K,{type:l.NoticeTypes.VOICE_DISABLED});else if(!1===T.default.getInputDetected())z=o({},K,{type:l.NoticeTypes.NO_INPUT_DETECTED});else if(h.default.isConnected()&&T.default.isHardwareMute()){var s=T.default.getInputDeviceId(),v=S.default.getVendor(s),g=S.default.getModel(s);null!=v&&null!=g&&(z=o({},K,{type:l.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:v,model:g}}))}else if(null!=a)z=o({},K,{type:l.NoticeTypes.DISPATCH_ERROR,metadata:{error:a}});else if(null!=i)z=o({},K,{type:l.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:i});else if(L.default.wasAutoPaused())z=o({},K,{type:l.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!Q(l.NoticeTypes.GDPR_PRIVACY_POLICY)&&(0,f.isEligibleForGDPRNotice)(e))z=o({},K,{type:l.NoticeTypes.GDPR_PRIVACY_POLICY});else if(null!=e&&null==e.email)z=o({},K,{type:l.NoticeTypes.UNCLAIMED_ACCOUNT});else if(c.default.embedded&&!H.default.supported())z=o({},K,{type:l.NoticeTypes.CORRUPT_INSTALLATION});else if(!n||T.default.supports(j.Features.VIDEO)||Q(l.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(I.default.getDisplayType()===l.DetectedPlatformAccountsDisplayTypes.NOTICE)z=o({},K,{type:l.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:I.default.getDetectedAccounts()});else if(A.default.enabled)z=o({},K,{type:l.NoticeTypes.STREAMER_MODE});else if(c.default.embedded||Q(l.NoticeTypes.DOWNLOAD_NAG))if(r=m.default.getScheduledMaintenance())z=o({},K,{type:l.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:r.id,start:new Date(r.scheduled_for),end:new Date(r.scheduled_until)}});else if(null!=b.default.getSurveyExperiment()){var N=b.default.getMetaData(b.default.getSurveyExperiment());null!=N&&(z=o({},K,{type:l.NoticeTypes.SURVEY,metadata:N}))}else if(null==e||e.verified)if(I.default.hasAvailablePlatformType(l.PlatformTypes.FACEBOOK)&&!Q(l.NoticeTypes.CONNECT_FACEBOOK))z=o({},K,{type:l.NoticeTypes.CONNECT_FACEBOOK});else if(L.default.hasConnectedAccount()||!w.default.isObservedAppRunning(u.default.get(l.PlatformTypes.SPOTIFY).name)||Q(l.NoticeTypes.CONNECT_SPOTIFY))if(null==e||d.default.isPremium(e)||e.hasFlag(l.UserFlags.PREMIUM_PROMO_DISMISSED)||!F.default.isEligible()||Q(l.NoticeTypes.PREMIUM_PROMO))if(null==e||!e.mfaEnabled||e.hasFlag(l.UserFlags.MFA_SMS)||e.hasFlag(l.UserFlags.STAFF)||e.hasFlag(l.UserFlags.PARTNER)||Q(l.NoticeTypes.MFA_SMS_BACKUP)){if(null!=U.default.testModeApplicationId){var C=U.default.testModeApplicationId,M=D.default.getGame(C),x=null!=M?M.name:C;z=o({},K,{type:l.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:x,applicationId:C,skus:k.default.getForApplication(C)}})}}else z=o({},K,{type:l.NoticeTypes.MFA_SMS_BACKUP});else z=o({},K,{type:l.NoticeTypes.PREMIUM_PROMO});else z=o({},K,{type:l.NoticeTypes.CONNECT_SPOTIFY});else z=o({},K,{type:l.NoticeTypes.UNVERIFIED_ACCOUNT});else z=o({},K,{type:l.NoticeTypes.DOWNLOAD_NAG});else z=o({},K,{type:l.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});null!=z&&Q(z.type)&&(z=null)}function J(){return A.default.enabled||delete V[l.NoticeTypes.STREAMER_MODE],$()}var X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([b.default,R.default,F.default],$),this.waitFor(p.default,m.default,v.default,g.default,h.default,T.default,A.default,N.default,C.default,M.default,R.default,I.default,L.default,w.default,F.default,y.default,_.default,U.default)},t.prototype.hasNotice=function(){return null!=z&&null!=z.type},t.prototype.getNotice=function(){return null==M.default.getAction()?z:null},t}(a.default.Store);t.default=new X(s.default,{CONNECTION_OPEN:function(e){return $()},CURRENT_USER_UPDATE:function(e){return $()},AUDIO_ENABLE:function(e){return $()},VOICE_CHANNEL_CLEAR:function(e){return $()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return $()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return $()},GUILD_CREATE:function(e){return $()},GUILD_DELETE:function(e){return $()},AUDIO_INPUT_DETECTED:function(e){return $()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return $()},CERTIFIED_DEVICES_SET:function(e){return $()},AUDIO_SET_INPUT_DEVICE:function(e){return $()},AUDIO_SET_OUTPUT_DEVICE:function(e){return $()},MEDIA_ENGINE_DEVICES:function(e){return $()},RTC_CONNECTION_STATE:function(e){return $()},RPC_APP_AUTHENTICATED:function(e){return $()},RPC_APP_DISCONNECTED:function(e){return $()},PLATFORM_ACCOUNTS_DETECTED:function(e){return $()},PLATFORM_ACCOUNTS_IGNORE:function(e){return $()},USER_CONNECTIONS_UPDATE:function(e){return $()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return $()},WINDOW_FOCUS:function(e){return $()},INSTANT_INVITE_CREATE:function(e){return $()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return $()},SPOTIFY_PLAYER_PAUSE:function(e){return $()},RUNNING_GAMES_CHANGE:function(e){return $()},EXPERIMENTS_FETCH_SUCCESS:function(e){return $()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return $()},PREMIUM_CODE_ACTIVATION_SUCCESS:function(e){return $()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return $()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return $()},DEVELOPER_TEST_MODE_RESET:function(e){return $()},VOICE_STATE_UPDATE:function(e){return e.userId===E.default.getId()&&$()},STREAMER_MODE_UPDATE:function(e){return J()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return J()},DISPATCH_APPLICATION_ERROR:function(e){return delete V[l.NoticeTypes.DISPATCH_ERROR],$()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete V[l.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],$()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return $()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return $()},NOTICE_SHOW:function(e){z=e.notice},NOTICE_DISMISS:function(e){return null!=z&&(null==e.id||e.id===z.id)&&(q(z.type),$())},NOTICE_DISABLE:function(e){return q(e.noticeType),$()},LOGOUT:function(e){G.forEach(function(e){return i.default.remove(e)})}}),e.exports=t.default},6618:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=x(n(55)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),x(n(43))),i=x(n(9)),s=x(n(8)),l=x(n(57)),c=x(n(966)),f=x(n(3)),d=x(n(230)),p=x(n(271)),h=x(n(145)),E=x(n(41)),y=x(n(267)),_=x(n(957)),T=x(n(6069)),S=x(n(223)),m=x(n(64)),v=x(n(1021)),g=x(n(87)),A=x(n(6)),R=x(n(191)),I=x(n(31)),N=x(n(6601)),O=x(n(20)),C=x(n(124)),M=x(n(276)),b=x(n(65)),P=x(n(6067)),L=x(n(365)),w=x(n(18)),F=x(n(26)),D=x(n(971)),k=n(0),U=x(n(5870)),H=x(n(5571));function x(e){return e&&e.__esModule?e:{default:e}}var j=o(_.default,{}),B=o(_.default,{}),G=(0,u.default)({displayName:"MessagesPopout",mixins:[f.default.StoreListenerMixin(I.default,R.default,N.default,p.default),d.default,l.default,D.default],statics:{EmptyStateCenter:function(e){var t=e.msg,n=e.image;return o("div",{className:U.default.emptyPlaceholder},void 0,o("div",{className:U.default.image,style:{backgroundImage:"url("+n+")"}}),o("div",{className:U.default.body},void 0,t))},EmptyStateBottom:function(e){var t=e.msg,n=e.image;return o("div",{className:(0,i.default)(U.default.emptyPlaceholder,U.default.bottom)},void 0,o("div",{className:U.default.body},void 0,t),o("div",{className:U.default.image,style:{backgroundImage:"url("+n+")"}}))},Header:function(e){var t=e.title,n=e.children,r=e.className;return o("div",{className:(0,i.default)(U.default.header,H.default.header,r)},void 0,o("div",{className:(0,i.default)(U.default.title,H.default.title)},void 0,t),n)}},propTypes:{onFetch:a.default.func.isRequired,channel:a.default.instanceOf(C.default),messages:a.default.arrayOf(a.default.instanceOf(M.default)),loading:a.default.bool.isRequired,analyticsName:a.default.string.isRequired,renderEmptyState:a.default.func.isRequired,renderHeader:a.default.func.isRequired,hasMore:a.default.bool,onCloseMessage:a.default.func,onJump:a.default.func,loadMore:a.default.func,showChannels:a.default.bool,showGuildNames:a.default.bool,canCloseAllMessages:a.default.bool},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},getSubscriptions:function(){var e;return(e={})[k.ComponentActions.SCROLL_PAGE_DOWN]=this.scrollPageDown,e[k.ComponentActions.SCROLL_PAGE_UP]=this.scrollPageUp,e},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){O.default.track(k.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},getStateFromStores:function(){var e=N.default.hasNotice(),t=I.default.inlineAttachmentMedia,n=I.default.inlineEmbedMedia,r=I.default.renderEmbeds,o=I.default.developerMode,a=I.default.messageDisplayCompact,u=this.props.channel?p.default.getMessages(this.props.channel.id):null,i=!!u&&(u.loadingMore&&!u.get(u.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:r,developerMode:o,messageDisplayCompact:a,isNoticeOpen:e,size:R.default.windowSize(),jumping:i}},renderControlButtons:function(e){var t=this,n=e.channel,r=e.messages[0],a=this.state.jumping,u=null;this.props.onCloseMessage&&(this.props.canCloseAllMessages||n.isPrivate()||this.can(k.Permissions.MANAGE_MESSAGES,n))&&(u=o(m.default,{look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:this.props.onCloseMessage.bind(null,r)},void 0,o("div",{className:U.default.closeButton})));var s=o(g.default,{className:U.default.jumpButton,onClick:function(e){return t.jumpTo(r,e)}},void 0,o("div",{className:(0,i.default)(U.default.text,{hidden:a})},void 0,A.default.Messages.JUMP),o(_.default,{type:"pulsing-ellipsis",className:(0,i.default)(U.default.loading,{visible:a})}));return o("div",{className:U.default.actionButtons},void 0,s,u)},jumpTo:function(e,t){var n=e.id,r=e.blocked,o=e.author,a=e.channel_id;if(r)y.default.show({title:A.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:A.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:o.username}),confirmText:A.default.Messages.OKAY});else if(!this.state.jumping){var u=w.default.getChannel(a);u&&(h.default.trackJump(a,n,this.props.analyticsName),E.default.transitionTo(k.Routes.MESSAGE(u.getGuildId(),a,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==b.default.getChannelId()&&L.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,r=this.props,a=r.messages,u=r.loading,l=r.channel,f=r.className;if(a)if(0===a.length)t=this.props.renderEmptyState(I.default.theme);else{n=!1,t=[];var d=this.props.showChannels?null:l,p=this.state,h=p.renderEmbeds,E=p.inlineEmbedMedia,y=p.inlineAttachmentMedia;s.default.each(a,function(n){if(e.props.showChannels&&(null==d||d.id!==n.channel_id)){d=w.default.getChannel(n.channel_id);var r=F.default.getGuild(d.getGuildId());t.push(o("div",{className:U.default.channelSeparator},""+n.id+d.id,o(g.default,{tag:"span",className:U.default.channelName,onClick:e.selectChannel.bind(null,d.id)},void 0,d?d.toString(!0):"???"),e.props.showGuildNames&&o("span",{className:U.default.guildName},void 0,r?r.toString():"")))}var a=d.isNSFW()?P.default.didAgree(d.getGuildId()):null;if(null!=n){var u=o("div",{className:U.default.messageGroupWrapper},n.id,o("div",{className:U.default.messageGroupWrapperOffsetCorrection},void 0,o(T.default,{cozyClassName:U.default.messageGroupCozy,messages:[n],channel:d,inlineAttachmentMedia:y&&null!=a?a:y,inlineEmbedMedia:E&&null!=a?a:E,renderEmbeds:h&&null!=a?a:h,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:S.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:A.default.Messages.JUMP,accessoriesClassName:U.default.accessories})));t.push(u)}})}else t=o("div",{className:(0,i.default)(U.default.emptyPlaceholder,U.default.loadingPlaceholder)},void 0,j);var _=null;t.length>0&&this.props.loadMore&&(_=u?o("div",{className:U.default.loadingMore},"loading-more-after",B):this.props.hasMore?o("div",{className:U.default.hasMore},"has-more-after",o("button",{type:"button",onClick:this.props.loadMore,className:U.default.hasMoreButton},void 0,A.default.Messages.LOAD_MORE_MESSAGES)):o("div",{className:U.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(I.default.theme)));var m=this.props.getProTip&&this.props.getProTip(),R=n&&m?o("div",{className:(0,i.default)(H.default.footer,U.default.footer)},void 0,o(v.default,{style:{width:"100%",paddingTop:10}},void 0,m)):null,N={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(N.maxHeight-=40);var O="light"===I.default.theme?null:I.default.theme,C=this.props.loadMore&&this.props.hasMore;return o("div",{className:(0,i.default)(U.default.messagesPopoutWrap,H.default.themedPopout,f),style:N},void 0,this.props.renderHeader(),o(c.default,{className:U.default.messagesPopout,theme:O,setRef:this.setScrollerRef,onScroll:C?this.handleScroll:void 0},void 0,t,_),R)}});t.default=G,e.exports=t.default},6619:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var u=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function i(e){u=e.type}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return u},t}(r.default.Store);t.default=new s(o.default,{CHECKING_FOR_UPDATES:i,UPDATE_NOT_AVAILABLE:i,UPDATE_AVAILABLE:i,UPDATE_MANUALLY:i,UPDATE_ERROR:i,UPDATE_DOWNLOADED:i}),e.exports=t.default},6709:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=(n(0),i(n(25))),u=i(n(6277));function i(e){return e&&e.__esModule?e:{default:e}}var s="MaintenanceStore",l=null,c=null,f=null;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){f=a.default.get(s)},t.prototype.getIncident=function(){return l},t.prototype.getScheduledMaintenance=function(){return null!=c&&c.id!==f?c:null},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(){l=null,u.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){l=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){c=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(){f=c.id,a.default.set(s,f)}}),e.exports=t.default},7299:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5863)),i=(o=u)&&o.__esModule?o:{default:o};function s(e,t){var n=e.children;return a("span",{className:t},void 0,n)}t.Filter=function(e){return s(e,i.default.searchFilter)},t.Answer=function(e){return s(e,i.default.searchAnswer)}},7300:function(e,t,n){"use strict";var r;t.__esModule=!0,t.Components=void 0,t.matchColonGroup=p,t.generateDecorators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return p(r,e,t,n)},component:d[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,o){var a=e[o];r.push(t.getFullMatch()),f.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(a&&a.type!==l.default.NON_TOKEN_TYPE||!a)&&(n=!0,r.push(" "))}),!n)return t;return(0,a.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset;return(0,i.getSelectionScope)(e,r,o)};var o,a=n(6435),u=n(6065),i=n(6066),s=n(6103),l=(o=s)&&o.__esModule?o:{default:o},c=n(7299),f=n(0);var d=t.Components=((r={})[u.ComponentTypes.FILTER]=c.Filter,r[u.ComponentTypes.ANSWER]=c.Answer,r);function p(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}},7409:function(e,t,n){var r={"./af":6597,"./af.js":6597,"./ar":6596,"./ar-dz":6595,"./ar-dz.js":6595,"./ar-kw":6594,"./ar-kw.js":6594,"./ar-ly":6593,"./ar-ly.js":6593,"./ar-ma":6592,"./ar-ma.js":6592,"./ar-sa":6591,"./ar-sa.js":6591,"./ar-tn":6590,"./ar-tn.js":6590,"./ar.js":6596,"./az":6589,"./az.js":6589,"./be":6588,"./be.js":6588,"./bg":6587,"./bg.js":6587,"./bm":6586,"./bm.js":6586,"./bn":6585,"./bn.js":6585,"./bo":6584,"./bo.js":6584,"./br":6583,"./br.js":6583,"./bs":6582,"./bs.js":6582,"./ca":6581,"./ca.js":6581,"./cs":6580,"./cs.js":6580,"./cv":6579,"./cv.js":6579,"./cy":6578,"./cy.js":6578,"./da":6577,"./da.js":6577,"./de":6576,"./de-at":6575,"./de-at.js":6575,"./de-ch":6574,"./de-ch.js":6574,"./de.js":6576,"./dv":6573,"./dv.js":6573,"./el":6572,"./el.js":6572,"./en-au":6571,"./en-au.js":6571,"./en-ca":6570,"./en-ca.js":6570,"./en-gb":6569,"./en-gb.js":6569,"./en-ie":6568,"./en-ie.js":6568,"./en-il":6567,"./en-il.js":6567,"./en-nz":6566,"./en-nz.js":6566,"./eo":6565,"./eo.js":6565,"./es":6564,"./es-do":6563,"./es-do.js":6563,"./es-us":6562,"./es-us.js":6562,"./es.js":6564,"./et":6561,"./et.js":6561,"./eu":6560,"./eu.js":6560,"./fa":6559,"./fa.js":6559,"./fi":6558,"./fi.js":6558,"./fo":6557,"./fo.js":6557,"./fr":6556,"./fr-ca":6555,"./fr-ca.js":6555,"./fr-ch":6554,"./fr-ch.js":6554,"./fr.js":6556,"./fy":6553,"./fy.js":6553,"./gd":6552,"./gd.js":6552,"./gl":6551,"./gl.js":6551,"./gom-latn":6550,"./gom-latn.js":6550,"./gu":6549,"./gu.js":6549,"./he":6548,"./he.js":6548,"./hi":6547,"./hi.js":6547,"./hr":6546,"./hr.js":6546,"./hu":6545,"./hu.js":6545,"./hy-am":6544,"./hy-am.js":6544,"./id":6543,"./id.js":6543,"./is":6542,"./is.js":6542,"./it":6541,"./it.js":6541,"./ja":6540,"./ja.js":6540,"./jv":6539,"./jv.js":6539,"./ka":6538,"./ka.js":6538,"./kk":6537,"./kk.js":6537,"./km":6536,"./km.js":6536,"./kn":6535,"./kn.js":6535,"./ko":6534,"./ko.js":6534,"./ky":6533,"./ky.js":6533,"./lb":6532,"./lb.js":6532,"./lo":6531,"./lo.js":6531,"./lt":6530,"./lt.js":6530,"./lv":6529,"./lv.js":6529,"./me":6528,"./me.js":6528,"./mi":6527,"./mi.js":6527,"./mk":6526,"./mk.js":6526,"./ml":6525,"./ml.js":6525,"./mn":6524,"./mn.js":6524,"./mr":6523,"./mr.js":6523,"./ms":6522,"./ms-my":6521,"./ms-my.js":6521,"./ms.js":6522,"./mt":6520,"./mt.js":6520,"./my":6519,"./my.js":6519,"./nb":6518,"./nb.js":6518,"./ne":6517,"./ne.js":6517,"./nl":6516,"./nl-be":6515,"./nl-be.js":6515,"./nl.js":6516,"./nn":6514,"./nn.js":6514,"./pa-in":6513,"./pa-in.js":6513,"./pl":6512,"./pl.js":6512,"./pt":6511,"./pt-br":6510,"./pt-br.js":6510,"./pt.js":6511,"./ro":6509,"./ro.js":6509,"./ru":6508,"./ru.js":6508,"./sd":6507,"./sd.js":6507,"./se":6506,"./se.js":6506,"./si":6505,"./si.js":6505,"./sk":6504,"./sk.js":6504,"./sl":6503,"./sl.js":6503,"./sq":6502,"./sq.js":6502,"./sr":6501,"./sr-cyrl":6500,"./sr-cyrl.js":6500,"./sr.js":6501,"./ss":6499,"./ss.js":6499,"./sv":6498,"./sv.js":6498,"./sw":6497,"./sw.js":6497,"./ta":6496,"./ta.js":6496,"./te":6495,"./te.js":6495,"./tet":6494,"./tet.js":6494,"./tg":6493,"./tg.js":6493,"./th":6492,"./th.js":6492,"./tl-ph":6491,"./tl-ph.js":6491,"./tlh":6490,"./tlh.js":6490,"./tr":6489,"./tr.js":6489,"./tzl":6488,"./tzl.js":6488,"./tzm":6487,"./tzm-latn":6486,"./tzm-latn.js":6486,"./tzm.js":6487,"./ug-cn":6485,"./ug-cn.js":6485,"./uk":6484,"./uk.js":6484,"./ur":6483,"./ur.js":6483,"./uz":6482,"./uz-latn":6481,"./uz-latn.js":6481,"./uz.js":6482,"./vi":6480,"./vi.js":6480,"./x-pseudo":6479,"./x-pseudo.js":6479,"./yo":6478,"./yo.js":6478,"./zh-cn":6477,"./zh-cn.js":6477,"./zh-hk":6476,"./zh-hk.js":6476,"./zh-tw":6475,"./zh-tw.js":6475};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7409},7411:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=l(n(7410)),i=l(n(5));n(5867);var s=l(n(5866));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,i=e.value;return o("div",{className:s.default.calendarPicker},void 0,o(u.default,{fixedHeight:!0,inline:!0,selected:i,locale:a,onSelect:r,maxDate:n,minDate:t}))},t}(a.PureComponent);c.defaultProps={value:(0,i.default)().local()},t.default=c,e.exports=t.default},7412:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(3)),o=_(n(2)),a=n(6066),u=n(6065),i=_(u),s=_(n(60)),l=_(n(6018)),c=_(n(144)),f=_(n(951)),d=_(n(12)),p=_(n(6046)),h=_(n(6128)),E=_(n(6228)),y=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var T={},S={},m=10,v=3;function g(e,t,n,r,o,a){var u=S[e];return null==u&&(u={results:[],context:E.default.getSearchContext(function(e,t){var n=t.results,r=S[e],o=T[e];if(null==r||null==o)return;var a=o.mode,u=a.type,i=a.filter;if(u===y.SearchPopoutModes.EMPTY||u===y.SearchPopoutModes.FILTER&&i!==y.SearchTokenTypes.FILTER_FROM&&i!==y.SearchTokenTypes.FILTER_MENTIONS)return;var s=v;o.mode.type===y.SearchPopoutModes.FILTER&&(s=m);r.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;(e=e.reduce(function(e,t){var n=d.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,s);var l=o.query,c=o.mode,f=o.tokens,p=o.cursorScope,h=o.autocompletes;h=N(e,c),T[e]=g(e,l,c,f,p,h),b.emitChange()}.bind(null,e))},S[e]=u),{query:t||"",mode:n||{type:y.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:o||null,autocompletes:a||[]}}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if(!e)return null;var o=void 0;if(e===y.SearchTokenTypes.FILTER_FROM||e===y.SearchTokenTypes.FILTER_MENTIONS){var a=S[n];null==a?o=null:(null!=t&&0!==t.getFullMatch().trim().length||(a.results=p.default.getRecentlyTalked(n,m).map(function(e){var t=e.user;return{user:t,text:t.tag}})),o=a.results)}else{var u=i.default[e]&&i.default[e].getAutocompletions,s=(null!=t?t.getFullMatch():"").trim();o=u?u(s,n,r):[]}return o&&o.length?{group:e,results:o}:null}function R(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[y.SearchTokenTypes.FILTER_FROM]=!c.default.hidePersonalInformation,t[y.SearchTokenTypes.FILTER_MENTIONS]=!c.default.hidePersonalInformation,t[y.SearchTokenTypes.FILTER_HAS]=!0,t[y.SearchTokenTypes.FILTER_BEFORE]=!0,t[y.SearchTokenTypes.FILTER_AFTER]=!0,t[y.SearchTokenTypes.FILTER_ON]=!0,t[y.SearchTokenTypes.FILTER_IN]=l.default.getSearchType()===y.SearchTypes.GUILD,t),o=(0,u.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:y.SearchAutocompleteGroups.SEARCH_OPTIONS,results:o}}function I(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=l.default.getSearchType(e),n=[y.SearchTokenTypes.FILTER_HAS];return c.default.hidePersonalInformation||(n.push(y.SearchTokenTypes.FILTER_FROM),n.push(y.SearchTokenTypes.FILTER_MENTIONS)),t===y.SearchTypes.GUILD&&n.push(y.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(r){if(r){var o=A(r,e,t,v);o&&n.push(o)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=i.default[y.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),o=r[0],a=i.default[y.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),u=a[0],s=i.default[y.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),l=s[0];if(!o)return null;var c=[o,u,l];return{group:y.SearchAutocompleteGroups.DATES,results:c}}}(e,t))),(0,a.getTotalResults)(n)<5&&n.push(R(e)),n}function N(e,t){var n=[];return t.type===y.SearchPopoutModes.FILTER?n.push(A(t.filter,t.token,e,m)):t.type===y.SearchPopoutModes.FILTER_ALL?n=I(t.token,e):t.type===y.SearchPopoutModes.EMPTY&&(n.push(R(t.token)),n.push(function(e){if(c.default.hidePersonalInformation)return null;var t=l.default.getHistory(e);return t?{group:y.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function O(){(0,a.clearTokenCache)()}function C(e){var t=T[e];if(t){var n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope,u=t.autocompletes;T[e]=g(e,n,r,o,a,u.map(function(e){return e&&e.group===y.SearchAutocompleteGroups.HISTORY?null:e}))}}function M(){if(f.default.isOpen(y.SEARCH_POPOUT_ID)){var e=l.default.getCurrentSearchId();if(e&&T[e]){var t=T[e],n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope;T[e]=g(e,n,r,o,a,N(e,r))}}}var b=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,c.default,f.default)},t.prototype.getState=function(e){return T[e]||g(e)},t}(r.default.Store))(o.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!f.default.isOpen(y.SEARCH_POPOUT_ID))return!1;var o=(0,a.getQueryFromTokens)(n),u=(0,a.getAutocompleteMode)(r,n),i=T[t]||{},s=S[t],l=!0,c=void 0;if(o!==i.query||i.mode&&i.mode.filter!==u.filter){if(u.type===y.SearchPopoutModes.EMPTY||u.type===y.SearchPopoutModes.FILTER&&u.filter!==y.SearchTokenTypes.FILTER_FROM&&u.filter!==y.SearchTokenTypes.FILTER_MENTIONS)null!=s&&(s.context.clearQuery(),s.results=[]),c=N(t,u);else if(null!=s){var d=u.token;null!=d&&d.getFullMatch().trim().length>0?(h.default.requestMembers(t,d.getFullMatch(),m),s.context.setQuery(d.getFullMatch().trim(),{guild:t}),c=i.autocompletes,l=!1):(s.context.clearQuery(),c=N(t,u))}}else c=i.autocompletes,l=!1;return T[t]=g(t,o,u,n,r,c),l},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=S[t];null!=n&&(n.context.destroy(),n.results=[],delete S[t]),delete T[t]},CHANNEL_CREATE:function(e){return O()},CHANNEL_DELETE:function(e){return O()},STREAMER_MODE_UPDATE:function(e){return M()},POPOUT_OPEN:function(e){return M()},SEARCH_MODAL_OPEN:function(e){return M()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?C(t):Object.keys(T).forEach(C)},LOGOUT:function(e){Object.keys(T).forEach(C)}});t.default=b,e.exports=t.default},7413:function(e,t,n){"use strict";var r;t.__esModule=!0,t.GroupData=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=r;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=H(n(1)),s=U(n(43)),l=U(n(3)),c=U(n(57)),f=U(n(18)),d=U(n(225)),p=U(n(65)),h=U(n(60)),E=U(n(31)),y=n(6229),_=n(6025),T=U(n(79)),S=U(n(87)),m=U(n(9)),v=U(n(5)),g=n(143),A=U(n(7412)),R=U(n(7411)),I=U(n(6474)),N=U(n(142)),O=U(n(163)),C=n(6065),M=U(C),b=U(n(8)),P=H(n(6066)),L=U(n(523)),w=U(n(6)),F=n(6103),D=n(0),k=U(n(5864));function U(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var x=/^\s*$/,j=(0,v.default)("2015-05-15").local();var B=function(e,t,n){var r=n.user,o=n.text;if(!r)return u("strong",{},void 0,o);var a=h.default.getNick(e,r.id)||r.username,i=r.avatarURL||r.getAvatarURL();return[u("img",{alt:"",className:k.default.displayAvatar,src:i},"avatar-"+t+"-"+r.id),u("span",{className:k.default.displayedNick},"display-nick-"+t+"-"+r.id,a),u("span",{className:k.default.displayUsername},"display-username-"+t+"-"+r.id,o)]},G=function(e,t,n){var r=n.channel,o=f.default.getChannel(r.parent_id),a=(0,_.getIconNameForChannel)(r);return u("div",{className:k.default.resultChannel},void 0,null!=a?u(T.default,{name:a,className:k.default.searchResultChannelIcon,background:k.default.searchResultChannelIconBackground}):null,u("strong",{},void 0,r.toString()),null!=o?u("span",{className:k.default.searchResultChannelCategory},void 0,o.toString()):null)},W=function(e){var t,n=e.searchId,r=e.result,o=e.group,a=e.selected,i=e.className,s=e.onSelect,l=e.onFocus,c=e.showFilter,f=e.renderResult,d=void 0;c&&(d=u("span",{className:k.default.filter},void 0,M.default[o].key||"addme:"));var p=void 0;return p=f?f(n,o,r):u("strong",{},void 0,r.text),u(S.default,{className:(0,m.default)(k.default.option,i,(t={},t[k.default.selected]=a,t)),onClick:s,onMouseOver:l,onFocus:l},void 0,d,p,u(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))},Y=function(e){return i.createElement(W,a({},e,{className:k.default.user,renderResult:B}))},V=t.GroupData=((r={})[D.SearchTokenTypes.FILTER_FROM]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_FROM},component:Y},r[D.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:Y},r[D.SearchTokenTypes.FILTER_HAS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[D.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[D.SearchTokenTypes.FILTER_IN]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:function(e){return i.createElement(W,a({},e,{renderResult:G}))}},r[D.SearchAutocompleteGroups.DATES]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[D.SearchAutocompleteGroups.HISTORY]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return u(N.default,{text:w.default.Messages.SEARCH_CLEAR_HISTORY,position:N.default.Positions.LEFT},void 0,u(S.default,{onClick:function(){return(0,y.clearHistory)(t)},className:k.default.searchClearHistory,title:w.default.Messages.SEARCH_CLEAR_HISTORY},void 0,u(T.default,{name:T.default.Names.CLEAR_HISTORY})))},component:(0,s.default)({displayName:"component",mixins:[l.default.LazyStoreListenerMixin(f.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:P.tokenizeQuery(this.props.result.text).map(function(e,t,n){return P.filterHasAnswer(e,n[t+1])?e:new F.Token(e.getFullMatch(),F.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,r=t.onSelect,o=t.onFocus,a=this.state.tokens.map(function(e,t){var n,r=e.getFullMatch();if(x.test(r))return null;var o=D.IS_SEARCH_FILTER_TOKEN.test(e.type),a=D.IS_SEARCH_ANSWER_TOKEN.test(e.type),i=!o&&!a;return u("span",{className:(0,m.default)((n={},n[k.default.filter]=o,n[k.default.answer]=a,n[k.default.nonText]=i,n))},t,r)});return u(S.default,{className:(0,m.default)(k.default.option,k.default.history,(e={},e[k.default.selected]=n,e)),onClick:r,onMouseOver:o,onFocus:o},void 0,a,u(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))}})},r[D.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return u(N.default,{text:w.default.Messages.LEARN_MORE,position:N.default.Positions.LEFT},void 0,u("div",{className:k.default.searchLearnMore},void 0,u(O.default,{href:L.default.getArticleURL(D.HelpdeskArticles.USING_SEARCH),title:w.default.Messages.LEARN_MORE},void 0,u(T.default,{name:T.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,o=e.selected,a=e.onSelect,i=e.onFocus,s=P.getSearchOptionAnswer(r.token);return u(S.default,{className:(0,m.default)(k.default.option,k.default.searchOption,(t={},t[k.default.selected]=o,t)),onClick:a,onMouseOver:i,onFocus:i},void 0,u("span",{className:k.default.filter},void 0,r.text),u("span",{className:(0,m.default)((n={},n[k.default.answer]=s,n))},void 0,s),u(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))}},r),K=(0,s.default)({displayName:"SearchPopout",mixins:[c.default,l.default.LazyStoreListenerMixin(d.default,p.default,A.default,E.default)],getInitialState:function(){return a({dateHint:(0,C.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=d.default.getGuildId(),t=p.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var r=A.default.getState(n),o=this.state?this.state.selectedIndex:-1,u=P.getTotalResults(r.autocompletes);return a({locale:E.default.locale,searchId:n,selectedIndex:o,totalResults:u},r)},componentDidUpdate:function(e,t){var n=this.state,r=n.mode,o=n.totalResults;r.filter&&!t.mode.filter&&o?this.setState({selectedIndex:0}):r.type===D.SearchPopoutModes.FILTER_ALL&&t.mode.type!==r.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(D.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,r=t.selectedIndex,o=t.autocompletes,a=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===r||e.autocompletes.length!==o.length)){var u=P.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],i=P.getFlattenedStringArray(o,n.type).indexOf(u);-1!==i?this.setState({selectedIndex:i}):e.selectedIndex>=a&&this.setState({selectedIndex:a-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;P.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;P.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=P.getTotalResults(t)-1:n&&e>=P.getTotalResults(t)?e=-1:!n&&e>=P.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,r=t.mode;if(!P.showDatePicker(r.filter)){var o=P.getFlattenedStringArray(n,r.type);if(e>=o.length)return!1;var a=o[e],u=function(e){var t=!0;return e=e.trim(),(0,b.default)(M.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(a);return this.setSearchQuery(a,u),!0}},setSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.mode,o=n.cursorScope,a=0;r.token?a=r.token.start:o&&o.currentToken&&(a=o.currentToken.end);var u=r.token?r.token.end:a;g.ComponentDispatch.dispatch(D.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:a,focus:u,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==D.SearchPopoutModes.FILTER&&e.type!==D.SearchPopoutModes.EMPTY&&!P.showDatePicker(e.filter)},renderDatePicker:function(){return u("div",{className:k.default.datePicker},void 0,u(R.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,v.default)().local(),minDate:j}),u("div",{className:k.default.datePickerHint},void 0,u("span",{className:k.default.hint},void 0,w.default.Messages.SEARCH_DATE_PICKER_HINT,""),u(S.default,{tag:"span",className:k.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){g.ComponentDispatch.dispatch(D.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,r=t.selectedIndex,o=t.mode,a=t.searchId;if(P.showDatePicker(o.filter))return this.renderDatePicker();var i=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n=V[t.group]||{},s=void 0;n.titleText&&(s=u("div",{className:k.default.header},void 0,n.titleText()));var l=n.groupTip||null;l&&(l=u(l,{searchId:a}));var c=n.component||W,f=o.type===D.SearchPopoutModes.FILTER_ALL||!1;return u("div",{className:k.default.resultsGroup},t.group,s,l,t.results.map(function(n){return n&&t?(i+=1,u(c,{searchId:a,group:n.group||t.group,result:n,showFilter:f,selected:r===i,onSelect:e.selectOption.bind(null,i),onFocus:e.focusOption.bind(null,i)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,r=t.selectedIndex,o=t.totalResults;return u(I.default,{numResults:o,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:r,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=K},7415:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=f,t.shouldHighlight=d,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};var r=a(n(7414)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var u=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function i(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function s(e){return e.toLowerCase()}function l(e){return u.has(e)}function c(e){return 0===e.length}function f(e){return(0,o.default)(e.split(/\W+/)).map(i).reject(c).map(s).reject(l).map(r.default).value()}function d(e,t){return!c(e=s(i(e)))&&!l(e)&&t.has((0,r.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){d(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},7416:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(82)),o=a(n(276));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.create=function(e,n){var r=e.hit,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["hit"]),u=o.default.create(a,function(e){return r?n(e):e});return new t({hit:r,message:u})},t.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},t}(r.default);t.default=u,e.exports=t.default},7417:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(13)),o=u(n(148)),a=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCanceled=!1,this.searchId=t,this.searchType=n,this.query=r}return e.prototype.fetch=function(e,t,n){var u=this;if(!this.isCanceled){var i=this.searchType===a.SearchTypes.GUILD?a.Endpoints.SEARCH_GUILD:a.Endpoints.SEARCH_CHANNEL;this.searchId&&r.default.get({url:i(this.searchId),query:o.default.stringify(this.query)}).then(function(r){u.isCanceled||(200===r.status?e(r):202===r.status&&(u.query.attempts=(u.query.attempts||0)+1,u.retryDelay=r.body.retry_after||5e3,u.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},e.prototype.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},e.prototype.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=i,e.exports=t.default},7418:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=w(n(1)),u=L(n(9)),i=L(n(3)),s=L(n(6)),l=L(n(6104)),c=L(n(125)),f=L(n(65)),d=L(n(6018)),p=L(n(951)),h=L(n(18)),E=L(n(6599)),y=L(n(223)),_=L(n(87)),T=n(6023),S=L(n(7413)),m=n(6469),v=w(n(6229)),g=L(n(192)),A=n(0),R=w(n(6435)),I=w(n(6066)),N=w(n(7300)),O=n(143),C=L(n(194)),M=L(n(6103)),b=L(n(6065)),P=L(n(6213));function L(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n(5862),n(5861);var F=512,D=(0,P.default)(v.search,500),k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={focused:!1},r.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,o=e.focus,a=e.performSearch,u=e.replace,i=r.props.editorState,s=R.getFirstTextBlock(i);" "!==t.charAt(t.length-1)&&(t+=" "),n&&" "!==s.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),u?(i=R.replaceAllContent(t,i),n=0):i=R.updateContent(t,i,n,o),i=R.truncateContent(i,F),i=r.tokenize(i);var l=n+t.length;i=R.setCollapsedSelection(l,i),r.setEditorState(i),a&&r.search(R.getFirstTextBlock(i))},r.renderPopout=function(){return a.createElement(S.default,{ref:r.setSearchPopoutRef})},r.search=function(e){var t=r.props,n=t.searchId,o=t.isSearching;if(!e){var a=r.props.editorState;e=R.getFirstTextBlock(a)}if(n&&!o){for(var u=I.tokenizeQuery(e),i=I.getSearchQueryFromTokens(u),s=0;s<u.length;s++)I.filterHasAnswer(u[s],u[s+1])||(e=e.substring(0,u[s].start)+e.substring(u[s].end));if(!u.length||0===Object.keys(i).length)return!1;D(n,i,e),r.onBlur()}return!0},r.handleClearSearch=function(e){e.preventDefault(),e.stopPropagation(),r.clearSearch()},r.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&R.isEmpty(r.props.editorState)){var t=f.default.getChannelId(),n=h.default.getChannel(t);if(null==n||n.isPrivate())r.focusEditor();else{var o=c.default.getTextChannelNameDisambiguations(n.getGuildId())[n.id],a=null!=o?o.name:n.name;r.handleSetSearchQuery({query:b.default[A.SearchTokenTypes.FILTER_IN].key+"#"+a+" ",replace:!0})}}else r.focusEditor()},r.focusEditor=function(){r._editorRef&&r._editorRef.focus()},r.blurEditor=function(){r._editorRef&&r._editorRef.blur()},r.setEditorRef=function(e){r._editorRef=e},r.setPopoutRef=function(e){r._popoutRef=e},r.setSearchPopoutRef=function(e){r._searchPopoutRef=e},r.onFocus=function(){C.default.trackWithMetadata("search_opened"),r.setState({focused:!0})},r.onBlur=function(){r.setState({focused:!1},function(){g.default.close(A.SEARCH_POPOUT_ID),R.isEmpty(r.props.editorState)&&r.clearSearch()})},r.onDownArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusNextOption(),!0},r.onUpArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusPreviousOption(),!0},r.onTab=function(e){if(!A.EnableAccessibility)return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.selectOption(),!0},r.handleReturn=function(e){e.preventDefault();var t=!1;return r._searchPopoutRef&&(t=r._searchPopoutRef.selectOption()),t||r.search(),!0},r.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),r.blurEditor(),!0},r.handleBeforeInput=function(e){var t=r.props.editorState,n=r.state.focused;return R.getFirstTextBlock(t).length>=F||(t=R.updateContent(e,t),t=R.truncateContent(t,F),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0)},r.handleKeyCommand=function(e){var t=r.props.editorState,n=r.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=R.deleteContent(e,t),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=R.miscCommand(e,t),t=r.tokenize(t),r.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},r.handlePastedText=function(e){var t=r.props.editorState,n=r.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=R.updateContent(e,t),t=R.truncateContent(t,F),t=r.tokenize(t),n||r.setState({focused:!0}),r.setEditorState(t),!0},r.setEditorState=function(e){var t=r.props.searchId;v.setSearchState(t,e)},r.handleKeyBind=function(e){var t=e.key,n=e.metaKey,o=e.shiftKey,a=r.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&n?(e.preventDefault(),a=o?R.setToStartSelection(a):R.setCollapsedStartSelection(a),r.setEditorState(a),!0):"End"===t||"ArrowRight"===t&&n?(e.preventDefault(),a=o?R.setToEndSelection(a):R.setCollapsedEndSelection(a),r.setEditorState(a),!0):R.getDefaultKeyBinding(e)},I.clearTokenCache(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){O.ComponentDispatch.subscribe(A.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.subscribe(A.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.subscribe(A.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var o=I.tokenizeQuery(R.getFirstTextBlock(n)),a=N.getSelectionScope(o,n);v.updateAutocompleteQuery(r,o,a),this._editorRef&&R.scrollCursorIntoView(this._editorRef.refs.editor)}},t.prototype.componentWillUnmount=function(){O.ComponentDispatch.unsubscribe(A.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.unsubscribe(A.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.unsubscribe(A.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.tokenize=function(e){var t=I.tokenizeQuery(R.getFirstTextBlock(e)).filter(function(e){return e.type!==M.default.NON_TOKEN_TYPE});return R.applyTokensAsEntities(t,e,b.default)},t.prototype.clearSearch=function(){var e=this.props.searchId;e&&v.clearSearchState(e)},t.prototype.ensurePopoutIsOpen=function(){this._popoutRef&&!p.default.isOpen(A.SEARCH_POPOUT_ID)&&this._popoutRef.open()},t.prototype.handlePastedFiles=function(){return!0},t.prototype.handleDroppedFiles=function(){return!0},t.prototype.handleDrop=function(){return!0},t.prototype.renderInput=function(){var e=this.props.editorState;return a.createElement(m.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:s.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},t.prototype.render=function(){var e=this.props,t=e.searchId,n=e.editorState,r=e.hasResults,i=e.theme,s=e.className,l=this.state.focused,c=!!R.getFirstTextBlock(n).length;return t?a.createElement(y.default,{offsetX:-12,ref:this.setPopoutRef,uniqueId:A.SEARCH_POPOUT_ID,render:this.renderPopout,position:y.default.Positions.BOTTOM,toggleClose:!1,animationType:y.default.Animations.NONE,preventInvert:!0},o("div",{className:(0,u.default)(s,{"theme-dark":i===A.ThemeTypes.DARK})},void 0,o(_.default,{className:(0,u.default)("search",{focused:l}),onClick:this.focusEditor},void 0,o("div",{className:(0,u.default)("search-bar",{"search-bar-light":i===A.ThemeTypes.LIGHT})},t,this.renderInput(),o(T.SearchBarIcon,{handleClear:this.handleClearSearch,hasContent:c||r}))))):null},t}(a.PureComponent);t.default=i.default.connectStores([d.default,l.default,E.default],function(){var e=d.default.getCurrentSearchId();return{searchId:e,isSearching:!!e&&d.default.isSearching(e),editorState:e&&d.default.getEditorState(e)||R.createEmptyEditorState(N.generateDecorators(b.default)),hasResults:d.default.hasResults(e),theme:E.default.theme}})(k),e.exports=t.default},7419:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},7420:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},7421:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(3)),o=s(n(2)),a=s(n(167)),u=s(n(14)),i=s(n(59));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var l=10,c=15552e6,f=!1;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default)},t.prototype.isEligible=function(){return f},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return f!==(f=i.default.getFriendIDs().length>=l&&a.default.extractTimestamp(u.default.getId())<Date.now()-c)}}),e.exports=t.default},7422:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=f(n(3)),u=f(n(2)),i=f(n(534)),s=f(n(6)),l=f(n(126)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var p=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],d)},t.prototype.getExperimentId=function(){return c.Experiments.SURVEY_VOTER_REGISTRATION},t.prototype.getMetaData=function(){return{title:"Voter Registration Bar",description:["TREATMENT_1: Voter Registration CTA"]}},t.prototype.getSurveyMetaData=function(e){return e===c.ExperimentBuckets.TREATMENT_1?{id:this.getExperimentId(),url:c.SurveyUrls.VOTER_REGISTRATION,content:s.default.Messages.VOTER_REGISTRATION_PROMPT,button:s.default.Messages.VOTER_REGISTRATION_BUTTON}:null},t.prototype.getExperimentDescriptor=function(){return l.default.getEligibleExperiment(this.getExperimentId())},t}(a.default.Store))(u.default);i.default.register(p,((o={})[c.ExperimentTypes.USER]=((r={})[c.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=p,e.exports=t.default},7423:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=f(n(3)),u=f(n(2)),i=f(n(534)),s=f(n(6)),l=f(n(126)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var p=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],d)},t.prototype.getExperimentId=function(){return c.Experiments.SURVEY_DESKTOP_DEMOGRAPHICS},t.prototype.getMetaData=function(){return{title:"Demographic Survey",description:["TREATMENT_1: Platform Survey","TREATMENT_2: Communities Survey"]}},t.prototype.getSurveyMetaData=function(e){return e===c.ExperimentBuckets.TREATMENT_1?{id:this.getExperimentId(),url:c.SurveyUrls.PLATFORM,content:s.default.Messages.NOTICE_SURVEY_PROMPT,button:s.default.Messages.NOTICE_SURVEY_BUTTON}:e===c.ExperimentBuckets.TREATMENT_2?{id:this.getExperimentId(),url:c.SurveyUrls.COMMUNITIES,content:s.default.Messages.NOTICE_SURVEY_PROMPT,button:s.default.Messages.NOTICE_SURVEY_BUTTON}:null},t.prototype.getExperimentDescriptor=function(){return l.default.getEligibleExperiment(this.getExperimentId())},t}(a.default.Store))(u.default);i.default.register(p,((o={})[c.ExperimentTypes.USER]=((r={})[c.ExperimentBuckets.TREATMENT_1]=function(){return null},r[c.ExperimentBuckets.TREATMENT_2]=function(){return null},r),o)),t.default=p,e.exports=t.default},7424:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(2)),a=l(n(25)),u=l(n(126)),i=l(n(7423)),s=l(n(7422));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var c="surveys",f={},d=new Set([i.default,s.default]);function p(){Object.keys(f).length>0?a.default.set(c,f):a.default.remove(c)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default].concat(Array.from(d)),function(){return!0});var e=a.default.get(c)||{};d.forEach(function(t){var n=t.getExperimentId();e[n]&&(f[n]=!0)}),p()},t.prototype.getMetaData=function(e){if(null==e)return null;var t=e.name,n=e.bucket,r=Array.from(d).find(function(e){if(e.getExperimentId()===t)return!0});return null!=r?r.getSurveyMetaData(n):null},t.prototype.getSurveyExperiment=function(){var e=Array.from(d).find(function(e){return!f[e.getExperimentId()]&&null!=u.default.getEligibleExperiment(e.getExperimentId())});return null!=e?u.default.getEligibleExperiment(e.getExperimentId()):null},t}(r.default.Store);t.default=new h(o.default,{SURVEY_HIDE:function(e){var t=e.id;f[t]=!0,p()}}),e.exports=t.default},7425:function(e,t,n){"use strict";t.__esModule=!0,t.isEligibleForGDPRNotice=function(e){return null!=e&&(null==e.email||!e.verified)&&(t=new Date,t.getFullYear()<=2018&&t.getDate()<=25&&t.getMonth()<=5)&&function(e){return e.createdAt<15263424e5}(e);var t}},7502:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=n(0),a=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}t.default={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,a=e.everyoneFilter;r.default.dispatch({type:o.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:a})},truncateMentions:function(e){r.default.dirtyDispatch({type:o.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MAX_MENTIONS_PER_FETCH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r.default.dirtyDispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),a.default.get({url:o.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:u,everyone:i},retries:2}).then(function(t){var n=t.body;r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=o.MAX_MENTIONS_PER_FETCH})},function(){r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){a.default.delete({url:o.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),r.default.dispatch({type:o.ActionTypes.RECENT_MENTION_DELETE,id:e})}},e.exports=t.default},7503:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=T(n(8)),u=T(n(3)),i=T(n(2)),s=n(0),l=T(n(276)),c=T(n(18)),f=T(n(271)),d=T(n(14)),p=T(n(12)),h=T(n(225)),E=T(n(31)),y=T(n(59)),_=T(n(25));function T(e){return e&&e.__esModule?e:{default:e}}var S="recentMentionFilterSettings",m=[],v={},g=!1,A=!0,R=_.default.get(S,{guildFilter:s.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),I=!1,N=!1;function O(e){if(e instanceof l.default)return e;var t=f.default.getMessage(e.channel_id,e.id);return null!=t?t:l.default.create(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.type!==s.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=c.default.getChannel(t);if(!n||n&&n.type===s.ChannelTypes.DM)return null;if(R.guildFilter===s.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==h.default.getGuildId())return null;var r=e.author.id,o=d.default.getId();return y.default.isBlocked(r)||r===o?null:(e=O(e)).isMentioned(o,!R.everyoneFilter,!R.roleFilter)?e:null}function M(e){null!=v[e]&&(delete v[e],m=a.default.filter(m,function(t){return t.id!==e}))}function b(e){M(e.id)}function P(e){var t=o({},R);R=a.default.defaults(a.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),R),_.default.set(S,R);var n=function(e,n){return t[e]!==R[e]&&R[e]===n},r=n("guildFilter",s.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);v={};var u=[];r&&m.forEach(function(e){var t=C(e);t&&(u.push(t),v[t.id]=!0)}),0===(m=u).length&&(I=!1)}function L(){a.default.forEach(m,function(e){e.timestamp.locale(E.default.locale)})}function w(){m=m.filter(function(e){return!y.default.isBlocked(e.author.id)})}var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,c.default,f.default)},t.prototype.isOpen=function(){return N},t.prototype.getMentions=function(){return I||m.length?m:null},r(t,[{key:"hasLoadedEver",get:function(){return I}},{key:"loading",get:function(){return g}},{key:"hasMore",get:function(){return A}},{key:"guildFilter",get:function(){return R.guildFilter}},{key:"everyoneFilter",get:function(){return R.everyoneFilter}},{key:"roleFilter",get:function(){return R.roleFilter}}]),t}(u.default.Store);t.default=new F(i.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;g=!0,null==t&&R.guildFilter===s.RecentMentionsFilters.THIS_SERVER&&P({guildFilter:s.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,r=e.isAfter,o=a.default.map(n,O);r?m=m.concat(o):(m=o,v={}),a.default.forEach(o,function(e){v[e.id]=!0}),g=!1,A=t,I=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){g=!1},SET_RECENT_MENTIONS_FILTER:P,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<m.length;++n)delete v[m[n].id];m=m.slice(0,t),A=!0},GUILD_SELECT:function(e){R.guildFilter===s.RecentMentionsFilters.THIS_SERVER&&(I=!1)},CONNECTION_OPEN:function(e){return m=[],v={},void(I=!1)},GUILD_DELETE:function(e){var t=e.guild;m=a.default.filter(m,function(e){var n=c.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete v[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=C(e.message,t);if(!n)return!1;(m=m.slice()).unshift(n),v[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=v[t]){var n=a.default.findIndex(m,function(e){return e.id===t}),r=(m=m.slice())[n];m[n]=r.updateMessage(e.message)}},MESSAGE_DELETE:b,RECENT_MENTION_DELETE:b,MESSAGE_DELETE_BULK:function(e){var t=e.ids;a.default.forEach(t,M)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;m=a.default.filter(m,function(e){return e.channel_id!==t.id||(delete v[e.id],!1)})},RELATIONSHIP_ADD:function(e){return w()},RELATIONSHIP_REMOVE:function(e){return w()},MENTION_MODAL_OPEN:function(e){N=!0},MENTION_MODAL_CLOSE:function(e){N=!1}}),e.exports=t.default},7504:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=N(n(55)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=N(n(43)),l=N(n(9)),c=N(n(57)),f=N(n(3)),d=N(n(7503)),p=N(n(7502)),h=N(n(6)),E=N(n(6618)),y=n(0),_=n(6230),T=N(_),S=N(n(227)),m=N(n(195)),v=N(n(223)),g=N(n(124)),A=N(n(31)),R=N(n(197)),I=N(n(5868));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.guildFilter,r=t.roleFilter,o=t.everyoneFilter,a=t.messageId,u=void 0===a?null:a;n=void 0===n?d.default.guildFilter:n,r=void 0===r?d.default.roleFilter:r,o=void 0===o?d.default.everyoneFilter:o;var i=null;e&&(i=n===y.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),p.default.fetchRecentMentions(u,y.MAX_MENTIONS_PER_FETCH,i,r,o)}var C=(0,s.default)({displayName:"FilterPopout",propTypes:{channel:u.default.instanceOf(g.default)},mixins:[f.default.StoreListenerMixin(d.default),c.default],getStateFromStores:function(){return{everyoneFilter:d.default.everyoneFilter,roleFilter:d.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;p.default.setGuildFilter({roleFilter:e}),O(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;p.default.setGuildFilter({everyoneFilter:e}),O(this.props.channel,{everyoneFilter:e})},render:function(){return i.createElement("div",this.props,a("div",{className:(0,l.default)(R.default.contextMenu,"theme-"+A.default.theme,I.default.recentMentionsFilterPopout)},void 0,a(S.default,{},void 0,a(m.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),a(m.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),M=(0,s.default)({displayName:"RecentMentions",mixins:[f.default.StoreListenerMixin(d.default),c.default],setGuildFilter:function(e){p.default.setGuildFilter({guildFilter:e}),O(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{messages:d.default.getMentions(),hasMore:d.default.hasMore,loading:d.default.loading,guildFilter:d.default.guildFilter,roleFilter:d.default.roleFilter,everyoneFilter:d.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;O(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=h.default.Messages.NO_RECENT_MENTIONS,r=e===y.ThemeTypes.LIGHT?n(7420):n(7419);return a(E.default.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return h.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return i.createElement(C,o({},e,{channel:this.props.channel}))},fetchOnMount:function(e){d.default.hasLoadedEver||O(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>y.MAX_MENTIONS_PER_FETCH&&p.default.truncateMentions(y.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){p.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return a(E.default,{className:I.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===y.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=h.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(e=h.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):e=h.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:e=h.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var t=null,n=this.state.guildFilter;return this.props.channel&&!this.props.channel.isPrivate()?t=a(_.TabBarItem,{},y.RecentMentionsFilters.THIS_SERVER,h.default.Messages.THIS_SERVER):n=y.RecentMentionsFilters.ALL_SERVERS,a(E.default.Header,{title:h.default.Messages.RECENT_MENTIONS,className:I.default.header},void 0,a("div",{className:I.default.headerTabBarWrapper},void 0,a(T.default,{selectedItem:n,onItemSelect:this.setGuildFilter,type:_.TabBarTypes.TOP,className:I.default.tabBar},void 0,a(_.TabBarItem,{className:I.default.tabBarItem},y.RecentMentionsFilters.ALL_SERVERS,h.default.Messages.ALL_SERVERS),t),a(v.default,{render:this.renderDisplayPopout,position:v.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,a("div",{className:I.default.mentionFilter},void 0,a("div",{className:I.default.label},void 0,h.default.Messages.RECENT_MENTIONS_FILTER_LABEL),a("div",{className:I.default.value},void 0,e)))))}});t.default=M,e.exports=t.default},7505:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(3)),a=i(n(2)),u=(n(0),i(n(523)));function i(e){return e&&e.__esModule?e:{default:e}}var s=[],l=6;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"featuredArticles",get:function(){return s}}]),t}(o.default.Store);t.default=new c(a.default,{FEATURED_HELP_ARTICLES:function(e){var t=e.articles;s=t.slice(0,l).map(function(e){return{id:e.id,title:e.title,htmlUrl:u.default.getArticleURL(e.id)}})}}),e.exports=t.default},7506:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=n(0),a=i(n(523)),u=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={loadFeaturedArticles:function(){u.default.get(a.default.getFeaturedArticlesJsonURL()).then(function(e){var t=e.body.articles||[];r.default.dispatch({type:o.ActionTypes.FEATURED_HELP_ARTICLES,articles:t})})}},e.exports=t.default},7507:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(55)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(43)),s=_(n(3)),l=_(n(9)),c=_(n(7506)),f=_(n(523)),d=_(n(957)),p=_(n(163)),h=_(n(7505)),E=_(n(967));n(5893);var y=_(n(6));function _(e){return e&&e.__esModule?e:{default:e}}var T=o("div",{className:"poop"}),S=o(d.default,{}),m=(0,i.default)({displayName:"NeedHelp",mixins:[s.default.StoreListenerMixin(h.default),E.default],propTypes:{handleClose:a.default.func},statics:{key:function(){return"need-help-modal"}},getInitialState:function(){return{failed:!1}},getStateFromStores:function(){var e=h.default.featuredArticles;return{loading:0===e.length,contentLoaded:e.length>0,content:e}},UNSAFE_componentWillMount:function(){var e=this;this.setTimeout(function(){return e.setState({failed:e.state.loading})},5e3),c.default.loadFeaturedArticles()},componentWillUnmount:function(){this.props.handleClose&&this.props.handleClose()},componentDidUpdate:function(e,t){!t.contentLoaded&&this.state.contentLoaded&&this.refs.query.focus()},handleSubmit:function(e){e.preventDefault();var t=this.refs.query.value,n=f.default.getSearchURL(t);window.open(n,"_blank"),this.props.onClose()},render:function(){var e=null;if(this.state.contentLoaded){var t=this.state.content.map(function(e){return o("li",{},e.id,o(p.default,{href:e.htmlUrl},void 0,e.title))});e=o("ul",{},void 0,t)}else e=this.state.failed?o("div",{className:"failed"},void 0,T,y.default.Messages.NEED_HELP_FAILED_LOADING.format()):S;return o("form",{className:(0,l.default)("modal-content","form","deprecated","need-help-modal",this.props.className),onSubmit:this.handleSubmit},void 0,o("div",{className:"header control-group"},void 0,o("h1",{className:"old-h1"},void 0,y.default.Messages.NEED_HELP_TITLE_QUESTION),u.createElement("input",{id:"help-query",ref:"query",type:"text",placeholder:y.default.Messages.NEED_HELP_SEARCH_PLACEHOLDER})),o("div",{className:(0,l.default)("form-inner",{loading:!this.state.loaded})},void 0,e),o("div",{className:"footer"},void 0,y.default.Messages.NEED_HELP_SUBMIT_REQUEST.format({submitRequestURL:f.default.getSubmitRequestURL()})))}});t.default=m,e.exports=t.default},7508:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(11)),o=i(n(13)),a=n(0),u=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var s=36e5,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAvailable=!1,r.default.embedded&&(r.default.on(a.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates.bind(this)),r.default.on(a.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable.bind(this)),r.default.on(a.ActionTypes.UPDATE_AVAILABLE,this._handleUpdateAvailable.bind(this,!0)),r.default.on(a.ActionTypes.UPDATE_ERROR,this._handleUpdateError.bind(this)),r.default.on(a.ActionTypes.UPDATE_DOWNLOADED,this._handleUpdateDownloaded.bind(this,!0)),r.default.on(a.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually.bind(this))),this._checkInterval=setInterval(this.checkForUpdates.bind(this),t)}return e.prototype.destroy=function(){clearInterval(this._checkInterval)},e.prototype.quitAndInstall=function(){this.hasNativeUpdate?r.default.send("QUIT_AND_INSTALL"):location.reload(!0)},e.prototype.checkForUpdates=function(){this.updateAvailable||(r.default.embedded?r.default.send("CHECK_FOR_UPDATES"):this._handleNativeUpdateNotAvailable())},e.prototype._handleCheckingForUpdates=function(){u.default.dispatch({type:a.ActionTypes.CHECKING_FOR_UPDATES})},e.prototype._handleNativeUpdateNotAvailable=function(){var e=this;this._handleCheckingForUpdates(),o.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(t){"c2fd633f686acda0b3cb7dd3cbe0ab95c7df04cc"!==t.body.hash&&t.body.required?e._handleUpdateDownloaded(!1):e._handleUpdateNotAvailable()},function(){return e._handleUpdateError()})},e.prototype._handleUpdateNotAvailable=function(){u.default.dispatch({type:a.ActionTypes.UPDATE_NOT_AVAILABLE})},e.prototype._handleUpdateAvailable=function(e){this.updateAvailable=!0,this.hasNativeUpdate=e,u.default.dispatch({type:a.ActionTypes.UPDATE_AVAILABLE})},e.prototype._handleUpdateManually=function(){this.updateAvailable=!0,this.hasNativeUpdate=!0,u.default.dispatch({type:a.ActionTypes.UPDATE_MANUALLY})},e.prototype._handleUpdateError=function(e){this.updateAvailable=!1,u.default.dispatch({type:a.ActionTypes.UPDATE_ERROR,message:e})},e.prototype._handleUpdateDownloaded=function(e,t,n,r,o){this._handleUpdateAvailable(e),u.default.dispatch({type:a.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:t,releaseName:n,releaseDate:r,updateURL:o})},e}();t.default=l,e.exports=t.default},7509:function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=a(n(6619));function a(e){return e&&e.__esModule?e:{default:e}}var u=new(a(n(7508)).default);window.autoUpdate=u,t.default={checkForUpdates:function(){o.default.getState()===r.ActionTypes.UPDATE_NOT_AVAILABLE&&u.checkForUpdates()},quitAndInstall:function(){o.default.getState()===r.ActionTypes.UPDATE_DOWNLOADED&&u.quitAndInstall()}},e.exports=t.default}}]);
//# sourceMappingURL=2cbdf64e33e47ed9aced.js.map