(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{2057:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=g(r(1)),i=m(r(15)),a=(m(r(84)),g(r(129))),s=m(r(178)),l=m(r(96)),u=m(r(423)),c=m(r(1375)),d=m(r(1373)),p=m(r(421)),f=m(r(1374)),h=m(r(426)),v=m(r(2058)),y=m(r(2066)),S=r(4),O=r(21);function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function _(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=function(e){return{error:null,hasSubmitted:!1,isSubmitting:!1,hasUnsavedChanges:!1,redirectUris:e.applicationDetails.redirect_uris}},A=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).redirectsRef=null,t.state=C({},b(t.props)),t.handleFormChange=function(){var e=t.state,r=e.error,n=e.hasSubmitted,o=e.hasUnsavedChanges;null==r&&!n&&o||t.setState({error:null,hasSubmitted:!1,hasUnsavedChanges:!0})},t.handleFormSubmit=function(){var e=t.state.redirectUris;t.setState({isSubmitting:!0},function(){a.updateApplication(t.props.applicationDetails.id,{redirect_uris:e}).then(function(){t.setState({error:null,hasSubmitted:!0,hasUnsavedChanges:!1,isSubmitting:!1})}).catch(function(e){t.setState({isSubmitting:!1,error:null!=e.getFieldMessage("redirect_uris")?O.Messages.OAuth2.INVALID_REDIRECT_URI:e.message})})})},t.handleOAuth2RedirectsChange=function(e){var r={redirectUris:e,hasUnsavedChanges:!0};t.setState(r)},t.handleFormReset=function(){null!=t.redirectsRef&&t.redirectsRef.resetRedirects(),t.setState(C({},b(t.props)))},t.setRedirectsRef=function(e){t.redirectsRef=e},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.renderFormStatus=function(){var e=this.state,t=e.error,r=e.hasSubmitted;return null!=t?_(c.default,{type:c.default.Types.ERROR},void 0,t):r?_(c.default,{type:c.default.Types.SUCCESS},void 0,O.Messages.Alerts.SUCCESS_CHANGES_SAVED):null},i.render=function(){var e=this.props.applicationDetails,t=this.state,r=t.hasUnsavedChanges,n=t.isSubmitting,i=t.redirectUris;return _(o.Fragment,{},void 0,_(u.default,{onSubmit:this.handleFormSubmit},void 0,_(p.default,{},void 0,_(d.default,{},void 0,O.Messages.OAuth2.HEADING),_(f.default,{},void 0,O.Messages.OAuth2.SUBHEADING),_("p",{},void 0,O.Messages.OAuth2.SUBHEADING_LINK.format({link:l.default.prependBasename(S.Routes.DOCS_TOPICS_OAUTH2)})),this.renderFormStatus()),_(p.default,{hasBorder:!1},void 0,o.createElement(v.default,{onChange:this.handleOAuth2RedirectsChange,application:e,ref:this.setRedirectsRef}))),_(p.default,{isFlush:!0},void 0,_(y.default,{application:e,redirectUris:i})),_(h.default,{isVisible:r,onReset:this.handleFormReset,submitting:n,onSave:this.handleFormSubmit}))},n}(o.Component);A.displayName="OAuth2";var R=i.default.connectStores([s.default],function(e){var t=e.match.params.id;return{applicationDetails:s.default.getApplication(t)}})(A);t.default=R},2058:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=d(r(1)),i=d(r(418)),a=(c(r(1458)),c(r(424))),s=c(r(1381)),l=c(r(1631)),u=r(21);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function p(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).uriInputRef=o.createRef(),t.handleUriInputChange=function(e){t.props.onChange(e)},t.resetRedirects=function(){var e=t.uriInputRef.current;null!=e&&e.resetInputFields()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.application;return null==e?null:p(o.Fragment,{},void 0,p(a.default,{},void 0,u.Messages.OAuth2.REDIRECT_SECTION_HEADING),p(s.default,{},void 0,u.Messages.OAuth2.REDIRECT_SECTION_SUBHEADING),p(i.default,{},void 0,p(i.GridSection,{},void 0,p(i.GridChild,{columnSpread:12,columnSpreadMedium:8,columnSpreadLarge:6,columnSpreadExtraLarge:6},void 0,o.createElement(l.default,{namePrefix:"redirect_uris",onChange:this.handleUriInputChange,type:"redirect",values:e.redirect_uris,ref:this.uriInputRef})))))},n}(o.Component);t.default=f,f.displayName="OAuth2Redirects"},2066:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=m(r(1)),i=r(435),a=m(r(418)),s=O(r(1394)),l=O(r(425)),u=O(r(25)),c=O(r(1629)),d=O(r(1410)),p=O(r(419)),f=O(r(424)),h=O(r(1381)),v=O(r(2067)),y=r(4),S=r(21);function O(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var C=function(e){var t,r;function n(t){var r;(r=e.call(this,t)||this).handlePermissionsChange=function(e){r.setState({permissions:e})},r.handleScopeChange=function(e){r.setState({activeScopes:e,showCalculator:y.OAuth2Scopes.BOT in e})},r.handleredirectUriselection=function(e){r.setState({activeRedirectUri:e.value})},r.renderRedirectUriOption=function(e){return e.value};var n=(0,i.parse)(location.search);return r.state={activeScopes:null,activeRedirectUri:n.redirect_uri||(t.redirectUris?t.redirectUris[0]:null),permissions:0,showCalculator:"true"===n.is_bot,querystring:n},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var O=n.prototype;return O.getRedirectUrlOptions=function(){var e=this.props.redirectUris;return null==e?[]:e.map(function(e){return{name:e,value:e}})},O.renderPermissionsCalculator=function(){return this.state.showCalculator?_(a.GridSection,{},void 0,_(a.GridChild,{columnSpread:12},void 0,_(p.default,{},void 0,S.Messages.OAuth2.BOT_PERMISSIONS),_(s.default,{},void 0,_(c.default,{onChange:this.handlePermissionsChange,showInteger:!1})))):null},O.render=function(){var e=this.state,t=e.activeRedirectUri,r=e.activeScopes,n=e.permissions,i=e.querystring,c=this.props.application,O=i.is_bot,m=i.require_grant,C="true"===O||null!=r&&y.OAuth2Scopes.BOT in r,b="true"===m;return _(o.Fragment,{},void 0,_(f.default,{},void 0,S.Messages.OAuth2.URL_GENERATOR_HEADING),_(h.default,{},void 0,S.Messages.OAuth2.URL_GENERATOR_SUBHEADING),_(a.default,{},void 0,_(a.GridSection,{},void 0,_(a.GridChild,{columnSpread:6,columnSpreadSmall:12,columnSpreadExtraSmall:12},void 0,_(p.default,{},void 0,S.Messages.OAuth2.SELECT_REDIRECT_URL),_(l.default,{value:t,clearable:!1,searchable:!1,options:this.getRedirectUrlOptions(),onChange:this.handleredirectUriselection,optionRenderer:this.renderRedirectUriOption,valueRenderer:this.renderRedirectUriOption})),_(a.GridChild,{columnSpread:6,columnSpreadSmall:12,columnSpreadExtraSmall:12},void 0,_(p.default,{},void 0,S.Messages.OAuth2.APP_CLIENT_ID),_(d.default,{textToCopy:c.id},void 0,_(u.default,{family:u.default.Family.CODE},void 0,c.id)))),_(a.GridSection,{},void 0,_(a.GridChild,{columnSpread:12},void 0,_(p.default,{},void 0,S.Messages.OAuth2.SCOPES),_(s.default,{},void 0,o.createElement(v.default,g({clientId:c.id,permissions:n,onChange:this.handleScopeChange,isBot:C,redirectUri:t,requireGrant:b},i))))),this.renderPermissionsCalculator()))},n}(o.PureComponent);C.displayName="OAuth2UrlGenerator";var b=C;t.default=b},2067:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=O(r(1)),i=r(435),a=r(83),s=r(98),l=r(1630),u=S(r(1387)),c=O(r(418)),d=S(r(100)),p=S(r(1410)),f=S(r(419)),h=r(4),v=r(21),y=S(r(1269));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleChange=function(){var e=t.props,r=e.onChange,n=e.scope;r&&r(n)},t}g(t,e);var r=t.prototype;return r.isChecked=function(){var e=this.props,t=e.scopes;return e.scope in t},r.render=function(){return m(u.default,{className:y.default.checkbox,onChange:this.handleChange,type:u.default.Types.INVERTED,color:s.Colors.WHITE,value:this.isChecked()},void 0,m("div",{className:y.default.checkboxLabel},void 0,this.props.scope))},t}(o.Component);_.displayName="ScopeCheckbox";var C=function(e){function t(){for(var t,r,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=e.call.apply(e,[this].concat(o))||this).state={scopes:r.props.isBot?(t={},t[h.OAuth2Scopes.BOT]=h.OAuth2Scopes.BOT,t):{}},r.handleScopeChange=function(e){var t=r.state.scopes,n=r.props.onChange;e in t?delete t[e]:t[e]=e,r.setState({scopes:t}),n&&n(t)},r.handleCopyClick=function(){r.trackCopyAction()},r.trackCopyAction=function(){var e=d.default.getApplicationProperties(r.props.location)||{};d.default.track(h.AnalyticsEvents.AUTH_URL_COPIED,e)},r}g(t,e);var r=t.prototype;return r.generateOAuth2URL=function(){var e=this.state.scopes,t=this.props,r=t.clientId,n=t.redirectUri,o=t.requireGrant,a=this.props.permissions,s=o||Object.keys(e).some(function(e){return e!==h.OAuth2Scopes.BOT});if(!r)return v.Messages.DeveloperPages.MISSING_CLIENT_ID;if(s&&!n)return v.Messages.DeveloperPages.MISSING_REDIRECT_URI;if(0===Object.keys(e).length)return v.Messages.DeveloperPages.TOO_FEW_SCOPES;a=(a&l.ADMIN_FLAG)===l.ADMIN_FLAG?l.ADMIN_FLAG:a;var u={permissions:h.OAuth2Scopes.BOT in e?a:void 0,client_id:r,response_type:s?"code":void 0,redirect_uri:n||void 0,scope:Object.keys(e).map(function(t){return e[t]}).join(" ")||void 0};return""+h.Links.BASE_URL+h.Endpoints.OAUTH2_AUTHORIZE+"?"+(0,i.stringify)(u)},r.renderScopeCheckboxes=function(){for(var e=this,t=Object.keys(h.OAuth2Scopes),r=Math.floor(t.length/3),n=t.length%3,o=[],i=0,a=0;a<3;a++){var s=n-- >0?i+r:i+r-1,l=t.slice(i,s+1);i=s+1,o.push(m(c.GridChild,{columnSpread:12,columnSpreadSmallMedium:12,columnSpreadMedium:4,columnSpreadLarge:4,columnSpreadExtraLarge:4},a,l.map(function(t){return m(_,{onChange:e.handleScopeChange,scopes:e.state.scopes,scope:h.OAuth2Scopes[t]},h.OAuth2Scopes[t])})))}return m(c.GridSection,{},void 0,o)},r.render=function(){var e=this.generateOAuth2URL(),t=!/^http/.test(e);return m(c.default,{},void 0,this.renderScopeCheckboxes(),m(c.GridSection,{},void 0,m(c.GridChild,{columnSpread:12},void 0,m(f.default,{},void 0,v.Messages.DeveloperPages.AUTHORIZATION_URL),m(p.default,{isButtonDisabled:t,onCopy:this.handleCopyClick,type:p.default.Types.TEXTBOX,textToCopy:e}))))},t}(o.Component);C.displayName="OAuth2URLGeneratorScopes";var b=(0,a.withRouter)(C);t.default=b}}]);
//# sourceMappingURL=e21e66b518463fa871b1.js.map