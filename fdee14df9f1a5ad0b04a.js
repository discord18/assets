(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{5802:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=k(n(2)),o=n(435),i=n(232),l=U(n(3)),s=U(n(817)),u=k(n(836)),d=U(n(311)),c=U(n(11)),f=U(n(5974)),p=U(n(832)),m=U(n(349)),h=U(n(18)),v=n(6699),y=U(n(81)),_=U(n(8033)),E=n(498),g=n(819),S=U(n(8034)),T=U(n(8035)),I=U(n(8048)),N=U(n(8051)),A=U(n(8053)),P=U(n(8054)),O=U(n(8056)),C=U(n(6068)),R=U(n(8061)),b=U(n(6543)),M=U(n(8062)),L=U(n(8063)),D=U(n(8065)),w=U(n(8066)),B=n(0);function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}l.default.initialize();var j=(0,S.default)(C.default),x=(0,S.default)(R.default),Y=(0,S.default)(P.default),V=(0,S.default)(A.default),H=(0,S.default)(O.default),W=(0,S.default)(w.default),z=(0,S.default)(D.default),K=(0,S.default)(b.default),$=(0,S.default)(I.default),X=(0,S.default)(L.default),q=(0,S.default)(M.default),Q=(0,S.default)(N.default),Z=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={splash:null,redirectTo:null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){var t=e.invite,n=e.location,r=(0,o.parse)(n.search).redirect_to;null!=r&&(0,E.isSafeRedirect)(r)&&!r.startsWith(B.Routes.ME)||(r=null);var a=null;if(null==t)a=(0,v.getArtForPath)(r);else if(null!=t&&t.state===B.InviteStates.RESOLVED){var i=t.guild;null!=i&&"string"==typeof i.splash&&(a=y.default.getGuildSplashURL({id:i.id,splash:i.splash}))}return{redirectTo:r,splash:a}};var l=r.prototype;return l.componentDidMount=function(){var e=this.props,t=e.inviteCode,n=e.hasLoadedExperiments,r=e.isAuthenticated;null!=t&&(!n&&r&&s.default.getExperiments(),h.default.track(B.AnalyticEvents.INVITE_OPENED,{invite_code:t,load_time:_.default.getTimeSinceNavigationStart()},!0)),n&&this.resolveInvite(),this.resolveGiftCode()},l.componentDidUpdate=function(e){!e.hasLoadedExperiments&&this.props.hasLoadedExperiments&&this.resolveInvite()},l.resolveInvite=function(){var e=this.props.inviteCode;null!=e&&(d.default.resolveInvite(e,B.PageAnalyticsLocations.INVITE),d.default.openNativeAppModal(e))},l.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&(u.resolveGiftCode(e,!0,!0),u.openNativeGiftCodeModal(e))},l.render=function(){var e=this.state,t=e.splash,n=e.redirectTo;return F(T.default,{splash:t,redirectTo:n},void 0,F(i.Route,{path:B.Routes.LOGIN_HANDOFF,render:function(e){return a.createElement(x,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.LOGIN,render:function(e){return a.createElement(j,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.REGISTER,render:function(e){return a.createElement(K,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return a.createElement(V,G({login:!0},e))}}),F(i.Route,{path:B.Routes.GIFT_CODE(":giftCode"),render:function(e){return a.createElement(V,e)}}),F(i.Route,{path:B.Routes.BILLING_PREMIUM,render:function(e){return a.createElement(W,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.BILLING_PAYMENTS,render:function(e){return a.createElement(z,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.INVITE_LOGIN(":inviteCode"),render:function(e){return g.isMobile||g.isTablet?a.createElement(H,e):a.createElement(Y,G({login:!0},e))}}),F(i.Route,{path:B.Routes.INVITE(":inviteCode"),render:function(e){return g.isMobile||g.isTablet?a.createElement(H,e):a.createElement(Y,e)}}),F(i.Route,{path:B.Routes.VERIFY,render:function(e){return a.createElement(X,e)}}),F(i.Route,{path:B.Routes.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return a.createElement(Q,e)}}),F(i.Route,{path:B.Routes.AUTHORIZE_IP,render:function(e){return a.createElement($,e)}}),F(i.Route,{path:B.Routes.RESET,render:function(e){return a.createElement(q,e)}}))},r}(a.PureComponent);Z.displayName="ViewsWithAuth";var J=l.default.connectStores([c.default,p.default,f.default,m.default],function(e){var t=e.match,n=function(e){return null!=e&&null!=e.params?e.params.inviteCode:null}(t),r=function(e){return null!=e&&null!=e.params?e.params.giftCode:null}(t);return{inviteCode:n,isAuthenticated:c.default.isAuthenticated(),giftCode:r,gift:null!=r?f.default.get(r):null,invite:null!=n?p.default.getInvite(n):null,hasLoadedExperiments:m.default.hasLoadedExperiments}})(Z);t.default=J},5872:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5329));function l(e){return e&&e.__esModule?e:{default:e}}var s=Object.freeze({UNKNOWN:"unknown",VISA:"visa",DISCOVER:"discover",MASTERCARD:"mastercard",AMEX:"amex",PAYPAL:"paypal",PAYMENT_REQUEST:"paymentRequest",G_PAY:"gPay"}),u={SMALL:i.default.cardIconSmall,MEDIUM:i.default.cardIconMedium,LARGE:i.default.cardIconLarge,XLARGE:i.default.cardIconXLarge},d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getType=function(e){if(null==e)return s.UNKNOWN;var t=e.replace(/[^a-z]/gi,"").toUpperCase();return s[t]||s.UNKNOWN},a.prototype.render=function(){var e,t=this.props,n=t.flipped,a=t.type,l=t.className,s=t.size;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(s,i.default[a],l,(e={},e[i.default.flipped]=n,e))},void 0,a)},a}(a.PureComponent);d.displayName="PaymentSourceIcon",d.Types=s,d.Sizes=u,d.defaultProps={size:u.SMALL,flipped:!1};var c=d;t.default=c},5873:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.Subtitle=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=y(n(6066)),l=y(n(6067)),s=n(5849),u=y(n(112)),d=y(n(158)),c=y(n(5866)),f=y(n(128)),p=y(n(799)),m=y(n(432)),h=y(n(10)),v=y(n(5267));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var S=function(e){var t=e.className,n=e.children,r=g(e,["className","children"]);return a.createElement(f.default,E({},r,{color:f.default.Colors.WHITE,weight:f.default.Weights.LIGHT,className:(0,o.default)(v.default.title,t)}),n)};t.Title=S,S.displayName="Title";var T=function(e){var t=e.className,n=e.children,r=g(e,["className","children"]);return a.createElement(f.default,E({},r,{weight:f.default.Weights.NORMAL,className:(0,o.default)(v.default.subTitle,t)}),n)};t.Subtitle=T,T.displayName="Subtitle";var I=function(e){var t=e.className,n=g(e,["className"]);return a.createElement("img",E({alt:""},n,{className:(0,o.default)(v.default.image,t)}))};t.Image=I,I.displayName="Image";var N=function(e){var t,n=e.className,r=g(e,["className"]),i=r.look===u.default.Looks.LINK;return a.createElement(u.default,E({size:i?u.default.Sizes.MIN:u.default.Sizes.LARGE,fullWidth:!i,className:(0,o.default)(n,(t={},t[v.default.button]=!i,t[v.default.linkButton]=i,t))},r))};t.Button=N,N.displayName="Button",N.Looks=u.default.Looks,N.Colors=u.default.Colors,N.Sizes=u.default.Sizes;var A=function(e){var t=e.className,n=e.src,r=g(e,["className","src"]);return a.createElement(s.AvatarImage,E({src:n,className:(0,o.default)(v.default.inviteLargeIcon,t)},r))};t.Avatar=A,A.displayName="Avatar",A.Sizes=s.AvatarSizes;var P=function e(t){var n=t.className,r=t.guild,i=t.size,l=g(t,["className","guild","size"]);return a.createElement(c.default,E({guild:r,size:i,className:(0,o.default)(i===e.Sizes.XLARGE?v.default.inviteLargeIcon:v.default.inviteSmallIcon,n)},l))};t.GuildIcon=P,P.displayName="GuildIcon",P.Sizes=c.default.Sizes;var O=function e(t){var n=t.className,r=t.channel,i=t.size,l=g(t,["className","channel","size"]);return a.createElement(s.AvatarImage,E({src:r.getIconURL(),size:i,className:(0,o.default)(i===e.Sizes.XLARGE?v.default.inviteLargeIcon:v.default.inviteSmallIcon,n)},l))};t.ChannelIcon=O,O.displayName="ChannelIcon",O.Sizes=s.AvatarSizes;var C=function(e){var t,n=e.label,r=e.error,i=e.placeholder,l=e.value,s=e.className,u=e.inputClassName,d=e.setRef,c=g(e,["label","error","placeholder","value","className","inputClassName","setRef"]);return _(m.default,{title:n,error:r,className:s},void 0,a.createElement(p.default,E({},c,{value:l,inputRef:d,placeholder:i,className:v.default.input,inputClassName:(0,o.default)(u,(t={},t[v.default.inputError]=null!=r,t)),"aria-label":n})))};t.Input=C,C.displayName="Input";var R=function(e){var t=e.className,n=e.children;return _("div",{className:(0,o.default)(v.default.block,t)},void 0,n)};t.Block=R,R.displayName="Block";var b=function(e){var t=e.className,n=e.children;return _(f.default,{size:f.default.Sizes.SMALL,className:(0,o.default)(v.default.subText,t)},void 0,n)};t.SubText=b,b.displayName="SubText";var M=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return _(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER,className:t},void 0,_(l.default,{className:v.default.spinnerVideo}),r?null:_(T,{className:v.default.spinnerText},void 0,i.default[Math.floor(Math.random()*i.default.length)][0]))};t.AuthSpinner=M,M.displayName="AuthSpinner";var L=function(e){var t,n=e.online,r=e.total,a=e.className;return null==r?null:(null!=n&&n>0&&(t=_("div",{className:(0,o.default)(v.default.pill,v.default.pillOnline)},void 0,_("i",{className:v.default.pillIconOnline}),_(f.default,{tag:"span",size:f.default.Sizes.MEDIUM,className:v.default.pillMessage},void 0,h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),_(d.default,{justify:d.default.Justify.CENTER,className:a},void 0,t,_("div",{className:v.default.pill},void 0,_("i",{className:v.default.pillIconTotal}),_(f.default,{tag:"span",size:f.default.Sizes.MEDIUM,className:v.default.pillMessage},void 0,h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r})))))};t.ActivityCount=L,L.displayName="ActivityCount";var D=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,a=e.onSubmit,i=e.children;return _(r,{onSubmit:a,className:(0,o.default)(v.default.authBox,"theme-dark",t)},void 0,_("div",{className:v.default.centeringWrapper},void 0,i))};D.displayName="AuthBox";var w=D;t.default=w},5877:function(e,t,n){"use strict";t.__esModule=!0,t.trackAppUIViewed=function(e){l.trackAppUIViewed(e)};var r=i(n(135)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=new(function(){function e(){this.loadId=r.default.v4(),this.appUIViewed=!1}var t=e.prototype;return t.trackEvent=function(e,t){var n=this,r=Date.now();requestIdleCallback(function(){a.default.track(e,{load_id:n.loadId,screen_name:t,duration_ms_since_app_opened:r-window.GLOBAL_ENV.HTML_TIMESTAMP})})},t.trackAppUIViewed=function(e){this.appUIViewed||(this.trackEvent(o.AnalyticEvents.APP_UI_VIEWED,e),this.appUIViewed=!0)},e}())},5879:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(302)),l=s(n(5330));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className;return u("div",{className:(0,o.default)(l.default.error,n)},void 0,u(i.default,{name:i.default.Names.WARNING_BOX,className:l.default.icon}),u("div",{className:l.default.text},void 0,t))},r}(a.PureComponent);d.displayName="FormErrorBlock";var c=d;t.default=c},5892:function(e,t,n){"use strict";t.__esModule=!0,t.getCrumbLabels=function(e,t){var n;void 0===t&&(t={});return o((n={},n[i.PAYMENT_TYPE]=function(){return r.default.Messages.BILLING_STEP_PAYMENT_TYPE},n[i.PAYMENT_REQUEST_INFO]=function(){return r.default.Messages.BILLING_STEP_PAYMENT_INFO},n[i.PAYPAL]=function(){return r.default.Messages.BILLING_STEP_PAYPAL},n[i.PAYPAL_ADDRESS]=function(){return r.default.Messages.BILLING_STEP_ADDRESS},n[i.CREDIT_CARD_INFORMATION]=function(){return r.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION},n[i.ADDRESS]=function(){return r.default.Messages.BILLING_STEP_ADDRESS},n[i.REVIEW]=function(){return r.default.Messages.BILLING_STEP_REVIEW},n[i.SELECT_PLAN]=function(){return r.default.Messages.BILLING_STEP_SELECT_PLAN},n[i.CONFIRM]=function(){return""},n),t)[e]()},t.errorToStep=function(e){if(null!=e){if(e.hasCardError())return i.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return i.ADDRESS}return null},t.getStepIndex=function(e,t){return t.findIndex(function(t){return t===e})},t.canGoBack=function(e,t){return e>0||Object.keys(t).length>0},t.Steps=void 0;n(429),a(n(813));var r=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=Object.freeze({SELECT_PLAN:"select_plan",PAYMENT_TYPE:"payment_type",PAYPAL:"paypal",PAYPAL_ADDRESS:"paypal_address",PAYMENT_REQUEST_INFO:"payment_request_info",CREDIT_CARD_INFORMATION:"credit_card_information",ADDRESS:"address",REVIEW:"review",CONFIRM:"confirm"});t.Steps=i},5926:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=(n(429),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(840)));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s="",u=null,d=null,c="",f="",p="",m=!1,h="US",v="",y="",_="",E="",g="",S="",T=!1,I=null;function N(){d=null,s="",u=null,c="",f="",p="",m=!1,h="US",v="",y="",_="",E="",g="",S="",T=!1,I=null}function A(e){v=e.name,h=e.country,y=e.line1,_=e.line2,E=e.city,g=e.postalCode,S=e.state}function P(){I=null}function O(e){var t=e.error;I=t}var C=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,N=r.prototype;return N.getCreditCardInfo=function(){return{name:v,cardNumber:c,expirationDate:f,cvc:p}},N.getBillingAddressInfo=function(){return{name:v,country:h,line1:y,line2:_,city:E,postalCode:g,state:S}},a=r,(o=[{key:"stripePaymentSource",get:function(){return d}},{key:"braintreeEmail",get:function(){return s}},{key:"braintreeNonce",get:function(){return u}},{key:"isCardInfoValid",get:function(){return m}},{key:"isBillingAddressInfoValid",get:function(){return T}},{key:"error",get:function(){return I}}])&&l(a.prototype,o),i&&l(a,i),r}(r.default.Store))(a.default,{NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE:function(e){var t=e.stripePaymentSource;null!=t?(d=t,A(o.parseStripeSource(d).billingAddressInfo)):N()},NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;c=t.cardNumber,f=t.expirationDate,p=t.cvc,v=t.name,m=n},NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;h=t.country,y=t.line1,_=t.line2,E=t.city,g=t.postalCode,S=t.state,T=n},BRAINTREE_TOKENIZE_PAYPAL_START:function(e){return s="",void(u=null)},BRAINTREE_TOKENIZE_PAYPAL_SUCCESS:function(e){var t=e.email,n=e.nonce,r=e.billingAddress;s=t,u=n,A(r),T=h.length>0},BILLING_PAYMENT_SOURCE_CREATE_START:function(e){return P()},MODAL_POP:function(e){return P()},NEW_PAYMENT_SOURCE_CLEAR_ERROR:function(e){return P()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:O,STRIPE_TOKEN_FAILURE:O,BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return N()},LOGOUT:function(e){return N()}});t.default=C},5943:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(429),n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=!1,s=!1,u=!1,d=!1,c=!1,f=!1,p=null,m=null;function h(){l=!1}function v(){d=!1}function y(){c=!1}function _(){f=!0}function E(){f=!1}var g=new(function(e){var t,n,r,a,o;function h(){return e.apply(this,arguments)||this}return n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=h,(a=[{key:"isBusy",get:function(){return l||s||f||u}},{key:"isUpdatingPaymentSource",get:function(){return s}},{key:"isRemovingPaymentSource",get:function(){return u}},{key:"isSyncing",get:function(){return d||c}},{key:"editSourceError",get:function(){return p}},{key:"removeSourceError",get:function(){return m}}])&&i(r.prototype,a),o&&i(r,o),h}(r.default.Store))(a.default,{BILLING_PAYMENT_SOURCE_CREATE_START:function(e){l=!0},BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return h()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:function(e){return h()},STRIPE_TOKEN_FAILURE:function(e){return h()},BILLING_PAYMENT_SOURCE_REMOVE_START:function(e){u=!0},BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:function(e){u=!1},BILLING_PAYMENT_SOURCE_REMOVE_FAIL:function(e){var t=e.error;u=!1,m=t},BILLING_PAYMENT_SOURCE_REMOVE_CLEAR_ERROR:function(e){m=null},BILLING_PAYMENT_SOURCE_UPDATE_START:function(e){s=!0},BILLING_PAYMENT_SOURCE_UPDATE_SUCCESS:function(e){s=!1},BILLING_PAYMENT_SOURCE_UPDATE_FAIL:function(e){var t=e.error;s=!1,p=t},BILLING_PAYMENT_SOURCE_UPDATE_CLEAR_ERROR:function(e){p=null},BILLING_PAYMENT_SOURCES_FETCH_START:function(e){d=!0},BILLING_PAYMENT_SOURCES_FETCH_SUCCESS:function(e){return v()},BILLING_PAYMENT_SOURCES_FETCH_FAIL:function(e){return v()},BILLING_SUBSCRIPTION_FETCH_START:function(e){c=!0},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return y()},BILLING_SUBSCRIPTION_FETCH_FAIL:function(e){return y()},BILLING_SUBSCRIPTION_UPDATE_START:function(e){return _()},BILLING_SUBSCRIPTION_CANCEL_START:function(e){return _()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){return E()},BILLING_SUBSCRIPTION_UPDATE_FAIL:function(e){return E()},BILLING_SUBSCRIPTION_CANCEL_FAIL:function(e){return E()},BILLING_SUBSCRIPTION_CANCEL_SUCCESS:function(e){return E()}});t.default=g},5957:function(e,t,n){"use strict";t.__esModule=!0,t.formatExpiration=c,t.default=void 0;var r,a=(r=n(6570))&&r.__esModule?r:{default:r};var o={type:"",gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},i=/[^0-9]/g,l=/[^0-9\/]/g;function s(e){for(var t=u(e).split(""),n=d(e),r=0;r<n.gaps.length;){var a=n.gaps[r]+r;if(!(a<t.length))break;t.splice(a,0," "),r+=1}return t.join("")}function u(e){return e.replace(i,"")}function d(e){var t=u(e);return t&&(0,a.default)(t)[0]||o}function c(e){var t=e.replace(l,"").split("/"),n=t[0],r=t[1],a=[];return parseInt(n,10)>12&&(n=n.substring(0,1)),a.push(n),(parseInt(n,10)>1||2===n.length||r)&&a.push("/"),r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2)),a.push(r),a.join("")}var f={DEFAULT_CARD_TYPE:o,prettifyCreditCardNumber:s,formatCreditCardNumber:function(e){var t=u(e);return d(t),s(t)},getCreditCardType:d,cleanCardNumber:u,validateCardNumber:function(e){var t=d(e);if(null==t)throw new Error("Could not recognize card type.");if(!t.lengths.includes(e.length))throw new Error("Card number length is incorrect.")},getTypeInfo:function(e){return a.default.getTypeInfo(e)},formatExpiration:c};t.default=f},5970:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_CLOSE})};var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},5975:function(e,t,n){"use strict";t.__esModule=!0,t.updateStripePaymentRequest=function(e){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE,stripePaymentSource:e})},t.updateCardInfo=function(e,t){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:e,isValid:t})},t.clearCardInfo=function(){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:{cardNumber:"",expirationDate:"",cvc:"",name:""},isValid:!1})},t.updateAddressInfo=function(e,t){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE,info:e,isValid:t})},t.clearError=function(){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CLEAR_ERROR})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},5977:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(304)),i=s(n(803)),l=s(n(5334));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={animationProgress:new o.default.Value(0),animating:!1,targetHeight:0,baseHeight:0,leaving:!1},t.direction=t.props.getDirection(),t._measureRef=a.createRef(),t}d(t,e);var n=t.prototype;return n.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}},n.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)},n.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2),this.setState({baseHeight:n})},n.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animating:!0}),this.props.setHeight(this.state.targetHeight),o.default.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)},n.componentDidEnter=function(){this.setState({animating:!1})},n.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,a=n.getDirection;this.direction=a(),this.setState({leaving:!0}),o.default.timing(t,{toValue:0,duration:r}).start(e)},n.getAnimatedStyle=function(){var e=this.state,t=e.animationProgress,n=e.leaving,r=e.baseHeight,a=e.targetHeight,i=e.animating,l=this.props.sideMargin||0,s=(n?-1:1)*this.direction;return{transform:[{translateX:t.interpolate({inputRange:[0,2],outputRange:[150*s+"%","0%"],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)})}],height:i?t.interpolate({inputRange:[0,1],outputRange:[r,a],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)}):"auto",opacity:t.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)}),overflow:i?"hidden":"auto",position:n?"absolute":void 0,top:n?0:void 0,left:n?l:void 0,right:n?l:void 0,bottom:n?0:void 0}},n.render=function(){return u(o.default.div,{style:this.getAnimatedStyle()},void 0,a.createElement("div",{ref:this._measureRef,className:l.default.measurement},this.props.children))},t}(a.PureComponent);c.displayName="SequenceAnimation",c.defaultProps={duration:300};var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).stepHeights={},t.prevStep=null,t.prevSteps=[],t.getBaseHeight=function(){return null!=t.prevStep&&null!=t.stepHeights[t.prevStep]?t.stepHeights[t.prevStep]:0},t.getDirection=function(){var e=t.props,n=e.steps,r=e.step,a=n.indexOf(t.prevStep),o=-1===a?t.prevSteps.indexOf(t.prevStep):-1;return Math.max(a,o)>n.indexOf(r)?-1:1},t.setHeight=function(e){var n=t.props.step;t.stepHeights[n]=e},t}d(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setPrevSteps()},n.componentDidUpdate=function(){this.setPrevSteps()},n.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t,this.prevSteps=n},n.render=function(){var e=this.props,t=e.step,n=e.sideMargin,r=e.children;return u(i.default,{component:"div"},void 0,u(c,{sideMargin:n,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,setHeight:this.setHeight},t,r))},t}(a.Component);t.default=f,f.displayName="Sequencer"},5984:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=c(n(17)),s=c(n(158)),u=c(n(302)),d=c(n(5353));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=Object.freeze({PRIMARY:"primary",WARNING:"warning",ERROR:"error"}),m=Object.freeze({SMALL:"small",LARGE:"large",NONE:"none"}),h=((r={})[p.PRIMARY]=d.default.colorPrimary,r[p.WARNING]=d.default.colorWarning,r[p.ERROR]=d.default.colorError,r),v=((a={})[m.SMALL]=d.default.small,a[m.LARGE]=d.default.large,a[m.NONE]=null,a),y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.icon,n=e.color,r=e.children,a=e.iconSize,o=e.className,i=e.iconClassName;return f(s.default,{className:(0,l.default)(d.default.note,h[n],o),align:s.default.Align.CENTER},void 0,f(u.default,{name:t,className:(0,l.default)(d.default.icon,v[a],i)}),f("div",{},void 0,r))},r}(i.PureComponent);y.displayName="PaymentNote",y.Icons=u.default.Names,y.Colors=p,y.Sizes=m;var _=y;t.default=_},5985:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(129)),l=_(n(310)),s=_(n(131)),u=_(n(5925)),d=_(n(806)),c=n(5873),f=_(n(809)),p=n(0),m=_(n(10)),h=_(n(312)),v=_(n(5235)),y=_(n(5359));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(){return E(a.Fragment,{},void 0,E(c.Avatar,{src:null,size:c.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),E(c.Subtitle,{},void 0,m.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),E(c.Title,{className:(0,o.default)(v.default.marginTop8,h.default.flexCenter)},void 0,m.default.Messages.LOADING))};t.InviteResolvingHeader=g,g.displayName="InviteResolvingHeader";var S=function(e){var t=e.guild,n=e.user;return n?E(c.Avatar,{src:null!=n?n.getAvatarURL():null,size:c.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}):t?E(c.GuildIcon,{guild:t,size:c.GuildIcon.Sizes.XLARGE,className:v.default.marginBottom20,animate:!0}):null},T=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,_=e.error,g=e.experimentHasGuildDescription,T=void 0!==g&&g;if(null==t)return null;var I,N,A,P=null!=t.guild?new l.default(t.guild):null,O=null!=t.channel?new i.default(t.channel):null,C=r||null==t.inviter?null:new s.default(t.inviter),R=null!=t.approximate_member_count&&t.approximate_member_count>100,b=null!=P&&P.hasFeature(p.GuildFeatures.VERIFIED),M=null!=P&&P.hasFeature(p.GuildFeatures.PARTNERED),L=null;if(null!=P)L=null==C?m.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:m.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:C.username}),t.target_user_type===p.InviteTargetUserTypes.STREAM&&null!=t.target_user&&(L=m.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username})),R||b||M||(I=E(c.GuildIcon,{guild:P,size:c.GuildIcon.Sizes.SMALL})),N=P.name,A=P.description;else if(null!=O){if(null==C)throw new Error("no inviter in group DM invite");var D=C.username;O.name?(L=m.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:D}),N=O.name,null!=O.icon&&(I=E(c.ChannelIcon,{channel:O,size:c.Avatar.Sizes.SMALL}))):(L=m.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,N=D)}return E(a.Fragment,{},void 0,E(S,{guild:P,user:r||R?null:C}),_?E(a.Fragment,{},void 0,E(c.Subtitle,{},void 0,m.default.Messages.INVITE_MODAL_ERROR_TITLE),E(c.Title,{},void 0,_)):E(a.Fragment,{},void 0,E(c.Subtitle,{},void 0,L),E(c.Title,{className:(0,o.default)(v.default.marginTop8,h.default.flexCenter)},void 0,null!=P?E(u.default,{guild:P,className:y.default.guildBadge,tooltipPosition:d.default.Positions.LEFT}):null,I,N),T&&null!=P?E(f.default,{className:y.default.guildDescription,size:f.default.Sizes.SIZE_16},void 0,null!=A?A:m.default.Messages.EXPERIMENT_INSTANT_INVITE_DEFAULT_GUILD_DESCRIPTION.format({guildName:P.name})):null),E(c.ActivityCount,{className:v.default.marginTop8,online:t.approximate_presence_count,total:t.approximate_member_count}))};T.displayName="InviteHeader";var I=T;t.default=I},5996:function(e,t,n){var r=n(137),a=n(6707),o=n(6708),i="Expected a function",l=Math.max,s=Math.min;e.exports=function(e,t,n){var u,d,c,f,p,m,h=0,v=!1,y=!1,_=!0;if("function"!=typeof e)throw new TypeError(i);function E(t){var n=u,r=d;return u=d=void 0,h=t,f=e.apply(r,n)}function g(e){var n=e-m;return void 0===m||n>=t||n<0||y&&e-h>=c}function S(){var e=a();if(g(e))return T(e);p=setTimeout(S,function(e){var n=t-(e-m);return y?s(n,c-(e-h)):n}(e))}function T(e){return p=void 0,_&&u?E(e):(u=d=void 0,f)}function I(){var e=a(),n=g(e);if(u=arguments,d=this,m=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(S,t),v?E(e):f}(m);if(y)return p=setTimeout(S,t),E(m)}return void 0===p&&(p=setTimeout(S,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,c=(y="maxWait"in n)?l(o(n.maxWait)||0,t):c,_="trailing"in n?!!n.trailing:_),I.cancel=function(){void 0!==p&&clearTimeout(p),h=0,u=m=d=p=void 0},I.flush=function(){return void 0===p?f:T(a())},I}},6002:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n=null);null!=t&&o.default.register(e,t);var c=e.getExperimentId(),p=function(e){var r,a;function i(){for(var r,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(r=e.call.apply(e,[this].concat(i))||this).getRenderFunction=function(){var e=r.props.experimentDescriptor;if(null==t)return null;if(null==e)return t[d.ExperimentTypes.NONE]||f;var n=e.type,a=e.bucket,o=t[n];return null==o?t[d.ExperimentTypes.NONE]||f:null!=o[a]?o[a]:t[d.ExperimentTypes.NONE]||f},r.handleExperimentTriggered=function(){var e=r.props.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,r.props))return;o.default.trigger(e)}},r}a=e,(r=i).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a;var l=i.prototype;return l.componentDidMount=function(){this.handleExperimentTriggered()},l.componentDidUpdate=function(e){var t=this.props.experimentDescriptor;u.default.experimentDescriptorEquals(t,e.experimentDescriptor)||this.handleExperimentTriggered()},l.render=function(){var e=this.getRenderFunction();if(null==e)return null;var t=this.props,n=t.experimentDescriptor,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["experimentDescriptor"]);return e(r,n)},i}(r.Component);return p.displayName="ExperimentContainer",a.default.connectStores([s.default,l.default,i.default,e],function(t){var n=t.guildId,r=t.channelId,a=null!=n?n:s.default.getGuildId(),o=null!=r?r:l.default.getChannelId(a);return{experimentDescriptor:i.default.getOverrideExperimentDescriptor(c)||e.getExperimentDescriptor(a,o)}},{forwardRef:!0})(p)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=c(n(3)),o=c(n(165)),i=c(n(75)),l=c(n(50)),s=c(n(160)),u=c(n(5944)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){return null}},6015:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5352));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.application,n=e.splashSize,i=e.className,l=e.overrideSplash,s=null!=l?l:t.getSplashURL(n),u=null!=s?"url("+s+")":null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(o.default.splashBackground,i),style:{backgroundImage:u}})}l.displayName="ApplicationSplashBackground"},6053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),u=_(n(6567)),d=_(n(6568)),c=_(n(6569)),f=(n(429),_(n(5858))),p=_(n(799)),m=_(n(6054)),h=n(0),v=_(n(10)),y=_(n(5243));function _(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var S="US",T="CA",I=d.default.map(function(e){return{value:e.code,label:e.name}}),N=Object.freeze({NAME:"name",COUNTRY:"country",LINE1:"line1",LINE2:"line2",CITY:"city",POSTAL_CODE:"postalCode",STATE:"state"}),A=Object.freeze({MODAL:"modal",SETTINGS:"settings"}),P=Object.freeze({EDIT:"edit",CREATE:"create"}),O=((r={})[S]=c.default,r[T]=u.default,r),C=((a={})[N.NAME]=function(e){return{name:N.NAME,title:function(){return v.default.Messages.BILLING_ADDRESS_NAME},autoComplete:"name",getClassNameForLayout:function(e){return e===A.MODAL?y.default.width100:y.default.width60},renderInput:function(e){return s.createElement(p.default,e)}}},a[N.COUNTRY]=function(e){return{name:N.COUNTRY,title:function(){return v.default.Messages.BILLING_ADDRESS_COUNTRY},autoComplete:"country",getClassNameForLayout:function(e){return e===A.MODAL?y.default.width100:y.default.width75},renderInput:function(e,t){e.layout;var n=e.onChange,r=g(e,["layout","onChange"]);return s.createElement(f.default,E({},r,{autofocus:!0,clearable:!1,disabled:t.mode===P.EDIT,options:I,onChange:function(t){var r=t.value;null!=n&&n(r,e.name)}}))}}},a[N.LINE1]=function(e){return{name:N.LINE1,title:function(){return v.default.Messages.BILLING_ADDRESS_ADDRESS},autoComplete:"address-line1",placeholder:function(){return v.default.Messages.BILLING_ADDRESS_ADDRESS_PLACEHOLDER},getClassNameForLayout:function(e){return e===A.MODAL?y.default.width100:y.default.width60},renderInput:function(e){return s.createElement(p.default,e)}}},a[N.LINE2]=function(e){return{name:N.LINE2,title:function(){return v.default.Messages.BILLING_ADDRESS_ADDRESS2},placeholder:function(){return v.default.Messages.BILLING_ADDRESS_ADDRESS2_PLACEHOLDER},autoComplete:"address-line2",getClassNameForLayout:function(e){return e===A.MODAL?y.default.width100:y.default.width40},renderInput:function(e){return s.createElement(p.default,e)}}},a[N.CITY]=function(e){return{name:N.CITY,title:function(){return v.default.Messages.BILLING_ADDRESS_CITY},autoComplete:"address-level2",placeholder:function(){return v.default.Messages.BILLING_ADDRESS_CITY_PLACEHOLDER},getClassNameForLayout:function(e){return e===A.MODAL?y.default.width100:y.default.width50},renderInput:function(e){return s.createElement(p.default,e)}}},a[N.POSTAL_CODE]=function(e){var t,n;switch(e){case S:t=v.default.Messages.BILLING_ADDRESS_ZIP_CODE,n=v.default.Messages.BILLING_ADDRESS_ZIP_CODE_PLACEHOLDER;break;case T:t=v.default.Messages.BILLING_ADDRESS_POSTAL_CODE,n=v.default.Messages.BILLING_ADDRESS_POSTAL_CODE_CANADA_PLACEHOLDER;break;default:t=v.default.Messages.BILLING_ADDRESS_POSTAL_CODE}return{name:N.POSTAL_CODE,title:function(){return t},autoComplete:"postal-code",placeholder:function(){return n},getClassNameForLayout:function(e){return e===A.MODAL?y.default.width50:y.default.width25},renderInput:function(e){return s.createElement(p.default,e)}}},a[N.STATE]=function(e){var t;switch(e){case S:t=v.default.Messages.BILLING_ADDRESS_STATE;break;case T:t=v.default.Messages.BILLING_ADDRESS_PROVINCE;break;default:t=v.default.Messages.BILLING_ADDRESS_REGION}return{name:N.STATE,title:function(){return t},autoComplete:"address-level1",getClassNameForLayout:function(e){return e===A.MODAL?y.default.width50:y.default.width25},renderInput:function(t){var n=O[e],r=!t.value||null!=n&&n.find(function(e){return e.value===t.value}),a=t.layout,o=t.onChange,i=g(t,["layout","onChange"]);return[S,T].includes(e)&&r?s.createElement(f.default,E({},i,{menuPlacement:a===A.MODAL?f.default.MenuPlacements.TOP:void 0,clearable:!1,options:O[e],onChange:function(e){var n=e.value;null!=o&&o(n,t.name)}})):s.createElement(p.default,t)}}},a),R=((o={})[A.MODAL]=[[C[N.COUNTRY]],[C[N.LINE1]],[C[N.LINE2]],[C[N.CITY]],[C[N.STATE],C[N.POSTAL_CODE]]],o[A.SETTINGS]=[[C[N.NAME]],[C[N.LINE1],C[N.LINE2]],[C[N.CITY],C[N.STATE],C[N.POSTAL_CODE]],[C[N.COUNTRY]]],o),b=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).state={values:(t={},t[N.NAME]=n.props[N.NAME],t[N.COUNTRY]=n.props[N.COUNTRY],t[N.LINE1]=n.props[N.LINE1],t[N.LINE2]=n.props[N.LINE2],t[N.CITY]=n.props[N.CITY],t[N.POSTAL_CODE]=n.props[N.POSTAL_CODE],t[N.STATE]=n.props[N.STATE],t),dirtyFields:{},errors:{}},n.handleFieldBlur=function(){n.setState({errors:n.validateForm(!0)})},n.handleFieldChange=function(e,t){var r,a;if(t){var o=n.state,i=o.values,l=o.errors,s=o.dirtyFields;delete l[t],n.setState({values:E({},i,(r={},r[t]=e,r)),dirtyFields:E({},s,(a={},a[t]=!0,a)),errors:l})}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.handleInfoChange()},a.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},a.validateForm=function(e){var t=this.state,n=t.values,r=t.dirtyFields,a={};e&&!r[N.NAME]||n[N.NAME]||this.props.mode!==P.EDIT||(a[N.NAME]=v.default.Messages.BILLING_ADDRESS_NAME_ERROR_REQUIRED),e&&!r[N.COUNTRY]||n[N.COUNTRY]||(a[N.COUNTRY]=v.default.Messages.BILLING_ADDRESS_COUNTRY_ERROR_REQUIRED),e&&!r[N.LINE1]||n[N.LINE1]||(a[N.LINE1]=v.default.Messages.BILLING_ADDRESS_ADDRESS_ERROR_REQUIRED),e&&!r[N.CITY]||n[N.CITY]||(a[N.CITY]=v.default.Messages.BILLING_ADDRESS_CITY_ERROR_REQUIRED);var o=n[N.COUNTRY];switch(o){case S:if(!e||r[N.POSTAL_CODE]){var i=n[N.POSTAL_CODE];i?5!==i.length?a[N.POSTAL_CODE]=v.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_LENGTH:/^\d{5}$/.test(i)||(a[N.POSTAL_CODE]=v.default.Messages.BILLING_ADDRESS_ZIP_CODE_INVALID):a[N.POSTAL_CODE]=v.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_REQUIRED}e&&!r[N.STATE]||n[N.STATE]||(a[N.STATE]=v.default.Messages.BILLING_ADDRESS_STATE_ERROR_REQUIRED);break;case T:e&&!r[N.POSTAL_CODE]||n[N.POSTAL_CODE]||(a[N.POSTAL_CODE]=v.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED),e&&!r[N.STATE]||n[N.STATE]||(a[N.STATE]=v.default.Messages.BILLING_ADDRESS_PROVINCE_ERROR_REQUIRED);break;default:e&&!r[N.POSTAL_CODE]||n[N.POSTAL_CODE]||h.COUNTRIES_WITHOUT_POSTAL_CODES.includes(o)||(a[N.POSTAL_CODE]=v.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED)}return a},a.handleInfoChange=function(){var e=this.state,t=e.values,n=e.dirtyFields,r=this.validateForm(!1);this.props.onBillingAddressChange(t,0===Object.keys(r).length,Object.keys(n).length>0)},a.render=function(){var e=this.state,t=e.errors,n=e.values,r=this.props,a=r.layout,o=r.mode,i=r.className,s=r.error,u=R[a];if(null==u)throw new Error("Provide a proper layout property.");var d=n[N.COUNTRY],c=u.map(function(e){var t=e.map(function(e){return e(d)}).filter(Boolean);return t.length>0?{fields:t}:null}).filter(Boolean);return function(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(m.default,{className:i,form:c,layout:a,values:n,errors:t,formError:s,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,mode:o})},r}(s.PureComponent);b.displayName="AddressForm",b.Layouts=A,b.Modes=P,b.defaultProps=((i={})[N.NAME]="",i[N.COUNTRY]="",i[N.LINE1]="",i[N.LINE2]="",i[N.CITY]="",i[N.POSTAL_CODE]="",i[N.STATE]="",i.layout=A.MODAL,i.mode=P.CREATE,i.error=null,i);var M=b;t.default=M},6054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=(n(429),u(n(158))),l=n(796),s=u(n(5243));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={changedSinceError:new Set},p(n).renderFormSection=n.renderFormSection.bind(p(n)),p(n).renderFormRow=n.renderFormRow.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){if(this.props.formError!==e.formError)this.setState({changedSinceError:new Set});else if(null!=this.props.formError){var t=this.state.changedSinceError;this.getChangedValues(e).forEach(function(e){return t.add(e)}),this.setState({changedSinceError:t})}},a.getChangedValues=function(e){var t=this.props.values,n=e.values;return Object.keys(t).filter(function(e){return t[e]!==n[e]})},a.getError=function(e){var t=this.props,n=t.errors,r=t.formError;return null!=n[e]?n[e]:null==r||this.state.changedSinceError.has(e)?null:r.getFieldMessage(e)},a.renderFormSection=function(e){var t=this.props,n=t.values,r=t.onFieldChange,a=t.onFieldFocus,i=t.onFieldBlur,s=t.layout,u=f(t,["values","onFieldChange","onFieldFocus","onFieldBlur","layout"]),p=e.getClassNameForLayout,m=e.renderInput,h=e.title,v=e.name,y=e.placeholder,_=c({},f(e,["getClassNameForLayout","renderInput","title","name","placeholder"]),{placeholder:y&&y(),layout:s,error:this.getError(v),value:n[v],name:v,onChange:r,onFocus:a,onBlur:i});return d(l.FormSection,{className:(0,o.default)(p&&p(s)),title:h()},v,m(_,u))},a.renderFormRow=function(e){var t=e.fields.map(this.renderFormSection);return d(i.default,{className:(0,o.default)(s.default.row,e.className)},e.fields.map(function(e){return e.name}).join(""),t)},a.render=function(){var e=this.props,t=e.form;return d("div",{className:e.className},void 0,t.map(this.renderFormRow))},r}(a.PureComponent);m.displayName="FormRenderer";var h=m;t.default=h},6055:function(e,t,n){},6056:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CopyInputModes=void 0;var r,a=c(n(2)),o=d(n(17)),i=n(192),l=c(n(112)),s=d(n(158)),u=d(n(5336));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m={DEFAULT:"default",SUCCESS:"success",ERROR:"error"};t.CopyInputModes=m;var h=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).handleButtonClick=n.handleButtonClick.bind(p(n)),p(n).handleInputClick=n.handleInputClick.bind(p(n)),p(n).setRef=n.setRef.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.setRef=function(e){this.input=e},d.select=function(){var e=this.input;e&&e.select()},d.renderInput=function(e){var t,n=this.props,r=n.value,l=n.mode;return a.createElement("input",{className:(0,o.default)((0,i.getClass)(u.default,"input",l),(t={},t[u.default.inputHidden]=e,t)),ref:this.setRef,placeholder:"input here",type:"text",value:r,onClick:this.handleInputClick,readOnly:!0})},d.render=function(){var e,t=this.props,n=t.text,r=t.mode,a=t.hideMessage,d=t.className,c=t.buttonLook,p=null!=a;switch(r){case m.SUCCESS:e=l.ButtonColors.GREEN;break;case m.ERROR:e=l.ButtonColors.RED;break;default:e=this.props.buttonColor}return f("div",{className:(0,o.default)((0,i.getClass)(u.default,"copyInput",r),d)},void 0,f(s.default,{className:u.default.layout},void 0,f(s.default,{className:u.default.inputWrapper},void 0,this.renderInput(p),p?f("div",{className:u.default.hiddenMessage},void 0,a):null),f(s.default,{shrink:1,grow:0,style:{margin:0}},void 0,f(l.default,{className:u.default.button,onClick:this.handleButtonClick,size:l.ButtonSizes.MIN,color:e,look:c},void 0,n))))},d.handleButtonClick=function(){this.select();var e=this.props;(0,e.onCopy)(e.value)},d.handleInputClick=function(){this.select()},r}(a.PureComponent);h.displayName="CopyInput",h.defaultProps={text:"Copy",supportsCopy:!0,buttonColor:l.ButtonColors.GREY,buttonLook:l.ButtonLooks.GHOST,mode:m.DEFAULT},h.Modes=m,h.ButtonColors=l.ButtonColors,h.ButtonLooks=l.ButtonLooks;var v=h;t.default=v},6066:function(e){e.exports=[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]},6067:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(880);function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t,r;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).chromeVersion=(0,o.getChromeVersion)(),t.handleReady=function(){var e=t.props.onReady;null!=e&&e()},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=l.prototype;return s.renderSources=function(){var e=[i("source",{src:n(6139),type:"video/mp4"},"mp4"),i("img",{alt:"",src:n(6140)},"png")];return(this.chromeVersion>52||-1===this.chromeVersion)&&e.unshift(i("source",{src:n(6141),type:"video/webm"},"webm")),e},s.render=function(){var e=this.props,t=e.setRef,n=e.loop,r=e.autoPlay,o=e.className;return a.createElement("video",{ref:t,onLoadedData:this.handleReady,className:o,loop:n,autoPlay:r,playsInline:!0},this.renderSources())},l}(a.PureComponent);l.displayName="AppSpinner",l.defaultProps={loop:!0,autoPlay:!0};var s=l;t.default=s},6068:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=L(n(2)),o=M(n(17)),i=n(435),l=M(n(3)),s=M(n(817)),u=n(471),d=L(n(6099)),c=M(n(73)),f=L(n(5970)),p=n(5877),m=M(n(11)),h=M(n(896)),v=M(n(5904)),y=M(n(128)),_=L(n(5873)),E=M(n(18)),g=n(113),S=n(819),T=M(n(433)),I=M(n(6540)),N=M(n(6323)),A=L(n(5985)),P=n(0),O=M(n(10)),C=M(n(5235)),R=M(n(924)),b=M(n(5535));function M(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=w(_.AuthSpinner,{hideQuote:!0}),k=w(A.InviteResolvingHeader,{}),F=function(e){var t,r;function l(t){var n;(n=e.call(this,t)||this).setEmailRef=function(e){n.emailRef=e},n.setPasswordRef=function(e){n.passwordRef=e},n.setCodeRef=function(e){n.codeRef=e},n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null},n.handleLogin=function(e){var t=n.state,r=t.email,a=t.password,o=t.captchaKey,i=t.undelete;null!=e&&e.preventDefault(),s.default.login({email:r,password:a,undelete:i,captchaKey:o,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),g.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleTokenSubmit=function(e){var t=n.state.code,r=n.props.mfaTicket;null!=e&&e.preventDefault(),s.default.loginMFA({code:t.replace(/ /g,""),ticket:r,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),g.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,r=n.props.mfaTicket;null!=e&&e.preventDefault(),s.default.loginSMS({code:t.replace(/ /g,""),ticket:r}),g.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault(),s.default.requestSMSToken(t),g.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleForgotPassword=function(){var e=n.state.email;null!=n.emailRef&&n.emailRef.focus(),s.default.forgotPassword(e,function(){c.default.push(function(t){return a.createElement(T.default,D({header:O.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:O.default.Messages.OKAY,red:!1,className:S.isMobile?R.default.mobile:""},t),w(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.PRIMARY},void 0,O.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:e})))})}),g.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleReset=function(e){null!=e&&e.preventDefault(),s.default.loginReset(),n.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)},n.handleCaptchaVerify=function(e){n.setState({captchaKey:e},n.handleLogin)},n.handleGotoRegister=function(){var e=n.state.email,t=n.props,r=t.invite,a=t.giftCode,o=t.location,l=t.transitionTo,u=t.redirectTo;if(t.isGuest)return d.close(),void f.open();var c,p=null!=o?(0,i.parse)(o.search):{};""!==e&&(p.email=e),null!=r?(p.mode="register",c=P.Routes.INVITE(r.code)):null!=a?(p.mode="register",c=P.Routes.GIFT_CODE(a.code)):null!=u?(c=P.Routes.REGISTER,p.redirect_to=u):c=P.Routes.REGISTER,s.default.loginReset(),l(c,{search:(0,i.stringify)(p)}),g.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)};var r=null!=t.location?(0,i.parse)(t.location.search):{};return n.state={redirecting:t.authenticated,checkingHandoff:t.handoffAvailable,email:r.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},n}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h,v,M,L=l.prototype;return L.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,a=e.invite,o=e.location;t&&!n?(0,u.handoffBegin)():n&&this.loginOrSSO(n,o,!0),E.default.track(P.AnalyticEvents.LOGIN_VIEWED,D({location:null!=a?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=r?r.getAnalyticsData(!1,!1):{}),!0),(0,p.trackAppUIViewed)("login")},L.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.handoffAvailable;e.handoffAvailable||!t||e.authenticated||this.setState({checkingHandoff:!1})},L.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,a=this.state.checkingHandoff;!n||e.authenticated||a||this.loginOrSSO(n,r),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},L.loginOrSSO=function(e,t,n){var r=this;void 0===n&&(n=!1);var a=this.props.isGuest;e&&(null!=t||a)&&(n?s.default.verifySSOToken().then(function(){return r.transitionSSO(t)}):this.transitionSSO(t))},L.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo;if(t.isGuest&&null!=r)n(r);else{var a=null!=e?(0,i.parse)(e.search):{},o=(a.redirect_to,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(a,["redirect_to"]));if(null!=r)n(r);else if(null==o.service)n(P.Routes.APP);else{var l=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+P.Endpoints.SSO,s=D({},o,{token:m.default.getToken()});window.location=l+"?"+(0,i.stringify)(s)}}},L.hasError=function(e){return null!=this.props.errors[e]},L.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return w(_.default,{className:e},void 0,U,w(_.Title,{className:C.default.marginBottom8},void 0,O.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),w(_.Subtitle,{},void 0,O.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},L.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,r=e.authBoxClassName;return null==t?null:w(_.default,{className:r},void 0,w(_.Avatar,{src:t.getAvatarURL(),size:_.Avatar.Sizes.XXLARGE,className:C.default.marginBottom20}),w(_.Title,{className:C.default.marginBottom8},void 0,O.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),w(_.Subtitle,{className:C.default.marginBottom40},void 0,O.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),w(_.Block,{},void 0,w(_.Button,{onClick:function(){return n(P.Routes.APP)},className:C.default.marginBottom8},void 0,O.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),w(_.Button,{look:_.Button.Looks.LINK,onClick:this.handleReset},void 0,O.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},L.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===P.LoginStates.ACCOUNT_DISABLED,n=t?O.default.Messages.ACCOUNT_DISABLED_TITLE:O.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,r=t?O.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:O.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return w(_.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,w(_.Title,{className:C.default.marginBottom8},void 0,n),w(_.Subtitle,{className:C.default.marginBottom20},void 0,r),w(_.Block,{},void 0,w(_.Button,{color:_.Button.Colors.BRAND,type:"submit"},void 0,O.default.Messages.RETURN_TO_LOGIN),w("div",{className:(0,o.default)(C.default.marginTop8,b.default.needAccount)},void 0,O.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},L.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return w(_.default,{className:t},void 0,k,w(_.Block,{className:C.default.marginTop20},void 0,w(_.Input,{className:C.default.marginBottom20,label:O.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),w(_.Input,{className:C.default.marginBottom20,label:O.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),w(_.Button,{className:C.default.marginBottom8,type:"submit",disabled:!0},void 0,O.default.Messages.LOGIN),w(_.Button,{disabled:!0,look:_.Button.Looks.LINK},void 0,O.default.Messages.FORGOT_PASSWORD),w(_.Button,{disabled:!0,className:C.default.marginTop4,look:_.Button.Looks.LINK},void 0,O.default.Messages.NEED_ACCOUNT)))},L.renderDefault=function(){var e,t=this,n=this.props,r=n.invite,i=n.giftCode,l=n.loginStatus,s=n.authBoxClassName,u=n.isGuest,d=!this.hasError("email")&&this.hasError("password");return e=null!=r&&null!=r.channel?w(A.default,{invite:r}):null!=i?w(N.default,{giftCode:i}):u?null:w(a.Fragment,{},void 0,w(_.Title,{className:C.default.marginBottom8},"title",O.default.Messages.LOGIN_TITLE),w(_.Subtitle,{},"subtitle",O.default.Messages.AUTH_LOGIN_BODY)),w(_.default,{onSubmit:this.handleLogin,tag:"form",className:s},void 0,e,w(_.Block,{className:C.default.marginTop20},void 0,w(_.Input,{className:C.default.marginBottom20,label:O.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(e){return t.setState({email:e})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!d}),w(_.Input,{label:O.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d,value:this.state.password}),w(_.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:_.Button.Looks.LINK,className:(0,o.default)(C.default.marginBottom20,C.default.marginTop4)},void 0,O.default.Messages.FORGOT_PASSWORD),w(_.Button,{type:"submit",submitting:l===P.LoginStates.LOGGING_IN,className:C.default.marginBottom8},void 0,O.default.Messages.LOGIN),w("div",{className:C.default.marginTop4},void 0,w("span",{className:b.default.needAccount},void 0,O.default.Messages.NEED_ACCOUNT),w(_.Button,{onClick:this.handleGotoRegister,look:_.Button.Looks.LINK,className:b.default.smallRegisterLink},void 0,O.default.Messages.REGISTER))))},L.renderMFA=function(){var e=this,t=this.props,r=t.loginStatus,a=t.mfaSMS,o=t.authBoxClassName;return w(_.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:o},void 0,w("img",{alt:"",src:n(6149),className:C.default.marginBottom20}),w(_.Title,{className:C.default.marginBottom8},void 0,O.default.Messages.TWO_FA),w(_.Subtitle,{},void 0,O.default.Messages.TWO_FA_ENTER_TOKEN_BODY),w(_.Block,{className:C.default.marginTop40},void 0,w(_.Input,{className:C.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:O.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:O.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),w(_.Button,{type:"submit",submitting:r===P.LoginStates.LOGGING_IN_MFA},void 0,O.default.Messages.LOGIN),a?w(_.Button,{onClick:this.handleToggleSMSLogin,submitting:r===P.LoginStates.LOGGING_IN_MFA_SMS,className:C.default.marginTop8,look:_.Button.Looks.LINK},void 0,O.default.Messages.MFA_SMS_RECEIVE_CODE):null,w(_.Button,{look:_.Button.Looks.LINK,className:C.default.marginTop4,onClick:this.handleReset},void 0,O.default.Messages.TWO_FA_LOGIN_FOOTER)))},L.renderMFASMS=function(){var e=this,t=this.props,r=t.loginStatus,a=t.maskedPhone,o=t.authBoxClassName,i=r===P.LoginStates.LOGGING_IN_MFA_SMS||""===a;return w(_.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:o},void 0,w("img",{alt:"",src:n(6149),className:C.default.marginBottom20}),w(_.Title,{className:C.default.marginBottom8},void 0,O.default.Messages.TWO_FA),w(_.Subtitle,{className:C.default.marginBottom8},void 0,i?O.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:O.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:a})),w(_.Block,{className:C.default.marginTop40},void 0,w(_.Input,{className:C.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:O.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:O.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),w(_.Button,{type:"submit",submitting:i,color:i?_.Button.Colors.TRANSPARENT:_.Button.Colors.BRAND},void 0,O.default.Messages.LOGIN),i?null:w(_.Button,{onClick:this.handleToggleSMSLogin,className:C.default.marginTop8,look:_.Button.Looks.LINK},void 0,O.default.Messages.MFA_SMS_RESEND),w(_.Button,{look:_.Button.Looks.LINK,className:C.default.marginTop4,onClick:this.handleReset},void 0,O.default.Messages.TWO_FA_LOGIN_FOOTER)))},L.render=function(){var e=this.props,t=e.authenticated,n=e.invite,r=e.loginStatus,a=e.handoffAvailable,o=e.isGuest,i=e.authBoxClassName,l=this.state,s=l.checkingHandoff;if(l.redirecting)return null;if(this.hasError("captcha_key"))return w(I.default,{authBoxClassName:i,onVerify:this.handleCaptchaVerify,title:o?null:O.default.Messages.LOGIN_TITLE});if(a)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(r){case P.LoginStates.LOGGING_IN_MFA_SMS:case P.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case P.LoginStates.LOGGING_IN_MFA:case P.LoginStates.MFA_STEP:return this.renderMFA();case P.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case P.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case P.LoginStates.LOGGING_IN:case P.LoginStates.NONE:default:return null!=n&&n.state===P.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},h=l,(v=[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,r=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":r?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}])&&B(h.prototype,v),M&&B(h,M),l}(a.PureComponent);F.displayName="Login",F.defaultProps={isGuest:!1,transitionTo:function(t){return e.location.assign(t)}};var G=l.default.connectStores([m.default,h.default,v.default],function(){return{authenticated:m.default.isAuthenticated(),handoffAvailable:h.default.isHandoffAvailable(),user:h.default.user,loginStatus:m.default.getLoginStatus(),mfaTicket:m.default.getMFATicket(),mfaSMS:m.default.getMFASMS(),maskedPhone:m.default.getMaskedPhone(),errors:m.default.getErrors(),defaultRoute:v.default.defaultRoute}})(F);t.default=G}).call(this,n(7))},6099:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),r.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_CLOSE})};var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6112:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(52)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(136)),o=u(n(813)),i=u(n(814)),l=u(n(851)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(e){var t,n,r,u,c;function f(){return e.apply(this,arguments)||this}return n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,f.createFromServer=function(e){var t=null!=e.payment_source?o.default.createFromServer(e.payment_source):null,n=null!=e.sku?i.default.createFromServer(e.sku):null,r=null!=e.subscription?l.default.createFromServer(e.subscription):null;return new f({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:t,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:r,skuId:e.sku_id,skuPrice:e.sku_price,sku:n})},f.prototype.initialize=function(e){this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku,this.flags=e.flags},r=f,(u=[{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&(null==this.subscription.plan||s.PREMIUM_PLANS.has(this.subscription.plan))}},{key:"isGift",get:function(){return a.hasFlag(this.flags,s.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(s.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return a.hasFlag(this.flags,s.PaymentFlags.PREORDER)}}])&&d(r.prototype,u),c&&d(r,c),f}(r.default);t.default=c},6113:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),u=E(n(6)),d=(n(429),E(n(799))),c=E(n(5957)),f=n(840),p=E(n(6457)),m=E(n(6458)),h=E(n(6459)),v=E(n(6054)),y=E(n(10)),_=E(n(5243));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object.freeze({CARD_NUMBER:"cardNumber",EXPIRATION_DATE:"expirationDate",CVC:"cvc",NAME:"name"}),I=Object.freeze({MODAL:"modal"}),N=((r={})[T.CARD_NUMBER]={name:T.CARD_NUMBER,title:function(){return y.default.Messages.CREDIT_CARD_NUMBER},autoComplete:"cc-number",placeholder:function(){return y.default.Messages.PAYMENT_SOURCE_CARD_NUMBER},pattern:"\\d*",getClassNameForLayout:function(){return _.default.width100},renderInput:function(e,t){return s.createElement(m.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)},flipped:t.codeFocused,autoFocus:!0}))}},r[T.EXPIRATION_DATE]={name:T.EXPIRATION_DATE,title:function(){return y.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return y.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return _.default.width50},renderInput:function(e,t){return s.createElement(h.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r[T.CVC]={name:T.CVC,title:function(){return y.default.Messages.CREDIT_CARD_CVC},autoComplete:"cc-csc",placeholder:function(){return y.default.Messages.CREDIT_CARD_SECURITY_CODE},pattern:"\\d*",getClassNameForLayout:function(){return _.default.width50},renderInput:function(e,t){return s.createElement(p.default,S({},e,{cardType:t.cardType,inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r[T.NAME]={name:T.NAME,title:function(){return y.default.Messages.CREDIT_CARD_NAME_ON_CARD},autoComplete:"cc-name",placeholder:function(){return y.default.Messages.CREDIT_CARD_NAME},getClassNameForLayout:function(){return _.default.width100},renderInput:function(e,t){return s.createElement(d.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r),A=((a={})[I.MODAL]=[{fields:[N[T.CARD_NUMBER]]},{fields:[N[T.EXPIRATION_DATE],N[T.CVC]]},{fields:[N[T.NAME]]}],a),P=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).state={codeFocused:!1,values:(t={},t[T.CARD_NUMBER]=n.props[T.CARD_NUMBER],t[T.EXPIRATION_DATE]=n.props[T.EXPIRATION_DATE],t[T.CVC]=n.props[T.CVC],t[T.NAME]=n.props[T.NAME],t),dirtyFields:{},errors:{}},n._refs={},n.setRef=function(e,t){n._refs[e]=t},n.handleFieldBlur=function(e,t){var r={errors:n.validateForm(!0)};t===T.CVC&&(r.codeFocused=!1),n.setState(r)},n.handleFieldFocus=function(e,t){t===T.CVC&&n.setState({codeFocused:!0})},n.handleFieldChange=function(e,t,r){var a,o;if(void 0===r&&(r=!1),null==t)throw new Error("You must provide a name for the field.");var i=n.state,l=i.values,s=i.dirtyFields,u=i.errors;delete u[t],n.setState({values:S({},l,(a={},a[t]=e,a)),dirtyFields:S({},s,(o={},o[t]=!0,o)),errors:u},function(){if(r){if(null==t)throw new Error("You must provide a name for the field.");var e=n.getNextFieldName(t);null!=e&&null!=n._refs[e]&&n._refs[e].focus()}})},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.ensureStripeIsLoaded)();case 2:l=e.sent,this.handleInfoChange();case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,l,"next",e)}function l(e){g(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),a.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},a.getNextFieldName=function(e){var t=this.props.layout,n=A[t],r=(0,u.default)(n).flatMap(function(e){return e.fields}).map(function(e){return e.name}).value(),a=r.indexOf(e);return-1===a||a===r.length-1?null:r[a+1]},a.validateForm=function(e){if(null==l)return{};var t=this.state,n=t.values,r=t.dirtyFields,a={};return e&&!r[T.CARD_NUMBER]||(n[T.CARD_NUMBER]?l.card.validateCardNumber(n[T.CARD_NUMBER])||(a[T.CARD_NUMBER]=y.default.Messages.CREDIT_CARD_ERROR_NUMBER):a[T.CARD_NUMBER]=y.default.Messages.CREDIT_CARD_ERROR_REQUIRED),e&&!r[T.EXPIRATION_DATE]||l.card.validateExpiry(n[T.EXPIRATION_DATE])||(a[T.EXPIRATION_DATE]=y.default.Messages.CREDIT_CARD_ERROR_EXPIRATION),e&&!r[T.CVC]||l.card.validateCVC(n[T.CVC])||(a[T.CVC]=y.default.Messages.CREDIT_CARD_ERROR_SECURITY_CODE),e&&!r[T.NAME]||n[T.NAME]||(a[T.NAME]=y.default.Messages.PAYMENT_SOURCE_NAME_ERROR_REQUIRED),a},a.handleInfoChange=function(){var e=this.state.values,t=this.validateForm(!1);this.props.onCardInfoChange(e,0===Object.keys(t).length)},a.render=function(){var e=this.props,t=e.layout,n=e.error,r=e.className,a=this.state,o=a.errors,l=a.codeFocused,s=a.values,u=A[t];if(null==u)throw new Error("Provide a proper layout property.");var d=c.default.getCreditCardType(s[T.CARD_NUMBER]);return function(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(v.default,{className:r,form:u,layout:t,values:s,errors:o,formError:n,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,onFieldFocus:this.handleFieldFocus,codeFocused:l,cardType:d,setInputRef:this.setRef})},r}(s.PureComponent);P.displayName="CardInfoForm",P.Layouts=I,P.defaultProps=((o={})[T.CARD_NUMBER]="",o[T.EXPIRATION_DATE]="",o[T.CVC]="",o[T.NAME]="",o.layout=I.MODAL,o);var O=P;t.default=O},6114:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(112)),i=p(n(158)),l=p(n(5872)),s=n(796),u=p(n(6460)),d=n(0),c=p(n(10)),f=p(n(5332));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=[{type:d.PaymentSourceTypes.CARD,text:function(){return c.default.Messages.PAYMENT_SOURCE_CREDIT_CARD},iconType:l.default.Types.UNKNOWN},{type:d.PaymentSourceTypes.PAYPAL,text:function(){return c.default.Messages.PAYMENT_SOURCE_PAYPAL},iconType:l.default.Types.PAYPAL}],v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.onChooseType,n=e.className,r=e.onPaymentSourceReceived,a=e.allowStripeRequestPayments,d=a?m(u.default,{className:f.default.button,iconClassName:f.default.buttonIcon,paymentLabel:c.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_LABEL,onSourceReceived:r,onChooseType:t}):null,p=a?f.default.vertical:f.default.horizonal,v=a?i.default.Direction.VERTICAL:i.default.Direction.HORIZONTAL,y=h.map(function(e){return m(o.default,{onClick:function(){return t(e.type)},className:f.default.button},e.type,m(i.default,{align:i.default.Align.CENTER},void 0,m(l.default,{className:f.default.buttonIcon,type:e.iconType}),e.text()))});return m(s.FormSection,{title:c.default.Messages.PAYMENT_SOURCE_TYPE_SELECT,className:n},void 0,m(i.default,{className:p,direction:v},void 0,y,d))},r}(a.PureComponent);v.displayName="ChoosePaymentSourceType";var y=v;t.default=y},6115:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=m(n(3)),i=h(n(844)),l=m(n(854)),s=m(n(5926)),u=m(n(5872)),d=m(n(799)),c=m(n(804)),f=m(n(10)),p=m(n(5333));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){null!=this.props.paypalClient&&i.tokenizePayPal()},a.componentWillUnmount=function(){i.teardown().then(function(){return i.createPayPalClient()})},a.render=function(){var e=this.props,t=e.braintreeEmail,n=e.className,r=e.paypalClient;return v(c.default,{className:n,title:f.default.Messages.PAYMENT_SOURCE_PAYPAL_ACCOUNT},void 0,v("div",{className:p.default.inputWrapper},void 0,v(u.default,{type:u.default.Types.PAYPAL,className:p.default.paypalIcon}),v(d.default,{value:t,editable:!1,readOnly:!0,placeholder:null==r?f.default.Messages.PAYMENT_SOURCE_PAYPAL_LOADING:f.default.Messages.PAYMENT_SOURCE_CONFIRM_PAYPAL_DETAILS,inputClassName:p.default.paypalInput})))},r}(a.PureComponent);y.displayName="PaypalConnector";var _=o.default.connectStores([l.default,s.default],function(){return{braintreeEmail:s.default.braintreeEmail,paypalClient:l.default.getPayPalClient()}})(y);t.default=_},6116:function(e,t,n){"use strict";t.__esModule=!0,t.PaymentRequestStepBody=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(17)),o=(n(6055),d(n(5872))),i=d(n(799)),l=d(n(804)),s=d(n(10)),u=d(n(5335));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n=e.className,r=e.submitting,d=(e.stripePaymentSource||{}).card,f=d?o.default.getType(d.brand):o.default.Types.UNKNOWN;return c(l.default,{className:n,title:s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE},void 0,c("div",{className:u.default.cardNumberWrapper},void 0,c(o.default,{className:(0,a.default)(u.default.cardIcon,(t={},t[u.default.submitting]=r,t)),type:f}),c(i.default,{value:r&&d?s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_CREATING.format(d):null,editable:!1,readOnly:!0,placeholder:s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_LOADING,inputClassName:u.default.cardNumberInput})))};t.PaymentRequestStepBody=f,f.displayName="PaymentRequestStepBody"},6139:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6140:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6141:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6142:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(3)),i=p(n(5975)),l=(n(429),f(n(813)),f(n(5926))),s=f(n(240)),u=n(5892),d=p(n(6532)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,l,"next",e)}function l(e){m(o,r,a,i,l,"throw",e)}i(void 0)})}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=[u.Steps.REVIEW,u.Steps.CONFIRM],_=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._hasChangedSteps=!1,n.handlePaypalContinue=function(){n.setState({step:u.Steps.PAYPAL_ADDRESS})},n.handleCreditCardContinue=function(){n.setState({step:u.Steps.ADDRESS})},n.handleReviewPaymentSourceChange=function(e,t){if(t){n.setState({step:u.Steps.PAYMENT_TYPE,steps:d.ADD_PAYMENT_STEPS,paymentSourceId:null});var r=n.props.onClearError;r&&r()}else n.setState({paymentSourceId:e.value})},n.handleBack=function(){var e=n.props,t=e.paymentSources,r=e.onClose,a=n.state,o=a.step,l=a.steps,s=n.stepsToRender,c=(0,u.getStepIndex)(o,s);if(c>0){var f=s[c-1],p=f===u.Steps.PAYMENT_TYPE;p&&i.clearError(),n.setState({step:f,steps:p?d.ADD_PAYMENT_STEPS:l})}else if((0,u.canGoBack)(c,t)){var m=n.props.defaultPaymentSourceId;n.setState({step:u.Steps.REVIEW,steps:d.REVIEW_PAYMENT_STEPS,paymentSourceId:m})}else r()},n.handleChoosePaymentType=function(e){switch(e){case c.PaymentSourceTypes.PAYPAL:n.setState({step:u.Steps.PAYPAL,steps:d.ADD_PAYPAL_STEPS});break;case c.PaymentSourceTypes.CARD:n.setState({step:u.Steps.CREDIT_CARD_INFORMATION,steps:d.ADD_CARD_STEPS});break;case c.PaymentSourceTypes.PAYMENT_REQUEST:n.setState({step:u.Steps.PAYMENT_REQUEST_INFO,steps:d.ADD_PAYMENT_REQUEST_STEPS})}},n.handlePaymentSourceAdd=function(e){n.setState({step:u.Steps.REVIEW,paymentSourceId:e})},n.handlePurchase=h(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.paymentSources,a=t.onPurchase,o=t.isGift,null!=(i=n.state.paymentSourceId)&&null!=r[i]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,a(r[i],o);case 7:n.setState({steps:y,step:u.Steps.CONFIRM}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,null,[[4,10]])})),n.handleSelectPlan=function(){var e=n.props.paymentSources,t=Object.values(e).length>0;n.setState({step:t?u.Steps.REVIEW:u.Steps.PAYMENT_TYPE})};var r=t.defaultPaymentSourceId,a=t.paymentSources,o=t.initialStep,l=Object.values(a).length>0,s=o;return null==s&&(s=l?u.Steps.REVIEW:u.Steps.PAYMENT_TYPE),n.state={paymentSourceId:r,steps:l?d.REVIEW_PAYMENT_STEPS:d.ADD_PAYMENT_STEPS,step:s,errorStep:null},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,s,f=a.prototype;return f.componentDidUpdate=function(e,t){var n=this.props.onStepChange,r=this.state.step;r!==t.step&&(this._hasChangedSteps=!0,null!=n&&n(t.step,r))},a.getDerivedStateFromProps=function(e,t){var n=e.billingError,r=t.errorStep,a={};if(null==n)null!=r&&(a.errorStep=null);else{var o=(0,u.errorToStep)(n);null!=o&&o!==t.errorStep&&(a.step=o,a.errorStep=o)}return null==t.paymentSourceId&&null!=e.defaultPaymentSourceId&&(a.paymentSourceId=e.defaultPaymentSourceId),a},f.render=function(){var e,t=this,n=this.props,a=n.isPurchasing,o=n.canSubmit,i=n.submitButtonText,l=n.useShinySubmitButton,s=n.legalNotice,c=n.renderHeader,f=n.onPaymentSourceChange,p=n.price,m=n.onClearError,h=n.size,v=n.renderConfirmationBody,y=n.renderConfirmationFooter,_=n.className,E=n.isGift,g=n.isGiftable,S=n.needsToBeGift,T=n.onIsGiftUpdate,I=((e={})[u.Steps.CONFIRM]={renderBody:v,renderFooter:y},e[u.Steps.SELECT_PLAN]={renderBody:function(){return t.props.renderSelectPlanBody(t.handleSelectPlan)},renderFooter:function(){return t.props.renderSelectPlanFooter()}},e),N=this.state,A=N.step,P=N.paymentSourceId,O=this.stepsToRender;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{className:_,isPurchasing:a,canSubmit:o,submitButtonText:i,useShinySubmitButton:l,legalNotice:s,renderHeader:c,onPaymentSourceChange:f,price:p,onClearError:m,size:h,extraRenderers:I,step:A,steps:O,paymentSourceId:P,isGiftable:g,isGift:E,needsToBeGift:S,onIsGiftUpdate:T,onBack:this.handleBack,onChoosePaymentType:this.handleChoosePaymentType,onCreditCardContinue:this.handleCreditCardContinue,onPaymentSourceAdd:this.handlePaymentSourceAdd,onPurchase:this.handlePurchase,onPaypalContinue:this.handlePaypalContinue,onReviewPaymentSourceChange:this.handleReviewPaymentSourceChange})},o=a,(l=[{key:"stepsToRender",get:function(){var e=this.props.prependSteps,t=this.state.steps;return null!=e?[].concat(e,t):t}},{key:"closable",get:function(){var e=this.state.step;return 0===(0,u.getStepIndex)(e,this.stepsToRender)||!this._hasChangedSteps}}])&&v(o.prototype,l),s&&v(o,s),a}(a.Component);_.displayName="PaymentModal",_.defaultProps={useShinySubmitButton:!1,needsToBeGift:!1,isGiftable:!1,isGift:!1,renderConfirmationBody:c.NOOP_NULL,renderConfirmationFooter:c.NOOP_NULL,renderSelectPlanBody:c.NOOP_NULL,renderSelectPlanFooter:c.NOOP_NULL};var E=o.default.connectStores([s.default,l.default],function(){return{paymentSources:s.default.paymentSources,defaultPaymentSourceId:s.default.defaultPaymentSourceId,billingError:l.default.error}},{forwardRef:!0})(_);t.default=E},6143:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(3)),i=n(59),l=E(n(6171)),s=E(n(306)),u=E(n(6056)),d=E(n(158)),c=E(n(5862)),f=n(796),p=n(5869),m=n(320),h=E(n(45)),v=n(0),y=E(n(10)),_=E(n(5256));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=1500,I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={copyMode:u.default.Modes.DEFAULT},t._copyModeTimeout=new i.Timeout,t.handleGiftCodeCopy=function(e,n){var r=t.props.sku;null!=r&&(0,m.trackGiftCodeCopy)(new l.default({code:n,maxUses:1}),r);try{(0,p.copy)(e),t.setState({copyMode:u.default.Modes.SUCCESS})}catch(e){t.setState({copyMode:u.default.Modes.ERROR})}t._copyModeTimeout.start(T,function(){t.setState({copyMode:u.default.Modes.DEFAULT})})},t.handleInventoryClick=function(){h.default.transitionTo(v.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,s,E=r.prototype;return E.componentWillUnmount=function(){this._copyModeTimeout.stop()},E.render=function(){var e,t=this,n=this.props,r=n.obscureGiftCode,a=n.giftCode,o=n.application,i=this.state.copyMode;switch(i){case u.default.Modes.SUCCESS:e=y.default.Messages.BILLING_GIFT_COPIED;break;case u.default.Modes.ERROR:e=y.default.Messages.FAILED;break;default:e=y.default.Messages.COPY}return g(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,g(c.default,{game:o,className:_.default.icon,size:c.default.Sizes.LARGE,skuId:this.iconSKUId}),g("div",{className:_.default.header},void 0,y.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_CONFIRMATION_TITLE),g("div",{className:_.default.blurb},void 0,this.headerBlurb),g("div",{className:_.default.divider}),g(d.default,{direction:d.default.Direction.VERTICAL},void 0,g(f.FormTitle,{},void 0,y.default.Messages.BILLING_GIFT_LINK),g(u.default,{hideMessage:r?y.default.Messages.GIFT_INVENTORY_HIDDEN:null,value:(0,m.getGiftCodeURL)(a),mode:i,text:e,onCopy:function(e){return t.handleGiftCodeCopy(e,a)},supportsCopy:p.SUPPORTS_COPY,className:_.default.copyInput,buttonColor:u.default.ButtonColors.BRAND,buttonLook:u.default.ButtonLooks.FILLED}),g("div",{className:_.default.subtext},void 0,y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_SUBTEXT.format({onInventoryClick:this.handleInventoryClick}))))},a=r,(o=[{key:"iconSKUId",get:function(){var e=this.props,t=e.subscriptionPlan,n=e.sku;return null!=t?t.skuId:null!=n?n.id:null}},{key:"headerBlurb",get:function(){var e=this.props.subscriptionPlan,t=y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_BLURB;null!=e&&(t=(e.interval===v.SubscriptionIntervalTypes.MONTH?y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_MONTHLY:y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_YEARLY).format({skuName:e.skuId===v.PremiumSubscriptionSKUs.TIER_1?y.default.Messages.PREMIUM_TIER_1:y.default.Messages.PREMIUM_TIER_2,intervalCount:e.intervalCount}));return t}}])&&S(a.prototype,o),s&&S(a,s),r}(a.Component);I.displayName="GiftPurchaseConfirmation";var N=o.default.connectStores([s.default],function(){return{obscureGiftCode:s.default.enabled}})(I);t.default=N},6144:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=n(429),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,d,c=i.PremiumPaymentSubscriptionModes.NEW,f=null,p=i.FormStates.CLOSED,m=null,h=null,v=null,y=null,_=!1,E=!1,g=null,S=null,T=null,I=null,N=null;function A(){p=i.FormStates.CLOSED,m=null,f=null,T=null,y=null,g=null,v=null,N=null,I=null}function P(){null==u||null==f&&null==T?null!=d&&d(null!=m?m.message:null):u(),u=null,d=null,A()}function O(e){var t=e.error;m=t,p!==i.FormStates.CLOSED&&(p=i.FormStates.OPEN)}function C(){m=null}var R=new(function(e){var t,n,r,a,o;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.isOpen=function(){var e=__OVERLAY__?i.AppContext.OVERLAY:i.AppContext.APP;return N===e&&p===i.FormStates.OPEN},r=l,(a=[{key:"subscriptionMode",get:function(){return c}},{key:"paymentError",get:function(){return m}},{key:"plan",get:function(){return h}},{key:"planId",get:function(){return v}},{key:"trialId",get:function(){return y}},{key:"formState",get:function(){return p}},{key:"isGift",get:function(){return _}},{key:"isGiftingFromChat",get:function(){return E}},{key:"skuId",get:function(){return S}},{key:"giftCode",get:function(){return T}},{key:"followupSKUInfo",get:function(){return g}},{key:"analyticsLocation",get:function(){return I}}])&&s(r.prototype,a),o&&s(r,o),l}(r.default.Store))(a.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.skuId,r=e.plan,a=e.trialId,o=e.isGift,l=e.isGiftingFromChat,s=e.analyticsLocation,f=e.context,m=e.resolve,T=e.reject,P=e.followupSKUInfo;null!=d&&d(),A(),p=i.FormStates.OPEN,c=t,S=null!=n?n:i.SubscriptionPlanInfo[r].skuId,v=null!=(h=r)?i.SubscriptionPlanInfo[h].id:null,y=a,_=o,E=l,I=s,N=f,g=P,u=m,d=T},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return P()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:O,PREMIUM_PAYMENT_UPDATE_FAIL:O,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){C(),f=e.subscription},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return C()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return C()},PREMIUM_PAYMENT_UPDATE_IS_GIFT:function(e){_=e.isGift},PREMIUM_PAYMENT_SELECT_PLAN:function(e){v=e.subscriptionPlanId,h=Object.keys(i.SubscriptionPlanInfo).find(function(e){return i.SubscriptionPlanInfo[e].id===v})},STRIPE_TOKEN_FAILURE:function(e){return function(){if(p===i.FormStates.CLOSED)return!1;p=i.FormStates.OPEN}()},BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:function(e){c!==i.PremiumPaymentSubscriptionModes.NEW&&P()},BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;m=new o.BillingError(t,n)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){e.skuId===S&&null==v&&(v=e.subscriptionPlans[0].id)},SKU_PURCHASE_SUCCESS:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(T=e.giftCode)},SKU_PURCHASE_FAIL:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(m=e.error)}});t.default=R},6145:function(e,t,n){"use strict";t.__esModule=!0,t.ShakeScenes=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=c(n(17)),s=c(n(304)),u=c(n(6538)),d=c(n(5354));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),h=Object.freeze(((r={})[m.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},r[m.SPEED_START]={BEG:601,END:636},r[m.SPEED_LOOP]={BEG:637,END:668},r[m.FINISH]={BEG:669,END:870},r[m.IDLE]={BEG:871,END:878},r)),v=function(e){function t(){return e.apply(this,arguments)||this}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}};var r=t.prototype;return r.importData=function(){return n.e(275).then(n.t.bind(null,7014,7)).then(function(e){return e.default})},r.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onScenePlay,a=e.onSceneComplete;return f(u.default,{className:t,importData:this.importData,scene:n,sceneSegments:h,onScenePlay:r,onSceneComplete:a})},t}(i.PureComponent);t.PremiumPaymentAnimationTier1=v,v.displayName="PremiumPaymentAnimationTier1",v.Scenes=m;var y=Object.freeze({IDLE_ENTRY:"idle_entry",IDLE_LOOP:"idle_loop",BOOST_START:"boost_start",BOOST_LOOP:"boost_loop",BOOST_END:"boost_end",VICTORY:"victory",ERROR:"error"}),_=Object.freeze(((a={})[y.IDLE_ENTRY]={BEG:0,END:50},a[y.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},a[y.BOOST_START]={BEG:230,END:275},a[y.BOOST_LOOP]={BEG:275,END:290},a[y.BOOST_END]={BEG:386,END:455},a[y.VICTORY]={BEG:470,END:525},a[y.ERROR]={BEG:290,END:375},a)),E=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}},n.render=function(){var e=this.props.className;return f("div",{className:d.default.panningAnimation},void 0,f(s.default.div,{className:e,style:this.getStyle(!1)}),f(s.default.div,{className:e,style:this.getStyle(!0)}))},t}(i.PureComponent);E.displayName="PanningAnimation";var g=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:s.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),S=1.2,T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).backgroundAnimation=new s.default.ValueXY({x:0,y:0}),t.foregroundAnimation=new s.default.ValueXY({x:0,y:0}),t.didUnmount=!1,t.animateIdleLoopBackground=function(){t.didUnmount||(t.backgroundAnimation.x.setValue(0),s.default.timing(t.backgroundAnimation.x,{toValue:g.IDLE_LOOP.toValue,duration:g.IDLE_LOOP.duration*S,easing:s.default.Easing.linear}).start(t.animateIdleLoopBackground))},t.animateIdleLoopForeground=function(){t.didUnmount||(t.foregroundAnimation.x.setValue(0),s.default.timing(t.foregroundAnimation.x,{toValue:g.IDLE_LOOP.toValue,duration:g.IDLE_LOOP.duration,easing:g.IDLE_LOOP.easing}).start(t.animateIdleLoopForeground))},t.handleScenePlay=function(e){switch(e){case y.IDLE_ENTRY:t.animateIdleEntry(),t.animateIdleLoop();break;case y.ERROR:t.animateError();break;case y.BOOST_START:t.animateBoostStart()}var n=t.props.onScenePlay;null!=n&&n(e)},t}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}};var r=t.prototype;return r.componentWillUnmount=function(){this.didUnmount=!0},r.importData=function(){return n.e(276).then(n.t.bind(null,7015,7)).then(function(e){return e.default})},r.animateEntry=function(e){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),s.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*S,delay:e.delay||0})]).start()},r.animateIdleEntry=function(){this.animateEntry(g.IDLE_ENTRY)},r.animateError=function(){this.animateEntry(g.ERROR)},r.animateIdleLoop=function(){this.animateIdleLoopBackground(),this.animateIdleLoopForeground()},r.animateBoostStart=function(){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:g.BOOST_START.toValue,duration:g.BOOST_START.duration,delay:g.BOOST_START.delay}),s.default.timing(this.backgroundAnimation.y,{toValue:g.BOOST_START.toValue,duration:g.BOOST_START.duration*S,delay:g.BOOST_START.delay})]).start()},r.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onSceneComplete;return f("div",{className:(0,l.default)(d.default.tier2Animation,t)},void 0,f(E,{className:d.default.tier2Background,animation:this.backgroundAnimation}),f(E,{className:d.default.tier2Foreground,animation:this.foregroundAnimation}),f(u.default,{importData:this.importData,scene:n,sceneSegments:_,onScenePlay:this.handleScenePlay,onSceneComplete:r}))},t}(i.PureComponent);t.PremiumPaymentAnimationTier2=T,T.displayName="PremiumPaymentAnimationTier2",T.Scenes=y;var I=new Set([v.Scenes.SPEED_LOOP,v.Scenes.SPEED_START,T.Scenes.BOOST_LOOP,T.Scenes.BOOST_START]);t.ShakeScenes=I},6146:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(6))&&r.__esModule?r:{default:r};var i=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.shouldRenderFrame=!0,t.animate=function(){var e=t.props,n=e.intensity;if(e.isShaking){var r=t.ref.current;if(t.shouldRenderFrame&&null!=r){var a=o.default.random(-n,n,!0),i=o.default.random(-n,n,!0);r.style.transform="translate3d("+a+"px,"+i+"px,0px)"}t.shouldRenderFrame=!t.shouldRenderFrame,t.animationFrame=requestAnimationFrame(t.animate)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.props.isShaking&&this.startShaking()},i.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},i.setShaking=function(e){e?this.startShaking():this.stopShaking()},i.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},i.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},i.render=function(){var e=this.props,t=e.className,n=e.children;return a.createElement("div",{className:t,ref:this.ref},n)},r}(a.Component);i.displayName="Shaker",i.defaultProps={isShaking:!0,intensity:5};var l=i;t.default=l},6147:function(e,t,n){"use strict";t.__esModule=!0,t.default=c;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(112)),o=u(n(6539)),i=n(0),l=u(n(10)),s=u(n(5356));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.premiumType,n=e.theme,r=e.followupSKU,u=e.onClose,c=e.onViewGames,f=e.isUpgrade,p=void 0!==f&&f,m=e.isForGuildSubscription,h=void 0!==m&&m,v=null!=r||t!==i.PremiumTypes.TIER_2||h?u:c;return d("div",{className:s.default.container},void 0,d(o.default,{className:s.default.upgradedBanner,theme:n,premiumType:t,type:p?o.default.Types.UPGRADE:o.default.Types.ACTIVATED}),d("div",{className:s.default.message},void 0,function(e,t,n,r){return null!=r?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_IAP.format({skuName:r.name}):t?e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_1:n?l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2_GUILD_SUBSCRIBE:l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2:e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_WITH_APPLICATIONS}(t,p,h,r)),d(a.default,{onClick:v},void 0,function(e,t,n,r){return null!=r?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_IAP.format({skuName:r.name}):t?e===i.PremiumTypes.TIER_1||n?l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_1:l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_2:e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_WITH_APPLICATIONS}(t,p,h,r)))}c.displayName="PremiumPaymentConfirmation"},6148:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(158)),i=p(n(302)),l=p(n(188)),s=p(n(190)),u=n(815),d=n(0),c=p(n(10)),f=p(n(5357));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t,n,r=e.hideCloseOnFullScreen,p=e.shouldShowPrice,h=e.plan,v=e.renderAnimation,y=e.onClose,_=e.isGift,E=e.upgradeToPremiumType,g=E===d.PremiumTypes.TIER_1;return m("div",{className:(0,a.default)((t={},t[f.default.tier1HeaderBackground]=E===d.PremiumTypes.TIER_1,t[f.default.tier2HeaderBackground]=E!==d.PremiumTypes.TIER_1,t))},void 0,v(),m(o.default,{align:o.default.Align.START,justify:o.default.Justify.BETWEEN,className:f.default.headerTop},void 0,m(i.default,{name:g?i.default.Names.NITRO_CLASSIC:i.default.Names.NITRO,className:(0,a.default)(f.default.headerIcon,(n={},n[f.default.tier1]=g,n))}),m(l.default.CloseButton,{hideOnFullscreen:r,onClick:y})),p&&null!=h?m("div",{className:f.default.price},void 0,function(e,t){var n=s.default.getPrice(e),r=s.default.getInterval(e),a=(0,u.formatPrice)(n.amount,n.currency);if(t)return a;switch(r){case d.SubscriptionIntervalTypes.MONTH:return c.default.Messages.BILLING_PRICE_PER_MONTH.format({price:a});case d.SubscriptionIntervalTypes.YEAR:return c.default.Messages.BILLING_PRICE_PER_YEAR.format({price:a})}}(h,_)):null)}h.displayName="PremiumPaymentHeader";var v=h;t.default=v},6149:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6172:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var r=l(n(9)),a=l(n(1)),o=l(n(324)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}var u=216e5;function d(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<u)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}},6176:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=m(n(2)),o=p(n(17)),i=m(n(813)),l=p(n(158)),s=p(n(5872)),u=p(n(5965)),d=n(0),c=p(n(10)),f=p(n(5337));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v="***@***.***",y="****",_="new_credit_card_id",E="null_payment_source_id",g=new i.CreditCardSourceRecord({id:_,brand:s.default.Types.UNKNOWN,type:d.PaymentSourceTypes.CARD}),S=new i.CreditCardSourceRecord({id:E,brand:s.default.Types.UNKNOWN,type:d.PaymentSourceTypes.CARD});var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){e.value!==S&&t.props.onChange&&t.props.onChange(e,e.value===_)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.selectedPaymentSourceId,n=e.paymentSources,r=e.showEmptyPromptOption,a=e.hidePersonalInformation,d=e.defaultPaymentSourceId,p=[].concat(r&&null==t?[S]:[],n,[g]).map(function(e){var t;if(!(e instanceof i.default))throw new Error("Invalid payment source");var n=function(e,t){if(e instanceof i.CreditCardSourceRecord)return e.id===_?{brand:null,label:c.default.Messages.PAYMENT_SOURCES_ADD}:e.id===E?{brand:null,label:c.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION}:{brand:t?s.default.Types.UNKNOWN:e.brand,label:c.default.Messages.PAYMENT_SOURCE_CARD_ENDING_IN.format({last4:t?y:e.last4})};if(e instanceof i.PaypalSourceRecord)return{brand:s.default.Types.PAYPAL,label:t?v:e.email};throw new Error("Invalid Payment Source")}(e,a),r=n.brand,u=n.label;return{value:e.id,label:h(l.default,{align:l.default.Align.CENTER},void 0,null!=r?h(s.default,{type:s.default.getType(r)}):null,h("div",{className:(0,o.default)(f.default.paymentSourceLabel,(t={},t[f.default.error]=e.invalid,t))},void 0,u))}}),m=t;return null==m&&(m=r?E:function(e,t){var n=null!=t?e.find(function(e){return e.id===t}):null;return null!=n?n.id:e.length>0?e[0].id:null}(n,d)),h(u.default,{searchable:!1,clearable:!1,options:p,value:m,onChange:this.onChange})},r}(a.Component);T.displayName="PaymentSourceDropdown",T.defaultProps={showEmptyPromptOption:!1};var I=T;t.default=I},6323:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GiftCodeResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(3)),l=_(n(35)),s=_(n(14)),u=_(n(5941)),d=_(n(189)),c=_(n(5862)),f=n(5873),p=n(0),m=_(n(10)),h=_(n(312)),v=_(n(5235)),y=_(n(5534));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(){return E(a.Fragment,{},void 0,E(f.Avatar,{src:null,size:f.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),E(f.Subtitle,{},void 0,m.default.Messages.GIFT_CODE_AUTH_GIFTED),E(f.Title,{className:(0,o.default)(v.default.marginTop8,h.default.flexCenter)},void 0,m.default.Messages.LOADING))};t.GiftCodeResolvingHeader=g,g.displayName="GiftCodeResolvingHeader";var S=function(e){var t=e.error,n=e.gifter,r=e.sku,i=e.application,l=e.subscriptionPlan,s=null==n?m.default.Messages.GIFT_CODE_AUTH_GIFTED:m.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),u=r.name;return null!=l&&(u=(l.interval===p.SubscriptionIntervalTypes.MONTH?m.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:m.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:r.name,intervalCount:l.intervalCount})),E(a.Fragment,{},void 0,E(f.Avatar,{src:null!=n?n.getAvatarURL():null,size:f.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),null!=t?E(a.Fragment,{},void 0,E(f.Subtitle,{},void 0,m.default.Messages.INVITE_MODAL_ERROR_TITLE),E(f.Title,{},void 0,t)):E(a.Fragment,{},void 0,E(f.Subtitle,{},void 0,s),E(f.Title,{className:(0,o.default)(v.default.marginTop8,h.default.flexCenter)},void 0,E(c.default,{size:c.default.Sizes.MEDIUM,className:y.default.applicationIcon,game:i,skuId:r.id}),u)))};S.displayName="GiftCodeHeader";var T=i.default.connectStores([d.default,l.default,u.default,s.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?u.default.get(r):null,application:null!=n?l.default.getGame(n.applicationId):null,gifter:s.default.getUser(t.userId)}})(S);t.default=T},6325:function(e,t,n){"use strict";t.__esModule=!0,t.WaveStates=t.POINT_TENSION_DEFAULT=t.TWO_PI=t.MAX_RADIUS=t.MIN_RADIUS=t.NOOP=void 0;t.NOOP=function(){};t.MIN_RADIUS=780;t.MAX_RADIUS=1e3;var r=2*Math.PI;t.TWO_PI=r;t.POINT_TENSION_DEFAULT=150;t.WaveStates={INITIAL:0,ENTERED:1,FILLING:2,FILLED:3}},6456:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=m(n(17)),i=h(n(813)),l=m(n(158)),s=m(n(5872)),u=m(n(128)),d=n(6726),c=n(313),f=m(n(10)),p=m(n(5381));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,m,h,_=r.prototype;return _.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return v(u.default,{className:(0,o.default)(p.default.description,n)},void 0,t instanceof i.CreditCardSourceRecord?f.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,c.upperCaseFirstChar)(t.brand),last_4:t.last4}):f.default.Messages.PAYMENT_SOURCE_PAYPAL)},_.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r="";return t instanceof i.CreditCardSourceRecord?r=f.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof i.PaypalSourceRecord&&(r=t.email),r},_.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isPremium;return v(l.default,{},void 0,v(s.default,{type:this.typeString}),v(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,v(l.default,{align:l.default.Align.CENTER},void 0,this.renderDescription(),t?v("div",{className:p.default.defaultIndicator},void 0,f.default.Messages.DEFAULT):null,a?v("div",{className:p.default.premiumIndicator},void 0,f.default.Messages.PREMIUM):null,n.invalid?v("div",{className:p.default.invalidIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_INVALID):null),r?v("div",{className:p.default.subText},void 0,this.renderSubText()):null))},a=r,(m=[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?s.default.Types.PAYPAL:e instanceof i.CreditCardSourceRecord?s.default.getType(e.brand):s.default.Types.UNKNOWN}}])&&y(a.prototype,m),h&&y(a,h),r}(a.PureComponent);t.default=_,_.displayName="PaymentDescription",_.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1}},6457:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(799))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._inputRef=null,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){if(null!=t._inputRef){var r=t.props,a=r.cardType,o=r.onChange,i=a.code.size,l=e.length===i&&t._inputRef.selectionStart===i;null!=o&&o(e,n,l)}},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.cardType,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["cardType"]);return a.createElement(o.default,i({},n,{inputmode:"numeric",onChange:this.handleChange,maxLength:t.code.size,inputRef:this.setRef}))},r}(a.PureComponent);t.default=l,l.displayName="CVCField"},6458:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(5872)),l=d(n(799)),s=d(n(5957)),u=d(n(5331));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,i=t._inputRef;if(e!==a&&null!=i&&null!=a){var l=s.default.prettifyCreditCardNumber(e),u=i.selectionStart;if(a===l)u-=1,l=s.default.prettifyCreditCardNumber(l.substring(0,u)+l.substring(u+1));else{var d=l.length-e.length;d>0&&(u+=d)}t.selectionStart=u;var c=t.getMaxLength(l),f=l.length===c&&t.selectionStart===c;null!=o&&o(l,n,f)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},d.getMaxLength=function(e){var t=null!=e?s.default.getCreditCardType(e):s.default.DEFAULT_CARD_TYPE;return t.lengths[t.lengths.length-1]+t.gaps.length},d.render=function(){var e=this.props,t=e.value,n=e.flipped,r=e.inputClassName,d=e.className,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","flipped","inputClassName","className"]),m=s.default.getCreditCardType(t),h=this.getMaxLength(t);return f("div",{className:(0,o.default)(u.default.cardNumberWrapper,d)},void 0,f(i.default,{className:u.default.cardIcon,type:m.type,flipped:n}),a.createElement(l.default,c({},p,{inputmode:"numeric",value:s.default.prettifyCreditCardNumber(t),onChange:this.handleChange,inputRef:this.setRef,maxLength:h,inputClassName:(0,o.default)(u.default.cardNumberInput,r)})))},r}(a.PureComponent);p.displayName="CardNumberField",p.defaultProps={flipped:!1};var m=p;t.default=m},6459:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(799))&&r.__esModule?r:{default:r},i=n(5957);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=/[^0-9]/g,u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,l=t._inputRef;if(e!==a&&null!=l&&null!=a){var u=(0,i.formatExpiration)(e),d=l.selectionStart;u===a&&u.length<=3&&a.includes("/")&&!e.includes("/")?u=u.replace(s,""):u===a&&e.includes("/")&&!a.includes("/")&&(u+="/"),u.length>e.length&&(d+=u.length-e.length),t.selectionStart=d;var c=u.split("/")[1],f=null!=c&&2===c.length&&d===u.length;null!=o&&o(u,n,f)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},u.render=function(){return a.createElement(o.default,l({},this.props,{inputmode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))},r}(a.PureComponent);u.displayName="ExpirationDateTextField";var d=u;t.default=d},6460:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(6055),p(n(67))),i=p(n(112)),l=p(n(158)),s=p(n(5872)),u=p(n(8)),d=n(840),c=n(0),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}var v=o.default.create("PaymentRequest"),y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={},t.initPaymentRequest=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.paymentRequest({country:"US",currency:"usd",total:{label:t.props.paymentLabel,amount:0,pending:!0},requestPayerName:!0,requestPayerEmail:!0}),a=t.props.onSourceReceived,r.on("source",function(e){var t=e.complete,n=e.source;a(n),t("success")}),r.on("cancel",function(){a(null)}),e.next=6,r.canMakePayment();case 6:o=e.sent,v.info("PaymentRequest availablity check",o),t.setState({canMakePayment:Boolean(o),paymentRequest:r});case 9:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,l,"next",e)}function l(e){h(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleOnClick=function(){(0,t.props.onChooseType)(c.PaymentSourceTypes.PAYMENT_REQUEST);var e=t.state.paymentRequest;null!=e&&e.show()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;(0,d.ensureStripeV3IsLoaded)().then(function(t){e.initPaymentRequest(t)})},a.render=function(){var e=this.state.canMakePayment;if(null==e)return m(i.default,{submitting:!0,look:i.default.Looks.FILLED});if(!1===e)return m(i.default,{disabled:!0,look:i.default.Looks.FILLED},void 0,f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_UNSUPPORTED);var t=u.default.isAndroidChrome(),n=t?f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GPAY:f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GENERIC,r=t?s.default.Types.G_PAY:s.default.Types.PAYMENT_REQUEST,a=this.props,o=a.className,d=a.iconClassName;return m(i.default,{onClick:this.handleOnClick,className:o},c.PaymentSourceTypes.PAYMENT_REQUEST,m(l.default,{align:l.default.Align.CENTER},void 0,m(s.default,{className:d,type:r}),n))},r}(a.Component);y.displayName="StripePaymentRequest";var _=y;t.default=_},6532:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ADD_PAYMENT_REQUEST_STEPS=t.ADD_PAYPAL_STEPS=t.ADD_CARD_STEPS=t.ADD_PAYMENT_STEPS=t.REVIEW_PAYMENT_STEPS=void 0;var r,a=U(n(2)),o=B(n(3)),i=B(n(1)),l=U(n(238)),s=U(n(844)),u=U(n(5975)),d=(n(429),B(n(813)),B(n(306))),c=B(n(5943)),f=B(n(854)),p=B(n(5926)),m=B(n(240)),h=B(n(112)),v=B(n(5863)),y=B(n(158)),_=B(n(5879)),E=B(n(188)),g=B(n(8)),S=n(5892),T=n(313),I=B(n(6114)),N=B(n(6115)),A=B(n(5977)),P=n(6533),O=n(6534),C=n(6116),R=n(6535),b=n(6536),M=n(0),L=B(n(10)),D=B(n(852)),w=B(n(5238));function B(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,l,"next",e)}function l(e){G(o,r,a,i,l,"throw",e)}i(void 0)})}}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.REVIEW];t.REVIEW_PAYMENT_STEPS=Y;var V=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.REVIEW];t.ADD_PAYMENT_STEPS=V;var H=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.ADDRESS,S.Steps.REVIEW];t.ADD_CARD_STEPS=H;var W=[S.Steps.PAYMENT_TYPE,S.Steps.PAYPAL,S.Steps.PAYPAL_ADDRESS,S.Steps.REVIEW];t.ADD_PAYPAL_STEPS=W;var z=[S.Steps.PAYMENT_TYPE,S.Steps.PAYMENT_REQUEST_INFO,S.Steps.REVIEW];t.ADD_PAYMENT_REQUEST_STEPS=z;var K=(0,T.cssValueToNumber)(D.default.innerPadding),$=function(e){var t,n;function r(){for(var t,n,r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return(n=e.call.apply(e,[this].concat(o))||this).state={hasAcceptedNeccessaryTerms:!1},n.handleToggleIsGift=function(e,t){var r=n.props.onIsGiftUpdate;null!=r&&r(t)},n.handlePurchaseTermsChange=function(e){n.setState({hasAcceptedNeccessaryTerms:e})},n.handleReopenPaypal=function(){s.reopenPayPalWindow()},n.handleCardInfoChange=function(e,t){i.default.wait(function(){return u.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){i.default.wait(function(){return u.updateAddressInfo(e,t)})},n.handleCreditCardAdd=j(regeneratorRuntime.mark(function e(){var t,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.creditCardInfo,a=t.billingAddressInfo,e.prev=1,e.next=4,l.createCardPaymentSource(F({},r,{billingAddress:a,type:M.PaymentSourceTypes.CARD,isDefault:!1}));case 4:o=e.sent,n.props.onPaymentSourceAdd(o.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,null,[[1,8]])})),n.handleStripePaymentRequestAdd=function(){var e=j(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.updateStripePaymentRequest(t),null!=t){e.next=4;break}return n.props.onBack(),e.abrupt("return");case 4:return e.prev=4,e.next=7,l.createPaymentRequestPaymentSource(t);case 7:r=e.sent,n.props.onPaymentSourceAdd(r.id),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.handlePaypalAdd=j(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.braintreeEmail,a=t.braintreeNonce,o=t.billingAddressInfo,0!==r.length&&null!=a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,l.createPaypalPaymentSource(a,o);case 6:i=e.sent,n.props.onPaymentSourceAdd(i.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,null,[[3,10]])})),n.renderBackButton=function(){var e=n.props,t=e.step,r=e.steps,a=e.paymentSources,o=e.onBack,i=(0,S.getStepIndex)(t,r),l=(0,S.canGoBack)(i,a)?L.default.Messages.BACK:L.default.Messages.CANCEL;return k(h.default,{look:h.default.Looks.LINK,className:w.default.backButton,color:w.default.backButtonColor,size:w.default.backButtonSize,onClick:o},void 0,l)},n.stepRenderer=F(((t={})[S.Steps.PAYMENT_TYPE]={renderBody:function(){var e=n.props,t=e.hidePersonalInformation,r=e.onChoosePaymentType,o=e.isGiftable,i=e.needsToBeGift,l=e.isGift;return t?k(_.default,{className:w.default.errorBlock},void 0,L.default.Messages.BILLING_ERROR_ADD_PAYMENT_SOURCE_STREAMER_MODE):k(a.Fragment,{},void 0,k(I.default,{className:w.default.choosePaymentSourceType,onChooseType:r,allowStripeRequestPayments:!g.default.embedded,onPaymentSourceReceived:n.handleStripePaymentRequestAdd}),o&&k(v.default,{disabled:i,className:w.default.giftToggle,type:v.default.Types.INVERTED,value:l,onChange:n.handleToggleIsGift},void 0,k("div",{className:w.default.checkboxLabel},void 0,L.default.Messages.BILLING_IS_GIFT_PURCHASE)))},renderFooter:function(){return k(E.default.Footer,{direction:y.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[S.Steps.PAYMENT_REQUEST_INFO]={renderBody:function(){return k(C.PaymentRequestStepBody,{className:w.default.formItem,stripePaymentSource:n.props.stripePaymentSource,submitting:n.props.submitting})},renderFooter:function(){return k(E.default.Footer,{direction:y.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[S.Steps.PAYPAL]={renderBody:function(){return k(N.default,{className:w.default.formItem})},renderFooter:function(){var e=n.props,t=e.submitting,r=e.braintreeNonce,a=e.braintreeEmail,o=e.onPaypalContinue,i=e.paypalClient;return k(R.PaypalStepFooter,{submitting:t||null==i,braintreeNonce:r,braintreeEmail:a,onPaypalContinue:o,onReopenPaypal:n.handleReopenPaypal,renderBackButton:n.renderBackButton})}},t[S.Steps.CREDIT_CARD_INFORMATION]={renderBody:function(){var e=n.props,t=e.creditCardInfo,r=e.billingError;return k(O.CreditCardInformationBody,{creditCardInfo:t,billingError:r,onCardInfoChange:n.handleCardInfoChange})},renderFooter:function(){var e=n.props,t=e.isCardInfoValid,r=e.submitting,a=e.onCreditCardContinue;return k(O.CreditCardInformationFooter,{isCardInfoValid:t,submitting:r,renderBackButton:n.renderBackButton,onCreditCardContinue:a})}},t[S.Steps.PAYPAL_ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return k(P.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return k(P.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handlePaypalAdd,renderBackButton:n.renderBackButton})}},t[S.Steps.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return k(P.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return k(P.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handleCreditCardAdd,renderBackButton:n.renderBackButton})}},t[S.Steps.REVIEW]={renderBody:function(){var e=n.props,t=e.legalNotice,r=e.paymentSources,a=e.price,o=e.hidePersonalInformation,i=e.defaultPaymentSourceId,l=e.paymentSourceId,s=e.onReviewPaymentSourceChange,u=e.isGiftable,d=e.isGift,c=e.needsToBeGift;return k(b.ReviewStepBody,{legalNotice:t,paymentSources:r,price:a,hidePersonalInformation:o,defaultPaymentSourceId:i,paymentSourceId:l,onPaymentSourceChange:s,onPurchaseTermsChange:n.handlePurchaseTermsChange,onToggleIsGift:n.handleToggleIsGift,isGiftable:u,isGift:d,needsToBeGift:c})},renderFooter:function(){var e=n.props,t=e.canSubmit,r=e.submitButtonText,a=e.useShinySubmitButton,o=e.isPurchasing,i=e.paymentSourceId,l=e.onPurchase,s=e.needsToBeGift,u=e.isGift,d=e.paymentSources;return k(b.ReviewStepFooter,{canSubmit:t,submitButtonText:r,useShinySubmitButton:a,isPurchasing:o,hasAcceptedTerms:n.state.hasAcceptedNeccessaryTerms,paymentSource:null!=i?d[i]:null,onPurchase:l,tooltipText:n.disabledTooltip,needsToBeGift:s,isGift:u})}},t[S.Steps.CONFIRM]={renderBody:M.NOOP_NULL,renderFooter:M.NOOP_NULL},t),n.props.extraRenderers),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,c,f=r.prototype;return f.componentDidMount=function(){s.createClient();var e=this.props,t=e.onPaymentSourceChange,n=e.paymentSources,r=e.defaultPaymentSourceId,a=e.paymentSourceId;null!=t&&(null!=a&&a!==r&&null!=n[a]?t(n[a]):null!=r&&null!=n[r]?t(n[r]):t(null))},f.componentDidUpdate=function(e){var t=this.props,n=t.onPaymentSourceChange,r=t.paymentSources,a=t.paymentSourceId;e.paymentSourceId!==a&&null!=a&&null!=r[a]&&n&&n(r[a])},f.componentWillUnmount=function(){s.teardown(),u.clearCardInfo();var e=this.props.onClearError;e&&e()},f.preventDefault=function(e){e.preventDefault()},f.renderHeader=function(){var e=this.props,t=e.renderHeader,n=e.billingError;return t(e.step,e.steps.map(function(e){return{id:e,label:(0,S.getCrumbLabels)(e)}}),null==(0,S.errorToStep)(n)?n:null)},f.render=function(){var e=this.props,t=e.size,n=e.step,r=e.steps,a=e.className,o=this.stepRenderer[n],i=o.renderBody();return k(E.default,{size:t,className:a,fullscreenOnMobile:!0},void 0,k("form",{className:w.default.form,onSubmit:this.preventDefault},void 0,this.renderHeader(),n!==S.Steps.CONFIRM?k("div",{className:w.default.divider}):null,null!=i&&k(E.default.Content,{outerClassName:w.default.modalContent,momentum:!0},void 0,k("div",{className:w.default.content},void 0,k(A.default,{step:n,steps:r,sideMargin:K},void 0,i))),o.renderFooter()))},o=r,(d=[{key:"disabledTooltip",get:function(){var e=this.props,t=e.needsToBeGift,n=e.isGift,r=e.isGiftable;return this.state.hasAcceptedNeccessaryTerms?t&&!n?r?L.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY:L.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY_UNGIFTABLE:null:L.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP}}])&&x(o.prototype,d),c&&x(o,c),r}(a.PureComponent);$.displayName="PaymentModal",$.defaultProps={canSubmit:!0,useShinySubmitButton:!1,isSubscription:!1,size:E.default.Sizes.SMALL,renderPrice:function(e){return e},billingError:null,extraRenderers:{},className:w.default.modal};var X=o.default.connectStores([m.default,p.default,c.default,d.default,f.default],function(){return{submitting:c.default.isBusy,paymentSources:m.default.paymentSources,defaultPaymentSourceId:m.default.defaultPaymentSourceId,stripePaymentSource:p.default.stripePaymentSource,creditCardInfo:p.default.getCreditCardInfo(),isCardInfoValid:p.default.isCardInfoValid,billingAddressInfo:p.default.getBillingAddressInfo(),isBillingAddressInfoValid:p.default.isBillingAddressInfoValid,braintreeEmail:p.default.braintreeEmail,braintreeNonce:p.default.braintreeNonce,billingError:p.default.error,paypalClient:f.default.getPayPalClient(),hidePersonalInformation:d.default.hidePersonalInformation}})($);t.default=X},6533:function(e,t,n){"use strict";t.__esModule=!0,t.AddressStepFooter=t.AddressStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(429),p(n(112))),i=p(n(158)),l=p(n(5879)),s=p(n(188)),u=n(5892),d=p(n(6053)),c=p(n(10)),f=p(n(5238));function p(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.billingAddressInfo,n=e.billingError,r=e.onBillingAddressChange,o=null!=n&&(null==n.code||(0,u.errorToStep)(n)===u.Steps.ADDRESS);return h(a.Fragment,{},void 0,o?h(l.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,a.createElement(d.default,m({className:f.default.formItem,onBillingAddressChange:r,error:n},t)))};t.AddressStepBody=v,v.displayName="AddressStepBody";var y=function(e){var t=e.isBillingAddressInfoValid,n=e.submitting,r=e.onContinue,a=e.renderBackButton;return h(s.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,a(),h(o.default,{type:"submit",disabled:!t,submitting:n,onClick:r},void 0,c.default.Messages.NEXT))};t.AddressStepFooter=y,y.displayName="AddressStepFooter"},6534:function(e,t,n){"use strict";t.__esModule=!0,t.CreditCardInformationFooter=t.CreditCardInformationBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(429),p(n(112))),i=p(n(158)),l=p(n(5879)),s=p(n(188)),u=n(5892),d=p(n(6113)),c=p(n(10)),f=p(n(5238));function p(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.creditCardInfo,n=e.billingError,r=e.onCardInfoChange,o=null!=n&&(null==n.code||(0,u.errorToStep)(n)===u.Steps.CREDIT_CARD_INFORMATION);return h(a.Fragment,{},void 0,o?h(l.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_CARD):null,a.createElement(d.default,m({className:f.default.formItem,onCardInfoChange:r,error:n},t)))};t.CreditCardInformationBody=v,v.displayName="CreditCardInformationBody";var y=function(e){var t=e.isCardInfoValid,n=e.submitting,r=e.renderBackButton,a=e.onCreditCardContinue;return h(s.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,r(),h(o.default,{type:"submit",disabled:!t,submitting:n,onClick:a},void 0,c.default.Messages.NEXT))};t.CreditCardInformationFooter=y,y.displayName="CreditCardInformationFooter"},6535:function(e,t,n){"use strict";t.__esModule=!0,t.PaypalStepFooter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(112)),o=s(n(158)),i=s(n(188)),l=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.submitting,n=e.braintreeNonce,r=e.braintreeEmail,s=e.onPaypalContinue,d=e.onReopenPaypal,c=e.renderBackButton,f=0!==r.length&&null!=n;return u(i.default.Footer,{justify:o.default.Justify.BETWEEN,direction:o.default.Direction.HORIZONTAL},void 0,c(),u(a.default,{submitting:t,look:f?a.default.Looks.FILLED:a.default.Looks.OUTLINED,onClick:f?s:d},void 0,f?l.default.Messages.NEXT:l.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN))};t.PaypalStepFooter=d,d.displayName="PaypalStepFooter"},6536:function(e,t,n){"use strict";t.__esModule=!0,t.ReviewStepFooter=t.ReviewStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(y(n(813)),y(n(112))),i=y(n(5863)),l=y(n(188)),s=y(n(5911)),u=y(n(426)),d=n(796),c=n(815),f=y(n(5984)),p=y(n(6176)),m=y(n(6156)),h=(n(0),y(n(10))),v=y(n(5238));function y(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.legalNotice,n=e.paymentSources,r=e.price,o=e.hidePersonalInformation,l=e.defaultPaymentSourceId,s=e.paymentSourceId,u=e.isGiftable,y=e.isGift,_=e.needsToBeGift,g=e.onPaymentSourceChange,S=e.onPurchaseTermsChange,T=e.onToggleIsGift,I=[],N=null!=s?n[s]:null;return null!=N&&N.invalid&&I.push(E(f.default,{icon:f.default.Icons.WARNING_BOX,color:f.default.Colors.ERROR,iconSize:f.default.Sizes.NONE,iconClassName:v.default.invalidIcon},"source_invalid",h.default.Messages.BILLING_PAYMENT_SOURCE_INVALID)),null!=r&&(r.taxInclusive?I.push(E(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_included",h.default.Messages.BILLING_SALES_TAX_INCLUDED)):r.tax>0&&I.push(E(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_added",h.default.Messages.BILLING_SALES_TAX_ADDED.format({tax:(0,c.formatPrice)(r.tax,r.currency)})))),E(a.Fragment,{},void 0,E(d.FormTitle,{className:v.default.formTitle},void 0,h.default.Messages.BILLING_PAY_FOR_IT_WITH),E(p.default,{paymentSources:Object.values(n),defaultPaymentSourceId:l,selectedPaymentSourceId:s,hidePersonalInformation:o,onChange:g}),I,u&&E(i.default,{disabled:_,className:v.default.giftToggle,type:i.default.Types.INVERTED,value:y,onChange:T},void 0,E("div",{className:v.default.checkboxLabel},void 0,h.default.Messages.BILLING_IS_GIFT_PURCHASE)),E(m.default,{onChange:S,forceShow:!0,className:v.default.purchaseTerms}),null!=t?E("div",{className:v.default.subscriptionLegal},void 0,t):null)};t.ReviewStepBody=g,g.displayName="ReviewStepBody";var S=function(e){var t=e.canSubmit,n=e.submitButtonText,r=e.useShinySubmitButton,i=e.isPurchasing,d=e.hasAcceptedTerms,c=e.paymentSource,f=e.onPurchase,p=e.tooltipText,m=e.needsToBeGift,h=e.isGift,y=d&&!(m&&!h)&&null!=c&&!c.invalid&&t,g={submitting:i,color:o.default.Colors.GREEN,disabled:!y,onClick:f};return E(l.default.Footer,{},void 0,E("div",{className:v.default.buyButtonTooltipWrapper},void 0,g.disabled&&null!=p?E(u.default,{text:p},void 0,E("div",{"aria-hidden":!0,className:v.default.buyButtonTooltipTarget})):null,r?a.createElement(s.default,g,n):a.createElement(o.default,_({type:"submit"},g),n)))};t.ReviewStepFooter=S,S.displayName="ReviewStepFooter"},6538:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(2)),a=o(n(6018));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var i=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).animationRef=r.createRef(),t.currentScene=t.props.scene,t.handleLoopComplete=function(){var e=t.props,n=e.onSceneComplete,r=e.scene;null!=n&&n(t.currentScene),t.playScene(r)},t.handleComplete=function(){var e=t.props.onSceneComplete;null!=e&&e(t.currentScene)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var e=this,t=this.props,n=t.importData,r=t.scene;n().then(function(t){null!=e.animationRef.current&&(e.animation=a.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(r))})},i.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy()},i.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForcePlayAfter()&&this.playScene(this.props.scene)},i.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter},i.playScene=function(e){var t=this.props,n=t.onScenePlay,r=t.sceneSegments[e];this.animation.playSegments([r.BEG,r.END],!0),this.currentScene=e,null!=n&&n(this.currentScene)},i.render=function(){return r.createElement("div",{ref:this.animationRef,className:this.props.className})},o}(r.PureComponent);i.displayName="SequencedLottieAnimation";var l=i;t.default=l},6539:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ShineAnimation=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=m(n(17)),s=m(n(163)),u=m(n(304)),d=n(5911),c=n(5986),f=n(0),p=m(n(5355));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,c.hexWithOpacity)(f.Colors.WHITE,0),y=Object.freeze({DURATION:(r={},r[f.PremiumTypes.TIER_1]=1e3,r[f.PremiumTypes.TIER_2]=1500,r),DELAY:(a={},a[f.PremiumTypes.TIER_1]=400,a[f.PremiumTypes.TIER_2]=2200,a),FLASH_TIME_PERCENT:.72,FLASH_DURATION_PERCENT:.08}),_=(0,s.default)({ACTIVATED:null,UPGRADE:null}),E=h("svg",{viewBox:"0 0 224 20"},void 0,h("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),g=h("svg",{viewBox:"0 0 226 20"},void 0,h("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725C74.5330682 14.7676667 72.8127819 15.4689167 71.2293846 15.4689167 69.7550343 15.4689167 68.308104 14.7676667 68.4989891 13.3924583L69.4548911 6.86641667C69.6731962 5.43704167 71.3932716 4.70891667 72.9766689 4.70891667 74.5600663 4.70891667 75.9253695 5.43704167 75.7070644 6.86641667M73.733038.316416667L73.7334599.3135 63.4457009.3135C63.1828911.3135 62.9597348.503916667 62.9217687.760791667L62.4214599 4.13704167C62.374635 4.45266667 62.6224693 4.73579167 62.9453921 4.73579167L64.8240814 4.73579167C65.0130682 4.73579167 65.1421529 4.92620833 65.068119 5.097875 64.8335729 5.64058333 64.6629363 6.22995833 64.5680211 6.86641667L63.612119 13.3924583C62.983991 17.761 66.6702885 19.9451667 70.6833055 19.9451667 74.8880512 19.9451667 79.0105371 17.761 79.6386652 13.3924583L80.5939345 6.86641667C81.2096181 2.584125 77.6536708.401 73.733038.316416667M11.9335684 9.250375L11.9862991 12.4180833C11.9873537 12.4832917 11.9430599 12.5405833 11.8791503 12.556625L11.8791503 12.556625 10.7895232 8.73558333C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.900791667C7.31921055.708291667 7.12769266.583291667 6.91550433.583291667L3.08430282.583291667C2.82001657.583291667 2.59643842.775583333 2.55973785 1.03391667L.0052519774 19.0801667C-.0392527307 19.39475.207948776 19.6755833.529606026 19.6755833L4.34625386 19.6755833C4.61075104 19.6755833 4.83475104 19.482875 4.87081883 19.2239167L5.87143653 12.0545417C5.87228023 12.0474583 5.87270207 12.040375 5.87270207 12.0332917L5.81807307 8.34933333 5.92712015 8.32266667 7.07158719 12.1435C7.07327458 12.149125 7.07517288 12.1543333 7.07749303 12.1595417L10.2394365 19.3605833C10.3233838 19.5518333 10.5142689 19.6755833 10.7251917 19.6755833L14.8582237 19.6755833C15.1222991 19.6755833 15.3460881 19.4832917 15.3827887 19.2249583L17.9376964 1.17870833C17.9824121.864125 17.7349996.583291667 17.4133424.583291667L13.622849.583291667C13.3587736.583291667 13.1349846.775375 13.098284 1.03370833L11.9348339 9.2285C11.9339902 9.23579167 11.9333574 9.24308333 11.9335684 9.250375M19.3200844 19.6755625L23.1375759 19.6755625C23.4018621 19.6755625 23.6254403 19.4832708 23.6621409 19.2249375L26.2166267 1.1786875C26.2613424.864104167 26.0139299.583270833 25.6922727.583270833L21.8747812.583270833C21.6104949.583270833 21.3869168.7755625 21.3502162 1.03389583L18.7957303 19.0801458C18.7510147 19.3947292 18.9984271 19.6755625 19.3200844 19.6755625M28.7952422 1.00375L28.2951443 4.37979167C28.2483194 4.695625 28.4959427 4.97854167 28.8190765 4.97854167L32.8137431 4.97854167C33.1347676 4.97854167 33.38218 5.25875 33.3383081 5.57291667L31.456455 19.08125C31.4125831 19.3954167 31.6597846 19.675625 31.98102 19.675625L35.8537733 19.675625C36.1182704 19.675625 36.3422704 19.4827083 36.3783382 19.22375L38.3000557 5.43041667C38.3361235 5.17145833 38.5599126 4.97854167 38.8246207 4.97854167L43.1196414 4.97854167C43.3824512 4.97854167 43.6053966 4.78833333 43.6435736 4.53145833L44.1440934 1.15520833C44.1909183.839583333 43.943084.556458333 43.6201612.556458333L29.3191744.556458333C29.0563646.556458333 28.8332083.746875 28.7952422 1.00375M55.8577748 7.243875C55.7210968 8.3495 54.8476655 9.45491667 53.3456844 9.45491667L51.0890215 9.45491667C50.7669424 9.45491667 50.5195299 9.17345833 50.5648783 8.85845833L51.0424075 5.53595833C51.0795299 5.27804167 51.3031081 5.086375 51.5667616 5.086375L53.9736015 5.086375C55.4207427 5.086375 55.9940309 6.08429167 55.8577748 7.243875M54.5196806.58325L47.2540234.58325C46.989948.58325 46.7661589.775541667 46.7296693 1.033875L44.1749725 19.080125C44.1304678 19.3947083 44.3778802 19.6755417 44.6993266 19.6755417L48.5708143 19.6755417C48.8353115 19.6755417 49.0593115 19.4828333 49.0953793 19.223875L49.8471081 13.833875C49.8652475 13.7042917 49.9772475 13.6080417 50.109496 13.6080417L50.6072738 13.6080417C50.6975488 13.6080417 50.781496 13.6534583 50.8302192 13.7284583L54.5274847 19.4345C54.6247202 19.5847083 54.7928256 19.6755417 54.9733755 19.6755417L59.755206 19.6755417C60.1835902 19.6755417 60.4345883 19.1992917 60.1890742 18.852625L56.3091495 13.3747083C56.2161326 13.24325 56.2640121 13.0605417 56.4099706 12.990125 58.8868369 11.7945 60.3253303 10.5695 60.7994847 7.16283333 61.345142 2.68658333 58.5061213.58325 54.5196806.58325M93.6422924.838906711L91.945537 12.8961538C91.7301524 14.4307692 92.995537 15.1846154 94.3686139 15.1846154 95.795537 15.1846154 97.195537 14.4307692 97.4109216 12.8961538L99.1272873.699554828C99.1620169.45276435 99.3731866.269230769 99.6224088.269230769L103.485633.269230769C103.761775.269230769 103.985633.493088394 103.985633.769230769 103.985633.792541409 103.984002.815823514 103.980754.838906711L102.283999 12.8961538C101.664768 17.3653846 97.5186139 19.6 93.7224601 19.6 89.8993831 19.6 86.4532293 17.3653846 87.0724601 12.8961538L88.7888258.699554828C88.8235554.45276435 89.0347251.269230769 89.2839473.269230769L93.147171.269230769C93.4233133.269230769 93.647171.493088394 93.647171.769230769 93.647171.792541409 93.6455408.815823514 93.6422924.838906711zM104.32898 18.7615276L106.854535.699989164C106.889071.453003281 107.100328.269230769 107.349717.269230769L114.533999.269230769C119.191691.269230769 120.941691 3.68846154 120.564768 7.13461538 120.160922 10.7423077 117.495537 13.7576923 112.891691 13.7576923L110.284218 13.7576923C110.034879 13.7576923 109.823647 13.9413937 109.789053 14.1883215L109.128944 18.9001401C109.09435 19.1470678 108.883118 19.3307692 108.633779 19.3307692L104.824163 19.3307692C104.54802 19.3307692 104.324163 19.1069116 104.324163 18.8307692 104.324163 18.807605 104.325773 18.7844687 104.32898 18.7615276zM111.018196 9.47692308L113.241691 9.47692308C114.749383 9.50384615 115.610922 8.29230769 115.77246 7 115.933999 5.73461538 115.314768 4.76538462 113.914768 4.76538462L111.548415 4.76538462C111.29959 4.76538462 111.08863 4.94834957 111.053441 5.19467394L110.523221 8.9062124C110.484168 9.1795794 110.674118 9.43284539 110.947485 9.47189782 110.970907 9.47524377 110.994536 9.47692308 111.018196 9.47692308zM136.745537 4.06538462L132.437845 5.92307692C132.141691 4.79230769 131.118614 4.28076923 130.041691 4.28076923 128.695537 4.28076923 127.268614 5.08846154 127.080152 6.46153846L126.164768 13.0038462C125.976306 14.4576923 127.214768 15.1846154 128.641691 15.1846154 130.041691 15.1846154 131.549383 14.4576923 131.737845 13.0038462L131.770059 12.7622357C131.806555 12.4885157 131.614247 12.2370359 131.340527 12.2005399 131.318621 12.1976191 131.296545 12.1961538 131.274445 12.1961538L129.376392 12.1961538C129.10025 12.1961538 128.876392 11.9722962 128.876392 11.6961538 128.876392 11.6734553 128.877938 11.650783 128.881018 11.6282944L129.282493 8.6975252C129.316412 8.44991846 129.527948 8.26538462 129.777867 8.26538462L136.441959 8.26538462C136.718101 8.26538462 136.941959 8.48924224 136.941959 8.76538462 136.941959 8.78798122 136.940427 8.81055182 136.937374 8.83294122L136.368614 13.0038462C135.749383 17.3923077 131.737845 19.6 127.914768 19.6 124.145537 19.6 120.726306 17.3923077 121.345537 13.0038462L122.260922 6.46153846C122.880152 2.01923077 126.918614.81188398e-13 130.687845.81188398e-13 133.164768.81188398e-13 135.857075 1.02307692 136.745537 4.06538462zM148.966496 19.1002961L145.384578 13.5035501C145.292674 13.3599501 145.133934 13.2730769 144.963443 13.2730769L144.806306 13.2730769C144.559438 13.2730769 144.350437 13.4552565 144.316742 13.6998149L143.600408 18.8990134C143.566317 19.1464475 143.354859 19.3307692 143.105087 19.3307692L139.242624 19.3307692C138.966482 19.3307692 138.742624 19.1069116 138.742624 18.8307692 138.742624 18.807605 138.744234 18.7844687 138.747442 18.7615276L141.272996.699989164C141.307532.453003281 141.51879.269230769 141.768179.269230769L148.95246.269230769C152.883229.269230769 155.683229 2.36923077 155.144768 6.83846154 154.660152 10.3653846 153.15246 11.55 150.540922 12.7884615L154.567536 18.5441512C154.725831 18.7704196 154.670727 19.0821696 154.444459 19.2404644 154.360439 19.2992434 154.26038 19.3307692 154.157841 19.3307692L149.387631 19.3307692C149.21714 19.3307692 149.0584 19.243896 148.966496 19.1002961zM145.543846 9.12692308L147.794768 9.12692308C149.275537 9.12692308 150.137075 8.02307692 150.271691 6.91923077 150.406306 5.76153846 149.840922 4.76538462 148.413999 4.76538462L146.021102 4.76538462C145.772113 4.76538462 145.561066 4.94858458 145.526066 5.19510177L145.048811 8.55664023C145.009995 8.83004089 145.200163 9.08314261 145.473564 9.12195875 145.496845 9.12526419 145.520331 9.12692308 145.543846 9.12692308zM170.032717.662958649L173.961357 18.7244971C174.020049 18.99433 173.848886 19.2606525 173.579053 19.319345 173.544139 19.3269393 173.508511 19.3307692 173.472781 19.3307692L169.337886 19.3307692C169.097759 19.3307692 168.891541 19.1600672 168.846687 18.9241663L168.274387 15.9142952C168.229533 15.6783944 168.023315 15.5076923 167.783188 15.5076923L163.433783 15.5076923C163.23607 15.5076923 163.056925 15.624197 162.976744 15.8049217L161.544329 19.0335398C161.464149 19.2142645 161.285004 19.3307692 161.087291 19.3307692L157.044093 19.3307692C156.76795 19.3307692 156.544093 19.1069116 156.544093 18.8307692 156.544093 18.7546802 156.561459 18.6795947 156.594867 18.6112324L165.421551.549693986C165.505424.37806951 165.679754.269230769 165.870777.269230769L169.544141.269230769C169.779332.269230769 169.982728.43314177 170.032717.662958649zM165.527492 11.2269231L167.105323 11.2269231C167.381465 11.2269231 167.605323 11.0030655 167.605323 10.7269231 167.605323 10.7100689 167.604471 10.6932256 167.60277 10.6764575L167.10274 5.74759572C167.097339 5.6943553 167.052512 5.65384615 166.998999 5.65384615L166.998999 5.65384615C166.942301 5.65384615 166.891533 5.68896864 166.871541 5.74202454L165.059607 10.5506185C164.962237 10.8090244 165.092782 11.0974381 165.351188 11.1948084 165.407542 11.2160435 165.46727 11.2269231 165.527492 11.2269231zM179.412025.269230769L186.111691.269230769C189.934768.269230769 193.246306 2.20769231 192.627075 6.65L191.711691 13.0576923C191.09246 17.4461538 187.269383 19.3307692 183.446306 19.3307692L176.886471 19.3307692C176.610328 19.3307692 176.386471 19.1069116 176.386471 18.8307692 176.386471 18.807605 176.38808 18.7844687 176.391288 18.7615276L178.916842.699989164C178.951378.453003281 179.162636.269230769 179.412025.269230769zM182.353143 14.8076923L184.227075 14.8076923C185.546306 14.8076923 186.730922 14.0807692 186.865537 13.0576923L187.780922 6.65C187.915537 5.6 186.973229 4.76538462 185.653999 4.76538462L183.637975 4.76538462C183.389007 4.76538462 183.177972 4.94855369 183.142947 5.19504556L181.858116 14.2373533C181.819268 14.5107495 182.009408 14.7638728 182.282804 14.80272 182.306104 14.8060307 182.329609 14.8076923 182.353143 14.8076923zM200.238825 5.24852009L199.977836 7.07544317C199.938784 7.34881017 200.128733 7.60207616 200.4021 7.64112859 200.425522 7.64447454 200.449152 7.64615385 200.472811 7.64615385L207.049283 7.64615385C207.325426 7.64615385 207.549283 7.87001147 207.549283 8.14615385 207.549283 8.16907817 207.547707 8.19197536 207.544565 8.21468335L207.090622 11.4954526C207.056403 11.7427585 206.845002 11.9269231 206.59534 11.9269231L199.738225 11.9269231C199.489149 11.9269231 199.278056 12.1102473 199.243157 12.3568663L198.980821 14.2107125C198.942129 14.4841308 199.132413 14.7371457 199.405832 14.775837 199.42904 14.7791211 199.45245 14.7807692 199.475888 14.7807692L206.727496 14.7807692C207.003638 14.7807692 207.227496 15.0046269 207.227496 15.2807692 207.227496 15.3033218 207.22597 15.3258485 207.222929 15.348195L206.739793 18.898195C206.706068 19.1459962 206.494445 19.3307692 206.24436 19.3307692L193.982624 19.3307692C193.706482 19.3307692 193.482624 19.1069116 193.482624 18.8307692 193.482624 18.807605 193.484234 18.7844687 193.487442 18.7615276L196.012996.699989164C196.047532.453003281 196.25879.269230769 196.508179.269230769L208.770284.269230769C209.046426.269230769 209.270284.493088394 209.270284.769230769 209.270284.792751947 209.268624.81624381 209.265317.839531336L208.761175 4.38953134C208.726168 4.63604054 208.515124 4.81923077 208.266142 4.81923077L200.7338 4.81923077C200.484975 4.81923077 200.274015 5.00219572 200.238825 5.24852009zM212.338948.269230769L219.038614.269230769C222.861691.269230769 226.173229 2.20769231 225.553999 6.65L224.638614 13.0576923C224.019383 17.4461538 220.196306 19.3307692 216.373229 19.3307692L209.813394 19.3307692C209.537251 19.3307692 209.313394 19.1069116 209.313394 18.8307692 209.313394 18.807605 209.315003 18.7844687 209.318211 18.7615276L211.843765.699989164C211.878302.453003281 212.089559.269230769 212.338948.269230769zM215.280066 14.8076923L217.153999 14.8076923C218.473229 14.8076923 219.657845 14.0807692 219.79246 13.0576923L220.707845 6.65C220.84246 5.6 219.900152 4.76538462 218.580922 4.76538462L216.564898 4.76538462C216.315931 4.76538462 216.104895 4.94855369 216.069871 5.19504556L214.785039 14.2373533C214.746191 14.5107495 214.936331 14.7638728 215.209727 14.80272 215.233027 14.8060307 215.256532 14.8076923 215.280066 14.8076923z"})),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).animation=new u.default.Value(0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.animate()},a.animate=function(){var e=this.props.premiumType;u.default.timing(this.animation,{toValue:1,delay:y.DELAY[e],duration:y.DURATION[e]}).start()},a.getContainerStyle=function(){var e=y.FLASH_TIME_PERCENT,t=y.FLASH_DURATION_PERCENT,n=this.props.theme===f.ThemeTypes.DARK?f.Colors.WHITE:f.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,e,e,e+t,1],outputRange:[v,v,n,n,v]})}},a.getShineStyle=function(){return u.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},a.renderSvg=function(){return this.props.type===_.ACTIVATED?E:g},a.render=function(){return h(u.default.div,{className:(0,l.default)(p.default.container,this.props.className),style:this.getContainerStyle()},void 0,h(d.Shine,{className:p.default.shine,style:this.getShineStyle()}),this.renderSvg())},r}(i.PureComponent);t.ShineAnimation=S,S.displayName="ShineAnimation",S.Types=_;var T=S;t.default=T},6540:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;d(n(2));var r,a=u(n(890)),o=d(n(5873)),i=u(n(10)),l=u(n(312)),s=u(n(5235));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.title,r=e.onVerify,u=e.authBoxClassName;return c(o.default,{className:u},void 0,c("img",{alt:"",src:n(6149),className:s.default.marginBottom20}),null!=t?c(o.Title,{className:s.default.marginBottom8},void 0,t):null,c(o.Subtitle,{className:s.default.marginBottom40},void 0,i.default.Messages.BEEP_BOOP),c("div",{className:l.default.flexCenter},void 0,c(a.default,{onVerify:r,theme:a.default.Themes.DARK})))};f.displayName="AuthCaptcha";var p=f;t.default=p},6541:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=H(n(2)),o=V(n(4)),i=V(n(135)),l=V(n(3)),s=H(n(808)),u=H(n(826)),d=H(n(315)),c=V(n(800)),f=(n(429),V(n(35))),p=V(n(6144)),m=V(n(42)),h=V(n(240)),v=V(n(5941)),y=V(n(319)),_=V(n(189)),E=V(n(5976)),g=V(n(112)),S=V(n(158)),T=V(n(5879)),I=V(n(302)),N=V(n(188)),A=n(6145),P=V(n(6146)),O=V(n(98)),C=V(n(18)),R=V(n(8)),b=n(5892),M=V(n(190)),L=V(n(45)),D=V(n(6142)),w=V(n(5984)),B=V(n(6542)),U=V(n(6015)),k=V(n(6143)),F=V(n(6147)),G=V(n(6148)),j=n(0),x=V(n(10)),Y=V(n(5361));function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var q=880,Q="../../../images/store/gifting/gifting-pattern.png";function Z(e){if(e.interval!==j.SubscriptionIntervalTypes.DAY)throw new Error("Unexpected trial interval count");return(0,o.default)().add(e.intervalCount,"days").toDate()}var J=function(){return X("div",{className:Y.default.trialFreePeriodBadge},void 0,x.default.Messages.PREMIUM_PAYMENT_TRIAL_TWO_WEEKS_FREE)};J.displayName="TrialFreePeriodBadge";var ee=X(J,{}),te=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={paymentSource:null,hasInitialSubscriptionPlan:null!=t.props.subscriptionPlan,playingAnimationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,isPurchasing:!1},t._loadId=i.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=a.createRef(),t.closeAndPopLayers=function(){t.close(),s.popLayer()},t.handlePaymentSourceChange=function(e){t.setState({paymentSource:e})},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o,i,l,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.isGift,o=r.plan,i=r.skuId,l=r.trialId,t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.BOOST_START,isPurchasing:!0}),s=null!=l,e.prev=3,C.default.track(j.AnalyticEvents.PAYMENT_FLOW_COMPLETED,W({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime,trial_period_length_days:s?j.SubscriptionTrials[j.PREMIUM_SUBSCRIPTION_TRIAL_ID].intervalCount:null})),!a||null==o){e.next=14;break}if(u=j.SubscriptionPlanInfo[o],null!=(c=u.price)){e.next=10;break}throw new Error("Price information is required on plan!");case 10:return e.next=12,d.purchaseSKU(j.PREMIUM_SUBSCRIPTION_APPLICATION,i,{expectedAmount:c,paymentSourceId:n.id,subscriptionPlanId:u.id,isGift:!0});case 12:e.next=16;break;case 14:return e.next=16,t.subscribe(n);case 16:t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.BOOST_END,isPurchasing:!1}),e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(3),t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.ERROR,isPurchasing:!1}),C.default.track(j.AnalyticEvents.PAYMENT_FLOW_FAILED,W({},t.getBaseAnalyticsData(),{payment_gateway:n.type===j.PaymentSourceTypes.CARD?j.PaymentGateways.STRIPE:j.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime})),e.t0;case 24:case"end":return e.stop()}},e,null,[[3,19]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,l,"next",e)}function l(e){z(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleConfirmContinue=function(){t.canInstallPremiumApplications&&(L.default.transitionTo(j.Routes.APPLICATION_STORE),s.popLayer()),t.close()},t.handleAnimationScenePlayTier1=function(e){return t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},t.handleAnimationScenePlayTier2=function(e){return t.setState({animationSceneTier2:A.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},t.trackStepChange=function(e,n){var r=Date.now();C.default.track(j.AnalyticEvents.PAYMENT_FLOW_STEP,W({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:r-t._stepStartTime,flow_duration_ms:r-t._flowStartTime})),t._stepStartTime=r},t.renderAnimation=function(){var e=t.props.skuId;return j.PremiumSubscriptionSKUToPremiumType[e]===j.PremiumTypes.TIER_1?X(A.PremiumPaymentAnimationTier1,{className:Y.default.headerAnimation,scene:t.state.animationSceneTier1,onScenePlay:t.handleAnimationScenePlayTier1}):X(A.PremiumPaymentAnimationTier2,{className:Y.default.headerAnimation,scene:t.state.animationSceneTier2,onScenePlay:t.handleAnimationScenePlayTier2})},t.renderHeader=function(e,n,r){var a=t.props,o=a.paymentError,i=a.plan,l=a.isGift,s=a.application,u=a.skuId,d=j.PremiumSubscriptionSKUToPremiumType[u];if(l&&e===b.Steps.CONFIRM)return X(U.default,{application:s,splashSize:q,overrideSplash:Q});var c=o||r;return X(N.default.Header,{className:Y.default.header,direction:S.default.Direction.VERTICAL,align:S.default.Align.START,separator:!1},void 0,X(G.default,{hideCloseOnFullScreen:!0,shouldShowPrice:!0,isGift:l,upgradeToPremiumType:d,plan:i,renderAnimation:t.renderAnimation,onClose:t.close}),null==c||t.shouldShake()?null:X(T.default,{className:Y.default.errorBlock},void 0,c.message),l?X(w.default,{className:Y.default.headerNote,iconSize:w.default.Sizes.SMALL,icon:I.default.Names.GIFT,color:w.default.Colors.PRIMARY},void 0,x.default.Messages.PREMIUM_PAYMENT_IS_GIFT):null,e===b.Steps.CONFIRM||d!==j.PremiumTypes.TIER_2||R.default.isWindows()?null:X(w.default,{className:Y.default.headerNote,icon:w.default.Icons.WARNING_BOX,iconSize:w.default.Sizes.SMALL,color:w.default.Colors.WARNING},void 0,x.default.Messages.PREMIUM_PAYMENT_APPLICATIONS_OS_WARNING),e!==b.Steps.CONFIRM&&n.length>1?X(E.default,{activeId:e,breadcrumbs:n}):null)},t.renderConfirmationBody=function(){var e=t.props,n=e.theme,r=e.isGift,a=e.subscriptionPlan,o=e.followupSKU,i=e.giftCode;if(null!=a){if(r&&null!=i)return t.renderGiftConfirmationBody(a,i);var l=a.premiumSubscriptionType;if(null==l)throw new Error("Premium type cannot be null");return X(F.default,{premiumType:l,theme:n,followupSKU:o,onClose:t.close,onViewGames:t.handleConfirmContinue})}return null},t.handleSelectPlan=function(e,t){u.selectPlan(e.id),t()},t.handlePremiumClick=function(){t.close(),c.default.open(j.UserSettingsSections.PREMIUM)},t.renderSelectPlanBody=function(e){var n=t.props,r=n.subscriptionPlans,a=n.trialId,o=n.isGift,i=n.isGiftingFromChat,l=null!=a;return X("div",{className:Y.default.selectPlan},void 0,i?X("div",{className:Y.default.giftBlurb},void 0,x.default.Messages.PREMIUM_PAYMENT_GIFT_BLURB.format({onClick:t.handlePremiumClick})):null,X("div",{className:Y.default.selectPlanHeader},void 0,X(O.default,{tag:O.default.Tags.H5,className:Y.default.selectPlanTitle},void 0,o?x.default.Messages.BILLING_PAYMENT_CHOOSE_GIFT:x.default.Messages.BILLING_PAYMENT_CHOOSE_PLAN),l?ee:null),l?X("div",{className:Y.default.trialText},void 0,x.default.Messages.PREMIUM_PAYMENT_TRIAL_BLURB.format({endsAt:Z(j.SubscriptionTrials[j.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null,X(B.default,{subscriptionPlans:r,isTrial:l,isGift:o,onSelect:function(n){return t.handleSelectPlan(n,e)}}),l?X("div",{className:Y.default.trialNote},void 0,x.default.Messages.PREMIUM_PAYMENT_TRIAL_NOTE.format({endsAt:Z(j.SubscriptionTrials[j.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null)},t.renderSelectPlanFooter=function(){return X(N.default.Footer,{direction:S.default.Direction.HORIZONTAL},void 0,X(g.default,{look:g.default.Looks.LINK,className:Y.default.backButton,color:Y.default.backButtonColor,size:Y.default.backButtonSize,onClick:t.close},void 0,x.default.Messages.CANCEL))},t}$(t,e);var n,r,o,l=t.prototype;return l.componentDidMount=function(){var e=this.props,t=e.followupSKU,n=e.followupSKUInfo;if(null!=n&&null==t){var r=n.applicationId,a=n.id;d.fetchSKU(r,a).catch(j.NOOP_NULL)}C.default.track(j.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},l.close=function(){u.closeModal()},l.getBaseAnalyticsData=function(){var e=this.getPrice(),t=this.props,n=t.plan,r=t.subscriptionPlan;return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:n,subscription_type:j.SubscriptionTypes.PREMIUM,subscription_plan_id:null!=r?r.id:null,price:null!=e?e.amount:null,regular_price:null!=e?e.amount:null,currency:null!=e?e.currency:null,is_gift:this.props.isGift,location:this.props.analyticsLocation}},l.getLegalNotice=function(){var e=this.props,t=e.isGift,n=e.skuId;if(t)return x.default.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT;var r=this.getInterval(),a=M.default.getDisplayPremiumTypeForSku(n);switch(r){case j.SubscriptionIntervalTypes.MONTH:return x.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:j.MarketingURLs.TERMS,planPremiumType:a});case j.SubscriptionIntervalTypes.YEAR:return x.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:j.MarketingURLs.TERMS,planPremiumType:a})}},l.getSubmitText=function(){var e=this.props,t=e.skuId,n=e.subscriptionMode,r=e.isGift,a=M.default.getDisplayPremiumTypeForSku(t);if(r)return x.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT.format({planPremiumType:a});switch(n){case j.PremiumPaymentSubscriptionModes.NEW:return x.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:a});case j.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return x.default.Messages.RESUBSCRIBE;default:return null}},l.getPrice=function(){var e=this.props.plan;return null!=e?M.default.getPrice(e):null},l.getInterval=function(){var e=this.props.plan;return null!=e?M.default.getInterval(e):null},l.subscribe=function(e){var t=this.props,n=t.subscriptionMode,r=t.plan,a=t.subscription,o=t.trialId;if(n===j.PremiumPaymentSubscriptionModes.NEW)return u.subscribe(r,e,o);if(n===j.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=a)return u.resubscribe(a,e);throw new Error("Failed to subscribe")},l.shouldShake=function(){var e=this.props.giftCode,t=this.state,n=t.playingAnimationSceneTier1,r=t.playingAnimationSceneTier2;return null==e&&(A.ShakeScenes.has(n)||A.ShakeScenes.has(r))},l.renderGiftConfirmationBody=function(e,t){var n=this.props.application;return X(S.default,{direction:S.default.Direction.VERTICAL,className:Y.default.giftConfirmation},void 0,X(N.default.CloseButton,{onClick:this.close,className:Y.default.confirmationCloseButton}),X(k.default,{giftCode:t,application:n,subscriptionPlan:e,onClose:this.closeAndPopLayers}))},l.render=function(){var e=this.props,t=e.isGift,n=e.subscriptionPlan,r=this.state.hasInitialSubscriptionPlan,o=this.shouldShake();return X(P.default,{className:Y.default.fullscreenOnMobile,isShaking:o,intensity:2},void 0,a.createElement(D.default,{useShinySubmitButton:!0,ref:this._paymentModalRef,canSubmit:!t||null!=n,isGift:t,isPurchasing:this.state.isPurchasing||o,legalNotice:this.getLegalNotice(),price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:u.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,renderSelectPlanBody:this.renderSelectPlanBody,renderSelectPlanFooter:this.renderSelectPlanFooter,submitButtonText:this.getSubmitText(),onStepChange:this.trackStepChange,initialStep:r?null:b.Steps.SELECT_PLAN,prependSteps:r?null:[b.Steps.SELECT_PLAN]}))},n=t,(r=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"premiumType",get:function(){return j.PremiumSubscriptionSKUToPremiumType[this.props.skuId]}},{key:"canInstallPremiumApplications",get:function(){return this.premiumType===j.PremiumTypes.TIER_2}}])&&K(n.prototype,r),o&&K(n,o),t}(a.Component);te.displayName="PremiumPayment",te.defaultProps={withTrial:!1};var ne=l.default.connectStores([h.default,y.default,p.default,m.default,v.default,_.default,f.default],function(){var e=y.default.getPremiumSubscription(),t=null!=e?e.paymentGateway:null,n=p.default.skuId,r=p.default.followupSKUInfo,a=p.default.plan,o=null!=a?v.default.get(j.SubscriptionPlanInfo[a].id):null;if(null==n)throw new Error("Provide SKU ID for purchase");return{application:f.default.getGame(j.PREMIUM_SUBSCRIPTION_APPLICATION),subscription:e,subscriptionPlans:v.default.getForSKU(n),subscriptionPlan:o,subscriptionMode:p.default.subscriptionMode,skuId:n,followupSKU:null!=r?_.default.get(r.id):null,followupSKUInfo:r,trialId:p.default.trialId,plan:p.default.plan,paymentSourceType:t,paymentError:p.default.paymentError,theme:m.default.theme,isGift:p.default.isGift,isGiftingFromChat:p.default.isGiftingFromChat,giftCode:p.default.giftCode,analyticsLocation:p.default.analyticsLocation}},{forwardRef:!0})(te),re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.close=function(){null!=t.ref.current&&t.ref.current.closable&&t.ref.current.close()},t}return $(t,e),t.prototype.render=function(){return a.createElement(ne,{ref:this.ref})},t}(a.PureComponent);re.displayName="PremiumPaymentModal",re.modalConfig={store:p.default,closable:!0};var ae=re;t.default=ae},6542:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(4)),o=c(n(112)),i=c(n(158)),l=n(815),s=n(0),u=c(n(10)),d=c(n(5360));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){switch(e){case s.SubscriptionIntervalTypes.YEAR:return"years";case s.SubscriptionIntervalTypes.MONTH:return"months";case s.SubscriptionIntervalTypes.DAY:return"days";default:throw new Error("Unexpected interval")}}function m(e,t){return a.default.duration(t.intervalCount,p(t.interval)).asSeconds()-a.default.duration(e.intervalCount,p(e.interval)).asSeconds()}var h=function(){return f("div",{className:d.default.annualDiscount},void 0,"-16%")};h.displayName="AnnualDiscount";var v=f(h,{}),y=function(e){var t=e.subscriptionPlan,n=e.onSelect,r=e.isTrial,a=e.isGift,c=t.interval===s.SubscriptionIntervalTypes.YEAR;return f(i.default,{align:i.default.Align.CENTER,className:d.default.option},void 0,f(i.default.Child,{grow:1},void 0,f("div",{className:d.default.priceRow},void 0,f("div",{className:d.default.price},void 0,(0,l.formatPrice)(t.price,t.currency)),c?v:null),f("div",{className:d.default.interval},void 0,function(e,t){if(t)switch(e){case s.SubscriptionIntervalTypes.YEAR:return u.default.Messages.PAYMENT_MODAL_ONE_YEAR;case s.SubscriptionIntervalTypes.MONTH:return u.default.Messages.PAYMENT_MODAL_ONE_MONTH;default:throw new Error("Unexpected interval")}switch(e){case s.SubscriptionIntervalTypes.YEAR:return u.default.Messages.PAYMENT_MODAL_PER_YEAR;case s.SubscriptionIntervalTypes.MONTH:return u.default.Messages.PAYMENT_MODAL_PER_MONTH;default:throw new Error("Unexpected interval")}}(t.interval,a))),f(o.default,{color:c?o.default.Colors.GREEN:o.default.Colors.PRIMARY,className:d.default.selectButton,onClick:function(){return n(t)}},void 0,r?u.default.Messages.PREMIUM_PAYMENT_START_TRIAL:u.default.Messages.PREMIUM_PAYMENT_SELECT))};y.displayName="PlanSelectorOption";var _=function(e){var t=e.subscriptionPlans,n=e.onSelect,r=e.isTrial,a=e.isGift;return f("div",{},void 0,t.sort(m).map(function(e){return f(y,{subscriptionPlan:e,onSelect:n,isTrial:r,isGift:a},e.id)}))};_.displayName="PlanSelector";var E=_;t.default=E},6543:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=R(n(17)),i=n(435),l=R(n(3)),s=n(59),u=R(n(817)),d=b(n(6099)),c=b(n(5970)),f=n(5877),p=R(n(11)),m=R(n(5904)),h=R(n(5863)),v=R(n(158)),y=b(n(5873)),_=R(n(426)),E=R(n(98)),g=R(n(18)),S=n(113),T=R(n(6540)),I=R(n(6323)),N=b(n(5985)),A=n(0),P=R(n(10)),O=R(n(5235)),C=R(n(5539));function R(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}l.default.initialize();var w=/\.$/,B=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(w,"")}).join(". ").trim():e},U=L(N.InviteResolvingHeader,{}),k=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._retryTimer=new s.Timeout,n.handleCaptchaVerify=function(e){return n.setState({captchaKey:e},function(){return n.handleRegister()})},n.handleGotoLogin=function(){var e=n.state.email,t=n.props,r=t.onLoginStart,a=t.giftCode,o=t.transitionTo,l=t.invite,s=t.redirectTo,f=t.isGuest,p=t.location;if(f)return c.close(),void d.open();var m,h=null!=p?(0,i.parse)(p.search):{};null!=l?m=A.Routes.INVITE_LOGIN(l.code):null!=a?m=A.Routes.GIFT_CODE_LOGIN(a.code):null!=s?(m=A.Routes.LOGIN,h.redirect_to=s):(m=A.Routes.LOGIN,""!==e&&(h={email:e})),u.default.loginReset(),o(m,{search:(0,i.stringify)(h)}),null!=r&&r(),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},n.handleSubmit=function(e){e&&e.preventDefault(),n.handleRegister()},n.renderGiftCodeHeader=function(e){return L(I.default,{giftCode:e})};var r=null!=t.location?(0,i.parse)(t.location.search):{};return n.state={email:r.email||"",username:"",password:"",captchaKey:null,consent:!t.consentRequired,isRateLimited:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,l,p,R=r.prototype;return R.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},R.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;g.default.track(A.AnalyticEvents.REGISTER_VIEWED,M({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?t.getAnalyticsData(!1,!1):{}),!0),null==this.props.consentRequired&&u.default.getConsentRequired(),(0,f.trackAppUIViewed)("register")},R.componentWillUnmount=function(){this._retryTimer.stop()},R.UNSAFE_componentWillReceiveProps=function(e){null==this.props.consentRequired&&null!=e.consentRequired&&(e.consentRequired?this.setState({consent:!1}):e.consentRequired||this.setState({consent:!0}))},R.componentDidUpdate=function(e){var t=this,n=this.props,r=n.errors,a=n.authenticated;e.errors!==r&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),a&&!e.authenticated&&this.redirectIfAuthenticated()},R.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:m.default.defaultRoute)},R.handleRegister=function(){var e=this.state,t=e.email,n=e.username,r=e.password,a=e.captchaKey,o=e.consent,i=this.props,l=i.invite,s=i.giftCode,d=i.consentRequired,c=null!=l?l.code:null,f=null!=s?s.skuId:null;null!==d&&(null!=l?u.default.register({username:n,consent:o,invite:c,giftCodeSKUId:f,captchaKey:a}):u.default.registerFull({email:t,username:n,consent:o,password:r,invite:c,giftCodeSKUId:f,captchaKey:a}),S.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE))},R.hasError=function(e){return null!=this.props.errors[e]},R.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null;return this.props.consentRequired?r=L(v.default,{className:O.default.marginTop20,align:v.default.Align.CENTER},void 0,L(h.default,{value:t,type:h.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:C.default.checkbox}),L(y.SubText,{},void 0,P.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:A.MarketingURLs.TERMS,privacyURL:A.MarketingURLs.PRIVACY}))):n=L(y.SubText,{className:O.default.marginTop20},void 0,P.default.Messages.TERMS_PRIVACY.format({termsURL:A.MarketingURLs.TERMS,privacyURL:A.MarketingURLs.PRIVACY})),{subText:n,consentText:r}},R.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return L(y.default,{className:t},void 0,U,L(y.Block,{className:O.default.marginTop40},void 0,L(E.default,{},void 0,P.default.Messages.FORM_LABEL_USERNAME),L(_.default,{text:P.default.Messages.AUTH_USERNAME_TOOLTIP,position:_.default.Positions.RIGHT,color:_.default.Colors.BRAND},void 0,L(y.Input,{autoFocus:!0,className:O.default.marginBottom8,name:"username",value:this.state.username,placeholder:P.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})}})),L(y.Button,{className:O.default.marginTop20,disabled:!0},void 0,P.default.Messages.CONTINUE),L(y.Button,{look:y.Button.Looks.LINK,disabled:!0,className:O.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),L(y.SubText,{disabled:!0,className:O.default.marginTop20},void 0,P.default.Messages.TERMS_PRIVACY.format({termsURL:A.MarketingURLs.TERMS,privacyURL:A.MarketingURLs.PRIVACY}))))},R.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.registering,a=t.consentRequired,o=t.authBoxClassName,i=t.errors.username,l=this.state.consent,s=this.renderConsentComponents(),u=s.subText,d=s.consentText,c=L("div",{className:O.default.marginTop20},void 0,L(y.Button,{type:"submit",submitting:r,disabled:!this.hasConsent()},void 0,P.default.Messages.CONTINUE));return!l&&a&&(c=L(_.default,{text:P.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,c)),L(y.default,{onSubmit:this.handleSubmit,tag:"form",className:o},void 0,L(N.default,{invite:n}),L(y.Block,{className:O.default.marginTop40},void 0,L(E.default,{error:B(i)},void 0,P.default.Messages.FORM_LABEL_USERNAME),L(_.default,{text:P.default.Messages.AUTH_USERNAME_TOOLTIP,position:_.default.Positions.RIGHT,color:_.default.Colors.BRAND},void 0,L(y.Input,{autoFocus:!0,className:O.default.marginBottom8,name:"username",value:this.state.username,placeholder:P.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=i?"":null})),d,c,L(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:O.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),u))},R.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?L(y.SubText,{className:(0,o.default)(O.default.marginTop20,C.default.errorMessage)},void 0,e):null},R.renderFull=function(e){var t=this,n=this.state,r=n.email,a=n.username,o=n.password,i=n.consent,l=this.props,s=l.registering,u=l.consentRequired,d=l.isGuest,c=l.authBoxClassName,f=l.errors,p=(f=void 0===f?{}:f).email,m=f.username,h=f.password,v=this.renderConsentComponents(),E=v.subText,g=v.consentText,S=this.renderErrorMessage(),T=L("div",{className:O.default.marginTop20},void 0,L(y.Button,{type:"submit",submitting:s,disabled:!this.hasConsent()||this.state.isRateLimited},void 0,P.default.Messages.CONTINUE));return!i&&u&&(T=L(_.default,{text:P.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,T)),L(y.default,{onSubmit:this.handleSubmit,tag:"form",className:c},void 0,d?null:null!=e?e():L(y.Title,{},void 0,P.default.Messages.REGISTER_TITLE),L(y.Block,{className:O.default.marginTop20},void 0,L(y.Input,{autoFocus:!0,label:P.default.Messages.FORM_LABEL_EMAIL,className:O.default.marginBottom20,name:"email",value:r,onChange:function(e){return t.setState({email:e})},error:B(p),type:"email",setRef:function(e){t.emailRef=e}}),L(y.Input,{label:P.default.Messages.FORM_LABEL_USERNAME,className:O.default.marginBottom20,name:"username",value:a,onChange:function(e){return t.setState({username:e})},error:B(m),setRef:function(e){t.usernameRef=e}}),L(y.Input,{label:P.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:o,onChange:function(e){return t.setState({password:e})},error:B(h),type:"password",setRef:function(e){t.passwordRef=e}}),g,T,S,L(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:O.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),E))},R.render=function(){var e=this,t=this.props,n=t.isGuest,r=t.authBoxClassName;if(this.hasError("captcha_key"))return L(T.default,{authBoxClassName:r,onVerify:this.handleCaptchaVerify,title:n?null:P.default.Messages.REGISTER_TITLE});var a=this.props,o=a.invite,i=a.giftCode;return null!=o?o.state===A.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=i?this.renderFull(function(){return e.renderGiftCodeHeader(i)}):this.renderFull()},a=r,(l=[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}])&&D(a.prototype,l),p&&D(a,p),r}(a.PureComponent);k.displayName="Register",k.defaultProps={giftCodeResolved:!1,transitionTo:function(t){return e.location.assign(t)}};var F=l.default.connectStores([p.default],function(){return{consentRequired:p.default.getConsentRequired(),authenticated:p.default.isAuthenticated(),registering:p.default.getRegisterStatus(),errors:p.default.getErrors()}})(k);t.default=F}).call(this,n(7))},6565:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(6112));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=[];var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getPayment=function(e){return l.find(function(t){return t.id===e})},a.getPayments=function(){return l},r}(r.default.Store))(a.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=function(){if(r){if(a>=n.length)return"break";i=n[a++]}else{if((a=n.next()).done)return"break";i=a.value}var e=i;null==l.find(function(t){return t.id===e.id})&&l.push(o.default.createFromServer(e))},n=e.payments,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if("break"===t())break}l.sort(function(e,t){return t.createdAt-e.createdAt}),l=[].concat(l)},LOGOUT:function(e){l=[]}});t.default=s},6566:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=M(n(2)),i=b(n(3)),l=b(n(1)),s=M(n(238)),u=M(n(844)),d=M(n(5975)),c=(n(429),b(n(5943))),f=b(n(5926)),p=b(n(240)),m=b(n(5976)),h=b(n(112)),v=b(n(158)),y=b(n(5879)),_=b(n(188)),E=n(796),g=b(n(8)),S=b(n(6053)),T=b(n(6113)),I=b(n(6114)),N=b(n(6115)),A=b(n(5977)),P=n(6116),O=n(0),C=b(n(10)),R=b(n(5384));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,l,"next",e)}function l(e){L(o,r,a,i,l,"throw",e)}i(void 0)})}}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=Object.freeze({PAYMENT_TYPE:"payment_type",CARD_INFO:"card_info",ADDRESS:"billing_address",PAYMENT_REQUEST_INFO:"payment_request_info",PAYPAL:"paypal"}),F=((r={})[k.PAYMENT_TYPE]=C.default.Messages.PAYMENT_SOURCE_TYPE,r[k.PAYMENT_REQUEST_INFO]=C.default.Messages.BILLING_STEP_PAYMENT_INFO,r[k.CARD_INFO]=C.default.Messages.PAYMENT_SOURCE_INFORMATION,r[k.ADDRESS]=C.default.Messages.BILLING_ADDRESS,r[k.PAYPAL]=C.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS,r),G=[k.PAYMENT_TYPE,k.CARD_INFO,k.ADDRESS],j=[k.PAYMENT_TYPE,k.PAYPAL,k.ADDRESS],x=[k.PAYMENT_TYPE,k.PAYMENT_REQUEST_INFO];function Y(e){return e.hasCardError()?k.CARD_INFO:e.hasAddressError()?k.ADDRESS:null}var V=B(N.default,{}),H=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).state={type:O.PaymentSourceTypes.CARD,step:k.PAYMENT_TYPE,steps:G,errorStep:null},n.STEPS_DATA=((t={})[k.PAYMENT_TYPE]={renderBody:function(){return B(I.default,{allowStripeRequestPayments:!g.default.embedded,onChooseType:n.handleChooseType,onPaymentSourceReceived:n.handleStripePaymentSource})}},t[k.PAYMENT_REQUEST_INFO]={renderBody:function(){var e=n.props,t=e.stripePaymentSource,r=e.submitting;return B(P.PaymentRequestStepBody,{stripePaymentSource:t,submitting:r})},renderNextButton:function(){var e=n.props.submitting;return B(h.default,{submitting:e,look:h.default.Looks.OUTLINED,disabled:!0})}},t[k.CARD_INFO]={renderBody:function(){var e=n.props,t=e.creditCardInfo,r=e.error,a=null!=r&&(null==r.code||Y(r)===k.CARD_INFO);return B(o.Fragment,{},void 0,a?B(y.default,{className:R.default.errorBlock},void 0,C.default.Messages.BILLING_ERROR_SECTION_CARD):null,o.createElement(T.default,w({},t,{onCardInfoChange:n.handleCardInfoChange,error:a?r:null})))},renderNextButton:function(){var e=n.props,t=e.isCreditCardInfoValid,r=e.submitting;return B(h.default,{disabled:!t,onClick:n.handleNextClick,type:"submit",submitting:r},void 0,C.default.Messages.NEXT)}},t[k.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.error,a=null!=r&&(null==r.code||Y(r)===k.ADDRESS);return B(o.Fragment,{},void 0,a?B(y.default,{className:R.default.errorBlock},void 0,C.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,o.createElement(S.default,w({},t,{onBillingAddressChange:n.handleBillingAddressChange,error:a?r:null})))},renderNextButton:function(){var e=n.props,t=e.submitting,r=e.isBillingAddressInfoValid;return B(h.default,{type:"submit",submitting:t,disabled:!r,onClick:n.state.type===O.PaymentSourceTypes.PAYPAL?n.handlePaypalSave:n.handleCardSave},void 0,C.default.Messages.SAVE)}},t[k.PAYPAL]={renderBody:function(){return V},renderNextButton:function(){var e=n.props,t=e.submitting,r=e.braintreeNonce,a=null!=e.braintreeEmail&&null!=r;return B(h.default,{submitting:t,look:a?h.default.Looks.FILLED:h.default.Looks.OUTLINED,onClick:a?n.handleNextClick:n.handleReopenPaypal},void 0,a?C.default.Messages.NEXT:C.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN)}},t),n.handleChooseType=function(e){var t=n.getSteps(e),r=n.getNextStep(t);null!=r&&n.setState({type:e,steps:t,step:r})},n.handleCardInfoChange=function(e,t){l.default.wait(function(){return d.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){l.default.wait(function(){return d.updateAddressInfo(e,t)})},n.handleBackClick=function(){var e=n.getPreviousStep();null!=e&&(e===k.PAYMENT_TYPE&&d.clearError(),n.setState({step:e}))},n.handleNextClick=function(){var e=n.getNextStep();null!=e&&n.setState({step:e})},n.handleClose=function(){n.props.onClose()},n.handleStripePaymentSource=function(e){d.updateStripePaymentRequest(e),null!=e?n.handleStripePaymentRequestSave(e):n.handleBackClick()},n.handleStripePaymentRequestSave=function(){var e=D(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.createPaymentRequestPaymentSource(t);case 3:r=e.sent,(a=n.props.onAddPaymentSource)&&a(r),n.handleClose(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),n.handleCardSave=D(regeneratorRuntime.mark(function e(){var t,r,a,o,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.creditCardInfo,a=t.billingAddressInfo,o=t.isCreditCardInfoValid,i=t.isBillingAddressInfoValid,l=t.onAddPaymentSource,o&&i){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,s.createCardPaymentSource(w({},r,{billingAddress:a,type:O.PaymentSourceTypes.CARD,isDefault:!1}));case 6:u=e.sent,l&&l(u),n.handleClose(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,null,[[3,11]])})),n.handlePaypalSave=D(regeneratorRuntime.mark(function e(){var t,r,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.braintreeEmail,a=t.braintreeNonce,o=t.billingAddressInfo,i=t.onAddPaymentSource,null==r||null==a){e.next=12;break}return e.prev=2,e.next=5,s.createPaypalPaymentSource(a,o);case 5:l=e.sent,i&&i(l),n.handleClose(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,null,[[2,10]])})),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.error,r=t.errorStep;if(null==n)return null==r?null:{errorStep:null};var a=Y(n);return null!=a&&a!==t.errorStep?{step:a,errorStep:a}:null};var a,i,c,f=r.prototype;return f.componentDidMount=function(){u.createClient()},f.componentWillUnmount=function(){l.default.wait(function(){return u.teardown()}),d.clearCardInfo()},f.getSteps=function(e){switch(null!=e?e:this.state.type){case O.PaymentSourceTypes.PAYMENT_REQUEST:return x;case O.PaymentSourceTypes.PAYPAL:return j;default:return G}},f.getNextStep=function(e){void 0===e&&(e=this.state.steps);var t=this.state.step,n=e.indexOf(t);return e[n+1]},f.getPreviousStep=function(e){void 0===e&&(e=this.state.steps);var t=this.state.step,n=e.indexOf(t);return e[n-1]},f.preventDefault=function(e){e.preventDefault()},f.handleReopenPaypal=function(){u.reopenPayPalWindow()},f.renderGenericError=function(){var e=this.props.error;return null==e||null!=Y(e)?null:B(y.default,{className:R.default.errorBlock},void 0,e.message)},f.renderFooter=function(){var e=this.stepData;return null==e.renderNextButton?null:B(_.default.Footer,{},void 0,B(v.default,{justify:v.default.Justify.BETWEEN},void 0,B(h.default,{onClick:this.handleBackClick,color:h.default.Colors.WHITE,look:h.default.Looks.LINK,size:h.default.Sizes.MIN},void 0,C.default.Messages.BACK),e.renderNextButton()))},f.render=function(){var e=this.state,t=e.step,n=e.steps,r=n.map(function(e){return{id:e,label:F[e]}});return B(_.default,{fullscreenOnMobile:!0,size:_.default.Sizes.SMALL,className:R.default.modal},void 0,B("form",{className:R.default.form,onSubmit:this.preventDefault},void 0,B(_.default.Header,{separator:!1},void 0,B(v.default,{direction:v.default.Direction.VERTICAL},void 0,B(v.default,{className:R.default.modalTitle,justify:v.default.Justify.BETWEEN,align:v.default.Align.CENTER},void 0,B(E.FormTitle,{tag:E.FormTitleTags.H4},void 0,C.default.Messages.PAYMENT_SOURCES_ADD),B(_.default.CloseButton,{hideOnFullscreen:!0,onClick:this.handleClose})),this.renderGenericError(),B(m.default,{breadcrumbs:r,activeId:t}))),B("div",{className:R.default.divider}),B(_.default.Content,{className:R.default.content,outerClassName:R.default.modalContent},void 0,B(A.default,{step:t,steps:n},void 0,this.stepData.renderBody())),this.renderFooter()))},a=r,(i=[{key:"stepData",get:function(){var e=this.state.step,t=this.STEPS_DATA[e];if(null==t)throw new Error("Invalid step "+e);return t}}])&&U(a.prototype,i),c&&U(a,c),r}(o.PureComponent);H.displayName="AddPaymentModal";var W=i.default.connectStores([f.default,p.default,c.default],function(){return{braintreeEmail:f.default.braintreeEmail,braintreeNonce:f.default.braintreeNonce,stripePaymentSource:f.default.stripePaymentSource,creditCardInfo:f.default.getCreditCardInfo(),isCreditCardInfoValid:f.default.isCardInfoValid,billingAddressInfo:f.default.getBillingAddressInfo(),isBillingAddressInfoValid:f.default.isBillingAddressInfoValid,error:f.default.error,submitting:c.default.isBusy}})(H);t.default=W},6567:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=[{label:"Alberta",value:"AB"},{label:"British Columbia",value:"BC"},{label:"Manitoba",value:"MB"},{label:"New Brunswick",value:"NB"},{label:"Newfoundland and Labrador",value:"NL"},{label:"Nova Scotia",value:"NS"},{label:"Ontario",value:"ON"},{label:"Prince Edward Island",value:"PE"},{label:"Quebec",value:"QC"},{label:"Saskatchewan",value:"SK"},{label:"Northwest Territories",value:"NT"},{label:"Nunavut",value:"NU"},{label:"Yukon",value:"YT"}]},6568:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia, Plurinational State of",code:"BO"},{name:"Bonaire, Sint Eustatius and Saba",code:"BQ"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote d'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestine, State of",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Barthélemy",code:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Martin (French part)",code:"MF"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela, Bolivarian Republic of",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]},6569:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=[{label:"Alabama",value:"AL"},{label:"Alaska",value:"AK"},{label:"American Samoa",value:"AS"},{label:"Arizona",value:"AZ"},{label:"Arkansas",value:"AR"},{label:"Armed Forces: Americas",value:"AA"},{label:"Armed Forces: Europe",value:"AE"},{label:"Armed Forces: Pacific",value:"AP"},{label:"California",value:"CA"},{label:"Colorado",value:"CO"},{label:"Connecticut",value:"CT"},{label:"Delaware",value:"DE"},{label:"District Of Columbia",value:"DC"},{label:"Federated States Of Micronesia",value:"FM"},{label:"Florida",value:"FL"},{label:"Georgia",value:"GA"},{label:"Guam",value:"GU"},{label:"Hawaii",value:"HI"},{label:"Idaho",value:"ID"},{label:"Illinois",value:"IL"},{label:"Indiana",value:"IN"},{label:"Iowa",value:"IA"},{label:"Kansas",value:"KS"},{label:"Kentucky",value:"KY"},{label:"Louisiana",value:"LA"},{label:"Maine",value:"ME"},{label:"Marshall Islands",value:"MH"},{label:"Maryland",value:"MD"},{label:"Massachusetts",value:"MA"},{label:"Michigan",value:"MI"},{label:"Minnesota",value:"MN"},{label:"Mississippi",value:"MS"},{label:"Missouri",value:"MO"},{label:"Montana",value:"MT"},{label:"Nebraska",value:"NE"},{label:"Nevada",value:"NV"},{label:"New Hampshire",value:"NH"},{label:"New Jersey",value:"NJ"},{label:"New Mexico",value:"NM"},{label:"New York",value:"NY"},{label:"North Carolina",value:"NC"},{label:"North Dakota",value:"ND"},{label:"Northern Mariana Islands",value:"MP"},{label:"Ohio",value:"OH"},{label:"Oklahoma",value:"OK"},{label:"Oregon",value:"OR"},{label:"Palau",value:"PW"},{label:"Pennsylvania",value:"PA"},{label:"Puerto Rico",value:"PR"},{label:"Rhode Island",value:"RI"},{label:"South Carolina",value:"SC"},{label:"South Dakota",value:"SD"},{label:"Tennessee",value:"TN"},{label:"Texas",value:"TX"},{label:"Utah",value:"UT"},{label:"Vermont",value:"VT"},{label:"Virgin Islands",value:"VI"},{label:"Virginia",value:"VA"},{label:"Washington",value:"WA"},{label:"West Virginia",value:"WV"},{label:"Wisconsin",value:"WI"},{label:"Wyoming",value:"WY"}]},6570:function(e,t,n){"use strict";var r={},a=["visa","master-card","american-express","diners-club","discover","jcb","unionpay","maestro"];function o(e){var t,n,r;return e?(t=e.prefixPattern.source,n=e.exactPattern.source,(r=JSON.parse(JSON.stringify(e))).prefixPattern=t,r.exactPattern=n,r):null}function i(e){var t,n,i,l=[],s=[];if(!("string"==typeof e||e instanceof String))return[];for(i=0;i<a.length;i++)t=a[i],n=r[t],0!==e.length?n.exactPattern.test(e)?s.push(o(n)):n.prefixPattern.test(e)&&l.push(o(n)):l.push(o(n));return s.length?s:l}r.visa={niceType:"Visa",type:"visa",prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},r["master-card"]={niceType:"MasterCard",type:"master-card",prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27[0-1]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},r["american-express"]={niceType:"American Express",type:"american-express",prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},r["diners-club"]={niceType:"Diners Club",type:"diners-club",prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14],code:{name:"CVV",size:3}},r.discover={niceType:"Discover",type:"discover",prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},r.jcb={niceType:"JCB",type:"jcb",prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},r.unionpay={niceType:"UnionPay",type:"unionpay",prefixPattern:/^(6|62)$/,exactPattern:/^62\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},r.maestro={niceType:"Maestro",type:"maestro",prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^5[06-9]\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},i.getTypeInfo=function(e){return o(r[e])},i.types={VISA:"visa",MASTERCARD:"master-card",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro"},e.exports=i},6573:function(e,t,n){var r=n(487);e.exports=function(e,t){return r(e,t)}},6658:function(e,t,n){"use strict";t.__esModule=!0,t.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.applySpringForce=function(e,t,n,r){return r.tension*(e-t)-r.friction*n}},6699:function(e,t,n){"use strict";t.__esModule=!0,t.makeAuthenticated=function(e,t){var n=c(t,{});return function(r){if(!l.default.isAuthenticated()&&!l.default.isGuest()){if(null!=t)return n;var s=location.pathname+location.search;return c(o.Redirect,{to:(0,i.getLoginPath)(s,!1)})}return a.createElement(e,r)}},t.getArtForPath=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(157),i=n(341),l=d(n(11)),s=d(n(6700)),u=d(n(6701));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6702);var t=(new Date).getHours();return t>=6&&t<20?s.default:u.default}},6700:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6701:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6702:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},6707:function(e,t,n){var r=n(104);e.exports=function(){return r.Date.now()}},6708:function(e,t,n){var r=n(137),a=n(345),o=NaN,i=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):l.test(e)?o:+e}},6723:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(17)),i=S(n(3)),l=S(n(1)),s=n(238),u=n(6172),d=(S(n(6112)),S(n(6565))),c=S(n(319)),f=S(n(431)),p=S(n(158)),m=S(n(6724)),h=S(n(307)),v=S(n(6725)),y=n(0),_=S(n(10)),E=S(n(5382)),g=S(n(5261));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=10,A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={pageIndex:0,lastIdFetched:null},t.handlePageChange=function(e){var n=t.props.payments,r=n[n.length-1].id;e===t.numPages-1&&t.state.lastIdFetched!==r?((0,s.fetchPayments)(N,r),t.setState({pageIndex:e,lastIdFetched:r})):t.setState({pageIndex:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,d,c,S=r.prototype;return S.componentDidMount=function(){l.default.wait(function(){(0,u.fetchActivityStatistics)(),(0,s.fetchPayments)(N+N)})},S.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,r=e.payments,i=this.state.pageIndex,l=r.slice(i*N,(i+1)*N);return T(a.Fragment,{},void 0,l.map(function(e,r){return T(v.default,{className:(0,o.default)(E.default.paymentRow,E.default.bottomDivider),payment:e,locale:n,compactMode:t},r)}))},S.renderPremiumAppleSubscription=function(){return T(f.default,{className:E.default.appleRow},void 0,T("div",{className:E.default.appleRowHeader},void 0,_.default.Messages.BILLING_APPLE_HEADER),T("div",{className:E.default.appleRowBody},void 0,_.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:y.AppleBillingUrls.BILLING_MANAGEMENT})))},S.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,a=this.state.pageIndex,i=null!=r&&r.isPurchasedViaApple;return 0!==n.length||i?T("div",{className:E.default.verticalFit},void 0,i?this.renderPremiumAppleSubscription():null,n.length>0?T("div",{className:(0,o.default)(E.default.paymentPane,E.default.verticalFit)},void 0,t?null:T("div",{className:(0,o.default)(E.default.paymentRow,E.default.bottomDivider)},void 0,T(p.default,{className:E.default.paymentRowHeader},void 0,T("div",{className:g.default.date},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),T("div",{className:g.default.description},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),T("div",{className:g.default.amount},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),T(m.default,{className:(0,o.default)(E.default.verticalFit,E.default.paginator),currentPageIndex:a,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,T(h.default,{outerClassName:E.default.bottomDivider,theme:h.default.Themes.GHOST_HAIRLINE},void 0,this.renderPage()))):null):null},i=r,(d=[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/N),1)}}])&&I(i.prototype,d),c&&I(i,c),r}(a.PureComponent);A.displayName="PaymentHistory",A.defaultProps={compactMode:!1};var P=i.default.connectStores([d.default,c.default],function(){return{payments:d.default.getPayments(),subscription:c.default.getPremiumSubscription()}})(A);t.default=P},6724:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(302)),i=s(n(10)),l=s(n(5380));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n,r=e.currentPageIndex,s=e.numPages,d=e.onChangePage,c=e.children,f=e.className;return u("div",{className:(0,a.default)(l.default.paginator,f)},void 0,c,u("div",{className:l.default.pageActions},void 0,u(o.default,{name:o.default.Names.LEFT_CARET,onClick:function(){r>0&&d(r-1)},className:(0,a.default)(l.default.pageButtonPrev,(t={},t[l.default.disabled]=0===r,t))}),u("div",{className:l.default.pageIndicator},void 0,i.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:r+1,numPages:s})),u(o.default,{name:o.default.Names.RIGHT_CARET,onClick:function(){r<s-1&&d(r+1)},className:(0,a.default)(l.default.pageButtonNext,(n={},n[l.default.disabled]=r>=s-1,n))})))};d.displayName="Paginator";var c=d;t.default=c},6725:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(17)),i=A(n(163)),l=A(n(4)),s=A(n(3)),u=(A(n(6112)),n(813)),d=A(n(35)),c=A(n(324)),f=A(n(305)),p=A(n(158)),m=A(n(5862)),h=A(n(302)),v=A(n(5872)),y=A(n(426)),_=A(n(838)),E=n(810),g=n(815),S=A(n(6456)),T=n(0),I=A(n(10)),N=A(n(5261));function A(e){return e&&e.__esModule?e:{default:e}}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=14,R=5,b=2,M=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},L=(0,i.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),D=[T.PaymentStatusTypes.FAILED,T.PaymentStatusTypes.REVERSED],w=function(e){var t=e.description,n=e.cost;return O("li",{className:N.default.paymentDetail},void 0,O(p.default,{justify:p.default.Justify.BETWEEN},void 0,O("div",{},void 0,t),O("div",{},void 0,n)))};w.displayName="PaymentDetail";var B=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1},t.refundRules=[{rule:L.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<l.default.duration(b,"hours").asMilliseconds()}},{rule:L.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;return!!t.isSkuPreorder||(e.isPremiumSubscription?t.daysSincePurchase<=R:t.daysSincePurchase<=C)}},{rule:L.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==T.SKUTypes.CONSUMABLE}},{rule:L.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:L.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!D.includes(e.status)}}],t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,s,d,c=r.prototype;return c.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},c.renderStatus=function(){switch(this.props.payment.status){case T.PaymentStatusTypes.PENDING:return O("span",{className:N.default.statusTagGrey},void 0,I.default.Messages.BILLING_TAG_PENDING);case T.PaymentStatusTypes.FAILED:return O("span",{className:N.default.statusTagRed},void 0,I.default.Messages.BILLING_TAG_FAILED);case T.PaymentStatusTypes.REFUNDED:return O("span",{className:N.default.statusTagGreen},void 0,I.default.Messages.BILLING_TAG_REFUNDED);case T.PaymentStatusTypes.REVERSED:return O("span",{className:N.default.statusTagRed},void 0,I.default.Messages.BILLING_TAG_REVERSED);default:return null}},c.renderPrice=function(){var e=this.props.payment;return O("span",{},void 0,(0,g.formatPrice)(e.amount,e.currency))},c.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,i=t.tax,l=t.amount,s=t.currency;return O("div",{className:(0,o.default)(N.default.paymentText,N.default.paymentBreakdown)},void 0,null!=t.paymentSource?O(S.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:N.default.paymentText}):null,O("ul",{},void 0,!r&&i>0?O(a.Fragment,{},void 0,O(w,{description:t.description,cost:(0,g.formatPrice)(l-i,s)}),O(w,{description:I.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,g.formatPrice)(i,s)})):null,O(w,{description:I.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,g.formatPrice)(l,s)})))},c.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(L.PAYMENT_STATUS)||r.includes(L.ALREADY_REFUNDED))return null;var o,i=0===r.length,l=M(t);return o=r.includes(L.SKU_TYPE)?I.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):i?n.isPreorder&&this.isSkuPreorder?I.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:l}):n.isPremiumSubscription?I.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:R,supportURL:l}):n.isGift?I.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:C,supportURL:l}):I.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:C,playtimeLimit:b,supportURL:l}):n.isGift?I.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:C}):n.isPremiumSubscription?I.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:R,supportURL:l}):I.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:C,playtimeLimit:b}),O(a.Fragment,{},void 0,O("h2",{className:N.default.paymentHeader},void 0,I.default.Messages.BILLING_REFUND_HEADER),O("div",{className:N.default.paymentText},void 0,O("div",{},void 0,o),this.renderRefundActions(r)))},c.renderRefundActions=function(e){var t=this.props,n=t.locale,r=t.payment;return this.isSkuPreorder||e.includes(L.SKU_TYPE)?null:O(p.default,{justify:p.default.Justify.BETWEEN,align:p.default.Align.END},void 0,O(p.default,{},void 0,O("div",{className:N.default.refundCriteria},void 0,O("h3",{className:N.default.refundSubHeader},void 0,r.isPreorder?I.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:I.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),O(p.default,{align:p.default.Align.CENTER},void 0,O(h.default,{name:e.includes(L.PURCHASE_DATE)?h.default.Names.CLOSE:h.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),O("div",{},void 0,I.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),r.isPremiumSubscription||r.isGift?null:O("div",{className:N.default.refundCriteria},void 0,O("h3",{className:N.default.refundSubHeader},void 0,I.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),O(p.default,{},void 0,O(h.default,{name:e.includes(L.TIME_PLAYED)?h.default.Names.CLOSE:h.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),O("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():I.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),O(f.default,{href:M(n)},void 0,I.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},c.renderDescription=function(){var e,t,n=this.props,r=n.compactMode,o=n.payment,i=n.application,s=o.sku;null!=s?(t=o.isPreorder?I.default.Messages.PREORDER_SKU_NAME.format({name:s.name}):s.name,e=O(m.default,{className:N.default.descriptionIcon,game:i,size:m.default.Sizes.XSMALL,skuId:s.id})):(e=O(h.default,{className:N.default.descriptionIcon,name:h.default.Names.NITRO_WHEEL}),t=o.description);var u=O(p.default.Child,{className:N.default.date},void 0,(0,E.dateFormat)((0,l.default)(o.createdAt),"MM/DD/YYYY")),d=o.isGift?O(y.default,{text:I.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,O(h.default,{className:N.default.giftIcon,name:h.default.Names.GIFT})):null;return r?O("div",{className:N.default.description},void 0,e,O("div",{},void 0,t,u),d):O(a.Fragment,{},void 0,u,O("div",{className:N.default.description},void 0,e,t,d))},c.renderExpandedSection=function(){return O("div",{className:N.default.expandedInfo},void 0,O("h2",{className:N.default.paymentHeader},void 0,I.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},c.render=function(){var e,t=this.state.expanded,n=this.props,r=n.className,a=n.compactMode;return O("div",{className:(0,o.default)(t?N.default.payment:N.default.hoverablePayment,r,(e={},e[N.default.compact]=a,e))},void 0,O(p.default,{onClick:this.handleExpandInfo,className:N.default.summaryInfo,align:p.default.Align.CENTER},void 0,this.renderDescription(),O("div",{className:N.default.amount},void 0,this.renderStatus(),this.renderPrice()),O(h.default,{name:h.default.Names.CARET,className:N.default.expand,direction:t?_.default.Directions.UP:_.default.Directions.DOWN})),t?this.renderExpandedSection():null)},i=r,(s=[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?l.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,l.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof u.PaypalSourceRecord?v.default.Types.PAYPAL:e instanceof u.CreditCardSourceRecord?v.default.getType(e.brand):v.default.Types.UNKNOWN}}])&&P(i.prototype,s),d&&P(i,d),r}(a.PureComponent);B.displayName="PaymentHistoryRow",B.defaultProps={compactMode:!1};var U=s.default.connectStores([c.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===T.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?c.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?d.default.getGame(n):null}})(B);t.default=U},6726:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7150:function(e,t,n){e.exports=n.p+"e0c782560fd96acd7f01fda1f8c6ff24.svg"},7151:function(e,t,n){e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},7152:function(e,t,n){e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},7153:function(e,t,n){e.exports=n.p+"bdcfee0c4d9fb22ce3c47b593df14254.svg"},7154:function(e,t,n){e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},8033:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(32)),a=n(497),o=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}var l={getIdleTime:function(e){o.default.getIdleMilliseconds(e)},dump:function(e){var t;performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize});var n={browser:{name:r.default.name,version:r.default.version},os:{name:r.default.os.family,version:r.default.os.version},memory:t};e(n)},getTimeSinceNavigationStart:function(){return Date.now()-a.navigationStart}};t.default=l},8034:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(5996)),i=c(n(304)),l=n(313),s=n(819),u=c(n(5268)),d=c(n(5803));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=(0,l.cssValueToNumber)(u.default.responsiveWidthMobile),m={START:0,END:1,OPACITY_INPUT_START:.5,OPACITY_INPUT_END:.7,OPACITY_OUTPUT_START:0,OPACITY_OUTPUT_END:1,SCALE_INPUT_START:0,SCALE_INPUT_END:1,SCALE_OUTPUT_START:.8,SCALE_OUTPUT_END:1},h={friction:10,tension:130};var v=function(e){return function(t){var n,l;function u(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).anim=new i.default.Value(m.START),e.state={shouldAnimate:!s.isMobile},e.handleResize=function(){var t=window.innerWidth>p;!e.state.shouldAnimate&&t&&e.anim.setValue(m.END),e.setState({shouldAnimate:t})},e.handleResizeDebounced=(0,o.default)(e.handleResize,60),e}l=t,(n=u).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var c=u.prototype;return c.UNSAFE_componentWillMount=function(){s.isMobile||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())},c.componentWillUnmount=function(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)},c.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(m.END,e):e()},c.componentWillEnter=function(e){var t=this;this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.animateTo(m.END,e)},40)):e()},c.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(m.START,e):e()},c.animateTo=function(e,t){i.default.spring(this.anim,f({toValue:e},h)).start(t)},c.getAnimatedStyle=function(){return this.state.shouldAnimate?{opacity:this.anim,transform:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null},c.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.div,{className:d.default.wrapper,style:this.getAnimatedStyle()},void 0,a.createElement(e,this.props))},u}(a.Component)};t.default=v},8035:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(17)),i=m(n(8036)),l=m(n(8037)),s=n(6325),u=m(n(8)),d=m(n(45)),c=n(819),f=n(0),p=m(n(5807));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=[f.Routes.LOGIN,f.Routes.LOGIN_HANDOFF,f.Routes.REGISTER,f.Routes.INVITE(""),f.Routes.GIFT_CODE(""),f.Routes.DISABLE_EMAIL_NOTIFICATIONS,f.Routes.BILLING_PREMIUM,f.Routes.BILLING_PAYMENTS,f.Routes.VERIFY,f.Routes.AUTHORIZE_IP,f.Routes.RESET,f.Routes.HANDOFF],y=[f.Routes.APP,f.Routes.ACTIVITY,f.Routes.APPLICATION_LIBRARY,f.Routes.APPLICATION_STORE,"/channels/","/welcome/","/settings/",f.Routes.USERS("")];function _(e){return v.some(function(t){return e.startsWith(t)})}var E=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).updateWaveState=function(e){var t=n.state.waveState;n.setState({waveState:Math.max(t,e)})},n.transitionTo=function(e,t){var r=n.state.waveState;_(e)?d.default.transitionTo(e,t):n.setState({route:e,extra:t,waveState:Math.max(r,s.WaveStates.FILLING)})},n.replaceWith=function(e){var t=n.state.waveState;_(e)?d.default.replaceWith(e):n.setState({route:e,replaceWith:!0,waveState:Math.max(t,s.WaveStates.FILLING)})},n.state={waveState:s.WaveStates.INITIAL,extra:{},replaceWith:!1,route:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentDidUpdate=function(e,t){var n=this.state,r=n.waveState,a=n.replaceWith,o=n.extra,i=n.route;if(r===s.WaveStates.FILLED&&r!==t.waveState&&null!=i){if(function(e){return y.some(function(t){return e.startsWith(t)})}(i))return a?d.default.replaceWith(i):d.default.transitionTo(i,o);window.location=i}},f.mobileTransitionTo=function(e,t){if(_(e))d.default.transitionTo(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:e+"?"+n}},f.mobileReplaceWith=function(e){_(e)?d.default.replaceWith(e):window.location=e},f.renderDefault=function(){var e,t=this,n=this.props,r=n.splash,d=n.children,c=this.state,f=c.waveState,m=null;return null==c.route&&(m=a.Children.map(d,function(e){return a.cloneElement(e,{transitionTo:t.transitionTo,replaceWith:t.replaceWith})})),h(l.default,{className:(0,o.default)(p.default.splashBackground,(e={},e[p.default.loggingIn]=f>=s.WaveStates.FILLING,e)),splash:r,waveState:f,showLogo:!u.default.isWindows(),updateWaveState:this.updateWaveState},void 0,h(i.default,{component:a.Fragment},void 0,m))},f.renderMobile=function(){var e=this;return h(i.default,{component:a.Fragment},void 0,a.Children.map(this.props.children,function(t){return a.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))},f.render=function(){return c.isMobile?this.renderMobile():this.renderDefault()},r}(a.Component);E.displayName="AuthWrapper";var g=E;t.default=g},8036:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(232),i=(r=n(803))&&r.__esModule?r:{default:r};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.location,r=e.history,u=e.staticContext,d=s(e,["children","location","history","staticContext"]),c=null,f=null;return a.Children.forEach(t,function(e){if(null==c&&a.isValidElement(e)){var t=e.props,i=t.component,d=t.render,p=s(t,["component","render"]),m=p.path||p.from;if(null==(c=null!=m?(0,o.matchPath)(n.pathname,l({},p,{path:m})):null))return;p=l({},p,{key:m,location:n,match:c,history:r,staticContext:u}),null!=i?f=a.createElement(i,p):null!=d&&(f=d(p))}}),a.createElement(i.default,d,f)},r}(a.Component);u.displayName="TransitionSwitch";var d=(0,o.withRouter)(u);t.default=d},8037:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(8038)),l=c(n(8039)),s=c(n(8040)),u=n(6325),d=c(n(5268));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={naturalWidth:0,naturalHeight:0,width:0,height:0},t.resizeImage=function(){var e=t.state,n=e.naturalWidth,r=e.naturalHeight;t.setState(t.calculateDimensions(n,r))},t.handleLoad=function(e){var n=e.currentTarget,r=n.naturalWidth,a=n.naturalHeight;t.setState(t.calculateDimensions(r,a)),window.removeEventListener("resize",t.resizeImage),window.addEventListener("resize",t.resizeImage)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeImage)},c.calculateDimensions=function(e,t){var n=window,r=n.innerWidth,a=n.innerHeight;if(0===e||0===t)return null;var o=t/e,i=r,l=Math.round(r*o);return l<a&&(l=a,o=e/t,i=Math.round(a*o)),{naturalWidth:e,naturalHeight:t,width:i,height:l}},c.renderSplashArt=function(){var e=this.props.splash,t=this.state,n=t.width,r=t.height;return null!=e?f(i.default,{className:d.default.rightSplit,src:e,width:n,height:r,onLoad:this.handleLoad}):null},c.renderContent=function(){var e,t=this.props,n=t.children,r=t.waveState,i=t.updateWaveState,c=t.showLogo;return f(a.Fragment,{},void 0,f(s.default,{waveState:r,updateWaveState:i}),f("div",{className:(0,o.default)(d.default.leftSplit,(e={},e[d.default.hasLogo]=c,e))},void 0,c?f(l.default,{show:r===u.WaveStates.ENTERED&&r!==u.WaveStates.FILLING}):null,n))},c.render=function(){var e=this.props.className;return f("div",{className:(0,o.default)(e,d.default.wrapper)},void 0,this.renderSplashArt(),this.renderContent())},r}(a.PureComponent);p.displayName="WaveSplash";var m=p;t.default=m},8038:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5804));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).unmounting=!1,n.state={loaded:!1},n.initialize(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.src!==this.props.src&&this.setState({loaded:!1},function(){return t.initialize()})},a.initialize=function(){var e,t=this;(e=this.props.src,new Promise(function(t,n){null==e&&n(new Error("No image src passed"));var r=new Image;r.src=e,r.onload=function(){return t(r)},r.onerror=function(e){return n(e)}})).then(function(){t.unmounting||t.setState({loaded:!0})})},a.componentWillUnmount=function(){this.unmounting=!0},a.render=function(){var e,t=this.props,n=t.className,r=t.src,a=t.alt,l=t.width,d=t.height,c=t.onLoad,f=t.style,p=this.state.loaded;return s("div",{className:n,style:u({},f,{width:l,height:d})},void 0,s("img",{className:(0,o.default)(i.default.image,(e={},e[i.default.loaded]=p,e)),width:l,height:d,src:r,alt:a,onLoad:c}))},r}(a.PureComponent);d.displayName="LazySplash",d.defaultProps={width:0,height:0,alt:""};var c=d;t.default=c},8039:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(304)),i=n(0),l=s(n(5805));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).anim=new o.default.Value(0),t.animate=function(e){o.default.spring(t.anim,{toValue:e,friction:10,tension:100}).start()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.UNSAFE_componentWillReceiveProps=function(e){e.show!==this.props.show&&this.animate(e.show?1:0)},s.getAnimatedStyle=function(){var e=this.anim;return{opacity:e,transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}},s.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default.a,{href:i.Routes.INDEX,target:"_blank",rel:"noopener",className:l.default.logo,style:this.getAnimatedStyle()})},a}(a.PureComponent);t.default=u,u.displayName="AuthLogo"},8040:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(113),o=n(313),i=p(n(8041)),l=p(n(8043)),s=p(n(8046)),u=n(6325),d=n(0),c=p(n(5806)),f=p(n(5268));function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,o.cssValueToNumber)(f.default.responsiveWidthMobile),h=1/120,v=4e3,y=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this).width=0,n.height=0,n.children=[],n.ratio=0,n._lastTick=0,n._reqAnimId=null,n.setCanvas=function(e){if(null!=e){n.canvas=e,n.canvasContext=n.canvas.getContext("2d");var t=window.devicePixelRatio||1,r=n.canvasContext.webkitBackingStorePixelRatio||n.canvasContext.mozBackingStorePixelRatio||n.canvasContext.msBackingStorePixelRatio||n.canvasContext.oBackingStorePixelRatio||n.canvasContext.backingStorePixelRatio||1;n.ratio=t/r}},n.resizeCanvas=function(){n.width=window.innerWidth,n.height=window.innerHeight;var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.canvas,r=e.canvasContext,a=e.width,o=e.height,i=e.ratio;null!=t&&null!=r&&(t.width=a*i,t.height=o*i,t.style.width=a+"px",t.style.height=o+"px",r.scale(i,i)),a<=m?n.pause():n.play(),n.wave.resizeWave(),n.renderAnimation()},n.handleVisibilityChange=function(){document.hidden?n.delayedPause():n.play()},n.play=function(){clearTimeout(n._pauseTimeout),null==n._reqAnimId&&n.run()},n.pause=function(){clearTimeout(n._pauseTimeout),window.cancelAnimationFrame(n._reqAnimId),n._reqAnimId=null,n.advanceTransitionalState()},n.delayedPause=function(){clearTimeout(n._pauseTimeout),n._pauseTimeout=setTimeout(n.pause,v)},n.updateWaveState=function(e){(0,n.props.updateWaveState)(e)},n.handleWaveEmphasize=function(){n.wave.emphasize()},n.run=function(){if(0===n._lastTick)return n._lastTick=Date.now(),void(n._reqAnimId=requestAnimationFrame(n.run));for(var e=Date.now(),t=Math.min((e-n._lastTick)/1e3,8*h);t>0;){var r=t<h?t:h;n.updateAnimation(r),t-=r}n.renderAnimation(),n._lastTick=e,n._reqAnimId=requestAnimationFrame(n.run)},n.wave=new s.default(n.updateWaveState),n.children=[new i.default,new l.default,n.wave],n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=o.prototype;return f.componentDidMount=function(){this.initialize()},f.componentDidUpdate=function(e){var t=this.props.waveState;t===u.WaveStates.FILLING&&t!==e.waveState&&this.waveFill()},f.componentWillUnmount=function(){this.terminate()},f.initialize=function(){this.children.forEach(function(e){return e.initialize()}),this.bindEvents(),this.resizeCanvas(),document.hidden&&this.delayedPause()},f.terminate=function(){this.pause(),this.unbindEvents(),this.children.forEach(function(e){return e.terminate()})},f.bindEvents=function(){window.addEventListener("resize",this.resizeCanvas,!1),window.addEventListener("blur",this.delayedPause,!1),window.addEventListener("focus",this.play,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),a.ComponentDispatch.subscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},f.unbindEvents=function(){window.removeEventListener("resize",this.resizeCanvas,!1),window.removeEventListener("blur",this.delayedPause,!1),window.removeEventListener("focus",this.play,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),a.ComponentDispatch.unsubscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},f.advanceTransitionalState=function(){var e=this.props.waveState;e!==u.WaveStates.INITIAL&&e!==u.WaveStates.FILLING||this.updateWaveState(e+1)},f.waveFill=function(){null==this._reqAnimId?this.updateWaveState(u.WaveStates.FILLED):this.children.forEach(function(e){return e.fill()})},f.updateAnimation=function(e){this.children.forEach(function(t){return t.update(e)})},f.renderAnimation=function(){var e=this.canvasContext;null!=e&&(e.fillStyle=d.Colors.PRIMARY_DARK_630,e.fillRect(0,0,this.width,this.height),this.children.forEach(function(t){return t.render(e)}))},f.render=function(){return r.createElement("canvas",{className:c.default.canvas,ref:this.setCanvas})},o}(r.Component);y.displayName="WaveAnimation";var _=y;t.default=_},8041:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(6658),o=(r=n(8042))&&r.__esModule?r:{default:r};var i=20,l=function(){function e(){var e=this;this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.mx=0,this.my=0,this.x=0,this.y=0,this.velX=0,this.velY=0,this.targetX=2*i,this.targetY=2*i,this.spring={friction:60,tension:100},this.handleMouseMove=function(t){var n=t.clientX,r=t.clientY;e.targetX=n/window.innerWidth*i+i,e.targetY=r/window.innerWidth*i+i}}var t=e.prototype;return t.initialize=function(){var e=this;this.img=new Image,this.img.onload=function(){e.loaded=!0},this.img.src=o.default,this.bind()},t.bind=function(){window.addEventListener("mousemove",this.handleMouseMove,!1)},t.unbind=function(){window.removeEventListener("mousemove",this.handleMouseMove,!1)},t.terminate=function(){this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.unbind()},t.update=function(e){this.loaded&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.velX+=(0,a.applySpringForce)(this.targetX,this.x,this.velX,this.spring)*e,this.velY+=(0,a.applySpringForce)(this.targetY,this.y,this.velY,this.spring)*e,this.x+=this.velX*e,this.y+=this.velY*e)},t.render=function(e){var t=this.img;this.loaded&&null!=t&&(e.save(),e.globalCompositeOperation="source-atop",e.globalAlpha=this.alpha,e.drawImage(t,this.x+i,this.y+i),e.restore())},t.fill=function(){this.isFilled=!0},e}();l.displayName="Blobs";var s=l;t.default=s},8042:function(e,t,n){e.exports=n.p+"c8f0b54f79a9fd1ef60ad74c73a1ee1a.png"},8043:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(8044)),a=o(n(8045));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){this.particles=[],this.wind=new a.default,this.alpha=0,this.isFilled=!1,this.loadInTimer=null}var t=e.prototype;return t.initialize=function(){var e=this;this.particles=[],this.wind.initialize(),this.loadInTimer=setTimeout(function(){for(var t=0;t<75;t++)e.particles.push(new r.default)},250)},t.terminate=function(){this.particles=[],this.wind.terminate(),null!=this.loadInTimer&&clearTimeout(this.loadInTimer)},t.update=function(e){var t=this;0!==this.particles.length&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.wind.update(),this.particles.forEach(function(n){return n.update(10*t.wind.forceX*e,10*Math.min(t.wind.forceY,-.001)*e-.1)}))},t.render=function(e){var t=this;0!==this.particles.length&&(e.save(),e.globalCompositeOperation="source-atop",this.particles.forEach(function(n){return n.render(e,t.alpha)}),e.restore())},t.fill=function(){this.isFilled=!0},e}();i.displayName="Particles";var l=i;t.default=l},8044:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6658),a=n(6325),o=2,i=3,l=1,s=4,u=["#7d8187","#18191c","#8fa2df","#4f545c"],d=function(){function e(){this.size=(0,r.randomNumber)(o,i),this.depth=(0,r.randomNumber)(l,s),this.positionMultiplier=this.depth/s,this.color=u[s-this.depth],this.offscreenX=a.MAX_RADIUS+this.size,this.offscreenY=a.MAX_RADIUS+this.size,this.x=(0,r.randomNumber)(-this.size,this.offscreenX),this.y=(0,r.randomNumber)(-this.size,this.offscreenY)}var t=e.prototype;return t.checkBounds=function(){this.x>this.offscreenX?this.x=-this.size:this.y>this.offscreenY?this.y=-this.size:this.x<-this.size?this.x=this.offscreenX:this.y<-this.size&&(this.y=this.offscreenY)},t.update=function(e,t){this.checkBounds(),this.y+=t*this.positionMultiplier,this.x+=e*this.positionMultiplier},t.render=function(e,t){e.beginPath(),e.globalAlpha=t*this.depth/4,e.arc(this.x,this.y,this.size,0,a.TWO_PI,!0),e.fillStyle=this.color,e.fill(),e.globalAlpha=1},e}();d.displayName="Particle";var c=d;t.default=c},8045:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=30;function a(e,t){return Math.max(Math.min((e-t)/r,1),-1)}var o=function(){function e(){var e=this;this.resistance=.98,this.px=0,this.py=0,this.x=0,this.y=0,this.forceX=0,this.forceY=0,this.handleMouseMove=function(t){var n=t.clientX,r=t.clientY;e.x=n,e.y=r}}var t=e.prototype;return t.initialize=function(){window.addEventListener("mousemove",this.handleMouseMove)},t.terminate=function(){window.removeEventListener("mousemove",this.handleMouseMove)},t.update=function(){this.x!==this.px&&this.y!==this.py&&(this.forceX+=a(this.x,this.px),this.forceY+=a(this.y,this.py),this.px=this.x,this.py=this.y),0!==this.forceX&&(this.forceX=this.forceX*this.resistance),0!==this.forceY&&(this.forceY=this.forceY*this.resistance)},t.render=function(){},e}();o.displayName="Wind";var i=o;t.default=i},8046:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(5996)),a=n(313),o=u(n(8047)),i=n(6658),l=n(6325),s=u(n(5268));function u(e){return e&&e.__esModule?e:{default:e}}var d=15,c=d/2,f=(0,a.cssValueToNumber)(s.default.responsiveWidthMobile);function p(e,t,n,r){return t*(n/r)+e}function m(){return Math.min(Math.max(Math.min(.8*window.innerWidth,.8*window.innerHeight),l.MIN_RADIUS),l.MAX_RADIUS)}var h=30,v=function(){function e(e){var t,n=this;this.points=[],this.hasEntered=!1,this.isFilling=!1,this._resizeWave=function(){var e=m();n.points.forEach(function(t,n){var r=e*Math.cos(l.TWO_PI*p(0,.25,n,d))-40,a=e*Math.sin(l.TWO_PI*p(0,.25,n,d))-40;0!==n?a+=(0,i.randomNumber)(0,h)-h/2:n!==d&&(r+=(0,i.randomNumber)(0,h)-h/2),t.targetX=r,t.targetY=a,t.angle=Math.atan2(a,r)})},this.resizeWave=(0,r.default)(this._resizeWave,200),this.updateWaveState=e,this.hasEntered=!1;for(var a=0;a<=d;a++)this.points.push(new o.default((t=a,Math.floor(c-Math.floor(Math.abs(t-c))))))}var t=e.prototype;return t.initialize=function(){this._resizeWave()},t.emphasize=function(){this.points.forEach(function(e){return e.speedUp=1})},t.terminate=function(){this.points=[]},t.update=function(e){0!==this.points.length&&(this.points.forEach(function(t){return t.update(Math.min(e,1/60))}),this.hasEntered||this.points[0].x>f&&(this.hasEntered=!0,this.updateWaveState(l.WaveStates.ENTERED)),this.isFilling&&this.points[0].x>this.points[0].targetX&&(this.isFilling=!1,this.updateWaveState(l.WaveStates.FILLED)))},t.render=function(e){if(0!==this.points.length){var t=this.points,n=t[0],r=t.slice(1);e.save(),e.beginPath(),e.moveTo(n.x,n.y),r.forEach(function(t,n){if(null==r[n+1])e.quadraticCurveTo(t.x,t.y,t.x,t.y);else{var a=(t.x+r[n+1].x)/2,o=(t.y+r[n+1].y)/2;e.quadraticCurveTo(t.x,t.y,a,o)}}),e.lineTo(0,0),e.closePath(),e.fillStyle="#000",e.globalCompositeOperation="destination-in",e.fill(),e.restore()}},t.fill=function(){var e=this,t=Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight)+100,n=m()-140,r=function(e,t,n,r){e.targetX=t*Math.cos(l.TWO_PI*p(0,.25,n,d))-40,e.targetY=t*Math.sin(l.TWO_PI*p(0,.25,n,d))-40,r&&(e.targetX+=(0,i.randomNumber)(0,h)-h/2,e.targetY+=(0,i.randomNumber)(0,h)-h/2,e.speedUp=3,e.spring.tension=l.POINT_TENSION_DEFAULT*Math.random()*.5+l.POINT_TENSION_DEFAULT)};this.points.forEach(function(e,t){return r(e,n,t,!0)}),setTimeout(function(){e.points.forEach(function(e,n){r(e,t,n,!1);var a=1-e.index/(d/2);e.spring.friction+=e.spring.friction+e.spring.friction*a,e.spring.tension=.7*l.POINT_TENSION_DEFAULT+80*Math.random(),e.waveRange=2*e.waveRange}),e.isFilling=!0,e.updateWaveState(l.WaveStates.FILLING)},250)},e}();v.displayName="Wave";var y=v;t.default=y},8047:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6658),a=n(6325),o=60,i=2.15*Math.cos(Math.PI),l=function(){function e(e){this.x=-40,this.y=-40,this.targetX=0,this.targetY=0,this.oscillate=!0,this.velX=0,this.velY=0,this.angle=0,this.speedUp=1.5,this.waveRange=o,this.spring={friction:15,tension:a.POINT_TENSION_DEFAULT},this.index=e,this.spring.tension=a.POINT_TENSION_DEFAULT*Math.max(.1,e/7)+a.POINT_TENSION_DEFAULT,this.count=i*e}var t=e.prototype;return t.updateStatic=function(){this.targetX=this.targetX+30*Math.cos(this.angle)*Math.sin(this.count),this.targetY=this.targetY+30*Math.sin(this.angle)*Math.sin(this.count),this.x=this.targetX,this.y=this.targetY},t.update=function(e){var t,n;if(this.speedUp>0?(this.speedUp=Math.max(0,this.speedUp-e),this.count+=e*(10*Math.min(this.speedUp,1)+.4)):this.count+=.4*e,t=(0,r.applySpringForce)(this.targetX,this.x,this.velX,this.spring),n=(0,r.applySpringForce)(this.targetY,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e,this.oscillate){var a=this.targetX+this.waveRange*Math.cos(this.angle)*Math.sin(this.count),o=this.targetY+this.waveRange*Math.sin(this.angle)*Math.sin(this.count);t=(0,r.applySpringForce)(a,this.x,this.velX,this.spring),n=(0,r.applySpringForce)(o,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e}this.x+=this.velX*e,this.y+=this.velY*e},t.render=function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,4,4)},e}();l.displayName="Point";var s=l;t.default=s},8048:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(32)),i=n(435),l=h(n(3)),s=h(n(817)),u=n(5877),d=h(n(11)),c=v(n(5873)),f=n(0),p=h(n(10)),m=h(n(5235));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var _=y(c.AuthSpinner,{hideQuote:!0}),E=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.componentDidMount=function(){var e=(0,i.parse)(this.props.location.search);s.default.authorizeIPAddress(e.token),(0,u.trackAppUIViewed)("authorize_ip")},l.renderLoginButton=function(){if("Android"===o.default.os.family||"iOS"===o.default.os.family)return null;var e=this.props.transitionTo;return y(c.Button,{onClick:function(){return e(f.Routes.LOGIN)}},void 0,p.default.Messages.LOGIN)},l.renderFailed=function(){return y(c.default,{},void 0,y("img",{alt:"",src:n(8049),className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.AUTHORIZATION_EXPIRED),y(c.Subtitle,{className:m.default.marginBottom40},void 0,p.default.Messages.AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())},l.renderSucceeded=function(){return y(c.default,{},void 0,y("img",{alt:"",src:n(8050),className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.IP_AUTHORIZATION_SUCCEEDED),y(c.Subtitle,{className:m.default.marginBottom40},void 0,p.default.Messages.AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())},l.renderDefault=function(){return y(c.default,{},void 0,_,y(c.Title,{},void 0,p.default.Messages.AUTHORIZING))},l.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()},a}(a.PureComponent);E.displayName="AuthorizeIPAddress",E.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var g=l.default.connectStores([d.default],function(){return{verifyFailed:d.default.didVerifyFail(),verifySucceeded:d.default.didVerifySucceed()}})(E);t.default=g}).call(this,n(7))},8049:function(e,t,n){e.exports=n.p+"5ed6422f4a60342227db5d2678ecf911.svg"},8050:function(e,t,n){e.exports=n.p+"004dd8db75dd498bf03f6b0e7fcb51fd.svg"},8051:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=n(435),i=h(n(3)),l=h(n(9)),s=n(5877),u=h(n(131)),d=h(n(5904)),c=v(n(5873)),f=n(0),p=h(n(10)),m=h(n(5235));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}i.default.initialize();var _=y(c.default,{},void 0,y(c.AuthSpinner,{})),E=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={busy:!0,success:!1,user:null},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.componentDidMount=function(){var e=this,t=(0,o.parse)(this.props.location.search);l.default.post({url:f.Endpoints.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t.token,pixel_uuid:t.hash}}).then(function(t){var n=t.body.user,r=new u.default(n);e.setState({success:!0,busy:!1,user:r})},function(){return e.setState({success:!1,busy:!1})}),(0,s.trackAppUIViewed)("disable_email_notifications")},i.renderBusy=function(){return _},i.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,r=this.state.user;return y(c.default,{},void 0,y(c.Avatar,{src:r?r.getAvatarURL():null,size:c.Avatar.Sizes.XXLARGE,className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),y(c.Subtitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),y(c.Button,{className:m.default.marginTop40,onClick:function(){return n(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},i.renderError=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return y(c.default,{},void 0,y(c.Image,{src:n(8052),className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),y(c.Subtitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),y(c.Button,{className:m.default.marginTop40,onClick:function(){return r(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},i.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()},a}(a.PureComponent);E.displayName="DisableEmailNotifications",E.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var g=i.default.connectStores([d.default],function(){return{defaultRoute:d.default.defaultRoute}})(E);t.default=g}).call(this,n(7))},8052:function(e,t,n){e.exports=n.p+"4dfc23421736b1eaf2a19bcb16633bad.svg"},8053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=O(n(2)),o=P(n(17)),i=P(n(3)),l=P(n(817)),s=O(n(836)),u=O(n(327)),d=O(n(469)),c=n(5877),f=P(n(11)),p=P(n(5904)),m=P(n(5974)),h=P(n(88)),v=P(n(189)),y=O(n(5873)),_=O(n(320)),E=P(n(308)),g=P(n(6323)),S=P(n(6068)),T=P(n(6543)),I=n(0),N=P(n(10)),A=P(n(5235));function P(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,l,"next",e)}function l(e){R(o,r,a,i,l,"throw",e)}i(void 0)})}}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.default.initialize();var L=Object.freeze({REGISTER:"register",LOGIN:"login"}),D=C(y.AuthSpinner,{}),w=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1},t.refreshUser=function(){t.setState({fetchingUser:!0}),d.fetchCurrentUser().then(function(e){return t.setState({currentUser:e,fetchingUser:!1})}).catch(function(){return t.setState({fetchingUser:!1})})},t.handleContinue=function(){(0,t.props.transitionTo)(I.Routes.APPLICATION_LIBRARY)},t.handleLogout=function(){var e=t.props.match.params.giftCode;l.default.logout(I.Routes.GIFT_CODE_LOGIN(e))},t.handleResendVerification=function(){l.default.verifyResend(),t.setState({sentVerification:!0})},t.handleAccept=b(regeneratorRuntime.mark(function e(){var n,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.transitionTo,null!=(a=n.giftCode)){e.next=3;break}throw new Error("Trying to accept gift before resolve");case 3:return o=t.getCode(),e.prev=4,t.setState({error:null}),e.next=8,s.redeemGiftCode(o);case 8:a.premiumSubscriptionType===I.PremiumTypes.TIER_2?r(I.Routes.APPLICATION_STORE):a.premiumSubscriptionType===I.PremiumTypes.TIER_1?r(I.Routes.ACTIVITY):r(I.Routes.APPLICATION_LIBRARY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.setState({error:e.t0});case 14:case"end":return e.stop()}},e,null,[[4,11]])})),t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,f,p,m=a.prototype;return m.componentDidMount=function(){this.props.authenticated&&this.handleAuthenticated(),(0,c.trackAppUIViewed)("gift_code")},m.componentDidUpdate=function(e){var t=this.props.authenticated,n=this.getCode();n!==this.getCode(e)&&s.resolveGiftCode(n,!0,!0),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})},m.handleAuthenticated=function(){var e=this.state.currentUser;u.fetchLibrary(),null==e&&this.refreshUser()},m.getCode=function(e){return void 0===e&&(e=this.props),e.match.params.giftCode},m.getMode=function(e){return void 0===e&&(e=this.props),e.login?L.LOGIN:L.REGISTER},m.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.currentUser,r=this.state.error,a=null!=r?r.code:null;return a===I.AbortCodes.INVALID_GIFT_SELF_REDEMPTION?N.default.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||a===I.AbortCodes.INVALID_GIFT_REDEMPTION_OWNED?N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:I.Routes.APPLICATION_LIBRARY}):e.isClaimed||a===I.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED?N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:null!=n&&_.doesUserSubscriptionMismatch(e,n)?N.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:n.premiumType===I.PremiumTypes.TIER_2?N.default.Messages.PREMIUM_TIER_2:N.default.Messages.PREMIUM_TIER_1}):null},m.renderSpinner=function(e){return C(y.default,{},void 0,C(y.Title,{},void 0,e),D)},m.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return C(y.default,{},void 0,C(y.Image,{src:n(7150),className:A.default.marginBottom8}),C(y.Title,{className:(0,o.default)(A.default.marginTop8,A.default.marginBottom8)},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_TITLE),C(y.Subtitle,{},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_BODY),C(y.Button,{className:(0,o.default)(A.default.marginTop40,A.default.marginBottom8),onClick:function(){return r(t)}},void 0,N.default.Messages.CONTINUE_TO_WEBAPP),C(y.Button,{onClick:function(){return window.open(E.default.getArticleURL(I.HelpdeskArticles.GIFTING),"_blank")},look:y.Button.Looks.LINK},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_TIP))},m.renderAppOpened=function(){var e=this;return C(y.default,{},void 0,C(y.Title,{className:A.default.marginBottom8},void 0,N.default.Messages.APP_OPENED_TITLE),C(y.Subtitle,{},void 0,N.default.Messages.APP_OPENED_BODY),C(y.Button,{className:A.default.marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})}},void 0,N.default.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER))},m.renderVerification=function(e){var t=this.state.sentVerification;return C(y.default,{},void 0,C(y.Image,{src:n(7151),className:A.default.marginBottom8}),C(y.Title,{},void 0,N.default.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})),C(y.Subtitle,{className:A.default.marginTop20},void 0,N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED),C(y.Button,{disabled:t,className:A.default.marginTop40,onClick:this.handleResendVerification},void 0,t?N.default.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:N.default.Messages.RESEND_VERIFICATION_EMAIL),C(y.Button,{look:y.Button.Looks.LINK,onClick:this.refreshUser,className:A.default.marginTop8},void 0,N.default.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN))},m.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),r=null!=n;return C(y.default,{},void 0,C(g.default,{giftCode:e}),C(y.Button,{disabled:r,className:A.default.marginTop40,onClick:this.handleAccept},void 0,N.default.Messages.GIFT_CODE_AUTH_ACCEPT),null!=n?C(y.Subtitle,{className:A.default.marginTop20},void 0,n):C(y.SubText,{className:A.default.marginTop20},void 0,N.default.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})))},m.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,r=e.authenticated,a=e.giftCode,o=e.isResolved,i=e.isAccepting,l=e.transitionTo,s=e.location,u=this.state,d=u.fetchingUser,c=u.continueOnWeb;if(t===I.NativeAppStates.OPEN&&!c)return this.renderAppOpened();if(t===I.NativeAppStates.OPENING)return this.renderSpinner(N.default.Messages.APP_OPENING);if(i)return this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==a)return o?this.renderExpiredInvite():this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_RESOLVING);if(o){if(r){var f=this.state.currentUser;return d||null==f?this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=f?this.renderVerification(f):this.renderAuthenticated(a,f)}return this.getMode()===L.LOGIN?C(S.default,{giftCodeSKU:n,giftCode:a,transitionTo:l,location:s}):C(T.default,{giftCodeSKU:n,giftCode:a,transitionTo:l,location:s})}return null},i=a,(f=[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}])&&M(i.prototype,f),p&&M(i,p),a}(a.PureComponent);w.displayName="GiftCode";var B=i.default.connectStores([m.default,h.default,f.default,v.default,p.default],function(e){var t=e.match.params.giftCode,n=m.default.get(t),r=null!=n?v.default.get(n.skuId):null;return{giftCode:n,sku:r,libraryApplication:null!=r&&null!=n?_.firstLibraryApplicationForGiftCode(n,r,h.default):null,authenticated:f.default.isAuthenticated(),defaultRoute:p.default.defaultRoute,isResolved:m.default.getIsResolved(t),isAccepting:m.default.getIsAccepting(t),libraryApplicationsFetched:h.default.fetched,nativeAppState:m.default.getNativeAppState(t)}})(w);t.default=B},8054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=I(n(17)),i=I(n(3)),l=I(n(24)),s=I(n(311)),u=n(5877),d=I(n(11)),c=I(n(5904)),f=I(n(832)),p=N(n(5873)),m=I(n(18)),h=N(n(8055)),v=I(n(308)),y=I(n(5985)),_=I(n(6068)),E=I(n(6543)),g=n(0),S=I(n(10)),T=I(n(5235));function I(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.default.initialize();var O="Accept Invite Page",C="register",R="login",b=A(p.AuthSpinner,{}),M=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getAcceptInviteContext=function(e){return s.default.getInviteContext(e,t.props.invite)},t.handleContinue=function(){var e=t.props,n=e.invite,r=e.transitionTo;null!=n.channel&&s.default.transitionToInvite(n,r)},t.handleAccept=function(){var e=t.props.invite,n=t.getCode();s.default.acceptInvite(n,t.getAcceptInviteContext(O),function(){null!=e.channel&&s.default.openApp(n,e.channel.id)})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.componentDidMount=function(){m.default.track(g.AnalyticEvents.INVITE_VIEWED,{},!0),(0,u.trackAppUIViewed)("invite")},i.componentDidUpdate=function(e){var t=this.props,n=t.invite,r=t.authenticated,a=t.transitionTo,o=t.guestLurker,i=this.getCode();if(i!==this.getCode(e))s.default.resolveInvite(i,O);else if(n.state===g.InviteStates.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===R&&r!==e.authenticated&&r){var u=d.default.getFingerprint();if(null!=u){var c=h.extractId(u);this.track(g.AnalyticEvents.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:c})}s.default.acceptInvite(i,this.getAcceptInviteContext(O),this.handleContinue)}if(n.nativeAppState!==e.invite.nativeAppState&&n.nativeAppState===g.NativeAppStates.OPEN&&this.track(g.AnalyticEvents.INVITE_APP_INVOKED,!1),this.getMode()===C&&r&&!e.authenticated){var f=n.guild,p=n.channel;if(null!=p){var m=null!=f?f.id:g.ME;l.default.set("homepageNUFComplete",!0),s.default.transitionToInvite(n,function(){return a(g.Routes.WELCOME(m,p.id,p.type))})}}null!=n.guest_token&&o&&n.state===g.InviteStates.RESOLVED&&n.nativeAppState===g.NativeAppStates.OPEN_FAIL&&setTimeout(this.handleContinue,300)},i.getCode=function(e){return void 0===e&&(e=this.props),e.match.params.inviteCode},i.getMode=function(e){return void 0===e&&(e=this.props),e.login?R:C},i.track=function(e,t,n){void 0===n&&(n={});var r=this.props.invite,a={invite_code:this.getCode()};t&&(a.guild_id=r.guild?r.guild.id:null,a.channel_id=r.channel?r.channel.id:null,a.inviter_id=r.inviter?r.inviter.id:null),m.default.track(e,P({},a,n))},i.renderSpinner=function(e){return A(p.default,{},void 0,A(p.Title,{},void 0,e),b)},i.renderInvalidInvite=function(e){void 0===e&&(e=!1);var t=this.props,r=t.defaultRoute,a=t.transitionTo;return A(p.default,{},void 0,A(p.Image,{src:n(7150),className:T.default.marginBottom8}),A(p.Title,{className:(0,o.default)(T.default.marginTop8,T.default.marginBottom8)},void 0,S.default.Messages.AUTH_INVALID_INVITE_TITLE),A(p.Subtitle,{},void 0,e?S.default.Messages.AUTH_BANNED_INVITE_BODY:S.default.Messages.AUTH_INVALID_INVITE_BODY),A(p.Button,{className:(0,o.default)(T.default.marginTop40,T.default.marginBottom8),onClick:function(){return a(r)}},void 0,S.default.Messages.CONTINUE_TO_WEBAPP),A(p.Button,{onClick:function(){return window.open(v.default.getArticleURL(g.HelpdeskArticles.INVALID_INVITES),"_blank")},look:p.Button.Looks.LINK},void 0,S.default.Messages.AUTH_INVALID_INVITE_TIP))},i.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)},i.renderBannedInvite=function(){return this.renderInvalidInvite(!0)},i.renderAppOpened=function(){return A(p.default,{},void 0,A(p.Title,{className:T.default.marginBottom8},void 0,S.default.Messages.APP_OPENED_TITLE),A(p.Subtitle,{},void 0,S.default.Messages.APP_OPENED_BODY),A(p.Button,{className:T.default.marginTop40,onClick:this.handleContinue},void 0,S.default.Messages.CONTINUE_TO_WEBAPP))},i.renderAuthenticated=function(){var e=this.props.invite;return A(p.default,{},void 0,A(y.default,{invite:e}),A(p.Button,{className:T.default.marginTop40,onClick:this.handleAccept},void 0,S.default.Messages.INSTANT_INVITE_ACCEPT))},i.renderContinue=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo;return A(p.default,{},void 0,A(p.Title,{},void 0,S.default.Messages.APP_NOT_OPENED),A(p.Button,{className:T.default.marginTop40,onClick:function(){return n(t)}},void 0,S.default.Messages.CONTINUE_TO_WEBAPP))},i.render=function(){var e=this,t=this.props,n=t.invite,r=t.authenticated,a=t.guestLurker,o=t.transitionTo,i=t.location;if(n.nativeAppState===g.NativeAppStates.OPEN)return this.renderAppOpened();switch(n.state){case g.InviteStates.APP_OPENED:return this.renderAppOpened();case g.InviteStates.APP_NOT_OPENED:return this.renderContinue();case g.InviteStates.RESOLVING:case g.InviteStates.APP_OPENING:return this.renderSpinner(S.default.Messages.APP_OPENING);case g.InviteStates.RESOLVED:return r?this.renderAuthenticated():null!=n.guest_token&&a?this.renderSpinner(S.default.Messages.INSTANT_INVITE_RESOLVED_TITLE):this.getMode()===R?A(_.default,{invite:n,transitionTo:o,location:i}):A(E.default,{invite:n,onLoginStart:function(){return e.track(g.AnalyticEvents.INVITE_LOGIN,!0)},location:i,transitionTo:o});case g.InviteStates.ACCEPTING:return this.renderSpinner(S.default.Messages.INSTANT_INVITE_ACCEPTING);case g.InviteStates.EXPIRED:return this.renderExpiredInvite();case g.InviteStates.BANNED:return this.renderBannedInvite();case g.InviteStates.ACCEPTED:default:return null}},a}(a.PureComponent);M.displayName="Invite";var L=i.default.connectStores([f.default,c.default,d.default],function(e){return{invite:f.default.getInvite(e.match.params.inviteCode)||{},authenticated:d.default.isAuthenticated(),guestLurker:d.default.isGuest(),defaultRoute:c.default.defaultRoute}})(M);t.default=L},8055:function(e,t,n){"use strict";t.__esModule=!0,t.extractId=void 0;var r=n(348);t.extractId=r.extractId},8056:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=M(n(2)),l=b(n(17)),s=b(n(3)),u=b(n(311)),d=n(5877),c=b(n(11)),f=b(n(75)),p=b(n(832)),m=b(n(8057)),h=b(n(431)),v=b(n(158)),y=b(n(128)),_=M(n(5873)),E=b(n(18)),g=b(n(81)),S=n(819),T=b(n(6002)),I=b(n(5985)),N=n(0),A=b(n(10)),P=b(n(946)),O=b(n(312)),C=b(n(5235)),R=b(n(5808));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}s.default.initialize();var w=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleOpenApp=function(e){e.preventDefault(),t.track(N.AnalyticEvents.INVITE_APP_OPENED,!0),t.openAppWithFingerprint()},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.componentDidMount=function(){E.default.track(N.AnalyticEvents.INVITE_VIEWED,{},!0),(0,d.trackAppUIViewed)("invite_mobile")},o.track=function(e,t,n){void 0===n&&(n={});var r=this.props,a=r.invite,o={invite_code:r.code};t&&(o.guild_id=a.guild?a.guild.id:null,o.channel_id=a.channel?a.channel.id:null,o.inviter_id=a.inviter?a.inviter.id:null),E.default.track(e,D({},o,n))},o.isValidInvite=function(e){return e.state!==N.InviteStates.EXPIRED&&e.state!==N.InviteStates.BANNED},o.openAppWithFingerprint=function(){var e=this.props,t=e.code,n=e.invite,r=e.fingerprint;u.default.openApp(this.isValidInvite(n)?t:void 0,void 0,r)},o.renderInvalid=function(){return L(_.default,{},void 0,L(_.Image,{src:n(8058)}),L(_.Title,{className:(0,l.default)(C.default.marginTop20,C.default.marginBottom8,O.default.flexCenter)},void 0,A.default.Messages.DISCORD_DESC_SHORT),L(_.Subtitle,{className:C.default.marginBottom40},void 0,A.default.Messages.DISCORD_DESC_LONG),L(h.default,{className:R.default.card,type:h.default.Types.CUSTOM},void 0,L("img",{alt:"",className:R.default.cardAccentLeft,src:n(8059)}),L("img",{alt:"",className:R.default.cardAccentRight,src:n(8060)}),L(v.default,{className:R.default.cardContents,direction:v.default.Direction.VERTICAL,align:v.default.Align.STRETCH,grow:0},void 0,L(y.default,{className:R.default.buttonTitle,color:P.default.primary300,size:y.default.Sizes.MEDIUM,weight:y.default.Weights.MEDIUM},void 0,A.default.Messages.INVITE_INVALID_ERROR),L(_.Button,{className:R.default.button,onClick:this.handleOpenApp},void 0,A.default.Messages.INVITE_INVALID_CTA))))},o.renderDefault=function(){var e=this.props.invite;return L(_.default,{},void 0,L(I.default,{invite:e}),L(_.Button,{onClick:this.handleOpenApp,className:C.default.marginTop20},void 0,A.default.Messages.INSTANT_INVITE_ACCEPT))},o.renderEmptyView=function(){return L("section",{className:(0,l.default)(R.default.splashInviteContainer,"theme-dark")})},o.renderMobileSplashInvite=function(){var e=this.props.invite,t=e.guild;if(e.state===N.InviteStates.RESOLVING)return this.renderEmptyView();var n="../../images/auth/background-splash-day.jpg";return null!=t&&(n=g.default.getGuildSplashURL({id:t.id,splash:t.splash})||n),L("section",{className:(0,l.default)(R.default.splashInviteContainer,"theme-dark")},void 0,null!=n&&L("div",{className:R.default.splash,style:{backgroundImage:"url("+n+")"}}),L("div",{className:R.default.splashContentWrapper},void 0,L(I.default,{invite:e})),L("div",{className:R.default.splashButtonWrapper},void 0,L(_.Button,{onClick:this.handleOpenApp,className:C.default.marginTop20},void 0,A.default.Messages.INSTANT_INVITE_ACCEPT),L("div",{className:R.default.splashLogo})))},o.renderMobileInvite=function(){var e=this.props,t=e.invite,n=e.experimentShouldUpdateCTA,r=e.experimentHasDiscordDescription,a=e.experimentHasGuildDescription;return L("section",{className:(0,l.default)(R.default.inviteContainer,"theme-dark")},void 0,L("div",{className:R.default.logo}),r?L(y.default,{className:R.default.discordDescription,size:y.default.Sizes.SMALL},void 0,A.default.Messages.EXPERIMENT_INSTANT_INVITE_DISCORD_DESCRIPTION):null,L("div",{className:R.default.divider}),L("div",{className:R.default.contentWrapper},void 0,L(I.default,{invite:t,experimentHasGuildDescription:a})),L("div",{className:R.default.splashButtonWrapper},void 0,L(_.Button,{onClick:this.handleOpenApp},void 0,n?A.default.Messages.EXPERIMENT_INSTANT_INVITE_JOIN:A.default.Messages.INSTANT_INVITE_ACCEPT)))},o.render=function(){var e=this.props,t=e.invite,n=e.experimentShouldUpdateCTA,r=e.experimentHasDiscordDescription,a=e.experimentHasGuildDescription,o=e.experimentHasSplashBackground;if(!e.hasLoadedExperiments)return this.renderEmptyView();var i=this.renderDefault();return S.isMobile&&(n||r||a?i=this.renderMobileInvite():o&&(i=this.renderMobileSplashInvite())),this.isValidInvite(t)?i:this.renderInvalid()},a}(i.PureComponent);w.displayName="InviteMobile",w.defaultProps={experimentShouldUpdateCTA:!1,experimentHasDiscordDescription:!1,experimentHasGuildDescription:!1,experimentHasSplashBackground:!1};var B=s.default.connectStores([p.default,c.default,f.default],function(e){var t=e.match.params.inviteCode;return{code:t,invite:p.default.getInvite(t)||{},fingerprint:c.default.getFingerprint(),hasLoadedExperiments:f.default.hasLoadedExperiments}})(w),U=(0,T.default)(m.default,((a={})[N.ExperimentTypes.NONE]=function(e){return i.createElement(B,e)},a[N.ExperimentTypes.USER]=((r={})[N.ExperimentBuckets.CONTROL]=function(e){return i.createElement(B,e)},r[N.ExperimentBuckets.TREATMENT_1]=function(e){return i.createElement(B,D({},e,{experimentShouldUpdateCTA:!0}))},r[N.ExperimentBuckets.TREATMENT_2]=function(e){return i.createElement(B,D({},e,{experimentHasDiscordDescription:!0}))},r[N.ExperimentBuckets.TREATMENT_3]=function(e){return i.createElement(B,D({},e,{experimentHasGuildDescription:!0}))},r[N.ExperimentBuckets.TREATMENT_4]=function(e){return i.createElement(B,D({},e,{experimentHasSplashBackground:!0}))},r),a),function(){return S.isMobile});t.default=U},8057:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(828))&&r.__esModule?r:{default:r},o=n(0);var i=(0,a.default)(o.Experiments.MOBILE_WEB_INVITE_PAGES,"Better Mobile Web Invites","An experiment to make invites that potential new users see on web (before downloading app) more informative and hype so more people download the app.");t.default=i},8058:function(e,t,n){e.exports=n.p+"07c4931451dfa8c32fc8551b48a89536.svg"},8059:function(e,t,n){e.exports=n.p+"96191331272ece160a85126d54e49f3d.svg"},8060:function(e,t,n){e.exports=n.p+"acb452cda03a99894210f832308c055d.svg"},8061:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(435),o=d(n(3)),i=d(n(817)),l=n(471),s=d(n(11)),u=d(n(6068));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isLogoutRequested:t.props.isAuthenticated},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.handleHandoff=function(e,t){this.setState({isLogoutRequested:!1},function(){(0,l.handoffFromApp)(e,t)})},s.componentDidMount=function(){var e=this,t=this.props.location;if(null!=t){var n=(0,a.parse)(t.search),r=n.handoff_key,o=n.handoff_token;null!=r&&null!=o&&(this.state.isLogoutRequested?i.default.logout(null).then(function(){e.handleHandoff(r,o)}):this.handleHandoff(r,o))}},s.render=function(){return this.state.isLogoutRequested?null:r.createElement(u.default,this.props)},o}(r.PureComponent);c.displayName="LoginHandoff",c.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var f=o.default.connectStores([s.default],function(){return{isAuthenticated:s.default.isAuthenticated()}})(c);t.default=f}).call(this,n(7))},8062:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=y(n(17)),i=n(435),l=y(n(3)),s=y(n(817)),u=n(5877),d=y(n(11)),c=_(n(5873)),f=n(113),p=n(819),m=n(0),h=y(n(10)),v=y(n(5235));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var g=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={password:"",code:"",error:null},t.handleSubmit=function(e){var n=t.props,r=n.location,a=n.replaceWith,o=t.state,l=o.password,u=o.error;if(null!=e&&e.preventDefault(),0===l.length)return t.setState({error:h.default.Messages.PASSWORD_REQUIRED}),void f.ComponentDispatch.dispatch(m.ComponentActions.WAVE_EMPHASIZE);null!=u&&t.setState({error:null});var d=(0,i.parse)(r.search);null!=d.token&&s.default.resetPassword(d.token,l,a)},t.handleTokenSubmit=function(e){var n=t.props,r=n.location,a=n.replaceWith,o=n.mfaTicket,l=t.state,u=l.code,d=l.password,c=l.error;if(null!=e&&e.preventDefault(),0===d.length)return t.setState({error:h.default.Messages.PASSWORD_REQUIRED}),void f.ComponentDispatch.dispatch(m.ComponentActions.WAVE_EMPHASIZE);null!=c&&t.setState({error:null});var p=(0,i.parse)(r.search);null!=p.token&&s.default.resetPasswordMFA(u,o,d,p.token,a)},t.renderError=function(e){var n=t.props.errors;if(t.hasError(e)){var r=n[e];return Array.isArray(r)?r[0]:r}return null},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.componentDidMount=function(){(0,u.trackAppUIViewed)("reset_password")},l.hasError=function(e){return null!=this.props.errors[e]||null!=this.state.error},l.renderPasswordReset=function(){var e=this,t=this.state,r=t.password,a=t.error,o=this.props.loginStatus,i=a||this.renderError("password");return E(c.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,E("img",{alt:"",src:n(null==i?7152:7153),className:v.default.marginBottom20}),E(c.Title,{},void 0,h.default.Messages.RESET_PASSWORD_TITLE),E(c.Block,{className:v.default.marginTop20},void 0,E(c.Input,{label:h.default.Messages.FORM_LABEL_NEW_PASSWORD,className:v.default.marginBottom20,name:"password",value:r,onChange:function(t){return e.setState({password:t})},error:i,type:"password"}),E(c.Button,{type:"submit",submitting:o===m.LoginStates.LOGGING_IN_MFA},void 0,h.default.Messages.CHANGE_PASSWORD)))},l.renderMFA=function(){var e=this,t=this.state.error,r=this.props.loginStatus,a=t||this.renderError("code");return E(c.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,E("img",{alt:"",src:n(null==a?7152:7153),className:(0,o.default)(v.default.marginBottom20,p.isMobile?v.default.marginTop20:"")}),E(c.Title,{className:v.default.marginBottom8},void 0,h.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),E(c.Subtitle,{},void 0,h.default.Messages.TWO_FA_ENTER_TOKEN_BODY),E(c.Block,{className:v.default.marginTop20},void 0,E(c.Input,{className:v.default.marginBottom8,error:a,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:h.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),E(c.Button,{type:"submit",submitting:r===m.LoginStates.LOGGING_IN_MFA},void 0,h.default.Messages.LOGIN)))},l.render=function(){return this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()},a}(a.PureComponent);g.displayName="ResetPassword",g.defaultProps={transitionTo:function(t){return e.location.assign(t)},replaceWith:function(t){return e.location.replace(t)}};var S=l.default.connectStores([d.default],function(){return{loginStatus:d.default.getLoginStatus(),mfaTicket:d.default.getMFATicket(),errors:d.default.getErrors()}})(g);t.default=S}).call(this,n(7))},8063:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=I(n(17)),i=I(n(32)),l=n(435),s=I(n(3)),u=I(n(817)),d=n(5877),c=I(n(11)),f=I(n(5904)),p=I(n(890)),m=N(n(5873)),h=I(n(18)),v=I(n(45)),y=I(n(915)),_=n(0),E=I(n(10)),g=I(n(312)),S=I(n(5235)),T=I(n(5809));function I(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}s.default.initialize();var P=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleVerify=function(e){var n=(0,l.parse)(t.props.location.search);u.default.verify(n.token,e)},t.handleLogin=function(){(0,t.props.transitionTo)(_.Routes.LOGIN)},t.handleOpenApp=function(){var e=t.props.verifyingUserId;h.default.track(_.AnalyticEvents.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:e}),t.openAppWithFingerprint()},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.componentDidMount=function(){this.handleVerify(),(0,d.trackAppUIViewed)("verify_email")},s.openAppWithFingerprint=function(){var e,t=this.props.fingerprint;e="Android"===i.default.os.family||"iOS"===i.default.os.family?_.DownloadLinks.DYNAMIC("verify_email",{queryString:(0,l.stringify)({fingerprint:t})}):"discord://",y.default.launch(e,function(e){e||v.default.replaceWith(f.default.defaultRoute)})},s.renderVerifyCaptcha=function(){return A(m.default,{},void 0,A(m.Image,{src:n(7154),className:(0,o.default)(T.default.image,S.default.marginBottom20)}),A(m.Title,{className:S.default.marginBottom8},void 0,E.default.Messages.VERIFICATION_VERIFYING),A(m.Subtitle,{className:S.default.marginBottom40},void 0,E.default.Messages.VERIFICATION_BODY_ALT),A("div",{className:g.default.flexCenter},void 0,A(p.default,{onVerify:this.handleVerify,theme:p.default.Themes.DARK})))},s.renderVerifyFailed=function(){return A(m.default,{},void 0,A(m.Image,{src:n(8064),className:(0,o.default)(T.default.image,S.default.marginBottom20)}),A(m.Title,{className:S.default.marginBottom8},void 0,E.default.Messages.VERFICATION_EXPIRED),A(m.Subtitle,{className:S.default.marginBottom40},void 0,E.default.Messages.AUTH_VERFICATION_EXPIRED_SUGGESTION),A(m.Button,{onClick:this.handleLogin},void 0,E.default.Messages.LOGIN))},s.renderVerifySucceeded=function(){return A(m.default,{},void 0,A(m.Image,{src:n(7154),className:(0,o.default)(T.default.image,S.default.marginBottom20)}),A(m.Title,{className:S.default.marginBottom40},void 0,E.default.Messages.VERIFICATION_VERIFIED),A(m.Button,{onClick:this.handleOpenApp},void 0,E.default.Messages.VERIFICATION_OPEN_DISCORD))},s.renderVerifying=function(){return A(m.default,{},void 0,A(m.Image,{src:n(7151),className:(0,o.default)(T.default.image,S.default.marginBottom20)}),A(m.Title,{className:S.default.marginBottom8},void 0,E.default.Messages.VERIFICATION_VERIFYING),A(m.Subtitle,{className:S.default.marginBottom40},void 0,E.default.Messages.ACTION_MAY_TAKE_A_MOMENT),A(m.Button,{submitting:!0,color:m.Button.Colors.PRIMARY}))},s.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,r=e.verifySucceeded;return null!=t&&t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():r?this.renderVerifySucceeded():this.renderVerifying()},a}(a.PureComponent);P.displayName="VerifyEmail",P.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var O=s.default.connectStores([c.default],function(){return{verifyFailed:c.default.didVerifyFail(),verifyErrors:c.default.getVerifyErrors(),verifySucceeded:c.default.didVerifySucceed(),fingerprint:c.default.getFingerprint(),verifyingUserId:c.default.getVerifyingUserId()}})(P);t.default=O}).call(this,n(7))},8064:function(e,t,n){e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},8065:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(439)),l=E(n(3)),s=n(5877),u=E(n(11)),d=E(n(42)),c=E(n(431)),f=E(n(158)),p=E(n(98)),m=E(n(6068)),h=E(n(6723)),v=n(0),y=E(n(10)),_=E(n(5810));function E(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}l.default.initialize();var T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){(0,s.trackAppUIViewed)("payment_history")},l.render=function(){var e=this.props,t=e.authenticated,n=e.locale,r=e.transitionTo;return t?g(c.default,{className:(0,o.default)(_.default.card,"theme-dark"),type:c.default.Types.CUSTOM},void 0,g(i.default,{title:y.default.Messages.BILLING_PAYMENT_HISTORY}),g(p.default,{tag:p.default.Tags.H2,className:_.default.title},void 0,g(f.default,{align:f.default.Align.CENTER},void 0,y.default.Messages.BILLING_PAYMENT_HISTORY)),g(h.default,{locale:n,compactMode:!0})):a.createElement(m.default,S({transitionTo:r,location:location},{redirectTo:v.Routes.BILLING_PAYMENTS}))},r}(a.PureComponent);T.displayName="PaymentHistoryPage",T.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var I=l.default.connectStores([u.default,d.default],function(){return{authenticated:u.default.isAuthenticated(),locale:d.default.locale}})(T);t.default=I}).call(this,n(7))},8066:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=C(n(17)),i=C(n(32)),l=n(435),s=C(n(439)),u=C(n(3)),d=C(n(1)),c=R(n(238)),f=C(n(73)),p=R(n(826)),m=n(5877),h=C(n(11)),v=C(n(438)),y=C(n(319)),_=C(n(431)),E=C(n(158)),g=C(n(128)),S=C(n(190)),T=C(n(6068)),I=C(n(6541)),N=C(n(6566)),A=n(0),P=C(n(10)),O=C(n(5811));function C(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,l,"next",e)}function l(e){L(o,r,a,i,l,"throw",e)}i(void 0)})}}u.default.initialize(),v.default.registerModals([I.default]);var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isPrefetchComplete:!1},t.preFetchAndDisplayModal=D(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.isAdd){e.next=4;break}return t.setState({isPrefetchComplete:!0}),d.default.wait(function(){return t.handleAddPaymentModal()}),e.abrupt("return");case 4:return e.prev=4,e.next=7,Promise.all([c.fetchPaymentSources(),c.fetchSubscriptions()]);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:t.props.authenticated&&d.default.wait(function(){return t.handleBuyModal()}),t.setState({isPrefetchComplete:!0});case 14:case"end":return e.stop()}},e,null,[[4,9]])})),t.handleAddPaymentModal=function(){f.default.push(function(e){var n=e.onClose,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClose"]);return a.createElement(N.default,M({},r,{onClose:function(){t.handleOnComplete(A.BillingRedirectResultTypes.CANCEL),n()},onAddPaymentSource:function(){return t.handleOnComplete(A.BillingRedirectResultTypes.PAYMENT_SOURCE)}}))})},t.handleBuyModal=D(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.props.plan)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,p.openModal({mode:A.PremiumPaymentSubscriptionModes.NEW,skuId:A.SubscriptionPlanInfo[n].skuId,plan:n,analyticsLocation:{page:A.AnalyticsPages.DIRECT,object:A.AnalyticsObjects.BUTTON_CTA,objectType:A.AnalyticsObjectTypes.BUY}});case 6:t.handleOnComplete(A.BillingRedirectResultTypes.PREMIUM),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.handleOnComplete(A.BillingRedirectResultTypes.CANCEL);case 12:case"end":return e.stop()}},e,null,[[3,9]])})),t.handleOnComplete=function(e){var n=t.props,r=n.transitionTo,a=n.redirectTo;if(null!=a){var o=new URL(a,window.location.origin);o.searchParams.set("success",e),r(o.href)}else if("Android"===i.default.os.family||"iOS"===i.default.os.family){r(A.DownloadLinks.DYNAMIC_LINK("premium",A.Routes.APP,{success:e}))}else{var s=(0,l.stringify)({success:e}),u=null!=e?{search:s}:{};r(A.Routes.APP,u)}window.close()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidMount=function(){this.props.authenticated&&this.preFetchAndDisplayModal(),(0,m.trackAppUIViewed)("premium")},u.componentDidUpdate=function(e){this.props.authenticated&&!e.authenticated&&this.preFetchAndDisplayModal()},u.renderAuthScreen=function(){var e=this.props.transitionTo;return b(T.default,{transitionTo:e,location:location,redirectTo:A.Routes.BILLING_PREMIUM})},u.renderErrorScreen=function(){return b(_.default,{className:(0,o.default)(O.default.card,"theme-dark"),type:_.default.Types.CUSTOM},void 0,b(s.default,{title:P.default.Messages.PREMIUM_TITLE}),b(E.default,{className:O.default.flexWrapper,direction:E.default.Direction.VERTICAL,align:E.default.Align.CENTER,justify:E.default.Justify.CENTER},void 0,b(E.default.Child,{grow:0,className:O.default.image}),b(g.default,{className:O.default.message,color:g.default.Colors.PRIMARY},void 0,P.default.Messages.PREMIUM_ALERT_ERROR_TITLE)))},u.render=function(){var e=this.props,t=e.authenticated,n=e.hasModalOpen;return t?this.state.isPrefetchComplete&&!n?this.renderErrorScreen():b(s.default,{title:P.default.Messages.PREMIUM_TITLE}):this.renderAuthScreen()},r}(a.PureComponent);w.displayName="PremiumPage";var B=u.default.connectStores([h.default,y.default,v.default],function(e){var t=y.default.getPremiumSubscription(),n=null!=t?S.default.getUpgradeEligibilities(t.plan):S.default.getUpgradeEligibilities(null),r=(0,l.parse)(e.location.search),a=r.plan,o=r.add;return{plan:n.includes(a)?a:n[0],isAdd:null!=o,hasModalOpen:v.default.hasModalOpen(),authenticated:h.default.isAuthenticated(),premiumSubscription:t,upgradeEligibilities:n}})(w);t.default=B}}]);
//# sourceMappingURL=fdee14df9f1a5ad0b04a.js.map