(window.webpackJsonp=window.webpackJsonp||[]).push([[234,53,163,212,213,235],{5269:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=g(n(100)),l=g(n(304)),u=g(n(3)),s=g(n(803)),d=g(n(802)),c=g(n(850)),f=g(n(438)),p=g(n(812)),h=g(n(466)),v=n(113),m=n(0),_=g(n(485)),y=g(n(5253));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=10,N=14,C={left:y.default.popoutLeft,right:y.default.popoutRight,bottom:y.default.popoutBottom,"bottom-right":y.default.popoutBottomRight,"bottom-left":y.default.popoutBottomLeft,"top-left":y.default.popoutTopLeft,"top-right":y.default.popoutTopRight,top:y.default.popoutTop},A=Object.freeze({TOP:"top",MIDDLE:"middle"}),M={top:y.default.arrowAlignmentTop,middle:y.default.arrowAlignmentMiddle};function R(e){switch(e){case"left":return{x:-1,y:0};case"right":return{x:0,y:0};case"bottom":return{x:-.5,y:0};case"bottom-right":return{x:-1,y:0};case"bottom-left":return{x:0,y:0};case"top-left":return{x:0,y:-1};case"top-right":return{x:-1,y:-1};case"top":default:return{x:-.5,y:-1}}}var b=function(){function e(){this.animated=new l.default.ValueXY({x:0,y:0})}var t=e.prototype;return t.run=function(e,t,n){var r=t.position;this.animated.setValue(R(r)),n()},t.getStyle=function(){return l.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},e}(),P=function(){function e(){this.animated=new l.default.ValueXY({x:0,y:0})}var t=e.prototype;return t.computeStyles=function(e){var t,n;switch(e){case"left":t={x:-1.05,y:0},n={x:-1,y:0};break;case"right":t={x:.05,y:0},n={x:0,y:0};break;case"bottom":t={x:-.5,y:.05},n={x:-.5,y:0};break;case"bottom-left":t={x:0,y:.05},n={x:0,y:0};break;case"bottom-right":t={x:0,y:.05},n={x:-1,y:0};break;case"top-left":t={x:0,y:-1.05},n={x:0,y:-1};break;case"top-right":t={x:0,y:-1.05},n={x:-1,y:-1};break;case"top":default:t={x:-.5,y:-1.05},n={x:-.5,y:-1}}return{startStyle:t,endStyle:n}},t.run=function(e,t,n){var r=t.position,a=this.computeStyles(r),o=a.startStyle,i=a.endStyle,u=e.getBoundingClientRect(),s=u.left,d=u.right,c=u.width;s-=O,d+=O;var f=c*i.x;if(d+=f,(s+=f)<0){var p=s/c;i.x+=p,o.x+=p}else if(d>window.innerWidth){var h=(d-window.innerWidth)/c;i.x-=h,o.x-=h}this.animated.setValue(o),l.default.timing(this.animated,{toValue:i,duration:150,easing:l.default.Easing.inOut(l.default.Easing.cubic)}).start(n)},t.getStyle=function(){return l.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},e}(),L=function(){function e(){this.animated=new l.default.Value(0)}var t=e.prototype;return t.run=function(e,t,n){this.animated.setValue(0),l.default.spring(this.animated,{toValue:1,tension:80,friction:8,overshootClamping:!0}).start(n)},t.interpolate=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.animated.interpolate({inputRange:[0,1],outputRange:t})},t.getStyle=function(e){var t,n=e.position,r=e.height,a=e.width,o=e.x,i=e.offsetX,u=e.clickPos,s=R(n);return r>0&&(t={height:this.interpolate(0,r),width:this.interpolate(0,a),left:this.interpolate(o+u,o+i)}),l.default.accelerate(I({},t,{overflow:"hidden",transform:[{translateY:100*s.y+"%"},{translateX:100*s.x+"%"}]}))},e}(),D=function(e){function t(t){var n,r;switch((n=e.call(this,t)||this).preventNextClose=!1,n.componentWillEnterCallback=function(){},n.close=function(e){if(n.preventNextClose&&c.default.isOpen())n.preventNextClose=!1;else{var t=n.props,r=t.popoutKey,a=t.preventCloseFromModal,o=t.preventClickPropagation,l=t.onClose;if(!a||!f.default.hasModalOpen()){if(null!=e){for(var u=e.target,s=i.default.findDOMNode(S(n));u instanceof Element;){if(u===s)return;if(null!=u.classList&&(u.classList.contains("popout-open")||u.classList.contains(_.default.layer)))return;u=u.parentNode}o&&(e.preventDefault(),e.stopPropagation())}l&&l(),d.default.close(r)}}},n.closeContext=function(e){if(null!=e)for(var t=e.target;t instanceof HTMLElement;){if(t===i.default.findDOMNode(S(n)))return void(n.preventNextClose=!0);t=t instanceof HTMLElement?t.parentNode:null}n.preventNextClose&&c.default.isOpen()?n.preventNextClose=!1:d.default.close(n.props.popoutKey)},n.updateOffsets=function(){var e=n.props,t=e.position,r=e.preventInvert,a=e.arrowAlignment,o=i.default.findDOMNode(S(n));if(!(o instanceof HTMLElement))throw new Error("domNode is not instance of HTMLElement");var l=o.offsetWidth,u=o.offsetHeight,s=!1;r||(s="top"===t||"top-right"===t||"top-left"===t?n.props.y<.5*window.innerHeight&&n.props.y-o.offsetHeight<0:n.props.y+n.props.targetHeight+N+u>=window.innerHeight)&&("bottom"===t?t="top":"bottom-left"===t?t="top-left":"bottom-right"===t?t="top-right":"top-right"===t?t="bottom-right":"top-left"===t?t="bottom-left":"top"===t&&(t="bottom"));var d={invert:s,position:t,height:u,width:l,offsetX:0,offsetY:0},c=a===A.MIDDLE?2:.5;switch(t){case"left":d.offsetX=0,d.offsetY=n.props.targetHeight*c;break;case"right":d.offsetX=n.props.targetWidth,d.offsetY=n.props.targetHeight*c;break;case"bottom":d.offsetX=n.props.targetWidth/2,d.offsetY=n.props.targetHeight;break;case"bottom-left":d.offsetX=0,d.offsetY=n.props.targetHeight;break;case"bottom-right":d.offsetX=n.props.targetWidth,d.offsetY=n.props.targetHeight;break;case"top-left":d.offsetX=0,d.offsetY=0;break;case"top-right":d.offsetX=n.props.targetWidth,d.offsetY=0;break;case"top":default:d.offsetX=n.props.targetWidth/2,d.offsetY=0}!s||"right"!==t&&"left"!==t||(n.props.closeOnScroll?d.offsetY-=u-n.props.targetHeight:d.offsetY-=n.props.y+u-window.innerHeight+O),n.setState(d,n._componentWillEnter)},n.props.animationType){case"default":r=new P;break;case"spring":r=new L;break;case"none":default:r=new b}return n.state={width:0,height:0,offsetX:null,offsetY:null,animation:r,position:"",invert:!1},n}T(t,e);var n=t.prototype;return n.componentDidMount=function(){v.ComponentDispatch.subscribe(m.ComponentActions.POPOUT_CLOSE,this.close),document.addEventListener("click",this.close,!0),document.addEventListener("contextmenu",this.closeContext,!0),this.updateOffsets()},n.componentWillEnter=function(e){this.componentWillEnterCallback=e},n._componentWillEnter=function(){if(this.componentWillEnterCallback){var e=this.componentWillEnterCallback;delete this.componentWillEnterCallback;var t=i.default.findDOMNode(this);if(!(t instanceof HTMLElement))throw new Error("node is not an instance of HTMLElement");this.state.animation.run(t,{position:this.state.position,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,targetWidth:this.props.targetWidth,targetHeight:this.props.targetHeight,offsetX:this.state.offsetX,offsetY:this.state.offsetY},e)}},n.componentWillLeave=function(e){e()},n.componentDidUpdate=function(e){var t=e.text,n=e.position,r=e.x,a=e.y,o=e.targetWidth,i=e.targetHeight,l=e.closeOnScroll;this.props.text===t&&this.props.position===n&&this.props.x===r&&this.props.y===a&&this.props.targetWidth===o&&this.props.targetHeight===i&&this.props.closeOnScroll===l||this.updateOffsets()},n.UNSAFE_componentWillUpdate=function(e){e.needsRerender&&d.default.didRerender(this.props.popoutKey)},n.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(m.ComponentActions.POPOUT_CLOSE,this.close),document.removeEventListener("click",this.close,!0),document.removeEventListener("contextmenu",this.closeContext,!0)},n.render=function(){var e,t=this.state,n=t.offsetX,r=t.offsetY,a=t.invert,i=t.position,u=t.animation,s=this.props,d=s.zIndexBoost,c=s.closeOnScroll,f=s.x,p=s.y,h=s.popoutKey,v=s.animationType,m=s.clickPos,_=s.render,g=s.containerClass,S=s.arrowAlignment,T=s.showArrow,O=s.forceTheme,N=I({},{left:null===n?null:f+n,top:null==r?null:p+r,zIndex:null!=d?1001+d:null},u.getStyle({position:i,width:this.state.width,height:this.state.height,x:f,y:p,offsetX:n,offsetY:r,clickPos:m}));N.visibility||(N.visibility=null==N.transform?"hidden":"visible");var A=((e={})[y.default.popoutInvert]=a&&c,e[y.default.noArrow]=!T,e[y.default.noShadow]=!this.props.shadow||"none"===v,e);return g&&(A[g]=!0),E(l.default.div,{role:"dialog",className:(0,o.default)(A,y.default.popout,C[i],M[S],"theme-"+O),style:N},void 0,_({popoutKey:h,onClose:this.close,inverted:a,position:i}))},t}(a.PureComponent);D.displayName="Popout",D.defaultProps={animationType:"default",closeOnScroll:!0,preventInvert:!1,preventCloseFromModal:!1,preventClickPropagation:!1,shadow:!0,text:"",offsetX:0,offsetY:0};var w=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.className,r=e.popouts,i=r.some(function(e){return e.backdrop}),l=(r.find(function(e){return null!=e.zIndexBoost&&e.zIndexBoost>0})||{}).zIndexBoost,u=i?E(h.default,{backdropStyle:h.default.Styles.SUBTLE,zIndexBoost:null!=l?l:0}):null;return E(s.default,{className:(0,o.default)("theme-"+t,y.default.popouts,n),component:"div"},void 0,u,r.map(function(e){var t=e.key,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["key"]);return a.createElement(D,I({popoutKey:String(t)},n,{key:t+"-popout"}))}))},t}(a.PureComponent);w.displayName="Popouts";var U=u.default.connectStores([p.default],function(){return{popouts:p.default.getPopouts()}})(w);t.default=U},5815:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=g(n(439)),l=g(n(3)),u=g(n(831)),s=g(n(42)),d=g(n(484)),c=n(477),f=n(855),p=g(n(957)),h=g(n(5269)),v=g(n(955)),m=g(n(8067)),_=g(n(8087)),y=n(0);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var S=E(f.MaskLibrary,{}),T=E(d.default,{}),I=E(_.default,{}),O=E(v.default,{}),N=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.locale,n=e.fontScaleClass,r=e.fontScale,a=e.colorblindMode;return E(m.default,{className:(0,o.default)("theme-dark",n,{"colorblind-mode":a})},void 0,E(i.default,{},void 0,E("html",{lang:t,style:"font-size: "+r+"%"})),S,T,E(c.LayerProvider,{},void 0,I,E(h.default,{theme:y.ThemeTypes.DARK}),E(p.default,{theme:y.ThemeTypes.DARK}),O,E(c.LayerContainer,{theme:y.ThemeTypes.DARK})))},r}(a.Component);N.displayName="AppOverlay";var C=l.default.connectStores([s.default,u.default],function(){return{locale:s.default.locale,fontScaleClass:u.default.fontScaleClass,fontScale:u.default.fontScale,colorblindMode:u.default.colorblindMode}},{forwardRef:!0})(N);t.default=C},5854:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(4)),a=v(n(3)),o=v(n(9)),i=v(n(1)),l=v(n(801)),u=v(n(129)),s=v(n(310)),d=v(n(5967)),c=v(n(131)),f=v(n(23)),p=v(n(14)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _,y,g,E,S,T=["name","description","icon","splash","banner","region","afkChannelId","afkTimeout","systemChannelId","verificationLevel","defaultMessageNotifications","explicitContentFilter","features","systemChannelFlags","preferredLocale"],I=!1,O=h.FormStates.CLOSED,N={},C=!1,A=null,M=null,R=h.MFALevels.NONE,b=null,P=null,L=null;function D(e){if(null==E||null==g||g.id!==e)return!1;var t=f.default.getGuild(e);return null!=t&&(g===E?E=g=t:(g=t,E=E.set("roles",g.roles)),!0)}function w(e){var t=e.guildId,n=e.section,r=void 0===n?null:n,a=f.default.getGuild(t);if(null==a)return U();g=E=a,O=h.FormStates.OPEN,N={},S=t,R=E.mfaLevel,G({section:r||_||h.GuildSettingsSections.OVERVIEW})}function U(){I=!1,O=h.FormStates.CLOSED,g=E=null,C=!1,A=null,M=null,b=null,P=null,L=null,_=null,y=null,R=h.MFALevels.NONE}function G(e){if(null==E)return!1;if((_=e.section)===h.GuildSettingsSections.BANS)o.default.get(h.Endpoints.GUILD_BANS(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_LOADED_BANS,bans:e.body})});else if(_===h.GuildSettingsSections.INSTANT_INVITES)o.default.get(h.Endpoints.GUILD_INSTANT_INVITES(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_LOADED_INVITES,invites:e.body})});else if(_===h.GuildSettingsSections.EMBED)o.default.get(h.Endpoints.GUILD_EMBED(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_SET_EMBED,enabled:e.body.enabled,channelId:e.body.channel_id})});else{if(_===h.GuildSettingsSections.INTEGRATIONS)return F(e);_===h.GuildSettingsSections.MEMBERS?(S=E.id,l.default.requestMembers(E.id,"",0)):_===h.GuildSettingsSections.VANITY_URL?o.default.get(h.Endpoints.GUILD_VANITY_URL(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:e.body.code})}):_===h.GuildSettingsSections.AUDIT_LOG&&l.default.requestMembers(E.id,"",0)}}function k(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new u.default(e.channel),guild:null!=e.guild?new s.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,r.default)(e.created_at)})}function F(e){return null!=E&&O===h.FormStates.OPEN&&((e.type!==h.ActionTypes.GUILD_INTEGRATIONS_UPDATE||e.guildId===E.id)&&void o.default.get(h.Endpoints.GUILD_INTEGRATIONS(E.id)).then(function(e){null!=E&&i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_LOADED_INTEGATIONS,guildId:E.id,integrations:e.body})}))}var j=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,p.default)},a.hasChanges=function(){return E!==g},a.isOpen=function(){return I},a.getSection=function(){return _},a.showNotice=function(){return this.hasChanges()},a.getGuildId=function(){return E?E.id:null},a.getProps=function(){return{submitting:O===h.FormStates.SUBMITTING,integrations:L,section:_,errors:N,guild:E,bans:b,invites:P,selectedRoleId:S,embedEnabled:C,embedChannelId:A,mfaLevel:R,searchQuery:y,vanityURLCode:M,hasChanges:this.hasChanges()}},r}(a.default.Store))(i.default,__OVERLAY__?{}:{GUILD_SETTINGS_INIT:w,GUILD_SETTINGS_OPEN:function(e){I=!0,w(e)},GUILD_SETTINGS_CLOSE:function(e){return U()},GUILD_SETTINGS_UPDATE:function(e){if(null==E)return!1;T.forEach(function(t){null!=E&&e.hasOwnProperty(t)&&(E=E.set(t,e[t]))}),function(){if(null==E)return!1;var e=E.toJS(),t=g.toJS();T.some(function(n){return e[n]!==t[n]})||(E=g)}()},GUILD_SETTINGS_CANCEL_CHANGES:function(e){var t=e.guildId;N={};var n=f.default.getGuild(t);null!=n&&(g=E=n)},GUILD_SETTINGS_SUBMIT:function(e){O=h.FormStates.SUBMITTING},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){O=h.FormStates.OPEN},GUILD_SETTINGS_SUBMIT_FAILURE:function(e){O=h.FormStates.OPEN,_=h.GuildSettingsSections.OVERVIEW,N=e.errors||{}},GUILD_SETTINGS_SET_SECTION:G,GUILD_SETTINGS_SET_SEARCH_QUERY:function(e){y=e.searchQuery},GUILD_SETTINGS_LOADED_BANS:function(e){b=e.bans.reduce(function(e,t){return null!=t.user&&null!=t.user.id&&(e[t.user.id]=t),e},{})},GUILD_SETTINGS_LOADED_INVITES:function(e){P=e.invites.reduce(function(e,t){return e[t.code]=k(t),e},{})},GUILD_SETTINGS_SET_EMBED:function(e){C=e.enabled,A=e.channelId},GUILD_SETTINGS_SET_VANITY_URL:function(e){M=e.code},GUILD_SETTINGS_SET_MFA_SUCCESS:function(e){var t=e.level;R=t},GUILD_SETTINGS_ROLE_SELECT:function(e){var t=e.roleId;S=t},GUILD_SETTINGS_LOADED_INTEGATIONS:function(e){L=e.integrations.map(function(e){return e.user=new c.default(e.user),e})},GUILD_BAN_ADD:function(e){var t,n=e.user,r=e.guildId;return null!=b&&null!=E&&E.id===r&&void(b=m({},b,(t={},t[n.id]={user:n,reason:null},t)))},GUILD_BAN_REMOVE:function(e){var t=e.user,n=e.guildId;return null!=b&&null!=E&&E.id===n&&void delete(b=m({},b))[t.id]},GUILD_ROLE_CREATE:function(e){var t=e.guildId,n=e.role;if(!D(t))return!1;S=n.id},GUILD_ROLE_UPDATE:function(e){if(!D(e.guildId))return!1},GUILD_ROLE_DELETE:function(e){var t=e.guildId,n=e.roleId;if(!D(t))return!1;S===n&&(S=t)},GUILD_UPDATE:function(e){if(null==E||E.id!==e.guild.id)return!1;var t=f.default.getGuild(E.id);if(null==t)return!1;var n=g=t,r=E.toJS();T.forEach(function(e){"icon"!==e&&"splash"!==e&&"banner"!==e&&("features"!==e?n=n.set(e,r[e]):n.set(e,new Set(r[e])))}),E=n},GUILD_DELETE:function(e){if(null==E||E.id!==e.guild.id)return!1;U()},USER_CONNECTIONS_UPDATE:F,GUILD_INTEGRATIONS_UPDATE:F,INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(P=m({},P))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;P=m({},P,((t={})[e.invite.code]=k(e.invite),t))}});t.default=j},5860:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(158)),l=n(0),u=d(n(5235)),s=d(n(5270));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=a.createContext(l.ThemeTypes.DARK),v=h.Provider,m=h.Consumer,_=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,d=e.offsetX,p=e.offsetY,h=e.style;return c(m,{},void 0,function(e){return c(i.default.Child,{grow:0,className:(0,o.default)(s.default.image,u.default.marginBottom40),style:f({},h,{width:r,height:a,marginLeft:d,marginTop:p,backgroundImage:"url("+(e===l.ThemeTypes.DARK?n:t)+")"})})})},t}(a.PureComponent);t.EmptyStateImage=_,_.displayName="EmptyStateImage";var y=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,l=e.style;return c(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:l},void 0,t&&c("h4",{className:(0,o.default)(n,s.default.title)},void 0,t),a&&c("div",{className:(0,o.default)(r,s.default.text,u.default.marginTop8)},void 0,a))};t.EmptyStateText=y,y.displayName="EmptyStateText";var g=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return c(v,{value:n},void 0,c(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(s.default.wrapper,r),style:a},void 0,t))},t}(a.PureComponent);t.default=g,g.displayName="EmptyState",g.Text=y,g.Image=_},5864:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={selectChannel:function(e,t,n){a.default.dispatch({type:o.ActionTypes.DELAYED_CHANNEL_SELECT,guildId:e,channelId:t,analyticsSource:n})},flushSelection:function(e){void 0===e&&(e=!1),a.default.dispatch({type:o.ActionTypes.DELAYED_SELECT_FLUSH,immediate:e})}};t.default=i},5865:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.IMAGE_GIF_RE=void 0;var r,a,o=f(n(2)),i=n(5938),l=(r=n(6396))&&r.__esModule?r:{default:r},u=f(n(6045)),s=n(242),d=n(5881),c=n(805);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=/\.gif($|\?|#)/i;t.IMAGE_GIF_RE=m;var _=p(l.default,{}),y=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={readyState:u.ImageReadyStates.LOADING,hasMouseOver:!1},n._cancellers=new Set,n.observeVisibility=function(){r.visibilityObserver.observe(v(n))},n.unobserveVisibility=function(){r.visibilityObserver.unobserve(v(n))},n.handleImageLoad=function(e){return n.setState({readyState:e?u.ImageReadyStates.ERROR:u.ImageReadyStates.READY})},n.preloadImage=function(e,t){var r=e.width,a=e.height,o=n.props,i=o.width,l=o.height;1===i&&1===l||n.loadImage(n.getSrc((0,d.getRatio)(i,l,r,a)),t)},n.onMouseEnter=function(e){r.isAnimated(n.props)&&n.setState({hasMouseOver:!0});var t=n.props.onMouseEnter;null!=t&&t(e,{preloadImage:n.preloadImage})},n.onMouseLeave=function(){return n.setState({hasMouseOver:!1})},n.onClick=function(e){var t=n.props,r=t.onZoom,a=t.onClick;null!=a?a(e):null!=r&&(e.preventDefault(),r(e,{placeholder:n.getSrc(n.getRatio())}))},n.renderAccessory=function(){var e=n.state.hasMouseOver,t=null!=n.props.renderAccessory?n.props.renderAccessory():null;return e?t:_},(0,s.isImageLoaded)(n.getSrc(n.getRatio(),r.isAnimated(n.props)))&&(n.state.readyState=u.ImageReadyStates.READY),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.isAnimated=function(e){var t=e.src,n=e.original;return e.animated||m.test(n||t)};var a=r.prototype;return a.componentDidMount=function(){this.state.readyState===u.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),r.isAnimated(this.props)),this.handleImageLoad),r.isAnimated(this.props)&&this.observeVisibility()},a.componentDidUpdate=function(e){var t=r.isAnimated(this.props);r.isAnimated(e)!==t&&(t?this.observeVisibility():this.unobserveVisibility())},a.componentWillUnmount=function(){r.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(function(e){return e()}),this._cancellers.clear()},a.getSrc=function(e,t){void 0===t&&(t=!1);var n=this.props,r=n.src,a=n.width,o=n.height;return(0,s.getImageSrc)(r,a,o,e,t?"png":null)},a.getWidth=function(){var e=this.props,t=e.width,n=e.minWidth;return Math.max(Math.round(t*this.getRatio()),n)},a.getHeight=function(){var e=this.props,t=e.height,n=e.minHeight;return Math.max(Math.round(t*this.getRatio()),n)},a.getRatio=function(){var e=this.props,t=e.width,n=e.height,r=e.maxWidth,a=void 0===r?400:r,o=e.maxHeight,i=void 0===o?300:o;return(0,d.getRatio)(t,n,a,i)},a.loadImage=function(e,t){var n=this,r=this.props,a=r.width,o=r.height;if(1!==a||1!==o){var i=(0,s.loadImage)(e,function(e,r){null!=i&&n._cancellers.delete(i),t&&t(e,r)});null!=i&&this._cancellers.add(i)}},a.render=function(){var e=this.props,t=e.alt,n=e.placeholder,a=e.onZoom,i=e.shouldLink,l=e.onContextMenu,s=e.autoPlay,d=e.original,f=e.className,v=e.imageClassName,m=e.children,_=e.animated,y=e.shouldAnimate,g=e.minWidth,E=e.minHeight,S=e.renderItem,T=e.onClick,I=e.renderAccessory,O=e.tabIndex,N=this.state,C=N.readyState,A=N.hasMouseOver,M=!!a,R={alt:null!=t?t:"",readyState:C,onContextMenu:l,zoomable:M,className:f,imageClassName:v,minWidth:g,minHeight:E,tabIndex:O,width:this.getWidth(),height:this.getHeight(),renderItem:S,src:"",children:null!=m?function(e){var t=e.src,n=e.size,r=e.alt;return m({src:t,size:n,alt:r})}:void 0,onMouseEnter:this.onMouseEnter};if(1===R.width&&1===R.height)return null;switch((M||null!=T)&&(R.onClick=this.onClick),i&&(R.original=d||R.src),C){case u.ImageReadyStates.LOADING:null!=n&&(R.src=n);break;case u.ImageReadyStates.READY:if(r.isAnimated(this.props)){R.onMouseLeave=this.onMouseLeave;var b=(s||A)&&(null==y||y)&&r.visibilityObserver.isVisible(this);b?(R.src=this.getSrc(this.getRatio()),R.renderAccessory=I):(R.src=this.getSrc(this.getRatio(),!_),R.renderAccessory=this.renderAccessory),null!=m&&(R.children=function(e){var t=e.src,n=e.size,r=e.alt;return m({src:t,size:n,animating:b,alt:r})})}else R.src=this.getSrc(this.getRatio())}return p(c.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o.createElement(u.default,h({},R,{backgroundOpacity:e.backgroundOpacity}))})},r}(o.Component);t.default=y,y.displayName="LazyImage",y.visibilityObserver=new i.VisibilityObserver({threshold:0}),y.defaultProps={alt:"",shouldLink:!1,autoPlay:!1,animated:!1,minWidth:0,minHeight:0}},5867:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=n(810),i=s(n(305)),l=n(805),u=s(n(5324));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.icon,n=e.iconNode,r=e.timestamp,i=e.className,s=e.children;return d(l.BackgroundOpacityContext.Consumer,{},void 0,function(e){return d("div",{className:(0,a.default)(u.default.container,i)},void 0,null!=n&&d("div",{className:u.default.icon},void 0,n),null!=t&&d("div",{className:u.default.icon,style:{backgroundImage:"url('"+t+"')"}}),d("div",{className:(0,a.default)(u.default.content,u.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,s,d("time",{dateTime:r.toISOString(),className:(0,a.default)(u.default.timestamp,u.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,(0,o.calendarFormat)(r))))})}c.displayName="SystemMessage";var f=function(e){var t=e.onClick,n=e.children;return d("span",{className:u.default.action},void 0,"—",d(i.default,{onClick:t,className:u.default.actionAnchor},void 0,n))};f.displayName="SystemMessageAction",c.Action=f;var p=c;t.default=p},5870:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(192),l=c(n(431)),u=c(n(5863)),s=n(0),d=c(n(5277));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={SMALL:"7px 10px",MEDIUM:"10px"},v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.onClick,r=e.option;return n&&n(r)},t}return p(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checked,r=t.disabled,a=t.option,c=t.size,p=t.infoClassName,h=n?"checked":null,v=a.desc?f("div",{className:(0,i.getClass)(d.default,"desc",h)},void 0,a.desc):null,m=n?a.color||s.Colors.BRAND:"",_=n?s.Colors.WHITE:a.color,y=r||a.disabled;return f(l.default,{className:(0,o.default)(d.default.item,(e={},e[d.default.disabled]=y,e)),style:{borderColor:m,backgroundColor:m,padding:c},editable:!0,onClick:!y&&this.handleClick},void 0,f(u.default,{value:n,disabled:y,onChange:this.handleClick,color:m}),f("div",{className:(0,o.default)(d.default.info,p)},void 0,f("div",{className:(0,i.getClass)(d.default,"title",h),style:{color:_}},void 0,a.name),v))},t}(a.PureComponent);v.displayName="RadioItem";var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderRadio=function(e){var n=t.props,r=n.value,a=n.disabled,o=n.size,i=n.itemInfoClassName,l=r===e.value;return f(v,{disabled:a,checked:l,option:e,onClick:t.props.onChange,size:o,infoClassName:i},e.value)},t}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.className;return f("div",{className:(0,o.default)(d.default.radioGroup,n)},void 0,t.map(this.renderRadio))},t}(a.PureComponent);m.displayName="RadioGroup",m.Sizes=h,m.defaultProps={options:[],onChange:s.NOOP,value:null,disabled:!1,size:h.MEDIUM};var _=m;t.default=_},5871:function(e,t,n){"use strict";t.__esModule=!0,t.makeFile=function(e,t,n){if(null==t&&(t="unknown",e instanceof Blob))switch(e.type){case"image/png":t+=".png"}null==n&&(e instanceof Blob&&(n=e.type),n=n||o.default.lookup(t));if("function"!=typeof File||"Microsoft Edge"===i.default.name){var r=new Date,a=0;return null!=e.size&&"number"==typeof e.size?a=e.size:null!=e.byteLength&&"number"==typeof e.byteLength&&(a=e.byteLength),{lastModified:r.getTime(),lastModifiedDate:r,name:t,size:a,type:n}}return new File([e],t,{type:n})},t.classifyFile=function(e){return p(e.name,e.type)},t.classifyFileName=p,t.sizeString=function(e){return r.default.filesize(e)},t.maxFileSize=h,t.anyFileTooLarge=function(e,t){var n=h(t);return Array.from(e).some(function(e){return e.size>n})};var r=c(n(6101)),a=c(n(6)),o=c(n(6711)),i=c(n(32)),l=c(n(23)),u=c(n(14)),s=c(n(190)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=[{reType:/^image\/vnd.adobe.photoshop/,klass:"photoshop"},{reType:/^image\/svg\+xml/,klass:"webcode"},{reType:/^image\//,klass:"image"},{reType:/^video\//,klass:"video"},{reName:/\.pdf$/,klass:"acrobat"},{reName:/\.ae/,klass:"ae"},{reName:/\.sketch$/,klass:"sketch"},{reName:/\.ai$/,klass:"ai"},{reName:/\.(?:rar|zip|7z|tar|tar\.gz)$/,klass:"archive"},{reName:/\.(?:c\+\+|cpp|cc|c|h|hpp|mm|m|json|js|rb|rake|py|asm|fs|pyc|dtd|cgi|bat|rss|java|graphml|idb|lua|o|gml|prl|sls|conf|cmake|make|sln|vbe|cxx|wbf|vbs|r|wml|php|bash|applescript|fcgi|yaml|ex|exs|sh|ml|actionscript)$/,klass:"code"},{reName:/\.(?:txt|rtf|doc|docx|md|pages|ppt|pptx|pptm|key|log)$/,klass:"document"},{reName:/\.(?:xls|xlsx|numbers|csv)$/,klass:"spreadsheet"},{reName:/\.(?:html|xhtml|htm|js|xml|xls|xsd|css|styl)$/,klass:"webcode"},{reName:/\.(?:mp3|ogg|wav|flac)$/,klass:"audio"}];function p(e,t){e=e?e.toLowerCase():"";var n=a.default.find(f,function(n){return n.reType&&t?n.reType.test(t):!(!n.reName||!e)&&n.reName.test(e)});return n?n.klass:"unknown"}function h(e){var t=u.default.getCurrentUser(),n=t&&s.default.canUploadLargeFiles(t)?d.MAX_PREMIUM_ATTACHMENT_SIZE:d.MAX_ATTACHMENT_SIZE;if(null==e)return n;var r=l.default.getGuild(e),a=null!=r?d.PremiumGuildLimits[r.premiumTier].fileSize:d.MAX_ATTACHMENT_SIZE;return Math.max(a,n)}},5872:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5329));function l(e){return e&&e.__esModule?e:{default:e}}var u=Object.freeze({UNKNOWN:"unknown",VISA:"visa",DISCOVER:"discover",MASTERCARD:"mastercard",AMEX:"amex",PAYPAL:"paypal",PAYMENT_REQUEST:"paymentRequest",G_PAY:"gPay"}),s={SMALL:i.default.cardIconSmall,MEDIUM:i.default.cardIconMedium,LARGE:i.default.cardIconLarge,XLARGE:i.default.cardIconXLarge},d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getType=function(e){if(null==e)return u.UNKNOWN;var t=e.replace(/[^a-z]/gi,"").toUpperCase();return u[t]||u.UNKNOWN},a.prototype.render=function(){var e,t=this.props,n=t.flipped,a=t.type,l=t.className,u=t.size;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(u,i.default[a],l,(e={},e[i.default.flipped]=n,e))},void 0,a)},a}(a.PureComponent);d.displayName="PaymentSourceIcon",d.Types=u,d.Sizes=s,d.defaultProps={size:s.SMALL,flipped:!1};var c=d;t.default=c},5873:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.Subtitle=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(6066)),l=_(n(6067)),u=n(5849),s=_(n(112)),d=_(n(158)),c=_(n(5866)),f=_(n(128)),p=_(n(799)),h=_(n(432)),v=_(n(10)),m=_(n(5267));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var S=function(e){var t=e.className,n=e.children,r=E(e,["className","children"]);return a.createElement(f.default,g({},r,{color:f.default.Colors.WHITE,weight:f.default.Weights.LIGHT,className:(0,o.default)(m.default.title,t)}),n)};t.Title=S,S.displayName="Title";var T=function(e){var t=e.className,n=e.children,r=E(e,["className","children"]);return a.createElement(f.default,g({},r,{weight:f.default.Weights.NORMAL,className:(0,o.default)(m.default.subTitle,t)}),n)};t.Subtitle=T,T.displayName="Subtitle";var I=function(e){var t=e.className,n=E(e,["className"]);return a.createElement("img",g({alt:""},n,{className:(0,o.default)(m.default.image,t)}))};t.Image=I,I.displayName="Image";var O=function(e){var t,n=e.className,r=E(e,["className"]),i=r.look===s.default.Looks.LINK;return a.createElement(s.default,g({size:i?s.default.Sizes.MIN:s.default.Sizes.LARGE,fullWidth:!i,className:(0,o.default)(n,(t={},t[m.default.button]=!i,t[m.default.linkButton]=i,t))},r))};t.Button=O,O.displayName="Button",O.Looks=s.default.Looks,O.Colors=s.default.Colors,O.Sizes=s.default.Sizes;var N=function(e){var t=e.className,n=e.src,r=E(e,["className","src"]);return a.createElement(u.AvatarImage,g({src:n,className:(0,o.default)(m.default.inviteLargeIcon,t)},r))};t.Avatar=N,N.displayName="Avatar",N.Sizes=u.AvatarSizes;var C=function e(t){var n=t.className,r=t.guild,i=t.size,l=E(t,["className","guild","size"]);return a.createElement(c.default,g({guild:r,size:i,className:(0,o.default)(i===e.Sizes.XLARGE?m.default.inviteLargeIcon:m.default.inviteSmallIcon,n)},l))};t.GuildIcon=C,C.displayName="GuildIcon",C.Sizes=c.default.Sizes;var A=function e(t){var n=t.className,r=t.channel,i=t.size,l=E(t,["className","channel","size"]);return a.createElement(u.AvatarImage,g({src:r.getIconURL(),size:i,className:(0,o.default)(i===e.Sizes.XLARGE?m.default.inviteLargeIcon:m.default.inviteSmallIcon,n)},l))};t.ChannelIcon=A,A.displayName="ChannelIcon",A.Sizes=u.AvatarSizes;var M=function(e){var t,n=e.label,r=e.error,i=e.placeholder,l=e.value,u=e.className,s=e.inputClassName,d=e.setRef,c=E(e,["label","error","placeholder","value","className","inputClassName","setRef"]);return y(h.default,{title:n,error:r,className:u},void 0,a.createElement(p.default,g({},c,{value:l,inputRef:d,placeholder:i,className:m.default.input,inputClassName:(0,o.default)(s,(t={},t[m.default.inputError]=null!=r,t)),"aria-label":n})))};t.Input=M,M.displayName="Input";var R=function(e){var t=e.className,n=e.children;return y("div",{className:(0,o.default)(m.default.block,t)},void 0,n)};t.Block=R,R.displayName="Block";var b=function(e){var t=e.className,n=e.children;return y(f.default,{size:f.default.Sizes.SMALL,className:(0,o.default)(m.default.subText,t)},void 0,n)};t.SubText=b,b.displayName="SubText";var P=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return y(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER,className:t},void 0,y(l.default,{className:m.default.spinnerVideo}),r?null:y(T,{className:m.default.spinnerText},void 0,i.default[Math.floor(Math.random()*i.default.length)][0]))};t.AuthSpinner=P,P.displayName="AuthSpinner";var L=function(e){var t,n=e.online,r=e.total,a=e.className;return null==r?null:(null!=n&&n>0&&(t=y("div",{className:(0,o.default)(m.default.pill,m.default.pillOnline)},void 0,y("i",{className:m.default.pillIconOnline}),y(f.default,{tag:"span",size:f.default.Sizes.MEDIUM,className:m.default.pillMessage},void 0,v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),y(d.default,{justify:d.default.Justify.CENTER,className:a},void 0,t,y("div",{className:m.default.pill},void 0,y("i",{className:m.default.pillIconTotal}),y(f.default,{tag:"span",size:f.default.Sizes.MEDIUM,className:m.default.pillMessage},void 0,v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r})))))};t.ActivityCount=L,L.displayName="ActivityCount";var D=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,a=e.onSubmit,i=e.children;return y(r,{onSubmit:a,className:(0,o.default)(m.default.authBox,"theme-dark",t)},void 0,y("div",{className:m.default.centeringWrapper},void 0,i))};D.displayName="AuthBox";var w=D;t.default=w},5876:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={updateChannelDimensions:function(e,t,n,r){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_DIMENSIONS,channelId:e,scrollTop:t,scrollHeight:n,offsetHeight:r})},updateChannelListScroll:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTop:t})},channelListScrollTo:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:t})},clearChannelListScrollTo:function(e){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:null})},clearChannelDimensions:function(e){this.updateChannelDimensions(e,null,null,null)},updateGuildListScrollTo:function(e){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_GUILD_LIST_DIMENSIONS,scrollTop:e})}};t.default=i},5878:function(e,t,n){"use strict";t.__esModule=!0,t.getIconNameForChannel=h,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(231)),l=d(n(302)),u=n(0),s=d(n(5306));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f={SELECTED:s.default.modeSelected,CONNECTED:s.default.modeConnected,UNREAD:s.default.modeUnread,MUTED:s.default.modeMuted,LOCKED:s.default.modeLocked};function p(e){e.stopPropagation()}function h(e,t,n,r){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),null==e)return null;switch(e.type){case u.ChannelTypes.GUILD_NEWS:return l.default.Names.NEWSPAPER;case u.ChannelTypes.GUILD_STORE:return l.default.Names.STORE_TAG;case u.ChannelTypes.DM:case u.ChannelTypes.GROUP_DM:return l.default.Names.NOVA_AT;case u.ChannelTypes.GUILD_TEXT:return null!=e.isNSFW&&e.isNSFW()?l.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?l.default.Names.CHANNEL_TEXT_LIMITED:l.default.Names.CHANNEL_TEXT;case u.ChannelTypes.GUILD_VOICE:return t?l.default.Names.LOCK_CLOSED:r?l.default.Names.LIVE_STREAM:e.isRoleRequired()?n?l.default.Names.VIDEO_CAMERA_LIMITED:l.default.Names.SPEAKER_LIMITED:n?l.default.Names.VIDEO_CAMERA:l.default.Names.SPEAKER;case u.ChannelTypes.GUILD_CATEGORY:default:return null}}function v(e){switch(e){case u.ChannelTypes.GUILD_VOICE:return s.default.typeVoice;case u.ChannelTypes.GUILD_NEWS:case u.ChannelTypes.GUILD_TEXT:case u.ChannelTypes.GUILD_STORE:default:return s.default.typeDefault}}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.channel;r&&r(e,a)},t.handleMouseDown=function(e){var n=t.props,r=n.onMouseDown,a=n.channel;r&&r(e,a)},t.handleMouseUp=function(e){var n=t.props,r=n.onMouseUp,a=n.channel;r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.channel;r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.getModeClassName=function(){var e=this.props,t=e.muted,n=e.selected,r=e.connected,a=e.unread,o=e.locked;return n?f.SELECTED:r?f.CONNECTED:o?f.LOCKED:t?f.MUTED:a?f.UNREAD:null},u.renderUnread=function(){var e=this.props,t=e.unread,n=e.muted,r=e.selected;return n||!t||r?null:c("div",{className:s.default.unread})},u.renderTypeIcon=function(){var e=this.props,t=h(e.channel,e.locked);return null!=t?c(l.default,{name:t,className:s.default.icon}):null},u.renderName=function(){var e=this.props.channel.name;return c("div",{className:s.default.name},void 0,e)},u.renderIcons=function(){var e=this.props.children;return a.Children.count(e)>0?c("div",{onClick:p,className:s.default.children},void 0,e):null},u.render=function(){var e=this.props,t=e.onClick,n=e.onMouseDown,r=e.onMouseUp,a=e.onContextMenu,l=e.connectDragPreview,u=e.className,d=e.channel.type,f=c("div",{className:s.default.content},void 0,this.renderTypeIcon(),this.renderName(),this.renderIcons()),p=null!=t||null!=r||null!=n;return c(i.default,{className:(0,o.default)(u,p?s.default.wrapper:s.default.notInteractive,this.getModeClassName(),v(d)),onClick:t&&this.handleClick,onMouseUp:r&&this.handleMouseUp,onMouseDown:n&&this.handleMouseDown,onContextMenu:a&&this.handleContextMenu},void 0,this.renderUnread(),l?l(f):f)},r}(a.Component);m.displayName="ChannelItem";var _=m;t.default=_},5879:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(302)),l=u(n(5330));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className;return s("div",{className:(0,o.default)(l.default.error,n)},void 0,s(i.default,{name:i.default.Names.WARNING_BOX,className:l.default.icon}),s("div",{className:l.default.text},void 0,t))},r}(a.PureComponent);d.displayName="FormErrorBlock";var c=d;t.default=c},5880:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Divider=t.Icon=t.Title=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(17)),o=c(n(231)),i=c(n(302)),l=c(n(426)),u=c(n(5883)),s=c(n(855)),d=c(n(5338));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n=e.className,r=e.children,o=e.onContextMenu,i=e.onClick,l=e.muted,s=void 0!==l&&l;return f(u.default,{className:(0,a.default)(n,d.default.title,(t={},t[d.default.titleMuted]=s,t)),size:u.default.Sizes.SIZE_16,muted:s,onContextMenu:o,onClick:i},void 0,r)};t.Title=p,p.displayName="Title";var h=function(e){var t,n=e.className,r=e.iconClassName,u=e.selected,c=void 0!==u&&u,p=e.disabled,h=void 0!==p&&p,v=e.showBadge,m=void 0!==v&&v,_=e.foreground,y=e.background,g=e.name,E=e.onClick,S=e.onContextMenu,T=e.onMouseEnter,I=e.onMouseLeave,O=e.tooltip,N=e.hideOnClick,C=void 0===N||N,A=e.role,M=e["aria-label"],R=e["aria-checked"],b=e["aria-roledescription"],P=f(i.default,{x:0,y:0,width:24,height:24,name:g,className:(0,a.default)(r,d.default.icon),foreground:_,background:y});return P=f(o.default,{tag:"div",onClick:h?null:E,onContextMenu:h?null:S,onMouseEnter:T,onMouseLeave:I,className:(0,a.default)(n,(t={},t[d.default.iconWrapper]=!0,t[d.default.clickable]=!h&&null!=E,t[d.default.selected]=c,t)),role:A,"aria-label":M,"aria-checked":R,"aria-roledescription":b},void 0,m?f(s.default,{mask:s.default.Masks.HEADER_BAR_BADGE},void 0,P):P,m?f("span",{className:d.default.iconBadge}):null),null!=O?f(l.default,{text:O,position:l.default.Positions.BOTTOM,hideOnClick:C},void 0,P):P};t.Icon=h,h.Names=i.default.Names;var v=function(e){var t=e.className;return f("div",{className:(0,a.default)(d.default.divider,t)})};t.Divider=v,v.displayName="Divider";var m=function(e){var t,n=e.className,r=e.children,o=e.toolbar,i=e.transparent,l=void 0!==i&&i;return f("div",{className:(0,a.default)(n,(t={},t[d.default.container]=!0,t[d.default.transparent]=l,t))},void 0,f("div",{className:d.default.children},void 0,r),null!=o?f("div",{className:d.default.toolbar},void 0,o):null)};m.displayName="HeaderBar",m.Icon=h,m.Title=p,m.Divider=v;var _=m;t.default=_},5885:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=oe(n(2)),i=ae(n(17)),l=ae(n(163)),u=ae(n(3)),s=n(59),d=ae(n(311)),c=ae(n(73)),f=ae(n(6342)),p=n(461),h=ae(n(233)),v=oe(n(6332)),m=ae(n(20)),_=ae(n(5991)),y=ae(n(159)),g=ae(n(101)),E=ae(n(309)),S=ae(n(87)),T=ae(n(50)),I=ae(n(160)),O=ae(n(194)),N=ae(n(306)),C=ae(n(42)),A=ae(n(14)),M=ae(n(132)),R=ae(n(436)),b=ae(n(305)),P=ae(n(112)),L=ae(n(231)),D=n(5860),w=ae(n(158)),U=ae(n(302)),G=ae(n(188)),k=ae(n(5858)),F=ae(n(5856)),j=ae(n(128)),B=ae(n(799)),H=ae(n(426)),x=n(796),V=ae(n(18)),Y=ae(n(5889)),K=n(5869),W=oe(n(196)),z=ae(n(5884)),$=ae(n(869)),q=ae(n(5893)),X=ae(n(5992)),J=n(0),Q=ae(n(10)),Z=ae(n(312)),ee=ae(n(5235)),te=ae(n(5247)),ne=ae(n(862)),re=ae(n(5272));function ae(e){return e&&e.__esModule?e:{default:e}}function oe(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function le(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var se=W.default.getMaxAgeOptions,de=W.default.getMaxUsesOptions,ce=W.default.INVITE_OPTIONS_FOREVER,fe=W.default.INVITE_OPTIONS_1_DAY,pe=W.default.INVITE_OPTIONS_12_HOURS,he=W.default.INVITE_OPTIONS_6_HOURS,ve=W.default.INVITE_OPTIONS_1_HOUR,me=W.default.INVITE_OPTIONS_30_MINUTES,_e=W.default.INVITE_OPTIONS_UNLIMITED,ye=25,ge={MINUTES:"minutes",HOURS:"hours",DAYS:"days",NEVER:"never"},Ee=((r={})[me.value]={value:30,type:ge.MINUTES},r[ve.value]={value:1,type:ge.HOURS},r[he.value]={value:6,type:ge.HOURS},r[pe.value]={value:12,type:ge.HOURS},r[fe.value]={value:1,type:ge.DAYS},r[ce.value]={value:0,type:ge.NEVER},r),Se=(0,l.default)({GROUP_DM:null,DM:null,FRIEND:null});function Te(e,t){var n=new Set,r=[],a={numFriends:0,numDms:0,numGroupDms:0};return""===e?(R.default.getPrivateChannelIds().forEach(function(e){var o=m.default.getChannel(e);if(null!=o){if(o.type===J.ChannelTypes.GROUP_DM)return r.push({type:Se.GROUP_DM,item:o}),void a.numGroupDms++;if(null!=E.default.lastMessageId(o.id)){var i=o.getRecipientId();if(null!=i&&!t.has(i)){var l=A.default.getUser(i);null!=l&&(n.add(l.id),r.push({type:Se.DM,item:l}),a.numDms++)}}}}),S.default.getFriendIDs().forEach(function(e){if(!t.has(e)&&!n.has(e)){var o=A.default.getUser(e);null!=o&&(r.push({type:Se.FRIEND,item:o}),a.numFriends++)}})):(Y.default.queryDMUsers(e,50,!1).forEach(function(e){var o=e.user;if(!t.has(o.id)){var i=m.default.getDMFromUserId(o.id);if(null!=i)null!=E.default.lastMessageId(i)&&(n.add(o.id),r.push({type:Se.DM,item:o}),a.numDms++)}}),Y.default.queryGroupDMs(e,50,!1).forEach(function(e){var t=e.channel;r.push({type:Se.GROUP_DM,item:t}),a.numGroupDms++}),Y.default.queryFriends(e,500,!1).forEach(function(e){var o=e.user;t.has(o.id)||n.has(o.id)||(r.push({type:Se.FRIEND,item:o}),a.numFriends++)})),{rows:r,counts:a}}var Ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={sending:!1,invited:!1,hovered:!1},t.handleMouseEnter=function(){t.setState({hovered:!0})},t.handleMouseLeave=function(){t.setState({hovered:!1})},t.handleClickInvite=function(){var e=t.props,n=e.user,r=e.channel,a=e.location,o=e.code;t.setState({sending:!0}),f.default.enqueue({code:o,user:n,channel:r,location:a},function(e){t.setState({sending:!1,invited:e})})},t}return ue(t,e),t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.channel,a=this.state,o=a.sending,i=a.invited,l=a.hovered;return e=i?le(P.default,{look:P.default.Looks.LINK,size:P.default.Sizes.SMALL,disabled:!0,color:P.default.Colors.GREY},void 0,Q.default.Messages.INVITE_FRIEND_MODAL_SENT):le(P.default,{color:P.default.Colors.GREEN,look:l?P.default.Looks.FILLED:P.default.Looks.OUTLINED,className:re.default.inviteRowButton,size:P.default.Sizes.SMALL,submitting:o,onClick:this.handleClickInvite},void 0,Q.default.Messages.INVITE_FRIEND_MODAL_INVITE),le("div",{className:re.default.inviteRow,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,le("div",{className:re.default.inviteRowInfo},void 0,le(z.default,{channel:r,user:n,size:"small",outerClassName:re.default.inviteRowAvatar}),le("div",{className:re.default.inviteRowName},void 0,null!=n?n.toString():null,null!=r?r.toString():null)),e)},t}(o.Component);Ie.displayName="InviteRow";var Oe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focused:!1,copied:!1},t._unsetCopiedState=new s.DelayedCall(1e3,function(){return t.setState({copied:!1})}),t.handleCopy=function(){var e=t.props,n=e.value,r=e.onCopy;t.setState({copied:!0}),t._unsetCopiedState.delay(),r(n)},t}ue(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._unsetCopiedState.cancel()},n.render=function(){var e,t=this,n=this.props,r=n.value,a=n.autoFocus,o=n.hideValue,l=this.state,u=l.focused,s=l.copied;return le("div",{className:(0,i.default)(ne.default.input,Z.default.flexJustifyBetween,Z.default.flexCenter,(e={},e[ne.default.success]=s,e[ne.default.focused]=u,e))},void 0,le(B.default,{className:re.default.copyInput,name:"invite",value:o?Q.default.Messages.INSTANT_INVITE_HIDDEN:r,editable:!1,inputClassName:re.default.noBorder,autoFocus:a,onFocus:function(){return a?t.setState({focused:!0}):null},onBlur:function(){return a?t.setState({focused:!1}):null},spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),K.SUPPORTS_COPY?le(P.default,{size:P.default.Sizes.SMALL,color:s?P.default.Colors.GREEN:P.default.Colors.BRAND,className:re.default.copyButton,onClick:this.handleCopy},void 0,s?Q.default.Messages.INVITE_COPIED:Q.default.Messages.COPY):null)},t}(o.PureComponent);Oe.displayName="InviteCopyInput";var Ne=u.default.connectStores([N.default],function(){return{hideValue:N.default.hideInstantInvites}})(Oe),Ce=le(X.default,{}),Ae=function(e){function t(t){var n;(n=e.call(this,t)||this)._scroller=o.createRef(),n.handleGenerateNewLink=function(){var e=n.props,t=e.channel,r=e.source,a=null!=t?t.id:T.default.getChannelId();null!=a&&d.default.createInvite(a,{max_age:n.state.maxAge,max_uses:n.state.maxUses,temporary:n.state.temporary},r),n.state.maxAge===ce.value||n.state.savedMaxAge===ce.value?n.setState({settingsOpen:!1}):n.setState({settingsOpen:!1,savedMaxAge:ce.value})},n.handleCopy=function(e){var t=n.props,r=t.channel,a=t.source,o=t.code;(0,K.copy)(e);var i,l=null!=r?r.id:T.default.getChannelId();if(null!=r)i=r.type;else{var u=m.default.getChannel(l);null!=u&&(i=u.type)}V.default.track(J.AnalyticEvents.COPY_INSTANT_INVITE,{server:I.default.getGuildId(),channel:l,channel_type:i,location:a,code:o})},n.openSettings=function(){n.setState({settingsOpen:!0})},n.maxAgeString=function(){var e=n.state,t=e.maxAge,r=e.maxUses,a=parseInt(r,10),o=0===a,i=Ee[t].value;switch(Ee[t].type){case ge.MINUTES:return o?Q.default.Messages.INVITE_EXPIRES_MINUTES:Q.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:a});case ge.HOURS:return o?Q.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:i}):Q.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:i,numUses:a});case ge.DAYS:return o?Q.default.Messages.INVITE_EXPIRES_DAYS:Q.default.Messages.INVITE_EXPIRES_DAYS_OR_USES.format({numUses:a});case ge.NEVER:return o?Q.default.Messages.INVITE_EXPIRES_NEVER:Q.default.Messages.INVITE_EXPIRES_USES.format({numUses:a});default:return""}},n.handleSelectMaxAge=function(e){n.setState({maxAge:parseInt(e.value,10),savedMaxAge:n.state.maxAge})},n.handleSelectMaxUses=function(e){n.setState({maxUses:parseInt(e.value,10)})},n.handleToggleTemporary=function(e){n.setState({temporary:e.currentTarget.checked})},n.handleQueryChange=function(e){var t=n._scroller.current;null!=t&&t.scrollTo(0);var r=Te(e,n.omitUserIds).rows;n.setState({query:e,rows:r})},n.handleClearSearch=function(){n.handleQueryChange("")},n.handleToggleMaxAge=function(){n.setState({maxAge:n.state.savedMaxAge,savedMaxAge:n.state.maxAge},n.handleGenerateNewLink)},n.handleDone=function(){var e=n.props.onDone;n.state.settingsOpen?n.setState({settingsOpen:!1}):c.default.pop(),e&&e()};var r=t.maxAge,a=t.maxUses,i=t.temporary,l=t.channel,u=t.streamUserId,s=null!=l?l.id:T.default.getChannelId(),f=null!=l?l.getGuildId():null;n.omitUserIds=new Set,null!=u?M.default.getVoiceStatesForChannel(f,s).forEach(function(e){var t=e.userId;n.omitUserIds.add(t)}):null!=f&&v.default.getProps(f,s).rows.forEach(function(e){e.type===v.MemberListRowTypes.MEMBER&&n.omitUserIds.add(e.userId)});var p=Te("",n.omitUserIds),h=p.rows,_=p.counts;return n.state={query:"",rows:h,settingsOpen:!1,maxAge:null!=r?r:fe.value,savedMaxAge:r===ce.value?fe.value:ce.value,maxUses:a||_e.value,temporary:i||!1,showFriends:h.length>=ye,initialCounts:_},n}ue(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.channel,n=e.code,r=e.source,a=e.canCreateInvites,o=e.analyticsLocation,i=e.streamUserId,l=e.targetUserType,u=e.targetUserId,s=this.state,c=s.rows,f=s.maxAge,v=s.maxUses,m=s.temporary,_=s.showFriends,y=s.initialCounts;if(a){var E=null!=t?t.id:T.default.getChannelId();if(null==E)return;d.default.createInvite(E,{validate:n||null,max_age:f,max_uses:v,target_user_id:u,target_user_type:l,temporary:m},r)}var S=this.props.guild;if(_&&V.default.track(J.AnalyticEvents.INVITE_SUGGESTION_OPENED,{location:r,num_suggestions:c.length,num_friends:y.numFriends,num_dms:y.numDms,num_group_dms:y.numGroupDms,guild_id:S.id}),null!=i){var I=h.default.getActiveStream(),N=(0,p.getStreamerApplication)(I,g.default,O.default,A.default);V.default.track(J.AnalyticEvents.OPEN_MODAL,{Type:"Send Stream Invite",Source:r,location:o,other_user_id:i,application_id:null!=N?N.id:null,application_name:null!=N?N.name:null,game_id:null!=N?N.id:null})}else V.default.track(J.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite Modal",Source:r})},n.getInviteCode=function(){var e=this.props,t=e.code,n=e.vanityURLCode;return t||n},n.renderCopyInput=function(){var e=this.props.canCreateInvites,t=this.state.showFriends,n=(0,W.getInviteURL)(this.getInviteCode()||"");return le(o.Fragment,{},void 0,le(Ne,{value:n,autoFocus:t,onCopy:this.handleCopy}),e?le(j.default,{className:(0,i.default)(ee.default.marginTop8,re.default.footerText)},void 0,this.maxAgeString()," ",t?le(b.default,{onClick:this.openSettings},void 0,Q.default.Messages.INVITE_EDIT_LINK):null):null)},n.renderHeader=function(){var e=this.props,t=e.guild,n=e.streamUserId,r=this.state,a=r.showFriends,o=r.settingsOpen,i=r.query,l=null,u=null!=n?Q.default.Messages.INVITE_STREAM_HEADER:Q.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:t.toString()});return l=o?le(x.FormTitle,{tag:x.FormTitle.Tags.H2,className:ee.default.marginReset},void 0,Q.default.Messages.INVITE_SETTINGS_TITLE):a?le("div",{className:re.default.header},void 0,le(x.FormTitle,{tag:x.FormTitle.Tags.H2,className:ee.default.marginBottom8},void 0,u),le(q.default,{query:i,className:ee.default.marginTop4,onQueryChange:this.handleQueryChange,placeholder:Q.default.Messages.INVITE_SEARCH_FOR_FRIENDS,autoFocus:!0,onClear:this.handleClearSearch})):le(x.FormTitle,{tag:x.FormTitle.Tags.H2,className:ee.default.marginReset},void 0,u),le(G.default.Header,{separator:a&&!o},void 0,le(G.default.CloseButton,{className:re.default.closeButton,onClick:this.handleDone}),null!=n?Ce:null,l)},n.renderSettingsBody=function(){var e=this.state,t=e.maxAge,n=e.maxUses,r=e.temporary,a=se.find(function(e){return e.value===t}),o=de.find(function(e){return e.value===n});return le(G.default.Content,{outerClassName:re.default.settingsContent,className:re.default.noScroll},void 0,le("form",{onSubmit:this.handleGenerateNewLink},void 0,le(x.FormItem,{title:Q.default.Messages.EXPIRE_AFTER,className:ee.default.marginTop20},void 0,le(k.default,{value:a,clearable:!1,searchable:!1,options:se,onChange:this.handleSelectMaxAge,className:re.default.select})),le(x.FormItem,{title:Q.default.Messages.MAX_NUMBER_OF_USES,className:(0,i.default)(ee.default.marginTop20,ee.default.marginBottom4)},void 0,le(k.default,{value:o,clearable:!1,searchable:!1,options:de,onChange:this.handleSelectMaxUses,className:re.default.select})),le(x.FormItem,{className:ee.default.marginTop20},void 0,le(F.default,{value:r,clearable:!1,searchable:!1,options:de,onChange:this.handleToggleTemporary,note:Q.default.Messages.TEMPORARY_MEMBERSHIP_EXPLANATION,hideBorder:!0},void 0,le(j.default,{},void 0,Q.default.Messages.GRANT_TEMPORARY_MEMBERSHIP)))))},n.renderFriendsBody=function(){var e,t=this.props.analyticsLocation,n=this.state.rows,r=this.getInviteCode();if(0===n.length?e=Q.default.Messages.INVITE_FRIEND_MODAL_NO_RESULTS:null==r&&(e=Q.default.Messages.INVITE_FRIEND_MODAL_LOADING),null!=e)return le(G.default.Content,{className:ee.default.marginBottom20},void 0,le(D.EmptyStateText,{},void 0,e));var a=n.map(function(e){var n=e.type+"-"+e.item.id;switch(e.type){case Se.GROUP_DM:return le(Ie,{channel:e.item,code:r,location:t},n);case Se.DM:case Se.FRIEND:return le(Ie,{user:e.item,code:r,location:t},n);default:return null}});return le(G.default.LazyContent,{className:re.default.scroller,elementHeight:44,scrollerRef:this._scroller},void 0,a)},n.renderBody=function(){var e=this.props,t=e.guild,n=e.streamUserId,r=this.state,a=r.settingsOpen,o=r.showFriends;if(a)return this.renderSettingsBody();if(o)return this.renderFriendsBody();var i=A.default.getCurrentUser(),l=t.isOwner(i)?Q.default.Messages.INVITE_SHARE_LINK_OWN_SERVER:Q.default.Messages.SHARE_INVITE_LINK_FOR_ACCESS;return null!=n&&(l=Q.default.Messages.INVITE_SHARE_LINK_TO_STREAM),le(G.default.Content,{className:re.default.noScroll},void 0,le(w.default,{direction:w.default.Direction.VERTICAL,className:ee.default.marginBottom20},void 0,le(j.default,{className:re.default.subText},void 0,l),this.renderCopyInput()))},n.renderFooter=function(){var e,t=this.props,n=t.canCreateInvites,r=t.streamUserId,a=this.state,l=a.showFriends,u=a.settingsOpen,s=a.maxAge,d=C.default.theme,c=null;if(u)c=le(o.Fragment,{},void 0,le(P.default,{onClick:this.handleGenerateNewLink},void 0,Q.default.Messages.GENERATE_A_NEW_LINK),le(P.default,{look:P.default.Looks.LINK,color:d===J.ThemeTypes.LIGHT?P.default.Colors.PRIMARY:P.default.Colors.WHITE,onClick:this.handleDone},void 0,Q.default.Messages.CANCEL));else if(l){var f=null!=r?Q.default.Messages.INVITE_STREAM_FOOTER_LINK_HEADER:Q.default.Messages.INVITE_FOOTER_LINK_HEADER;c=le(w.default,{direction:w.default.Direction.VERTICAL,className:re.default.content},void 0,le(x.FormTitle,{tag:x.FormTitle.Tags.H5,className:ee.default.marginBottom8},void 0,f),this.renderCopyInput())}else n&&(c=le(w.default,{justify:w.default.Justify.BETWEEN,className:ee.default.marginTop20},void 0,le($.default,{checked:s===ce.value,onChange:this.handleToggleMaxAge},void 0,le(j.default,{className:re.default.checkBoxLabel},void 0,Q.default.Messages.SET_INVITE_LINK_NEVER_EXPIRE)),le(H.default,{text:Q.default.Messages.LINK_SETTINGS},void 0,le(L.default,{onClick:this.openSettings,className:te.default.cursorPointer},void 0,le(U.default,{name:U.default.Names.GEAR,width:18,height:18,color:J.Colors.PRIMARY_DARK_400})))));return null!=c?le(G.default.Footer,{className:u?re.default.settingsFooter:(0,i.default)((e={},e[re.default.noPadding]=!l,e[re.default.footer]=l,e))},void 0,c):null},n.render=function(){return le("div",{className:this.state.showFriends?re.default.wrapper:void 0},void 0,le(G.default,{className:re.default.modal},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(o.PureComponent);Ae.displayName="InstantInviteModal",Ae.defaultProps={analyticsLocation:J.AnalyticsLocations.GUILD_CREATE_INVITE_SUGGESTION};var Me=u.default.connectStores([_.default,m.default,y.default],function(e){var t=e.channel,n=e.guild,r=e.streamUserId,a=null!=t?t.id:T.default.getChannelId(),o=null!=t?t:m.default.getChannel(a),i=null!=o&&y.default.can(J.Permissions.CREATE_INSTANT_INVITE,o),l={vanityURLCode:i?null:n.vanityURLCode,canCreateInvites:i},u=null==r?null:J.InviteTargetUserTypes.STREAM,s=r,d=null!=a?_.default.getInvite(a,u,s):null,c={targetUserType:u,targetUserId:s};return null==d?ie({},l,c):ie({},l,c,{code:d.code,maxAge:d.maxAge,maxUses:d.maxUses,temporary:d.temporary})},{forwardRef:!0})(Ae);t.default=Me},5886:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=d(n(6030)),o=d(n(6162)),i=d(n(32)),l=n(5968),u=d(n(5951)),s=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}var c=!1,f=(0,o.default)(new a.default(window)),p=/Darwin|OS X/.test(i.default.os.family||""),h=p?"cmd":"ctrl",v=p?"opt":"alt",m=p?"return":"enter",_=[].concat(l.JUMP_TO_GUILD.binds,["mod+shift+[","mod+shift+]","ctrl+shift+tab","ctrl+tab","mod+n","mod+t","mod+shift+t","mod+plus","mod+minus","mod+0"]).map(function(e){return e.replace("mod",h)}),y=[];s.default.isDesktop()&&new a.default(document).bind("backspace",function(e){return e.preventDefault()});function g(e){var t=[];for(var n in e)t=t.concat(e[n].binds);return t.map(function(e){return e.replace("mod",h)})}function E(e){var t=function(t){var n=e[t],r=u.default.getKeybindList();s.default.embedded||(r=r.concat(_));var a=n.binds.filter(function(e){return e=e.replace("mod",h),r.indexOf(e)<0});if(0===a.length)return"continue";var o,i,l,d=n.global?f.bindGlobal:f.bind;if(n.action&&d.call(f,a,n.action),n.keyup&&d.call(f,a,n.keyup,"keyup"),n.keydown){var c=a.indexOf("any-character");-1!==c&&(o="keydown",i=n.keydown,l=function(e){return i(e,e.key)},document.addEventListener(o,l),y.push(function(){return document.removeEventListener(o,l)}),a.splice(c,1)),a.length>0&&d.call(f,a,n.keydown,"keydown")}n.keypress&&d.call(f,a,n.keypress,"keypress")};for(var n in e)t(n)}var S={combokeys:f,modKey:h,altKey:v,returnKey:m,checkDupes:function(e){for(var t={},n=[],r=g(e),a=0,o=r.length;a<o;a++)void 0===t[r[a]]?t[r[a]]=0:t[r[a]]+=1;for(var i in t)t[i]&&n.push(i);n.length&&console.warn("Duplicate keyboard shortcuts defined:",n)},setLayout:function(e){r=e},enable:function(){c||(c=!0,this.checkDupes(r),E(r))},enableTemp:function(e){E(e),c=!0},disableTemp:function(){this.disable(),this.enable()},disable:function(){c&&(c=!1,y.forEach(function(e){return e()}),y=[],f.reset())},validateKeybind:function(e){c&&this.hasBind(e)&&f.unbind(e)},hasBind:function(e){var t=g(r);return e=(e=e.replace("meta","cmd")).replace(/right|left/i,"").trim(),!(t.indexOf(e)<0)}};t.default=S},5888:function(e,t,n){"use strict";t.__esModule=!0,t.transitionToChannel=function(e,t){if(i.default.hasModalOpen())return;o.default.closeAll(),a.default.channelListScrollTo(e,t),r.default.selectChannel(e,t)},t.transitionToPage=function(e){if(i.default.hasModalOpen())return;o.default.closeAll(),l.default.replaceWith(e)};var r=u(n(5864)),a=u(n(5876)),o=u(n(802)),i=u(n(438)),l=u(n(45));function u(e){return e&&e.__esModule?e:{default:e}}},5889:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=O(n(5887)),a=O(n(6)),o=n(6025),i=n(129),l=O(n(20)),u=O(n(241)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(99)),d=O(n(74)),c=O(n(23)),f=O(n(236)),p=O(n(101)),h=O(n(87)),v=O(n(50)),m=O(n(160)),_=O(n(14)),y=O(n(189)),g=O(n(436)),E=O(n(5931)),S=O(n(102)),T=O(n(198)),I=n(0);function O(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C,A=10,M=5,R=1,b=50,P=function(){return!0},L=/(\t|\s)/,D=(C=n(6343).default).MENTION_EVERYONE,w=C.MENTION_HERE,U=C.LAUNCHABLE_APPLICATIONS;function G(e,t,n,a,o){return void 0===o&&(o=!0),t.test(e)?A:n.test(e)?M:o&&(0,r.default)(a,e)?R:0}function k(e,t,n,a){for(var i=_.default.getUsers(),l=m.default.getGuildId(),u=(e=e.toLocaleLowerCase()).length,s=[],c=[],f=t.length,p=0,h=0;p<f;){var v=t[p],y=void 0,g=void 0;if(v.userId?(y=v.nick,g=i[v.userId]):(g=v,y=d.default.getNick(l,g.id)),!a||a(g)){var E=g.usernameLowerCase,S=null!=y?y.toLocaleLowerCase():null;E.substr(0,u)===e||y&&S.substr(0,u)===e?s.push({comparator:S||E,score:A,nick:y,user:g}):h<b&&((0,r.default)(e,E)||y&&(0,r.default)(e,S))&&(c.push({comparator:S||E,score:R,nick:y,user:g}),h+=1)}p+=1}return s.sort(o.sortByMatchScore),s.length<n&&(c.sort(o.sortByMatchScore),s=s.concat(c.slice(0,Math.max(0,n-s.length)))),s.length>n&&(s.length=n),s}function F(e,t){var n=l.default.getChannel(e);return(0,a.default)(f.default.getMessages(e).toArray()).reverse().map(function(e){return e.author}).reject(function(e){return e.isNonUserBot()}).uniqBy(function(e){return e.id}).map(function(e){var t=d.default.getMember(n.getGuildId(),e.id)||{};return{nick:t.nick||null,score:0,comparator:t.nick||e.username,user:e}}).take(t).value()}var j={queryFriends:function(e,t,n,r){return void 0===t&&(t=10),void 0===n&&(n=!0),k(e,h.default.getFriendIDs().map(function(e){return _.default.getUser(e)}),t,r)},queryDMUsers:function(e,t,n,r){return void 0===t&&(t=10),void 0===n&&(n=!0),k(e,l.default.getDMUserIds().map(function(e){return _.default.getUser(e)}),t,r)},queryChannelUsers:function(e,t,n,r){void 0===n&&(n=10),void 0===r&&(r=!0);var a,o=l.default.getChannel(e);if(null==o)return[];if(o.isPrivate()){a=o.recipients.map(function(e){return{userId:e,nick:o.nicks[e]}});var i=_.default.getCurrentUser();a.push({userId:i.id,nick:o.nicks[i.id]})}else if(0===t.length){var u=F(o.id,n);if(null!=u&&u.length>0)return u;a=d.default.getMembers(o.guild_id)}else a=d.default.getMembers(o.guild_id),r&&E.default.requestMembers(o.guild_id,t,n);return k(t,a,n,function(e){return o.isPrivate()||S.default.can(I.Permissions.VIEW_CHANNEL,e,o)})},queryGuildUsers:function(e,t,n,r,a){if(void 0===n&&(n=10),void 0===r&&(r=!0),null==c.default.getGuild(e))return[];if(0===t.length)return F(v.default.getChannelId(e),n);var o=d.default.getMembers(e);return r&&t.length>0&&E.default.requestMembers(e,t,n),k(t,o,n,a)},queryUsers:function(e,t,n,r,o){return void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=!0),r&&e.length>0&&E.default.requestMembers(null,e,t),k(e,(0,a.default)(_.default.getUsers()).values().value(),t,o)},queryChannels:function(e,t,n,r,u,d){void 0===n&&(n=10),void 0===r&&(r=!0),void 0===u&&(u=P),void 0===d&&(d=s.GUILD_SELECTABLE_CHANNELS_KEY),e=e.toLocaleLowerCase();var f=new RegExp("^"+T.default.escape(e),"i"),p=new RegExp(T.default.escape(e),"i"),h=_.default.getCurrentUser();return(t?(0,a.default)(s.default.getChannels(t)[d]).map(function(e){return e.channel}):(0,a.default)(l.default.getChannels()).values()).map(function(n){if(d!==n.type&&(d!==s.GUILD_SELECTABLE_CHANNELS_KEY||!(0,i.isGuildSelectableChannelType)(n.type))||(0,i.isGuildSelectableChannelType)(n.type)&&!S.default.can(I.Permissions.VIEW_CHANNEL,h,n)||d===I.ChannelTypes.GUILD_VOICE&&!S.default.can(I.Permissions.VIEW_CHANNEL|I.Permissions.CONNECT,h,n)||!u(n))return null;var a=c.default.getGuild(n.guild_id),o=l.default.getChannel(n.parent_id),v=G((t?n.toString()+" "+(null!=o?o.toString():""):n.toString()+" "+(null!=o?o.toString():"")+" "+a.toString()).toLocaleLowerCase(),f,p,e,r);return v>0?{channel:n,score:v,comparator:n.toString()}:null}).filter(Boolean).sortBy(function(e){return e.channel.name}).sort(o.sortByMatchScore).take(n).value()},queryGuilds:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=P),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),l=new RegExp(T.default.escape(e),"i");return(0,a.default)(c.default.getGuilds()).values().map(function(t){if(r(t)){var a=G(t.name.toLocaleLowerCase(),i,l,e,n);if(a>0)return{guild:t,score:a,comparator:t.toString()}}return null}).filter(Boolean).sortBy(function(e){return e.guild.name}).sort(o.sortByMatchScore).take(t).value()},queryGroupDMs:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=P),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),u=new RegExp(T.default.escape(e),"i"),s=g.default.getPrivateChannelIds(),d=l.default.getChannels();return(0,a.default)(s).map(function(e){return d[e]}).map(function(t){if(t.type!==I.ChannelTypes.GROUP_DM||!r(t))return null;var a=G(t.toString().toLocaleLowerCase(),i,u,e,n);return a>0?{channel:t,score:a,comparator:t.toString()}:null}).filter(Boolean).sort(o.sortByMatchScore).value()},queryApplications:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=P),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),l=new RegExp(T.default.escape(e),"i"),u=U();return(0,a.default)(u).map(function(t){var a=t.application;if(r(a)){var o=a.name.toLocaleLowerCase(),u=G(o,i,l,e,n);if(u>0)return{application:a,score:u,comparator:o}}return null}).filter(Boolean).sort(o.sortByMatchScore).take(t).value()},querySKUs:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=P),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),l=new RegExp(T.default.escape(e),"i"),u=y.default.getSKUs();return(0,a.default)(u).values().map(function(t){if(t.type===I.SKUTypes.GAME&&r(t)){var a=t.name.toLocaleLowerCase(),o=G(a,i,l,e,n);if(o>0)return{sku:t,score:o,comparator:a}}return null}).filter(Boolean).sort(o.sortByMatchScore).take(t).value()},getRecentlyTalked:F,queryMentionResults:function(e,t,n){var o=this.queryChannelUsers(t.id,e).map(function(e){return N({},e,{status:p.default.getStatus(e.user.id)})}),i=o.length,l=[];if(i<I.MAX_AUTOCOMPLETE_RESULTS){var u=c.default.getGuild(t.getGuildId());null!=u&&((0,a.default)(u.roles).filter(function(t){var n=t.mentionable,a=t.name;return n&&(0,r.default)(e,a.toLowerCase())}).take(I.MAX_AUTOCOMPLETE_RESULTS-i).forEach(function(e){return l.push(e)}),i+=l.length)}var s=[];return t.isDM()||t.isGroupDM()||!n||(i<I.MAX_AUTOCOMPLETE_RESULTS&&(0,r.default)(e,D().test)&&(s.push(D()),i+=1),i<I.MAX_AUTOCOMPLETE_RESULTS&&(0,r.default)(e,w().test)&&s.push(w())),{users:o,globals:s,roles:l}},queryChannelResults:function(e,t){return{channels:this.queryChannels(e,t.getGuildId()).map(function(e){return e.channel})}},queryEmojiResults:function(e,t){return{emojis:u.default.search(t,e,I.MAX_AUTOCOMPLETE_RESULTS)}},matchSentinel:function(e,t,n){return!L.test(t)&&e===n}};t.default=j},5890:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(6)),a=v(n(3)),o=v(n(24)),i=v(n(1)),l=v(n(6464)),u=n(6465),s=v(n(6466)),d=n(5898),c=v(n(20)),f=v(n(23)),p=v(n(87)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m=.05,_={},y=!1;function g(e){return null==_[e]&&(_[e]={searchId:e,searchType:E(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:0,query:null,hasError:!1,searchFetcher:null,searchResults:null,results:null,totalResults:0,documentsIndexed:0,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),_[e]}function E(e){return f.default.getGuild(e)?h.SearchTypes.GUILD:c.default.getChannel(e)?h.SearchTypes.CHANNEL:null}function S(e,t,n){if(void 0===n&&(n=null),null==e)return n;var r=_[e];return null==r?n:t(r)}var T="SearchStore",I=!1,O={},N=null;function C(e){var t=e.searchId,n=_[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete _[t]}function A(){(0,d.refreshSearchTokens)()}var M=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,c.default);var e,t=o.default.get(T);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),O=e),I=!!o.default.get("tokenized")||!1},a.isOpen=function(){return y},a.getCurrentSearchId=function(){return N},a.isActive=function(e){return void 0===e&&(e=N),null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},a.isTokenized=function(){return I},a.getSearchType=function(e){return S(e||N,function(e){return e.searchType})},a.getResults=function(e){return S(e,function(e){return e.searchResults})},a.hasResults=function(e){return null!=S(e,function(e){return e.searchResults})},a.isIndexing=function(e){return S(e,function(e){return e.isIndexing})||!1},a.isHistoricalIndexing=function(e){return S(e,function(e){return e.isHistoricalIndexing})||!1},a.isSearching=function(e){return S(e,function(e){return e.isSearching})||!1},a.getAnalyticsId=function(e){return S(e,function(e){return e.analyticsId})},a.getResultsBlocked=function(e){return S(e,function(e){return e.resultsBlocked})},a.getDocumentsIndexedCount=function(e){return S(e,function(e){return e.documentsIndexed})},a.getSearchFetcher=function(e){return S(e,function(e){return e.searchFetcher})},a.getTotalResults=function(e){return S(e,function(e){return e.totalResults})||0},a.getEditorState=function(e){return S(e,function(e){return e.editorState})},a.getHistory=function(e){return O[e]},a.getOffset=function(e){return S(e,function(e){return e.offset})||0},a.getQuery=function(e){return S(e,function(e){return e.query})},a.hasError=function(e){return S(e,function(e){return e.hasError})||!1},a.shouldShowBlockedResults=function(e){return S(e,function(e){return e.showBlockedResults},!1)||!1},a.shouldShowNoResultsAlt=function(e){return S(e,function(e){return e.showNoResultsAlt},!1)||!1},a.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},r}(a.default.Store))(i.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,a=e.query,u=g(n);u.searchFetcher&&(u.searchFetcher.cancel(),u.searchFetcher=null);var s=new l.default(n,u.searchType,a);u.searchFetcher=s,u.isSearching=!0,u.searchResults=null,u.analyticsId=null,u.query=r.default.omit(a,"type"),u.offset=a.offset?a.offset:0,u.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=O[e]=O[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),o.default.set(T,{history:O})}}(n,t),s.fetch(function(e){i.default.dispatch({type:h.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){i.default.dispatch({type:h.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){i.default.dispatch({type:h.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=g(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=g(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=null!=e.documentsIndexed?e.documentsIndexed:0,t.showNoResultsAlt=Math.random()<m;var n=t.query;if(n){var a=(0,u.createASTHighlighter)(n.content||""),o=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return s.default.create(e,a)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&o++,!t||e.hit})}).value(),t.resultsBlocked=o}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:C,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&g(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;g(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;g(t).showBlockedResults=n},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId,r=t||n;if(r===N)return!1;r&&!_[r]&&g(r),N=r},CHANNEL_TOGGLE_SECTION:function(e){return null!=N&&C({searchId:N})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(o.default.remove(T),O={}):(delete O[t],o.default.set(T,{history:O}))},LOGOUT:function(e){return o.default.remove(T),void(O={})},CONNECTION_OPEN:function(e){Object.keys(_).forEach(function(e){null!=_[e]&&(_[e].searchType=E(e))})},SEARCH_MODAL_OPEN:function(e){y=!0},SEARCH_MODAL_CLOSE:function(e){y=!1},USER_SETTINGS_UPDATE:function(e){return A()},I18N_LOAD_SUCCESS:function(e){return A()}});t.default=M},5891:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(5880)),i=n(819),l=f(n(6477)),u=f(n(6488)),s=f(n(6489)),d=f(n(6495)),c=f(n(5252));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=p(d.default,{}),v=p(s.default,{}),m=p(u.default,{}),_=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.renderSearch=function(){var e=this.props,t=e.guildId,n=e.channelId;return null!=n?p(l.default,{className:c.default.search},t||n):null},u.renderToolbar=function(){var e=this.props,t=e.isGuest,n=e.renderToolbar,r=null!=n?n():null;return i.isMobile?null:p(a.Fragment,{},void 0,r,this.renderSearch(),h,t?null:v,m)},u.renderOverlayToolbar=function(){var e=this.props.renderToolbar;return null!=e?e():null},u.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return p(o.default,{className:n},void 0,t)},u.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.className,r=e.transparent;return p(o.default,{className:n,toolbar:__OVERLAY__?this.renderOverlayToolbar():this.renderToolbar(),transparent:r},void 0,t)},u.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},r}(a.Component);_.displayName="HeaderBarContainer",_.Title=o.default.Title,_.Icon=o.default.Icon,_.Divider=o.default.Divider,_.defaultProps={isAuthenticated:!0,transparent:!1};var y=_;t.default=y},5892:function(e,t,n){"use strict";t.__esModule=!0,t.getCrumbLabels=function(e,t){var n;void 0===t&&(t={});return o((n={},n[i.PAYMENT_TYPE]=function(){return r.default.Messages.BILLING_STEP_PAYMENT_TYPE},n[i.PAYMENT_REQUEST_INFO]=function(){return r.default.Messages.BILLING_STEP_PAYMENT_INFO},n[i.PAYPAL]=function(){return r.default.Messages.BILLING_STEP_PAYPAL},n[i.PAYPAL_ADDRESS]=function(){return r.default.Messages.BILLING_STEP_ADDRESS},n[i.CREDIT_CARD_INFORMATION]=function(){return r.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION},n[i.ADDRESS]=function(){return r.default.Messages.BILLING_STEP_ADDRESS},n[i.REVIEW]=function(){return r.default.Messages.BILLING_STEP_REVIEW},n[i.SELECT_PLAN]=function(){return r.default.Messages.BILLING_STEP_SELECT_PLAN},n[i.CONFIRM]=function(){return""},n),t)[e]()},t.errorToStep=function(e){if(null!=e){if(e.hasCardError())return i.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return i.ADDRESS}return null},t.getStepIndex=function(e,t){return t.findIndex(function(t){return t===e})},t.canGoBack=function(e,t){return e>0||Object.keys(t).length>0},t.Steps=void 0;n(429),a(n(813));var r=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=Object.freeze({SELECT_PLAN:"select_plan",PAYMENT_TYPE:"payment_type",PAYPAL:"paypal",PAYPAL_ADDRESS:"paypal_address",PAYMENT_REQUEST_INFO:"payment_request_info",CREDIT_CARD_INFORMATION:"credit_card_information",ADDRESS:"address",REVIEW:"review",CONFIRM:"confirm"});t.Steps=i},5893:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchBarIcon=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(163)),l=h(n(305)),u=h(n(231)),s=h(n(302)),d=n(113),c=n(0),f=h(n(10)),p=h(n(5271));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=Object.freeze({SMALL:p.default.small,MEDIUM:p.default.medium,LARGE:p.default.large}),_=(0,i.default)({INHERITED:null,DARK:null,LIGHT:null}),y=function(e){var t,n,r,a=e.hasContent,i=e.onClear,l=e.className,d=e.themeMode,c=void 0===d?_.INHERITED:d,f=e.size,h=void 0===f?m.SMALL:f;return v(u.default,{className:(0,o.default)(l,p.default.iconLayout,h,(t={},t[p.default.darkTheme]=c===_.DARK,t[p.default.lightTheme]=c===_.LIGHT,t[p.default.clear]=a,t)),onClick:function(e){e.stopPropagation(),null!=i&&i(e)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},void 0,v("div",{className:p.default.iconContainer},void 0,v(s.default,{name:s.default.Names.SEARCH,className:(0,o.default)((n={},n[p.default.icon]=!0,n[p.default.visible]=!a,n))}),v(s.default,{name:s.default.Names.CLOSE,className:(0,o.default)((r={},r[p.default.icon]=!0,r[p.default.visible]=a,r))})))};t.SearchBarIcon=y,y.displayName="SearchBarIcon";var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.handleKeyDown=function(e){var n=t.props,r=n.onActivate,a=n.onQueryChange,o=t.ref.current;if(null!=o&&null==r)return e.keyCode===c.KeyboardKeys.ESCAPE&&o.value&&o.value.length>0?(o.value="",void(null!=a&&a(""))):void(t.props.gridResults?t.handleKeyDownGrid(e):t.handleKeyDownList(e));e.keyCode!==c.KeyboardKeys.TAB&&null!=r&&r(e)},t.handleChange=function(e){var n=t.props.onQueryChange;null!=n&&n(e.currentTarget.value)},t.handleFocus=function(e){var n=t.props.onFocus;null!=n&&n(e)},t.handleClear=function(){var e=t.props.onClear,n=t.ref.current;null!=e&&e(),null!=n&&n.focus()},t.handleRemoveTag=function(e){var n=t.props.onRemoveTag;n&&n(e)},t.focus=function(){var e=t.ref.current;null!=e&&e.focus()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props.subscribeToFocusEvent;e&&d.ComponentDispatch.subscribe(e,this.focus)},i.componentWillUnmount=function(){var e=this.props.subscribeToFocusEvent;e&&d.ComponentDispatch.unsubscribe(e,this.focus)},i.handleKeyDownGrid=function(e){var t=this.props,n=t.selectedRow,r=t.selectedColumn,a=t.sections,o=t.query,i=t.tags,l=t.onSelectionChange,u=t.onSelect,s=t.onRemoveTag;if(0!==a.length){switch(e.keyCode){case c.KeyboardKeys.BACKSPACE:(null==o||0===o.length)&&null!=i&&i.length>0&&(e.preventDefault(),e.stopPropagation(),s&&s(i.length-1));break;case c.KeyboardKeys.TAB:if(c.EnableAccessibility)break;case c.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),-1===n?(n=0,r=0):((n+=1)>=a.length&&(n=a.length-1),r>=a[n]&&(r=a[n]-1));break;case c.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),(n-=1)<0?(n=0,r=0):r>=a[n]&&(r=a[n]-1);break;case c.KeyboardKeys.ARROW_LEFT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r-=1)<0&&((n-=1)>=0?r=a[n]-1:n<0&&(n=0,r=0));break;case c.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r+=1)>=a[n]&&(r=0,(n+=1)>=a.length&&(r=a[n=a.length-1]-1));break;case c.KeyboardKeys.ENTER:if(e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),-1===r&&(r=0),n>=a.length||r>=a[n])return;return void(null!=u&&u(n,r,e));case c.KeyboardKeys.ESCAPE:return e.preventDefault(),e.stopPropagation(),void(null!=u&&u(null,null,e));default:return}null!=l&&l(n,r)}},i.handleKeyDownList=function(e){var t=this.props,n=t.sections,r=t.selectedSection,a=t.selectedRow,o=t.onSelect,i=t.onSelectionChange,l=t.query,u=t.tags,s=t.onKeyDown,d=this.ref.current;if(null!=s&&s(e),null!=d)switch(e.keyCode){case c.KeyboardKeys.BACKSPACE:(null==l||0===l.length)&&null!=u&&u.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(u.length-1));break;case c.KeyboardKeys.TAB:if(c.EnableAccessibility)break;case c.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),n.length>r&&++a>=n[r]&&(++r>=n.length&&(r=0),a=0),i&&i(r,a);break;case c.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),--a<0&&(--r<0&&(r=n.length-1),a=n[r]-1),i&&i(r,a);break;case c.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation(),n.length>r&&n[r]>a&&o&&o(r,a,e);break;case c.KeyboardKeys.ESCAPE:e.preventDefault(),e.stopPropagation(),o&&o(null,null,e),d.blur()}},i.render=function(){var e,t=this,n=this.props,r=n.autoFocus,i=n.query,u=n.placeholder,d=n.themeMode,c=n.disabled,f=n.onClear,h=n.size,m=n.tags,g=n.onActivate,E=n.className,S=null!=i&&i.length>0,T=[];return null!=m&&m.forEach(function(e,n){return T.push(v(l.default,{className:p.default.tag,onClick:t.handleRemoveTag.bind(t,n)},n,e,v(s.default,{name:s.default.Names.CLOSE,className:p.default.close})))}),v("div",{className:(0,o.default)(E,p.default.container,h,(e={},e[p.default.darkTheme]=d===_.DARK,e[p.default.lightTheme]=d===_.LIGHT,e[p.default.disabled]=c,e))},void 0,v("div",{className:p.default.inner},void 0,T,a.createElement("input",{className:p.default.input,type:"text",ref:this.ref,spellCheck:"false",placeholder:u,value:i,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,disabled:c,autoFocus:r,onMouseDown:g}),f?v(y,{size:h,themeMode:d,hasContent:S,onClear:this.handleClear}):null))},r}(a.Component);g.displayName="SearchBar",g.Sizes=m,g.ThemeModes=_,g.defaultProps={themeMode:_.INHERITED,size:m.SMALL,query:"",sections:[],selectedSection:0,selectedRow:-1,selectedColumn:-1,gridResults:!1,placeholder:f.default.Messages.DM_SEARCH_PLACEHOLDER,disabled:!1,autoFocus:!1};var E=g;t.default=E},5894:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Item=t.Separator=t.Header=t.Types=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=n(239),l=d(n(231)),u=n(0),s=d(n(5274));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p={SIDE:s.default.side,TOP:s.default.top,TOP_PILL:s.default.topPill};t.Types=p;var h=function(e){var t=e.className,n=e.onClick,r=e.children;return f(l.default,{className:(0,o.default)(s.default.header,t),onClick:n},void 0,r)};t.Header=h,h.displayName="Header";var v=function(e){var t=e.style;return f("div",{className:s.default.separator,style:t})};t.Separator=v,v.displayName="Separator";var m={DEFAULT:"Default",HOVER:"Hover",SELECTED:"Selected"};function _(e,t){if(null==e)return null;var n={};return t===m.SELECTED?(n.backgroundColor=e,n.color=u.Colors.WHITE,n):(t===m.HOVER&&(n.backgroundColor=(0,i.hex2rgb)(e,.1)),n.color=e,n)}var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hover:!1,active:!1},t.handleClick=function(e){var n=t.props,r=n.onClick,a=n.id,o=n.onItemSelect;null!=r?r(e):null!=o&&o(a)},t.handleMouseDown=function(){null!=t.props.color&&t.setState({active:!0})},t.handleMouseUp=function(){t.setState({active:!1})},t.handleMouseOver=function(){t.setState({hover:!0})},t.handleMouseOut=function(){t.setState({hover:!1,active:!1})},t}c(t,e);var n=t.prototype;return n.getStyle=function(){var e=this.props,t=e.color,n=e.id,r=e.selectedItem,a=e.itemType,o=this.state,l=o.hover,u=o.active;return null==t?null:a===p.SIDE?null!=n&&r===n||u?_(t,m.SELECTED):l?_(t,m.HOVER):_(t):a===p.TOP?r===n?{borderColor:t,color:t}:l?{borderColor:(0,i.hex2rgb)(t,.1),color:(0,i.hex2rgb)(t,.6)}:{borderColor:"transparent",color:(0,i.hex2rgb)(t,.4)}:null},n.render=function(){var e,t=this.props,n=t.children,r=t.className,a=t.id,i=t.selectedItem,u=t.color,d=this.props["aria-label"];return f(l.default,{className:(0,o.default)(r,(e={},e[s.default.item]=!0,e[s.default.selected]=null==u&&i===a,e[s.default.themed]=null==u,e)),style:this.getStyle(),onMouseEnter:null!=u?this.handleMouseOver:null,onClick:this.handleClick,onMouseLeave:null!=u?this.handleMouseOut:null,onMouseUp:null!=u?this.handleMouseUp:null,onMouseDown:this.handleMouseDown,"aria-label":d},void 0,n)},t}(a.Component);t.Item=y,y.displayName="Item";var g=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderChildren=function(e){var t=this.props,n=t.selectedItem,r=t.onItemSelect,o=t.type,i=void 0===o?p.SIDE:o;return null==e?null:a.cloneElement(e,{selectedItem:n,onItemSelect:r,itemType:i})},n.render=function(){var e=this.props,t=e.className,n=e.children,r=e.type,i=void 0===r?p.SIDE:r,l=e.style;return f("div",{className:(0,o.default)(t,i),style:l},void 0,a.Children.map(n,this.renderChildren,this))},t}(a.Component);g.displayName="TabBar",g.Types=p,g.Header=h,g.Item=y,g.Separator=v;var E=g;t.default=E},5895:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(808),l=f(n(800)),u=f(n(231)),s=n(0),d=f(n(10)),c=f(n(5371));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){t.props.disableButton||((0,i.pushLayer)(s.Layers.USER_SETTINGS),l.default.setSection(s.UserSettingsSections.STREAMER_MODE))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e;return p("div",{className:c.default.streamerModeEnabled},void 0,p("div",{className:c.default.streamerModeEnabledImage}),p(u.default,{className:(0,o.default)(c.default.streamerModeEnabledBtn,(e={},e[c.default.disabled]=this.props.disableButton,e)),onClick:this.handleClick},void 0,d.default.Messages.STREAMER_MODE_ENABLED))},r}(a.Component);h.displayName="StreamerModeEnabled",h.defaultProps={disableButton:!1};var v=h;t.default=v},5896:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(6)),a=i(n(3)),o=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={},s={favorites:[],timesFavorited:0};var d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){null!=e&&(s=e).favorites.forEach(function(e){u[e.url]=e})},o.getState=function(){return s},o.getFavorites=function(){return s.favorites},o.shouldShowTooltipOnFavorite=function(){return s.timesFavorited<=2},o.getIsFavorite=function(e){return null!=u[e]},o.getRandomFavorite=function(){return r.default.sample(s.favorites)},a}(a.default.PersistedStore);d.persistKey="GIFFavoritesStore",d.migrations=[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}];var c=new d(o.default,{GIF_FAVORITE_ADD:function(e){var t=e.gif;if(null!=u[t.url])return!1;s=l({},s,{favorites:[t].concat(s.favorites)}),u[t.url]=t,s.timesFavorited+=1},GIF_FAVORITE_REMOVE:function(e){var t=e.url;if(!delete u[t])return!1;var n=s.favorites,r=n.findIndex(function(e){var n=e.url;return t===n});if(null==r)return!1;s.favorites=n.slice(0,r).concat(n.slice(r+1,n.length))}});t.default=c},5897:function(e,t,n){"use strict";t.__esModule=!0,t.getTierName=function(e){switch(e){case a.PremiumGuildTiers.TIER_1:return o.default.Messages.PREMIUM_GUILD_TIER_1;case a.PremiumGuildTiers.TIER_2:return o.default.Messages.PREMIUM_GUILD_TIER_2;case a.PremiumGuildTiers.TIER_3:return o.default.Messages.PREMIUM_GUILD_TIER_3;case a.PremiumGuildTiers.NONE:return null;default:throw new Error("Not a valid tier type")}},t.getGuildTierFromSubscriberCount=function(e){for(var t=0,n=l;t<n.length;t++){var r=n[t];if(e>=r.amount)return r.tier}return a.PremiumGuildTiers.NONE},t.getNextGuildTierFromSubscriberCount=function(e){for(var t=0,n=l;t<n.length;t++){var r=n[t];if(e>=r.amount)return r.nextTier}return a.PremiumGuildTiers.TIER_1},t.getPremiumGuildSubscriptionMonths=function(e){return(0,r.default)().diff((0,r.default)(e),"months")||1},t.getUserLevel=function(e){for(var t=(0,r.default)().diff(e,"months"),n=0,o=0,i=Object.keys(a.UserPremiumGuildSubscriptionMonths);o<i.length;o++){var l=i[o];t<a.UserPremiumGuildSubscriptionMonths[l]||(n=+l)}return n},t.GuildTierSubscriptionsOrdered=void 0;var r=i(n(4)),a=n(0),o=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}var l=[{tier:a.PremiumGuildTiers.TIER_3,amount:a.PremiumGuildSubscriptionsRequired[a.PremiumGuildTiers.TIER_3],nextTier:null},{tier:a.PremiumGuildTiers.TIER_2,amount:a.PremiumGuildSubscriptionsRequired[a.PremiumGuildTiers.TIER_2],nextTier:a.PremiumGuildTiers.TIER_3},{tier:a.PremiumGuildTiers.TIER_1,amount:a.PremiumGuildSubscriptionsRequired[a.PremiumGuildTiers.TIER_1],nextTier:a.PremiumGuildTiers.TIER_2}];t.GuildTierSubscriptionsOrdered=l},5898:function(e,t,n){"use strict";t.__esModule=!0,t.getSearchOptionAnswer=function(e){switch(e){case u.SearchTokenTypes.FILTER_FROM:return s.default.Messages.SEARCH_ANSWER_FROM;case u.SearchTokenTypes.FILTER_MENTIONS:return s.default.Messages.SEARCH_ANSWER_MENTIONS;case u.SearchTokenTypes.FILTER_HAS:return s.default.Messages.SEARCH_ANSWER_HAS;case u.SearchTokenTypes.FILTER_BEFORE:case u.SearchTokenTypes.FILTER_ON:case u.SearchTokenTypes.FILTER_AFTER:return s.default.Messages.SEARCH_ANSWER_DATE;case u.SearchTokenTypes.FILTER_IN:return s.default.Messages.SEARCH_ANSWER_IN;case u.SearchTokenTypes.FILTER_FILE_TYPE:return s.default.Messages.SEARCH_ANSWER_FILE_TYPE;case u.SearchTokenTypes.FILTER_FILE_NAME:return s.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!u.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case u.SearchTokenTypes.ANSWER_BEFORE:case u.SearchTokenTypes.ANSWER_ON:case u.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),a=e.getData("end");return r&&(t.min_id=l.default.fromTimestamp(r)),void(a&&(t.max_id=l.default.fromTimestamp(a)))}var o=function(e){var t=i.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[o]&&(t[o]=new Set);var s=t[o];switch(n){case u.SearchTokenTypes.ANSWER_USERNAME_FROM:case u.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:s.add(e.getData("user").id);break;case u.SearchTokenTypes.ANSWER_FILE_TYPE:case u.SearchTokenTypes.ANSWER_FILE_NAME:s.add(e.getMatch(1));break;case u.SearchTokenTypes.ANSWER_IN:s.add(e.getData("channel").id);break;case u.SearchTokenTypes.ANSWER_HAS:s.add(e.getData("has"));break;default:s.add(e.getFullMatch().trim())}}});for(var n=0,r=Object.entries(t);n<r.length;n++){var a=r[n],o=a[0],s=a[1];s instanceof Set&&(t[o]=Array.from(s))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===o.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r,a,o=e.find(function(o,i){return t>=o.start&&t<=o.end&&n>=o.start&&n<=o.end?(e[i+1]&&(a=e[i+1]),!0):(r=o,!1)});if(!o)return null;return{previousToken:r,currentToken:o,nextToken:a,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n,r=e=e||{},a=r.currentToken,i=r.nextToken,l=r.previousToken;if(0===t.length)return{type:u.SearchPopoutModes.EMPTY,filter:null,token:null};if(!a)return{type:u.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(u.IS_SEARCH_FILTER_TOKEN.test(a.type)){if(!i||i.type===o.default.NON_TOKEN_TYPE)return{type:u.SearchPopoutModes.FILTER,filter:a.type,token:i};if(i&&!u.IS_SEARCH_ANSWER_TOKEN.test(i.type))return{type:u.SearchPopoutModes.FILTER,filter:a.type,token:null}}if(a.type===o.default.NON_TOKEN_TYPE&&l&&u.IS_SEARCH_FILTER_TOKEN.test(l.type))return{type:u.SearchPopoutModes.FILTER,filter:l.type,token:a};a.type===o.default.NON_TOKEN_TYPE&&(n=a);return{type:u.SearchPopoutModes.FILTER_ALL,filter:null,token:n}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===u.SearchPopoutModes.FILTER_ALL){r=e.group||r;var a=i.default[r];a&&a.key&&(n=a.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return p.tokenize(e)},t.clearTokenCache=function(){return p.clearCache()},t.showDatePicker=function(e){return f[e]},t.filterHasAnswer=function(e,t){var n=u.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!u.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,i.refreshSearchTokens)(),p.reset(),(0,a.default)(i.default).forOwn(function(e,t){return p.addRule(c({type:t},e))})},t.ShowDatePicker=void 0;var r,a=d(n(6)),o=d(n(5919)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(5899)),l=d(n(116)),u=n(0),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=((r={})[u.SearchTokenTypes.FILTER_BEFORE]=!0,r[u.SearchTokenTypes.FILTER_AFTER]=!0,r[u.SearchTokenTypes.FILTER_ON]=!0,r);t.ShowDatePicker=f;var p=new o.default},5899:function(e,t,n){"use strict";t.__esModule=!0,t.getRandomDateShortcut=function(){return o.default.sample(w())},t.refreshSearchTokens=function(){Object.assign(x,(t=[_.default.Messages.SEARCH_ANSWER_HAS_LINK,_.default.Messages.SEARCH_ANSWER_HAS_EMBED,_.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,_.default.Messages.SEARCH_ANSWER_HAS_VIDEO,_.default.Messages.SEARCH_ANSWER_HAS_IMAGE,_.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[m.SearchTokenTypes.FILTER_FROM]={regex:R(_.default.Messages.SEARCH_FILTER_FROM),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_FROM),validator:j,getAutocompletions:k},e[m.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[m.SearchTokenTypes.FILTER_FROM],regex:B,validator:b,mutable:!0,componentType:H.ANSWER,queryKey:"author_id"},e[m.SearchTokenTypes.FILTER_MENTIONS]={regex:R(_.default.Messages.SEARCH_FILTER_MENTIONS),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_MENTIONS),validator:j,getAutocompletions:k},e[m.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[m.SearchTokenTypes.FILTER_MENTIONS],regex:B,validator:b,mutable:!0,componentType:H.ANSWER,queryKey:"mentions"},e[m.SearchTokenTypes.FILTER_HAS]={regex:R(_.default.Messages.SEARCH_FILTER_HAS),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return G(e,r,t)}},e[m.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return v.default.escape(e)}).join("|")+"))","i"),follows:[m.SearchTokenTypes.FILTER_HAS],validator:D,componentType:H.ANSWER,queryKey:"has"},e[m.SearchTokenTypes.FILTER_FILE_TYPE]={regex:R(_.default.Messages.SEARCH_FILTER_FILE_TYPE),key:M(_.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:H.FILTER},e[m.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[m.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:H.ANSWER,queryKey:"attachment_extensions"},e[m.SearchTokenTypes.FILTER_FILE_NAME]={regex:R(_.default.Messages.SEARCH_FILTER_FILE_NAME),key:M(_.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:H.FILTER},e[m.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[m.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:H.ANSWER,queryKey:"attachment_filename"},e[m.SearchTokenTypes.FILTER_BEFORE]={regex:R(_.default.Messages.SEARCH_FILTER_BEFORE),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return U(e,n,m.SearchTokenTypes.FILTER_BEFORE)}},e[m.SearchTokenTypes.FILTER_ON]={regex:R("("+_.default.Messages.SEARCH_FILTER_ON+"|"+_.default.Messages.SEARCH_FILTER_DURING+")"),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return U(e,n,m.SearchTokenTypes.FILTER_ON)}},e[m.SearchTokenTypes.FILTER_AFTER]={regex:R(_.default.Messages.SEARCH_FILTER_AFTER),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return U(e,n,m.SearchTokenTypes.FILTER_AFTER)}},e[m.SearchTokenTypes.ANSWER_BEFORE]={regex:A,follows:[m.SearchTokenTypes.FILTER_BEFORE],componentType:H.ANSWER,mutable:!0,validator:function(e){return P(e,"before")}},e[m.SearchTokenTypes.ANSWER_ON]={regex:A,follows:[m.SearchTokenTypes.FILTER_ON],componentType:H.ANSWER,mutable:!0,validator:function(e){return P(e,"on")}},e[m.SearchTokenTypes.ANSWER_AFTER]={regex:A,follows:[m.SearchTokenTypes.FILTER_AFTER],componentType:H.ANSWER,mutable:!0,validator:function(e){return P(e,"after")}},e[m.SearchTokenTypes.FILTER_IN]={regex:R(_.default.Messages.SEARCH_FILTER_IN),componentType:H.FILTER,key:M(_.default.Messages.SEARCH_FILTER_IN),validator:F,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=h.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var a=d.default.getChannelId(t),i=r.find(function(e){return e.id===a});i&&(r.splice(r.indexOf(i),1),r.unshift(i))}var u=l.default.getTextChannelNameDisambiguations(t);return(0,o.default)(r).take(n).map(function(e){return{text:""+u[e.id].name,channel:e}}).value()}},e[m.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[m.SearchTokenTypes.FILTER_IN],componentType:H.ANSWER,validator:L,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e,t){void 0===t&&(t=Object.keys(x).length);return(0,o.default)(Object.keys(x)).filter(function(e){return m.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return x[e].key}).map(function(e){return{token:e,text:x[e].key}}).filter(function(t){var n=t.text;return(0,r.default)(e.toLowerCase(),n)}).take(t).value()},t.default=t.ComponentTypes=void 0;var r=y(n(5887)),a=y(n(163)),o=y(n(6)),i=y(n(4)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(99)),u=y(n(87)),s=y(n(5890)),d=y(n(50)),c=y(n(160)),f=y(n(306)),p=y(n(14)),h=y(n(5889)),v=y(n(198)),m=n(0),_=y(n(10));function y(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(){return new Set(i.default.months().map(function(e){return e.toLowerCase()}))}function S(){return new Set(i.default.weekdays().map(function(e){return e.toLowerCase()}))}function T(){var e=(new Date).getFullYear();return new Set(o.default.range(2015,e+1).map(function(e){return e.toString()}))}function I(e,t){return[e,e.clone().add(1,t)]}function O(e,t){return void 0===t&&(t=0),I((0,i.default)().startOf(e).add(t,e),e)}function N(e,t,n){return I((0,i.default)(e,t).local(),n)}function C(){var e;return(e={})[_.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return O("day")},e[_.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return O("day",-1)},e[_.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return O("week")},e[_.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return O("month")},e[_.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return O("year")},e}var A=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function M(e){return e+":"}function R(e){return new RegExp(M(e),"i")}function b(e){var t;return!!(t=e.getMatch(1)===m.ME?p.default.getCurrentUser():p.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function P(e,t){var n,r,a=e.getFullMatch().trim().toLowerCase(),o=C()[a];if(null!=o){var i=o();n=i[0],r=i[1]}else if(E().has(a)){var l=N(a,"MMMM","month");n=l[0],r=l[1]}else if(S().has(a)){var u=N(a,"dddd","day");n=u[0],r=u[1]}else if(T().has(a)){var s=N(a,"YYYY","year");n=s[0],r=s[1]}else{var d=N(a,m.SEARCH_DATE_FORMAT,"day");n=d[0],r=d[1]}return!(!n.isValid()||!r.isValid())&&("before"===t?(r=n,n=null):"after"===t&&(n=r,r=null),e.setData("start",n),e.setData("end",r),!0)}function L(e){var t=e.getMatch(1),n=c.default.getGuildId(),r=l.default.getChannels(n)[l.GUILD_SELECTABLE_CHANNELS_KEY],a=l.default.getTextChannelNameDisambiguations(n),i=o.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===a[e.id].name}).value();return!!i&&(e.setData("channel",i),!0)}function D(e){var t,n=(t={},t[_.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[_.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[_.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[_.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[_.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[_.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function w(){return[].concat(Array.from(E()),Array.from(S()),Array.from(T()),Object.keys(C()))}function U(e,t,n){return G(e,t,w()).map(function(e){return g({},e,{group:n,key:n+"-"+e.text})})}function G(e,t,n){return(0,o.default)(n).filter(function(t){return(0,r.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function k(e,t,n,r){void 0===n&&(n=10),void 0===r&&(r=!1);var a,o=s.default.getSearchType(t);switch(e=e.split("#")[0],o){case m.SearchTypes.GUILD:a=h.default.queryGuildUsers;break;case m.SearchTypes.CHANNEL:a=h.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!u.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function F(){return s.default.getSearchType()===m.SearchTypes.GUILD}function j(){return!f.default.hidePersonalInformation}var B=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,H=(0,a.default)({FILTER:null,ANSWER:null});t.ComponentTypes=H;var x={};var V=x;t.default=V},5900:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=l(n(23));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=null,s={};var d=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(i.default)},o.getOptimalRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?t.find(function(e){return e.optimal})||r.default.sample(t):null},o.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null},o.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?r.default.sample(t):null},o.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null},o.getRegions=function(e){return null!=e?s[e]:u},a}(a.default.Store))(o.default,{LOAD_REGIONS:function(e){var t=r.default.sortBy(e.regions,function(e){return e.name});e.guildId?s[e.guildId]=t:u=t},GUILD_DELETE:function(e){delete s[e.guild.id]}});t.default=d},5901:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=p(n(1)),i=p(n(11)),l=p(n(20)),u=p(n(159)),s=p(n(309)),d=p(n(50)),c=p(n(237)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v={},m={},_={},y={};function g(e){switch(e){case"null":case null:case void 0:return null;default:return e}}function E(e){var t,n,r,a=g(e),o=!1,i=!1,l=0,u=0,d=y[a];(null==d&&(S(),d=y[a]||new Set),d.forEach(function(e){null!==a&&(i=i||!c.default.isGuildOrCategoryOrChannelMuted(a,e)&&s.default.hasUnread(e),u+=s.default.getUnreadCount(e)),l+=s.default.getMentionCount(e)}),i)?null==a||v[a]||(v=h({},v,((t={})[a]=!0,t)),o=!0):null!=a&&v[a]&&(delete(v=h({},v))[a],o=!0);null!=a&&_[a]!==u&&(_=h({},_,((n={})[a]=u,n)),o=!0);m[a]!==l&&(m=h({},m,((r={})[a]=l,r)),o=!0);return o}function S(){y={},r.default.forEach(l.default.getChannels(),function(e){if(e.type!==f.ChannelTypes.GUILD_VOICE&&(e.isPrivate()||u.default.can(f.Permissions.VIEW_CHANNEL,{channelId:e.id}))){var t=e.getGuildId(),n=y[t];null==n&&(n=new Set,y[t]=n),n.add(e.id)}})}function T(e){return S(),E(e)}function I(e,t){var n=l.default.getChannel(e);if(null!=n)return t(g(n.getGuildId()));for(var r=0,a=Object.keys(y);r<a.length;r++){var o=a[r];if(y[o].has(e))return t(g(o))}return!1}function O(e){var t=e.guilds;v={},m={},_={},S(),E(null),t.forEach(function(e){return E(e.id)})}function N(e){return I(e.channelId,E)}function C(e){return I(e.channel.id,T)}function A(e){return T(e.guildId)}var M=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(l.default,d.default,s.default,u.default,i.default,c.default)},o.hasAnyUnread=function(){return Object.keys(v).length>0},o.getUnreadGuilds=function(){return v},o.getGuildUnreadCount=function(e){return void 0===e?0:_[e]||0},o.hasUnread=function(e){return v[e]||!1},o.getMentionCounts=function(){return m},o.getUnreadGuildsIgnoreMuted=function(e){var t=y[e];return null!=t&&Array.from(t).some(function(e){return s.default.hasUnread(e)})},o.getTotalMentionCount=function(){return(0,r.default)(m).values().sum()},a}(a.default.Store))(o.default,{CONNECTION_OPEN:O,OVERLAY_INITIALIZE:O,GUILD_CREATE:function(e){return T(e.guild.id)},GUILD_DELETE:function(e){var t=e.guild;null!=v[t.id]&&delete(v=h({},v))[t.id],null!=_[t.id]&&delete(_=h({},_))[t.id],null!=m[t.id]&&delete(m=h({},m))[t.id],delete y[t.id]},MESSAGE_CREATE:N,MESSAGE_ACK:N,UPDATE_CHANNEL_DIMENSIONS:N,CHANNEL_SELECT:function(e){return E(e.guildId)},CHANNEL_DELETE:function(e){var t=e.channel;return I(t.id,function(e){return y[e].delete(t.id),E(e)})},WINDOW_FOCUS:function(e){return null!=(t=d.default.getChannelId())&&I(t,E);var t},GUILD_ACK:function(e){return E(e.guildId)},GUILD_ROLE_CREATE:A,GUILD_ROLE_DELETE:A,GUILD_ROLE_UPDATE:A,CHANNEL_CREATE:C,CHANNEL_UPDATE:C,GUILD_MEMBER_UPDATE:function(e){var t=e.user,n=e.guildId;return t.id===i.default.getId()&&T(n)},USER_GUILD_SETTINGS_UPDATE:function(e){Object.keys(v).forEach(E)}});t.default=M},5902:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InLibraryPrice=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(302)),l=s(n(10)),u=s(n(5254));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Object.freeze({DIRECTORY_HERO:1,DIRECTORY_TILE:2,DIRECTORY_SEARCH:3,LISTING:4,EMBED:5}),f=Object.freeze({IN_LIBRARY:1,ON_SALE:2,PREMIUM:3,DEFAULT:4,ENTITLEMENT_BRANCH:5}),p=function(e){var t=e.className;return d("div",{className:(0,o.default)(u.default.row,t)},void 0,d(i.default,{className:u.default.icon,name:i.default.Names.LIBRARY}),l.default.Messages.APPLICATION_STORE_IN_LIBRARY)};t.InLibraryPrice=p,p.displayName="InLibraryPrice";var h=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(u.default.row,n)},void 0,d(i.default,{className:u.default.icon,name:i.default.Names.NITRO_WHEEL}),t.getDisplayPrice())};h.displayName="PremiumPrice";var v=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(u.default.salePercentage,n)},void 0,t.getDisplaySalePercentage())};v.displayName="SalePercent";var m=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(u.default.originalAmount,n)},void 0,t.getDisplayPrice(!1))};m.displayName="OriginalAmount";var _=function(e){var t=e.sku;return d("div",{className:e.className},void 0,t.getDisplayPrice())};_.displayName="Price";var y=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(u.default.row,n)},void 0,d(v,{sku:t}),d(m,{sku:t}),d(_,{sku:t}))};y.displayName="InlineSale";var g=function(e){return d("div",{className:e.className},void 0,l.default.Messages.APPLICATION_STORE_FREE)};g.displayName="EntitlementBranchPrice";var E=d(g,{}),S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getState=function(){var e=this.props,t=e.inLibrary,n=e.sku;return e.hasEntitlementBranch?f.ENTITLEMENT_BRANCH:t?f.IN_LIBRARY:n.available?n.premium?f.PREMIUM:n.isOnSale?f.ON_SALE:null!=n.getPrice()?f.DEFAULT:null:f.DEFAULT},i.renderGeneric=function(e,t){var n=this.props,r=n.className,a=n.sku;switch(e){case f.ENTITLEMENT_BRANCH:return d(g,{className:(0,o.default)(t,r)});case f.IN_LIBRARY:return d(p,{className:(0,o.default)(t,r)});case f.PREMIUM:return d(h,{sku:a,className:(0,o.default)(t,r)});case f.ON_SALE:return d(y,{sku:a,className:(0,o.default)(t,r)});default:return d(_,{className:(0,o.default)(t,r),sku:a})}},i.renderDirectoryHero=function(e){var t=this.props,n=t.className,r=t.sku;switch(e){case f.ENTITLEMENT_BRANCH:return d(g,{className:(0,o.default)(n)});case f.PREMIUM:return d(h,{sku:r,className:(0,o.default)(u.default.directoryHeroPricePremium,n)});case f.ON_SALE:return d(y,{sku:r,className:(0,o.default)(u.default.directoryHeroPrice,n)});default:return d(_,{className:(0,o.default)(u.default.directoryHeroPrice,n),sku:r})}},i.renderListing=function(e){var t,n=this.props,r=n.className,i=n.sku;switch(e){case f.ENTITLEMENT_BRANCH:t=E;break;case f.ON_SALE:t=d(a.Fragment,{},void 0,d("div",{className:u.default.row},void 0,d(_,{sku:i}),d(v,{sku:i})),d(m,{sku:i}));break;default:t=d(_,{sku:i})}return d("div",{className:(0,o.default)(u.default.listingPrice,r)},void 0,t)},i.render=function(){var e=this.getState();if(null==e)return null;switch(this.props.type){case c.DIRECTORY_HERO:return this.renderDirectoryHero(e);case c.DIRECTORY_TILE:return this.renderGeneric(e,u.default.directoryTilePrice);case c.DIRECTORY_SEARCH:return this.renderGeneric(e,u.default.directorySearchPrice);case c.LISTING:return this.renderListing(e);case c.EMBED:return this.renderGeneric(e,u.default.embedPrice);default:throw new Error("Invalid Price Unit Type")}},r}(a.PureComponent);S.displayName="PriceUnit",S.Types=c;var T=S;t.default=T},5905:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchIcon=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(231)),l=c(n(302)),u=c(n(427)),s=c(n(10)),d=c(n(5276));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=Object.freeze({SMALL:d.default.small,MEDIUM:d.default.medium,LARGE:d.default.large}),v=function(e){var t,n,r,s=e.hasContent,c=e.onClear,f=e.className,v=e.isLoading,m=e.size,_=void 0===m?h.SMALL:m;return p(i.default,{className:(0,o.default)(f,d.default.iconLayout,_,(t={},t[d.default.pointer]=s,t)),onClick:function(e){e.stopPropagation(),null!=c&&c(e)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},void 0,p("div",{className:d.default.iconContainer},void 0,v?p(u.default,{type:u.default.Type.SPINNING_CIRCLE,className:(0,o.default)(d.default.icon,d.default.visible)}):p(a.Fragment,{},void 0,p(l.default,{name:l.default.Names.SEARCH,className:(0,o.default)(d.default.icon,(n={},n[d.default.visible]=!s,n))}),p(l.default,{name:l.default.Names.CLOSE,className:(0,o.default)(d.default.clear,(r={},r[d.default.visible]=s,r))}))))};t.SearchIcon=v,v.displayName="SearchIcon",v.Sizes=h;var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef(),t.handleOnChange=function(e){var n=t.props.onChange;n&&n(e.currentTarget.value)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.focus=function(){var e=this.inputRef.current;null!=e&&e.focus()},i.blur=function(){var e=this.inputRef.current;null!=e&&e.blur()},i.render=function(){var e,t=this.props,n=t.query,r=t.autoFocus,i=t.onClear,l=t.className,u=t.placeholder,s=t.iconClassName,c=t.onKeyDown,h=t.onKeyUp,m=t.onKeyPress,_=t.isLoading,y=t.size,g=t.disabled,E=(t.onChange,t.onBlur),S=t.onFocus,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["query","autoFocus","onClear","className","placeholder","iconClassName","onKeyDown","onKeyUp","onKeyPress","isLoading","size","disabled","onChange","onBlur","onFocus"]);return a.createElement("div",f({className:(0,o.default)(l,d.default.container,y,(e={},e[d.default.disabled]=g,e))},T),p("div",{className:d.default.inner},void 0,a.createElement("input",{onFocus:S,onBlur:E,className:d.default.input,value:n,onChange:this.handleOnChange,onKeyDown:c,onKeyUp:h,onKeyPress:m,placeholder:u,disabled:g,autoFocus:r,ref:this.inputRef}),p(v,{size:y,hasContent:n.length>0,onClear:i,className:s,isLoading:_})))},r}(a.PureComponent);m.displayName="SearchBar",m.Sizes=h,m.defaultProps={size:h.SMALL,placeholder:s.default.Messages.SEARCH,isLoading:!1,disabled:!1};var _=m;t.default=_},5906:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(11)),i=g(n(5853)),l=g(n(6777)),u=g(n(6778)),s=g(n(6472)),d=g(n(6779)),c=g(n(6780)),f=g(n(6781)),p=g(n(6782)),h=g(n(6783)),v=g(n(6327)),m=g(n(6784)),_=g(n(5909)),y=n(0);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderInviteCreateGroup=function(){var e=this.props,t=e.guild,n=e.channel,r=e.type;if(null!=t)return E(f.default,{channel:n,guild:t,type:r})},a.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.channel,f=e.hasUnread,g=e.className;if(o.default.isGuest())return null;switch(n){case y.ContextMenuTypes.CHANNEL_LIST_TEXT:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(h.default,{channelId:a.id,hasUnread:f,type:a.type}),E(v.default,{channel:a}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(_.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(_.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_LIST_VOICE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(m.default,{channelId:a.id}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(_.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_LIST_STORE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(_.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_TITLE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(v.default,{channel:a}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(_.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_TOPIC:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(v.default,{channel:a}),E(u.default,{channel:a}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(_.default,{id:a.id}));case y.ContextMenuTypes.CHANNEL_AUDIT_LOG:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(c.default,{channel:a}),null!=r?E(p.default,{channel:a,guild:r}):null,E(_.default,{id:a.id})));case y.ContextMenuTypes.CHANNEL_CATEGORY:return E("div",{className:g,style:t},void 0,E(h.default,{channelId:a.id,hasUnread:f,type:a.type}),E(v.default,{channel:a}),E(l.default,{channel:a}),E(c.default,{channel:a}),null!=r?E(s.default,{type:y.ChannelTypes.GUILD_CATEGORY,guild:r}):null,E(d.default,{channel:a}),E(_.default,{id:a.id}));default:console.warn("Error - no such ctx menu type:",n)}return null},r}(a.PureComponent);S.displayName="ChannelContextMenu",S.defaultProps={hasUnread:!1,selected:!1};var T=S;t.default=T},5907:function(e,t,n){"use strict";t.__esModule=!0,t.getBadgeWidthForValue=f,t.getBadgeCountString=p,t.IconBadge=t.TextBadge=t.NumberBadge=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(17)),o=u(n(302)),i=n(0),l=u(n(5412));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){switch(e){case 1:case 4:case 6:return 1;default:return null}}function f(e){return e<10?16:e<100?22:30}function p(e){return e<1e3?""+e:Math.min(Math.floor(e/1e3),9)+"k+"}var h=function(e){var t=e.count,n=e.color,r=void 0===n?i.Colors.STATUS_RED:n,o=e.disableColor,u=void 0!==o&&o,h=e.className,v=e.style;return s("div",{className:(0,a.default)(h,l.default.numberBadge),style:d({backgroundColor:u?null:r,width:f(t),paddingRight:c(t)},v)},void 0,p(t))};t.NumberBadge=h,h.displayName="NumberBadge";var v=function(e){var t=e.text,n=e.className,r=e.color,o=void 0===r?i.Colors.STATUS_RED:r,u=e.disableColor,c=void 0!==u&&u,f=e.style;return s("div",{className:(0,a.default)(n,l.default.textBadge),style:d({backgroundColor:c?null:o},f)},void 0,t)};t.TextBadge=v,v.displayName="TextBadge";var m=function(e){var t=e.name,n=e.className,r=e.color,u=void 0===r?i.Colors.STATUS_RED:r,c=e.disableColor,f=void 0!==c&&c,p=e.style;return s("div",{className:(0,a.default)(n,l.default.iconBadge),style:d({backgroundColor:f?null:u},p)},void 0,s(o.default,{name:t,className:l.default.icon}))};t.IconBadge=m,m.displayName="IconBadge"},5912:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(5904)),i=s(n(50)),l=s(n(436)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=null,f=!1;function p(e){var t=e.link;c=t}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,u,s,p=r.prototype;return p.initialize=function(){this.waitFor(o.default,l.default,i.default)},p.getHomeLink=function(){return c||o.default.defaultRoute},a=r,(u=[{key:"hasHandledRedirect",get:function(){return f}}])&&d(a.prototype,u),s&&d(a,s),r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){return t=l.default.getPrivateChannelIds(),void(((n=i.default.getChannelId(u.ME))||t[0])&&(c=u.Routes.CHANNEL(u.ME,n||t[0])));var t,n},APP_VIEW_SET_HOME_LINK:p,ACTIVITY_FEED_HANDLE_REDIRECT:function(e){f=!0},APPLICATION_STORE_LOCATION_CHANGE:function(e){p({link:e.location.pathname})},APPLICATION_STORE_RESET_NAVIGATION:function(e){return function(){if(null==c||!c.startsWith(u.Routes.APPLICATION_STORE))return!1;c=u.Routes.APPLICATION_STORE}()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;if(null==t&&null!=n){var r=u.Routes.CHANNEL(u.ME,n);if(r!==c)return c=r,!0}return!1}});t.default=h},5913:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=n(808),i=u(n(821)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=null;function d(e){(s=e.requiredAction)===l.UserRequiredActions.REQUIRE_CAPTCHA||s===l.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||s===l.UserRequiredActions.REQUIRE_VERIFIED_PHONE?(0,o.pushLayer)(l.Layers.VERIFICATION):i.default.hasLayers()&&null==s&&(0,o.popLayer)()}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.hasAction=function(){return null!=s},a.getAction=function(){return s},r}(r.default.Store))(a.default,{CONNECTION_OPEN:d,USER_REQUIRED_ACTION_UPDATE:d});t.default=c},5914:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TutorialIndicatorPositions=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(100),o=s(n(3)),i=s(n(6562)),l=s(n(6163)),u=s(n(161));function s(e){return e&&e.__esModule?e:{default:e}}var d={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"};t.TutorialIndicatorPositions=d;var c=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=o.prototype;return l.componentDidMount=function(){this.show(this.props.visible)},l.componentWillUnmount=function(){this.show(!1)},l.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,r=e.offsetY,a=e.tutorialId,o=e.visible,l=e.windowSize;a!==this.props.tutorialId?i.default.hide(a):o===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&r===this.props.offsetY&&l===this.props.windowSize||this.show(this.props.visible)},l.show=function(e){var t=this.props,n=t.tutorialId,r=t.position,o=t.offsetX,l=t.offsetY,u=t.visible;if(e){var s=(0,a.findDOMNode)(this);if(!(s&&s instanceof Element))return;var d=s.getBoundingClientRect(),c=d.top,f=d.left,p=d.right,h=d.bottom;i.default.show(n,{position:r,targetWidth:p-f,targetHeight:h-c,x:f,y:c,offset:{x:o,y:l}})}else u&&i.default.hide(n)},l.render=function(){return r.Children.only(this.props.children)},o}(r.Component);c.displayName="TutorialIndicator",c.defaultProps={position:d.TOP,offsetX:0,offsetY:0};var f=o.default.connectStores([l.default,u.default],function(e){var t=e.tutorialId;return{visible:l.default.shouldShow(t),windowSize:u.default.windowSize()}})(c);t.default=f},5915:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ContentTypes=t.LazyContentScroller=t.SectionTypes=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=v(n(17)),l=v(n(304)),u=v(n(7046)),s=v(n(803)),d=v(n(307)),c=v(n(6563)),f=v(n(822)),p=n(0),h=v(n(5259));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.SectionTypes={HEADER:"HEADER",DIVIDER:"DIVIDER",CUSTOM:"CUSTOM"};var E=function(e){function t(t){var n;return y(n=e.call(this,t)||this).renderHeader=n.renderHeader.bind(y(n)),n}g(t,e);var n=t.prototype;return n.renderHeader=function(){return _("div",{className:h.default.customHeader},void 0,this.props.header)},n.renderContent=function(){var e=this.props,t=e.children,n=(e.header,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","header"]));return _("div",{className:h.default.customContainer},void 0,o.createElement(f.default,m({},n,{theme:f.default.Themes.GHOST,renderStickyHeader:this.renderHeader,className:(0,i.default)(h.default.customScroller,h.default.contentRegionScroller)}),t))},n.render=function(){return _("div",{className:h.default.customColumn},void 0,this.renderContent())},t}(o.PureComponent);t.LazyContentScroller=E,E.displayName="LazyContentScroller",E.defaultProps={paddingTop:0,paddingBottom:60,batchEndMultiplier:1};var S={friction:7,tension:60},T=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={translateY:new l.default.Value(0)},n}g(t,e);var n=t.prototype;return n.componentDidMount=function(){this.slideIn()},n.componentWillEnter=function(e){this.slideIn(e)},n.componentWillLeave=function(e){this.slideOut(e)},n.slideIn=function(e){var t=this.state.translateY;l.default.spring(t,m({toValue:1},S)).start(e)},n.slideOut=function(e){var t=this.state.translateY;l.default.stagger(250,[l.default.spring(t,m({toValue:1.3},S)),l.default.spring(t,m({toValue:0},S))]).start(e)},n.render=function(){return _(l.default.div,{className:h.default.noticeRegion,style:this.getNoticeStyle()},void 0,this.props.children)},n.getNoticeStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["150%","0%"]})},{translateZ:0}]}},t}(o.PureComponent);T.displayName="NoticeContainer";var I=Object.freeze({MINIMAL:"minimal",CUSTOM:"custom",DEFAULT:"default"});t.ContentTypes=I;var O=Object.freeze(((r={})[I.MINIMAL]="contentColumnMinimal",r[I.CUSTOM]="contentColumnCustom",r[I.DEFAULT]="contentColumnDefault",r)),N=function(e){function t(t){var n;return y(n=e.call(this,t)||this).setScrollerRef=n.setScrollerRef.bind(y(n)),n}g(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.section!==this.props.section&&this.resetScroll()},n.resetScroll=function(){null!=this._scroller&&this._scroller.scrollTo(0)},n.setScrollerRef=function(e){this._scroller=e},n.renderTools=function(){var e=this.props,t=e.closeAction,n=e.theme;return null==t?null:_("div",{className:h.default.toolsContainer},void 0,_("div",{className:h.default.tools},void 0,_(c.default,{closeAction:t,theme:n,keybind:"ESC"})))},n.renderNotice=function(){var e=this.props,t=e.notice,n=e.section;return null==t?null:_(T,{},n,t)},n.renderContent=function(){var e=this.props,t=e.content,n=e.theme,r=e.contentType;if(r===I.CUSTOM)return _(s.default,{component:"div",className:h.default.contentRegion},void 0,t,this.renderTools(),this.renderNotice());var a=n===p.ThemeTypes.LIGHT?p.Colors.WHITE:p.Colors.PRIMARY_DARK_600,l=O[r||I.DEFAULT];return _(s.default,{component:"div",className:h.default.contentRegion},void 0,_("div",{className:h.default.contentTransitionWrap},void 0,o.createElement(d.default,{outerClassName:h.default.contentRegionScrollerWrap,className:h.default.contentRegionScroller,track:!0,theme:d.default.Themes.GHOST,ref:this.setScrollerRef,backgroundColor:a},_("div",{className:(0,i.default)(h.default.contentColumn,h.default[l])},void 0,t),this.renderTools())),this.renderNotice())},n.renderSidebar=function(){var e=this.props,t=e.sidebar,n=e.theme===p.ThemeTypes.LIGHT?u.default.darken(p.Colors.PRIMARY_DARK_100,.015):p.Colors.PRIMARY_DARK_630;return _("div",{className:h.default.sidebarRegion},void 0,_(d.default,{className:h.default.sidebarRegionScroller,fade:!0,theme:d.default.Themes.GHOST_HAIRLINE,backgroundColor:n},void 0,_("div",{className:h.default.sidebar},void 0,t)))},n.render=function(){return _("div",{className:h.default.standardSidebarView},void 0,this.renderSidebar(),this.renderContent())},t}(o.PureComponent);N.displayName="StandardSidebarView";var C=N;t.default=C},5916:function(e,t,n){"use strict";t.__esModule=!0,t.trackSearchStart=m,t.trackSearchResultViewed=_,t.search=function(e,t,n){void 0===n&&(n=!1);""===e?E():(i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY,query:e}),n?y(e,t):g(e,t))},t.fetchSuggestions=function(e){if(""===e||null==e)return;o.default.get({url:f.Endpoints.GIFS_SUGGEST,query:{q:e,provider:f.GIFProviders.TENOR,limit:5,locale:u.default.locale}}).then(function(t){var n=t.body;i.default.dispatch({type:f.ActionTypes.GIF_PICKER_SUGGESTIONS_SUCCESS,query:e,items:n})})},t.resetSearch=E,t.trackSelectGIF=function(e){var t=e.type,n=e.index,r=e.offset,a=e.limit,i=e.results,u=e.totalResults,d=e.query,p=e.gifId,v=(0,c.calculateAnalyticsMetadata)(s.default.getAnalyticsID(),t,{offset:r,limit:a,results:i,totalResults:u});l.default.trackWithMetadata(f.AnalyticEvents.SEARCH_RESULT_SELECTED,h({},v,{index_num:n,source_object:"GIF Picker"})),null!=p&&o.default.post({url:f.Endpoints.GIFS_SELECT,body:{id:p,q:d}})},t.initializeSearch=function(){var e=a.default.v4().replace(v,"");l.default.trackWithMetadata(f.AnalyticEvents.SEARCH_OPENED,{search_type:f.SearchTypes.GIF,load_id:e}),i.default.dispatch({type:f.ActionTypes.GIF_PICKER_INITIALIZE,analyticsID:e})},t.fetchTrending=function(){o.default.get({url:f.Endpoints.GIFS_TRENDING,query:{provider:f.GIFProviders.TENOR,locale:u.default.locale}}).then(function(e){var t=e.body,n=t.categories,r=t.gifs;i.default.dispatch({type:f.ActionTypes.GIF_PICKER_TRENDING_FETCH_SUCCESS,trendingCategories:n,trendingGIFPreview:r[0]})})},t.fetchTrendingGIFs=function(){var e=Date.now();m(f.GIFPickerResultTypes.TRENDING_GIFS),o.default.get({url:f.Endpoints.GIFS_TRENDING_GIFS,query:{media_format:s.default.getSelectedFormat(),provider:f.GIFProviders.TENOR,locale:u.default.locale}}).then(function(t){var n=t.body;_(n,f.GIFPickerResultTypes.TRENDING_GIFS,{startTime:e}),i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_SUCCESS,items:n})},function(){i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_FAILURE})})},t.addFavoriteGIF=function(e){i.default.dispatch({type:f.ActionTypes.GIF_FAVORITE_ADD,gif:e}),d.default.track(f.AnalyticEvents.GIF_FAVORITED)},t.removeFavoriteGIF=function(e){i.default.dispatch({type:f.ActionTypes.GIF_FAVORITE_REMOVE,url:e}),d.default.track(f.AnalyticEvents.GIF_UNFAVORITED)};var r=p(n(6)),a=p(n(135)),o=p(n(9)),i=p(n(1)),l=p(n(191)),u=p(n(42)),s=p(n(5953)),d=p(n(18)),c=n(6389),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=/-/g;function m(e){var t,n=null!=e?((t={})[e]=1,t):{};l.default.trackWithMetadata(f.AnalyticEvents.SEARCH_STARTED,{search_type:f.SearchTypes.GIF,load_id:s.default.getAnalyticsID(),num_modifiers:Object.keys(n).length,modifiers:n})}function _(e,t,n){void 0===n&&(n={});var r=n,a=r.startTime,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["startTime"]),i={offset:0,limit:null,totalResults:e.length},u=(0,c.calculateAnalyticsMetadata)(s.default.getAnalyticsID(),t,h({},i,o,{results:e})),d=null==a?{}:{load_duration_ms:Date.now()-a};l.default.trackWithMetadata(f.AnalyticEvents.SEARCH_RESULT_VIEWED,h({},u,d))}function y(e,t){var n=Date.now();m(t),o.default.get({url:f.Endpoints.GIFS_SEARCH,query:{q:e,media_format:s.default.getSelectedFormat(),provider:f.GIFProviders.TENOR,locale:u.default.locale}}).then(function(r){var a=r.body;_(a,t,{startTime:n}),i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_SUCCESS,query:e,items:a})},function(){return i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_FAILURE,query:e})})}var g=r.default.debounce(y,250);function E(){i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY,query:""})}},5917:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(131)),l=c(n(5849)),u=c(n(302)),s=c(n(5247)),d=c(n(5294));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n){return f("div",{className:t},n,e)}p.displayName="defaultRenderMoreUsers";var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).defaultRenderUser=function(e,n,r,a){var u=t.props,c=u.onClick,p=u.size,h=e instanceof i.default?e:null!=e?e.user:null;return null==h?f("div",{className:(0,o.default)(d.default.emptyUser,n)},r):f(l.default,{src:h.getAvatarURL("png"),size:p,className:(0,o.default)(n,s.default.cursorPointer),onClick:function(e){return null!=c?c(e,h,t._ref):null}},h.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,a=void 0===r?this.defaultRenderUser:r,o=e.renderMoreUsers,i=[],l=t.length===n?t.length:n-1,u=0;u<l&&u<t.length;){var s=u===t.length-1;i.push(a(t[u]||null,s?null:d.default.avatarMasked,"user-"+u,s)),u++}if(u<t.length){var c=Math.min(t.length-u,99);i.push(o("+"+c,d.default.moreUsers,"more-users",c))}return i},c.renderIcon=function(){return this.props.icon?f("div",{className:d.default.iconContainer},void 0,f(u.default,{name:u.default.Names.SPEAKER,width:16,height:16,foreground:d.default.foreground,className:d.default.icon})):null},c.render=function(){var e=this,t=this.props.className;return a.createElement("div",{className:(0,o.default)(t,d.default.container),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e._ref=t})},this.renderIcon(),this.renderUsers())},r}(a.PureComponent);h.displayName="VoiceUserSummaryItem",h.defaultProps={max:10,renderMoreUsers:p,size:l.default.Sizes.XSMALL};var v=h;t.default=v},5918:function(e,t,n){"use strict";t.__esModule=!0,t.GIFAccessoryContext=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)).createContext(function(){return null});t.GIFAccessoryContext=r},5919:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.__esModule=!0,t.default=t.Token=t.QueryTokenizer=t.NON_TOKEN_TYPE=void 0;var a=/.+/g;function o(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var a=t[r],o=i(e.match(a.regex),n),l=void 0;if(o){var s=a.cache;if(s&&(l=s.get(o[0]))&&((l=new u(l)).start=o.index),!l){if(l=new u(o,a.type),a.validator&&!a.validator(l))continue;s&&!s.has(o[0])&&s.set(o[0],l)}return l}}return null}function i(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}t.NON_TOKEN_TYPE="NON_TOKEN";var l=function(){function e(e,t){var n=this;void 0===e&&(e=[]),this.reset(e,t),e.forEach(function(e){return n.addRule(e)})}var t=e.prototype;return t.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||"NON_TOKEN"},t.addRule=function(e){var t,n=this,r=e.type,a=e.follows,o=e.validator,i=e.regex;"^"!==i.source.charAt(0)&&(i=new RegExp("^"+i.source,i.flags)),o&&(t=new Map),a?a.forEach(function(e){n._followers[e]||(n._followers[e]=[]),n._followers[e].push({regex:i,type:r,validator:o,cache:t})}):this._rules.push({regex:i,type:r,validator:o,cache:t})},t.tokenize=function(e){for(var t,n=e,r="",o=0,l=[];n.length;){var s=this._getMatch(n,t,o+r.length);s?(r&&l.push(new u(i(r.match(a),o),this._nonTokenType)),t=s,l.push(s),o+=t.length+r.length,n=n.substring(t.length),r=""):(r+=n[0],n=n.substring(1))}return r&&l.push(new u(i(r.match(a),o),this._nonTokenType)),l},t.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},t._getMatch=function(e,t,n){var r,a=t?t.type:null;return t&&t.end===n&&(r=o(e,this._followers[a],n)),r||(r=o(e,this._rules,n)),r},e}();t.QueryTokenizer=l;var u=function(){function e(t,n){t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}var t,n,a,o=e.prototype;return o.valueOf=function(){return this.match[0]},o.getFullMatch=function(){return this.match[0]},o.getMatch=function(e){return void 0===e&&(e=0),this.match[e]},o.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},o.getData=function(e){if(this._data)return this._data.get(e)},t=e,(n=[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}])&&r(t.prototype,n),a&&r(t,a),e}();t.Token=u,l.NON_TOKEN_TYPE="NON_TOKEN",l.Token=u;var s=l;t.default=s},5922:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=f(n(9)),o=f(n(1)),i=f(n(310)),l=f(n(99)),u=f(n(18)),s=(f(n(6340)),f(n(801))),d=f(n(73)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(t){l.default.addConditionalChangeListener(function(){var n=l.default.getDefaultChannel(t.id);if(null!=n)return e(function(){null!=r?(v(),setTimeout(function(){d.default.push(r,{guild:new i.default(p({},t)),channel:n,source:c.InstantInviteSources.GUILD_CREATE})},1e3)):v()}),!1})}function v(){o.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_CLOSE})}r=r=n(5885).default;var m={open:function(e,t,n){switch(void 0===t&&(t=null),void 0===n&&(n=null),o.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_OPEN,screen:e}),e){case c.CreateGuildModalScreens.CreateGuild:u.default.track(c.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",Source:t,location_section:n});break;case c.CreateGuildModalScreens.JoinGuild:u.default.track(c.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",Source:t,location_section:n});break;default:u.default.track(c.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild",Source:t,location_section:n})}},setScreen:function(e){o.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_SET_SCREEN,screen:e})},close:v,updateTemporaryGuild:function(e){o.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_UPDATE,guild:e})},createGuild:function(e,t,n){void 0===n&&(n=null),o.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_SUBMIT}),a.default.post({url:c.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){h(e.body),s.default.transitionToGuildSync(e.body.id)},function(e){return o.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_SUBMIT_FAILURE,errors:e.body})})},createGuildPromise:function(e,t,n){return void 0===n&&(n=null),a.default.post({url:c.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){h(e.body),s.default.transitionToGuildSync(e.body.id)},function(e){throw e.body})},createGuildPromiseSimple:function(e,t,n){return void 0===n&&(n=null),a.default.post({url:c.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){o.default.dispatch({type:c.ActionTypes.MOBILE_NUF_GUILD_CREATED}),s.default.transitionToGuildSync(e.body.id)})}};t.default=m}).call(this,n(30).setImmediate)},5923:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=x(n(2)),o=H(n(17)),i=H(n(5887)),l=H(n(6)),u=H(n(32)),s=H(n(3)),d=H(n(5990)),c=H(n(6369)),f=H(n(73)),p=x(n(826)),h=H(n(5999)),v=H(n(191)),m=H(n(831)),_=H(n(20)),y=H(n(5896)),g=H(n(99)),E=H(n(6034)),S=H(n(159)),T=H(n(194)),I=H(n(306)),O=H(n(42)),N=H(n(6035)),C=H(n(6370)),A=H(n(158)),M=H(n(427)),R=n(805),b=H(n(18)),P=H(n(5889)),L=n(113),D=H(n(198)),w=n(6374),U=H(n(6036)),G=H(n(6388)),k=H(n(6392)),F=n(0),j=H(n(10)),B=H(n(5297));function H(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W="@",z="#",$=":",q="+",X="/",J="COMMAND";function Q(e){switch(e.title){case F.ChannelTextAreaIntegrations.GIPHY.title:case F.ChannelTextAreaIntegrations.TENOR.title:return j.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}var Z=[].concat((0,l.default)(F.ChannelTextAreaIntegrations).values().map(function(e){return K({},e,{isIntegration:!0,horizontal:e.type===F.ChannelTextAreaIntegrationTypes.GIF,description:Q(e)})}).value(),[{command:"tts",description:j.default.Messages.COMMAND_TTS_DESCRIPTION,predicate:function(e){return O.default.enableTTSCommand&&(e.isPrivate()||S.default.can(F.Permissions.SEND_TSS_MESSAGES,e))}},{command:"me",description:j.default.Messages.COMMAND_ME_DESCRIPTION},{command:"tableflip",description:j.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},{command:"unflip",description:j.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},{command:"shrug",description:j.default.Messages.COMMAND_SHRUG_DESCRIPTION},{command:"spoiler",description:j.default.Messages.COMMAND_SPOILER_DESCRIPTION},{command:"nick",description:j.default.Messages.COMMAND_NICK_DESCRIPTION,predicate:function(e){return!e.isPrivate()&&(S.default.can(F.Permissions.CHANGE_NICKNAME,e)||S.default.can(F.Permissions.MANAGE_NICKNAMES,e))}}]),ee=new RegExp("^("+Z.filter(function(e){return e.isIntegration}).map(function(e){return e.command}).join("|")+")\\s(.+)","i");function te(e,t,n,r){var a=n.length>0?e.format({prefix:r(n)}):t;return Y(N.default.Title,{title:a},"autocomplete-title-"+a)}function ne(e,t,n,r,o,i,l,u,s,d){if(null==n||0===n.length)return null;var c=n.map(function(e,n){return a.createElement(u,K({onClick:o,onHover:r,selected:t===n,index:n},s(e,n)))});return[te(i,l,e,d),c]}te.displayName="renderHeader";var re=Y(N.default.Divider,{},"autocomplete-divider-1"),ae=Y(N.default.Divider,{},"autocomplete-divider-2");function oe(e,t,n,r,a,s){var d;return(d={MENTIONS:{matches:function(e,t){return P.default.matchSentinel(e,t,W)},queryResults:function(t){return P.default.queryMentionResults(t,e,a)},renderResults:function(e,n,r,a,o){var i=o.users,l=o.globals,u=o.roles;if(null==i||null==l||null==u||0===i.length&&0===l.length&&0===u.length)return null;var d=i.map(function(e,o){return Y(N.default.User,{onClick:a,onHover:r,selected:n===o,index:o,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:t,colorblindMode:s},e.user.id)}),c=l.map(function(e,t){return Y(N.default.Generic,{onClick:a,onHover:r,selected:n===t+i.length,index:i.length+t,text:e.text,description:e.description},e.text)}),f=u.map(function(e,t){return Y(N.default.Role,{onClick:a,onHover:r,selected:n===t+i.length+l.length,index:i.length+l.length+t,role:e},e.id)});return[te(j.default.Messages.MEMBERS_MATCHING,j.default.Messages.MEMBERS,e,function(e){return""+W+e}),d,i.length>0&&l.length>0?re:null,c,i.length>0&&u.length>0||l.length>0&&u.length>0?ae:null,f]},getText:function(e,n){var r=n.users,a=n.globals,o=n.roles;if(null==r||null==a||null==o)return"";var i=r[e],l=a[e-r.length],u=o[e-r.length-a.length];return null!=i?t?""+W+i.user.username:""+W+i.user.tag:null!=l?l.text:null!=u?""+W+u.name:""}},CHANNELS:{matches:function(t,n){return!e.isDM()&&!e.isGroupDM()&&P.default.matchSentinel(t,n,z)},queryResults:function(t){return P.default.queryChannelResults(t,e)},renderResults:function(e,t,n,r,a){return ne(e,t,a.channels,n,r,j.default.Messages.TEXT_CHANNELS_MATCHING,j.default.Messages.TEXT_CHANNELS,N.default.Channel,function(e){return{channel:e,key:e.id,category:_.default.getChannel(e.parent_id)}},function(e){return""+z+e})},getText:function(e,t){var n=t.channels;if(null==n)return"";var r=n[e];if(null==r)return"";var a=g.default.getTextChannelNameDisambiguations(r.guild_id)[r.id];return"#"+(null!=a?a.name:r.name)}},EMOJIS:{matches:function(e,t){return t.length>1&&e===$},queryResults:function(t){return P.default.queryEmojiResults(t,e)},renderResults:function(e,t,n,r,a){return ne(e,t,a.emojis,n,r,j.default.Messages.EMOJI_MATCHING,j.default.Messages.EMOJI,N.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:$}},function(e){return""+$+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+$+n[e].name+$}},REACTIONS:{matches:function(e,t,n){return 0===n&&e===q&&t.startsWith($)},queryResults:function(t){return P.default.queryEmojiResults(t.substring(1),e)},renderResults:function(e,t,n,r,a){return ne(e,t,a.emojis,n,r,j.default.Messages.REACTIONS_MATCHING,j.default.Messages.EMOJI,N.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:$}},function(e){return""+q+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+q+$+n[e].name+$}}})[J]={matches:function(e,t,n){return 0===n&&(e===X||null!=t.match(ee))},queryResults:function(t){var n=t.match(ee);if(n){var r=n[1],a=l.default.findKey(F.ChannelTextAreaIntegrations,function(e){return e.command===r});return c.default.search(a,n[2]),{integrationQuery:n[2],integration:a}}var o=new RegExp("^"+D.default.escape(t),"i"),u=[],s=[];(0,l.default)(Z).forEach(function(n){(null==n.predicate||n.predicate(e))&&(o.test(n.command)?u.push(n):(0,i.default)(t,n.command.toLowerCase())&&s.push(n))});var d=[],f=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a;if(!(d.length<F.MAX_AUTOCOMPLETE_RESULTS))break;d.push(o)}};return f(u),f(s),{commands:d}},renderResults:function(e,t,a,i,l){if(null!=l&&null!=l.commands)return ne(e,t,l.commands,a,i,j.default.Messages.COMMANDS_MATCHING,j.default.Messages.COMMANDS,N.default.Command,function(e){return{command:e.command,description:e.description,key:e.command}},function(e){return""+X+e});if(r)return Y(M.default,{className:B.default.spinner,type:M.default.Type.SPINNING_CIRCLE});if(null!=n&&null!=n.integrations){var s,d=e.match(ee);if(null==d||null==n.integrations)return null;var c=!1,f=n.integrations.map(function(e,n){switch(e.type){case F.ChannelTextAreaIntegrationTypes.GIF:return c=!0,Y(N.default.GIFIntegration,{className:B.default.horizontalAutocomplete,onClick:i,onHover:a,selected:t===n,index:n,width:e.meta.width,height:e.meta.height,src:e.meta.src,url:e.meta.url},""+e.meta.url+e.meta.src)}}),p=Z.find(function(e){return e.command===d[1]}),h=e.length>0&&null!=p&&null!=p.title?j.default.Messages.CONTENT_MATCHING.format({query:d[2],command:p.title}):null!=p&&null!=p.title?p.title:d[1];return[Y(N.default.Title,{title:h},"autocomplete-title-"+h),c?Y(A.default,{className:(0,o.default)((s={},s[B.default.horizontalAutocompletes]="Firefox"!==u.default.name,s))},"autocomplete-horizontal-completes",f):f]}},getText:function(e,t){var n=t.commands,r=t.integrations;return null!=n&&null!=n[e]?""+X+n[e].command:null!=r&&null!=r[e]?r[e].meta.url:""},onSelect:function(e,t,n){var r=n.commands,a=n.integrations;if(null==r&&null!=a){var o=e.match(ee);if(null==o)return;var i=o[1];v.default.trackWithMetadata(F.AnalyticEvents.SLASH_COMMAND_USED,{command:i}),"giphy"!==i&&"tenor"!==i||v.default.trackWithMetadata(F.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:F.SearchTypes.GIF,index_num:t,source_object:"/"+i})}}},d}var ie=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._gifPickerRef=a.createRef(),n.handleFavorite=function(){n.setState({justFavorited:!0}),clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.setState({justFavorited:!1})},1500)},n.toggleGIFPicker=function(){n.setState(function(e){return{isGIFPickerActive:!e.isGIFPickerActive}})},n.handleCloseGIFPicker=function(){return n.setState({isGIFPickerActive:!1})},n.closeGIFPicker=function(e){if(n.state.isGIFPickerActive){for(var t=e.target;t instanceof Element;){if(t===n._gifPickerRef.current)return;if(t===n.getGIFPickerButton())return;t=t.parentNode}n.setState({isGIFPickerActive:!1}),null!=document.activeElement&&"BODY"!==document.activeElement.tagName||n.focus()}},n.handlePremiumGiftClick=function(e){var t=n.props.channel;p.openModal({mode:F.PremiumPaymentSubscriptionModes.NEW,skuId:F.PremiumSubscriptionSKUs.TIER_2,isGift:!0,isGiftingFromChat:!0,analyticsLocation:{page:t.isPrivate()?F.AnalyticsPages.DM_CHANNEL:F.AnalyticsPages.GUILD_CHANNEL,section:F.AnalyticsSections.CHANNEL_TEXT_AREA,object:F.AnalyticsObjects.BUTTON_ICON,objectType:F.AnalyticsObjectTypes.GIFT}}).catch(F.NOOP_NULL)},n.renderGIFPreview=function(){return a.createElement(G.default,{onSelectGIF:n.handleSelectGIF,ref:n._gifPickerRef})},n.handleSelectGIF=function(e){n.setState({isGIFPickerActive:!1});var t=V(n)._ref;null!=t&&t.handleSelectGIF(e)},n.handleGIFPickerToggle=function(e){e.stopPropagation(),e.preventDefault(),n.toggleGIFPicker()},l.default.bindAll(V(n),["renderEmojiPickerPopout","handleSetRef","handleSaveCurrentText","handleFileUpload","handleInviteToPlay","handleInviteToSpectate","handleInviteToListen","handleInviteToWatch","handleAutocompleteQuery"]);var r={};return n.state={integration:null,integrationQuery:null,autocompleteOptions:oe(t.channel,t.hidePersonalInformation,r,!1,t.canMentionEveryone,t.colorblindMode),autocompletes:r,isAutocompletesLoading:!1,isGIFPickerActive:!1,justFavorited:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.props.focused&&this.focus(),L.ComponentDispatch.subscribe(F.ComponentActions.FAVORITE_GIF,this.handleFavorite)},o.componentDidUpdate=function(e,t){var n=this;this.grabIntegrationResults(e,t,function(){return n.grabAutocompleteOptions(e,t)}),this.fixFocus(e),!t.isGIFPickerActive&&this.state.isGIFPickerActive?this.setupGIFPickerHandlers():t.isGIFPickerActive&&!this.state.isGIFPickerActive&&this.cleanupGIFPickerHandlers()},o.componentWillUnmount=function(){this.cleanupGIFPickerHandlers(),L.ComponentDispatch.unsubscribe(F.ComponentActions.FAVORITE_GIF,this.handleFavorite),clearTimeout(this._timeout)},o.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()},o.focus=function(){this._ref&&this._ref.focus()},o.blur=function(){this._ref&&this._ref.blur()},o.setupGIFPickerHandlers=function(){document.addEventListener("click",this.closeGIFPicker,!0),document.addEventListener("contextmenu",this.closeGIFPicker,!0),L.ComponentDispatch.subscribe(F.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},o.cleanupGIFPickerHandlers=function(){document.removeEventListener("click",this.closeGIFPicker,!0),document.removeEventListener("contextmenu",this.closeGIFPicker,!0),L.ComponentDispatch.unsubscribe(F.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},o.getGIFPickerButton=function(){var e=this._ref;return null!=e?e.getGIFPickerButton():null},o.grabIntegrationResults=function(e,t,n){var r=this.state,a=r.integration,o=r.integrationQuery,i=r.autocompletes,l=E.default.getResults(a,o);null==l||null!=i&&i.integrations===l.results?n():this.setState({autocompletes:{integrations:l.results},isAutocompletesLoading:l.loading},n)},o.grabAutocompleteOptions=function(e,t){var n=this.props,r=n.channel,a=n.hidePersonalInformation,o=n.canMentionEveryone,i=n.colorblindMode,l=this.state,u=l.autocompletes,s=l.isAutocompletesLoading;if(r!==e.channel||a!==e.hidePersonalInformation||!(null!=u&&null!=t.autocompletes||null==u&&null!=t.autocompletes||null!=u&&null!=t.autocompletes&&u.integrations!==t.autocompletes.integrations)||s!==t.isAutocompletesLoading||o!==e.canMentionEveryone||i!==e.colorblindMode){var d=oe(r,a,u,s,o,i);this.setState({autocompleteOptions:d})}},o.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder;return t?j.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n},o.renderEmojiPickerPopout=function(e,t){return a.createElement(U.default,K({},e,t))},o.render=function(){var e=this,t=this.props,n=t.value,r=t.className,o=t.disabled,i=t.channel,l=t.type,u=t.canAttachFiles,s=t.canSendInvites,d=t.canPasteFiles,c=t.disableGIFPicker,f=t.shouldRenderPremiumGiftButton,p=t.activities,h=t.onChange,v=t.onResize,m=t.onKeyDown,_=t.onKeyUp,y=t.onBlur,g=t.onFocus,E=t.onSubmit,S=t.shouldShowTooltipOnFavorite,T=this.state,I=T.autocompletes,O=T.autocompleteOptions,N=T.isGIFPickerActive,M=T.justFavorited;return Y(R.BackgroundOpacityContext.Consumer,{},void 0,function(t){return Y(A.default,{direction:A.default.Direction.VERTICAL},void 0,a.createElement(C.default,{ref:e.handleSetRef,value:n,className:r,backgroundOpacity:t.backgroundOpacity,disabled:o,placeholder:e.getPlaceholder(),channel:i,type:l,canAttachFiles:u,canSendInvites:s,canPasteFiles:d,activities:p,autocompleteOptions:O,autocompletes:I,renderCustomAutocomplete:N?e.renderGIFPreview:null,renderEmojiPickerPopout:e.renderEmojiPickerPopout,shouldRenderPremiumGiftButton:f,onChange:h,onResize:v,onKeyDown:m,onKeyUp:_,onSaveCurrentText:e.handleSaveCurrentText,onFileUpload:e.handleFileUpload,onInviteToPlay:e.handleInviteToPlay,onInviteToSpectate:e.handleInviteToSpectate,onInviteToListen:e.handleInviteToListen,onInviteToWatch:e.handleInviteToWatch,onOpenAttachPopout:e.handleOpenAttachPopout,onGIFPickerToggle:c?null:e.handleGIFPickerToggle,isGIFPickerActive:N,justFavorited:M,shouldShowTooltipOnFavorite:S,onPremiumGiftClick:e.handlePremiumGiftClick,onBlur:y,onFocus:g,onAutocompleteQuery:e.handleAutocompleteQuery,onSubmit:E}))})},o.handleSetRef=function(e){this._ref=e},o.handleSaveCurrentText=function(e){d.default.saveDraft(e,this.props.value)},o.handleFileUpload=function(e){(0,w.promptToUpload)(e,this.props.channel)},o.handleStartFileUpload=function(){this._ref&&this._ref.handleStartFileUpload()},o.handleInviteToPlay=function(e){var t=this.props.channel;b.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(k.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.JOIN})})},o.handleInviteToSpectate=function(e){var t=this.props.channel;b.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Spectate Invite",application_id:e.application_id,location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(k.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.SPECTATE})})},o.handleInviteToListen=function(e){var t=this.props.channel;b.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Listen Invite",location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(k.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.LISTEN})})},o.handleInviteToWatch=function(e){var t=this.props.channel;b.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Watch Invite",location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(k.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.WATCH})})},o.handleInsertText=function(e){var t=e.content;this._ref&&this._ref.insertText(t),this.focus()},o.handleOpenAttachPopout=function(){b.default.track(F.AnalyticEvents.OPEN_POPOUT,{type:"Send Attachment"})},o.handleAutocompleteQuery=function(e,t,n){var r=e.queryResults(t);n===J&&null==r.commands?this.setState({autocompletes:null,integrationQuery:r.integrationQuery,integration:r.integration}):this.setState({autocompletes:r,integrationQuery:null})},r}(a.PureComponent);ie.displayName="ChannelTextAreaContainer",ie.defaultProps={type:F.TextareaTypes.NORMAL,disableGIFPicker:!0,disableActivity:!1,disableAttachments:!1,disableImagePaste:!1,disableInvites:!1,focused:!1,shouldRenderPremiumGiftButton:!1};var le=(0,h.default)(function(e,t){var n;return(n={})[F.ComponentActions.UPLOAD_FILE]=t.handleStartFileUpload.bind(t),n[F.ComponentActions.INSERT_TEXT]=t.handleInsertText.bind(t),n[F.ComponentActions.TOGGLE_GIF_PICKER]=t.toggleGIFPicker,n})(ie),ue=s.default.connectStores([E.default,S.default,T.default,I.default,m.default,y.default],function(e){var t=e.channel,n=e.disableAttachments,r=e.disableImagePaste,a=e.disableActivity,o=e.disableInvites,i=e.type,l=t.isPrivate(),u=l||S.default.can(F.Permissions.ATTACH_FILES,t),s=l||S.default.can(F.Permissions.EMBED_LINKS,t);return{query:E.default.getQuery(),canAttachFiles:!n&&u,canPasteFiles:!r&&u,canSendInvites:!o&&s,disabled:!l&&!S.default.can(F.Permissions.SEND_MESSAGES,t),canMentionEveryone:l||S.default.can(F.Permissions.MENTION_EVERYONE,t),activities:a?null:T.default.getActivities(),hidePersonalInformation:I.default.hidePersonalInformation,colorblindMode:m.default.colorblindMode,disableGIFPicker:null!=i&&i!==F.TextareaTypes.NORMAL,shouldShowTooltipOnFavorite:y.default.shouldShowTooltipOnFavorite()}},{forwardRef:!0})(le);t.default=ue},5924:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EmbedGIFV=t.EmbedVideo=t.EmbedLink=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(114)),l=n(810),u=n(5881),s=E(n(305)),d=E(n(6045)),c=E(n(5865)),f=E(n(833)),p=E(n(6397)),h=E(n(5949)),v=n(5918),m=n(853),_=n(0),y=E(n(5300)),g=E(n(5249));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){return a.createElement(s.default,e)};t.EmbedLink=O,O.displayName="EmbedLink";var N=function(e){var t=e.href,n=e.image,r=e.ImageComponent,o=e.zoomable,i=void 0===o||o,l=e.backgroundOpacity;return a.createElement(r,I({src:n.proxyURL||n.url,original:i?n.url:t,width:n.width,height:n.height,zoomable:i,backgroundOpacity:l},e))};N.displayName="EmbedImage";var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={playing:t.props.autoPlay},t.handlePlay=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.onPlay;n&&n(!1),t.setState({playing:!0})},t}T(t,e);var n=t.prototype;return n.componentDidUpdate=function(){!this.props.playable&&this.state.playing&&this.setState({playing:!1})},n.render=function(){var e=this.props,t=e.className,n=e.maxWidth,r=e.maxHeight,l=e.thumbnail,s=e.video,d=e.allowFullScreen,c=e.ImageComponent,f=e.VideoComponent,p=e.LinkComponent,v=e.playable,m=e.backgroundOpacity,_=e.mediaPlayerRef,g=e.autoPlay,E=e.autoMute,T=e.volume,O=e.onPlay,N=e.onEnded,C=e.onVolumeChange,A=e.onMute,M=this.state.playing,R=l.width,b=l.height;M&&null!=s&&(R=s.width,b=s.height);var P=(0,u.fit)(R,b,n,r);R=P.width,b=P.height;var L=l.proxyURL||l.url;if(null!=s&&null!=s.proxyURL){var D={poster:L,src:s.proxyURL,width:R,height:b,naturalWidth:s.width,naturalHeight:s.height,maxWidth:n,maxHeight:r,playable:v,mediaPlayerRef:_,autoPlay:g,autoMute:E,volume:T,onPlay:O,onEnded:N,onMute:A};return S("div",{className:(0,o.default)(y.default.embedVideo,t),style:{width:R,height:b}},void 0,null!=f?a.createElement(f,I({},D,{onVolumeChange:C,onMute:A})):a.createElement("video",I({},D,{controls:!0})))}if(M&&null!=s){var w=i.default.parse(s.url,!0);w.query=I({},w.query,{autoplay:1,auto_play:1}),delete w.search;var U=i.default.format(w);return S("div",{className:(0,o.default)(y.default.embedVideo,t),style:{width:R,height:b}},void 0,S("iframe",{className:y.default.embedIframe,src:U,width:R,height:b,frameBorder:0,allowFullScreen:d}))}return S("div",{className:(0,o.default)(y.default.embedVideo,t),style:{width:R,height:b}},void 0,S(c,{src:L,width:R,height:b,className:y.default.embedVideoImageComponent,imageClassName:y.default.embedVideoImageComponentInner,onClick:v&&null!=s?this.handlePlay:null}),S("div",{className:y.default.embedVideoActions},void 0,S("div",{className:y.default.centerContent},void 0,v?S(h.default,{onPlay:null!=s?this.handlePlay:null,externalURL:this.props.href,LinkComponent:p,backgroundOpacity:m}):null)))},t}(a.PureComponent);t.EmbedVideo=C,C.displayName="EmbedVideo",C.defaultProps={allowFullScreen:!0,playable:!0,LinkComponent:O,ImageComponent:c.default,autoPlay:!1,autoMute:!1};var A=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.href,r=e.autoPlay,a=e.maxWidth,i=e.maxHeight,l=e.thumbnail,s=e.video,d=e.LinkComponent,c=e.GIFVComponent,f=e.ImageComponent,p=e.playable;if(null!=c)return S(c,{className:(0,o.default)(y.default.embedGIFV,t),original:n,poster:l.proxyURL||l.url,src:s.proxyURL||s.url,width:l.width,height:l.height,naturalHeight:s.height,naturalWidth:s.width,maxWidth:a,maxHeight:i,autoPlay:r,ImageComponent:f,playable:p});var h=(0,u.fit)(l.width,l.height,a,i),v=h.width,m=h.height;return S(d,{className:(0,o.default)(y.default.embedGIFV,t),href:n,tabIndex:p?0:-1},void 0,S("video",{width:v,height:m,poster:l.proxyURL||l.url,src:s.proxyURL||s.url,muted:!0,loop:!0,autoPlay:p&&r,preload:"none"}))},t}(a.PureComponent);function M(e){var t=e.className,n=e.embed.url,r=e.backgroundOpacity;if(null==n)return null;var a=null,l=null;try{var u=i.default.parse(n,!0);a=u.host,l=u.pathname}catch(e){return null}if("open.spotify.com"!==a||null==l)return null;var s=l.split("/"),d=null!=s[1]?s[1].toLowerCase():null,c=null!=s[3]?s[3].toLowerCase():null;return!["track","playlist","album","artist","user"].includes(d)||"user"===d&&"playlist"!==c?null:S(p.default,{className:(0,o.default)(y.default.embedSpotify,t,y.default[r+"BackgroundOpacity"]),src:_.SpotifyEndpoints.EMBED(l),style:{width:400,height:"track"===d?80:300}})}t.EmbedGIFV=A,A.displayName="EmbedGIFV",A.defaultProps={LinkComponent:O,playable:!0},M.displayName="SpotifyEmbed";var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:!t.props.embed.spoiler},t.onReveal=function(){t.setState({isVisible:!0})},t}T(t,e);var n=t.prototype;return n.renderProvider=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=void 0!==r&&r,i=n.focusable,l=void 0===i||i,u=this.props,s=u.embed.provider,d=u.LinkComponent;return null==s?null:S("div",{className:(0,o.default)((t={},t[y.default.embedMargin]=a,t))},void 0,null!=s.url?S(d,{className:y.default.embedProviderLink,href:s.url,tabIndex:l?0:-1},void 0,s.name):S("span",{className:y.default.embedProvider},void 0,s.name))},n.renderAuthor=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=void 0!==r&&r,i=n.focusable,l=void 0===i||i,u=this.props,s=u.embed.author,d=u.LinkComponent;return null==s?null:S("div",{className:(0,o.default)(y.default.embedAuthor,(t={},t[y.default.embedMargin]=a,t))},void 0,null!=s.iconProxyURL?S("img",{alt:"",className:y.default.embedAuthorIcon,src:s.iconProxyURL}):null,null!=s.url?S(d,{className:y.default.embedAuthorNameLink,href:s.url,tabIndex:l?0:-1},void 0,s.name):S("span",{className:y.default.embedAuthorName},void 0,s.name))},n.renderTitle=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=void 0!==r&&r,i=n.focusable,l=void 0===i||i,u=this.props,s=u.embed,d=s.title,c=s.url,f=u.LinkComponent;return null==d?null:S("div",{className:(0,o.default)((t={},t[y.default.embedMargin]=a,t))},void 0,null!=c?S(f,{className:y.default.embedTitleLink,href:c,tabIndex:l?0:-1},void 0,d):S("span",{className:y.default.embedTitle},void 0,d))},n.renderDescription=function(e){var t;void 0===e&&(e=!1);var n=this.props.embed.description;return null==n?null:S("div",{className:(0,o.default)(y.default.embedDescription,(t={},t[y.default.embedMargin]=e,t))},void 0,n)},n.renderThumbnail=function(e){void 0===e&&(e=!0);var t=this.props,n=t.embed,r=n.url,a=n.thumbnail,o=t.maxThumbnailWidth,i=t.maxThumbnailHeight,l=t.ImageComponent,u=t.autoPlayGif,s=t.backgroundOpacity;return null==a?null:S(m.MessagesInteractionContext.Consumer,{},void 0,function(t){return S(N,{className:y.default.embedThumbnail,image:a,href:r,maxWidth:o,maxHeight:i,zoomable:!1,ImageComponent:l,autoPlay:u&&!t.disableAnimations,backgroundOpacity:s,shouldLink:e})})},n.renderFields=function(e){var t;void 0===e&&(e=!1);var n=this.props.embed.fields;return null==n?null:S("div",{className:(0,o.default)(y.default.embedFields,(t={},t[y.default.embedMargin]=e,t))},void 0,n.map(function(e,t){var n,r=e.name,a=e.value,i=e.inline;return S("div",{className:(0,o.default)(y.default.embedField,(n={},n[y.default.embedFieldInline]=i,n))},t,S("div",{className:y.default.embedFieldName},void 0,r),S("div",{className:y.default.embedFieldValue},void 0,a))}))},n.renderImage=function(e){var t=void 0===e?{}:e,n=t.hasMargin,r=void 0!==n&&n,a=t.hiddenSpoiler,i=void 0!==a&&a,l=t.isVisible,u=void 0===l||l,s=this.props,d=s.embed,f=d.url,p=d.image,h=s.maxMediaWidth,_=s.maxMediaHeight,g=s.ImageComponent,E=s.className,T=s.autoPlayGif,I=s.backgroundOpacity;if(null==p)return null;var O=c.default.isAnimated({src:p.proxyURL||p.url,original:p.url,animated:!1});return S(v.GIFAccessoryContext.Consumer,{},void 0,function(e){return S(m.MessagesInteractionContext.Consumer,{},void 0,function(t){var n;return S(N,{className:(0,o.default)(y.default.embedImage,(n={},n[y.default.embedMarginLarge]=r,n),E),image:p,href:f,maxWidth:h,maxHeight:_,ImageComponent:g,autoPlay:T&&!t.disableAnimations&&!i,backgroundOpacity:I,renderAccessory:O?e:null,shouldLink:u})})})},n.renderVideo=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=n.gifv,i=void 0!==a&&a,l=n.isVisible,u=void 0===l||l,s=this.props,d=s.embed,c=d.url,f=d.thumbnail,p=d.video,h=s.maxMediaWidth,v=s.maxMediaHeight,_=s.ImageComponent,g=s.VideoComponent,E=s.GIFVComponent,T=s.LinkComponent,I=s.allowFullScreen,O=s.autoPlayGif,N=s.backgroundOpacity;return null==c?null:null==f?null:i?null==p?null:S(m.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return S(A,{className:(0,o.default)((t={},t[y.default.embedMarginLarge]=r,t)),href:c,thumbnail:f,video:p,maxWidth:h,maxHeight:v,autoPlay:O&&!e.disableAnimations&&u,LinkComponent:T,GIFVComponent:E,ImageComponent:_,playable:u})}):S(C,{className:(0,o.default)((t={},t[y.default.embedMarginLarge]=r,t)),href:c,allowFullScreen:I,thumbnail:f,video:p,maxWidth:h,maxHeight:v,VideoComponent:g,LinkComponent:T,backgroundOpacity:N,playable:u})},n.renderFooter=function(e){void 0===e&&(e=!1);var t,n=this.props.embed,r=n.footer,a=n.timestamp;if(null!=r){var i,u=r.iconProxyURL||r.iconURL;return S("div",{className:(0,o.default)(y.default.embedFooter,(i={},i[y.default.embedMarginLarge]=e,i))},void 0,null!=u?S("img",{alt:"",className:y.default.embedFooterIcon,src:u}):null,S("span",{className:y.default.embedFooterText},void 0,r.text,null!=r.text&&null!=a?S("span",{className:y.default.embedFooterSeparator},void 0,"•"):null,null!=a?(0,l.calendarFormat)(a):null))}if(null!=a)return S("div",{className:(0,o.default)(y.default.embedFooter,y.default.embedFooterText,(t={},t[y.default.embedMargin]=e,t))},void 0,(0,l.calendarFormat)(a))},n.renderMedia=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.props.embed,r=this.state.isVisible;switch(n.type){case _.EmbedTypes.GIFV:return this.renderVideo({hasMargin:e,gifv:!0,hiddenSpoiler:t,isVisible:r});case _.EmbedTypes.VIDEO:default:return null!=n.video?this.renderVideo({hasMargin:e,gifv:!1,hiddenSpoiler:t,isVisible:r}):this.renderImage({hasMargin:e,hiddenSpoiler:t,isVisible:r})}},n.renderAll=function(){var e=this.props,t=e.embed,n=e.hideMedia,r=this.state.isVisible,a=!1,o=this.renderProvider({focusable:r});a=null!=o;var i=this.renderAuthor({hasMargin:a,focusable:r});a=a||null!=i;var l,u=this.renderTitle({hasMargin:a,focusable:r});switch(t.type){case _.EmbedTypes.IMAGE:case _.EmbedTypes.VIDEO:case _.EmbedTypes.GIFV:break;default:a=a||null!=u,l=this.renderDescription(a)}a=a||null!=l;var s,d=this.renderFields(a);n||(a=a||null!=d,s=this.renderMedia(a,!r)),a=a||null!=s;var c=this.renderFooter(a),f=null==s;return t.type===_.EmbedTypes.RICH&&(f=null==t.video),{provider:o,author:i,title:u,description:l,thumbnail:!n&&f?this.renderThumbnail(r):null,fields:d,media:s,footer:c}},n.getMaxWidth=function(){var e=this.props,t=e.maxMediaWidth,n=e.embed,r=n.image,a=n.thumbnail,o=n.video;if(null!=r||null!=o){var i=r||a||o;return null!=i&&i.width>=t?t+26:void 0}},n.isInline=function(){var e=this.props,t=e.hideMedia,n=e.inlineGIFV,r=e.embed,a=r.type,o=r.author,i=r.title,l=r.image,u=r.video;return!t&&((null!=l||null!=u)&&(a===_.EmbedTypes.GIFV&&n||a!==_.EmbedTypes.RICH&&null==o&&null==i))},n.render=function(){var e=this,t=this.props,n=t.className,r=t.embed,i=t.backgroundOpacity;if(null!=r.provider&&"Spotify"===r.provider.name)return a.createElement(M,this.props);if(this.isInline()){var l=function(t){var a;return void 0===t&&(t=!1),S("div",{"aria-hidden":t,className:(0,o.default)(y.default.embed,n,(a={},a[y.default.spoilerAttachment]=r.spoiler,a[y.default.hiddenSpoiler]=t,a))},void 0,e.renderMedia(!1,t))};return r.spoiler?S(f.default,{type:f.default.Types.ATTACHMENT,onReveal:this.onReveal},void 0,function(e){return l(e)}):l()}var u=this.renderAll(),s=u.provider,d=u.author,c=u.title,p=u.description,h=u.fields,v=u.thumbnail,m=u.media,_=u.footer,E=function(t){var a;return void 0===t&&(t=!1),S("div",{className:(0,o.default)(y.default.embed,n,i&&y.default[i+"BackgroundOpacity"],(a={},a[y.default.hiddenSpoiler]=t,a[y.default.spoilerEmbed]=r.spoiler,a)),"aria-hidden":t,style:{maxWidth:e.getMaxWidth()}},void 0,S("div",{className:y.default.embedPill,style:{backgroundColor:t?null:r.color}}),S("div",{className:y.default.embedInner},void 0,S("div",{className:y.default.embedContent},void 0,S("div",{className:(0,o.default)(y.default.embedContentInner,g.default.markup)},void 0,s,d,c,p,h),v),m,_))};return r.spoiler?S(f.default,{type:f.default.Types.EMBED,onReveal:this.onReveal},void 0,function(e){return E(e)}):E()},t}(a.PureComponent);t.default=R,R.displayName="Embed",R.defaultProps={hideMedia:!1,allowFullScreen:!0,inlineGIFV:!0,maxThumbnailWidth:80,maxThumbnailHeight:80,maxMediaWidth:400,maxMediaHeight:300,LinkComponent:O,ImageComponent:d.default}},5926:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=(n(429),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(840)));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u="",s=null,d=null,c="",f="",p="",h=!1,v="US",m="",_="",y="",g="",E="",S="",T=!1,I=null;function O(){d=null,u="",s=null,c="",f="",p="",h=!1,v="US",m="",_="",y="",g="",E="",S="",T=!1,I=null}function N(e){m=e.name,v=e.country,_=e.line1,y=e.line2,g=e.city,E=e.postalCode,S=e.state}function C(){I=null}function A(e){var t=e.error;I=t}var M=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,O=r.prototype;return O.getCreditCardInfo=function(){return{name:m,cardNumber:c,expirationDate:f,cvc:p}},O.getBillingAddressInfo=function(){return{name:m,country:v,line1:_,line2:y,city:g,postalCode:E,state:S}},a=r,(o=[{key:"stripePaymentSource",get:function(){return d}},{key:"braintreeEmail",get:function(){return u}},{key:"braintreeNonce",get:function(){return s}},{key:"isCardInfoValid",get:function(){return h}},{key:"isBillingAddressInfoValid",get:function(){return T}},{key:"error",get:function(){return I}}])&&l(a.prototype,o),i&&l(a,i),r}(r.default.Store))(a.default,{NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE:function(e){var t=e.stripePaymentSource;null!=t?(d=t,N(o.parseStripeSource(d).billingAddressInfo)):O()},NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;c=t.cardNumber,f=t.expirationDate,p=t.cvc,m=t.name,h=n},NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;v=t.country,_=t.line1,y=t.line2,g=t.city,E=t.postalCode,S=t.state,T=n},BRAINTREE_TOKENIZE_PAYPAL_START:function(e){return u="",void(s=null)},BRAINTREE_TOKENIZE_PAYPAL_SUCCESS:function(e){var t=e.email,n=e.nonce,r=e.billingAddress;u=t,s=n,N(r),T=v.length>0},BILLING_PAYMENT_SOURCE_CREATE_START:function(e){return C()},MODAL_POP:function(e){return C()},NEW_PAYMENT_SOURCE_CLEAR_ERROR:function(e){return C()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:A,STRIPE_TOKEN_FAILURE:A,BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return O()},LOGOUT:function(e){return O()}});t.default=M},5931:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(866)),o=l(n(801)),i=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}var u,s=new a.default({maxAge:6e4});var d={requestMembers:function(e,t,n){void 0===n&&(n=10);var a=(e||"")+":"+t;null==s.get(a)&&(s.set(a,!0),function(e,t,n){null!=u&&clearTimeout(u),u=setTimeout(function(){var a=[],l=function(e){a.push(e.id)};if(null==e)r.default.forEach(i.default.getGuilds(),l);else{var u=i.default.getGuild(e);null!=u&&l(u)}a.length>0&&o.default.requestMembers(a,t.toLocaleLowerCase(),n)},200)}(e,t,n))},getAcronym:function(e){return null!=e?e.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,""):""}};t.default=d},5932:function(e,t,n){"use strict";t.__esModule=!0,t.ack=c,t.ackCategory=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!1);var r=i.default.getChannel(e);if(null==r||null==r.guild_id)return;var a=l.default.getCategories(r.guild_id);if(null==a[e])return;a[e].filter(function(e){var t=e.channel;return(0,o.isGuildTextChannelType)(t.type)}).forEach(function(e){var r=e.channel;u.default.hasUnread(r.id)&&c(r.id,t,n)})},t.localAck=function(e){a.default.dispatch({type:s.ActionTypes.CHANNEL_LOCAL_ACK,channelId:e})},t.manualAck=function(e,t){r.default.post({url:s.Endpoints.MESSAGE_ACK(e,t),body:{manual:!0}})};var r=d(n(9)),a=d(n(1)),o=n(129),i=d(n(20)),l=d(n(820)),u=d(n(309)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),a.default.dispatch({type:s.ActionTypes.CHANNEL_ACK,channelId:e,immediate:t,force:n,context:s.CURRENT_APP_CONTEXT})}},5933:function(e,t,n){"use strict";t.__esModule=!0,t.show=C,t.hide=A,t.toggle=function(e){void 0===e&&(e="KEYBIND");f.default.isOpen()?A():C(e)},t.search=function(e){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SEARCH,query:e,options:I()})},t.selectResult=function(e){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SELECT,selectedIndex:e})},t.switchToResult=function(e){O(g.AnalyticEvents.QUICKSWITCHER_RESULT_SELECTED,e);var t,n=e.type,u=e.record,f={page:g.AnalyticsPages.QUICK_SWITCHER};switch(n){case g.AutocompleterResultTypes.GUILD:t=p.default.getChannelId(u.id),o.default.selectChannel(u.id,t,f),o.default.flushSelection(!0);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:null!=(t=d.default.getChannel(u.id))&&(o.default.selectChannel(t.guild_id,u.id,f),o.default.flushSelection(!0));break;case g.AutocompleterResultTypes.VOICE_CHANNEL:null!=(t=d.default.getChannel(u.id))&&l.default.selectVoiceChannel(t.guild_id,u.id);break;case g.AutocompleterResultTypes.USER:a.default.openPrivateChannel(s.default.getId(),[u.id]),i.default.channelListScrollTo(g.ME,u.id);break;case g.AutocompleterResultTypes.GROUP_DM:o.default.selectChannel(g.ME,u.id),o.default.flushSelection(!0),i.default.channelListScrollTo(g.ME,u.id);break;case g.AutocompleterResultTypes.APPLICATION:var h=(0,_.getLibraryApplicationForApplicationId)(u.id,c.default,v.default);S(u.id,h,{analyticsParams:{source:g.AnalyticsLocations.QUICK_SWITCHER,location:g.AnalyticsLocations.QUICK_SWITCHER}})}r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SWITCH_TO,result:e}),N()};var r=E(n(1)),a=E(n(430)),o=E(n(5864)),i=E(n(5876)),l=E(n(133)),u=E(n(129)),s=E(n(11)),d=E(n(20)),c=E(n(88)),f=E(n(6027)),p=E(n(50)),h=E(n(160)),v=E(n(246)),m=E(n(18)),_=n(117),y=n(6085),g=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var S=function(){return Promise.resolve()},T=n(5910);function I(){return{selectedGuildId:h.default.getGuildId(),selectedChannelId:p.default.getChannelId(),lastSelectedChannelId:p.default.getLastSelectedChannelId()}}function O(e,t){var n=f.default.getProps(),r=n.results,a=n.queryMode,o=n.query,i=h.default.getGuildId(),l=p.default.getChannelId(i),s=r[(0,y.findNextSelected)("down",-1,r)],c={current_channel_id:l,current_guild_id:i,query_mode:a||"GENERAL",query_length:o.length,top_result_type:s?s.type:null,top_result_score:s?s.score:null,num_results_total:f.default.getResultTotals(),num_results_users:f.default.getResultTotals(g.AutocompleterResultTypes.USER),num_results_text_channels:f.default.getResultTotals(g.AutocompleterResultTypes.TEXT_CHANNEL),num_results_voice_channels:f.default.getResultTotals(g.AutocompleterResultTypes.VOICE_CHANNEL),num_results_guilds:f.default.getResultTotals(g.AutocompleterResultTypes.GUILD),num_results_group_dms:f.default.getResultTotals(g.AutocompleterResultTypes.GROUP_DM)};if(null!=l){var v=d.default.getChannel(l);c.current_channel_type=null!=v?v.type:null}if(null!=t){var _=t.type,E=t.score,S=t.record;switch(c.selected_type=_,c.selected_score=E,c.selected_index=r.indexOf(t),_){case g.AutocompleterResultTypes.GUILD:c.selected_guild_id=S.id;break;case g.AutocompleterResultTypes.TEXT_CHANNEL:case g.AutocompleterResultTypes.VOICE_CHANNEL:S instanceof u.default&&(c.selected_guild_id=null!=S.guild_id?S.guild_id:null),c.selected_channel_id=S.id;break;case g.AutocompleterResultTypes.GROUP_DM:c.selected_channel_id=S.id;break;case g.AutocompleterResultTypes.USER:c.selected_user_id=S.id}}m.default.track(e,c)}function N(){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_HIDE})}function C(e,t){void 0===e&&(e="KEYBIND"),void 0===t&&(t=""),function(e){if(!f.default.isOpen()){var t,n=h.default.getGuildId(),r=p.default.getChannelId(n);if(null!=r){var a=d.default.getChannel(r);t=null!=a?a.type:null}m.default.track(g.AnalyticEvents.QUICKSWITCHER_OPENED,{source:e,current_guild_id:n,current_channel_id:r,current_channel_type:t})}}(e),r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SHOW,query:t,options:I()})}function A(){O(g.AnalyticEvents.QUICKSWITCHER_CLOSED),N()}S=T.playApplication},5934:function(e,t,n){"use strict";t.__esModule=!0,t.processImage=d,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(7048)),i=l(n(6100));function l(e){return e&&e.__esModule?e:{default:e}}var u=[{name:l(n(10)).default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}];function s(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){return t(n.target.result,e.name)},n.readAsDataURL(e)}}function d(e,t,n){"image/gif"!==e.type?s(e,function(e,r){var a=new Image;a.src=e,a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var i=e.getContext("2d");i&&i.drawImage(a,0,0,e.width,e.height);var l=Math.min(Math.min(a.width,a.height),t),u=a.width<a.height?a.width/l:a.height/l,s=document.createElement("canvas");s.width=a.width/u,s.height=a.height/u,o.default.resizeCanvas(e,s,{alpha:!0},function(){var e=document.createElement("canvas");e.width=l,e.height=l;var t=(s.width-e.width)/-2,a=(s.height-e.height)/-2,o=e.getContext("2d");o&&o.drawImage(s,t,a,s.width,s.height),n(e.toDataURL("image/png"),r)})}}):s(e,function(e,t){return n(e,t)})}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._isMounted=!1,t.handleFileChange=function(e){var n=t.props.size;e.stopPropagation(),e.preventDefault();for(var r=0;r<e.currentTarget.files.length;r++){var a=e.currentTarget.files[r];null!=n?d(a,n,t.handleFileRead):s(a,t.handleFileRead)}},t.handleFileRead=function(e,n){var r=t.props.onChange;t._isMounted&&r(e,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){this._isMounted=!0},o.render=function(){var e=this.props,t=e.multiple,n=e.disabled,a=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{onChange:this.handleFileChange,filters:u,multiple:t,disabled:n,className:a})},a}(a.PureComponent);c.displayName="ImageInput",c.defaultProps={multiple:!0};var f=c;t.default=f},5935:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(73)),l=v(n(800)),u=v(n(466)),s=v(n(231)),d=v(n(18)),c=n(0),f=v(n(10)),p=v(n(5248)),h=v(n(5275));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(){return m("div",{className:h.default.premiumPromo},void 0,m(s.default,{onClick:function(){d.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:c.AnalyticsSections.FILE_UPLOAD_POPOUT}),i.default.pop(),l.default.open(c.UserSettingsSections.PREMIUM)},className:h.default.content},void 0,f.default.Messages.PREMIUM_UPLOAD_PROMO.format({maxUploadPremium:f.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM}),m("img",{alt:"",className:h.default.navArrow,src:n(6359)})))};_.displayName="PremiumPromo";var y=m(_,{}),g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.promo;return m("div",{className:p.default.uploadModalIn},void 0,m("div",{className:(0,o.default)(p.default.uploadDropModal,p.default.error)},void 0,m("div",{className:p.default.inner},void 0,m("div",{className:p.default.icons},void 0,m("div",{className:p.default.wrapOne},void 0,m("div",{className:(0,o.default)(p.default.icon,p.default.one)})),m("div",{className:p.default.wrapThree},void 0,m("div",{className:(0,o.default)(p.default.icon,p.default.three)})),m("div",{className:p.default.wrapTwo},void 0,m("div",{className:(0,o.default)(p.default.icon,p.default.two)}))),m("div",{className:p.default.title},void 0,this.props.title),m("div",{className:p.default.instructions},void 0,this.props.help),e?y:null)))},r}(a.Component);g.displayName="UploadError",g.modalConfig={backdropStyle:u.default.Styles.DARK,backdropInstant:!0};var E=g;t.default=E},5936:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=z(n(3)),i=z(n(5937)),l=n(303),u=z(n(5857)),s=z(n(162)),d=z(n(73)),c=n(5998),f=n(5932),p=z(n(5987)),h=z(n(11)),v=z(n(6167)),m=z(n(35)),_=z(n(23)),y=z(n(318)),g=z(n(159)),E=z(n(306)),S=z(n(161)),T=z(n(5972)),I=n(5849),O=n(805),N=z(n(795)),C=z(n(6364)),A=z(n(6367)),M=z(n(6368)),R=n(5930),b=n(113),P=n(6033),L=n(136),D=z(n(314)),w=z(n(8)),U=z(n(5923)),G=z(n(6395)),k=n(6046),F=z(n(6426)),j=z(n(6440)),B=z(n(5942)),H=z(n(5956)),x=z(n(6454)),V=z(n(5237)),Y=n(0),K=z(n(10)),W=z(n(5235));function z(e){return e&&e.__esModule?e:{default:e}}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var X=function(e){var t=e.guildId;return g.default.can(Y.Permissions.MANAGE_GUILD,{guildId:t})},J=function(e){var t=e.message,n=e.channel,r=e.canChat,a=e.renderReactions,o=e.canAddNewReactions,i=e.isLurking,l=n.isPrivate(),u=t.type!==Y.MessageTypes.DEFAULT,s=!u&&(r||l);return{disableReactionReads:!a,disableReactionCreates:i||!s||!(!u&&(!0===o||l)),disableReactionUpdates:i||!s}},Q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onResize=function(e){var n=e.target,r=e.isEditing,a=t.props,o=a.onEdit,i=a.onUpdate;r?o&&n&&o(n):i&&n&&i(n)},t.onClickUsername=function(e,n){var r=n.user;if(e.shiftKey&&!r.isNonUserBot()){var a=t.props.disablePersonalInformation,o=r.username,i=r.tag,l="@"+(a?o:i);b.ComponentDispatch.dispatchToLastSubscribed(Y.ComponentActions.INSERT_TEXT,{content:l}),e.preventDefault(),e.stopPropagation();var u=t.props.channel;null!=u&&p.default.startTyping(u.id)}},t.onContextMenuMessage=function(e,t){if(w.default.embedded){var n=t.message.type!==Y.MessageTypes.DEFAULT?Y.ContextMenuTypes.MESSAGE_SYSTEM:Y.ContextMenuTypes.MESSAGE_MAIN;(0,l.openContextMenu)(e,function(e){return a.createElement(j.default,q({},e,t,{type:n}))})}},t.onContextMenuUser=function(e,t){var n=t.user,r=t.channel;(0,P.openUserContextMenu)(e,n,r)},t.handleSaveMessage=function(e,n,r){var a=r.content,o=t.props,i=o.editingMessage;o.canCrosspost&&null!=i&&(0,L.hasFlag)(i.flags,Y.MessageFlags.CROSSPOSTED)?B.default.confirmEdit(e,n,a):s.default.editMessage(e,n,{content:a})},t.handlePublishMessage=function(e,t){B.default.confirmPublish(e,t)},t.renderAccessories=function(e){var n=e.message,r=t.props,o=r.compact,i=r.channel,l=r.accessoriesClassName,u=r.gifAutoPlay,s=r.renderReactions,d=r.canAddNewReactions,c=r.inlineAttachmentMedia,f=r.inlineEmbedMedia,p=r.renderEmbeds,h=r.canChat,v=r.isLurking,m=J({message:n,channel:i,canChat:h,renderReactions:s,canAddNewReactions:d,isLurking:v});return $(O.BackgroundOpacityContext.Consumer,{},void 0,function(e){return a.createElement(G.default,q({},m,{className:l,message:n,channel:i,isCompact:o,disableAutoPlayGif:!u,disableEmbeds:!p,inlineAttachmentMedia:c,inlineEmbedMedia:f,onContextMenuMessage:t.onContextMenuMessage,backgroundOpacity:e.backgroundOpacity}))})},t.renderButtonsMessage=function(e){var n=e.message,r=e.channel,o=n.state===Y.MessageStates.SENDING,l=t.props,d=l.developerMode,f=l.canManageMessages,p=l.messageOption,h=l.currentUserId,v=l.canPromoteNews,m=l.canCrosspost;if(!1===p||o)return null;var _,y,g=n.author,E=f||g.id===h,S=n.type!==Y.MessageTypes.DEFAULT,T=!S&&(f||r.isPrivate()),I=!S&&t.props.canEdit,O=t.props,N=O.canChat,C=O.canAddNewReactions,R=O.renderReactions,b=O.isLurking,P=J({message:n,channel:r,canChat:N,renderReactions:R,canAddNewReactions:C,isLurking:b}).disableReactionCreates,w=m&&g.id===h;if(v){var U=D.default.findNewsLink(n);if(null!=U){var G=w?K.default.Messages.NEWS_CHANNEL_POST_TO_ACTIVITY:K.default.Messages.NEWS_CHANNEL_PUBLISH_NEWS;null!=U.embed&&U.embed.type===Y.EmbedTypes.APPLICATION_NEWS&&(G=K.default.Messages.NEWS_CHANNEL_EDIT_NEWS),_=$(M.default,{title:G,onClick:function(){return(0,c.open)(n,r)},color:w?M.default.Colors.PRIMARY:M.default.Colors.BRAND})}}if(w){var F=(0,L.hasFlag)(n.flags,Y.MessageFlags.CROSSPOSTED);y=$(M.default,{title:F?K.default.Messages.NEWS_CHANNEL_PUBLISHED:K.default.Messages.NEWS_CHANNEL_PUBLISH,onClick:function(){return t.handlePublishMessage(r.id,n.id)},look:F?M.default.Looks.LINK:M.default.Looks.FILLED,disabled:F})}return $(a.Fragment,{},void 0,y,_,!P&&!S&&$(k.ButtonAddReaction,{message:n,channel:r}),$(A.default,{channel:r,message:n,developerMode:d,canEdit:I,canPin:T,canDelete:E,onStartEditMessage:s.default.startEditMessage,onRetrySendMessage:s.default.retrySendMessage,onDeleteMessage:s.default.deleteMessage,onConfirmDelete:B.default.confirmDelete,onConfirmPin:B.default.confirmPin,onOpenGuildSettings:u.default.open,onUnpinMessage:i.default.unpinMessage,onConfirmUnpin:B.default.confirmUnpin,onCanManageGuild:X,onShowReactionsModal:t.renderReactionsModal,currentUserId:h}))},t.renderEditor=function(e){var t=e.value,n=e.message,r=e.channel,a=e.onChange,o=e.onSubmit,i=e.onKeyDown,l=e.onResize;return $(U.default,{className:W.default.marginTop8,value:t,channel:r,type:Y.TextareaTypes.EDIT,onChange:a,onSubmit:o,onKeyDown:i,onResize:l},n.id)},t.renderPopoutUser=function(e){return a.createElement(V.default,e)},t.renderPopoutGuild=function(e){return a.createElement(x.default,e)},t.renderSystemMessage=function(e){return a.createElement(F.default,q({},e,{key:e.message.id,onContextMenu:t.onContextMenuMessage}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.validateEdit=function(e){var t=e.value,n=e.channel;return(0,R.applyChatRestrictions)(null,t,n,!1,!1)},o.renderReactionsModal=function(e){var t=e.message;d.default.push(H.default,{message:t})},o.render=function(){var e=this,t=this.props,n=t.onClickAnywhere,r=t.hasDivider,o=t.compact,i=t.canFlash,l=t.enableInteraction,u=t.messages,d=t.channel,c=t.jumpSequenceId,p=t.jumpMessageId,h=t.registerMessageDOMNode,v=t.renderMentioned,m=t.groupOption,_=t.editingMessage,y=t.disableInteractionLabel,g=t.editingContent,E=t.isFocusedWindow,S=t.className,T=t.cozyClassName,I=t.canChat,N=t.renderReactions,A=t.canAddNewReactions,M=t.gifAutoPlay,R=t.renderEmbeds,b=t.canManageMessages,P=t.developerMode,L=t.isLurking,D=t.canPromoteNews,w={messages:u,channel:d,jumpSequenceId:c,jumpMessageId:p,registerMessageDOMNode:h,editingMessageId:null!=_?_.id:null,disableInteractionLabel:y,editingContent:g,isFocusedWindow:E},U=q({},J({message:u[0],channel:d,canChat:I,renderReactions:N,canAddNewReactions:A,isLurking:L}),{disableAutoPlayGif:!M,disableEmbeds:!R,disableManageMessages:!b,disableDeveloperMode:!P,disablePromoteButton:!D});return $(O.BackgroundOpacityContext.Consumer,{},void 0,function(t){return a.createElement(C.default,q({isCompact:o,onClick:n,disableDivider:r,disableJumpFlash:!i,disableInteraction:!l,disableMentionStyles:!v,onResize:e.onResize,validateEdit:e.validateEdit,onCancelEditing:s.default.endEditMessage,onConfirmDelete:B.default.confirmDelete,onChange:s.default.updateEditMessage,saveMessage:e.handleSaveMessage,editingMessage:_,onManualAck:f.manualAck,onClickUsername:e.onClickUsername,onContextMenuMessage:e.onContextMenuMessage,onContextMenuUser:e.onContextMenuUser,onDeleteMessage:s.default.deleteMessage,renderAccessories:e.renderAccessories,renderButtonsMessage:e.renderButtonsMessage,renderEditor:e.renderEditor,renderPopoutUser:e.renderPopoutUser,renderPopoutGuild:e.renderPopoutGuild,renderSystemMessage:e.renderSystemMessage,renderButtonsGroup:m,className:S,cozyClassName:T,backgroundOpacity:t.backgroundOpacity},w,U))})},r}(a.Component);Q.displayName="ConnectedMessageGroup",Q.defaultProps={canManageMessages:!1,hasDivider:!1,popoutPosition:N.default.Positions.RIGHT,avatarSize:I.AvatarSizes.LARGE,compact:!1,messageOption:!0,canEdit:!0,jumpTargetIndex:-1,enableInteraction:!0,developerMode:!1,canFlash:!0,renderMentioned:!0,inlineAttachmentMedia:!1,inlineEmbedMedia:!1,gifAutoPlay:!1,renderEmbeds:!1,renderEmbedsSmall:!1,renderReactions:!0,canChat:!1};var Z=o.default.connectStores([v.default,h.default,S.default,g.default,m.default,_.default,T.default,y.default],function(e){var t=e.channel,n=e.messages,r=e.canEdit,a=t.id,o=t.getGuildId(),i=!1!==r&&n.some(function(e){return e&&v.default.isEditing(a,e.id)}),l=i?v.default.getEditingMessage():null,u=i?v.default.getEditingContent():null,s=S.default.isFocused(),d=E.default.hidePersonalInformation,c=y.default.isLurking(o),f=_.default.getGuild(o),p=m.default.getApplicationsForGuild(o),I=t.type===Y.ChannelTypes.GUILD_NEWS,O=null!=f&&f.hasFeature(Y.GuildFeatures.NEWS),N=g.default.can(Y.Permissions.SEND_MESSAGES,t),C=null!=p&&p.length>0,A=I&&O&&N&&C,M=T.default.inExperiment(t.guild_id)&&I&&O&&N;return{currentUserId:h.default.getId(),editingMessage:l,isFocusedWindow:s,disablePersonalInformation:d,editingContent:u,isLurking:c,canPromoteNews:A,canCrosspost:M}})(Q);t.default=Z},5937:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(9)),a=s(n(1)),o=s(n(164)),i=s(n(6166)),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d={pinMessage:function(e,t){var n=e.id,a=e.name;r.default.put({url:l.Endpoints.PIN(n,t)}).catch(function(){var t;t=e.isPrivate()?u.default.Messages.PIN_MESSAGE_TOO_MANY_BODY_PRIVATE_CHANNEL.format({maxPins:l.MAX_PINS_PER_CHANNEL}):u.default.Messages.PIN_MESSAGE_TOO_MANY_BODY.format({maxPins:l.MAX_PINS_PER_CHANNEL,channelName:a}),o.default.show({title:u.default.Messages.PIN_MESSAGE_TOO_MANY_TITLE,body:t,confirmText:u.default.Messages.OKAY})})},unpinMessage:function(e,t){r.default.delete({url:l.Endpoints.PIN(e.id,t)}).catch(function(){return o.default.show({title:u.default.Messages.UNPIN_MESSAGE_FAILED_TITLE,body:u.default.Messages.UNPIN_MESSAGE_FAILED_BODY,confirmText:u.default.Messages.TRY_AGAIN,cancelText:u.default.Messages.CANCEL,onConfirm:d.unpinMessage.bind(d,e,t)})})},ackPins:function(e){a.default.dirtyDispatch({type:l.ActionTypes.CHANNEL_PINS_ACK,channelId:e})},fetchPins:function(e){var t=i.default.getPinnedMessages(e);t&&(t.loaded||t.loading)||(a.default.dirtyDispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES,channelId:e}),r.default.get({url:l.Endpoints.PINS(e),retries:2}).then(function(t){a.default.dispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES_SUCCESS,messages:t.body,channelId:e})},function(){a.default.dispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES_FAILURE,channelId:e})}))}},c=d;t.default=c},5939:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=s(n(5865)),o=s(n(5973)),i=n(5871),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){var t,n;function s(){return e.apply(this,arguments)||this}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,s=e.className,c=e.mediaPlayerClassName,f=e.poster,p=e.fileName,h=e.naturalWidth,v=e.naturalHeight,m=e.playable,_=e.volume,y=e.autoPlay,g=e.autoMute,E=e.mediaPlayerRef,S=e.onPlay,T=e.onEnded,I=e.onVolumeChange,O=e.onMute,N=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["src","fileSize","className","mediaPlayerClassName","poster","fileName","naturalWidth","naturalHeight","playable","volume","autoPlay","autoMute","mediaPlayerRef","onPlay","onEnded","onVolumeChange","onMute"]);return r.createElement(a.default,d({alt:u.default.Messages.VIDEO,className:s,src:f},N,{minWidth:o.default.minWidth,shouldLink:!1,shouldAnimate:!1}),function(e){var a=e.src,u=e.size,s=u.width,d=u.height,f=!(h<=l.MAX_VIDEO_WIDTH&&v<=l.MAX_VIDEO_HEIGHT||h<=l.MAX_VIDEO_HEIGHT&&v<=l.MAX_VIDEO_WIDTH);return r.createElement(o.default,{className:c,forceExternal:f,src:t,poster:a,width:s,height:d,volume:_,autoPlay:y||!1,autoMute:g||!1,type:o.default.Types.VIDEO,fileName:p,fileSize:(0,i.sizeString)(n),playable:m,ref:E,onPlay:S,onEnd:T,onVolumeChange:I,onMute:O})})},s}(r.Component);t.default=c,c.displayName="LazyVideo"},5940:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5310));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n=e.tag,i=void 0===n?"div":n,l=e.padded,u=void 0===l||l,s=e.inset,d=void 0!==s&&s,c=e.className,f=e.children,p=e.onClick;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i,{onClick:p,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:(0,a.default)(c,(t={},t[o.default.outer]=!d,t[o.default.inset]=d,t[o.default.padded]=u,t[o.default.interactive]=null!=p,t))},void 0,f)}},5942:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=T(n(17)),i=T(n(3)),l=T(n(5937)),u=T(n(162)),s=T(n(73)),d=n(5998),c=T(n(5972)),f=T(n(5988)),p=T(n(5856)),h=T(n(128)),v=n(6445),m=T(n(5936)),_=T(n(6446)),y=T(n(433)),g=n(0),E=T(n(10)),S=T(n(5327));function T(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={report:!1},t.handleDelete=function(){var e=t.state.report,n=t.props,r=n.channel,a=n.message;if(e)s.default.push(_.default,{channel:r,message:a,onReport:function(){u.default.deleteMessage(r.id,a.id)}});else{var o=a.firstNewsEmbed();r.type===g.ChannelTypes.GUILD_NEWS&&null!=o&&null!=o.referenceId&&(0,d.deleteNews)(o.referenceId,a.channel_id),u.default.deleteMessage(r.id,a.id)}},t.handleToggleReport=function(e){t.setState({report:e.currentTarget.checked})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.state.report,r=this.props,o=r.channel,i=r.message,l=r.showContextMenuHint,u=r.canCrosspostMessage,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["channel","message","showContextMenuHint","canCrosspostMessage"]),d=u&&o.type===g.ChannelTypes.GUILD_NEWS;return l&&(e=O(f.default,{className:S.default.spacingTop},void 0,E.default.Messages.DELETE_MESSAGE_CONTEXT_MENU_HINT.format())),(0,v.canReportMessage)(i)&&(t=O(p.default,{value:n,onChange:this.handleToggleReport,hideBorder:!0,className:S.default.spacingTop},void 0,E.default.Messages.DELETE_MESSAGE_REPORT)),a.createElement(y.default,I({header:d?E.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER:E.default.Messages.DELETE_MESSAGE_TITLE,confirmText:E.default.Messages.DELETE,cancelText:E.default.Messages.CANCEL,onConfirm:this.handleDelete},s),O(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,d?E.default.Messages.DELETE_FOLLOWED_NEWS_BODY:E.default.Messages.DELETE_MESSAGE_BODY),O("div",{className:S.default.message},void 0,O(m.default,{channel:o,messages:[i],enableInteraction:!1})),t,e)},r}(a.PureComponent);N.displayName="DeleteModal";var C=i.default.connectStores([c.default],function(e){var t=e.channel;return{canCrosspostMessage:c.default.inExperiment(t.guild_id)}})(N);var A={confirmPin:function(e,t){var n=O(m.default,{channel:e,messages:[t],enableInteraction:!1});s.default.push(function(r){var o;return o=e.isPrivate()?E.default.Messages.PIN_MESSAGE_BODY_PRIVATE_CHANNEL:E.default.Messages.PIN_MESSAGE_BODY.format({channelName:e.toString()}),a.createElement(y.default,I({red:!1,header:E.default.Messages.PIN_MESSAGE_TITLE,confirmText:E.default.Messages.PIN_CONFIRM,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return l.default.pinMessage(e,t.id)}},r),O(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,o),O("div",{className:S.default.message},void 0,n))})},confirmUnpin:function(e,t){var n=O(m.default,{channel:e,messages:[t],enableInteraction:!1});s.default.push(function(r){return a.createElement(y.default,I({header:E.default.Messages.UNPIN_MESSAGE_TITLE,confirmText:E.default.Messages.UNPIN_CONFIRM,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return l.default.unpinMessage(e,t.id)}},r),O(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,E.default.Messages.UNPIN_MESSAGE_BODY),O("div",{className:(0,o.default)(S.default.message,S.default.spacing)},void 0,n),O(f.default,{},void 0,E.default.Messages.UNPIN_MESSAGE_CONTEXT_MENU_HINT.format()))})},confirmDelete:function(e,t,n){void 0===n&&(n=!1),s.default.push(function(r){return a.createElement(C,I({channel:e,message:t,showContextMenuHint:n},r))})},confirmEdit:function(e,t,n){s.default.push(function(r){return a.createElement(y.default,I({header:E.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:E.default.Messages.CONFIRM,cancelText:E.default.Messages.CANCEL,red:!1,onConfirm:function(){return u.default.editMessage(e,t,{content:n})}},r),O(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,E.default.Messages.EDIT_FOLLOWED_NEWS_BODY))})},confirmPublish:function(e,t){s.default.push(function(n){return a.createElement(y.default,I({header:E.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:E.default.Messages.CONFIRM,cancelText:E.default.Messages.CANCEL,red:!1,onConfirm:function(){return u.default.crosspostMessage(e,t)}},n),O(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,E.default.Messages.PUBLISH_FOLLOWED_NEWS_BODY))})}};t.default=A},5943:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(429),n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=!1,u=!1,s=!1,d=!1,c=!1,f=!1,p=null,h=null;function v(){l=!1}function m(){d=!1}function _(){c=!1}function y(){f=!0}function g(){f=!1}var E=new(function(e){var t,n,r,a,o;function v(){return e.apply(this,arguments)||this}return n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=v,(a=[{key:"isBusy",get:function(){return l||u||f||s}},{key:"isUpdatingPaymentSource",get:function(){return u}},{key:"isRemovingPaymentSource",get:function(){return s}},{key:"isSyncing",get:function(){return d||c}},{key:"editSourceError",get:function(){return p}},{key:"removeSourceError",get:function(){return h}}])&&i(r.prototype,a),o&&i(r,o),v}(r.default.Store))(a.default,{BILLING_PAYMENT_SOURCE_CREATE_START:function(e){l=!0},BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return v()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:function(e){return v()},STRIPE_TOKEN_FAILURE:function(e){return v()},BILLING_PAYMENT_SOURCE_REMOVE_START:function(e){s=!0},BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:function(e){s=!1},BILLING_PAYMENT_SOURCE_REMOVE_FAIL:function(e){var t=e.error;s=!1,h=t},BILLING_PAYMENT_SOURCE_REMOVE_CLEAR_ERROR:function(e){h=null},BILLING_PAYMENT_SOURCE_UPDATE_START:function(e){u=!0},BILLING_PAYMENT_SOURCE_UPDATE_SUCCESS:function(e){u=!1},BILLING_PAYMENT_SOURCE_UPDATE_FAIL:function(e){var t=e.error;u=!1,p=t},BILLING_PAYMENT_SOURCE_UPDATE_CLEAR_ERROR:function(e){p=null},BILLING_PAYMENT_SOURCES_FETCH_START:function(e){d=!0},BILLING_PAYMENT_SOURCES_FETCH_SUCCESS:function(e){return m()},BILLING_PAYMENT_SOURCES_FETCH_FAIL:function(e){return m()},BILLING_SUBSCRIPTION_FETCH_START:function(e){c=!0},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return _()},BILLING_SUBSCRIPTION_FETCH_FAIL:function(e){return _()},BILLING_SUBSCRIPTION_UPDATE_START:function(e){return y()},BILLING_SUBSCRIPTION_CANCEL_START:function(e){return y()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){return g()},BILLING_SUBSCRIPTION_UPDATE_FAIL:function(e){return g()},BILLING_SUBSCRIPTION_CANCEL_FAIL:function(e){return g()},BILLING_SUBSCRIPTION_CANCEL_SUCCESS:function(e){return g()}});t.default=E},5950:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={show:function(){this.deactivateRagingDemon(),a.default.dispatch({type:o.ActionTypes.SHOW_KEYBOARD_SHORTCUTS})},hide:function(){a.default.dispatch({type:o.ActionTypes.HIDE_KEYBOARD_SHORTCUTS})},activateRagingDemon:function(){a.default.dispatch({type:o.ActionTypes.ACTIVATE_RAGING_DEMON})},deactivateRagingDemon:function(){a.default.dispatch({type:o.ActionTypes.DEACTIVATE_RAGING_DEMON})}};t.default=i},5951:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=S(n(6030)),a=S(n(6162)),o=S(n(6)),i=S(n(3)),l=n(37),u=S(n(1)),s=S(n(235)),d=S(n(316)),c=S(n(6031)),f=S(n(5886)),p=S(n(18)),h=S(n(8)),v=n(243),m=S(n(43)),_=S(n(454)),y=S(n(195)),g=S(n(306)),E=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I={},O={},N=0,C=!0,A={},M=[E.KeybindCustomActions.PUSH_TO_TALK,E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET];function R(t){if(h.default.embedded)h.default.inputEventUnregister(parseInt(t,10));else if(I[t]){var n=O[t],r=A[n.action];r&&!0===r.isPressed&&e.nextTick(function(){return r.onTrigger(!1)}),I[t].reset(),I[t]=null}}function b(e){if(C&&!__OVERLAY__){var t=e.shortcut,n=e.action,o=e.context;if(""!==t&&null!=t&&n!==E.KeybindCustomActions.UNASSIGNED)if(null!=A[n]){var i=e.id,l=A[n].keyEvents;!function(e,t,n,o){if(h.default.embedded)h.default.inputEventRegister(parseInt(e),t,n,o);else{R(e);var i=(0,a.default)(new r.default(document));o.keyup&&i.bindGlobal((0,v.toString)(t),function(){return n(!1)},"keyup"),o.keydown&&i.bindGlobal((0,v.toString)(t),function(){return n(!0)},"keydown"),I[e]=i}}(i,t,function(e){return function(e,t,n){var r=O[e];null!=r&&A[r.action].onTrigger(t,n)}(i,e,o)},T({focused:!0,blurred:!0,keydown:!1,keyup:!1},l)),f.default.validateKeybind((0,v.toString)(e.shortcut))}else console.error("KeybindStore: Looking for callback action "+n+" but it doesn't exist in this version. Skipping")}}function P(e){var t,n=T({id:N.toString(),action:E.KeybindCustomActions.UNASSIGNED,shortcut:[],managed:!1},e);return O=T({},O,((t={})[n.id]=n,t)),N+=1,n}function L(e){R(e.id),delete(O=T({},O))[e.id]}function D(e){var t,n=e.keybind;O=T({},O,((t={})[n.id]=n,t)),__OVERLAY__||(p.default.track(E.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!0,keybind_has_shortcut:!!n.shortcut.length}),n.action===E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?p.default.track(E.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{hotkey:n.action===E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?(0,v.toString)(n.shortcut):null}):n.action===E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&p.default.track(E.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_activation_hotkey:n.action===E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET?(0,v.toString)(n.shortcut):null})),b(n)}function w(){return!1!==(e=m.default.getShortcuts(),o.default.each(O,function(t){t.action!==E.KeybindCustomActions.PUSH_TO_TALK||!0!==t.managed||null!=t.context&&null!=e[t.context]||L(t)}),o.default.reduce(m.default.getShortcuts(),function(e,t,n){var r=o.default.find(O,function(e){return e.action===E.KeybindCustomActions.PUSH_TO_TALK&&!0===e.managed&&e.context===n});if(null==r)b(P({action:E.KeybindCustomActions.PUSH_TO_TALK,shortcut:t,managed:!0,context:n}));else{if(null==t)return e||!1;D({keybind:T({},r,{shortcut:"string"==typeof t?(0,v.toCombo)(t):t,context:n})})}return!0},!1)||function(){if(_.default.enabled){if(null!=o.default.find(O,function(e){return e.action===E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed}))return!1;var e=(0,v.toCombo)("shift+`");b(P({action:E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,shortcut:e,managed:!0}))}}()||function(){if(!_.default.enabled)return!1;if(null!=o.default.find(O,function(e){return e.action===E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed}))return!1;var e=(0,v.toCombo)("]");b(P({action:E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,shortcut:e,managed:!0}))}());var e}A[E.KeybindCustomActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},A[E.KeybindCustomActions.PUSH_TO_TALK]={onTrigger:function(e,t){m.default.getMode(t)===E.InputModes.PUSH_TO_TALK&&(A[E.KeybindCustomActions.PUSH_TO_TALK].isPressed=e,m.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!1)},t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},A[E.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){m.default.getMode()===E.InputModes.PUSH_TO_TALK&&(A[E.KeybindCustomActions.PUSH_TO_TALK_PRIORITY].isPressed=e,m.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!0)},l.MediaEngineContextTypes.DEFAULT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},A[E.KeybindCustomActions.PUSH_TO_MUTE]={onTrigger:function(e){m.default.getMode()===E.InputModes.VOICE_ACTIVITY&&(m.default.isSelfDeaf()||(A[E.KeybindCustomActions.PUSH_TO_MUTE].isPressed=e,s.default.setTemporarySelfMute(e)))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},A[E.KeybindCustomActions.TOGGLE_MUTE]={onTrigger:function(){s.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},A[E.KeybindCustomActions.TOGGLE_DEAFEN]={onTrigger:function(){s.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},A[E.KeybindCustomActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=m.default.getMode()===E.InputModes.PUSH_TO_TALK?E.InputModes.VOICE_ACTIVITY:E.InputModes.PUSH_TO_TALK;s.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},A[E.KeybindCustomActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=_.default.enabled;d.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},A[E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=_.default.getFocusedPID();null!=t&&(_.default.isReady(t)||_.default.isCrashed(t))&&(e?d.default.setUILocked(!y.default.isUILocked(t),t):d.default.setInputLocked(!_.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},A[E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=_.default.getFocusedPID();null!=e&&(null!=e||!1)&&y.default.isPinned(E.OverlayWidgets.TEXT)&&_.default.isReady(e)&&_.default.isInputLocked(e)&&d.default.activateRegion(E.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},A[E.KeybindCustomActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){c.default.setEnabled(!g.default.enabled)},keyEvents:{keyup:!0,keydown:!1}};var U=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){__OVERLAY__||this.waitFor(m.default,_.default),O=e||{},o.default.forEach(O,function(e){N=Math.max(parseInt(e.id,10),N)+1;try{b(e)}catch(t){console.error("Failed to register keybind",e,t)}})},a.getState=function(){return O},a.getKeybindList=function(){var e=[];for(var t in O)O.hasOwnProperty(t)&&e.push((0,v.toString)(O[t].shortcut));return e},a.getOverlayKeybind=function(){return o.default.find(O,function(e){return e.action===E.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})},a.getOverlayChatKeybind=function(){return o.default.find(O,function(e){return e.action===E.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed})},r}(i.default.PersistedStore);U.persistKey="keybinds",U.migrations=[function(e){void 0===e&&(e={});var t=e,n=t.v,r=t.keybinds,a=void 0===r?e:r;return o.default.reduce(a,function(e,t,r){var a=parseInt(t.id,10);return isNaN(a)||t.id!==r?e:((null==n||n<2)&&("string"==typeof t.shortcut?(t.shortcut=t.shortcut.replace("escape","esc").replace("capslock","caps lock").replace("numlock","num lock").replace("pageup","page up").replace("pagedown","page down"),t.shortcut=(0,v.toCombo)(t.shortcut)):t.shortcut=t.shortcut.map(function(e){return e.length<3?[].concat(e,[(0,v.getEnv)()]):e})),e[r]=t,e)},{})},function(e){return Object.keys(e).filter(function(t){var n=e[t];return M.includes(n.action)&&!0===n.managed}).length!==M.length?(w(),O):e}];var G=new U(u.default,{CONNECTION_OPEN:function(e){return w()},AUDIO_SET_MODE:function(e){return w()},OVERLAY_SET_ENABLED:function(e){return w()},RPC_APP_CONNECTED:function(e){return w()},RPC_APP_DISCONNECTED:function(e){return w()},KEYBINDS_ADD_KEYBIND:function(e){P()},KEYBINDS_DELETE_KEYBIND:function(e){var t=e.id,n=O[t];__OVERLAY__||p.default.track(E.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!1,keybind_has_shortcut:!1}),null!=n&&L(n)},KEYBINDS_SET_KEYBIND:D,KEYBINDS_ENABLE_ALL_KEYBINDS:function(e){var t=e.enable;C=t,t?(f.default.enable(),o.default.forEach(O,b)):(f.default.disable(),o.default.forEach(O,function(e){return R(e.id)}))}});t.default=G}).call(this,n(61))},5952:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=i({},n(6375).default,{cancel:function(e){a.default.dispatch({type:o.ActionTypes.UPLOAD_CANCEL_REQUEST,file:e})}});t.default=l},5953:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(449)),i=s(n(8)),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=i.default.isOSX()?l.TenorFormats.MEDIUMGIF:l.TenorFormats.MP4,f=null,p="",h="",v=[],m=[],_=c,y=[];function g(e){switch(e){case l.GIPHYFormats.FIXED_HEIGHT_MP4:case l.GIPHYFormats.FIXED_HEIGHT_SMALL_MP4:case l.GIPHYFormats.FIXED_WIDTH_MP4:case l.GIPHYFormats.FIXED_WIDTH_SMALL_MP4:case l.GIPHYFormats.DOWNSIZED_SMALL_MP4:case l.GIPHYFormats.ORIGINAL_MP4:case l.TenorFormats.MP4:case l.TenorFormats.TINYMP4:case l.TenorFormats.NANOMP4:case l.TenorFormats.WEBM:case l.TenorFormats.TINYWEBM:case l.TenorFormats.NANOWEBM:return!0;default:return!1}}var E=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getAnalyticsID=function(){return f},a.getQuery=function(){return p},a.getResultQuery=function(){return h},a.getResultItems=function(){return v},a.getTrendingCategories=function(){return m},a.getSelectedFormat=function(){return _},a.getSuggestions=function(){return y},r}(r.default.Store))(a.default,{GIF_PICKER_INITIALIZE:function(e){f=e.analyticsID},GIF_PICKER_QUERY:function(e){""===(p=e.query)&&(h="",v=[],y=[])},GIF_PICKER_QUERY_SUCCESS:function(e){if(null!=e.query&&p===h)return!1;null!=e.query&&(h=e.query),v=e.items.map(function(e){return{width:e.width,height:e.height,src:e.src,url:e.url,id:e.id,format:g(_)?l.GIFResultFormat.VIDEO:l.GIFResultFormat.IMAGE}})},GIF_PICKER_QUERY_FAILURE:function(e){var t=e.query;if(null==t)return!1;h=t,v=[]},GIF_PICKER_TRENDING_FETCH_SUCCESS:function(e){var t=e.trendingCategories;m=[{type:l.GIFPickerResultTypes.TRENDING_GIFS,icon:o.default.TRENDING_UP,name:u.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS,src:e.trendingGIFPreview.src,format:l.GIFResultFormat.IMAGE}].concat(t.map(function(e){return d({},e,{type:l.GIFPickerResultTypes.TRENDING_CATEGORY,format:l.GIFResultFormat.IMAGE})}))},GIF_PICKER_SUGGESTIONS_SUCCESS:function(e){var t=e.items;y=t}});t.default=E},5954:function(e,t,n){"use strict";t.__esModule=!0,t.ResponsiveLoadingEmbedTile=t.ResponsiveEmbedTile=t.HORIZONTAL_EMBED_BREAKPOINT=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(6048)),l=u(n(5315));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.HORIZONTAL_EMBED_BREAKPOINT=660;var c=function(e){var t;return a.createElement(i.default,d({},e,{className:(0,o.default)(e.className,(t={},t[l.default.embedVertical]=!e.isHorizontal,t[l.default.embedHorizontal]=e.isHorizontal,t))}))};t.ResponsiveEmbedTile=c,c.displayName="ResponsiveEmbedTile";var f=function(e){var t=e.isHorizontal;return a.createElement(c,d({},e,{media:function(){var e;return s("div",{className:(0,o.default)(l.default.loadingDescription)},void 0,s("div",{className:(0,o.default)(l.default.loadingBackgroundWrapper,(e={},e[l.default.loadingBackgroundWrapperHorizontal]=t,e))},void 0,s("div",{className:l.default.loadingBackground})))},title:function(){var e;return s("div",{className:(0,o.default)(l.default.loadingImage,(e={},e[l.default.loadingImageHorizontal]=t,e))})}}))};t.ResponsiveLoadingEmbedTile=f,f.displayName="ResponsiveLoadingEmbedTile"},5955:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(304)),l=n(59),u=v(n(803)),s=n(819),d=v(n(231)),c=v(n(302)),f=v(n(6109)),p=v(n(427)),h=v(n(5318));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=400,g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._animatedValue=new i.default.Value(1),t.state={imageLoadError:!1,imageLoading:!0},t.componentWillEnter=function(e){t._animatedValue.setValue(0),i.default.timing(t._animatedValue,{toValue:1,duration:y}).start(e)},t.componentWillLeave=function(e){i.default.timing(t._animatedValue,{toValue:0,duration:y}).start(e)},t.getImageStyle=function(){return{opacity:t._animatedValue}},t.handleImageError=function(){t.setState({imageLoadError:!0,imageLoading:!1})},t.handleImageLoaded=function(){t.setState({imageLoading:!1})},t}_(t,e);var n=t.prototype;return n.renderMedia=function(){var e,t=this.props,n=t.src,r=t.className,a=t.title,l=this.state.imageLoading;return m(i.default.img,{className:(0,o.default)((e={},e[h.default.imageLoading]=l,e),r),src:n,alt:a,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})},n.render=function(){var e=this.props,t=e.className,n=e.title,r=e.src,a=this.state,l=a.imageLoadError,u=a.imageLoading;return null==r||l?m(i.default.div,{className:(0,o.default)(h.default.titleContainer,t),style:this.getImageStyle()},void 0,n):m(i.default.div,{className:(0,o.default)(u?h.default.loadingContainer:null,t),style:this.getImageStyle()},void 0,u?m(p.default,{className:h.default.spinner,itemClassName:h.default.spinnerItem,type:p.default.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia())},t}(a.Component);g.displayName="TileMediaImage";var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={currentIndex:0,videoLoadError:!1,videoLoaded:!1},t._video=a.createRef(),t.videoTimeout=new l.Timeout,t.videoPlaying=!1,t.handleToggleMute=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.onToggleMute;n&&n(e)},t.handleVideoError=function(){t.setState({videoLoadError:!0})},t.handleVideoLoaded=function(){t.setState({videoLoaded:!0})},t.renderTypeVideo=function(){var e,n=t.state.videoLoaded,r=t.props,i=r.video,l=r.image,f=r.title,p=r.playing,v=r.muted,_=r.splashClassName,y=r.splashPlaceholderClassName,E=r.renderMediaOverlay;return m(a.Fragment,{},void 0,s.isMobile?null:a.createElement("video",{className:(0,o.default)(h.default.splash,_),muted:v,loop:!0,preload:"none",ref:t._video,onLoadedMetadata:t.handleVideoLoaded,onError:t.handleVideoError},m("source",{src:i,type:"video/mp4"})),m(u.default,{},void 0,p&&n?null:m(g,{className:(0,o.default)(h.default.splashPlaceholder,y),src:l,title:f},0)),m(d.default,{className:(0,o.default)(h.default.muteContainer,(e={},e[h.default.muteContainerPlaying]=p&&n,e[h.default.muteContainerMediaOverlay]=null!=E,e)),onClick:t.handleToggleMute},void 0,p&&n?m(c.default,{name:v?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:h.default.mute}):null))},t.nextItem=function(){var e=t.props.slideImages;null!=e&&t.setState({currentIndex:(t.state.currentIndex+1)%e.length})},t.renderSlideItem=function(e){var n=t.props,r=n.image,a=n.title,i=n.playing,l=n.splashClassName,u=t.state.currentIndex;return i?m(g,{className:(0,o.default)(h.default.splash,l),src:e[u],title:a},u):m(g,{className:(0,o.default)(h.default.splash,l),src:r,title:a},"image")},t}_(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.videoTimeout.stop()},n.componentDidUpdate=function(e){var t=this,n=this.props.playing,r=this._video.current;if(null!=r)if(n&&!e.playing){this.videoTimeout.stop(),isFinite(r.duration)&&isFinite(r.currentTime)&&(r.currentTime=0),r.volume=.3;var a=r.play();null!=a&&a.then(function(){t.videoPlaying=!0})}else e.playing&&!n&&this.videoTimeout.start(y,function(){t.videoPlaying&&(r.pause(),t.videoPlaying=!1)})},n.renderTypeImage=function(){var e=this.props,t=e.playing,n=e.slideImages,r=e.image,a=e.title,i=e.splashClassName;return null==n?m(g,{className:(0,o.default)(h.default.splash,i),src:r,title:a},"image"):m(f.default,{onInterval:this.nextItem,interval:2e3,className:h.default.slideshowWrapper,disable:!t},void 0,m(u.default,{},void 0,this.renderSlideItem(n)))},n.render=function(){var e=this.props,t=e.video,n=e.className,r=e.placeholder,a=e.renderMediaOverlay,i=e.playing,l=this.state,u=l.videoLoadError,s=l.videoLoaded;return r?m("div",{className:n}):m("figure",{className:(0,o.default)(h.default.tileMedia,n)},void 0,null==t||u?this.renderTypeImage():this.renderTypeVideo(),null!=a&&a(i&&s))},t}(a.Component);E.displayName="TileMedia";var S=E;t.default=S},5956:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=G(n(2)),o=U(n(17)),i=U(n(6)),l=U(n(3)),u=n(303),s=G(n(446)),d=U(n(5236)),c=U(n(199)),f=U(n(20)),p=U(n(74)),h=U(n(861)),v=U(n(236)),m=U(n(42)),_=U(n(14)),y=U(n(231)),g=U(n(158)),E=U(n(302)),S=U(n(188)),T=U(n(307)),I=U(n(427)),O=U(n(128)),N=U(n(426)),C=U(n(81)),A=U(n(169)),M=U(n(102)),R=U(n(5884)),b=U(n(5929)),P=U(n(822)),L=n(0),D=U(n(5235)),w=U(n(5326));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var H=function(e){function t(){return e.apply(this,arguments)||this}return B(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.emoji,a=n.count,i=n.selected,l=n.setSelected,u=null==r.id?A.default.getURL(r.name):C.default.getEmojiURL({id:r.id,animated:r.animated});t=null==r.id?c.default.convertSurrogateToName(r.name):":"+r.name+":";var s=u?j("img",{className:w.default.emoji,src:u,alt:r.name}):j("span",{className:(0,o.default)(w.default.emoji,w.default.emojiText)},void 0,r.name);return j(N.default,{position:N.default.Positions.LEFT,text:t},void 0,j(y.default,{className:(0,o.default)((e={},e[w.default.reactionDefault]=!i,e[w.default.reactionSelected]=i,e)),onClick:l},void 0,s,j(O.default,{color:O.default.Colors.PRIMARY,className:w.default.count},void 0,a)))},t}(a.PureComponent);H.displayName="Reaction";var x=function(e){function t(t){var n;return F(n=e.call(this,t)||this).renderUserContextMenu=n.renderUserContextMenu.bind(F(n)),F(n).removeReaction=n.removeReaction.bind(F(n)),n}B(t,e);var n=t.prototype;return n.removeReaction=function(){var e=this.props,t=e.emoji,n=e.user,r=e.message,a=e.channel;s.removeReaction(a.id,r.id,t,n.id)},n.renderUserContextMenu=function(e){var t=this;(0,u.openContextMenu)(e,function(e){return a.createElement(d.default,k({},e,{type:L.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id}))})},n.render=function(){var e,t=this.props,n=t.user,r=t.guildId,a=t.channel,i=t.final,l=M.default.can(L.Permissions.MANAGE_MESSAGES,_.default.getCurrentUser(),a)?j(y.default,{onClick:this.removeReaction},void 0,j(E.default,{name:E.default.Names.CLOSE,width:16,height:16,className:w.default.remove})):null,u=null!=r&&p.default.getNick(r,n.id);return j(g.default,{className:(0,o.default)((e={},e[w.default.reactorDefault]=!i,e[w.default.reactorFinal]=i,e)),onContextMenu:this.renderUserContextMenu,align:g.default.Align.CENTER},void 0,j(g.default.Child,{wrap:!0,grow:0,shrink:0,className:D.default.marginReset},void 0,j(R.default,{user:n,size:"xsmall"})),j(g.default.Child,{},void 0,j(O.default,{color:O.default.Colors.PRIMARY,className:w.default.name},void 0,u&&j("span",{className:w.default.nickname},void 0,u),j(b.default,{user:n,className:u?w.default.tagFaded:w.default.tag,discriminatorClass:w.default.discriminator}))),l)},t}(a.PureComponent);x.displayName="Reactor";var V=l.default.connectStores([h.default],function(e){var t=e.message,n=e.reaction,r=h.default.getReactions(t.getChannelId(),t.id,n.emoji);return{hasMore:n.count>Object.keys(r).length,reactors:Object.values(r)}})(function(e){function t(t){var n;return F(n=e.call(this,t)||this).handleScroll=n.handleScroll.bind(F(n)),n.state={lastId:null,loadingMore:!1},n}B(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){this.loadMore()},n.UNSAFE_componentWillReceiveProps=function(e){var t=this;i.default.isEqual(this.props.reaction,e.reaction)||this.setState({lastId:null,loadingMore:!1},function(){return t.loadMore()})},n.handleScroll=function(){var e=this.refs.SCROLLER_REF.getScrollerNode();e.scrollTop+e.offsetHeight>=e.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()},n.loadMore=function(){var e=this,t=this.props,n=t.message,r=t.reaction,a=this.state.lastId;this.setState({loadingMore:!0}),s.getReactions(n.getChannelId(),n.id,r.emoji,a).then(function(t){return e.setState({loadingMore:!1,lastId:t[t.length-1].id})})},n.render=function(){var e=this.props,t=e.message,n=e.guildId,r=e.channel,o=e.reaction,i=e.hasMore,l=e.reactors,u=l.map(function(e,a){return j(x,{message:t,emoji:o.emoji,guildId:n,channel:r,user:e,final:a===l.length-1},e.id)});return!u.length&&this.state.loadingMore?u.push(j(I.default,{className:w.default.spinner},"loadingMore")):i&&u.push(j(I.default,{className:w.default.spinnerMore},"hasMore")),a.createElement(P.default,{outerClassName:w.default.reactors,className:"scroller",fade:!0,theme:P.default.Themes.GHOST_HAIRLINE,ref:"SCROLLER_REF",onScroll:i?this.handleScroll:void 0,elementHeight:44,batchEndMultiplier:2},u)},t}(a.PureComponent)),Y=j(I.default,{}),K=function(t){function n(e){var n,r=(n=t.call(this,e)||this).props.reactions;return n.state={selectedReaction:r[0]},n}B(n,t);var r=n.prototype;return r.UNSAFE_componentWillUpdate=function(t){var n=this.props,r=n.reactions,a=n.onClose;r.length!==t.reactions.length&&0===t.reactions.length&&e(a)},r.setSelectedReaction=function(e){this.setState({selectedReaction:e})},r.render=function(){var e=this,t=this.props,n=t.message,r=t.reactions,o=this.state.selectedReaction;if(!o)return Y;var l=f.default.getChannel(n.getChannelId());if(null==l)throw new Error("MessageReactions.render: Message does not have a channelId");var u=null==l||l.isPrivate()?null:l.getGuildId(),s=r.map(function(e,t){return k({},e,{pos:t})}).sort(function(e,t){return e.count!==t.count?t.count-e.count:e.pos-t.pos}).map(function(t){return a.createElement(H,k({key:(t.emoji.id||"")+":"+t.emoji.name,selected:i.default.isEqual(o.emoji,t.emoji),setSelected:function(){return e.setSelectedReaction(t)}},t))});return j(S.default,{size:w.default.size,className:w.default.container},void 0,j(T.default,{outerClassName:w.default.sidebar,className:w.default.scroller,theme:T.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,s),j(V,{message:n,reaction:o,guildId:u,channel:l},(o.emoji.id||"")+":"+o.emoji.name))},n}(a.PureComponent);K.displayName="MessageReactions";var W=l.default.connectStores([v.default,m.default],function(e){var t=e.message,n=v.default.getMessage(t.getChannelId(),t.id),r=null!=n?n.reactions:[];return{theme:m.default.theme,reactions:r}},{forwardRef:!0})(K);t.default=W}).call(this,n(30).setImmediate)},5957:function(e,t,n){"use strict";t.__esModule=!0,t.formatExpiration=c,t.default=void 0;var r,a=(r=n(6570))&&r.__esModule?r:{default:r};var o={type:"",gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},i=/[^0-9]/g,l=/[^0-9\/]/g;function u(e){for(var t=s(e).split(""),n=d(e),r=0;r<n.gaps.length;){var a=n.gaps[r]+r;if(!(a<t.length))break;t.splice(a,0," "),r+=1}return t.join("")}function s(e){return e.replace(i,"")}function d(e){var t=s(e);return t&&(0,a.default)(t)[0]||o}function c(e){var t=e.replace(l,"").split("/"),n=t[0],r=t[1],a=[];return parseInt(n,10)>12&&(n=n.substring(0,1)),a.push(n),(parseInt(n,10)>1||2===n.length||r)&&a.push("/"),r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2)),a.push(r),a.join("")}var f={DEFAULT_CARD_TYPE:o,prettifyCreditCardNumber:u,formatCreditCardNumber:function(e){var t=s(e);return d(t),u(t)},getCreditCardType:d,cleanCardNumber:s,validateCardNumber:function(e){var t=d(e);if(null==t)throw new Error("Could not recognize card type.");if(!t.lengths.includes(e.length))throw new Error("Card number length is incorrect.")},getTypeInfo:function(e){return a.default.getTypeInfo(e)},formatExpiration:c};t.default=f},5958:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(24)),o=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l="GuildNSFWAgreeStore",u={};var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){u=a.default.get(l)||u},o.didAgree=function(e){return null!=e&&(u[e]||!1)},r}(r.default.Store))(o.default,{GUILD_NSFW_AGREE:function(e){var t=e.guildId;u[t]=!0,a.default.set(l,u)}});t.default=s},5959:function(e,t,n){e.exports=n.p+"81b90eae4fc67502d59808a7c219ee65.png"},5962:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(304)),i=n(239),l=p(n(112)),u=p(n(158)),s=n(113),d=n(0),c=p(n(10)),f=p(n(5482));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={color:new o.default.Value(0)},v(n).handleOnSave=n.handleOnSave.bind(v(n)),v(n).handleOnReset=n.handleOnReset.bind(v(n)),v(n).emphasize=n.emphasize.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){s.ComponentDispatch.subscribe(d.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},a.componentWillUnmount=function(){s.ComponentDispatch.unsubscribe(d.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},a.handleOnSave=function(e){(0,this.props.onSave)(e)},a.handleOnReset=function(e){(0,this.props.onReset)(e)},a.emphasize=function(){var e=this.state.color;o.default.sequence([o.default.timing(e,{toValue:1,duration:170,easing:o.default.Easing.quad}),o.default.timing(e,{delay:500,toValue:0,duration:170,easing:o.default.Easing.quad})]).start()},a.render=function(){var e=this.props.submitting;return h(o.default.div,{className:f.default.container,style:this.getContainerStyle()},void 0,h(u.default,{align:u.default.Align.CENTER},void 0,h(u.default.Child,{},void 0,h(o.default.div,{className:f.default.message,style:this.getTextStyle()},void 0,c.default.Messages.SETTINGS_NOTICE_MESSAGE)),h(u.default,{grow:0,justify:u.default.Justify.END},void 0,h(l.default,{className:f.default.resetButton,size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleOnReset},void 0,h(o.default.span,{style:this.getTextStyle()},void 0,c.default.Messages.RESET)),h(l.default,{className:f.default.button,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,submitting:e,onClick:this.handleOnSave},void 0,c.default.Messages.SAVE_CHANGES))))},a.getTextStyle=function(){var e=this.state.color,t=d.Colors.WHITE;return this.props.theme===d.ThemeTypes.LIGHT&&(t=d.Colors.PRIMARY_DARK_500),{color:e.interpolate({inputRange:[0,1],outputRange:[t,d.Colors.WHITE]})}},a.getContainerStyle=function(){var e=this.state.color,t=(0,i.hex2rgb)(d.Colors.PRIMARY_DARK_700,.9);return this.props.theme===d.ThemeTypes.LIGHT&&(t=(0,i.hex2rgb)(d.Colors.STATUS_GREY_100,.9)),{backgroundColor:e.interpolate({inputRange:[0,1],outputRange:[t,(0,i.hex2rgb)(d.Colors.STATUS_RED_500,.9)]})}},r}(a.PureComponent);m.displayName="SettingsNotice";var _=m;t.default=_},5967:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null,this.targetUserType=e.targetUserType||null,this.targetUser=e.targetUser||null},o.isExpired=function(){var e=this.maxAge;if(e>0&&(0,r.default)(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0;return!1},o.getExpiresAt=function(){return this.maxAge>0?(0,r.default)(this.createdAt).add(this.maxAge,"seconds").toDate():1/0},o.toString=function(){return this.code},a}(a(n(52)).default);t.default=o},5968:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.JUMP_TO_GUILD=void 0;var r=u(n(50)),a=u(n(160)),o=u(n(441)),i=u(n(45)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={binds:function(){for(var e=[],t=1;t<10;t++)e.push("mod+"+t);return e}(),global:!0,action:function(e,t){var n,u=parseInt(t.split("+")[1],10);if((0===u&&(u=10),u)&&(n=1===u?l.ME:o.default.guildPositions[u-2])){var s=r.default.getChannelId(n);return n===l.ME&&null==a.default.getGuildId()&&(s=null),i.default.transitionTo(l.Routes.CHANNEL(n,s)),!1}}};t.JUMP_TO_GUILD=s;var d={JUMP_TO_GUILD:s};t.default=d},5969:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(6)),a=u(n(3)),o=u(n(1)),i=u(n(20)),l=u(n(245));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=2500,d={};function c(e){return e.length>s&&(e=e.substr(0,s)),e}function f(e){var t=e.channelId,n=e.draft;return n?d[t]={timestamp:Date.now(),draft:c(n)}:delete d[t],!1}function p(){if(!(l.default.totalUnavailableGuilds>0))for(var e in d)null==i.default.getChannel(e)&&delete d[e]}var h=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){d=e||{},this.waitFor(i.default,l.default)},o.getState=function(){return d},o.getRecentlyEditedDrafts=function(){return(0,r.default)(d).toPairs().map(function(e){var t=e[0],n=e[1];return{channelId:t,timestamp:n.timestamp,draft:n.draft}}).sortBy(function(e){return-e.timestamp}).value()},o.getDraft=function(e){var t=d[e];return null==t?"":t.draft},a}(a.default.PersistedStore);h.persistKey="DraftStore";var v=new h(o.default,{CONNECTION_OPEN:function(e){return p(),!1},GUILD_DELETE:function(e){return p(),!1},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=d[t]&&delete d[t],!1},DRAFT_SAVE:function(e){f(e)},DRAFT_CHANGE:f});t.default=v},5970:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_CLOSE})};var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},5971:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=l(n(17)),o=n(192),i=l(n(5368));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={XSMALL:i.default.xsmall,SMALL:i.default.small,MEDIUM:i.default.medium,LARGE:i.default.large},d={DEFAULT:"default",STATIC:"static"},c=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.getMode=function(){return null!=t.props.srcHover?d.STATIC:d.DEFAULT},t.handleHover=function(){t.state.hovered||t.setState({hovered:!0})},t.handleBlur=function(){t.state.hovered&&t.setState({hovered:!1})},t}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.render=function(){var e=this.props,t=e.size,n=e.src,l=e.srcHover,s=e.className,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["size","src","srcHover","className"]),c={backgroundImage:"url('"+(this.state.hovered&&l?l:n)+"')"},f=this.getMode();return r.createElement("button",u({className:(0,a.default)((0,o.getClass)(i.default,"iconButton",f),s,t),style:c,onMouseEnter:this.handleHover,onFocus:this.handleHover,onMouseLeave:this.handleBlur,onBlur:this.handleBlur},d))},l}(r.PureComponent);c.displayName="IconButton",c.Sizes=s,c.defaultProps={size:s.MEDIUM,disabled:!1};var f=c;t.default=f},5972:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=p(n(3)),i=p(n(1)),l=p(n(165)),u=p(n(75)),s=p(n(23)),d=p(n(14)),c=p(n(845)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return!0}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,c.default,d.default),this.syncWith([u.default,s.default],h)},a.getExperimentId=function(){return f.Experiments.NEWS_FOLLOWING},a.getMetaData=function(){return{title:"News Following",description:["Control: Regular news channel","Treatment 1:Ability to follow a news channel"]}},a.getExperimentDescriptor=function(e){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?c.default.getExperimentAssignment(e,this.getExperimentId()):null)},a.inExperiment=function(e){var t=this.getExperimentDescriptor(e);return null!=t&&t.bucket!==f.ExperimentBuckets.NOT_ELIGIBLE&&(l.default.trigger(t),t.bucket===f.ExperimentBuckets.TREATMENT_1)},r}(o.default.Store))(i.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return e.experimentId===f.Experiments.NEWS_FOLLOWING},EXPERIMENT_OVERRIDE_TYPE:function(e){return e.experimentId===f.Experiments.NEWS_FOLLOWING}});l.default.register(v,((a={})[f.ExperimentTypes.GUILD]=((r={})[f.ExperimentBuckets.CONTROL]=function(){return null},r[f.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var m=v;t.default=m},5973:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Controls=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=y(n(6)),l=y(n(304)),u=n(448),s=y(n(305)),d=y(n(231)),c=y(n(302)),f=y(n(6169)),p=y(n(5949)),h=n(805),v=n(0),m=y(n(312)),_=y(n(5302));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I={friction:14,tension:200},O={VIDEO:"VIDEO",AUDIO:"AUDIO"},N={width:"100%",height:"100%",backgroundColor:"black"};function C(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var A=function(e){var t=e.current,n=e.duration,r=null!=t?C(t):"-:--",a=null!=n?C(n):"-:--";return r=r.padStart(a.length,"0"),T("div",{className:_.default.durationTimeWrapper},void 0,T("span",{className:_.default.durationTimeDisplay},void 0,r),T("span",{className:_.default.durationTimeSeparator},void 0,"/"),T("span",{className:_.default.durationTimeDisplay},void 0,a))};A.displayName="DurationTime";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translateY:new l.default.Value(0),iconHover:!1,barHover:!1},t._isUnmounted=!1,t.setDurationRef=function(e){t.durationBar=e},t.setVolumeRef=function(e){t.volumeBar=e},t}S(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.translateY.setValue(this.props.autoPlay?1:0)},n.componentDidUpdate=function(e){var t=this.props,n=t.hide,r=t.playing;n&&!e.hide?this.animateControls(1,r):!n&&e.hide&&this.animateControls(0,r)},n.componentWillUnmount=function(){this._isUnmounted=!1},n.setStateIfMounted=function(e){this._isUnmounted||this.setState(e)},n.updateProgress=function(e,t){void 0===t&&(t=!0);var n=this.durationBar;null!=n&&n.setGrabber(e,t)},n.animateControls=function(e,t){var n=this.state.translateY;t?l.default.spring(n,E({toValue:e},I)).start():n.setValue(e)},n.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}]}},n.renderPlayIcon=function(){var e=this.props,t=e.playing,n=e.currentTime,r=e.duration,a=e.onPause,o=e.onPlay,i=e.disabled;return t?T(d.default,{onClick:a,tabIndex:i?-1:0},void 0,T(c.default,{name:c.default.Names.PAUSE,className:_.default.controlIcon},"pause")):T(d.default,{onClick:o,tabIndex:i?-1:0},void 0,null!=n&&n===r?T(c.default,{name:c.default.Names.REPLAY,className:_.default.controlIcon},"replay"):T(c.default,{name:c.default.Names.PLAY,className:_.default.controlIcon},"play"))},n.render=function(){var e=this,t=this.props,n=t.buffers,r=t.children,i=t.currentTime,u=t.duration,s=t.muted,p=t.onDrag,v=t.onDragEnd,y=t.onDragStart,g=t.onToggleMuted,E=t.width,S=t.volume,I=t.dragging,N=t.hide,C=t.type,M=t.disabled,R=this.state,b=R.barHover,P=R.iconHover,L=N||!b&&!P&&I!==f.default.Types.VOLUME,D="string"==typeof E||E>250,w=T(A,{current:i,duration:u});return T(h.BackgroundOpacityContext.Consumer,{},void 0,function(t){var i;return T(l.default.div,{className:(0,o.default)(C===O.VIDEO?_.default.videoControls:_.default.audioControls,_.default[t.backgroundOpacity+"BackgroundOpacity"]),onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},style:e.getAnimatedStyle()},void 0,e.renderPlayIcon(),D?w:null,a.createElement(f.default,{buffers:n,value:u||0,onDrag:p,onDragEnd:v,onDragStart:y,type:f.default.Types.DURATION,ref:e.setDurationRef}),T("div",{className:m.default.flex,onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!1,iconHover:!0})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({iconHover:!1})},500)}},void 0,T(d.default,{onClick:g,tabIndex:M?-1:0},void 0,T(c.default,{name:s?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:(0,o.default)(_.default.controlIcon,L?void 0:_.default.opaque)}))),T("div",{className:(0,o.default)(C===O.VIDEO?_.default.videoVolumeWrapper:_.default.audioVolumeWrapper,(i={},i[_.default.hidden]=L,i)),onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!0,iconHover:!1})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({barHover:!1})},500)}},void 0,a.createElement(f.default,{value:S,onDrag:p,onDragEnd:v,onDragStart:y,type:f.default.Types.VOLUME,ref:e.setVolumeRef})),r)})},t}(a.Component);t.Controls=M,M.displayName="Controls",M.defaultProps={disabled:!1};var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translateY:new l.default.Value(0)},t}S(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},n.animateControls=function(e){l.default.spring(this.state.translateY,E({toValue:e},I)).start()},n.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]}},n.renderVideoMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,a=e.disabled;return T(l.default.div,{className:_.default.metadata,style:this.getAnimatedStyle()},void 0,T("div",{className:_.default.metadataContent},void 0,T("div",{className:_.default.metadataName},void 0,t),T("div",{className:_.default.metadataSize},void 0,n)),!a&&T(s.default,{href:r,target:"_blank",rel:"noreferrer noopener",className:_.default.metadataDownload},void 0,T(c.default,{name:c.default.Names.DOWNLOAD,className:_.default.metadataIcon})))},n.renderAudioMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,a=e.disabled;return T(h.BackgroundOpacityContext.Consumer,{},void 0,function(e){return T("div",{className:(0,o.default)(_.default.audioMetadata,_.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,T("div",{className:_.default.metadataContent},void 0,a?t:T(s.default,{className:_.default.metadataName,href:r},void 0,t),T("div",{className:_.default.metadataSize},void 0,n)),a?t:T(s.default,{href:r,className:_.default.metadataDownload},void 0,T(c.default,{name:c.default.Names.DOWNLOAD,className:_.default.metadataIcon})))})},n.render=function(){return this.props.type===O.AUDIO?this.renderAudioMetadata():this.renderVideoMetadata()},t}(a.Component);R.displayName="Metadata";var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={play:!1,scale:new l.default.Value(0),opacity:new l.default.Value(0)},t.popAnimation=function(){var e=t.state,n=e.opacity,r=e.scale;r.setValue(0),n.setValue(0),l.default.parallel([l.default.sequence([l.default.timing(n,{toValue:1,duration:200}),l.default.timing(n,{toValue:0,duration:200})]),l.default.spring(r,E({toValue:1.5},I,{friction:80}))]).start()},t}S(t,e);var n=t.prototype;return n.pop=function(e){void 0===e&&(e=!1),this.setState({play:e},this.popAnimation)},n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return l.default.accelerate({opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.8]}),transform:[{scale:n.interpolate({inputRange:[0,1],outputRange:[1,2]})}]})},n.render=function(){var e=this.state.play;return T(l.default.div,{className:_.default.playPausePop,style:this.getAnimatedStyle()},void 0,T(c.default,{name:e?c.default.Names.PLAY:c.default.Names.PAUSE,className:_.default.playPausePopIcon}))},t}(a.Component);b.displayName="PlayPausePop";var P=function(e){function t(n){var r;(r=e.call(this,n)||this)._unmounted=!1,r._lastMove=0,r.handleFullScreenExit=function(){var e=(0,u.getFullScreenNode)(r.elementRef&&r.elementRef.parentNode,r.elementRef);null!=e&&(0,u.isFullScreen)(e)||r.setState({fullscreen:!1})},r.toggleFullscreen=function(){var e=!r.state.fullscreen;r.setState({fullscreen:e})},r.setMuted=function(e){r.setState({muted:e})},r.toggleMuted=function(){r.setMuted(!r.state.muted)},r.setTime=function(e,t){void 0===t&&(t=!0);var n=g(r).elementRef;null!=n&&isFinite(n.duration)&&isFinite(n.currentTime)&&(n.currentTime=e,r.updateValue(e/n.duration,t),r.updateTime(e,n.duration))},r.handleUIUpdate=function(){if(r.state.playing&&!r._unmounted){var e=g(r).elementRef;null!=e&&(e.duration>0&&r.updateValue(e.currentTime/e.duration),r.updateTime(e.currentTime,e.duration),r.updateControlsVisibility(),requestAnimationFrame(r.handleUIUpdate))}},r.handleDrag=function(e,t){var n=g(r).elementRef;t===f.default.Types.DURATION?null!=n&&isFinite(n.duration)&&r.setTime(n.duration*e,!1):t===f.default.Types.VOLUME&&(0===e?r.setState({muted:!0,volume:e}):r.state.muted&&e>0?r.setState({muted:!1,volume:e}):r.setState({volume:e}))},r.handleLoaded=function(){var e=g(r).elementRef;null!=e&&(r.updateTime(e.currentTime,e.duration),r.setState({hasLoadedMetadata:!0,currentTime:e.currentTime,duration:e.duration}))},r.handleDurationChange=function(){var e=g(r).elementRef;null!=e&&(r.updateTime(e.currentTime,e.duration),r.setState({duration:e.duration}))},r.handleBuffer=i.default.debounce(function(){var e=g(r).elementRef,t=[];if(e)for(var n=e.duration,a=0;a<e.buffered.length;a++){var o=e.buffered.start(a),i=e.buffered.end(a);if(!(i-o<1)){var l=(i-o)/n,u=o/n;t.push([u,l])}}r.setState({buffers:t})},400),r.handleEnded=function(){var e=r.props.onEnd;r.setState({playing:!1,hideControls:!1}),null!=e&&e()},r.handleMouseMove=function(){r._lastMove=Date.now()},r.handleMouseLeave=function(){r._lastMove=0},r.handlePreload=function(){r.setState({preload:"metadata"})},r.setControlRef=function(e){r.controlsRef=e},r.setPlayPausePopRef=function(e){r.playPausePopRef=e},r.handleVideoClick=function(){var e=g(r),t=e.state,n=t.hasClickedPlay,a=t.playing,o=e.props,i=o.autoPlay,l=o.autoMute;i&&!n&&a&&l?r.setState({muted:!1,hasClickedPlay:!0}):r.setPlay(!r.state.playing)},r.setPlay=function(e){var t=g(r),n=t.props.autoMute,a=t.state,o=a.hasClickedPlay,i=a.muted;e!==r.state.playing&&(e?r.setState({playing:e,hasClickedPlay:!0,muted:!(!o&&n)&&i}):r.setState({playing:!1,hideControls:!1}))},r.handleDragStart=function(e){r.setState({dragging:e})},r.handleDragEnd=function(){r.setState({dragging:null}),r._lastMove=Date.now()},r.handleKeyDown=function(e){var t=g(r).elementRef;if(e.which===v.KeyboardKeys.SPACE)e.preventDefault(),r.setPlay(!r.state.playing);else if(e.which>=v.KeyboardKeys.DIGIT_0&&e.which<=v.KeyboardKeys.DIGIT_9&&null!=t){e.preventDefault();var n=(e.which-v.KeyboardKeys.DIGIT_0)/10;t.currentTime=t.duration*n,r.setPlay(!0)}};var a=r.props,o=a.autoPlay,l=a.autoMute,s=a.volume,d=a.playable;return r.state={buffers:[],currentTime:null,dragging:null,duration:null,fullscreen:!1,hasClickedPlay:!1,hasLoadedMetadata:!1,hideControls:!d,muted:l,volume:s,playing:o,preload:"none",width:t.minWidth},r}S(t,e),t.getDerivedStateFromProps=function(e,t){return!e.playable&&t.playing?{playing:!1,hideControls:!1}:null};var n=t.prototype;return n.componentDidMount=function(){var e=this.elementRef,t=this.controlsRef,n=this.state,r=n.playing,a=n.muted,o=n.volume;null!=e&&(a&&(e.muted=a),r&&(this.play(!0),this.handleUIUpdate()),e.volume=o,a||null==t||null==t.volumeBar||t.volumeBar.setGrabber(o))},n.componentDidUpdate=function(e,t){var n=this.props,r=n.onPause,a=n.onVolumeChange,o=n.onMute,i=this.state,l=i.playing,s=i.fullscreen,d=i.muted,c=i.dragging,p=i.volume,h=this.elementRef,v=this.controlsRef,m=this.playPausePopRef;if(null!=h){l&&!t.playing?(this.play(),this.handleMouseMove(),this.handleUIUpdate(),t.hasClickedPlay&&m&&m.pop(l)):!l&&t.playing&&(h.pause(),m&&m.pop(l),r&&r());var _=(0,u.getFullScreenNode)(h.parentNode,h);s&&!t.fullscreen&&null!=_?((0,u.requestFullScreen)(_),_.addEventListener(u.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit)):!s&&t.fullscreen&&null!=_&&(_.removeEventListener(u.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit),(0,u.exitFullScreen)(_)),c===f.default.Types.DURATION&&t.dragging!==f.default.Types.DURATION&&l?h.pause():c!==f.default.Types.DURATION&&t.dragging===f.default.Types.DURATION&&l&&h.play(),d!==t.muted&&(h.muted=d,null!=v&&null!=v.volumeBar&&(d?v.volumeBar.setGrabber(0):v.volumeBar.setGrabber(p)),o&&o(d)),p!==t.volume&&(null!=v&&null!=v.volumeBar&&(h.volume=p,v.volumeBar.setGrabber(p)),a&&a(p)),null!=v&&null!=v.volumeBar&&!d&&p>0&&v.volumeBar.setGrabber(p)}},n.componentWillUnmount=function(){this._unmounted=!0},n.play=function(e){void 0===e&&(e=!1);var t=this.props.onPlay;null!=this.elementRef&&(this.elementRef.play(),t&&t(e))},n.getWidth=function(){var e=this.props.width;return"100%"===e?e:Math.max(e,t.minWidth)},n.updateValue=function(e,t){void 0===t&&(t=!0);var n=this.controlsRef;null!=n&&n.updateProgress(e,t)},n.updateTime=function(e,t){var n=0|e,r=0|t;this.state.currentTime===n&&this.state.duration===r||this.setState({currentTime:n,duration:r})},n.updateControlsVisibility=function(){var e=this.state,t=e.dragging,n=e.fullscreen?1e3:3e3,r=Math.max(0,Date.now()-this._lastMove)>n;r!==this.state.hideControls&&null==t&&this.setState({hideControls:r})},n.renderVideo=function(){var e=this,t=this.props,n=t.height,r=t.src,o=t.poster,i=t.forceExternal,l=t.onError,u=this.state.playing,s=this.getWidth();return i?T("video",{className:_.default.video,controls:!1,height:n,poster:o,width:s,playsInline:!0,autoPlay:u}):a.createElement("video",{className:_.default.video,controls:!1,playsInline:!0,autoPlay:u,height:n,onClick:this.handleVideoClick,onEnded:this.handleEnded,onError:l,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,poster:o,preload:this.state.preload,ref:function(t){return e.elementRef=t},width:s},T("source",{src:r}))},n.renderAudio=function(){var e=this;return a.createElement("audio",{className:_.default.audio,controls:!1,onClick:this.handleVideoClick,onEnded:this.handleEnded,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,preload:this.state.preload,ref:function(t){return e.elementRef=t}},T("source",{src:this.props.src}))},n.renderControls=function(){var e=this,t=this.props,n=t.type,r=t.autoPlay,o=t.playable,i=void 0===o||o,l=this.state,u=l.buffers,s=l.currentTime,f=l.duration,v=l.hasClickedPlay,m=l.hideControls,y=l.muted,g=l.playing,E=l.fullscreen,S=l.volume,I=l.dragging,N=this.getWidth();return v||r||n===O.AUDIO?a.createElement(M,{buffers:u,currentTime:s,duration:f,volume:S,hide:n===O.VIDEO&&m,muted:y,autoPlay:r,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onDurationChange:this.handleDurationChange,onPause:function(){return e.setPlay(!1)},onPlay:function(){return e.setPlay(!0)},onToggleMuted:this.toggleMuted,playing:g,dragging:I,type:n,ref:this.setControlRef,width:E?window.screen.width:N,disabled:!i},n===O.VIDEO?T(d.default,{onClick:this.toggleFullscreen},void 0,T(c.default,{className:_.default.controlIcon,name:c.default.Names.FULL_SCREEN,style:{marginLeft:0}})):null):T("div",{className:_.default.playCenter},void 0,T(h.BackgroundOpacityContext.Consumer,{},void 0,function(t){return T(p.default,{className:_.default.playButton,onPlay:e.handleVideoClick,backgroundOpacity:t.backgroundOpacity})}))},n.renderMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,a=e.type,o=e.playable,i=this.state.hideControls;return null==t||null==n?null:T(R,{fileName:t,fileSize:n,src:r,hide:a===O.VIDEO&&i,type:a,disabled:!o})},n.renderPlayPausePop=function(){return a.createElement(b,{ref:this.setPlayPausePopRef})},n.render=function(){var e=this,t=this.props,n=t.height,r=t.type,a=t.src,i=t.forceExternal,l=t.className,u=t.playable,s=this.getWidth(),d=this.state,c=d.fullscreen,f=d.hideControls,v=d.playing,m=d.preload,y=_.default.wrapperPaused;return r===O.AUDIO?y=_.default.wrapperAudio:f?y=_.default.wrapperControlsHidden:v&&(y=_.default.wrapperPlaying),i&&r===O.VIDEO?T(h.BackgroundOpacityContext.Consumer,{},void 0,function(t){return T("div",{className:y,style:{width:s,height:n}},void 0,e.renderMetadata(),e.renderVideo(),T("div",{className:_.default.playCenter},void 0,T(p.default,{className:_.default.playButton,externalURL:a,backgroundOpacity:t.backgroundOpacity})))}):T("div",{className:(0,o.default)(y,l),"data-fullscreen":c,onMouseEnter:"none"===m?this.handlePreload:null,onMouseLeave:v?this.handleMouseLeave:null,onMouseMove:v?this.handleMouseMove:null,onKeyDown:this.handleKeyDown,tabIndex:u?0:-1,style:c?N:{width:s,height:r===O.AUDIO?"auto":n}},void 0,this.renderMetadata(),r===O.AUDIO?this.renderAudio():this.renderVideo(),this.renderControls(),r===O.VIDEO?this.renderPlayPausePop():null)},t}(a.PureComponent);P.displayName="MediaPlayer",P.Types=O,P.defaultProps={width:498,height:80,forceExternal:!1,playable:!0,autoPlay:!1,autoMute:!1,volume:1},P.minWidth=150;var L=P;t.default=L},5975:function(e,t,n){"use strict";t.__esModule=!0,t.updateStripePaymentRequest=function(e){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE,stripePaymentSource:e})},t.updateCardInfo=function(e,t){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:e,isValid:t})},t.clearCardInfo=function(){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:{cardNumber:"",expirationDate:"",cvc:"",name:""},isValid:!1})},t.updateAddressInfo=function(e,t){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE,info:e,isValid:t})},t.clearError=function(){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CLEAR_ERROR})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},5977:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(304)),i=u(n(803)),l=u(n(5334));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={animationProgress:new o.default.Value(0),animating:!1,targetHeight:0,baseHeight:0,leaving:!1},t.direction=t.props.getDirection(),t._measureRef=a.createRef(),t}d(t,e);var n=t.prototype;return n.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}},n.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)},n.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2),this.setState({baseHeight:n})},n.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animating:!0}),this.props.setHeight(this.state.targetHeight),o.default.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)},n.componentDidEnter=function(){this.setState({animating:!1})},n.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,a=n.getDirection;this.direction=a(),this.setState({leaving:!0}),o.default.timing(t,{toValue:0,duration:r}).start(e)},n.getAnimatedStyle=function(){var e=this.state,t=e.animationProgress,n=e.leaving,r=e.baseHeight,a=e.targetHeight,i=e.animating,l=this.props.sideMargin||0,u=(n?-1:1)*this.direction;return{transform:[{translateX:t.interpolate({inputRange:[0,2],outputRange:[150*u+"%","0%"],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)})}],height:i?t.interpolate({inputRange:[0,1],outputRange:[r,a],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)}):"auto",opacity:t.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)}),overflow:i?"hidden":"auto",position:n?"absolute":void 0,top:n?0:void 0,left:n?l:void 0,right:n?l:void 0,bottom:n?0:void 0}},n.render=function(){return s(o.default.div,{style:this.getAnimatedStyle()},void 0,a.createElement("div",{ref:this._measureRef,className:l.default.measurement},this.props.children))},t}(a.PureComponent);c.displayName="SequenceAnimation",c.defaultProps={duration:300};var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).stepHeights={},t.prevStep=null,t.prevSteps=[],t.getBaseHeight=function(){return null!=t.prevStep&&null!=t.stepHeights[t.prevStep]?t.stepHeights[t.prevStep]:0},t.getDirection=function(){var e=t.props,n=e.steps,r=e.step,a=n.indexOf(t.prevStep),o=-1===a?t.prevSteps.indexOf(t.prevStep):-1;return Math.max(a,o)>n.indexOf(r)?-1:1},t.setHeight=function(e){var n=t.props.step;t.stepHeights[n]=e},t}d(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setPrevSteps()},n.componentDidUpdate=function(){this.setPrevSteps()},n.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t,this.prevSteps=n},n.render=function(){var e=this.props,t=e.step,n=e.sideMargin,r=e.children;return s(i.default,{component:"div"},void 0,s(c,{sideMargin:n,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,setHeight:this.setHeight},t,r))},t}(a.Component);t.default=f,f.displayName="Sequencer"},5978:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=p(n(3)),i=p(n(1)),l=p(n(165)),u=p(n(75)),s=p(n(23)),d=p(n(845)),c=p(n(6729)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,d.default,s.default,c.default),this.syncWith([u.default,s.default],function(){return!0})},a.getExperimentId=function(){return f.Experiments.PREMIUM_GUILDS},a.getMetaData=function(){return{title:"Premium Guilds",description:["Treatment 1: Enable premium guilds."]}},a.getExperimentDescriptor=function(e){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||c.default.getExperimentDescriptor(e)||d.default.getExperimentAssignment(e,this.getExperimentId())},a.isEligibleForGuild=function(e){var t=s.default.getGuild(e),n=null!=t&&t.premiumTier!==f.PremiumGuildTiers.NONE,r=this.getExperimentDescriptor(e);return null==r?n:(l.default.trigger(r),n||r.bucket===f.ExperimentBuckets.TREATMENT_1)},a.isEligible=function(){var e=s.default.getGuilds();for(var t in e)if(e.hasOwnProperty(t)&&this.isEligibleForGuild(t))return!0;return!1},r}(o.default.Store))(i.default);l.default.register(h,((a={})[f.ExperimentTypes.GUILD]=((r={})[f.ExperimentBuckets.CONTROL]=function(){return null},r[f.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var v=h;t.default=v},5979:function(e,t,n){"use strict";t.__esModule=!0,t.init=u,t.open=s,t.close=d,t.setSection=c,t.selectPermissionOverwrite=f,t.updateChannel=p,t.saveChannel=h,t.deleteChannel=v,t.default=void 0;var r=l(n(9)),a=l(n(1)),o=n(808),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_INIT,channelId:e})}function s(e){u(e),(0,o.pushLayer)(i.Layers.CHANNEL_SETTINGS)}function d(){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_CLOSE})}function c(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:e})}function f(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT,overwriteId:e})}function p(e){var t=e.name,n=e.type,r=e.topic,o=e.bitrate,l=e.userLimit,u=e.nsfw,s=e.rateLimitPerUser;a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_UPDATE,name:t,channelType:n,topic:r,bitrate:o,userLimit:l,nsfw:u,rateLimitPerUser:s})}function h(e,t){var n=t.name,o=t.type,l=t.position,u=t.topic,s=t.bitrate,d=t.userLimit,c=t.nsfw,f=t.permissionOverwrites,p=t.rateLimitPerUser;return a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT}),r.default.patch({url:i.Endpoints.CHANNEL(e),body:{name:n,type:o,position:l,topic:u,bitrate:s,user_limit:d,nsfw:c,permission_overwrites:f,rate_limit_per_user:p}}).then(function(t){return a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS,channelId:e}),t},function(e){return a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE,errors:e.body}),e})}function v(e){r.default.delete(i.Endpoints.CHANNEL(e)).then(function(){return d()})}var m={init:u,open:s,close:d,setSection:c,selectPermissionOverwrite:f,updateChannel:p,saveChannel:h,deleteChannel:v};t.default=m},5981:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PRETTY_KEYS=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(5886)),i=l(n(5242));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s="up",d="right",c="down",f="left",p=u("g",{fill:"#4F545C"},void 0,u("polygon",{transform:"translate(5.025000, 5.000000) scale(1, -1) translate(-5.025000, -5.000000) ",points:"4.16666667 10 4.16666672 3.33333333 1.25 6.25 0.05 5 5.00000005 0 9.99999967 5 8.75 6.25 5.83333338 3.33333333 5.83333333 10"})),h=function(e){var t=e.direction,n=void 0===t?s:t;return u("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",className:(0,a.default)(i.default.bindArrow,i.default[n])},void 0,p)};h.displayName="ArrowSVG";var v={mod:function(){return o.default.modKey},alt:function(){return o.default.altKey},up:function(){return u(h,{direction:s})},down:function(){return u(h,{direction:c})},left:function(){return u(h,{direction:f})},right:function(){return u(h,{direction:d})},pageup:function(){return"page up"},pagedown:function(){return"page down"},"any-character":function(){return"any key"},return:function(){return o.default.returnKey}};t.PRETTY_KEYS=v;var m=function(e){var t=e.shortcut,n=e.className;return u("div",{className:(0,a.default)(i.default.keybindShortcut,n)},void 0,t.split("+").map(function(e){return v[e]?v[e]():e}).map(function(e,t){return u("span",{},t,e)}))};m.displayName="KeyboardShortcut";var _=m;t.default=_},5982:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(11)),i=S(n(99)),l=S(n(5853)),u=S(n(6472)),s=S(n(5909)),d=S(n(6866)),c=S(n(6867)),f=S(n(6868)),p=S(n(6869)),h=S(n(6870)),v=S(n(6871)),m=S(n(6872)),_=S(n(6873)),y=S(n(6942)),g=S(n(6660)),E=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=T(d.default,{}),O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.className;if(o.default.isGuest())return null;var d=null!=r?i.default.getDefaultChannel(r.id):null;switch(n){case E.ContextMenuTypes.GUILD_ICON_BAR:case E.ContextMenuTypes.GUILD_PROFILE_MUTUAL:case E.ContextMenuTypes.GUILD_HEADER:case E.ContextMenuTypes.GUILD_ACTIVITY_FEED:if(!r)break;return T("div",{className:a,style:t},void 0,T(l.default,{},void 0,T(p.default,{guildId:r.id})),T(l.default,{},void 0,null!=d?T(c.default,{channel:d,guild:r}):null,T(h.default,{guildId:r.id}),T(y.default,{guildId:r.id}),T(_.default,{guild:r}),T(v.default,{guildId:r.id}),T(m.default,{guildId:r.id}),T(g.default,{guildId:r.id,userId:o.default.getId()})),T(l.default,{},void 0,T(u.default,{guild:r}),T(u.default,{type:E.ChannelTypes.GUILD_CATEGORY,guild:r})),T(f.default,{guild:r}),T(s.default,{id:r.id}));case E.ContextMenuTypes.GUILD_CHANNEL_LIST:if(!r)break;return T("div",{className:a,style:t},void 0,T(y.default,{guildId:r.id}),T(u.default,{guild:r}),T(u.default,{type:E.ChannelTypes.GUILD_CATEGORY,guild:r}),null!=d?T(c.default,{channel:d,guild:r}):null);case E.ContextMenuTypes.GUILD_ICON_NEW:return T("div",{className:a,style:t},void 0,I);default:console.warn("Error - no such ctx menu type")}return null},r}(a.PureComponent);O.displayName="GuildContextMenu";var N=O;t.default=N},5984:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(158)),s=c(n(302)),d=c(n(5353));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=Object.freeze({PRIMARY:"primary",WARNING:"warning",ERROR:"error"}),h=Object.freeze({SMALL:"small",LARGE:"large",NONE:"none"}),v=((r={})[p.PRIMARY]=d.default.colorPrimary,r[p.WARNING]=d.default.colorWarning,r[p.ERROR]=d.default.colorError,r),m=((a={})[h.SMALL]=d.default.small,a[h.LARGE]=d.default.large,a[h.NONE]=null,a),_=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.icon,n=e.color,r=e.children,a=e.iconSize,o=e.className,i=e.iconClassName;return f(u.default,{className:(0,l.default)(d.default.note,v[n],o),align:u.default.Align.CENTER},void 0,f(s.default,{name:t,className:(0,l.default)(d.default.icon,m[a],i)}),f("div",{},void 0,r))},r}(i.PureComponent);_.displayName="PaymentNote",_.Icons=s.default.Names,_.Colors=p,_.Sizes=h;var y=_;t.default=y},5985:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=y(n(129)),l=y(n(310)),u=y(n(131)),s=y(n(5925)),d=y(n(806)),c=n(5873),f=y(n(809)),p=n(0),h=y(n(10)),v=y(n(312)),m=y(n(5235)),_=y(n(5359));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(){return g(a.Fragment,{},void 0,g(c.Avatar,{src:null,size:c.Avatar.Sizes.XXLARGE,className:m.default.marginBottom20}),g(c.Subtitle,{},void 0,h.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),g(c.Title,{className:(0,o.default)(m.default.marginTop8,v.default.flexCenter)},void 0,h.default.Messages.LOADING))};t.InviteResolvingHeader=E,E.displayName="InviteResolvingHeader";var S=function(e){var t=e.guild,n=e.user;return n?g(c.Avatar,{src:null!=n?n.getAvatarURL():null,size:c.Avatar.Sizes.XXLARGE,className:m.default.marginBottom20}):t?g(c.GuildIcon,{guild:t,size:c.GuildIcon.Sizes.XLARGE,className:m.default.marginBottom20,animate:!0}):null},T=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,y=e.error,E=e.experimentHasGuildDescription,T=void 0!==E&&E;if(null==t)return null;var I,O,N,C=null!=t.guild?new l.default(t.guild):null,A=null!=t.channel?new i.default(t.channel):null,M=r||null==t.inviter?null:new u.default(t.inviter),R=null!=t.approximate_member_count&&t.approximate_member_count>100,b=null!=C&&C.hasFeature(p.GuildFeatures.VERIFIED),P=null!=C&&C.hasFeature(p.GuildFeatures.PARTNERED),L=null;if(null!=C)L=null==M?h.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:h.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:M.username}),t.target_user_type===p.InviteTargetUserTypes.STREAM&&null!=t.target_user&&(L=h.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username})),R||b||P||(I=g(c.GuildIcon,{guild:C,size:c.GuildIcon.Sizes.SMALL})),O=C.name,N=C.description;else if(null!=A){if(null==M)throw new Error("no inviter in group DM invite");var D=M.username;A.name?(L=h.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:D}),O=A.name,null!=A.icon&&(I=g(c.ChannelIcon,{channel:A,size:c.Avatar.Sizes.SMALL}))):(L=h.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,O=D)}return g(a.Fragment,{},void 0,g(S,{guild:C,user:r||R?null:M}),y?g(a.Fragment,{},void 0,g(c.Subtitle,{},void 0,h.default.Messages.INVITE_MODAL_ERROR_TITLE),g(c.Title,{},void 0,y)):g(a.Fragment,{},void 0,g(c.Subtitle,{},void 0,L),g(c.Title,{className:(0,o.default)(m.default.marginTop8,v.default.flexCenter)},void 0,null!=C?g(s.default,{guild:C,className:_.default.guildBadge,tooltipPosition:d.default.Positions.LEFT}):null,I,O),T&&null!=C?g(f.default,{className:_.default.guildDescription,size:f.default.Sizes.SIZE_16},void 0,null!=N?N:h.default.Messages.EXPERIMENT_INSTANT_INVITE_DEFAULT_GUILD_DESCRIPTION.format({guildName:C.name})):null),g(c.ActivityCount,{className:m.default.marginTop8,online:t.approximate_presence_count,total:t.approximate_member_count}))};T.displayName="InviteHeader";var I=T;t.default=I},5991:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(4)),a=u(n(3)),o=u(n(1)),i=u(n(5967)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={},d={};var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getInvite=function(e,t,n){return t!==l.InviteTargetUserTypes.STREAM?s[e]:null!=d[e]&&null!=n?d[e][n]:null},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){return s={},void(d={})},CHANNEL_DELETE:function(e){var t=e.channel;delete s[t.id],delete d[t.id]},INSTANT_INVITE_CREATE:function(e){},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t=e.channelId,n=e.invite,a=null!=n.target_user_type?n.target_user_type:null,o=new i.default({code:n.code,temporary:n.temporary,revoked:n.revoked,maxUses:n.max_uses,maxAge:n.max_age,createdAt:(0,r.default)(n.created_at),channel:n.channel,guild:n.guild,targetUserType:a,targetUser:n.target_user});if(a===l.InviteTargetUserTypes.STREAM){var u=null!=n.target_user?n.target_user.id:null;null==d[t]&&(d[t]={}),d[t][u]=o}else s[t]=o}});t.default=c},5992:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(439)),i=n(59),l=s(n(8)),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._flashTitleInterval=new i.Interval,t.state={titleIndex:null},t.handleFocus=function(){t._flashTitleInterval.stop(),t.setState({titleIndex:null}),document.removeEventListener("focusin",t.handleFocus)},t.rotateTitle=function(){var e=t.state.titleIndex;document.hasFocus()?(t._flashTitleInterval.stop(),t.setState({titleIndex:null})):t.setState({titleIndex:(e+1)%t.titles.length})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,s,f,p=r.prototype;return p.componentDidMount=function(){l.default.embedded||document.hasFocus()||(this.setState({titleIndex:0}),this._flashTitleInterval.start(1e3,this.rotateTitle),document.addEventListener("focusin",this.handleFocus))},p.componentWillUnmount=function(){this._flashTitleInterval.stop(),document.removeEventListener("focusin",this.handleFocus)},p.render=function(){return null!=this.title?d(o.default,{},void 0,d("title",{},void 0,this.title)):null},a=r,(s=[{key:"titles",get:function(){return[u.default.Messages.GO_LIVE_HEY,u.default.Messages.GO_LIVE_LOOK,u.default.Messages.GO_LIVE_LISTEN]}},{key:"title",get:function(){var e=this.state.titleIndex;return null!=e?this.titles[e]:null}}])&&c(a.prototype,s),f&&c(a,f),r}(a.PureComponent);t.default=f,f.displayName="TitleFocusFlasher"},5993:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultLayoutContent=function(){return[{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:w(L.KeybindActions.SERVER_PREV,L.KeybindActions.SERVER_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:w(L.KeybindActions.CHANNEL_PREV,L.KeybindActions.CHANNEL_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:w(L.KeybindActions.UNREAD_PREV,L.KeybindActions.UNREAD_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:w(L.KeybindActions.MENTION_CHANNEL_PREV,L.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:w(L.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:w(L.KeybindActions.MARK_SERVER_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:w(L.KeybindActions.MARK_CHANNEL_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_GUILD,binds:w(L.KeybindActions.CREATE_GUILD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:w(L.KeybindActions.QUICKSWITCHER_SHOW)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_DM_GROUP,binds:w(L.KeybindActions.CREATE_DM_GROUP),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PINS,binds:w(L.KeybindActions.TOGGLE_CHANNEL_PINS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MENTIONS,binds:w(L.KeybindActions.TOGGLE_MENTIONS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_USERS,binds:w(L.KeybindActions.TOGGLE_USERS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:w(L.KeybindActions.SEARCH_EMOJIS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_GIFS,binds:w(L.KeybindActions.SEARCH_GIFS),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:w(L.KeybindActions.TOGGLE_MUTE)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:w(L.KeybindActions.TOGGLE_DEAFEN)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:w(L.KeybindActions.CALL_ACCEPT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:w(L.KeybindActions.MARK_CHANNEL_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:w(L.KeybindActions.CALL_START),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:w(L.KeybindActions.SCROLL_UP,L.KeybindActions.SCROLL_DOWN)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:w(L.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:w(L.KeybindActions.TEXTAREA_FOCUS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UPLOAD_FILE,binds:w(L.KeybindActions.UPLOAD_FILE)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_HELP,binds:w(L.KeybindActions.TOGGLE_HELP)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH,binds:w(L.KeybindActions.FOCUS_SEARCH)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG,binds:["h+h+right+n+k"]}]},t.default=t.DEFAULT_LAYOUT=void 0;var r,a,o=n(6080),i=n(6081),l=n(6346),u=n(6347),s=n(6348),d=n(5968),c=n(6082),f=n(6083),p=n(6084),h=n(6158),v=n(6086),m=n(6087),_=n(6088),y=n(6349),g=n(6089),E=n(6090),S=n(6091),T=n(6093),I=n(6094),O=n(6351),N=n(6352),C=n(6095),A=n(6353),M=n(6354),R=n(6097),b=n(6356),P=n(6161),L=n(0),D=(r=n(10))&&r.__esModule?r:{default:r};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=U[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var U=((a={})[L.KeybindActions.SERVER_NEXT]=g.SERVER_NEXT,a[L.KeybindActions.SERVER_PREV]=g.SERVER_PREV,a[L.KeybindActions.CHANNEL_NEXT]=i.CHANNEL_NEXT,a[L.KeybindActions.CHANNEL_PREV]=i.CHANNEL_PREV,a[L.KeybindActions.UNREAD_NEXT]=R.UNREAD_NEXT,a[L.KeybindActions.UNREAD_PREV]=R.UNREAD_PREV,a[L.KeybindActions.MENTION_CHANNEL_NEXT]=R.MENTION_NEXT,a[L.KeybindActions.MENTION_CHANNEL_PREV]=R.MENTION_PREV,a[L.KeybindActions.TOGGLE_PREVIOUS_GUILD]=i.TOGGLE_PREVIOUS_GUILD,a[L.KeybindActions.JUMP_TO_GUILD]=d.JUMP_TO_GUILD,a[L.KeybindActions.SUBMIT]=E.SUBMIT,a[L.KeybindActions.TEXTAREA_FOCUS]=S.TEXTAREA_FOCUS,a[L.KeybindActions.MARK_CHANNEL_READ]=c.MARK_CHANNEL_READ,a[L.KeybindActions.MARK_SERVER_READ]=f.MARK_SERVER_READ,a[L.KeybindActions.TOGGLE_CHANNEL_PINS]=O.TOGGLE_CHANNEL_PINS,a[L.KeybindActions.TOGGLE_MENTIONS]=A.TOGGLE_MENTIONS,a[L.KeybindActions.TOGGLE_USERS]=M.TOGGLE_USERS,a[L.KeybindActions.TOGGLE_HELP]=N.TOGGLE_HELP,a[L.KeybindActions.TOGGLE_MUTE]=T.TOGGLE_MUTE,a[L.KeybindActions.TOGGLE_DEAFEN]=T.TOGGLE_DEAFEN,a[L.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=I.TOGGLE_CATEGORY_COLLAPSED,a[L.KeybindActions.SCROLL_UP]=m.SCROLL_UP,a[L.KeybindActions.SCROLL_DOWN]=m.SCROLL_DOWN,a[L.KeybindActions.QUICKSWITCHER_SHOW]=h.QUICKSWITCHER_SHOW,a[L.KeybindActions.CREATE_DM_GROUP]=l.CREATE_DM_GROUP,a[L.KeybindActions.SEARCH_EMOJIS]=_.SEARCH_EMOJIS,a[L.KeybindActions.SEARCH_GIFS]=y.SEARCH_GIFS,a[L.KeybindActions.TOGGLE_HOTKEYS]=C.TOGGLE_HOTKEYS,a[L.KeybindActions.JUMP_TO_FIRST_UNREAD]=p.JUMP_TO_FIRST_UNREAD,a[L.KeybindActions.CREATE_GUILD]=u.CREATE_GUILD,a[L.KeybindActions.UPLOAD_FILE]=b.UPLOAD_FILE,a[L.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=v.RETURN_TO_AUDIO_CHANNEL,a[L.KeybindActions.CALL_ACCEPT]=o.CALL_ACCEPT,a[L.KeybindActions.CALL_START]=o.CALL_START,a[L.KeybindActions.FOCUS_SEARCH]=s.FOCUS_SEARCH,a[L.KeybindActions.ZOOM_IN]=P.ZOOM_IN,a[L.KeybindActions.ZOOM_OUT]=P.ZOOM_OUT,a[L.KeybindActions.ZOOM_RESET]=P.ZOOM_RESET,a);t.DEFAULT_LAYOUT=U;var G=U;t.default=G},5994:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderRecord=t.default=void 0;var r=T(n(29)),a=T(n(6)),o=n(6025),i=T(n(115)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(129)),u=T(n(310)),s=T(n(131)),d=T(n(5969)),c=T(n(6159)),f=T(n(99)),p=T(n(309)),h=T(n(87)),v=T(n(237)),m=T(n(5995)),_=T(n(324)),y=T(n(5889)),g=T(n(5931)),E=n(0),S=T(n(10));function T(e){return e&&e.__esModule?e:{default:e}}var I=100,O=5,N=1e3,C=function(){function e(e,t,a){var o=this;this.query="",this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[],this.applicationResults=[],this.mapUserResults=function(e){var t=e.user,a=e.id,i=e.score,l=e.comparator;null==t&&(t=n(14).default.getUser(a));(0,r.default)(null!=t,"Missing user");var u=R(E.AutocompleterResultTypes.USER);return o.createResult(E.AutocompleterResultTypes.USER,t,M(i,u[t.id]),l)},this.parseUserResults=function(e){var t=e.query,r=e.results;if(!o.queryMode||o.queryMode===E.AutocompleterResultTypes.USER){if(0===t.trim().length){var a=o.selectedChannelId,i=n(11).default.getId();o.userResults=y.default.getRecentlyTalked(a,o.queryMode?I:O).filter(function(e){return e.user.id!==i}).map(o.mapUserResults)}else o.userResults=r.map(o.mapUserResults);null==o.queryMode&&o.userResults.length>O&&(o.userResults.length=O),o.updateAllResults(),o.emitChange(o)}},this.emitChange=e,this.userSearchContext=m.default.getSearchContext(this.parseUserResults,I),this.resultTypes=new Set(t),this._generateEmptyResults=a}var t=e.prototype;return t._include=function(e){return 0===this.resultTypes.size||this.resultTypes.has(e)},t.search=function(e,t){if(void 0===t&&(t={}),this.selectedGuildId=t.selectedGuildId,this.selectedChannelId=t.selectedChannelId,this.lastSelectedChannelId=t.lastSelectedChannelId,0===e.trim().length)return this.query=e,this.generateEmptyResults();this.queryMode=function(e){switch(e.charAt(0)){case"@":return E.AutocompleterResultTypes.USER;case"#":return E.AutocompleterResultTypes.TEXT_CHANNEL;case"!":return E.AutocompleterResultTypes.VOICE_CHANNEL;case"*":return E.AutocompleterResultTypes.GUILD;case"$":return E.AutocompleterResultTypes.APPLICATION;default:return null}}(e);var n=this.queryMode?e.substr(1):e,r=this.queryMode?I:O;switch(this.queryMode){case E.AutocompleterResultTypes.USER:this.queryUsers(n,r,!0);break;case E.AutocompleterResultTypes.TEXT_CHANNEL:this.textChannelResults=this.queryTextChannels(n,r);break;case E.AutocompleterResultTypes.VOICE_CHANNEL:this.voiceChannelResults=this.queryVoiceChannels(n,r);break;case E.AutocompleterResultTypes.GUILD:this.guildResults=this.queryGuilds(n,r);break;case E.AutocompleterResultTypes.APPLICATION:this.applicationResults=this.queryApplications(n,r);break;default:this.queryUsers(n,r),this.groupDMResults=this.queryGroupDMs(n,r),this.textChannelResults=this.queryTextChannels(n,r),this.voiceChannelResults=this.queryVoiceChannels(n,r,!0),this.guildResults=this.queryGuilds(n,r)}var a=this.query!==e&&null!=this.queryMode?1:0;return this.query=e,this.queryMode&&this.queryMode!==E.AutocompleterResultTypes.USER&&this.updateAllResults(),a},t.clear=function(){this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[]},t.destroy=function(){null!=this.userSearchContext&&(this.userSearchContext.destroy(),this.userSearchContext=null)},t.createResult=function(e,t,n,r){switch(void 0===n&&(n=0),e){case E.AutocompleterResultTypes.GUILD:if(!(t instanceof u.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.GUILD,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.USER:if(!(t instanceof s.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.USER,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.HEADER:if(!(t instanceof A))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.HEADER,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.TEXT_CHANNEL:if(!(t instanceof l.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.TEXT_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.VOICE_CHANNEL:if(!(t instanceof l.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.VOICE_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.GROUP_DM:if(!(t instanceof l.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.GROUP_DM,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.APPLICATION:if(!(t instanceof i.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.APPLICATION,record:t,queryMode:this.queryMode,score:n,comparator:r}}throw new Error("Invalid type")},t.queryTextChannels=function(e,t){var n=this;if(!this._include(E.AutocompleterResultTypes.TEXT_CHANNEL))return[];var r=this.selectedChannelId,i=R(E.AutocompleterResultTypes.TEXT_CHANNEL);return(0,a.default)(y.default.queryChannels(e,null,1/0,!0,function(e){return e.id!==r})).map(function(e){var t=e.channel,r=e.score,a=e.comparator;return n.createResult(E.AutocompleterResultTypes.TEXT_CHANNEL,t,M(r,i[t.id]),a)}).sort(o.sortByMatchScore).take(t).value()},t.queryVoiceChannels=function(e,t,n){var r=this;if(void 0===n&&(n=!1),!this._include(E.AutocompleterResultTypes.VOICE_CHANNEL))return[];var i=null;if(n&&(i=this.selectedGuildId),n&&null==i)return[];var l=R(E.AutocompleterResultTypes.VOICE_CHANNEL);return(0,a.default)(y.default.queryChannels(e,i,1/0,!0,function(){return!0},E.ChannelTypes.GUILD_VOICE)).map(function(e){var t=e.channel,n=e.score,a=e.comparator;return r.createResult(E.AutocompleterResultTypes.VOICE_CHANNEL,t,M(n,l[t.id]),a)}).sort(o.sortByMatchScore).take(t).value()},t.queryGuilds=function(e,t){var n=this;if(!this._include(E.AutocompleterResultTypes.GUILD))return[];var r=this.selectedGuildId,i=R(E.AutocompleterResultTypes.GUILD);return(0,a.default)(y.default.queryGuilds(e,1/0,!0,function(e){return e.id!==r})).map(function(e){var t=e.guild,r=e.score,a=e.comparator;return n.createResult(E.AutocompleterResultTypes.GUILD,t,M(r,i[t.id]),a)}).sort(o.sortByMatchScore).take(t).value()},t.queryUsers=function(e,t,r){if(void 0===r&&(r=!1),this.userSearchContext&&this._include(E.AutocompleterResultTypes.USER)){var a=[n(11).default.getId()],o=this.selectedGuildId,i={friends:!0};o&&i&&(i.guild=o),r&&(i=null,this.queryMode?g.default.requestMembers(null,e,20):g.default.requestMembers(o,e,20));var l=n(20).default.getDMUserIds();this.userSearchContext.setQuery(e,i,a,l,R(E.AutocompleterResultTypes.USER))}},t.queryGroupDMs=function(e,t){var n=this;if(!this._include(E.AutocompleterResultTypes.GROUP_DM))return[];var r=this.selectedChannelId,a=R(E.AutocompleterResultTypes.GROUP_DM);return y.default.queryGroupDMs(e,t,!0,function(e){return e.id!==r}).map(function(e){var t=e.channel,r=e.score,o=e.comparator;return n.createResult(E.AutocompleterResultTypes.GROUP_DM,t,M(r,a[t.id]),o)})},t.queryApplications=function(e,t){var n=this;return this._include(E.AutocompleterResultTypes.APPLICATION)?y.default.queryApplications(e,t,!0).map(function(e){var t=e.application,r=e.score,a=e.comparator;return n.createResult(E.AutocompleterResultTypes.APPLICATION,t,M(r,_.default.getQuickSwitcherScoreForApplication(t.id)),a)}):[]},t.generateSectionHeader=function(e){return this.createResult(E.AutocompleterResultTypes.HEADER,new A(e),0)},t.generateResultFromId=function(e){var t,r=n(20).default.getChannel(e);if(null==r)return null;switch(r.type){case E.ChannelTypes.DM:if(!this._include(E.AutocompleterResultTypes.USER))return null;if(t=E.AutocompleterResultTypes.USER,null==(r=n(14).default.getUser(r.getRecipientId())))return null;break;case E.ChannelTypes.GROUP_DM:if(!this._include(E.AutocompleterResultTypes.GROUP_DM))return null;t=E.AutocompleterResultTypes.GROUP_DM;break;default:if(!this._include(E.AutocompleterResultTypes.TEXT_CHANNEL))return null;t=E.AutocompleterResultTypes.TEXT_CHANNEL}return this.createResult(t,r,0,r.toString())},t.getDrafts=function(e){var t=this,n=[];return d.default.getRecentlyEditedDrafts().forEach(function(r){var a=r.channelId;if(!e(a)){var o=t.generateResultFromId(a);null!=o&&n.push(o)}}),n},t.generateEmptyResults=function(){var e=this;if(null!=this.userSearchContext&&this.userSearchContext.clearQuery(),null!=this._generateEmptyResults)return this.results=this._generateEmptyResults(this),this.results.length>0?1:0;var t=[],r=this.selectedGuildId,o=this.selectedChannelId,i=this.lastSelectedChannelId;if(i){var l=this.generateResultFromId(i);l&&t.push(this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_LAST_CHANNEL),l)}var u,s=this.getDrafts(function(e){return e===o||e===i});s.length>0&&(u=t).push.apply(u,[this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_DRAFTS)].concat(s));var d=n(20).default,c=(0,a.default)(d.getChannels()).values().filter(function(e){var t=e.id;return t!==o&&t!==i&&p.default.getMentionCount(t)>0}).map(function(t){return e.generateResultFromId(t.id)}).filter(function(e){return!!e}).value();if(c.length&&(t.push(this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_MENTIONS)),t=t.concat(c)),r){var h=f.default.getSelectableChannelIds(r).filter(function(e){var t=d.getChannel(e);return null!=t&&e!==o&&e!==i&&!v.default.isChannelMuted(t.guild_id,e)&&p.default.hasUnread(e)}).map(function(t){return e.generateResultFromId(t)}).filter(function(e){return e});h.length&&(t.push(this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_UNREAD_CHANNELS)),t=t.concat(h))}return this.clear(),this.results=(0,a.default)(t).uniqBy(function(e){return e.record.id}).value(),this.results.length>0?1:0},t.updateAllResults=function(){var e;switch(this.queryMode){case E.AutocompleterResultTypes.USER:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_USERS),this.results=[].concat(this.userResults);break;case E.AutocompleterResultTypes.TEXT_CHANNEL:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_TEXT_CHANNELS),this.results=[].concat(this.textChannelResults);break;case E.AutocompleterResultTypes.VOICE_CHANNEL:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_VOICE_CHANNELS),this.results=[].concat(this.voiceChannelResults);break;case E.AutocompleterResultTypes.GUILD:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_GUILDS),this.results=[].concat(this.guildResults);break;case E.AutocompleterResultTypes.APPLICATION:e=this.generateSectionHeader(S.default.Messages.QUICKSWITCHER_QUERYMODE_APPLICATIONS),this.results=[].concat(this.applicationResults);break;default:this.results=[].concat(this.userResults,this.groupDMResults,this.textChannelResults,this.voiceChannelResults,this.guildResults)}this.results=(0,a.default)(this.results).uniqBy(function(e){return e.type+"-"+e.record.id}).sort(o.sortByMatchScore).value(),this._include(E.AutocompleterResultTypes.HEADER)&&this.results.length>0&&null!=e&&this.results.unshift(e)},e}();t.default=C;var A=function(e){this.id=e,this.text=e};function M(e,t){return void 0===e&&(e=0),N*e*(t||1)}function R(e){var t=c.default.getFrequently(),r=t.reduce(function(e,t){var n=t.id,r=c.default.getScore(n);return r>e?r:e},0),a=[];switch(e){case E.AutocompleterResultTypes.GUILD:a=t.filter(function(e){return e instanceof u.default});break;case E.AutocompleterResultTypes.USER:a=t.filter(function(e){return e instanceof l.default&&e.type===E.ChannelTypes.DM});break;case E.AutocompleterResultTypes.GROUP_DM:a=t.filter(function(e){return e instanceof l.default&&e.type===E.ChannelTypes.GROUP_DM});break;case E.AutocompleterResultTypes.TEXT_CHANNEL:a=t.filter(function(e){return e instanceof l.default&&(0,l.isGuildSelectableChannelType)(e.type)});break;case E.AutocompleterResultTypes.VOICE_CHANNEL:a=t.filter(function(e){return e instanceof l.default&&e.type===E.ChannelTypes.GUILD_VOICE})}var o={};return a.forEach(function(t){var a=t.id,i=c.default.getScore(a);if(e===E.AutocompleterResultTypes.USER){a=t.getRecipientId();var l=h.default.isFriend(a)?.2:0,u=n(20).default.getDMFromUserId(a)?.1:0;o[a]=1+i/r+l+u}else o[a]=1+i/r}),o}t.HeaderRecord=A},5995:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchContext=void 0;var r=d(n(135)),a=d(n(3)),o=d(n(1)),i=d(n(20)),l=d(n(87)),u=d(n(14)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=null,f=10;function p(e){null!=c&&(e=e.filter(function(e){return null!=e}),c.postMessage({type:s.UserSearchWorkerMessageTypes.UPDATE_USERS,payload:e}))}function h(e){if(null==e||l.default.isBlocked(e.id))return null;var t={id:e.id,username:e.username+"#"+e.discriminator};return e.bot&&(t.isBot=!0),l.default.isFriend(e.id)&&(t.isFriend=!0),t}function v(e,t,n){null!=e&&(e[t]=n||null)}function m(e,t){var n=[];return e.forEach(function(e){var r=h(e.user);v(r,t,e.nick),n.push(r)}),n}function _(e){var t=e.guildId,n=e.user,r=e.nick,a=h(n);return null!=a&&(v(a,t,r),p([a])),!1}function y(e){var t=e.channel.id,n=g(i.default.getChannel(t));if(0===n.length)return!1;var r=h(u.default.getCurrentUser());return v(r,t),n.push(r),p(n),!1}function g(e){var t=[];if(null==e||e.type!==s.ChannelTypes.DM&&e.type!==s.ChannelTypes.GROUP_DM)return t;var n=e.recipients;return(void 0===n?[]:n).forEach(function(n){var r=h(u.default.getUser(n));null!=e&&v(r,e.id),t.push(r)}),t}var E=function(){function e(e,t){var n=this;void 0===t&&(t=f),this.handleMessages=function(e){var t=e.data;t&&t.type===s.UserSearchWorkerMessageTypes.USER_RESULTS&&t.uuid===n._uuid&&(!1!==n._currentQuery&&n._callback(t.payload),null!=n._currentQuery&&(n._currentQuery=null),n._setNextQuery())},this._uuid=r.default.v4(),this._callback=e,this._limit=t,this._currentQuery=null,this._nextQuery=null,this._subscribed=!1,this._subscribe()}var t=e.prototype;return t._subscribe=function(){null==c||this._subscribed||(c.addEventListener("message",this.handleMessages,!1),this._subscribed=!0,this._setNextQuery())},t._unsubscribe=function(){null!=c&&this._subscribed&&(c.removeEventListener("message",this.handleMessages,!1),this._subscribed=!1)},t.destroy=function(){this._unsubscribe(),this.clearQuery()},t.clearQuery=function(){this._currentQuery=!1,this._nextQuery=null,null!=c&&this._subscribed&&c.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_CLEAR})},t.setQuery=function(e,t,n,r,a){null!=e&&(this._nextQuery={query:e,filters:t,blacklist:n,whitelist:r,boosters:a||{},limit:this._limit},this._setNextQuery())},t._setNextQuery=function(){!this._currentQuery&&this._nextQuery&&(null!=c&&this._subscribed?(this._currentQuery=this._nextQuery,this._nextQuery=null,c.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_SET,payload:this._currentQuery})):this._subscribed||this._subscribe())},e}();t.SearchContext=E;var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,i.default,u.default)},a.getSearchContext=function(e,t){return void 0===t&&(t=f),new E(e,t)},r}(a.default.Store))(o.default,{LOGOUT:function(e){null!=c&&(c.terminate(),c=null)},CONNECTION_OPEN:function(e){var t=e.user,r=e.guilds,a=e.channels,o=e.relationships;null!=c&&c.terminate(),c=new(n(6028));var l=h(t),u=[l];return r.forEach(function(e){u=u.concat(m(e.members,e.id))}),a.forEach(function(e){var t=e.id,n=i.default.getChannel(t);null==n||n.type!==s.ChannelTypes.DM&&n.type!==s.ChannelTypes.GROUP_DM||(v(l,n.id),u=u.concat(g(n)))}),o.forEach(function(e){var t=e.user;u.push(h(t))}),p(u),!1},OVERLAY_INITIALIZE:function(e){var t=e.users,r=e.guildMembers;null!=c&&c.terminate(),c=new(n(6028));var a=new Map,o=t,i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var u;if(i){if(l>=o.length)break;u=o[l++]}else{if((l=o.next()).done)break;u=l.value}var s=u;a.set(s.id,h(s))}for(var d=0,f=Object.keys(r);d<f.length;d++){var m=f[d],_=r[m];if(null!=_)for(var y=0,g=Object.keys(_);y<g.length;y++){var E=g[y],S=a.get(E),T=_[E];null!=S&&null!=T&&null!=T.nick&&(v(S,m,T.nick),a.set(E,S))}}return p(Array.from(a.values())),a.clear(),!1},CURRENT_USER_UPDATE:function(e){var t=h(e.user);return t&&p([t]),!1},GUILD_CREATE:function(e){var t=e.guild;return p(m(t.members,t.id)),!1},GUILD_MEMBERS_CHUNK:function(e){return p(m(e.members,e.guildId)),!1},GUILD_MEMBER_ADD:_,GUILD_MEMBER_UPDATE:_,RELATIONSHIP_ADD:function(e){return p([h(e.relationship.user)]),!1},CHANNEL_CREATE:y,CHANNEL_UPDATE:y,CHANNEL_RECIPIENT_ADD:function(e){var t=e.channelId,n=h(e.user);v(n,t),p([n])}});t.default=S},5997:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(305)),l=c(n(5934)),u=n(0),s=c(n(10)),d=c(n(5372));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).handleRemove=n.handleRemove.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.handleExternalFileChange=function(e){this.refs.imageInput&&this.refs.imageInput.handleFileChange(e)},c.handleRemove=function(){this.props.onChange(null)},c.render=function(){var e,t,n,r,c=this.props,p=c.avatar,h=c.size,v=c.hint,m=c.name,_=c.makeURL,y=c.disabled,g=c.onChange,E=c.showIcon,S=c.className,T=c.avatarClassName,I=c.hideSize;return(e=null!=p&&/^data:/.test(p)?p:_(p))?t='url("'+e+'")':n=f("div",{className:d.default.avatarUploaderAcronym},void 0,m.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,"")),y?f("div",{className:(0,o.default)(d.default.avatarUploader,d.default.disabled,S)},void 0,f("div",{className:(0,o.default)(d.default.avatarUploaderInner,T),style:{backgroundImage:t}},void 0,n)):(null!=p?r=f(i.default,{className:d.default.removeButton,onClick:this.handleRemove},void 0,s.default.Messages.REMOVE):I||(r=f("small",{className:d.default.sizeInfo},void 0,s.default.Messages.MINIMUM_SIZE.format({size:u.AVATAR_SIZE}))),f("div",{className:(0,o.default)(d.default.avatarUploader,S)},void 0,E?f("div",{className:(0,o.default)(d.default.avatarUploaderInner,T),style:{backgroundImage:t}},void 0,n,f("div",{className:d.default.avatarUploaderHint},void 0,v),a.createElement(l.default,{ref:"imageInput",onChange:g,size:h,className:d.default.fileInput}),f("div",{className:d.default.avatarUploaderIndicator})):f("div",{className:(0,o.default)(d.default.avatarUploaderInner,T),style:{backgroundImage:t}},void 0,n,f("div",{className:d.default.avatarUploaderHint},void 0,v),a.createElement(l.default,{ref:"imageInput",onChange:g,size:h,className:d.default.fileInput})),r))},r}(a.PureComponent);h.displayName="AvatarUploader",h.defaultProps={name:"",size:64,makeURL:function(e){return e},hint:s.default.Messages.CHANGE_AVATAR,disabled:!1,showIcon:!1,hideSize:!1};var v=h;t.default=v},5998:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t){var n=t.getGuildId();if(null==n)throw new Error("no guild id for news editor");a.default.dispatch({type:o.ActionTypes.NEWS_EDITOR_MODAL_OPEN,guildId:n,message:e})},t.createNews=function(e){var t=e.applicationId,n=e.channelId,a=e.messageId,i=e.url,l=e.thumbnail,u=e.thumbnailOverride,s=e.title,d=e.description,c={application_id:t,channel_id:n,message_id:a,url:i,title:s,description:d};null!=u?c.thumbnail_override=u:c.thumbnail=l;return r.default.post({url:o.Endpoints.APPLICATION_NEWS,body:c}).then(function(e){return e.body})},t.updateNews=function(e){var t=e.channelId,n=e.messageId,a=e.newsId,i=e.thumbnail,l=e.title,u=e.description,s={channel_id:t,message_id:n,title:l,description:u};null!=i&&(s.thumbnail=i);return r.default.patch({url:o.Endpoints.APPLICATION_NEWS_BY_ID(a),body:s})},t.deleteNews=function(e,t,n){return r.default.delete({url:o.Endpoints.APPLICATION_NEWS_BY_ID(e),body:{channel_id:t,message_id:n}})},t.close=function(){a.default.dispatch({type:o.ActionTypes.NEWS_EDITOR_MODAL_CLOSE})};var r=i(n(9)),a=i(n(1)),o=(i(n(129)),i(n(317)),n(0));function i(e){return e&&e.__esModule?e:{default:e}}},5999:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var n,i;return i=n=function(n){var i,l;function u(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))||this)._subscriptions=null,e.handleSetRef=function(t){e._ref=t},e}l=n,(i=u).prototype=Object.create(l.prototype),i.prototype.constructor=i,i.__proto__=l;var s=u.prototype;return s.componentDidMount=function(){for(var t in this._subscriptions=e(this.props,this._ref),this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(t)&&a.ComponentDispatch.subscribe(t,this._subscriptions[t])},s.componentWillUnmount=function(){for(var e in this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(e)&&a.ComponentDispatch.unsubscribe(e,this._subscriptions[e])},s.render=function(){return r.createElement(t,o({ref:this.handleSetRef},this.props))},u}(r.Component),n.displayName="componentDispatchSubscriber("+(t.displayName||t.name||"Component")+")",i}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(113);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6000:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={popFirstFile:function(){a.default.dispatch({type:o.ActionTypes.UPLOAD_MODAL_POP_FILE})},pushFiles:function(e){var t=e.files,n=e.channelId;a.default.dispatch({type:o.ActionTypes.UPLOAD_MODAL_PUSH_FILES,files:t,channelId:n})},clearAll:function(){a.default.dispatch({type:o.ActionTypes.UPLOAD_MODAL_CLEAR_ALL_FILES})}};t.default=i},6001:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l={matureAgree:!1,muted:!0};var u=new(function(e){var t,n,r,a,o;function u(){return e.apply(this,arguments)||this}return n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=u,(a=[{key:"didMatureAgree",get:function(){return l.matureAgree}},{key:"isDirectoryMuted",get:function(){return l.muted}}])&&i(r.prototype,a),o&&i(r,o),u}(r.default.Store))(a.default,{APPLICATION_STORE_MATURE_AGREE:function(e){l.matureAgree=!0},APPLICATION_STORE_DIRECTORY_MUTE:function(e){l.muted=!0},APPLICATION_STORE_DIRECTORY_UNMUTE:function(e){l.muted=!1}});t.default=u},6003:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(__OVERLAY__){var n=t.getGame(),a=(0,r.getPID)();return null==n||null==a?null:{pid:a,name:n.name,lastFocused:0,exePath:"",cmdLine:"",played:"",overlay:!0,verified:!1}}return e.getSettingsGame()};var r=n(248)},6004:function(e,t,n){"use strict";t.__esModule=!0,t.search=d,t.searchByMode=function(e,t){var n=i.default.getQuery(e);return d(e,s({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e,t){void 0===t&&(t=l.SEARCH_PAGE_SIZE);return c(e,t)},t.searchPreviousPage=function(e,t){void 0===t&&(t=l.SEARCH_PAGE_SIZE);return c(e,-t)},t.clearHistory=function(e){r.default.dispatch({type:l.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){r.default.wait(function(){r.default.dispatch({type:l.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})})},t.setSearchState=function(e,t){null!=e&&r.default.dirtyDispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){a.default.trackWithMetadata(l.AnalyticEvents.SEARCH_CLOSED,{search_id:i.default.getAnalyticsId(e)}),r.default.wait(function(){return r.default.dispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&r.default.dirtyDispatch({type:l.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){r.default.dispatch({type:l.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var r=u(n(1)),a=u(n(191)),o=u(n(5958)),i=u(n(5890)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n){o.default.didAgree(e)&&(t.include_nsfw=!0);var u=Object.keys(t);a.default.trackWithMetadata(l.AnalyticEvents.SEARCH_STARTED,{search_type:i.default.getSearchType(),prev_search_id:i.default.getAnalyticsId(e),num_modifiers:u.length,modifiers:u.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),r.default.dispatch({type:l.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function c(e,t){var n=i.default.getOffset(e),r=i.default.getQuery(e),a=n+t,o=i.default.getTotalResults(e);if(!(a<0||a>o))return d(e,s({},r,{offset:a}))}},6005:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={open:function(e,t,n,r){a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_OPEN,channelType:e,guildId:t,categoryId:n,cloneChannelId:r})},close:function(){a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_CLOSE})},createChannel:function(e,t,n,i,l,u,s,d,c){var f=this;void 0===i&&(i=[]),a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT});var p={type:t,name:n,permission_overwrites:i};if(null!=l&&l!==o.BITRATE_DEFAULT&&(p.bitrate=l),null!=u&&u>0&&(p.user_limit=u),null!=s&&(p.parent_id=s),t===o.ChannelTypes.GUILD_STORE){if(null==d)throw new Error("Unexpected missing SKU");p.sku_id=d,p.branch_id=c}r.default.post({url:o.Endpoints.GUILD_CHANNELS(e),body:p}).then(function(){return f.close()},function(e){return a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT_FAILURE,errors:e.body})})}};t.default=l},6009:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetchForGuild:function(e){a.default.dirtyDispatch({type:o.ActionTypes.WEBHOOKS_FETCHING,guildId:e}),r.default.get(o.Endpoints.GUILD_WEBHOOKS(e)).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,webhooks:n})}).catch(function(t){var n=t.body;a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,error:n.message})})},fetchForChannel:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.WEBHOOKS_FETCHING,guildId:e,channelId:t}),r.default.get(o.Endpoints.CHANNEL_WEBHOOKS(t)).then(function(n){var r=n.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,channelId:t,webhooks:r})})},create:function(e,t,n){return r.default.post({url:o.Endpoints.CHANNEL_WEBHOOKS(t),body:n}).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOK_CREATE,guildId:e,webhook:n}),n})},delete:function(e,t){return r.default.delete(o.Endpoints.WEBHOOK(t)).then(function(){a.default.dispatch({type:o.ActionTypes.WEBHOOK_DELETE,guildId:e,webhookId:t})})},update:function(e,t,n){return r.default.patch({url:o.Endpoints.WEBHOOK(t),body:n}).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOK_UPDATE,guildId:e,webhook:n}),n})}};t.default=l},6011:function(e,t,n){"use strict";t.__esModule=!0,t.makeChannelSortable=function(e){return(0,r.DropTarget)(_,{drop:function(e,t){var n=t.getItem(),r=(0,f.getDropData)(u.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null!=r){var l=u.default.getChannel(n.id);if(null!=l){var p=e.channel.getGuildId(),m=s.default.getCategories(p),_=d.default.getGuild(p);if(null!=_){var y=(0,f.getDnDUpdates)(l,u.default.getChannel(r.referenceId),r.parentId,m);if(0!==y.length){var g,E=c.default.getCurrentUser();if(y=y.filter(function(e){var t=e.id,n=u.default.getChannel(t);if(null==n)return!1;var r=u.default.getChannel(n.parent_id);return n.type===v.ChannelTypes.GUILD_CATEGORY||null==r?h.default.can(v.Permissions.MANAGE_CHANNELS,E,_):h.default.can(v.Permissions.MANAGE_CHANNELS,E,r)}),l.parent_id!==r.parentId&&y.find(function(e){if(e.id!==l.id)return!1;var t=u.default.getChannel(e.parent_id),n=null!=t&&h.default.can(v.Permissions.MANAGE_ROLES,E,l)&&h.default.can(v.Permissions.MANAGE_ROLES,E,t);if(!n)return!0;var r=h.default.areChannelsLocked(l,t),a=h.default.areChannelsLocked(l,u.default.getChannel(l.parent_id));return(null==l.parent_id&&!r||a&&!r)&&(g=e),!0}),null!=g){var S=u.default.getChannel(g.parent_id);o.default.push(i.default,{channel:l,category:S,onSync:function(){null!=g&&(g.lock_permissions=!0,a.default.batchChannelUpdate(p,y))},onCancel:function(){null!=g&&a.default.batchChannelUpdate(p,y)}})}else a.default.batchChannelUpdate(p,y)}}}}},canDrop:function(e,t){var n=t.getItem(),r=u.default.getChannel(n.id),a=c.default.getCurrentUser();if(null==r)return!1;var o=(0,f.getDropData)(u.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList),i=d.default.getGuild(n.guildId);if(null==o||null==i)return!1;var l=u.default.getChannel(o.parentId),s=u.default.getChannel(r.parent_id),p=h.default.can(v.Permissions.MANAGE_CHANNELS,a,i),m=null!=s?h.default.can(v.Permissions.MANAGE_CHANNELS,a,s):p,_=null!=l?h.default.can(v.Permissions.MANAGE_CHANNELS,a,l):p;return m&&_}},function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parent:null}})((0,r.DragSource)(_,{canDrag:function(e){var t=e.channel,n=c.default.getCurrentUser(),r=d.default.getGuild(t.getGuildId());if(null==r)return!1;if(t.type===v.ChannelTypes.GUILD_CATEGORY)return h.default.can(v.Permissions.MANAGE_CHANNELS,n,r);var a=u.default.getChannel(t.parent_id);return null!=a&&h.default.can(v.Permissions.MANAGE_CHANNELS,n,a)||null==a&&h.default.can(v.Permissions.MANAGE_CHANNELS,n,r)},beginDrag:function(e){var t=e.channel,n=t.id,r=t.parent_id,a=t.guild_id,o=t.type,i=e.position,u=c.default.getCurrentUser(),d=s.default.getCategories(a),f=(0,p.getFlattenedChannelList)(d._categories,d,function(e){var t=e.channel;return t.type===v.ChannelTypes.GUILD_CATEGORY&&d[t.id]&&0===d[t.id].length?h.default.can(v.Permissions.MANAGE_CHANNELS,u,t)&&h.default.can(v.Permissions.VIEW_CHANNEL,u,t):!l.default.isCollapsed(t.parent_id)});return{isChannelDrag:!0,id:n,position:i,parentId:r,type:o,channelList:f,guildId:a}}},function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}})(e))};var r=n(856),a=m(n(801)),o=m(n(73)),i=m(n(6650)),l=m(n(825)),u=m(n(20)),s=m(n(820)),d=m(n(23)),c=m(n(14)),f=n(6528),p=n(437),h=m(n(102)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var _="DRAGGABLE_GUILD_CHANNEL"},6012:function(e,t,n){"use strict";t.__esModule=!0,t.renderMentionBadge=T,t.renderIconBadge=I,t.GuildDiscovery=t.CreateJoinGuildButton=t.AppDownloadButton=t.UnavailableGuildsButton=t.CircleIconButton=t.Separator=t.ListItemTooltip=t.renderListItem=void 0;var r,a=g(n(2)),o=y(n(17)),i=y(n(305)),l=y(n(231)),u=y(n(302)),s=y(n(426)),d=y(n(6013)),c=n(5907),f=y(n(6014)),p=y(n(45)),h=g(n(5914)),v=n(0),m=y(n(10)),_=y(n(5519));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){return S(c.NumberBadge,{count:e})}function I(e,t){var n=t?u.default.Names.NOVA_CAMERA:e?u.default.Names.NOVA_SPEAKER:null;return null==n?null:S(c.IconBadge,{name:n,disableColor:!0,className:_.default.iconBadge})}T.displayName="renderMentionBadge",I.displayName="renderIconBadge";var O=function(e,t){return a.createElement("div",{className:_.default.listItem,ref:t},e)};t.renderListItem=O,O.displayName="renderListItem";var N=function(e){var t=e.children,n=e.text,r=e.color,a=e.disabled,o=void 0!==a&&a;return S(s.default,{text:o?null:n,position:s.default.Positions.RIGHT,color:r,"aria-label":!1},void 0,t)};t.ListItemTooltip=N,N.displayName="ListItemTooltip";var C=function(){return O(S("div",{className:_.default.guildSeparator}))};t.Separator=C;var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return E(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.onClick,i=n.onContextMenu,u=n.children,s=n.selected,c=n.tooltipText,p=this.state.hovered;return O(S(a.Fragment,{},void 0,S(d.default,{hovered:p,selected:s,className:_.default.pill}),S(N,{text:c},void 0,S(f.default,{className:_.default.circleButtonMask,selected:s||p},void 0,S(l.default,{onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},className:(0,o.default)((e={},e[_.default.circleIconButton]=!0,e[_.default.selected]=s||p,e)),onClick:r,"aria-label":c,onContextMenu:i},void 0,u)))))},t}(a.PureComponent);t.CircleIconButton=A,A.displayName="CircleIconButton";var M=S("span",{"aria-hidden":!0},void 0,"!");t.UnavailableGuildsButton=function(e){var t=e.unavailableGuilds,n=m.default.Messages.PARTIAL_OUTAGE.format({count:t}),r=m.default.Messages.PARTIAL_OUTAGE_A11Y.format({count:t});return t>0?O(S(N,{text:n,color:s.default.Colors.RED},void 0,S(i.default,{href:"//twitter.com/discordapp",target:"_blank",className:_.default.guildsError,"aria-label":r},void 0,M))):null};var R=S(C,{}),b=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.disable,n=e.onClick,r=e.selected;return t?null:S(a.Fragment,{},void 0,R,S(A,{onClick:n,selected:r,tooltipText:m.default.Messages.DOWNLOAD_APPS},void 0,S(u.default,{name:u.default.Names.NOVA_DOWNLOAD,className:_.default.circleIcon})))},t}(a.PureComponent);t.AppDownloadButton=b,b.displayName="AppDownloadButton";var P=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.isOwnerOfAny,n=e.disableTooltip,r=e.onContextMenu,a=e.onClick,o=e.selected,i=S(A,{onClick:a,selected:o,onContextMenu:r,tooltipText:m.default.Messages.ADD_A_SERVER},void 0,S(u.default,{name:u.default.Names.NOVA_ADD,className:_.default.circleIcon}));return n?i:S(h.default,{tutorialId:t?"create-more-servers":"create-first-server",position:h.TutorialIndicatorPositions.RIGHT,offsetX:-8},void 0,i)},t}(a.PureComponent);t.CreateJoinGuildButton=P,P.displayName="CreateJoinGuildButton";var L=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props.selected;return S(A,{onClick:function(){return p.default.transitionTo(v.Routes.GUILD_DISCOVERY)},selected:e,tooltipText:m.default.Messages.GUILD_DISCOVERY_TOOLTIP},void 0,S(u.default,{name:u.default.Names.SEARCH,width:24,height:24}))},t}(a.PureComponent);t.GuildDiscovery=L,L.displayName="GuildDiscovery"},6013:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=n(5927),i=l(n(5517));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s={tension:400,friction:30};t.default=function(e){var t=e.selected,n=void 0!==t&&t,r=e.hovered,l=void 0!==r&&r,d=e.unread,c=void 0!==d&&d,f=e.className;return u("div",{className:(0,a.default)(f,i.default.wrapper)},void 0,u(o.Spring,{native:!0,config:s,immediate:!document.hasFocus(),to:{opacity:n?1:l||c?.7:0,height:n?40:l?20:8,transform:l||n||c?"translate3d(0px, 0, 0)":"translate3d(-4px,0,0)"}},void 0,function(e){return u(o.animated.span,{className:i.default.item,style:e})}))}},6014:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(7139),l=n(5927),u=c(n(135)),s=c(n(803)),d=c(n(5518));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={friction:13,tension:240,duration:150},v={duration:150,friction:3},m={friction:30,tension:900,mass:1},_={duration:150,friction:10,tension:100,mass:1},y=(0,i.interpolate)("M0 24C0 16.5449 0 12.8174 1.21793 9.87706C2.84183 5.95662 5.95662 2.84183 9.87706 1.21793C12.8174 0 16.5449 0 24 0C31.4551 0 35.1826 0 38.1229 1.21793C42.0434 2.84183 45.1582 5.95662 46.7821 9.87706C48 12.8174 48 16.5449 48 24C48 31.4551 48 35.1826 46.7821 38.1229C45.1582 42.0434 42.0434 45.1582 38.1229 46.7821C35.1826 48 31.4551 48 24 48C16.5449 48 12.8174 48 9.87706 46.7821C5.95662 45.1582 2.84183 42.0434 1.21793 38.1229C0 35.1826 0 31.4551 0 24Z","M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",{maxSegmentLength:.1}),g=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.componentWillAppear=function(e){e()},n.componentWillEnter=function(e){e()},n.componentWillLeave=function(e){this.timeoutId=setTimeout(e,300)},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.animatedStyle;return f(l.animated.div,{className:n,style:r},void 0,t)},t}(a.Component);g.displayName="BadgeContainer";var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={maskId:u.default.v4(),lowerBadgeMask:new l.Controller({spring:0}),upperBadgeMask:new l.Controller({spring:0}),borderRadiusMask:new l.Controller({spring:0})},t}p(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.selected,n=e.lowerBadge,r=e.upperBadge,a=this.state,o=a.borderRadiusMask,i=a.lowerBadgeMask,l=a.upperBadgeMask;o.update({spring:t?0:1,immediate:!0}).start(),i.update({spring:null!=n?1:0,immediate:!0}).start(),l.update({spring:null!=r?1:0,immediate:!0}).start()},n.componentWillUnmount=function(){var e=this.state,t=e.borderRadiusMask,n=e.lowerBadgeMask,r=e.upperBadgeMask;t.destroy(),n.destroy(),r.destroy()},n.componentDidUpdate=function(e){var t=this.props,n=t.selected,r=t.lowerBadge,a=t.upperBadge,o=this.state,i=o.borderRadiusMask,l=o.lowerBadgeMask,u=o.upperBadgeMask;n&&!e.selected?i.update({spring:0,immediate:!1,config:h}).start():!n&&e.selected&&i.update({spring:1,immediate:!1,config:v}).start(),null!=r&&null==e.lowerBadge?l.update({spring:1,immediate:!document.hasFocus(),config:m}).start():null==r&&null!=e.lowerBadge&&l.update({spring:0,immediate:!document.hasFocus(),config:_}).start(),null!=a&&null==e.upperBadge?u.update({spring:1,immediate:!document.hasFocus(),config:m}).start():null==a&&null!=e.upperBadge&&u.update({spring:0,immediate:!document.hasFocus(),config:_}).start()},n.getBadgePositionInterpolation=function(e,t){return void 0===t&&(t=1),e.animated.spring.interpolate([0,1],[20,0]).interpolate(function(e){return"translate("+e+" "+e*t+")"})},n.getLowerBadgeStyles=function(){var e=this.state.lowerBadgeMask.animated.spring;return{opacity:e.interpolate([0,.5,1],[0,0,1]),transform:e.interpolate(function(e){return"translate("+(16-16*e)+"px, "+(16-16*e)+"px)"})}},n.getUpperBadgeStyles=function(){var e=this.state.upperBadgeMask.animated.spring;return{opacity:e.interpolate([0,.5,1],[0,0,1]),transform:e.interpolate(function(e){return"translate("+(16-16*e)+"px, "+-1*(16-16*e)+"px)"})}},n.getPathInterpolation=function(){return this.state.borderRadiusMask.animated.spring.interpolate(y)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.lowerBadge,a=e.lowerBadgeWidth,i=e.style,u=e.upperBadge,c=this.state,p=c.maskId,h=c.lowerBadgeMask,v=c.upperBadgeMask;return f("div",{className:(0,o.default)(n,d.default.wrapper),style:i},void 0,f("svg",{width:48,height:48,viewBox:"0 0 48 48",className:d.default.svg},void 0,f("mask",{id:p,fill:"black",x:0,y:0,width:48,height:48},void 0,f(l.animated.path,{d:this.getPathInterpolation(),fill:"white"}),f(l.animated.rect,{x:28,y:-4,width:24,height:24,rx:12,ry:12,transform:this.getBadgePositionInterpolation(v,-1),fill:"black"}),f(l.animated.rect,{x:48-(a+8)+4,y:28,width:a+8,height:24,rx:12,ry:12,transform:this.getBadgePositionInterpolation(h),fill:"black"})),f("foreignObject",{mask:"url(#"+p+")",x:0,y:0,width:48,height:48},void 0,t)),f(s.default,{component:"div",className:d.default.badgeWrapper},void 0,null!=r?f(g,{className:d.default.lowerBadge,animatedStyle:this.getLowerBadgeStyles()},"lower-badge",r):null,null!=u?f(g,{className:d.default.upperBadge,animatedStyle:this.getUpperBadgeStyles()},"upper-badge",u):null))},t}(a.Component);E.displayName="BlobMask",E.defaultProps={selected:!1,lowerBadgeWidth:16};var S=E;t.default=S},6015:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5352));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.application,n=e.splashSize,i=e.className,l=e.overrideSplash,u=null!=l?l:t.getSplashURL(n),s=null!=u?"url("+u+")":null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(o.default.splashBackground,i),style:{backgroundImage:s}})}l.displayName="ApplicationSplashBackground"},6025:function(e,t,n){"use strict";t.__esModule=!0,t.sortByMatchScore=function(e,t){if(e.score===t.score){var n=e.comparator.toLocaleLowerCase(),r=t.comparator.toLocaleLowerCase();if(n<r)return-1;if(n>r)return 1}return t.score-e.score}},6026:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(3)),a=f(n(1)),o=f(n(445)),i=f(n(245)),l=f(n(832)),u=f(n(5900)),s=f(n(5913)),d=f(n(14)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h,v,m=function(){return{name:"",icon:null,region:u.default.getOptimalRegionId()}},_=!1,y=c.FormStates.CLOSED,g={},E=m(),S=c.CreateGuildModalScreens.Choose,T=!1;function I(){E=m(),h=null,y=c.FormStates.CLOSED,S=c.CreateGuildModalScreens.Choose}var O=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,d.default,i.default,o.default,u.default,s.default)},a.isOpen=function(){return!s.default.hasAction()&&(_&&y!==c.FormStates.CLOSED)},a.getProps=function(){return{submitting:y===c.FormStates.SUBMITTING,errors:g,code:h,guild:E,screen:S,optimalRegionId:v,nuf:T}},r}(r.default.Store))(a.default,{DISPLAYED_INVITE_SHOW:function(e){I()},CREATE_GUILD_MODAL_OPEN:function(e){y=c.FormStates.OPEN,T=e.nuf||!1,S=e.screen||c.CreateGuildModalScreens.Choose,E=m(),g={}},CREATE_GUILD_MODAL_SET_SCREEN:function(e){S=e.screen},CREATE_GUILD_MODAL_UPDATE:function(e){null!=h&&(h=null),E=p({},E,e.guild)},CREATE_GUILD_MODAL_SUBMIT:function(e){y=c.FormStates.SUBMITTING},CREATE_GUILD_MODAL_SUBMIT_FAILURE:function(e){y=c.FormStates.OPEN,g=e.errors},CREATE_GUILD_MODAL_CLOSE:function(e){return I()},LOAD_REGIONS:function(e){if(null==E||null!=e.guildId)return!1;v=E.region||u.default.getOptimalRegionId(),E=p({},E,{region:v})},CONNECTION_OPEN:function(e){_=!0},LOGOUT:function(e){_=!1},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=O},6027:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(24)),a=d(n(1)),o=d(n(5994)),i=d(n(74)),l=d(n(42)),u=d(n(6029)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c,f="seenQSTutorial",p=0,h=!1,v=!1;function m(){null!=c&&(c.destroy(),c=null)}var _=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(i.default),this.syncWith([l.default],function(){return!0}),h=r.default.get(f)||!1},o.isOpen=function(){return null!=c},o.getResultTotals=function(e){return null==c?0:null==e?c.results.reduce(function(e,t){return t.type!==s.AutocompleterResultTypes.HEADER?e+1:e},0):c.results.reduce(function(t,n){return n.type===e?t+1:t},0)},o.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY;return v&&e&&r},o.getFrequentGuilds=function(){return null!=c?c.queryGuilds("",50):null},o.getProps=function(){return{theme:l.default.theme,query:null!=c?c.query:"",queryMode:null!=c?c.queryMode:null,results:null!=c?c.results:[],selectedIndex:p,seenTutorial:h}},a}(u.default))(a.default,{CONNECTION_OPEN:function(e){var t=e.guilds,n=e.channels;v=t.length>=3||n.filter(function(e){var t=e.type;return t===s.ChannelTypes.DM||t===s.ChannelTypes.GROUP_DM}).length>=20},QUICKSWITCHER_SHOW:function(e){c=c||new o.default(function(){return _.emitChange()}),p=c.search(e.query,e.options)},QUICKSWITCHER_HIDE:function(e){return m()},OVERLAY_SET_INPUT_LOCKED:function(e){return m()},QUICKSWITCHER_SEARCH:function(e){var t=e.query,n=e.options;null!=c&&(p=c.search(t,n))},QUICKSWITCHER_SELECT:function(e){p=e.selectedIndex},QUICKSWITCHER_SWITCH_TO:function(e){return function(){if(h)return!1;h=!0,r.default.set(f,!0)}()}}),y=_;t.default=y},6028:function(e,t,n){e.exports=function(){return new Worker(n.p+"77251a74273d9138de82.worker.js")}},6029:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var a=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.channelNoticePredicate=function(e,t,n){return!1},r}(((r=n(3))&&r.__esModule?r:{default:r}).default.Store);t.default=a},6031:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=i},6032:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=n(810),l=n(805),u=p(n(426)),s=n(0),d=p(n(10)),c=p(n(5249)),f=p(n(5278));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.timestamp;return h(u.default,{text:null!=t?(0,i.calendarFormat)(t):null},void 0,h("time",{dateTime:t.toISOString(),className:f.default.edited,role:"note"},void 0,"(",d.default.Messages.MESSAGE_EDITED,")"))};v.displayName="SuffixEdited";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onContextMenu=function(e){var n=t.props;(0,n.onContextMenu)(e,{message:n.message,channel:n.channel,target:e.target})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this,n=this.props,r=n.className,a=n.message,i=n.channel,u=n.renderButtons,d=n.renderPrefix,p=n.children,m=n.disableButtons,_=n.disableMentionStyles,y=n.isCompact,g=a.isEdited(),E=a.state===s.MessageStates.SEND_FAILED,S=a.state===s.MessageStates.SENDING,T=a.type!==s.MessageTypes.DEFAULT,I=a.mentioned&&!T,O=(0,o.default)(r,((e={})[f.default.isMentionedCompact]=I&&!_&&y,e[f.default.isMentionedCozy]=I&&!_&&!y,e[f.default.isSending]=S,e[f.default.containerCompact]=y,e[f.default.containerCozy]=!y,e));return h(l.BackgroundOpacityContext.Consumer,{},void 0,function(e){var n;return h("div",{className:(0,o.default)(O,f.default[e.backgroundOpacity+"BackgroundOpacity"],c.default[e.backgroundOpacity+"BackgroundOpacity"]),onContextMenu:t.onContextMenu},void 0,!m&&u&&h("div",{className:f.default.buttonContainer},void 0,u({message:a,channel:i})),p||h("div",{className:(0,o.default)(f.default.markup,c.default.markup,(n={},n[f.default.isFailed]=E,n[f.default.isCompact]=y,n))},void 0,null!=d&&d({message:a,channel:i}),a.contentParsed,g&&null!=a.editedTimestamp&&h(v,{timestamp:a.editedTimestamp})))})},r}(a.PureComponent);t.default=m,m.displayName="MessageContent",m.defaultProps={disableButtons:!1,disableMentionStyles:!1,disablePromoteButton:!0}},6033:function(e,t,n){"use strict";t.__esModule=!0,t.openUserContextMenu=function(e,t,n){var r={user:t,channelId:n.id};n.isGroupDM()?r.type=l.ContextMenuTypes.USER_GROUP_DM:n.isDM()?(r.selected=!0,r.type=l.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE):(r.type=l.ContextMenuTypes.USER_CHANNEL_MESSAGE,r.guildId=n.getGuildId());(0,o.openContextMenu)(e,function(e){return a.createElement(i.default,u({},e,r))})};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=(r=n(5236))&&r.__esModule?r:{default:r},l=n(0);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6034:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},u={integration:"",query:""};var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getResults=function(e,t){if(null==e||null==t)return null;var n=l[e];return null!=n&&null!=n[t]?n[t]:null},a.getQuery=function(){return u},r}(r.default.Store))(a.default,{INTEGRATION_QUERY:function(e){var t=e.integration,n=e.query;l[t]=l[t]||{},l[t][n]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,r=e.results;l[t][n].loading=!1,l[t][n].results=r.map(function(e){return{type:o.ChannelTextAreaIntegrations[t].type,meta:e}}),u={query:n,integration:t}},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete l[t][n]}});t.default=s},6035:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=n(192),l=h(n(5849)),u=h(n(231)),s=h(n(158)),d=h(n(302)),c=h(n(128)),f=h(n(10)),p=h(n(5283));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g=function(e){function t(t){var n;return(n=e.call(this,t)||this).selectable=!0,n.orientation="Vertical",_(n).handleMouseEnter=n.handleMouseEnter.bind(_(n)),_(n).handleClick=n.handleClick.bind(_(n)),n}y(t,e);var n=t.prototype;return n.getSelectedMode=function(){return this.selectable&&this.props.selected?"Selected":""},n.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")},n.render=function(){var e;return m(u.default,{className:(0,o.default)(this.props.className,(0,i.getClass)(p.default,"autocompleteRow",this.orientation)),onMouseEnter:this.selectable?this.handleMouseEnter:null,onClick:this.selectable?this.handleClick:null},void 0,m("div",{className:(0,o.default)((0,i.getClass)(p.default,"selector",this.getSelectedMode()),(e={},e[p.default.selectable]=this.selectable,e))},void 0,this.renderContent()))},n.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},n.handleClick=function(){var e=this.props,t=e.onClick,n=e.index;t&&t(n)},t}(a.PureComponent);g.displayName="AutocompleteRow";var E=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return m(s.default,{className:p.default.content},void 0,m(s.default.Child,{grow:1},void 0,t),m(s.default.Child,{grow:0},void 0,m(c.default,{className:p.default.description},void 0,n)))},t}(g),S=function(e){function t(t){var n;return(n=e.call(this,t)||this).selectable=!1,n}return y(t,e),t.prototype.renderContent=function(){var e=this.props.title;return m(c.default,{className:p.default.contentTitle,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL},void 0,e)},t}(g),T=function(e){function t(t){var n;return(n=e.call(this,t)||this).selectable=!1,n}return y(t,e),t.prototype.renderContent=function(){return m("div",{className:p.default.divider})},t}(g),I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).statusStyle={width:10,height:10,right:"-4px",bottom:"-4px",borderWidth:2,borderStyle:"solid"},t}return y(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,r=e.status,a=e.hidePersonalInformation,o=e.colorblindMode;return m(s.default,{align:s.default.Align.CENTER,className:p.default.content},void 0,m(l.default,{size:l.default.Sizes.XSMALL,src:t.getAvatarURL(),status:r,statusClassName:p.default.avatarStatus,statusStyle:o?this.statusStyle:{}}),m(s.default.Child,{className:p.default.marginLeft8},void 0,n||t.username),m(s.default,{grow:0,align:s.default.Align.BASELINE,className:p.default.description},void 0,m(c.default,{className:p.default.descriptionUsername},void 0,t.username),a?null:m(c.default,{className:p.default.descriptionDiscriminator},void 0,"#",t.discriminator)))},t}(g),O=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.renderContent=function(){var e=this.props.role;return m(s.default,{align:s.default.Align.CENTER,className:p.default.content},void 0,m(s.default.Child,{grow:1},void 0,m(c.default,{style:{color:e.colorString}},void 0,"@",e.name)),m(c.default,{className:p.default.description},void 0,f.default.Messages.MENTION_USERS_WITH_ROLE))},t}(g),N=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return m(s.default,{align:s.default.Align.CENTER,className:p.default.content},void 0,m(d.default,{name:d.default.Names.CHANNEL_TEXT,className:p.default.icon,foreground:p.default.iconForeground}),m(s.default.Child,{className:p.default.marginLeft4},void 0,t.toString()),null!=n?m(c.default,{className:p.default.description},void 0,n.name):null)},t}(g),C=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.command,n=e.description;return m(s.default,{align:s.default.Align.CENTER,className:p.default.content},void 0,m(d.default,{name:d.default.Names.SLASH,className:p.default.icon,foreground:p.default.iconForeground}),m(s.default.Child,{grow:1,className:p.default.marginLeft4},void 0,t),m(c.default,{className:p.default.description},void 0,n))},t}(g),A=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,r=t.url?m("img",{alt:"",className:p.default.icon,src:t.url}):m("span",{className:p.default.rawEmoji},void 0,t.surrogates);return m(s.default,{align:s.default.Align.CENTER,className:p.default.content},void 0,r,m("div",{className:p.default.marginLeft8},void 0,n,t.name,n))},t}(g),M=function(e){function t(t){var n;return(n=e.call(this,t)||this).orientation="Horizontal",n}return y(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height;return m("img",{alt:"",src:e.src,width:t,height:n})},t}(g),R=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.isCustom,i=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","className","isCustom"]);return 0===a.Children.count(t)?null:m("div",{className:(0,o.default)(p.default.autocomplete,n)},void 0,r?t:a.createElement("div",v({className:p.default.autocompleteInner},i),t))},t}(a.PureComponent);R.displayName="Autocomplete",R.Generic=E,R.Title=S,R.Divider=T,R.User=I,R.Role=O,R.Channel=N,R.Command=C,R.Emoji=A,R.GIFIntegration=M,R.defaultProps={isCustom:!1};var b=R;t.default=b},6036:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(17)),i=A(n(6)),l=A(n(473)),u=A(n(304)),s=A(n(3)),d=A(n(6102)),c=A(n(802)),f=A(n(800)),p=A(n(199)),h=A(n(241)),v=A(n(23)),m=A(n(441)),_=A(n(112)),y=A(n(231)),g=A(n(18)),E=A(n(169)),S=A(n(822)),T=A(n(6037)),I=A(n(5893)),O=n(0),N=A(n(10)),C=A(n(5288));function A(e){return e&&e.__esModule?e:{default:e}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=32,L=l.default.convert.fromCodePoint("1f44c"),D=22,w=125,U=28;var G=function(e){var t=e.onLearnMore,r=e.onClose,a=e.isGuildChannel;return b("div",{className:C.default.premiumPromo},void 0,b(y.default,{className:C.default.premiumPromoClose,onClick:r},void 0,N.default.Messages.CLOSE),b("img",{alt:"",className:C.default.premiumPromoImage,src:n(6379),width:124,height:96}),b("div",{className:C.default.premiumPromoTitle},void 0,N.default.Messages.PREMIUM_PROMO_TITLE),b("div",{className:C.default.premiumPromoDescription},void 0,N.default.Messages.PREMIUM_PROMO_DESCRIPTION),b(_.default,{onClick:function(){!function(e){g.default.track(O.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:e?O.AnalyticsPages.GUILD_CHANNEL:O.AnalyticsPages.DM_CHANNEL,location_section:O.AnalyticsSections.EMOJI_PICKER_POPOUT})}(a),f.default.open(O.UserSettingsSections.PREMIUM),t()}},void 0,N.default.Messages.LEARN_MORE))};G.displayName="PremiumPromo";var k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new u.default.Value(t.props.fade?0:1)},t}R(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.fade,n=e.delay;t&&u.default.timing(this.state.opacity,{delay:n,toValue:1,duration:150}).start()},n.render=function(){var e=this.props,t=e.surrogate,n=e.onClick,r=E.default.getURL(L+t),a={opacity:this.state.opacity,backgroundImage:'url("'+r+'")'};return b(u.default.div,{onClick:function(){return n(t)},className:C.default.item,style:a})},t}(a.Component);k.displayName="DiversityIcon",k.defaultProps={delay:0,fade:!1};var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isOpen:!1,height:new u.default.Value(U)},t.me=a.createRef(),t.handleDiversityColorChange=function(e){d.default.setDiversityColor(e),t.close()},t.handleOpen=function(){var e=t.props.onOpen;u.default.timing(t.state.height,{fromValue:U,toValue:180,duration:w}).start(),t.setState({isOpen:!0}),document.addEventListener("click",t.close,!0),e&&e(!0)},t.close=function(e){var n=t.props.onOpen,r=t.me.current;if(null!=e&&null!=r)for(var a=e.target;null!=a;){if(a===r)return;a=a.parentNode}t.setState({isOpen:!1}),t.state.height.setValue(U),n&&n(!1)},t}R(t,e);var n=t.prototype;return n.componentWillUnmount=function(){document.removeEventListener("click",this.close,!0)},n.render=function(){var e=this,t=this.props.selectedSurrogate,n=this.state,r=n.isOpen,o=n.height;if(r){var l=[""].concat(O.DIVERSITY_SURROGATES);i.default.remove(l,function(e){return e===t}),l.unshift(t);var s=l.map(function(t,n){return b(k,{fade:n>0,delay:20*n,surrogate:t,onClick:e.handleDiversityColorChange},n)});return a.createElement("div",{ref:this.me,className:C.default.diversitySelector},b(u.default.div,{className:C.default.popout,style:{height:o}},void 0,s))}var d=E.default.getURL(L+t);return b(y.default,{className:C.default.diversitySelector,onClick:this.handleOpen},void 0,b("div",{className:C.default.item,style:{backgroundImage:'url("'+d+'")'}}))},t}(a.PureComponent);F.displayName="DiversitySelector";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).categories=[],t.categoryOffsets={},t.cachedMetaDataNoSearch=null,t.spriteSheetSize=[D*O.EmojiSprites.NonDiversityPerRow+"px",D*Math.ceil(p.default.numNonDiversitySprites/O.EmojiSprites.NonDiversityPerRow)+"px"].join(" "),t.diversitySpriteSheetSize=[D*O.EmojiSprites.DiversityPerRow+"px",D*Math.ceil(p.default.numDiversitySprites/O.EmojiSprites.DiversityPerRow)+"px"].join(" "),t.searchRef=a.createRef(),t.scrollerRef=a.createRef(),t.state={premiumPromoOpen:!1,diversityPickerOpen:!1,metaData:t.computeMetaData(null),searchResults:null,currentSection:h.default.categories[0],selectedRow:-1,selectedColumn:-1,query:"",placeholder:N.default.Messages.SEARCH_FOR_EMOJI},t.handleClear=function(){t.clearNow()},t.handleSelect=function(e,n,r){null!=e&&null!=n?t.selectEmoji(t.state.metaData[e].items[n].emoji,!r.shiftKey):t.selectEmoji(null)},t.handleSelectionChange=function(e,n){if(!(e<0||n<0)){var r=t.state.metaData[e].items[n],a=r.emoji,o=r.offsetTop,i=t.scrollerRef.current;t.setState({selectedRow:e,selectedColumn:n,placeholder:a.allNamesString}),null!=i&&i.scrollIntoViewRect(o,o+P,!1)}},t.handleQueryChange=function(e){if(""!==e){var n=e;":"===n[0]&&(n=n.slice(1));var r=h.default.search(t.props.channel,n);t.setState({query:e,searchResults:r,metaData:t.computeMetaData(r),selectedRow:-1,selectedColumn:-1,currentSection:null})}else t.clearNow()},t.handleScroll=function(){var e=t.getCurrentSection();e!==t.state.currentSection&&t.setState({currentSection:e})},t.handleDiversityPickerToggled=function(e){t.setState({diversityPickerOpen:e})},t.renderStickyHeader=function(){var e=t.scrollerRef.current;if(""!==t.state.query)return null;if(null==e)return b("div",{className:C.default.stickyHeader},void 0,b("div",{className:C.default.category},void 0,t.categoryOffsets[h.default.categories[0]]));var n=e.getScrollerNode();if(null==n)return null;var r=n.scrollTop,a=r+P,o=-1,l=-1;i.default.forEach(t.categories,function(e,t){var n=e.offsetTop;n<=r&&o<n&&(o=n,l=t)});var u=l+1;if(u<t.categories.length&&t.categories[u].offsetTop<a){var s={marginTop:t.categories[u].offsetTop-a};return b("div",{className:C.default.stickyHeader,style:s},void 0,b("div",{className:C.default.category},void 0,t.categories[l].title),b("div",{className:C.default.category},void 0,t.categories[u].title))}return b("div",{className:C.default.stickyHeader},void 0,b("div",{className:C.default.category},void 0,t.categories[l].title))},t}R(t,e);var r=t.prototype;return r.selectEmoji=function(e,t){void 0===t&&(t=!0);var n=this.props,r=n.channel,a=n.onSelectEmoji,o=n.popoutKey;(null==e||e.available)&&(null!=e&&E.default.isEmojiDisabled(e,r)?this.setState({premiumPromoOpen:!0}):(a&&a(e),t?c.default.close(o):this.focusSearch()))},r.clearNow=function(e){var t={query:"",placeholder:N.default.Messages.SEARCH_FOR_EMOJI,searchResults:null,metaData:this.computeMetaData(null),selectedRow:-1,selectedColumn:-1};""!==this.state.query&&(t.currentSection=h.default.categories[0]),this.focusSearch(),this.setState(t,e)},r.focusSearch=function(){var e=this.searchRef.current;null!=e&&e.focus()},r.componentDidMount=function(){g.default.track(O.AnalyticEvents.OPEN_POPOUT,{type:"Emoji Picker"}),this.focusSearch();var e=this.props.onOpen;e&&e()},r.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},r.onHoverEmoji=function(e,t,n){this.setState({selectedRow:t,selectedColumn:n,placeholder:e.allNamesString})},r.scrollNow=function(e){var t=this;this.clearNow(function(){var n=t.scrollerRef.current;null!=n&&n.scrollTo(t.categoryOffsets[e],!0)})},r.getCurrentSection=function(){var e=this.scrollerRef.current;if(""!==this.state.query||null==e)return null;var t=e.getScrollData();if(null==t)return null;var n=t.scrollTop+.25*t.offsetHeight;if(0===t.scrollTop)return h.default.categories[0];var r=-1,a=null;return i.default.forEach(this.categoryOffsets,function(e,t){e<=n&&e>=r&&(r=e,a=t)}),a},r.computeMetaData=function(e){var t=this,n=h.default.categories.length,r=this.props.channel,a=r.getGuildId(),o=[],l=0,u=0,s=function(e,t){void 0===t&&(t=null);var a=[],s=i.default.partition(e,function(e){return!E.default.isEmojiDisabled(e,r)}),d=s[0],c=s[1];i.default.forEach([].concat(d,c),function(e){E.default.isEmojiFiltered(e,r)||(a.push({emoji:e,offsetTop:l*P,row:u,column:a.length}),a.length===n&&(o.push({category:t,items:a}),a=[],u+=1,l+=1))}),a.length>0&&(o.push({category:t,items:a}),u+=1,l+=1)};if(e)s(e);else{if(this.cachedMetaDataNoSearch)return this.cachedMetaDataNoSearch;this.categoryOffsets={},this.categories=[];var d=function(e,n,r){t.categoryOffsets[e]=l*P,t.categories.push({category:e,offsetTop:l*P,title:n}),l+=1,s(r,e)},c=h.default.getDisambiguatedEmojiContext(a);i.default.forEach(h.default.categories,function(e){if(e===O.EMOJI_CATEGORY_CUSTOM){var t=0,n=c.getCustomEmoji(),r=i.default.groupBy(n,"guildId"),o=function(n){var a=r[n.id];null!=a&&0!==a.length&&d(0==t++?e:""+e+t,n.toString(),a)},l=v.default.getGuild(a);l&&o(l),i.default.each(m.default.getSortedGuilds(),function(e){var t=e.guild;t.id!==a&&o(t)})}else{var u=(e===O.EMOJI_CATEGORY_RECENT?c.getFrequentlyUsedEmojis():p.default.getByCategory(e))||[];d(e,N.default.Messages["EMOJI_CATEGORY_"+e.toUpperCase()],u)}}),this.cachedMetaDataNoSearch=o}return o},r.render=function(){var e,t=this,r=this.props,u=r.channel,s=r.diversitySurrogate,d=r.popoutKey,f=this.state,p=f.metaData,v=f.selectedRow,m=f.selectedColumn,_=f.currentSection,g=f.placeholder,A=f.query,R=f.premiumPromoOpen,L=f.diversityPickerOpen,w=[],U=null,k=null;if(0===p.length)k=b(T.default,{message:N.default.Messages.NO_EMOJI_SEARCH_RESULTS,className:C.default.noSearchResultsContainer,forceLightTheme:!0});else{var j=""!==s?l.default.convert.toCodePoint(s):"";i.default.forEach(p,function(e){var r=e.category,l=e.items;if(r&&r!==U){U=r;var s=i.default.find(t.categories,function(e){return e.category===r});null!=s&&w.push(b("div",{name:r,className:C.default.category},r,s.title))}var d=i.default.map(l,function(e){var r,i=e.emoji,l=e.row,s=e.column,d=null,c=l===v&&s===m,f=null!=i.index?i.index:0,p={key:i.name+"-"+l+"-"+s,className:(0,o.default)(C.default.emojiItem,(r={},r[C.default.selected]=c,r[C.default.disabled]=E.default.isEmojiDisabled(i,u),r)),onClick:function(e){return t.selectEmoji(i,!e.shiftKey)},onMouseOver:function(){return t.onHoverEmoji(i,l,s)}};if(!i.useSpriteSheet)return a.createElement("div",M({},p,{style:{backgroundImage:"url('"+i.url+"')"}}));if(i.hasDiversity){var h=-f%O.EmojiSprites.DiversityPerRow*D,_=-Math.floor(f/O.EmojiSprites.DiversityPerRow)*D;d={backgroundImage:"url('"+n(6380)("./spritesheet-"+j+".png")+"')",backgroundPosition:h+"px "+_+"px",backgroundSize:t.diversitySpriteSheetSize}}else{var y=-f%O.EmojiSprites.NonDiversityPerRow*D,g=-Math.floor(f/O.EmojiSprites.NonDiversityPerRow)*D;d={backgroundImage:"url('"+n(6038)+"')",backgroundPosition:y+"px "+g+"px",backgroundSize:t.spriteSheetSize}}return a.createElement("div",p,b("div",{className:C.default.spriteItem,style:d}))});w.push(b("div",{className:C.default.row},w.length,d))}),k=a.createElement(S.default,{ref:this.scrollerRef,outerClassName:C.default.scrollerWrap,className:C.default.scroller,onScroll:this.handleScroll,elementHeight:P,fade:!0,theme:S.default.Themes.LIGHT,renderStickyHeader:function(){return t.renderStickyHeader()}},w)}var B,H=i.default.map(h.default.categories,function(e){var n;return b(y.default,{"aria-label":e,className:(0,o.default)(C.default.item,C.default[e],(n={},n[C.default.selected]=null!=_&&0===_.indexOf(e),n)),onClick:function(){return t.scrollNow(e)}},e)});if(R){var x=null!=u.getGuildId();B=b(G,{onLearnMore:function(){return c.default.close(d)},onClose:function(){return t.setState({premiumPromoOpen:!1})},isGuildChannel:x})}return b("div",{className:C.default.emojiPicker},void 0,b("div",{className:(0,o.default)(C.default.dimmer,(e={},e[C.default.visible]=L,e))}),b("div",{className:C.default.header},void 0,a.createElement(I.default,{query:A,ref:this.searchRef,themeMode:I.default.ThemeModes.LIGHT,size:I.default.Sizes.MEDIUM,placeholder:g,gridResults:!0,selectedRow:v,selectedColumn:m,sections:p.map(function(e){return e.items.length}),onClear:this.handleClear,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,className:C.default.searchBar}),b(F,{onOpen:this.handleDiversityPickerToggled,selectedSurrogate:s})),k,b("div",{className:C.default.categories},void 0,H),B)},t}(a.PureComponent);j.displayName="EmojiPicker";var B=s.default.connectStores([h.default],function(){return{diversitySurrogate:h.default.diversitySurrogate}})(j);t.default=B},6037:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5287));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n=e.message,r=e.className,i=e.forceLightTheme;return l("div",{className:(0,a.default)((t={},t[o.default.forceLightTheme]=i,t),r)},void 0,l("div",{className:o.default.wrapper},void 0,l("div",{className:o.default.sadImage}),l("div",{},void 0,n)))};u.displayName="NoSearchResults";var s=u;t.default=s},6038:function(e,t,n){e.exports=n.p+"f24711dae4f6d6b28335e866a93e9d9b.png"},6039:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(163))&&r.__esModule?r:{default:r},i=n(0);var l=(0,o.default)({ARROW_UP:null,ARROW_DOWN:null,ARROW_LEFT:null,ARROW_RIGHT:null});var u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focusedColumn:null,focusedRow:null},t.handleKeyDown=function(e){var n=t.props.onSelect;switch(e.keyCode){case i.KeyboardKeys.ARROW_DOWN:case i.KeyboardKeys.ARROW_UP:case i.KeyboardKeys.ARROW_LEFT:case i.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),t.focusNext(function(e){switch(e){case i.KeyboardKeys.ARROW_DOWN:return l.ARROW_DOWN;case i.KeyboardKeys.ARROW_UP:return l.ARROW_UP;case i.KeyboardKeys.ARROW_LEFT:return l.ARROW_LEFT;case i.KeyboardKeys.ARROW_RIGHT:return l.ARROW_RIGHT;default:return null}}(e.keyCode));break;case i.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation();var r=t.calculateFocusedItem();null!=r&&null!=n&&n(r)}},t.wrapPosition=function(e,n,r,a){var o=e.length,i=r*o+n,l=Math.max(i+a,0)%o,u=0;return a<0&&l>n&&(u=-1),a>0&&l<n&&(u=1),{column:l,row:(t.calculateClosest(e[n][r],e[l])||r)+u}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown,!0)},a.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)},a.focusNext=function(e){var t=this,n=this.props,r=n.getItemGrid,a=n.onFocus,o=this.state,i=o.focusedColumn,l=o.focusedRow;if(null!=e){var u=r();if(null!=u){var s=this.getNext(u,i,l,e);this.setState({focusedColumn:s.column,focusedRow:s.row},function(){var e=t.calculateFocusedItem();null!=e&&null!=a&&a(e)})}}},a.getNext=function(e,t,n,r){var a,o,i,u;if(null==t||null==n)o=0,i=0,a={column:0,row:0};else switch(o=t,i=n,r){case l.ARROW_UP:a={column:o,row:Math.max(i-1,0)};break;case l.ARROW_DOWN:a={column:o,row:Math.min(i+1,e[o].length-1)};break;case l.ARROW_LEFT:a=this.wrapPosition(e,o,i,-1);break;case l.ARROW_RIGHT:a=this.wrapPosition(e,o,i,1)}return null!=a&&(u=e[a.column][a.row]),null!=u&&null!=a||(u=e[(a={column:o,row:i}).column][a.row]),{column:a.column,row:a.row,id:u.id}},a.calculateClosest=function(e,t){for(var n,r=Number.MAX_SAFE_INTEGER,a=0;a<t.length;a++){var o=t[a],i=Math.abs(o.coords.top-e.coords.top);if(!(i<r))break;r=i,n=a}return n},a.calculateFocusedItem=function(){var e=this.props.getItemGrid,t=this.state,n=t.focusedRow,r=t.focusedColumn,a=e();return null==a||null==r||null==n||null==a[r]||null==a[r][n]?null:a[r][n]},a.render=function(){return this.props.children},r}(a.Component);t.default=u,u.displayName="MasonryKeyboardNavigationWrapper"},6040:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(307))&&r.__esModule?r:{default:r};function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(){function e(e){var t=e.columns,n=e.gutterSize,r=e.scrollBufferMultiplier,a=e.getItemId,o=e.getItemHeight,i=e.getFooterHeight;this._coordsMap={},this._columnHeights=[],this._columnWidth=0,this._totalHeight=0,this._itemGrid=[],this.columns=t,this.gutterSize=n,this.scrollBufferMultiplier=r,this.getItemId=a,this.getItemHeight=o,this.getFooterHeight=i}var t=e.prototype;return t.computeFullCoords=function(e,t,n,r){var a=this.columns,o=this.getItemId,i=this.getItemHeight,l=this.gutterSize,u=this.scrollBufferMultiplier,s=this.getFooterHeight,d={},c=new Array(a).fill(0),f=(r-l*(a+1))/a,p=[],h=t-u*n,v=t+n+u*n,m=[];e.forEach(function(e){var t=o(e);if(null!=t){var n,r=(n=c).reduce(function(e,t,n){return t<e[0]?[t,n]:e},[n[0],0]),a=r[0],u=r[1],s=i(e,f),_=a+l,y={position:"absolute",left:f*u+l*(u+1),width:f,top:_,height:s};_>h-s&&_<v&&p.push(e),d[t]=y,c[u]=_+s,null==m[u]&&(m[u]=[]),m[u].push({coords:y,id:t})}}),this._columnWidth=f,this._coordsMap=d,this._columnHeights=c.map(function(e){return e+l}),this._itemGrid=m;var _=s(a,f,l),y=this.getTotalColumnHeight();return _>0&&(d.__footer__={position:"absolute",left:l,width:r-2*l,top:y,height:_},y+=_+l),this._totalHeight=y,p},t.computeVisibleItems=function(e,t,n){var r=this.getItemId,a=this._coordsMap,o=this.scrollBufferMultiplier,i=[],l=t-o*n,u=t+n+o*n;return e.forEach(function(e){var t=r(e);if(null!=t&&null!=a[t]){var n=a[t],o=n.top,s=n.height;o>l-s&&o<u&&i.push(e)}}),i},t.getCoords=function(e){return this._coordsMap[e]},t.getItemGrid=function(){return this._itemGrid},t.getTotalColumnHeight=function(){return this._columnHeights.reduce(function(e,t){return Math.max(e,t)},0)},e}(),s=function(e){return l("div",{style:e.style},void 0,e.children)};s.displayName="ListItem";var d=function(e){return l("div",{style:{height:e.height,visibility:"hidden"}})};d.displayName="ScrollBuffer";var c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).scrollIntoView=function(e,t){var r=n.state.scrollerRef.current;null!=r&&r.scrollIntoViewRect(e,t,!0)},n.computeFullCoords=function(){var e=n.props,t=e.data,r=e.width,a=e.height,o=n.getScrollTop(),i=n.state.computer.computeFullCoords(t,o,a,r);n.setState({items:i})},n.handleScroll=function(){var e=n.props,t=e.data,r=e.height,a=e.onScroll,o=n.state.items,i=n.getScrollTop(),l=n.state.computer.computeVisibleItems(t,i,r);l.length===o.length&&null==l.find(function(e,t){return e!==o[t]})||n.setState({items:l});var u=n.state.scrollerRef.current;null!=a&&null!=u&&a(u)};var r=n.props,a=r.width,i=r.height,l=r.columns,s=r.gutterSize,d=r.getItemId,c=r.getItemHeight,f=r.scrollBufferMultiplier,p=r.getFooterHeight;return n.state={width:a,height:i,items:[],_data:[],computer:new u({columns:l,gutterSize:s,scrollBufferMultiplier:f,getItemId:d,getItemHeight:c,getFooterHeight:p}),_columns:l,scrollerRef:o.createRef()},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.columns,a=e.width,o=e.height,i=t.computer,l=t.scrollerRef.current;if(null==l)return null;if(n!==t._data||r!==t._columns||a!==t.width){var u=l.getScrollData().scrollTop;return i.columns=r,{scrollTop:u,height:o,width:a,items:i.computeFullCoords(n,u,o,a),_data:n,_columns:r}}return null};var a=r.prototype;return a.getScrollTop=function(){var e=this.state.scrollerRef.current;return null!=e?e.getScrollData().scrollTop:0},a.scrollTo=function(e,t){void 0===t&&(t=!1);var n=this.state.scrollerRef.current;null!=n&&n.scrollTo(e,t)},a.componentDidMount=function(){this.computeFullCoords()},a.getItemGrid=function(){return this.state.computer.getItemGrid()},a.render=function(){var e=this.props,t=e.className,n=e.renderItem,r=e.getItemId,a=e.theme,u=e.track,c=e.renderFooter,f=this.state,p=f.items,h=f.computer,v=f.scrollerRef,m=h.getCoords("__footer__");return o.createElement(i.default,{className:t,ref:v,onScroll:this.handleScroll,theme:a,track:u},l(d,{height:h._totalHeight}),p.map(function(e,t){var a=r(e),o=h.getCoords(a);return null!=o?l(s,{style:o},a,n(e,o,t)):null}),null!=m?l(s,{style:m},void 0,c(h.getTotalColumnHeight(),h)):null)},r}(o.Component);c.displayName="MasonryList",c.defaultProps={columns:2,gutterSize:10,scrollBufferMultiplier:0,track:!1,theme:i.default.Themes.GHOST_HAIRLINE,getFooterHeight:function(){return 0},renderFooter:function(){return null}};var f=c;t.default=f},6041:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function l(e,t,n){var r=Math.max(Math.floor(e/t),1);return Math.min(r,n)}var u=(0,((r=n(5882))&&r.__esModule?r:{default:r}).default)((o=a=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={columns:l(t.props.width,t.props.desiredItemWidth,t.props.maxColumns)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=l(e.width,e.desiredItemWidth,e.maxColumns);return n!==t.columns?{columns:n}:null},r.prototype.render=function(){var e=this.props,t=e.width,n=e.height;return(0,e.children)(this.state.columns,t,n)},r}(i.PureComponent),a.defaultProps={desiredItemWidth:200},o));t.default=u},6042:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GIFPickerSearchItem=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=I(n(6)),l=I(n(6721)),u=I(n(3)),s=n(5916),d=I(n(5896)),c=I(n(112)),f=I(n(231)),p=I(n(302)),h=I(n(307)),v=I(n(6043)),m=I(n(6039)),_=I(n(6040)),y=I(n(6037)),g=I(n(6041)),E=n(0),S=I(n(10)),T=I(n(5291));function I(e){return e&&e.__esModule?e:{default:e}}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=[E.Colors.PREMIUM_TIER_1_PURPLE,E.Colors.PREMIUM_TIER_1_BLUE,"#929AFA"],A=1220;function M(e){return e.id||e.src}function R(e){return e.height}function b(e){return e.id}function P(e){return e===E.GIFResultFormat.VIDEO}var L=function(e){var t=e.className,n=e.isFavorite,r=e.item;return N(v.default,{className:t,isFavorite:n,onClick:function(e){var t=r.width,n=r.height,a=r.src,o=r.url,i=r.format;e?(0,s.removeFavoriteGIF)(o):(0,s.addFavoriteGIF)({width:t,height:n,src:a,url:o,format:i})}})};L.displayName="ConnectedGIFFavButtonInner";var D=u.default.connectStores([d.default],function(e){var t=e.item.url;return{isFavorite:d.default.getIsFavorite(t)}})(L),w=new l.default(function(){var e=document.createElement("video");return e.className=T.default.gif,e.autoplay=!0,e.loop=!0,e.muted=!0,e.preload="auto",e.controls=!1,e},function(e){e.src="",e.oncanplay=null;var t=e.parentNode;null!=t&&t.removeChild(e)}),U=new l.default(function(){return document.createElement("img")},function(e){e.onload=null,e.src=""}),G=Array.from({length:16}).map(function(e,t){return{id:""+t,height:Math.floor(100*Math.random())+120}}),k=function(e){function t(t){var n;(n=e.call(this,t)||this).ref=null,n._video=null,n._image=null,n._mounted=!0,n.handleCanPlay=function(){n._mounted&&n.setState({loaded:!0})},n.handleClick=function(){var e=n.props,t=e.onClick,r=e.item,a=e.index;null!=t&&t(r,a)};var r=n.props,a=r.format,o=r.color;return n.state={color:null==o?i.default.sample(C):o,loaded:!1},P(a)||(n._image=U.getElement(),n._image.onload=function(){return n.setState({loaded:!0})},n._image.src=t.src),n}O(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.format,n=e.src,r=e.itemWidth,a=e.itemHeight,o=this.ref;if(t===E.GIFResultFormat.VIDEO&&null!=o){var i=w.getElement();i.oncanplay=this.handleCanPlay,i.src=n,i.width=r,i.height=a,o.appendChild(i),this._video=i}},n.componentWillUnmount=function(){this._mounted=!1;var e=this._image,t=this._video;null!=e&&(this._image=null,U.poolElement(e)),null!=t&&(this._video=null,w.poolElement(t))},n.renderGIF=function(){var e=this.props,t=e.src,n=e.itemWidth,r=e.itemHeight;return this.state.loaded?N("img",{src:t,width:n,height:r,className:T.default.gif,alt:""}):null},n.render=function(){var e,t=this,n=this.props,r=n.item,a=n.renderExtras,i=n.format,l=n.itemWidth,u=n.itemHeight,s=n.focused,d=this.state,c=d.color,p=d.loaded;return N(f.default,{innerRef:function(e){t.ref=e},className:(0,o.default)(T.default.result,(e={},e[T.default.focused]=s,e)),onClick:this.handleClick,style:{backgroundColor:p?null:c,width:l,height:u}},void 0,P(i)?null:this.renderGIF(),null!=a?a(r):null)},t}(a.PureComponent);t.GIFPickerSearchItem=k,k.displayName="GIFPickerSearchItem";var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._masonryRef=a.createRef(),t.prevResultQuery=null,t.state={focusedId:null},t.handleFocus=function(e){var n=t._masonryRef.current;null!=n&&n.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),t.setState({focusedId:e.id})},t.handleSelect=function(e){var n,r=t.props.data,a=r.findIndex(function(t){return M(t)===e.id});-1!==a&&(n=r[a]),null!=n&&t.selectItem(n,a)},t.handleClickItem=function(e,n){t.selectItem(e,n)},t.handleScroll=function(e){var n=t.props.resultQuery,r=e.scrollerState,a=r.scrollTop;r.scrollHeight-a<=A&&(n!==t.prevResultQuery&&(0,s.fetchSuggestions)(n),t.prevResultQuery=n)},t.renderItem=function(e,n,r){var a=t.state.focusedId;return N(k,{item:e,index:r,format:e.format,src:e.src,itemWidth:n.width,itemHeight:n.height,onClick:t.handleClickItem,renderExtras:function(){return N(D,{className:T.default.favButton,item:e})},focused:M(e)===a})},t.renderLoadingItem=function(e,t,n){return N("div",{className:T.default.placeholder,style:{animationDelay:75*n+"ms"}})},t.renderFooter=function(){var e=t.props,n=e.onSelectSuggestion,r=e.suggestions;return N("div",{className:T.default.endContainer},void 0,r.length>0?N(a.Fragment,{},void 0,N("div",{className:T.default.endText},void 0,S.default.Messages.GIF_PICKER_RELATED_SEARCH),N("div",{className:T.default.searchSuggestions},void 0,r.map(function(e){return N(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.PRIMARY,size:c.default.Sizes.SMALL,className:T.default.searchSuggestion,onClick:function(){n(e)}},e,e)}))):null)},t}O(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.resultType,n=e.data;t===E.GIFPickerResultTypes.FAVORITES&&((0,s.trackSearchStart)(E.GIFPickerResultTypes.FAVORITES),(0,s.trackSearchResultViewed)(n,E.GIFPickerResultTypes.FAVORITES,{limit:null}))},n.componentWillUnmount=function(){w.clearPool(),U.clearPool()},n.selectItem=function(e,t){var n=this.props,r=n.onSelectGIF,a=n.resultType,o=n.data,i=n.resultQuery;null!=r&&r(e),(0,s.trackSelectGIF)({type:a,index:t,offset:this.props.searchOffset,limit:this.props.searchLimit,results:o,totalResults:this.props.searchTotalResults,query:i,gifId:e.id})},n.getItemHeight=function(e,t){var n=e.width;return t*(e.height/n)},n.renderEmptyFavorite=function(e,t){return void 0===t&&(t=!1),N("div",{className:T.default.emptyHint},void 0,null!=e?N("div",{className:T.default.emptyHintCard},void 0,t?N(p.default,{className:T.default.emptyHintFavorite,name:p.default.Names.FAVORITE_FILLED}):null,N("div",{className:T.default.emptyHintText},void 0,e)):N("div",{className:T.default.emptyHintSpacer}))},n.renderEmptyFavorites=function(){var e=this;return N(h.default,{theme:h.default.Themes.GHOST_HAIRLINE},void 0,N("div",{className:T.default.emptyHints},void 0,this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_HOW_TO_FAVORITE,!0),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_WHERE_TO_FAVORITE),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_GO_FAVORITE),Array.from({length:15}).map(function(t,n){return N(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_FLAVOR_FAVORITE_PLEASE),Array.from({length:16}).map(function(t,n){return N(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_FLAVOR_STILL_HERE)))},n.render=function(){var e=this,t=this.props,n=t.data,r=t.resultQuery,o=t.query,i=t.resultType;return 0===n.length&&r===o&&i!==E.GIFPickerResultTypes.TRENDING_GIFS?i===E.GIFPickerResultTypes.FAVORITES?this.renderEmptyFavorites():N(y.default,{message:S.default.Messages.NO_GIF_SEARCH_RESULTS,className:T.default.noResults}):N(m.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},r,N(g.default,{desiredItemWidth:200,maxColumns:8},void 0,function(t,l,u){return 0!==n.length||r===o&&i!==E.GIFPickerResultTypes.TRENDING_GIFS?a.createElement(_.default,{key:r+"-"+(i||""),ref:e._masonryRef,width:l,height:u,gutterSize:12,className:T.default.results,columns:t,data:n,getItemId:M,getItemHeight:e.getItemHeight,renderItem:e.renderItem,scrollBufferMultiplier:.5,getFooterHeight:function(){return 220},renderFooter:e.renderFooter,onScroll:e.handleScroll}):N(_.default,{width:l,height:u,data:G,columns:t,gutterSize:12,getItemId:b,getItemHeight:R,renderItem:e.renderLoadingItem,scrollBufferMultiplier:.5},r)}))},t}(a.PureComponent);F.displayName="GIFPickerSearchResults";var j=F;t.default=j},6043:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(231)),l=c(n(302)),u=c(n(426)),s=c(n(10)),d=c(n(5290));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={showPulse:!1},t.showPulse=function(){t.setState({showPulse:!0}),t._timeout=setTimeout(function(){t.setState({showPulse:!1})},500)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){clearTimeout(this._timeout)},a.render=function(){var e,t=this,n=this.props,r=n.className,a=n.size,c=n.isFavorite,p=n.onClick,h=this.state.showPulse,v=c?s.default.Messages.GIF_TOOLTIP_REMOVE_FROM_FAVORITES:s.default.Messages.GIF_TOOLTIP_ADD_TO_FAVORITES;return f(u.default,{text:v},void 0,f(i.default,{className:(0,o.default)(r,a,d.default.gifFavoriteButton,(e={},e[d.default.selected]=c,e[d.default.showPulse]=h,e)),onMouseDown:function(e){return e.preventDefault()},onClick:function(e){e.preventDefault(),e.stopPropagation(),t.showPulse(),p(c)},onDoubleClick:function(e){return e.preventDefault()}},void 0,f(l.default,{className:d.default.icon,name:c?l.default.Names.FAVORITE_FILLED:l.default.Names.FAVORITE})))},r}(a.PureComponent);p.displayName="GIFFavButton",p.defaultProps={size:d.default.size};var h=p;t.default=h},6044:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=U(n(2)),o=w(n(3)),i=w(n(134)),l=w(n(73)),u=n(467),s=U(n(468)),d=w(n(131)),c=w(n(321)),f=w(n(167)),p=w(n(5246)),h=w(n(35)),v=w(n(74)),m=w(n(88)),_=w(n(203)),y=w(n(247)),g=w(n(14)),E=w(n(5245)),S=w(n(6393)),T=n(805),I=n(234),O=w(n(18)),N=w(n(81)),C=n(322),A=w(n(8)),M=w(n(440)),R=w(n(6394)),b=w(n(6021)),P=w(n(5237)),L=w(n(5855)),D=n(0);function w(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j={spotify:"Spotify"};function B(e,t,n,r){var a=null!=r.application_id?m.default.getActiveLibraryApplication(r.application_id):null;O.default.track(D.AnalyticEvents.APPLICATION_OPENED,{type:e,source:D.AnalyticsLocations.MESSAGE_EMBED,application_id:r.application_id,party_id:null!=r.party?r.party.id:void 0,other_user_id:t,message_id:n,distributor:null!=a?a.getDistributor():null})}var H=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).renderCustomButton=function(e){var t=n.props.application;return a.createElement(b.default,k({},e,{source:D.AnalyticsLocations.MESSAGE_EMBED,application:t}))},n.renderEmbed=function(e){var t,r=n.props,a=r.activity,o=r.partyId,i=r.myPartyId,l=r.application,u=r.partyMembers,s=r.isPreview,d=r.isLaunching,c=r.activityActionType,f=r.className,p=r.channelId,h=r.message,v=r.hideParty,m=r.isSyncable,_=r.isLaunchable;if(null!=l)t=l.name;else if(null!=o){var y=o.split(":")[0];t=j[y]}return G(S.default,{activity:a,partyId:o,myPartyId:i,applicationId:null!=l?l.id:null,name:t,partyMembers:u,className:f,coverImage:n.getCoverImage(),isPreview:s,isGameLaunchable:_,isLaunching:d,activityActionType:c,isInBrowser:!A.default.embedded,isSyncable:m,channelId:p,message:h,hideParty:v,onJoin:n.handleJoin,onSpectate:n.handleSpectate,onSync:n.handleSync,onDownloadApp:n.handleDownloadApp,onOpenSpotifyTrack:n.handleOpenSpotifyTrack,onOpenSpotifyArtist:n.handleOpenSpotifyArtist,onOpenSpotifyAlbum:n.handleOpenSpotifyAlbum,renderUserPopout:n.renderUserPopout,renderSpotifyJoinButton:n.renderSpotifyJoinButton,backgroundOpacity:e.backgroundOpacity,renderCustomButton:n.shouldRenderCustomButton()?n.renderCustomButton:null})},F(n).handleJoin=n.handleJoin.bind(F(n)),F(n).handleSpectate=n.handleSpectate.bind(F(n)),F(n).handleSync=n.handleSync.bind(F(n)),F(n).handleDownloadApp=n.handleDownloadApp.bind(F(n)),F(n).renderUserPopout=n.renderUserPopout.bind(F(n)),F(n).renderSpotifyJoinButton=n.renderSpotifyJoinButton.bind(F(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getCoverImage=function(){var e=this.props,t=e.activity,n=e.connectedApplication,r=e.application,a=e.isPreview,o=e.message;if(null!=r&&(a||null!=o&&(0,I.isInviteActive)(t,o,r.id))){var i=(0,I.getCoverImageFromActivity)(t,r.id);if(null!=i)return i}return null!=r?N.default.getApplicationIconURL({id:r.id,icon:null!=n?n.coverImage:r.coverImage,size:D.ACTIVITY_INVITE_COVER_IMAGE_SIZE}):null},o.handleJoin=function(){var e=this.props,t=e.activity,n=e.userId,r=e.message,a=e.channelId;null!=t&&null!=n&&null!=r&&null!=t.session_id&&null!=t.application_id&&(i.default.join(n,t.session_id,t.application_id,a,r.id),B(D.AnalyticsGameOpenTypes.JOIN,n,r.id,t))},o.handleSpectate=function(){var e=this.props,t=e.activity,n=e.userId,r=e.message,a=e.channelId;null!=t&&null!=n&&null!=r&&null!=t.session_id&&null!=t.application_id&&(i.default.spectate(n,t.session_id,t.application_id,a,r.id),B(D.AnalyticsGameOpenTypes.SPECTATE,n,r.id,t))},o.handleSync=function(){var e=this.props,t=e.activity,n=e.userId;null!=t&&null!=n&&s.sync(t,n)},o.handleDownloadApp=function(){l.default.push(M.default,{source:"Game Invite"})},o.handleOpenSpotifyTrack=function(e){(0,u.openTrack)(e)},o.handleOpenSpotifyArtist=function(e,t,n){(0,u.openArtist)(e,t,n)},o.handleOpenSpotifyAlbum=function(e,t){(0,u.openAlbum)(e,t)},o.renderUserPopout=function(e,t){var n=this.props,r=n.channelId,o=n.guildId;return null==r?null:a.createElement(P.default,k({},t,{userId:e.id,guildId:o,channelId:r}))},o.renderSpotifyJoinButton=function(e){var t=this.props,n=t.channelId,r=t.guildId;return a.createElement(R.default,k({guildId:r,channelId:n,source:"Invite Embed"},e))},o.shouldRenderCustomButton=function(){var e=this.props,t=e.isLaunchable,n=e.application;return null!=n&&null!=n.primarySkuId&&!t&&A.default.embedded},o.render=function(){return G(L.default,{section:L.default.Sections.APPLICATION_EMBED},void 0,G(T.BackgroundOpacityContext.Consumer,{},void 0,this.renderEmbed))},r}(a.PureComponent);H.displayName="ActivityInviteEmbedContainer",H.defaultProps={isPreview:!1};var x=o.default.connectStores([E.default,c.default,_.default,p.default,g.default,v.default,y.default,h.default,f.default,m.default],function(e){var t=e.activity,n=e.application,r=e.partyId,a=e.userId,o=e.guildId,i=(n||{}).id,l=null!=t&&null!=t.party&&t.party.id===r?p.default.getParty(t.party.id):null,u=i?_.default.getApplicationActivity(i):_.default.findActivity(function(e){return e.type===D.ActivityTypes.LISTENING}),s=!1,S=!1;null!=i&&(s=E.default.getState(i,D.ActivityActionTypes.JOIN)===D.ActivityActionStates.LOADING,S=E.default.getState(i,D.ActivityActionTypes.SPECTATE)===D.ActivityActionStates.LOADING);var T=Array.from(l||[]).map(function(e){var t=o?v.default.getMember(o,e):null,n=null!=t?t.nick:null,r=g.default.getUser(e),a=null==r;return null==r&&(r=new d.default({discriminator:"0005"})),{user:r,unknownUser:a,nick:n}}),I=null!=t&&y.default.canPlay(t),O=y.default.getSyncingWith(),N=null!=O&&null!=a&&O.userId===a,A=I&&!N;return{partyMembers:T,connectedApplication:null!=i?c.default.getApplication(i):null,myPartyId:null!=u&&null!=u.party?u.party.id:null,isLaunching:s||S,isSyncable:A,isLaunchable:null!=i&&(0,C.isLaunchable)(m.default,h.default,f.default,c.default,i)}})(H);t.default=x},6045:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ImageReadyStates=void 0;var r,a=f(n(2)),o=c(n(17)),i=c(n(163)),l=n(5881),u=c(n(305)),s=f(n(427)),d=c(n(5298));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,i.default)({LOADING:null,ERROR:null,READY:null});t.ImageReadyStates=v;var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.className,r=t.imageClassName,i=t.readyState,c=t.src,f=t.alt,m=t.width,_=t.height,y=t.maxWidth,g=void 0===y?m:y,E=t.maxHeight,S=void 0===E?_:E,T=t.minWidth,I=t.minHeight,O=t.accessory,N=t.zoomable,C=t.original,A=t.children,M=t.renderItem,R=t.renderAccessory,b=t.backgroundOpacity,P=t.tabIndex,L=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["className","imageClassName","readyState","src","alt","width","height","maxWidth","maxHeight","minWidth","minHeight","accessory","zoomable","original","children","renderItem","renderAccessory","backgroundOpacity","tabIndex"]);if(1===m&&1===_)return null;var D,w=(0,l.fit)(m,_,g,S,T,I),U={},G="div";null!=C&&(G=u.default,U.href=C,U.tabIndex=P),D=null!=c&&i===v.READY&&"function"==typeof A?null!=M?M():A({src:c,size:w,alt:f,className:r}):i===v.LOADING?h("div",{className:d.default.imageWrapperInner},void 0,c?h("img",{alt:f,className:d.default.imagePlaceholder,src:c,style:w}):null,c?h("div",{className:d.default.imagePlaceholderOverlay}):null,h(s.default,{type:s.SpinnerTypes.WANDERING_CUBES})):h("div",{className:d.default.imageWrapperInner},void 0,h("div",{className:d.default.imageError}));var k=null!=R?R():null;return k=k||O,a.createElement(G,p({className:(0,o.default)(d.default.imageWrapper,(e={},e[d.default.imageZoom]=N,e[d.default.imageWrapperBackground]=i!==v.READY,e[d.default.clickable]=null!=L.onClick,e),d.default[(b||"")+"BackgroundOpacity"],n),style:null!=M?null:w},U,L),k?h("div",{className:d.default.imageAccessory},void 0,k):null,D)},r}(a.PureComponent);t.default=m,m.displayName="Image",m.defaultProps={readyState:v.READY,zoomable:!0,alt:"",children:function(e){var t=e.src,n=e.size,r=e.alt;return h("img",{className:e.className,alt:r,src:t,style:n})},minWidth:0,minHeight:0}},6046:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ButtonAddReaction=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(17)),i=O(n(29)),l=O(n(304)),u=n(59),s=O(n(803)),d=n(446),c=O(n(861)),f=O(n(161)),p=O(n(6104)),h=O(n(231)),v=n(806),m=n(805),_=O(n(795)),y=n(463),g=O(n(476)),E=O(n(6036)),S=n(0),T=O(n(10)),I=O(n(5308));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onAddReaction=function(e){if(null!=e){var n=t.props,r=n.channel,a=n.message;(0,d.addReaction)(r.id,a.id,(0,y.toReactionEmoji)(e))}},t.renderReactionPopout=function(e){var n=t.props.channel;return a.createElement(E.default,C({},e,{channel:n,onSelectEmoji:t.onAddReaction}))},t}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.left,r=e.className;return t.state===S.MessageStates.SENDING||t.author.isLocalBot()?null:N(_.default,{closeOnScroll:!1,render:this.renderReactionPopout,position:n?_.default.Positions.LEFT:_.default.Positions.RIGHT,offsetX:n?-10:0,subscribeTo:n?S.ComponentActions.TOGGLE_REACTION_POPOUT(t.id):null},void 0,N(h.default,{className:(0,o.default)(I.default.reactionBtn,r),"aria-label":T.default.Messages.ADD_REACTION}))},t}(a.Component);t.ButtonAddReaction=M,M.displayName="ButtonAddReaction",M.defaultProps={left:!0};var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).scale=new l.default.Value(1),t.opacity=new l.default.Value(1),t.timeout=new u.Timeout,t.state={tooltipText:null},t.handleClick=function(){var e=t.props,n=e.message,r=e.emoji,a=e.me,o=e.readOnly,i=n.getChannelId();a?(0,d.removeReaction)(i,n.id,r):o||(0,d.addReaction)(i,n.id,r)},t.handleMouseEnter=function(){t.timeout.start(500,t.showTooltip,!1)},t.showTooltip=function(){t.handleStoreChange(),c.default.addChangeListener(t.handleStoreChange)},t.handleMouseLeave=function(){t.hideTooltip(),t.setState({tooltipText:null})},t.hideTooltip=function(){t.timeout.stop(),c.default.removeChangeListener(t.handleStoreChange)},t.handleStoreChange=function(){var e=t.props,n=e.message,r=e.emoji;t.setState({tooltipText:(0,y.getReactionTooltip)(n,r)})},t.setClickableRef=function(e){t.clickableElement=e},t}A(t,e);var n=t.prototype;return n.componentWillAppear=function(e){this.animateIn(e)},n.componentWillEnter=function(e){this.animateIn(e)},n.componentWillUnmount=function(){this.hideTooltip()},n.animateIn=function(e){f.default.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),l.default.parallel([l.default.timing(this.scale,{toValue:1,duration:300,easing:l.default.Easing.inOut(l.default.Easing.back())}),l.default.timing(this.opacity,{toValue:1,duration:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())},n.render=function(){var e,t=this.props,n=t.count,r=t.emoji,i=t.me,u=t.readOnly,s=t.backgroundOpacity,d={transform:[{scale:this.scale}],opacity:this.opacity};return N(a.Fragment,{},void 0,N(l.default.div,{className:(0,o.default)(I.default.reaction,I.default[s+"BackgroundOpacity"],(e={},e[I.default.reactionMe]=i,e[I.default.reactionReadOnly]=u,e)),style:d},void 0,N(h.default,{className:I.default.reactionInner,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onFocus:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onBlur:this.handleMouseLeave,innerRef:this.setClickableRef},void 0,N(g.default,{emojiId:r.id,emojiName:r.name,animated:r.animated}),N(p.default,{className:(0,o.default)(I.default.reactionCount,I.default[s+"BackgroundOpacity"]),value:n,digitWidth:9}))),this.renderTooltip())},n.renderTooltip=function(){var e=this.state.tooltipText;return null==e||""===e?null:((0,i.default)(null!=this.clickableElement,"Unexpected missing element"),N(v.TooltipLayer,{targetElement:this.clickableElement,position:v.TooltipPositions.TOP,color:v.TooltipColors.BLACK},void 0,e))},t}(a.PureComponent);R.displayName="Reaction";var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={disableTransitionAppear:!0,reactionsCount:t.props.message.reactions.length},t}return A(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.message.reactions.length;return 0===t.reactionsCount&&n>0?{disableTransitionAppear:!1,reactionsCount:n}:t.reactionsCount!==n?{reactionsCount:n}:null},t.prototype.render=function(){var e=this.props,t=e.message,n=e.disableReactionCreates,r=e.disableReactionUpdates,o=e.channel,i=this.state.disableTransitionAppear;if(!t.reactions.length)return null;var l=N(M,{message:t,channel:o,left:!1});return N(m.BackgroundOpacityContext.Consumer,{},void 0,function(e){return N(s.default,{className:I.default.reactions,transitionAppear:!i,transitionLeave:!1},void 0,t.reactions.map(function(n){return a.createElement(R,C({key:(n.emoji.id||0)+":"+n.emoji.name,message:t,readOnly:r,backgroundOpacity:e.backgroundOpacity},n))}),!n&&l)})},t}(a.PureComponent);t.default=b,b.displayName="Reactions"},6047:function(e,t,n){"use strict";t.__esModule=!0,t.toggleGamePopout=function(e,t,n){i.default.isOpen(p)?(e.stopPropagation(),a.default.close(p)):h(e,t,n)},t.default=h;c(n(2));var r,a=d(n(802)),o=d(n(5851)),i=d(n(812)),l=n(795),u=c(n(6073)),s=d(n(6155));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=(0,o.default)(s.default),p="activity_feed_game_popout";function h(e,t,n){null!=t&&(e.stopPropagation(),u.trackGamePopoutOpened(t,"",n),(0,l.openPopout)(e.currentTarget,{position:l.Positions.TOP_LEFT,preventClickPropagation:!0,closeOnScroll:!1,render:function(e){var n=e.popoutKey;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(f,{popoutKey:n,game:t})}},p,e))}},6048:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5314));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n,r=e.renderTitle,i=e.renderTagline,u=e.renderActions,s=e.renderMedia,d=e.className,c=e.isHorizontal,f=void 0!==c&&c;return l("div",{className:(0,a.default)(o.default.tile,(t={},t[o.default.tileHorizontal]=f,t),d)},void 0,l("div",{className:(0,a.default)(o.default.media,(n={},n[o.default.mediaHorizontal]=f,n))},void 0,s&&s()),l("div",{className:o.default.description},void 0,l("h2",{className:o.default.title},void 0,r&&r()),l("div",{className:o.default.tagline},void 0,i&&i()),l("div",{className:o.default.actions},void 0,u&&u())))};u.displayName="ResponsiveTile";var s=u;t.default=s},6049:function(e,t,n){"use strict";t.__esModule=!0,t.StoreEmbedWithoutDimensions=t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(232),i=C(n(3)),l=n(818),u=C(n(5851)),s=C(n(5882)),d=(C(n(814)),C(n(829)),C(n(35))),c=C(n(88)),f=C(n(6001)),p=C(n(189)),h=C(n(807)),v=C(n(112)),m=n(113),_=n(130),y=C(n(5855)),g=C(n(6021)),E=C(n(5902)),S=C(n(6425)),T=n(5954),I=n(0),O=C(n(10)),N=C(n(5321));function C(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={playing:!1,muted:!0},t.handleToggleMute=function(){t.setState({muted:!t.state.muted})},t.handleMouseEnter=function(){t.setState({playing:!0})},t.handleMouseLeave=function(){t.setState({playing:!1})},t.getStoreListingLocation=function(){var e=t.props.sku;if(null==e)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,_.getStoreListingLocation)(e.id,{slug:e.slug,analyticsSource:t.analyticsLocation})},t.handleActionButtonClick=function(e){return e.preventDefault()},t.handleBuyButtonClick=function(e){return e.preventDefault()},t.handleLinkClick=function(e){var n=t.props.onEmbedClick;null!=n&&n(e)},t.renderActions=function(e){var n=t.props,r=n.inLibrary,a=n.application,o=n.skuId,i=n.libraryApplication,l=n.renderCustomActions;if(null==a)return null;if(null!=l)return M("div",{className:N.default.tileActions},void 0,l());var u=null!=a&&a.primarySkuId===o,s=null!=i&&i.hasFlag(I.LibraryApplicationFlags.HIDDEN);return M("div",{className:N.default.tileActions},void 0,!u||s?t.renderViewInStoreButton():M(g.default,{application:a,customDisabledColor:v.default.Colors.GREY,size:v.default.Sizes.SMALL,className:N.default.actionButton,source:I.AnalyticsLocations.MESSAGE_EMBED,onClick:t.handleActionButtonClick}),r&&!s||e.premium?null:M(E.default,{type:E.default.Types.EMBED,sku:e,inLibrary:!1}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,i,u,s=r.prototype;return s.componentDidMount=function(){var e=this.props,t=e.sku,n=e.skuId,r=e.storeListing;null!=t&&null!=r||(0,l.fetchStoreListingForSku)(n),m.ComponentDispatch.dispatch(I.ComponentActions.CHAT_RESIZE)},s.renderViewInStoreButton=function(){return M(v.default.Link,{to:this.getStoreListingLocation(),className:N.default.actionButton,color:v.default.Colors.GREEN,size:v.default.Sizes.SMALL},void 0,O.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},s.render=function(){var e=this,t=this.props,n=t.sku,r=t.storeListing,a=t.inLibrary,i=t.width,l=t.fetchFailed,u=t.renderFallback,s=t.renderCustomTitle,d=t.renderCustomTagline,c=this.state,f=c.playing,p=c.muted,h=i>T.HORIZONTAL_EMBED_BREAKPOINT;return null==n||null==r?l?u():M(T.ResponsiveLoadingEmbedTile,{isHorizontal:h}):M(y.default,{section:I.AnalyticsSections.APPLICATION_EMBED},void 0,M(o.Link,{onClick:this.handleLinkClick,to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,M(S.default,{sku:n,storeListing:r,playing:f,muted:p,inLibrary:a,onToggleMute:this.handleToggleMute,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:s,renderCustomTagline:d,isHorizontal:h,isEmbed:!0})))},a=r,(i=[{key:"analyticsLocation",get:function(){var e=this.props,t=e.analyticsContext.location,n=e.analyticsSection;return A({},t,{section:null!=n?n:I.AnalyticsSections.APPLICATION_EMBED,object:I.AnalyticsObjects.CARD})}}])&&R(a.prototype,i),u&&R(a,u),r}(a.Component);b.displayName="StoreEmbed",b.defaultProps={renderFallback:I.NOOP};var P=[p.default,f.default,c.default,h.default,d.default],L=function(e){var t=e.skuId,n=p.default.get(t);return{sku:n,application:null!=n?d.default.getGame(n.applicationId):null,fetchFailed:p.default.didFetchingSkuFail(t),inLibrary:null!=n&&c.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?h.default.getForSKU(n.id):null,libraryApplication:null!=n?c.default.getLibraryApplication(n.applicationId,n.applicationId,!0):null}},D=i.default.connectStores(P,L)((0,s.default)((0,u.default)(b)));t.default=D;var w=(0,u.default)(i.default.connectStores(P,L)(b));t.StoreEmbedWithoutDimensions=w},6050:function(e,t,n){e.exports=n.p+"0c9615349350c4185381d58c69b88cbc.svg"},6051:function(e,t,n){e.exports=n.p+"b8029fe196b8f1382e90bbe81dab50dc.svg"},6052:function(e,t,n){"use strict";t.__esModule=!0,t.search=function(e,t){if(null==t||""===t)return e;var n=t.toLowerCase();return e.filter(function(e){return e.searchTerms.some(function(e){return(0,r.default)(n,e)})})},t.startLurking=function(e,t){var n=o.default.getGuild(e),r={state:{analyticsSource:t}};null!=n&&null!=n.joinedAt?l.default.transitionTo(u.Routes.CHANNEL(e,i.default.getChannelId(e)),r):a.default.joinGuild(e,!0).then(function(){a.default.transitionToGuildSync(e,r)})},t.AnalyticsContexts=void 0;var r=s(n(5887)),a=s(n(801)),o=s(n(23)),i=s(n(50)),l=s(n(45)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=Object.freeze({SEARCH:"Search",RECOMMENDED:"Recommended",POPULAR:"Popular"});t.AnalyticsContexts=d},6053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),s=y(n(6567)),d=y(n(6568)),c=y(n(6569)),f=(n(429),y(n(5858))),p=y(n(799)),h=y(n(6054)),v=n(0),m=y(n(10)),_=y(n(5243));function y(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var S="US",T="CA",I=d.default.map(function(e){return{value:e.code,label:e.name}}),O=Object.freeze({NAME:"name",COUNTRY:"country",LINE1:"line1",LINE2:"line2",CITY:"city",POSTAL_CODE:"postalCode",STATE:"state"}),N=Object.freeze({MODAL:"modal",SETTINGS:"settings"}),C=Object.freeze({EDIT:"edit",CREATE:"create"}),A=((r={})[S]=c.default,r[T]=s.default,r),M=((a={})[O.NAME]=function(e){return{name:O.NAME,title:function(){return m.default.Messages.BILLING_ADDRESS_NAME},autoComplete:"name",getClassNameForLayout:function(e){return e===N.MODAL?_.default.width100:_.default.width60},renderInput:function(e){return u.createElement(p.default,e)}}},a[O.COUNTRY]=function(e){return{name:O.COUNTRY,title:function(){return m.default.Messages.BILLING_ADDRESS_COUNTRY},autoComplete:"country",getClassNameForLayout:function(e){return e===N.MODAL?_.default.width100:_.default.width75},renderInput:function(e,t){e.layout;var n=e.onChange,r=E(e,["layout","onChange"]);return u.createElement(f.default,g({},r,{autofocus:!0,clearable:!1,disabled:t.mode===C.EDIT,options:I,onChange:function(t){var r=t.value;null!=n&&n(r,e.name)}}))}}},a[O.LINE1]=function(e){return{name:O.LINE1,title:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS},autoComplete:"address-line1",placeholder:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS_PLACEHOLDER},getClassNameForLayout:function(e){return e===N.MODAL?_.default.width100:_.default.width60},renderInput:function(e){return u.createElement(p.default,e)}}},a[O.LINE2]=function(e){return{name:O.LINE2,title:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS2},placeholder:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS2_PLACEHOLDER},autoComplete:"address-line2",getClassNameForLayout:function(e){return e===N.MODAL?_.default.width100:_.default.width40},renderInput:function(e){return u.createElement(p.default,e)}}},a[O.CITY]=function(e){return{name:O.CITY,title:function(){return m.default.Messages.BILLING_ADDRESS_CITY},autoComplete:"address-level2",placeholder:function(){return m.default.Messages.BILLING_ADDRESS_CITY_PLACEHOLDER},getClassNameForLayout:function(e){return e===N.MODAL?_.default.width100:_.default.width50},renderInput:function(e){return u.createElement(p.default,e)}}},a[O.POSTAL_CODE]=function(e){var t,n;switch(e){case S:t=m.default.Messages.BILLING_ADDRESS_ZIP_CODE,n=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_PLACEHOLDER;break;case T:t=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE,n=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE_CANADA_PLACEHOLDER;break;default:t=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE}return{name:O.POSTAL_CODE,title:function(){return t},autoComplete:"postal-code",placeholder:function(){return n},getClassNameForLayout:function(e){return e===N.MODAL?_.default.width50:_.default.width25},renderInput:function(e){return u.createElement(p.default,e)}}},a[O.STATE]=function(e){var t;switch(e){case S:t=m.default.Messages.BILLING_ADDRESS_STATE;break;case T:t=m.default.Messages.BILLING_ADDRESS_PROVINCE;break;default:t=m.default.Messages.BILLING_ADDRESS_REGION}return{name:O.STATE,title:function(){return t},autoComplete:"address-level1",getClassNameForLayout:function(e){return e===N.MODAL?_.default.width50:_.default.width25},renderInput:function(t){var n=A[e],r=!t.value||null!=n&&n.find(function(e){return e.value===t.value}),a=t.layout,o=t.onChange,i=E(t,["layout","onChange"]);return[S,T].includes(e)&&r?u.createElement(f.default,g({},i,{menuPlacement:a===N.MODAL?f.default.MenuPlacements.TOP:void 0,clearable:!1,options:A[e],onChange:function(e){var n=e.value;null!=o&&o(n,t.name)}})):u.createElement(p.default,t)}}},a),R=((o={})[N.MODAL]=[[M[O.COUNTRY]],[M[O.LINE1]],[M[O.LINE2]],[M[O.CITY]],[M[O.STATE],M[O.POSTAL_CODE]]],o[N.SETTINGS]=[[M[O.NAME]],[M[O.LINE1],M[O.LINE2]],[M[O.CITY],M[O.STATE],M[O.POSTAL_CODE]],[M[O.COUNTRY]]],o),b=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).state={values:(t={},t[O.NAME]=n.props[O.NAME],t[O.COUNTRY]=n.props[O.COUNTRY],t[O.LINE1]=n.props[O.LINE1],t[O.LINE2]=n.props[O.LINE2],t[O.CITY]=n.props[O.CITY],t[O.POSTAL_CODE]=n.props[O.POSTAL_CODE],t[O.STATE]=n.props[O.STATE],t),dirtyFields:{},errors:{}},n.handleFieldBlur=function(){n.setState({errors:n.validateForm(!0)})},n.handleFieldChange=function(e,t){var r,a;if(t){var o=n.state,i=o.values,l=o.errors,u=o.dirtyFields;delete l[t],n.setState({values:g({},i,(r={},r[t]=e,r)),dirtyFields:g({},u,(a={},a[t]=!0,a)),errors:l})}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.handleInfoChange()},a.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},a.validateForm=function(e){var t=this.state,n=t.values,r=t.dirtyFields,a={};e&&!r[O.NAME]||n[O.NAME]||this.props.mode!==C.EDIT||(a[O.NAME]=m.default.Messages.BILLING_ADDRESS_NAME_ERROR_REQUIRED),e&&!r[O.COUNTRY]||n[O.COUNTRY]||(a[O.COUNTRY]=m.default.Messages.BILLING_ADDRESS_COUNTRY_ERROR_REQUIRED),e&&!r[O.LINE1]||n[O.LINE1]||(a[O.LINE1]=m.default.Messages.BILLING_ADDRESS_ADDRESS_ERROR_REQUIRED),e&&!r[O.CITY]||n[O.CITY]||(a[O.CITY]=m.default.Messages.BILLING_ADDRESS_CITY_ERROR_REQUIRED);var o=n[O.COUNTRY];switch(o){case S:if(!e||r[O.POSTAL_CODE]){var i=n[O.POSTAL_CODE];i?5!==i.length?a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_LENGTH:/^\d{5}$/.test(i)||(a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_INVALID):a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_REQUIRED}e&&!r[O.STATE]||n[O.STATE]||(a[O.STATE]=m.default.Messages.BILLING_ADDRESS_STATE_ERROR_REQUIRED);break;case T:e&&!r[O.POSTAL_CODE]||n[O.POSTAL_CODE]||(a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED),e&&!r[O.STATE]||n[O.STATE]||(a[O.STATE]=m.default.Messages.BILLING_ADDRESS_PROVINCE_ERROR_REQUIRED);break;default:e&&!r[O.POSTAL_CODE]||n[O.POSTAL_CODE]||v.COUNTRIES_WITHOUT_POSTAL_CODES.includes(o)||(a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED)}return a},a.handleInfoChange=function(){var e=this.state,t=e.values,n=e.dirtyFields,r=this.validateForm(!1);this.props.onBillingAddressChange(t,0===Object.keys(r).length,Object.keys(n).length>0)},a.render=function(){var e=this.state,t=e.errors,n=e.values,r=this.props,a=r.layout,o=r.mode,i=r.className,u=r.error,s=R[a];if(null==s)throw new Error("Provide a proper layout property.");var d=n[O.COUNTRY],c=s.map(function(e){var t=e.map(function(e){return e(d)}).filter(Boolean);return t.length>0?{fields:t}:null}).filter(Boolean);return function(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(h.default,{className:i,form:c,layout:a,values:n,errors:t,formError:u,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,mode:o})},r}(u.PureComponent);b.displayName="AddressForm",b.Layouts=N,b.Modes=C,b.defaultProps=((i={})[O.NAME]="",i[O.COUNTRY]="",i[O.LINE1]="",i[O.LINE2]="",i[O.CITY]="",i[O.POSTAL_CODE]="",i[O.STATE]="",i.layout=N.MODAL,i.mode=C.CREATE,i.error=null,i);var P=b;t.default=P},6054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=(n(429),s(n(158))),l=n(796),u=s(n(5243));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={changedSinceError:new Set},p(n).renderFormSection=n.renderFormSection.bind(p(n)),p(n).renderFormRow=n.renderFormRow.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){if(this.props.formError!==e.formError)this.setState({changedSinceError:new Set});else if(null!=this.props.formError){var t=this.state.changedSinceError;this.getChangedValues(e).forEach(function(e){return t.add(e)}),this.setState({changedSinceError:t})}},a.getChangedValues=function(e){var t=this.props.values,n=e.values;return Object.keys(t).filter(function(e){return t[e]!==n[e]})},a.getError=function(e){var t=this.props,n=t.errors,r=t.formError;return null!=n[e]?n[e]:null==r||this.state.changedSinceError.has(e)?null:r.getFieldMessage(e)},a.renderFormSection=function(e){var t=this.props,n=t.values,r=t.onFieldChange,a=t.onFieldFocus,i=t.onFieldBlur,u=t.layout,s=f(t,["values","onFieldChange","onFieldFocus","onFieldBlur","layout"]),p=e.getClassNameForLayout,h=e.renderInput,v=e.title,m=e.name,_=e.placeholder,y=c({},f(e,["getClassNameForLayout","renderInput","title","name","placeholder"]),{placeholder:_&&_(),layout:u,error:this.getError(m),value:n[m],name:m,onChange:r,onFocus:a,onBlur:i});return d(l.FormSection,{className:(0,o.default)(p&&p(u)),title:v()},m,h(y,s))},a.renderFormRow=function(e){var t=e.fields.map(this.renderFormSection);return d(i.default,{className:(0,o.default)(u.default.row,e.className)},e.fields.map(function(e){return e.name}).join(""),t)},a.render=function(){var e=this.props,t=e.form;return d("div",{className:e.className},void 0,t.map(this.renderFormRow))},r}(a.PureComponent);h.displayName="FormRenderer";var v=h;t.default=v},6055:function(e,t,n){},6056:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CopyInputModes=void 0;var r,a=c(n(2)),o=d(n(17)),i=n(192),l=c(n(112)),u=d(n(158)),s=d(n(5336));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h={DEFAULT:"default",SUCCESS:"success",ERROR:"error"};t.CopyInputModes=h;var v=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).handleButtonClick=n.handleButtonClick.bind(p(n)),p(n).handleInputClick=n.handleInputClick.bind(p(n)),p(n).setRef=n.setRef.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.setRef=function(e){this.input=e},d.select=function(){var e=this.input;e&&e.select()},d.renderInput=function(e){var t,n=this.props,r=n.value,l=n.mode;return a.createElement("input",{className:(0,o.default)((0,i.getClass)(s.default,"input",l),(t={},t[s.default.inputHidden]=e,t)),ref:this.setRef,placeholder:"input here",type:"text",value:r,onClick:this.handleInputClick,readOnly:!0})},d.render=function(){var e,t=this.props,n=t.text,r=t.mode,a=t.hideMessage,d=t.className,c=t.buttonLook,p=null!=a;switch(r){case h.SUCCESS:e=l.ButtonColors.GREEN;break;case h.ERROR:e=l.ButtonColors.RED;break;default:e=this.props.buttonColor}return f("div",{className:(0,o.default)((0,i.getClass)(s.default,"copyInput",r),d)},void 0,f(u.default,{className:s.default.layout},void 0,f(u.default,{className:s.default.inputWrapper},void 0,this.renderInput(p),p?f("div",{className:s.default.hiddenMessage},void 0,a):null),f(u.default,{shrink:1,grow:0,style:{margin:0}},void 0,f(l.default,{className:s.default.button,onClick:this.handleButtonClick,size:l.ButtonSizes.MIN,color:e,look:c},void 0,n))))},d.handleButtonClick=function(){this.select();var e=this.props;(0,e.onCopy)(e.value)},d.handleInputClick=function(){this.select()},r}(a.PureComponent);v.displayName="CopyInput",v.defaultProps={text:"Copy",supportsCopy:!0,buttonColor:l.ButtonColors.GREY,buttonLook:l.ButtonLooks.GHOST,mode:h.DEFAULT},v.Modes=h,v.ButtonColors=l.ButtonColors,v.ButtonLooks=l.ButtonLooks;var m=v;t.default=m},6057:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=c(n(163)),i=c(n(112)),l=c(n(158)),u=c(n(188)),s=n(796),d=c(n(5388));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=(0,o.default)({UPGRADE:null,CANCEL:null,UNVERIFIED:null,UNCLAIMED:null,GRANDFATHERED:null}),h=((r={})[p.UPGRADE]="imageUpgrade",r[p.CANCEL]="imageCancel",r[p.UNVERIFIED]="imageUnverified",r[p.UNCLAIMED]="imageUnclaimed",r[p.GRANDFATHERED]="imageCancel",r),v=function(e){var t=e.children,n=e.onClose;return f(u.default.Header,{separator:!1},void 0,f(s.FormTitle,{tag:s.FormTitleTags.H4},void 0,t),null!=n?f(u.default.CloseButton,{className:d.default.closeIcon,onClick:n}):null)};v.displayName="Header";var m=function(e){var t=e.children,n=e.type;return f(u.default.Content,{},void 0,f("div",{className:d.default[h[n]]}),f("div",{className:d.default.message},void 0,t))};m.displayName="Content";var _=function(e){var t=e.primary,n=e.primaryRenderer,r=e.secondary;return f(u.default.Footer,{},void 0,f(l.default,{justify:l.default.Justify.END},void 0,null!=r?f(i.default,{onClick:r.onClick,look:i.default.Looks.LINK,innerClassName:d.default.secondaryButton},void 0,r.label):null,null!=t?f(i.default,{onClick:t.onClick,color:i.default.Colors.BRAND},void 0,t.label):n))};_.displayName="Footer";var y=function(e){var t=e.children;return f(u.default,{},void 0,t)};y.displayName="PremiumModal",y.Header=v,y.Content=m,y.Footer=_,y.Types=p;var g=y;t.default=g},6059:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(6))&&r.__esModule?r:{default:r},l=n(810);function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this,t=this.props,n=t.intervalDuration,r=t.onInterval;this._interval=setInterval(function(){e.forceUpdate(),r&&r()},n)},a.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},a.render=function(){var e,t=this.props,n=t.deadline,r=t.children,a=t.showDays;if(n===1/0)e="∞";else{var o=(0,l.diffAsUnits)(Date.now(),n);if(null!=r)return r(o);var s=[o.days,o.hours,o.minutes,o.seconds];if(0===o.days)s.shift();else if(!a){var d=s.shift();s[0]+=24*d}e=(0,i.default)(s).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,u("span",{},t,e)]}).flatten().value()}return u("span",{},void 0,e)},r}(o.PureComponent);s.displayName="Countdown",s.defaultProps={showDays:!0,intervalDuration:1e3};var d=s;t.default=d},6060:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(24)),o=u(n(1)),i=u(n(5890)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="ChannelSectionStore",d=null,c=null;function f(){var e;if(i.default.isActive()&&(e=l.ChannelSections.SEARCH),c===e)return!1;c=e}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){d=a.default.get(s)||l.ChannelSections.MEMBERS},o.getSection=function(){return c||d},r}(r.default.Store))(o.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;d===t?null==c&&(d=l.ChannelSections.NONE):d=t,c=null,a.default.set(s,d)},SEARCH_START:function(e){return f()},SEARCH_INDEXING:function(e){return f()},SEARCH_FINISH:function(e){return f()},SEARCH_EDITOR_STATE_CLEAR:function(e){return f()},SEARCH_EDITOR_STATE_CHANGE:function(e){return f()},CHANNEL_SELECT:function(e){return f()}});t.default=p},6061:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetchDefaultRegions:function(){return this.fetchRegions(null)},fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1}).then(function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})},function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})})},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t}})}};t.default=l},6064:function(e,t,n){"use strict";t.__esModule=!0,t.createEntity=v,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var a=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",a)).set("focusOffset",a)},t.updateContent=m,t.deleteContent=function(e,t){switch(e){case"delete":return(0,f.default)(t);case"delete-word":return(0,u.default)(t);case"backspace":return(0,c.default)(t);case"backspace-word":return(0,l.default)(t);case"backspace-to-start-of-line":return(0,i.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,p.default)(t);case"move-selection-to-start-of-block":return(0,d.default)(t);case"move-selection-to-end-of-block":return(0,s.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=_,t.applyTokensAsEntities=function(e,t,n){void 0===n&&(n={});var r=t.getCurrentContent(),a=r.getFirstBlock(),o=a.getText(),i=[];return a.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(a.getEntityAt(e)).getType(),l=o.substring(e,t);i.push({processed:!1,type:n,start:e,end:t,text:l})}),e.forEach(function(e){var r=!1;if(i.forEach(function(n){var a=e.type,o=e.start,i=e.end,l=e.getFullMatch();n.processed||(n.type===a&&n.start===o&&n.text===l?(n.processed=!0,r=!0):(o>=n.start&&o<n.end||i>n.start&&i<=n.end)&&(n.processed=!0,t=v(null,n.start,n.end,t)))}),!r){var a=n[e.type];t=v([e.type,a&&a.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),i.forEach(function(e){e.processed||(t=v(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n,r,a=t.getSelection(),o=a.focusOffset,i=a.anchorOffset,l=e.find(function(t,a){return o>=t.start&&o<=t.end&&i>=t.start&&i<=t.end?(e[a+1]&&(r=e[a+1]),!0):(n=t,!1)});if(!l)return null;return{previousToken:n,currentToken:l,nextToken:r}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=_(t);return m(e,t,0,n.length)},t.appendSpace=function(e){var t=_(e);return m(" ",e,t.length)},t.setCollapsedSelection=y,t.setCollapsedEndSelection=function(e){return y(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return y(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=_(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e,t){void 0===t&&(t=512);var n=_(e);if(n.length>t){var a=e.getSelection();e=m("",e,t,n.length),a.getAnchorOffset()>t&&(a=a.set("anchorOffset",t)),a.getFocusOffset()>t&&(a=a.set("focusOffset",t)),e=r.EditorState.forceSelection(e,a)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],a=e.getClientRects()[0];if(!r||!a)return;var o=r.left-a.left+e.scrollLeft;o<e.scrollLeft?e.scrollLeft=o-10:o>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=o-e.offsetWidth+3)},t.isEmpty=function(e){return 0===_(e).length};var r=n(6186),a=h(n(6482));t.getDefaultKeyBinding=a.default;var o=h(n(6189)),i=h(n(6618)),l=h(n(6619)),u=h(n(6620)),s=h(n(6621)),d=h(n(6622)),c=h(n(6623)),f=h(n(6624)),p=h(n(6625));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){var o,i=a.getCurrentContent(),l=null;null!=e&&(l=(i=(o=i).createEntity.apply(o,e)).getLastCreatedEntityKey());var u=i.getFirstBlock(),s=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:t,focusKey:u.getKey(),focusOffset:n});return i=r.Modifier.applyEntity(i,s,l),r.EditorState.set(a,{currentContent:i})}function m(e,t,n,a){var i,l=t.getCurrentContent(),u=l.getFirstBlock(),s=u.getText();"number"==typeof n?(n>s.length&&(n=s.length),a>s.length&&(a=s.length),i=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:n,focusKey:u.getKey(),focusOffset:a||n})):i=t.getSelection();var d,c=t.getCurrentInlineStyle(),f=(0,o.default)(l,i);return i.isCollapsed()?(l=r.Modifier.insertText(l,i,e,c,f),d="insert-characters"):(l=r.Modifier.replaceText(l,i,e,c,f),d="replace-characters"),r.EditorState.push(t,l,d)}function _(e){return e.getCurrentContent().getFirstBlock().getText()}function y(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}},6066:function(e){e.exports=[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]},6067:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(880);function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t,r;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).chromeVersion=(0,o.getChromeVersion)(),t.handleReady=function(){var e=t.props.onReady;null!=e&&e()},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=l.prototype;return u.renderSources=function(){var e=[i("source",{src:n(6139),type:"video/mp4"},"mp4"),i("img",{alt:"",src:n(6140)},"png")];return(this.chromeVersion>52||-1===this.chromeVersion)&&e.unshift(i("source",{src:n(6141),type:"video/webm"},"webm")),e},u.render=function(){var e=this.props,t=e.setRef,n=e.loop,r=e.autoPlay,o=e.className;return a.createElement("video",{ref:t,onLoadedData:this.handleReady,className:o,loop:n,autoPlay:r,playsInline:!0},this.renderSources())},l}(a.PureComponent);l.displayName="AppSpinner",l.defaultProps={loop:!0,autoPlay:!0};var u=l;t.default=u},6069:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Widget=t.DEFAULT_OPACITY=void 0;var r,a=m(n(2)),o=v(n(17)),i=v(n(8069)),l=v(n(112)),u=m(n(302)),s=v(n(307)),d=n(805),c=v(n(426)),f=n(0),p=v(n(312)),h=v(n(5818));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=f.OverlayWidgetTypes.DEFAULT;t.DEFAULT_OPACITY=1;var E=a.createContext({type:g,opacity:1}),S=a.createContext(),T=function(e){var t=e.children,n=e.opacityOverride;if(null==t)return null;var r="string"==typeof t.type,o=[I,O,C];return y(E.Consumer,{},void 0,function(e){var i=e.opacity,l={backgroundColor:"rgba(54, 57, 63, "+(n||i)+")"};if(r){var u={style:l};return a.cloneElement(t,u)}if(o.includes(t.type))return y(S.Provider,{value:l},void 0,t);throw new Error("Widget.Background cannot be wrapped around "+t.type.displayName+". Pass a DOM node or one of "+o.map(function(e){return"Widget."+e.name}).join(","))})};T.displayName="Background";var I=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","className"]);return y(E.Consumer,{},void 0,function(e){var l=e.type;return y(S.Consumer,{},void 0,function(e){return y(d.BackgroundOpacityContext.Consumer,{},void 0,function(u){var s=u.backgroundOpacity;return a.createElement("div",_({className:(0,o.default)(n,h.default.bar,h.default[s+"BackgroundOpacity"],h.default[(0,i.default)(l)]),style:e},r),t)})})})};I.displayName="Bar";var O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.disableScroll,n=e.children,r=e.className;return y(S.Consumer,{},void 0,function(e){return y(E.Consumer,{},void 0,function(a){var l=(0,o.default)(h.default.body,h.default[(0,i.default)(a.type)],r);return t?y("div",{className:l,style:e},void 0,n):y(s.default,{theme:s.default.Themes.GHOST_HAIRLINE,fade:!0,outerClassName:l,className:h.default.scroller},void 0,n)})})},r}(a.PureComponent);O.displayName="Body",O.defaultProps={disableScroll:!1};var N=function(e){var t=e.type,n=void 0===t?g:t,r=e.width,a=e.height,l=e.children,u=e.className,s=e.opacity,d=void 0===s?1:s,c=e.onClick;return y(E.Provider,{value:{type:n,opacity:d}},void 0,y("div",{className:(0,o.default)(h.default.widget,h.default[(0,i.default)(n)],u),style:{width:r,height:a},onClick:c},void 0,l))};t.Widget=N,N.displayName="Widget";var C=function(e){var t=e.children,n=e.className,r=e.dynamicSize,a=void 0!==r&&r;return y(S.Consumer,{},void 0,function(e){var r;return y("div",{className:(0,o.default)(h.default.content,n,(r={},r[h.default.staticSize]=!a,r)),style:e},void 0,t)})};C.displayName="Content";var A=function(e){var t,n=e.name,r=e.label,a=e.onClick,i=e.isActive,s=e.tooltipPosition,d=void 0===s?c.default.Positions.TOP:s,f=e.size,v=void 0===f?20:f,m=e.isTutorial,_=void 0!==m&&m;return y(c.default,{text:_?y("div",{className:h.default.tutorialTip},void 0,r):r,"aria-label":r,position:d,forceOpen:_,color:_?c.default.Colors.BRAND:c.default.Colors.BLACK},void 0,y(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,onClick:a,className:(0,o.default)(h.default.icon,(t={},t[h.default.toggledIconOn]=i,t)),innerClassName:p.default.flexCenter,"aria-label":r},void 0,y(u.default,{name:n,width:v,height:v,role:"img"})))};A.displayName="WidgetIcon",N.Background=T,N.Body=O,N.Content=C,N.Icon=A,N.Bar=I;var M=N;t.default=M},6080:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CALL_START=t.CALL_ACCEPT=void 0;var r=n(113),a=n(0),o={binds:["mod+return"],global:!0,action:function(){if(r.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_ACCEPT))return r.ComponentDispatch.dispatch(a.ComponentActions.CALL_ACCEPT),!1}};t.CALL_ACCEPT=o;var i={binds:["ctrl+'","ctrl+shift+'"],global:!0,action:function(e){if(r.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_START))return r.ComponentDispatch.dispatch(a.ComponentActions.CALL_START,e),!1}};t.CALL_START=i;var l={CALL_ACCEPT:o,CALL_START:i};t.default=l},6081:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_PREVIOUS_GUILD=t.CHANNEL_PREV=t.CHANNEL_NEXT=void 0;var r=d(n(5864)),a=d(n(50)),o=d(n(160)),i=d(n(45)),l=d(n(6345)),u=n(5888),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c={binds:["alt+down"],global:!0,action:function(){return(0,l.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}};t.CHANNEL_NEXT=c;var f={binds:["alt+up"],global:!0,action:function(){return(0,l.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}};t.CHANNEL_PREV=f;var p={binds:["mod+alt+right"],global:!0,action:function(){var e;if(o.default.getGuildId())e=s.ME;else{var t=o.default.getLastSelectedGuildId();t&&(e=t,(0,u.transitionToChannel)(t,a.default.getChannelId(t)))}return null!=e&&i.default.transitionTo(s.Routes.CHANNEL(e,a.default.getChannelId(e))),!1}};t.TOGGLE_PREVIOUS_GUILD=p;var h={CHANNEL_PREV:f,CHANNEL_NEXT:c,TOGGLE_PREVIOUS_GUILD:p};t.default=h},6082:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MARK_CHANNEL_READ=void 0;var r=f(n(162)),a=n(5932),o=f(n(850)),i=f(n(236)),l=f(n(309)),u=f(n(50)),s=f(n(160)),d=n(113),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p={binds:["esc","shift+pagedown"],global:!0,action:function(){var e=document.activeElement;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.CALL_DECLINE))return d.ComponentDispatch.dispatch(c.ComponentActions.CALL_DECLINE),!1;if(o.default.isOpen())return d.ComponentDispatch.dispatch(c.ComponentActions.CONTEXT_MENU_CLOSE),!1;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.POPOUT_CLOSE))return d.ComponentDispatch.dispatch(c.ComponentActions.POPOUT_CLOSE),!1;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.CLOSE_GIF_PICKER))return d.ComponentDispatch.dispatch(c.ComponentActions.CLOSE_GIF_PICKER),!1;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.MODAL_CLOSE)&&!function(e){if(null==e)return!1;if(e instanceof HTMLInputElement)switch(e.type){case"text":case"password":case"email":case"number":case"tel":case"url":return!0;default:return!1}return e instanceof HTMLTextAreaElement}(e))return d.ComponentDispatch.dispatch(c.ComponentActions.MODAL_CLOSE),!1;var t=s.default.getGuildId(),n=u.default.getChannelId(t);n&&(i.default.getMessages(n).hasMoreAfter&&r.default.jumpToPresent(n,c.MAX_MESSAGES_PER_CHANNEL),l.default.hasUnread(n)&&(0,a.ack)(n),(0,a.localAck)(n));return d.ComponentDispatch.dispatch(c.ComponentActions.SCROLLTO_PRESENT),!1}};t.MARK_CHANNEL_READ=p;var h={MARK_CHANNEL_READ:p};t.default=h},6083:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MARK_SERVER_READ=void 0;var r=c(n(801)),a=c(n(162)),o=c(n(5901)),i=c(n(236)),l=c(n(50)),u=c(n(160)),s=n(113),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f={},p={binds:["shift+esc"],global:!0,action:function(){var e=u.default.getGuildId();if(e&&o.default.getUnreadGuildsIgnoreMuted(e)){if(!f[e]){var t=function(){return delete f[e]};r.default.markGuildAsRead(e).then(t,t)}var n=l.default.getChannelId(e);if(n)i.default.getMessages(n).hasMoreAfter?a.default.jumpToPresent(n,d.MAX_MESSAGES_PER_CHANNEL):s.ComponentDispatch.dispatch(d.ComponentActions.SCROLLTO_PRESENT)}}};t.MARK_SERVER_READ=p;var h={MARK_SERVER_READ:p};t.default=h},6084:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.JUMP_TO_FIRST_UNREAD=void 0;var r=i(n(162)),a=i(n(309)),o=i(n(50));function i(e){return e&&e.__esModule?e:{default:e}}var l={binds:["shift+pageup"],global:!0,action:function(){var e=o.default.getChannelId();if(e){var t=a.default.ackMessageId(e);t&&a.default.getOldestUnreadTimestamp(e)>0&&r.default.jumpToMessage(e,t,!1,"Keyboard Shortcut")}return!1}};t.JUMP_TO_FIRST_UNREAD=l;var u={JUMP_TO_FIRST_UNREAD:l};t.default=u},6085:function(e,t,n){"use strict";t.__esModule=!0,t.findNextSelected=function e(t,n,a,o){var i=a.length;if(0===i)return 0;if(null==o)o=n;else if(o===n)return n;n+="up"===t?-1:1;if(n<0||n>=i)return e(t,n<0?i:-1,a,o);var l=a[n];if(l.type===r.AutocompleterResultTypes.HEADER)return e(t,n,a,o);return n};var r=n(0)},6086:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RETURN_TO_AUDIO_CHANNEL=void 0;var r=s(n(5864)),a=s(n(5876)),o=s(n(193)),i=s(n(50)),l=n(5888),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={binds:["mod+alt+left"],global:!0,action:function(){if(!o.default.isConnected())return!1;var e=o.default.getGuildId()||u.ME,t=i.default.getChannelId(e);return(0,l.transitionToChannel)(e,t),r.default.flushSelection(!0),a.default.channelListScrollTo(e,o.default.getChannelId()),!1}};t.RETURN_TO_AUDIO_CHANNEL=d;var c={RETURN_TO_AUDIO_CHANNEL:d};t.default=c},6087:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SCROLL_DOWN=t.SCROLL_UP=void 0;var r=n(113),a=n(0),o={binds:["pageup"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.SCROLL_PAGE_UP),!1}};t.SCROLL_UP=o;var i={binds:["pagedown"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.SCROLL_PAGE_DOWN),!1}};t.SCROLL_DOWN=i;var l={SCROLL_UP:o,SCROLL_DOWN:i};t.default=l},6088:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SEARCH_EMOJIS=void 0;var r=n(113),a=n(0),o={binds:["mod+e"],global:!0,action:function(){return r.ComponentDispatch.dispatch(a.ComponentActions.TOGGLE_EMOJI_POPOUT),!1}};t.SEARCH_EMOJIS=o;var i={SEARCH_EMOJIS:o};t.default=i},6089:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SERVER_PREV=t.SERVER_NEXT=void 0;var r=o(n(5864)),a=o(n(6350));function o(e){return e&&e.__esModule?e:{default:e}}var i={binds:["mod+alt+down","mod+shift+]","ctrl+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,a.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}};t.SERVER_NEXT=i;var l={binds:["mod+alt+up","mod+shift+[","ctrl+shift+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,a.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}};t.SERVER_PREV=l;var u={SERVER_NEXT:i,SERVER_PREV:l};t.default=u},6090:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SUBMIT=void 0;var r=n(113),a=n(0),o={binds:["return"],global:!1,action:function(){if(r.ComponentDispatch.hasSubscribers(a.ComponentActions.MODAL_SUBMIT))return r.ComponentDispatch.dispatch(a.ComponentActions.MODAL_SUBMIT),!1}};t.SUBMIT=o;var i={SUBMIT:o};t.default=i},6091:function(e,t,n){"use strict";t.__esModule=!0,t.TEXTAREA_FOCUS=void 0;var r=s(n(821)),a=s(n(43)),o=s(n(193)),i=n(113),l=n(6092),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=new Set(["PageDown","PageUp","Home","End"]),c=new Set(["Meta","Alt","Control","Shift"]),f={binds:["any-character"],global:!1,keydown:function(e,t){if((0,l.isInputLikeElement)(document.activeElement))return!1;if(c.has(t))return!1;var n=null!=document.activeElement&&"BODY"===document.activeElement.tagName;return!(u.EnableAccessibility&&!n&&!/^[a-zA-Z0-9]$/.test(t))&&(!i.ComponentDispatch.hasSubscribers(u.ComponentActions.MODAL_CLOSE)&&(!r.default.hasLayers()&&("Tab"===t?(e.preventDefault(),i.ComponentDispatch.dispatch(u.ComponentActions.TEXTAREA_FOCUS),!1):!(o.default.isConnected()&&a.default.getMode()===u.InputModes.PUSH_TO_TALK&&!a.default.isSelfMute())&&void(e.metaKey||e.ctrlKey||d.has(t)||i.ComponentDispatch.dispatchToLastSubscribed(u.ComponentActions.TEXTAREA_FOCUS)))))}};t.TEXTAREA_FOCUS=f},6092:function(e,t,n){"use strict";t.__esModule=!0,t.isInputLikeElement=function(e){if(null==e)return!1;if("true"===e.getAttribute("contenteditable"))return!0;if(a.test(e.tagName))return!0;if(r.test(e.tagName)){var t=e.getAttribute("type")||"text";if("text"===t||"password"===t)return!0}return!1},t.removeNode=function(e){null!=e.parentNode&&e.parentNode.removeChild(e)},t.clickedOnVisibleImage=function(e,t,n,r){var a=n.width,o=n.height,i=r.top,l=r.left,u=r.width,s=r.height,d=Math.min(u/a,s/o,1),c=a*d,f=o*d,p=(s-f)/2+l,h=(u-c)/2+i;if(t>=p&&t<=p+f&&e>=h&&e<=h+c)return!0;return!1};var r=/input/i,a=/textarea/i},6093:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_DEAFEN=t.TOGGLE_MUTE=void 0;var r,a=(r=n(235))&&r.__esModule?r:{default:r};var o={binds:["mod+shift+m"],global:!0,action:function(){return a.default.toggleSelfMute(),!1}};t.TOGGLE_MUTE=o;var i={binds:["mod+shift+d"],global:!0,action:function(){return a.default.toggleSelfDeaf(),!1}};t.TOGGLE_DEAFEN=i;var l={TOGGLE_MUTE:o,TOGGLE_DEAFEN:i};t.default=l},6094:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CATEGORY_COLLAPSED=void 0;var r=n(6016),a=u(n(825)),o=u(n(99)),i=u(n(160)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={binds:["mod+shift+a"],global:!0,action:function(){var e=i.default.getGuildId();return null!=e&&(o.default.getChannels(e)[l.ChannelTypes.GUILD_CATEGORY].some(function(e){var t=e.channel;return"null"!==t.id&&!a.default.isCollapsed(t.id)})?(0,r.categoryCollapseAll)(e):(0,r.categoryExpandAll)(e),!1)}};t.TOGGLE_CATEGORY_COLLAPSED=s},6095:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_HOTKEYS=void 0;var r=o(n(5950)),a=o(n(6096));function o(e){return e&&e.__esModule?e:{default:e}}var i={binds:["mod+/","mod+shift+/"],global:!0,action:function(){return a.default.isOpen()?r.default.hide():r.default.show(),!1}};t.TOGGLE_HOTKEYS=i;var l={TOGGLE_HOTKEYS:i};t.default=l},6096:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1;var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return i},a.getState=function(){return{ragingDemon:l}},r}(r.default.Store))(a.default,{SHOW_KEYBOARD_SHORTCUTS:function(e){i=!0},HIDE_KEYBOARD_SHORTCUTS:function(e){i=!1},ACTIVATE_RAGING_DEMON:function(e){l=!0},DEACTIVATE_RAGING_DEMON:function(e){l=!1}});t.default=u},6097:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MENTION_PREV=t.MENTION_NEXT=t.UNREAD_PREV=t.UNREAD_NEXT=void 0;var r=s(n(5864)),a=s(n(816)),o=s(n(309)),i=s(n(237)),l=s(n(6355)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return(!i.default.isChannelMuted(e,t)||o.default.getMentionCount(t)>0)&&o.default.hasUnread(t)},c={binds:["alt+shift+down"],global:!0,action:function(){var e=a.default.getGuildId()||u.ME;return(0,l.default)(1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}};t.UNREAD_NEXT=c;var f={binds:["alt+shift+up"],global:!0,action:function(){var e=a.default.getGuildId()||u.ME;return(0,l.default)(-1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}};t.UNREAD_PREV=f;var p=function(e,t){return o.default.getMentionCount(t)>0},h={binds:["mod+shift+alt+down"],global:!0,action:function(){return(0,l.default)(1,p),!1},keyup:function(){return r.default.flushSelection(),!1}};t.MENTION_NEXT=h;var v={binds:["mod+shift+alt+up"],global:!0,action:function(){return(0,l.default)(-1,p),!1},keyup:function(){return r.default.flushSelection(),!1}};t.MENTION_PREV=v;var m={UNREAD_NEXT:c,UNREAD_PREV:f,MENTION_NEXT:h,MENTION_PREV:v};t.default=m},6098:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(6)),a=v(n(3)),o=v(n(1)),i=v(n(6560)),l=v(n(886)),u=v(n(465)),s=v(n(166)),d=v(n(131)),c=v(n(45)),f=v(n(14)),p=n(0),h=v(n(10));function v(e){return e&&e.__esModule?e:{default:e}}var m=[],_=0,y=!1,g=!1,E=!0;function S(e){return{key:e.suggested_user.id,reasons:r.default.sortBy(e.reasons,function(e){return e.name.toLowerCase()}),user:new d.default(e.suggested_user)}}function T(e){return e.user.username.toLowerCase()}var I=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default)},a.getSuggestionCount=function(){return _},a.getSuggestions=function(){return m},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){m=[],_=e.friendSuggestionCount,g=!0},FRIEND_SUGGESTION_CREATE:function(e){var t=S(e.suggestion);if(m.some(function(e){return e.key===t.key}))return!1;if(_++,m=r.default.sortBy([].concat(m,[t]),T),E){var n=t.reasons[0],a=n.name,o=n.platform_type,i=s.default.get(o);u.default.showNotification(t.user.getAvatarURL(),h.default.Messages.FRIEND_SUGGESTION,h.default.Messages.FRIEND_SUGGESTION_NOTIFICATION.format({name:a,platformName:i.name}),{onClick:function(){c.default.transitionTo(p.Routes.FRIENDS),l.default.setSection(p.FriendsSections.ADD_FRIEND)}})}},FRIEND_SUGGESTION_DELETE:function(e){_=Math.max(0,--_),m=m.filter(function(t){return t.user.id!==e.suggestedUserId})},FRIENDS_SET_SECTION:function(e){E=e.section!==p.FriendsSections.ADD_FRIEND,y||E||!g||(y=!0,g=!1,i.default.fetch())},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){y=!1,_=e.suggestions.length,m=(0,r.default)(e.suggestions).map(S).sortBy(T).value()},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(e){return y=!1,void(m=[])}});t.default=I},6100:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(2)),a=c(n(6710)),o=c(n(73)),i=c(n(89)),l=f(n(5871)),u=c(n(8)),s=c(n(5935)),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters;i.default.fileManager.openFiles({properties:t,filters:n},e.maxSize,l.makeFile).then(function(t){null!=t&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:t}})},function(t){if("ETOOLARGE"!==t.code)throw t;o.default.push(s.default,{title:d.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:d.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:l.sizeString(e.maxSize)})})})}var m=function(e){var t,n;function o(t){var n;return h(n=e.call(this,t)||this).setRef=n.setRef.bind(h(n)),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.activateUploadDialogue=function(){if(this._ref)return this._ref.activateUploadDialogue()},i.setRef=function(e){this._ref=e},i.render=function(){return r.createElement(a.default,p({ref:this.setRef,handleNativeClick:v,embedded:u.default.isDesktop()},this.props))},o}(r.Component);m.displayName="FileInput";var _=m;t.default=_},6102:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={setDiversityColor:function(e){a.default.dispatch({type:o.ActionTypes.EMOJI_DIVERSITY_COLOR_CHANGE,color:e})},fetchEmoji:function(e){a.default.maybeDispatch({type:o.ActionTypes.EMOJI_FETCH,guildId:e}),r.default.get({url:o.Endpoints.GUILD_EMOJIS(e)}).then(function(t){return a.default.dispatch({type:o.ActionTypes.EMOJI_FETCH_SUCCESS,guildId:e,emojis:t.body})},function(){return a.default.dispatch({type:o.ActionTypes.EMOJI_FETCH_FAILURE,guildId:e})})},uploadEmoji:function(e,t,n){return a.default.dispatch({type:o.ActionTypes.EMOJI_UPLOAD_START,guildId:e}),r.default.post({url:o.Endpoints.GUILD_EMOJIS(e),body:{image:t,name:n}}).then(function(){return a.default.dispatch({type:o.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e})},function(t){return a.default.dispatch({type:o.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e}),Promise.reject(t)})},deleteEmoji:function(e,t){a.default.dispatch({type:o.ActionTypes.EMOJI_DELETE,guildId:e,emojiId:t}),r.default.delete({url:o.Endpoints.GUILD_EMOJI(e,t)})},updateEmoji:function(e,t,n){r.default.patch({url:o.Endpoints.GUILD_EMOJI(e,t),body:{name:n}})}};t.default=l},6103:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.AttachmentUpload=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(6101)),i=n(5871),l=p(n(305)),u=p(n(231)),s=p(n(302)),d=p(n(6023)),c=p(n(10)),f=p(n(5303));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.filename,r=(0,i.classifyFileName)(t),a=n(6400)("./icon-file-small-"+r+".svg");return h("img",{className:f.default.icon,src:a,alt:c.default.Messages.IMG_ALT_ATTACHMENT_FILE_TYPE.format({fileType:r}),title:r})};v.displayName="AttachmentIcon";var m=function(e){var t=e.className,n=e.filename,r=e.size,i=e.progress,l=e.onCancelUpload,p=e.onClick,m=e.onContextMenu,_=100===i,y=!_&&r>0;return h("div",{className:(0,a.default)(f.default.attachment,t)},void 0,h(v,{filename:n}),h("div",{className:f.default.attachmentInner},void 0,h("div",{className:f.default.filenameWrapper},void 0,h(u.default,{className:f.default.filename,onClick:p,onContextMenu:m},void 0,n),y?h("div",{className:f.default.size},void 0,"— "+o.default.filesize(r)):null),h("div",{className:f.default.progressContainer},void 0,_?c.default.Messages.ATTACHMENT_PROCESSING:h(d.default,{className:f.default.progress,percent:i}))),_?null:h(u.default,{onClick:l},void 0,h(s.default,{name:s.default.Names.CLOSE,className:f.default.cancelButton,width:24,height:24})))};t.AttachmentUpload=m,m.displayName="AttachmentUpload";var _=function(e){var t=e.className,n=e.url,r=e.filename,i=e.size,u=e.onClick,d=e.onContextMenu;return h("div",{className:(0,a.default)(f.default.attachment,t)},void 0,h(v,{filename:r}),h("div",{className:f.default.attachmentInner},void 0,h("div",{className:f.default.filenameLinkWrapper},void 0,h(l.default,{className:f.default.fileNameLink,href:n,onClick:u,onContextMenu:d},void 0,r)),h("div",{className:f.default.metadata},void 0,o.default.filesize(i))),h(l.default,{href:n,target:"_blank",rel:"noreferrer noopener"},void 0,h(s.default,{name:s.default.Names.DOWNLOAD,className:f.default.downloadButton,width:24,height:24})))};_.displayName="Attachment";var y=_;t.default=y},6104:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(6)),i=u(n(304)),l=u(n(161));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=Object.freeze({ABOVE:0,VISIBLE:1,BELOW:2});function f(e){return{toValue:e,duration:300,easing:i.default.Easing.inOut(i.default.Easing.back())}}var p=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={prevValue:null,currValue:t.value,nextValue:null},n.prevAnimate=new i.default.Value(c.ABOVE),n.currAnimate=new i.default.Value(c.VISIBLE),o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["animateNext"]),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.UNSAFE_componentWillReceiveProps=function(e){var t=this.state,n=t.prevValue,r=t.currValue,a=t.nextValue;null==n&&r!==e.value?this.setState({prevValue:l.default.isFocused()?r:null,currValue:e.value}):null!=a&&a!==e.value&&this.setState({nextValue:e.value})},u.componentDidUpdate=function(e,t){var n=this.state,r=n.prevValue,a=n.currValue;r!==t.prevValue&&null!=r&&this.animateBetween(r,a)},u.animateBetween=function(e,t){var n,r=this.props.forcePosition;this.prevAnimate.setValue(c.VISIBLE),null!=r?r===c.ABOVE?(this.currAnimate.setValue(c.ABOVE),n=c.BELOW):r===c.BELOW&&(this.currAnimate.setValue(c.BELOW),n=c.ABOVE):e>t?(this.currAnimate.setValue(c.ABOVE),n=c.BELOW):(this.currAnimate.setValue(c.BELOW),n=c.ABOVE),i.default.parallel([i.default.timing(this.prevAnimate,f(n)),i.default.timing(this.currAnimate,f(c.VISIBLE))]).start(this.animateNext)},u.animateNext=function(){var e=this.state,t=e.currValue,n=e.nextValue;null!=n?this.setState({prevValue:l.default.isFocused()?t:null,currValue:n,nextValue:null}):this.setState({prevValue:null})},u.getAnimatedStyle=function(e){return{transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0}},u.getMinWidth=function(e){var t=this.props,n=t.digitWidth,r=t.padStartLength;if(null!=n){var a=Math.ceil(Math.log10(e+1));return r?Math.min(a,r)*n:a*n}},u.padValue=function(e){var t=this.props.padStartLength;return null!=t?String(e).padStart(t,"0"):e},u.render=function(){var e=this.state,t=e.prevValue,n=e.currValue,r=o.default.omit(this.props,["value","digitWidth","padStartLength","forcePosition"]);if(null==t)return a.createElement("div",d({},r,{style:{minWidth:this.getMinWidth(n)}}),this.padValue(n));var l=Math.max(t,n);return a.createElement("div",d({},r,{style:{position:"relative",overflow:"hidden"}}),s("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(l)}},void 0,this.padValue(l)),s(i.default.div,{style:this.getAnimatedStyle(this.prevAnimate)},void 0,this.padValue(t)),s(i.default.div,{style:this.getAnimatedStyle(this.currAnimate)},void 0,this.padValue(n)))},r}(a.PureComponent);t.default=p,p.displayName="AnimatedCounter",p.Positions=c},6105:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(4)),l=n(114),u=_(n(112)),s=n(5924),d=_(n(5883)),c=_(n(809)),f=_(n(6170)),p=_(n(6420)),h=_(n(5940)),v=_(n(10)),m=_(n(5311));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=/steamstore-/i,E="steamcommunity.com";function S(e){var t=(0,l.parse)(e).hostname;return null==t?e:g.test(t)?E:t}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={timestamp:"",formattedTimestamp:""},t.handleClick=function(e){var n=t.props,r=n.onClick,a=n.news,o=n.application;r&&r(e,a,o)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.news.timestamp;return t.timestamp!==n?{timestamp:n,formattedTimestamp:(0,i.default)(n).fromNow()}:null};var a=r.prototype;return a.componentDidMount=function(){var e=this.props.onMount;null!=e&&e()},a.renderFooter=function(){var e=this.props,t=e.news,n=t.url,r=t.footer,a=e.application,o=e.onApplicationClick,i=e.onApplicationContextMenu,l=this.state.formattedTimestamp,u=null,s=null;return null!=a?(u=a.getIconURL(128),s=a.name):null!=r&&(u=r.proxy_icon_url||r.icon_url,s=r.text),y(p.default,{hostname:null!=n?S(n):n,timestamp:l,icon:u,title:s,onIconClick:null!=o?function(e){return o(e,a)}:null,onIconContextMenu:null!=i?i:null})},a.renderContent=function(){var e=this.props.titleClassName,t=this.props.news,n=t.title,r=t.description,a=t.url;if(null==n&&null==r&&null==a)return null;var i=null!=r?r.replace(/\n/g," ").trim():r;return y("div",{className:m.default.content},void 0,null!=n?y(d.default,{size:d.default.Sizes.SIZE_16,className:(0,o.default)(m.default.title,e)},void 0,n):null,null!=i&&""!==i?y(c.default,{size:c.default.Sizes.SIZE_14,className:m.default.description},void 0,i):null)},a.render=function(){var e,t=this.props,n=t.className,r=t.hiddenSpoiler,a=t.disableCardInteractive,i=t.onClick,l=t.renderAsset;return y(h.default,{padded:!1,className:(0,o.default)(n,(e={},e[m.default.interactive]=null==a&&null!=i,e[m.default.hiddenSpoiler]=r,e),m.default.card),onClick:null!=i?this.handleClick:null},void 0,l(this.props),this.renderContent(),this.renderFooter())},r}(a.Component);T.displayName="NewsCard",T.defaultProps={renderAsset:function(e){var t=e.news,n=e.application,r=e.onShare,a=e.autoPlay,o=e.shouldAnimate,i=t.thumbnail,l=t.video,d=null!=i?{url:i.url,proxyURL:i.proxy_url,width:i.width,height:i.height}:null,c=null!=l?{url:l.url,width:l.width,height:l.height}:null;return null!=d?y(f.default,{url:d.proxyURL||d.url,width:d.width,height:d.height,hideImage:null!=c,autoPlay:a,shouldAnimate:o},void 0,null!=c?y(s.EmbedVideo,{href:null,className:m.default.video,thumbnail:d,video:c,maxWidth:464,maxHeight:464*c.height/c.width,allowFullScreen:!1,playable:!0}):null,null!=r?y(u.default,{wrapperClassName:m.default.shareButton,size:u.default.Sizes.SMALL,color:m.default.buttonColor,onClick:function(e){r(e,t,n),e.stopPropagation()}},void 0,v.default.Messages.SHARE):null):null}};var I=T;t.default=I},6106:function(e,t,n){e.exports=n.p+"b09888a1a6c74c8bb9af76ee61eb70e7.svg"},6107:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(10)),i=l(n(5316));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.className;return u("div",{className:(0,a.default)(i.default.tag,t)},void 0,u("span",{className:i.default.text},void 0,o.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD))};s.displayName="FirstOnDiscordTag";var d=s;t.default=d},6108:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(10)),i=l(n(5317));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.className;return u("div",{className:(0,a.default)(i.default.tag,t)},void 0,u("span",{className:i.default.text},void 0,o.default.Messages.APPLICATION_STORE_THE_GAME_AWARDS_WINNER))};s.displayName="TheGameAwardsTag";var d=s;t.default=d},6109:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(59);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).timer=new a.Interval,t.state={hovered:!1},t.handlePause=function(){t.state.hovered||t.setState({hovered:!0})},t.handleResume=function(){t.setState({hovered:!1})},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null};var l=i.prototype;return l.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,r=this.state.hovered&&t;n||r||this.startTimer()},l.componentWillUnmount=function(){this.stopTimer()},l.componentDidUpdate=function(e,t){var n=this.props,r=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},a=r(n,this.state),o=r(e,t);a&&!o||e.interval!==n.interval?this.startTimer():!a&&o&&this.stopTimer()},l.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},l.stopTimer=function(){this.timer.stop()},l.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return r.createElement("div",o({},a,{className:n}),t)},i}(r.Component);i.displayName="IntervalWrapper",i.defaultProps={disable:!1,pauseOnHover:!1};var l=i;t.default=l},6110:function(e,t,n){"use strict";t.__esModule=!0,t.default=h,t.OperatingSystemSection=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=c(n(17)),i=c(n(302)),l=c(n(426)),u=n(0),s=c(n(10)),d=c(n(5319));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=((r={})[u.OperatingSystems.WINDOWS]={iconName:i.default.Names.OS_WINDOWS,label:s.default.Messages.WINDOWS},r[u.OperatingSystems.MACOS]={iconName:i.default.Names.OS_MAC,label:s.default.Messages.MACOS},r[u.OperatingSystems.LINUX]={iconName:i.default.Names.OS_LINUX,label:s.default.Messages.LINUX},r);function h(e){var t=e.operatingSystem,n=e.className,r=p[t];if(null==r)throw new Error("Unexpected operating system: "+t);return f(l.default,{text:r.label,className:n},void 0,f(i.default,{name:r.iconName}))}h.displayName="OperatingSystemIcon";var v=function(e){var t=e.systems,n=e.className,r=e.iconClassName;return f("div",{className:(0,o.default)(d.default.OSSection,n)},void 0,t.map(function(e){return f(h,{operatingSystem:e,className:(0,o.default)(d.default.purchaseUnitOperatingSystem,r)},e)}))};t.OperatingSystemSection=v,v.displayName="OperatingSystemSection"},6111:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(11)),a=p(n(20)),o=p(n(23)),i=p(n(14)),l=n(475),u=p(n(443)),s=n(5897),d=p(n(116)),c=n(0),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function h(){}var v=function(){return[f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_01,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_02,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_03,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_04,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_05,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_06,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_07,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_08,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_09,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_10,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_11,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_12,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_13,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_14,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_15,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_16,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_17,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_18,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_19,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_20,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_21,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_22,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_23,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_24,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_25,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_26,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_27,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_28,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_29,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_30,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_31,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_32,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_33,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_34,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_35,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_36,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_37,f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_38]};function m(e){var t=v();return t[d.default.extractTimestamp(e)%t.length]}function _(e){return(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED.format({username:e,usernameOnClick:h},!1))}function y(e,t,n){var r=a.default.getChannel(t);if(null==r)return _(e);var i=o.default.getGuild(r.getGuildId());return null==i?_(e):(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED.format({username:e,usernameOnClick:h,guildName:i.name,newTierName:(0,s.getTierName)(n)},!1))}var g={stringify:function(e){var t=e.mentions[0]&&i.default.getUser(e.mentions[0].id),n=e.channel_id,a=u.default.getName(null,n,e.author);switch(e.type){case c.MessageTypes.RECIPIENT_ADD:if(!t)return;return(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:a,usernameOnClick:h,otherUsername:u.default.getName(null,n,t),otherUsernameOnClick:h},!1));case c.MessageTypes.RECIPIENT_REMOVE:if(!t)return;return e.author.id===t.id?(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:a,usernameOnClick:h},!1)):(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:a,usernameOnClick:h,otherUsername:u.default.getName(null,n,t),otherUsernameOnClick:h},!1));case c.MessageTypes.CALL:var o=e.call;return o&&-1===o.participants.indexOf(r.default.getId())?(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:a,usernameOnClick:h},!1)):void 0;case c.MessageTypes.CHANNEL_NAME_CHANGE:return(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:a,usernameOnClick:h,channelName:e.content},!1));case c.MessageTypes.CHANNEL_ICON_CHANGE:return(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:a,usernameOnClick:h},!1));case c.MessageTypes.CHANNEL_PINNED_MESSAGE:return(0,l.astToString)(f.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA.format({username:a,usernameOnClick:h},!1));case c.MessageTypes.USER_JOIN:var s=m(e.id);return(0,l.astToString)(s.format({username:a,usernameOnClick:h},!1));case c.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION:return _(a);case c.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_1:return y(a,n,c.PremiumGuildTiers.TIER_1);case c.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_2:return y(a,n,c.PremiumGuildTiers.TIER_2);case c.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_3:return y(a,n,c.PremiumGuildTiers.TIER_3);default:return e.content}},getSystemMessageUserJoin:m};t.default=g},6113:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),s=g(n(6)),d=(n(429),g(n(799))),c=g(n(5957)),f=n(840),p=g(n(6457)),h=g(n(6458)),v=g(n(6459)),m=g(n(6054)),_=g(n(10)),y=g(n(5243));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object.freeze({CARD_NUMBER:"cardNumber",EXPIRATION_DATE:"expirationDate",CVC:"cvc",NAME:"name"}),I=Object.freeze({MODAL:"modal"}),O=((r={})[T.CARD_NUMBER]={name:T.CARD_NUMBER,title:function(){return _.default.Messages.CREDIT_CARD_NUMBER},autoComplete:"cc-number",placeholder:function(){return _.default.Messages.PAYMENT_SOURCE_CARD_NUMBER},pattern:"\\d*",getClassNameForLayout:function(){return y.default.width100},renderInput:function(e,t){return u.createElement(h.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)},flipped:t.codeFocused,autoFocus:!0}))}},r[T.EXPIRATION_DATE]={name:T.EXPIRATION_DATE,title:function(){return _.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return _.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return y.default.width50},renderInput:function(e,t){return u.createElement(v.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r[T.CVC]={name:T.CVC,title:function(){return _.default.Messages.CREDIT_CARD_CVC},autoComplete:"cc-csc",placeholder:function(){return _.default.Messages.CREDIT_CARD_SECURITY_CODE},pattern:"\\d*",getClassNameForLayout:function(){return y.default.width50},renderInput:function(e,t){return u.createElement(p.default,S({},e,{cardType:t.cardType,inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r[T.NAME]={name:T.NAME,title:function(){return _.default.Messages.CREDIT_CARD_NAME_ON_CARD},autoComplete:"cc-name",placeholder:function(){return _.default.Messages.CREDIT_CARD_NAME},getClassNameForLayout:function(){return y.default.width100},renderInput:function(e,t){return u.createElement(d.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r),N=((a={})[I.MODAL]=[{fields:[O[T.CARD_NUMBER]]},{fields:[O[T.EXPIRATION_DATE],O[T.CVC]]},{fields:[O[T.NAME]]}],a),C=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).state={codeFocused:!1,values:(t={},t[T.CARD_NUMBER]=n.props[T.CARD_NUMBER],t[T.EXPIRATION_DATE]=n.props[T.EXPIRATION_DATE],t[T.CVC]=n.props[T.CVC],t[T.NAME]=n.props[T.NAME],t),dirtyFields:{},errors:{}},n._refs={},n.setRef=function(e,t){n._refs[e]=t},n.handleFieldBlur=function(e,t){var r={errors:n.validateForm(!0)};t===T.CVC&&(r.codeFocused=!1),n.setState(r)},n.handleFieldFocus=function(e,t){t===T.CVC&&n.setState({codeFocused:!0})},n.handleFieldChange=function(e,t,r){var a,o;if(void 0===r&&(r=!1),null==t)throw new Error("You must provide a name for the field.");var i=n.state,l=i.values,u=i.dirtyFields,s=i.errors;delete s[t],n.setState({values:S({},l,(a={},a[t]=e,a)),dirtyFields:S({},u,(o={},o[t]=!0,o)),errors:s},function(){if(r){if(null==t)throw new Error("You must provide a name for the field.");var e=n.getNextFieldName(t);null!=e&&null!=n._refs[e]&&n._refs[e].focus()}})},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.ensureStripeIsLoaded)();case 2:l=e.sent,this.handleInfoChange();case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,l,"next",e)}function l(e){E(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),a.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},a.getNextFieldName=function(e){var t=this.props.layout,n=N[t],r=(0,s.default)(n).flatMap(function(e){return e.fields}).map(function(e){return e.name}).value(),a=r.indexOf(e);return-1===a||a===r.length-1?null:r[a+1]},a.validateForm=function(e){if(null==l)return{};var t=this.state,n=t.values,r=t.dirtyFields,a={};return e&&!r[T.CARD_NUMBER]||(n[T.CARD_NUMBER]?l.card.validateCardNumber(n[T.CARD_NUMBER])||(a[T.CARD_NUMBER]=_.default.Messages.CREDIT_CARD_ERROR_NUMBER):a[T.CARD_NUMBER]=_.default.Messages.CREDIT_CARD_ERROR_REQUIRED),e&&!r[T.EXPIRATION_DATE]||l.card.validateExpiry(n[T.EXPIRATION_DATE])||(a[T.EXPIRATION_DATE]=_.default.Messages.CREDIT_CARD_ERROR_EXPIRATION),e&&!r[T.CVC]||l.card.validateCVC(n[T.CVC])||(a[T.CVC]=_.default.Messages.CREDIT_CARD_ERROR_SECURITY_CODE),e&&!r[T.NAME]||n[T.NAME]||(a[T.NAME]=_.default.Messages.PAYMENT_SOURCE_NAME_ERROR_REQUIRED),a},a.handleInfoChange=function(){var e=this.state.values,t=this.validateForm(!1);this.props.onCardInfoChange(e,0===Object.keys(t).length)},a.render=function(){var e=this.props,t=e.layout,n=e.error,r=e.className,a=this.state,o=a.errors,l=a.codeFocused,u=a.values,s=N[t];if(null==s)throw new Error("Provide a proper layout property.");var d=c.default.getCreditCardType(u[T.CARD_NUMBER]);return function(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(m.default,{className:r,form:s,layout:t,values:u,errors:o,formError:n,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,onFieldFocus:this.handleFieldFocus,codeFocused:l,cardType:d,setInputRef:this.setRef})},r}(u.PureComponent);C.displayName="CardInfoForm",C.Layouts=I,C.defaultProps=((o={})[T.CARD_NUMBER]="",o[T.EXPIRATION_DATE]="",o[T.CVC]="",o[T.NAME]="",o.layout=I.MODAL,o);var A=C;t.default=A},6114:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(112)),i=p(n(158)),l=p(n(5872)),u=n(796),s=p(n(6460)),d=n(0),c=p(n(10)),f=p(n(5332));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=[{type:d.PaymentSourceTypes.CARD,text:function(){return c.default.Messages.PAYMENT_SOURCE_CREDIT_CARD},iconType:l.default.Types.UNKNOWN},{type:d.PaymentSourceTypes.PAYPAL,text:function(){return c.default.Messages.PAYMENT_SOURCE_PAYPAL},iconType:l.default.Types.PAYPAL}],m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.onChooseType,n=e.className,r=e.onPaymentSourceReceived,a=e.allowStripeRequestPayments,d=a?h(s.default,{className:f.default.button,iconClassName:f.default.buttonIcon,paymentLabel:c.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_LABEL,onSourceReceived:r,onChooseType:t}):null,p=a?f.default.vertical:f.default.horizonal,m=a?i.default.Direction.VERTICAL:i.default.Direction.HORIZONTAL,_=v.map(function(e){return h(o.default,{onClick:function(){return t(e.type)},className:f.default.button},e.type,h(i.default,{align:i.default.Align.CENTER},void 0,h(l.default,{className:f.default.buttonIcon,type:e.iconType}),e.text()))});return h(u.FormSection,{title:c.default.Messages.PAYMENT_SOURCE_TYPE_SELECT,className:n},void 0,h(i.default,{className:p,direction:m},void 0,_,d))},r}(a.PureComponent);m.displayName="ChoosePaymentSourceType";var _=m;t.default=_},6115:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(3)),i=v(n(844)),l=h(n(854)),u=h(n(5926)),s=h(n(5872)),d=h(n(799)),c=h(n(804)),f=h(n(10)),p=h(n(5333));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){null!=this.props.paypalClient&&i.tokenizePayPal()},a.componentWillUnmount=function(){i.teardown().then(function(){return i.createPayPalClient()})},a.render=function(){var e=this.props,t=e.braintreeEmail,n=e.className,r=e.paypalClient;return m(c.default,{className:n,title:f.default.Messages.PAYMENT_SOURCE_PAYPAL_ACCOUNT},void 0,m("div",{className:p.default.inputWrapper},void 0,m(s.default,{type:s.default.Types.PAYPAL,className:p.default.paypalIcon}),m(d.default,{value:t,editable:!1,readOnly:!0,placeholder:null==r?f.default.Messages.PAYMENT_SOURCE_PAYPAL_LOADING:f.default.Messages.PAYMENT_SOURCE_CONFIRM_PAYPAL_DETAILS,inputClassName:p.default.paypalInput})))},r}(a.PureComponent);_.displayName="PaypalConnector";var y=o.default.connectStores([l.default,u.default],function(){return{braintreeEmail:u.default.braintreeEmail,paypalClient:l.default.getPayPalClient()}})(_);t.default=y},6116:function(e,t,n){"use strict";t.__esModule=!0,t.PaymentRequestStepBody=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(17)),o=(n(6055),d(n(5872))),i=d(n(799)),l=d(n(804)),u=d(n(10)),s=d(n(5335));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n=e.className,r=e.submitting,d=(e.stripePaymentSource||{}).card,f=d?o.default.getType(d.brand):o.default.Types.UNKNOWN;return c(l.default,{className:n,title:u.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE},void 0,c("div",{className:s.default.cardNumberWrapper},void 0,c(o.default,{className:(0,a.default)(s.default.cardIcon,(t={},t[s.default.submitting]=r,t)),type:f}),c(i.default,{value:r&&d?u.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_CREATING.format(d):null,editable:!1,readOnly:!0,placeholder:u.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_LOADING,inputClassName:s.default.cardNumberInput})))};t.PaymentRequestStepBody=f,f.displayName="PaymentRequestStepBody"},6118:function(e,t,n){"use strict";t.__esModule=!0,t.fetchPremiumSubscriptions=function(e){return c.apply(this,arguments)},t.fetchUserPremiumGuildSubscriptions=function(){return f.apply(this,arguments)},t.fetchPremiumSubscriptionCooldown=function(){return p.apply(this,arguments)},t.subscribeToGuild=function(e){return h.apply(this,arguments)},t.unsubscribeFromGuild=function(e,t){return v.apply(this,arguments)};var r=u(n(9)),a=u(n(1)),o=n(429),i=u(n(6461)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)})}}function c(){return(c=d(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.get(l.Endpoints.GUILD_PREMIUM_SUBSCRIPTIONS(t));case 2:return n=e.sent,o=n.body.map(function(e){return i.default.createFromServer(e)}),a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_SUBSCRIPTIONS_FETCH_SUCCESS,guildId:t,subscriptions:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=d(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.get(l.Endpoints.USER_GUILD_PREMIUM_SUBSCRIPTIONS);case 2:return t=e.sent,n=t.body.map(function(e){return i.default.createFromServer(e)}),a.default.dispatch({type:l.ActionTypes.GUILD_USER_PREMIUM_SUBSCRIPTIONS_FETCH_SUCCESS,subscriptions:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=d(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.get(l.Endpoints.GUILD_PREMIUM_SUBSCRIPTION_COOLDOWN);case 3:return t=e.sent,n=t.body.ends_at,a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_SUBSCRIPTIONS_COOLDOWN_FETCH_SUCCESS,endsAt:n}),e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(0),404!==e.t0.status){e.next=15;break}a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_SUBSCRIPTIONS_COOLDOWN_FETCH_SUCCESS,endsAt:null}),e.next=16;break;case 15:throw new o.PremiumGuildSubscriptionError(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function h(){return(h=d(regeneratorRuntime.mark(function e(t){var n,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_SUBSCRIBE_START}),e.prev=1,e.next=4,r.default.put(l.Endpoints.GUILD_PREMIUM_SUBSCRIPTIONS(t));case 4:return n=e.sent,u=i.default.createFromServer(n.body),a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_SUBSCRIBE_SUCCESS,subscription:u}),e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(1),s=new o.PremiumGuildSubscriptionError(e.t0),a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_SUBSCRIBE_FAIL,error:s}),s;case 15:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function v(){return(v=d(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_UNSUBSCRIBE_START}),e.prev=1,e.next=4,r.default.delete(l.Endpoints.GUILD_PREMIUM_SUBSCRIPTION(t,n));case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),i=new o.PremiumGuildSubscriptionError(e.t0),a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_UNSUBSCRIBE_FAIL,error:i}),i;case 11:a.default.dispatch({type:l.ActionTypes.GUILD_PREMIUM_UNSUBSCRIBE_SUCCESS,subscriptionId:n});case 12:case"end":return e.stop()}},e,null,[[1,6]])}))).apply(this,arguments)}},6119:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l={},u=null,s=[],d=!1,c=null,f=null;function p(){d=!0}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,p,h=r.prototype;return h.getSubscriptionsForGuild=function(e){return l[e]},h.getCurrentUserSubscription=function(){return s[0]},a=r,(o=[{key:"isModifyingSubscription",get:function(){return d}},{key:"subscribeError",get:function(){return c}},{key:"unsubscribeError",get:function(){return f}},{key:"cooldownEndsAt",get:function(){return u}}])&&i(a.prototype,o),p&&i(a,p),r}(r.default.Store))(a.default,{GUILD_PREMIUM_SUBSCRIPTIONS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.subscriptions;l[t]=n},GUILD_USER_PREMIUM_SUBSCRIPTIONS_FETCH_SUCCESS:function(e){var t=e.subscriptions;s=t},GUILD_PREMIUM_SUBSCRIPTIONS_COOLDOWN_FETCH_SUCCESS:function(e){var t=e.endsAt;u=t},GUILD_PREMIUM_UNSUBSCRIBE_START:function(e){return p()},GUILD_PREMIUM_SUBSCRIBE_START:function(e){return p()},GUILD_PREMIUM_SUBSCRIBE_SUCCESS:function(e){var t=e.subscription;s=[t].concat(s.filter(function(e){return e.id!==t.id})),c=null,d=!1},GUILD_PREMIUM_SUBSCRIBE_FAIL:function(e){var t=e.error;d=!1,c=t},GUILD_PREMIUM_UNSUBSCRIBE_SUCCESS:function(e){var t=e.subscriptionId;s=s.filter(function(e){return e.id!==t}),d=!1},GUILD_PREMIUM_UNSUBSCRIBE_FAIL:function(e){var t=e.error;d=!1,f=t}});t.default=h},6120:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(9)),o=u(n(1)),i=u(n(11)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d,c={},f=Object.freeze({});function p(e){return c[e]||f}function h(e){var t=e.channelId,n=e.userId,r=s({},p(t));clearTimeout(r[n]),r[n]=function(e,t){return setTimeout(function(){o.default.dispatch({type:l.ActionTypes.TYPING_STOP,channelId:e,userId:t})},l.TYPING_TIMEOUT)}(t,n),c[t]=r}function v(e){var t=e.channelId,n=e.userId,r=c[t];if(null==r||null==r[n])return!1;var a=s({},r);clearTimeout(a[n]),delete a[n],c[t]=a}function m(){c={}}var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getTypingUsers=function(e){return p(e)},a.isTyping=function(e,t){return null!=p(e)[t]},r}(r.default.Store))(o.default,{TYPING_START:h,TYPING_STOP:v,TYPING_START_LOCAL:function(e){var t=e.channelId,n=i.default.getId();if(null==n)return!1;null!=d&&d.channelId!==t&&(null!=d.timeout&&clearTimeout(d.timeout),d=null);var r=Date.now(),u=.8*l.TYPING_TIMEOUT;if(null!=d&&(null!=d.timeout||d.prevSend+u>r))return!1;var s=null==d||d.prevSend>r-2*u?l.TYPING_DELAY_LOCAL:0,c=setTimeout(function(){null!=d&&d.channelId===t&&n===i.default.getId()&&null!=d.timeout&&(d.timeout=null,function(e){var t=p(e);return t===f?0:Object.keys(t).length}(t)>l.MAX_TYPING_USERS||a.default.post(l.Endpoints.TYPING(t)).then(function(e){if(200===e.status){var n=e.body.message_send_cooldown_ms;n>0&&o.default.dispatch({type:l.ActionTypes.SLOWMODE_START_COOLDOWN,channelId:t,cooldownMs:n})}}))},s);return d={channelId:t,timeout:c,prevSend:r},h({channelId:t,userId:n})},TYPING_STOP_LOCAL:function(e){var t=e.channelId,n=i.default.getId();return null!=n&&null!=d&&d.channelId===t&&null!=d.timeout&&(clearTimeout(d.timeout),d=null,v({channelId:t,userId:n}))},CONNECTION_OPEN:function(e){return m()},OVERLAY_INITIALIZE:function(e){return m()},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message.author;return e.optimistic&&function(e){if(null==d||d.channelId!==e)return!1;null!=d.timeout&&clearTimeout(d.timeout),d=null}(t),v({channelId:t,userId:n.id})}});t.default=_},6121:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=o.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",u=o.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json",s={checkIncidents:function(){Promise.all([r.default.get(l+"/active.json"),r.default.get(u)]).then(function(e){var t=e[0],n=e[1],r=t.body.scheduled_maintenances[0],i=n.body.incidents[0];a.default.dispatch({type:o.ActionTypes.STATUS_PAGE_INCIDENT,incident:i||r})})},checkScheduledMaintenances:function(){r.default.get(l+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];a.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){a.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}};t.default=s},6124:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(231)),l=c(n(5981)),u=c(n(10)),s=c(n(5242)),d=c(n(5343));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,c=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:f(i.default,{className:(0,o.default)(d.default.queryContainer,(t={},t[d.default.focused]=-1===a,t)),onMouseEnter:p,onClick:c},void 0,f("div",{className:d.default.queryText},void 0,u.default.Messages.SEARCH_FOR_VALUE.format({value:r})),f("div",{className:d.default.queryShortcut},void 0,f(l.default,{shortcut:"return",className:(0,o.default)(s.default.dim,s.default.keybindShortcutSearchPopout)})))},a.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,a=t.renderInitialState,o=t.renderResult,i=t.renderCustomResults;if(e)return a();if(0===n)return r();if(null!=o)return Array.from({length:n}).map(function(e,t){return o(t)});if(null!=i)return i();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},a.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return f("div",{className:d.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},r}(a.PureComponent);h.displayName="SearchResultsPopout",h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320};var v=h;t.default=v},6131:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(6)),a=c(n(3)),o=c(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6132)),l=n(129),u=c(n(74)),s=c(n(23)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=[d.Permissions.KICK_MEMBERS,d.Permissions.BAN_MEMBERS,d.Permissions.ADMINISTRATOR,d.Permissions.MANAGE_CHANNELS,d.Permissions.MANAGE_GUILD,d.Permissions.MANAGE_NICKNAMES,d.Permissions.MANAGE_ROLES,d.Permissions.MANAGE_WEBHOOKS,d.Permissions.MANAGE_EMOJIS,d.Permissions.MUTE_MEMBERS,d.Permissions.DEAFEN_MEMBERS],h=null,v=[],m=[],_=[],y=!0,g=!1,E=!1,S=!0,T=!1,I=null,O=d.AuditLogActions.ALL,N={},C=0;function A(e){var t=[],n=0;return e.reverse().forEach(function(e){var r=[],a=null,o=null;if(null!=e.reason&&r.push(new i.AuditLogChange(d.AuditLogChangeKeys.REASON,null,e.reason)),e.changes&&e.changes.forEach(function(e){var t=new i.AuditLogChange(e.key,e.old_value,e.new_value);r.push(t),t.key===d.AuditLogChangeKeys.NAME?a=t:t.key===d.AuditLogChangeKeys.TYPE&&(o=t)}),e.action_type===d.AuditLogActions.MEMBER_PRUNE){var u=null!=e&&null!=e.options&&null!=e.options.delete_member_days?e.options.delete_member_days:1,s=new i.AuditLogChange(d.AuditLogChangeKeys.PRUNE_DELETE_DAYS,null,u);r.push(s)}var c=new i.default({id:e.id,action:e.action_type,targetId:e.target_id,userId:e.user_id,changes:r,options:e.options,guildId:h}),f=t[0];if(function(e,t,n,r,a){return void 0===r&&(r=30),void 0===a&&(a=50),null!=e&&e.action===t.action&&e.targetId===t.targetId&&e.userId===t.userId&&t.timestampStart.diff(e.timestampStart,"minutes")<r&&n<a&&t.targetType!==d.AuditLogTargetTypes.INVITE&&t.action!==d.AuditLogActions.MESSAGE_DELETE}(f,c,n))return t[0]=f.merge({changes:[].concat(f.changes,c.changes),timestampEnd:c.timestampStart}),void n++;if(c.actionType===d.AuditLogActionTypes.DELETE&&null!=a){var p,v=a.oldValue;if(c.targetType===d.AuditLogTargetTypes.CHANNEL&&null!==o&&(0,l.isGuildSelectableChannelType)(o.oldValue)&&(v="#"+v),null==N[c.targetType])N[c.targetType]=((p={})[c.targetId]=v,p);else N[c.targetType][c.targetId]=v}n=0,t.unshift(c)}),t}function M(e){if(e.section!==d.GuildSettingsSections.AUDIT_LOG)return!1;var t=u.default.getMembers(h),n=s.default.getGuild(h);m=(0,r.default)(t).filter(function(e){return e.roles.some(function(t){if(null!=n){if(e.userId===n.ownerId)return!0;var r=n.roles[t];return null!=r&&p.some(function(e){return e&r.permissions})}})}).map(function(e){return e.userId}).value()}var R=new(function(e){var t,n,r,a,o;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=i,(a=[{key:"logs",get:function(){return v}},{key:"webhooks",get:function(){return _}},{key:"isInitialLoading",get:function(){return y}},{key:"isLoading",get:function(){return g}},{key:"isLoadingNextPage",get:function(){return E}},{key:"hasOlderLogs",get:function(){return S}},{key:"hasError",get:function(){return T}},{key:"userIds",get:function(){return m}},{key:"userIdFilter",get:function(){return I}},{key:"actionFilter",get:function(){return O}},{key:"deletedTargets",get:function(){return N}},{key:"groupedFetchCount",get:function(){return C}}])&&f(r.prototype,a),o&&f(r,o),i}(a.default.Store))(o.default,{AUDIT_LOG_FETCH_START:function(e){g=!0},AUDIT_LOG_FETCH_SUCCESS:function(e){var t=e.logs,n=e.webhooks;C=0,y=!1,g=!1,S=!0,T=!1,v=A(t),_=n,t.length<d.AUDIT_LOG_PAGE_LIMIT&&(S=!1)},AUDIT_LOG_FETCH_FAIL:function(e){return g=!1,T=!0,void(v=[])},AUDIT_LOG_FETCH_NEXT_PAGE_START:function(e){var t=e.isGroupedFetch;E=!0,t&&C++},AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS:function(e){var t=e.logs,n=e.webhooks;if(E=!1,_=n,(0===t.length||t.length<d.AUDIT_LOG_PAGE_LIMIT)&&(S=!1),t.length>0){var r=A(t);v=[].concat(v,r)}},AUDIT_LOG_FETCH_NEXT_PAGE_FAIL:function(e){E=!1},AUDIT_LOG_FILTER_BY_ACTION:function(e){var t=e.action;O=t},AUDIT_LOG_FILTER_BY_USER:function(e){var t=e.userId;I=t},GUILD_SETTINGS_SET_SECTION:M,GUILD_SETTINGS_INIT:function(e){var t=e.guildId,n=e.section;return h=t,M({section:n})},GUILD_SETTINGS_CLOSE:function(e){return v=[],m=[],O=d.AuditLogActions.ALL,I=null,N={},C=0,y=!0,void(_=[])}});t.default=R},6132:function(e,t,n){"use strict";t.__esModule=!0,t.getTargetType=u,t.getActionType=s,t.default=t.AuditLogChange=void 0;var r=l(n(4)),a=l(n(52)),o=l(n(116)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e===i.AuditLogActions.ALL)return i.AuditLogTargetTypes.ALL;if(e<=i.AuditLogActions.GUILD_UPDATE)return i.AuditLogTargetTypes.GUILD;if(e<=i.AuditLogActions.CHANNEL_OVERWRITE_DELETE)return i.AuditLogTargetTypes.CHANNEL;if(e<=i.AuditLogActions.MEMBER_ROLE_UPDATE||e===i.AuditLogActions.MESSAGE_DELETE)return i.AuditLogTargetTypes.USER;if(e<=i.AuditLogActions.ROLE_DELETE)return i.AuditLogTargetTypes.ROLE;if(e<=i.AuditLogActions.INVITE_DELETE)return i.AuditLogTargetTypes.INVITE;if(e<=i.AuditLogActions.WEBHOOK_DELETE)return i.AuditLogTargetTypes.WEBHOOK;if(e<=i.AuditLogActions.EMOJI_DELETE)return i.AuditLogTargetTypes.EMOJI;throw new Error("[AuditLogRecord] Unknown target type for: "+e)}function s(e){switch(e){case i.AuditLogActions.CHANNEL_CREATE:case i.AuditLogActions.CHANNEL_OVERWRITE_CREATE:case i.AuditLogActions.MEMBER_BAN_REMOVE:case i.AuditLogActions.ROLE_CREATE:case i.AuditLogActions.INVITE_CREATE:case i.AuditLogActions.WEBHOOK_CREATE:case i.AuditLogActions.EMOJI_CREATE:return i.AuditLogActionTypes.CREATE;case i.AuditLogActions.CHANNEL_DELETE:case i.AuditLogActions.CHANNEL_OVERWRITE_DELETE:case i.AuditLogActions.MEMBER_KICK:case i.AuditLogActions.MEMBER_PRUNE:case i.AuditLogActions.MEMBER_BAN_ADD:case i.AuditLogActions.ROLE_DELETE:case i.AuditLogActions.INVITE_DELETE:case i.AuditLogActions.WEBHOOK_DELETE:case i.AuditLogActions.EMOJI_DELETE:case i.AuditLogActions.MESSAGE_DELETE:return i.AuditLogActionTypes.DELETE;case i.AuditLogActions.GUILD_UPDATE:case i.AuditLogActions.CHANNEL_UPDATE:case i.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:case i.AuditLogActions.MEMBER_UPDATE:case i.AuditLogActions.MEMBER_ROLE_UPDATE:case i.AuditLogActions.ROLE_UPDATE:case i.AuditLogActions.INVITE_UPDATE:case i.AuditLogActions.WEBHOOK_UPDATE:case i.AuditLogActions.EMOJI_UPDATE:return i.AuditLogActionTypes.UPDATE}return i.AuditLogActionTypes.ALL}t.AuditLogChange=function(e,t,n){this.key=e,this.oldValue=t,this.newValue=n};var d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.initialize=function(e){this.id=e.id,this.action=e.action,this.actionType=s(this.action),this.targetId=e.targetId,this.timestampStart=e.timestampStart||(0,r.default)(o.default.extractTimestamp(this.id)),this.timestampEnd=e.timestampEnd||this.timestampStart,this.userId=e.userId,this.changes=e.changes||[],this.targetType=u(this.action),this.options=e.options||{},this.target=e.target||e.id,this.user=e.user||null},a}(a.default);t.default=d},6137:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(2)),o=S(n(5979)),i=S(n(73)),l=n(129),u=S(n(23)),s=S(n(159)),d=S(n(6163)),c=S(n(231)),f=S(n(302)),p=S(n(426)),h=n(6528),v=n(196),m=T(n(5914)),_=S(n(5885)),y=n(0),g=S(n(10)),E=S(n(5244));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleInviteClick=function(){var e=t.props.channel,n=u.default.getGuild(e.getGuildId());i.default.push(_.default,{guild:n,channel:e,source:y.InstantInviteSources.GUILD_CHANNELS})},t.handleEditClick=function(){o.default.open(t.props.channel.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderEditButton=function(){var e=this.props,t=e.channel;return e.disableManageChannels||!s.default.can(y.Permissions.MANAGE_CHANNELS,t)&&!s.default.can(y.Permissions.MANAGE_ROLES,t)&&!s.default.can(y.Permissions.MANAGE_WEBHOOKS,t)||(0,l.isGuildSelectableChannelType)(t.type)&&!s.default.can(y.Permissions.VIEW_CHANNEL,t)||t.type===y.ChannelTypes.GUILD_VOICE&&!s.default.can(y.Permissions.CONNECT,t)?null:I(p.default,{text:g.default.Messages.EDIT_CHANNEL},void 0,I(c.default,{className:E.default.iconItem,onClick:this.handleEditClick},void 0,I(f.default,{name:f.default.Names.GEAR,width:16,height:16,className:E.default.actionIcon})))},a.renderInviteButton=function(){var e=this.props,t=e.channel,n=e.isDefaultChannel,r=e.locked,a=u.default.getGuild(t.getGuildId());if(!r&&(0,v.canViewInviteModal)(a,t)){var o=I(c.default,{onClick:this.handleInviteClick},void 0,I(f.default,{name:f.default.Names.INVITE,width:16,height:16,className:E.default.actionIcon}));return n&&d.default.shouldShow("instant-invite")&&(o=I(m.default,{tutorialId:"instant-invite",position:m.TutorialIndicatorPositions.LEFT},void 0,I("div",{},void 0,o))),I(p.default,{text:s.default.can(y.Permissions.CREATE_INSTANT_INVITE,t)?g.default.Messages.CREATE_INSTANT_INVITE:g.default.Messages.INVITE_TO_SERVER},void 0,I("div",{className:E.default.iconItem},void 0,o))}},a.getClassName=function(){var e=this.props,t=e.position,n=e.sortingPosition;return null!=n?t>n?E.default.containerDragAfter:E.default.containerDragBefore:E.default.containerDefault},a.isDisabled=function(){var e=this.props,t=e.channel,n=e.sorting,r=e.sortingType;return n&&!(0,h.areTypesInSameSection)(r,t.type)},r}(a.PureComponent);O.defaultProps={isDefaultChannel:!1};var N=O;t.default=N},6138:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=n(232),l=n(313),u=d(n(10)),s=d(n(5520));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=[18,18,16,16,14,12,10];var h=function(e){var t,n,r,d=e.children,h=e.icon,v=e.name,m=e.ariaLabel,_=e.className,y=e.style,g=e.selected,E=void 0!==g&&g,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","icon","name","ariaLabel","className","style","selected"]);return null==h&&null!=v&&(r=function(e){return p[e.length-1]||p[p.length-1]}(n=(0,l.getAcronym)(v))),a.createElement(i.Link,f({},S,{className:(0,o.default)(_,s.default.wrapper),"aria-label":m||v,style:f({},y,{fontSize:r})}),null!=n?c("div",{className:(0,o.default)((t={},t[s.default.acronym]=!0,t[s.default.selected]=E,t)),"aria-hidden":!0},void 0,n):null,null!=h?c("img",{className:s.default.icon,src:h,alt:u.default.Messages.SERVER_ICON,width:48,height:48}):null,d)};h.displayName="NavItem";var v=h;t.default=v},6139:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6140:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6141:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6142:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(3)),i=p(n(5975)),l=(n(429),f(n(813)),f(n(5926))),u=f(n(240)),s=n(5892),d=p(n(6532)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,l,"next",e)}function l(e){h(o,r,a,i,l,"throw",e)}i(void 0)})}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=[s.Steps.REVIEW,s.Steps.CONFIRM],y=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._hasChangedSteps=!1,n.handlePaypalContinue=function(){n.setState({step:s.Steps.PAYPAL_ADDRESS})},n.handleCreditCardContinue=function(){n.setState({step:s.Steps.ADDRESS})},n.handleReviewPaymentSourceChange=function(e,t){if(t){n.setState({step:s.Steps.PAYMENT_TYPE,steps:d.ADD_PAYMENT_STEPS,paymentSourceId:null});var r=n.props.onClearError;r&&r()}else n.setState({paymentSourceId:e.value})},n.handleBack=function(){var e=n.props,t=e.paymentSources,r=e.onClose,a=n.state,o=a.step,l=a.steps,u=n.stepsToRender,c=(0,s.getStepIndex)(o,u);if(c>0){var f=u[c-1],p=f===s.Steps.PAYMENT_TYPE;p&&i.clearError(),n.setState({step:f,steps:p?d.ADD_PAYMENT_STEPS:l})}else if((0,s.canGoBack)(c,t)){var h=n.props.defaultPaymentSourceId;n.setState({step:s.Steps.REVIEW,steps:d.REVIEW_PAYMENT_STEPS,paymentSourceId:h})}else r()},n.handleChoosePaymentType=function(e){switch(e){case c.PaymentSourceTypes.PAYPAL:n.setState({step:s.Steps.PAYPAL,steps:d.ADD_PAYPAL_STEPS});break;case c.PaymentSourceTypes.CARD:n.setState({step:s.Steps.CREDIT_CARD_INFORMATION,steps:d.ADD_CARD_STEPS});break;case c.PaymentSourceTypes.PAYMENT_REQUEST:n.setState({step:s.Steps.PAYMENT_REQUEST_INFO,steps:d.ADD_PAYMENT_REQUEST_STEPS})}},n.handlePaymentSourceAdd=function(e){n.setState({step:s.Steps.REVIEW,paymentSourceId:e})},n.handlePurchase=v(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.paymentSources,a=t.onPurchase,o=t.isGift,null!=(i=n.state.paymentSourceId)&&null!=r[i]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,a(r[i],o);case 7:n.setState({steps:_,step:s.Steps.CONFIRM}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,null,[[4,10]])})),n.handleSelectPlan=function(){var e=n.props.paymentSources,t=Object.values(e).length>0;n.setState({step:t?s.Steps.REVIEW:s.Steps.PAYMENT_TYPE})};var r=t.defaultPaymentSourceId,a=t.paymentSources,o=t.initialStep,l=Object.values(a).length>0,u=o;return null==u&&(u=l?s.Steps.REVIEW:s.Steps.PAYMENT_TYPE),n.state={paymentSourceId:r,steps:l?d.REVIEW_PAYMENT_STEPS:d.ADD_PAYMENT_STEPS,step:u,errorStep:null},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,u,f=a.prototype;return f.componentDidUpdate=function(e,t){var n=this.props.onStepChange,r=this.state.step;r!==t.step&&(this._hasChangedSteps=!0,null!=n&&n(t.step,r))},a.getDerivedStateFromProps=function(e,t){var n=e.billingError,r=t.errorStep,a={};if(null==n)null!=r&&(a.errorStep=null);else{var o=(0,s.errorToStep)(n);null!=o&&o!==t.errorStep&&(a.step=o,a.errorStep=o)}return null==t.paymentSourceId&&null!=e.defaultPaymentSourceId&&(a.paymentSourceId=e.defaultPaymentSourceId),a},f.render=function(){var e,t=this,n=this.props,a=n.isPurchasing,o=n.canSubmit,i=n.submitButtonText,l=n.useShinySubmitButton,u=n.legalNotice,c=n.renderHeader,f=n.onPaymentSourceChange,p=n.price,h=n.onClearError,v=n.size,m=n.renderConfirmationBody,_=n.renderConfirmationFooter,y=n.className,g=n.isGift,E=n.isGiftable,S=n.needsToBeGift,T=n.onIsGiftUpdate,I=((e={})[s.Steps.CONFIRM]={renderBody:m,renderFooter:_},e[s.Steps.SELECT_PLAN]={renderBody:function(){return t.props.renderSelectPlanBody(t.handleSelectPlan)},renderFooter:function(){return t.props.renderSelectPlanFooter()}},e),O=this.state,N=O.step,C=O.paymentSourceId,A=this.stepsToRender;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{className:y,isPurchasing:a,canSubmit:o,submitButtonText:i,useShinySubmitButton:l,legalNotice:u,renderHeader:c,onPaymentSourceChange:f,price:p,onClearError:h,size:v,extraRenderers:I,step:N,steps:A,paymentSourceId:C,isGiftable:E,isGift:g,needsToBeGift:S,onIsGiftUpdate:T,onBack:this.handleBack,onChoosePaymentType:this.handleChoosePaymentType,onCreditCardContinue:this.handleCreditCardContinue,onPaymentSourceAdd:this.handlePaymentSourceAdd,onPurchase:this.handlePurchase,onPaypalContinue:this.handlePaypalContinue,onReviewPaymentSourceChange:this.handleReviewPaymentSourceChange})},o=a,(l=[{key:"stepsToRender",get:function(){var e=this.props.prependSteps,t=this.state.steps;return null!=e?[].concat(e,t):t}},{key:"closable",get:function(){var e=this.state.step;return 0===(0,s.getStepIndex)(e,this.stepsToRender)||!this._hasChangedSteps}}])&&m(o.prototype,l),u&&m(o,u),a}(a.Component);y.displayName="PaymentModal",y.defaultProps={useShinySubmitButton:!1,needsToBeGift:!1,isGiftable:!1,isGift:!1,renderConfirmationBody:c.NOOP_NULL,renderConfirmationFooter:c.NOOP_NULL,renderSelectPlanBody:c.NOOP_NULL,renderSelectPlanFooter:c.NOOP_NULL};var g=o.default.connectStores([u.default,l.default],function(){return{paymentSources:u.default.paymentSources,defaultPaymentSourceId:u.default.defaultPaymentSourceId,billingError:l.default.error}},{forwardRef:!0})(y);t.default=g},6143:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(3)),i=n(59),l=g(n(6171)),u=g(n(306)),s=g(n(6056)),d=g(n(158)),c=g(n(5862)),f=n(796),p=n(5869),h=n(320),v=g(n(45)),m=n(0),_=g(n(10)),y=g(n(5256));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=1500,I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={copyMode:s.default.Modes.DEFAULT},t._copyModeTimeout=new i.Timeout,t.handleGiftCodeCopy=function(e,n){var r=t.props.sku;null!=r&&(0,h.trackGiftCodeCopy)(new l.default({code:n,maxUses:1}),r);try{(0,p.copy)(e),t.setState({copyMode:s.default.Modes.SUCCESS})}catch(e){t.setState({copyMode:s.default.Modes.ERROR})}t._copyModeTimeout.start(T,function(){t.setState({copyMode:s.default.Modes.DEFAULT})})},t.handleInventoryClick=function(){v.default.transitionTo(m.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,u,g=r.prototype;return g.componentWillUnmount=function(){this._copyModeTimeout.stop()},g.render=function(){var e,t=this,n=this.props,r=n.obscureGiftCode,a=n.giftCode,o=n.application,i=this.state.copyMode;switch(i){case s.default.Modes.SUCCESS:e=_.default.Messages.BILLING_GIFT_COPIED;break;case s.default.Modes.ERROR:e=_.default.Messages.FAILED;break;default:e=_.default.Messages.COPY}return E(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,E(c.default,{game:o,className:y.default.icon,size:c.default.Sizes.LARGE,skuId:this.iconSKUId}),E("div",{className:y.default.header},void 0,_.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_CONFIRMATION_TITLE),E("div",{className:y.default.blurb},void 0,this.headerBlurb),E("div",{className:y.default.divider}),E(d.default,{direction:d.default.Direction.VERTICAL},void 0,E(f.FormTitle,{},void 0,_.default.Messages.BILLING_GIFT_LINK),E(s.default,{hideMessage:r?_.default.Messages.GIFT_INVENTORY_HIDDEN:null,value:(0,h.getGiftCodeURL)(a),mode:i,text:e,onCopy:function(e){return t.handleGiftCodeCopy(e,a)},supportsCopy:p.SUPPORTS_COPY,className:y.default.copyInput,buttonColor:s.default.ButtonColors.BRAND,buttonLook:s.default.ButtonLooks.FILLED}),E("div",{className:y.default.subtext},void 0,_.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_SUBTEXT.format({onInventoryClick:this.handleInventoryClick}))))},a=r,(o=[{key:"iconSKUId",get:function(){var e=this.props,t=e.subscriptionPlan,n=e.sku;return null!=t?t.skuId:null!=n?n.id:null}},{key:"headerBlurb",get:function(){var e=this.props.subscriptionPlan,t=_.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_BLURB;null!=e&&(t=(e.interval===m.SubscriptionIntervalTypes.MONTH?_.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_MONTHLY:_.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_YEARLY).format({skuName:e.skuId===m.PremiumSubscriptionSKUs.TIER_1?_.default.Messages.PREMIUM_TIER_1:_.default.Messages.PREMIUM_TIER_2,intervalCount:e.intervalCount}));return t}}])&&S(a.prototype,o),u&&S(a,u),r}(a.Component);I.displayName="GiftPurchaseConfirmation";var O=o.default.connectStores([u.default],function(){return{obscureGiftCode:u.default.enabled}})(I);t.default=O},6144:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=n(429),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,d,c=i.PremiumPaymentSubscriptionModes.NEW,f=null,p=i.FormStates.CLOSED,h=null,v=null,m=null,_=null,y=!1,g=!1,E=null,S=null,T=null,I=null,O=null;function N(){p=i.FormStates.CLOSED,h=null,f=null,T=null,_=null,E=null,m=null,O=null,I=null}function C(){null==s||null==f&&null==T?null!=d&&d(null!=h?h.message:null):s(),s=null,d=null,N()}function A(e){var t=e.error;h=t,p!==i.FormStates.CLOSED&&(p=i.FormStates.OPEN)}function M(){h=null}var R=new(function(e){var t,n,r,a,o;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.isOpen=function(){var e=__OVERLAY__?i.AppContext.OVERLAY:i.AppContext.APP;return O===e&&p===i.FormStates.OPEN},r=l,(a=[{key:"subscriptionMode",get:function(){return c}},{key:"paymentError",get:function(){return h}},{key:"plan",get:function(){return v}},{key:"planId",get:function(){return m}},{key:"trialId",get:function(){return _}},{key:"formState",get:function(){return p}},{key:"isGift",get:function(){return y}},{key:"isGiftingFromChat",get:function(){return g}},{key:"skuId",get:function(){return S}},{key:"giftCode",get:function(){return T}},{key:"followupSKUInfo",get:function(){return E}},{key:"analyticsLocation",get:function(){return I}}])&&u(r.prototype,a),o&&u(r,o),l}(r.default.Store))(a.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.skuId,r=e.plan,a=e.trialId,o=e.isGift,l=e.isGiftingFromChat,u=e.analyticsLocation,f=e.context,h=e.resolve,T=e.reject,C=e.followupSKUInfo;null!=d&&d(),N(),p=i.FormStates.OPEN,c=t,S=null!=n?n:i.SubscriptionPlanInfo[r].skuId,m=null!=(v=r)?i.SubscriptionPlanInfo[v].id:null,_=a,y=o,g=l,I=u,O=f,E=C,s=h,d=T},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return C()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:A,PREMIUM_PAYMENT_UPDATE_FAIL:A,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){M(),f=e.subscription},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return M()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return M()},PREMIUM_PAYMENT_UPDATE_IS_GIFT:function(e){y=e.isGift},PREMIUM_PAYMENT_SELECT_PLAN:function(e){m=e.subscriptionPlanId,v=Object.keys(i.SubscriptionPlanInfo).find(function(e){return i.SubscriptionPlanInfo[e].id===m})},STRIPE_TOKEN_FAILURE:function(e){return function(){if(p===i.FormStates.CLOSED)return!1;p=i.FormStates.OPEN}()},BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:function(e){c!==i.PremiumPaymentSubscriptionModes.NEW&&C()},BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;h=new o.BillingError(t,n)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){e.skuId===S&&null==m&&(m=e.subscriptionPlans[0].id)},SKU_PURCHASE_SUCCESS:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(T=e.giftCode)},SKU_PURCHASE_FAIL:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(h=e.error)}});t.default=R},6145:function(e,t,n){"use strict";t.__esModule=!0,t.ShakeScenes=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=c(n(17)),u=c(n(304)),s=c(n(6538)),d=c(n(5354));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),v=Object.freeze(((r={})[h.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},r[h.SPEED_START]={BEG:601,END:636},r[h.SPEED_LOOP]={BEG:637,END:668},r[h.FINISH]={BEG:669,END:870},r[h.IDLE]={BEG:871,END:878},r)),m=function(e){function t(){return e.apply(this,arguments)||this}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}};var r=t.prototype;return r.importData=function(){return n.e(275).then(n.t.bind(null,7014,7)).then(function(e){return e.default})},r.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onScenePlay,a=e.onSceneComplete;return f(s.default,{className:t,importData:this.importData,scene:n,sceneSegments:v,onScenePlay:r,onSceneComplete:a})},t}(i.PureComponent);t.PremiumPaymentAnimationTier1=m,m.displayName="PremiumPaymentAnimationTier1",m.Scenes=h;var _=Object.freeze({IDLE_ENTRY:"idle_entry",IDLE_LOOP:"idle_loop",BOOST_START:"boost_start",BOOST_LOOP:"boost_loop",BOOST_END:"boost_end",VICTORY:"victory",ERROR:"error"}),y=Object.freeze(((a={})[_.IDLE_ENTRY]={BEG:0,END:50},a[_.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},a[_.BOOST_START]={BEG:230,END:275},a[_.BOOST_LOOP]={BEG:275,END:290},a[_.BOOST_END]={BEG:386,END:455},a[_.VICTORY]={BEG:470,END:525},a[_.ERROR]={BEG:290,END:375},a)),g=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}},n.render=function(){var e=this.props.className;return f("div",{className:d.default.panningAnimation},void 0,f(u.default.div,{className:e,style:this.getStyle(!1)}),f(u.default.div,{className:e,style:this.getStyle(!0)}))},t}(i.PureComponent);g.displayName="PanningAnimation";var E=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:u.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),S=1.2,T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).backgroundAnimation=new u.default.ValueXY({x:0,y:0}),t.foregroundAnimation=new u.default.ValueXY({x:0,y:0}),t.didUnmount=!1,t.animateIdleLoopBackground=function(){t.didUnmount||(t.backgroundAnimation.x.setValue(0),u.default.timing(t.backgroundAnimation.x,{toValue:E.IDLE_LOOP.toValue,duration:E.IDLE_LOOP.duration*S,easing:u.default.Easing.linear}).start(t.animateIdleLoopBackground))},t.animateIdleLoopForeground=function(){t.didUnmount||(t.foregroundAnimation.x.setValue(0),u.default.timing(t.foregroundAnimation.x,{toValue:E.IDLE_LOOP.toValue,duration:E.IDLE_LOOP.duration,easing:E.IDLE_LOOP.easing}).start(t.animateIdleLoopForeground))},t.handleScenePlay=function(e){switch(e){case _.IDLE_ENTRY:t.animateIdleEntry(),t.animateIdleLoop();break;case _.ERROR:t.animateError();break;case _.BOOST_START:t.animateBoostStart()}var n=t.props.onScenePlay;null!=n&&n(e)},t}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}};var r=t.prototype;return r.componentWillUnmount=function(){this.didUnmount=!0},r.importData=function(){return n.e(276).then(n.t.bind(null,7015,7)).then(function(e){return e.default})},r.animateEntry=function(e){u.default.parallel([u.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),u.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*S,delay:e.delay||0})]).start()},r.animateIdleEntry=function(){this.animateEntry(E.IDLE_ENTRY)},r.animateError=function(){this.animateEntry(E.ERROR)},r.animateIdleLoop=function(){this.animateIdleLoopBackground(),this.animateIdleLoopForeground()},r.animateBoostStart=function(){u.default.parallel([u.default.timing(this.foregroundAnimation.y,{toValue:E.BOOST_START.toValue,duration:E.BOOST_START.duration,delay:E.BOOST_START.delay}),u.default.timing(this.backgroundAnimation.y,{toValue:E.BOOST_START.toValue,duration:E.BOOST_START.duration*S,delay:E.BOOST_START.delay})]).start()},r.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onSceneComplete;return f("div",{className:(0,l.default)(d.default.tier2Animation,t)},void 0,f(g,{className:d.default.tier2Background,animation:this.backgroundAnimation}),f(g,{className:d.default.tier2Foreground,animation:this.foregroundAnimation}),f(s.default,{importData:this.importData,scene:n,sceneSegments:y,onScenePlay:this.handleScenePlay,onSceneComplete:r}))},t}(i.PureComponent);t.PremiumPaymentAnimationTier2=T,T.displayName="PremiumPaymentAnimationTier2",T.Scenes=_;var I=new Set([m.Scenes.SPEED_LOOP,m.Scenes.SPEED_START,T.Scenes.BOOST_LOOP,T.Scenes.BOOST_START]);t.ShakeScenes=I},6146:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(6))&&r.__esModule?r:{default:r};var i=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.shouldRenderFrame=!0,t.animate=function(){var e=t.props,n=e.intensity;if(e.isShaking){var r=t.ref.current;if(t.shouldRenderFrame&&null!=r){var a=o.default.random(-n,n,!0),i=o.default.random(-n,n,!0);r.style.transform="translate3d("+a+"px,"+i+"px,0px)"}t.shouldRenderFrame=!t.shouldRenderFrame,t.animationFrame=requestAnimationFrame(t.animate)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.props.isShaking&&this.startShaking()},i.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},i.setShaking=function(e){e?this.startShaking():this.stopShaking()},i.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},i.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},i.render=function(){var e=this.props,t=e.className,n=e.children;return a.createElement("div",{className:t,ref:this.ref},n)},r}(a.Component);i.displayName="Shaker",i.defaultProps={isShaking:!0,intensity:5};var l=i;t.default=l},6147:function(e,t,n){"use strict";t.__esModule=!0,t.default=c;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(112)),o=s(n(6539)),i=n(0),l=s(n(10)),u=s(n(5356));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.premiumType,n=e.theme,r=e.followupSKU,s=e.onClose,c=e.onViewGames,f=e.isUpgrade,p=void 0!==f&&f,h=e.isForGuildSubscription,v=void 0!==h&&h,m=null!=r||t!==i.PremiumTypes.TIER_2||v?s:c;return d("div",{className:u.default.container},void 0,d(o.default,{className:u.default.upgradedBanner,theme:n,premiumType:t,type:p?o.default.Types.UPGRADE:o.default.Types.ACTIVATED}),d("div",{className:u.default.message},void 0,function(e,t,n,r){return null!=r?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_IAP.format({skuName:r.name}):t?e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_1:n?l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2_GUILD_SUBSCRIBE:l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2:e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_WITH_APPLICATIONS}(t,p,v,r)),d(a.default,{onClick:m},void 0,function(e,t,n,r){return null!=r?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_IAP.format({skuName:r.name}):t?e===i.PremiumTypes.TIER_1||n?l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_1:l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_2:e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_WITH_APPLICATIONS}(t,p,v,r)))}c.displayName="PremiumPaymentConfirmation"},6148:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(158)),i=p(n(302)),l=p(n(188)),u=p(n(190)),s=n(815),d=n(0),c=p(n(10)),f=p(n(5357));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t,n,r=e.hideCloseOnFullScreen,p=e.shouldShowPrice,v=e.plan,m=e.renderAnimation,_=e.onClose,y=e.isGift,g=e.upgradeToPremiumType,E=g===d.PremiumTypes.TIER_1;return h("div",{className:(0,a.default)((t={},t[f.default.tier1HeaderBackground]=g===d.PremiumTypes.TIER_1,t[f.default.tier2HeaderBackground]=g!==d.PremiumTypes.TIER_1,t))},void 0,m(),h(o.default,{align:o.default.Align.START,justify:o.default.Justify.BETWEEN,className:f.default.headerTop},void 0,h(i.default,{name:E?i.default.Names.NITRO_CLASSIC:i.default.Names.NITRO,className:(0,a.default)(f.default.headerIcon,(n={},n[f.default.tier1]=E,n))}),h(l.default.CloseButton,{hideOnFullscreen:r,onClick:_})),p&&null!=v?h("div",{className:f.default.price},void 0,function(e,t){var n=u.default.getPrice(e),r=u.default.getInterval(e),a=(0,s.formatPrice)(n.amount,n.currency);if(t)return a;switch(r){case d.SubscriptionIntervalTypes.MONTH:return c.default.Messages.BILLING_PRICE_PER_MONTH.format({price:a});case d.SubscriptionIntervalTypes.YEAR:return c.default.Messages.BILLING_PRICE_PER_YEAR.format({price:a})}}(v,y)):null)}v.displayName="PremiumPaymentHeader";var m=v;t.default=m},6150:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ColorSchemes=t.renderKeybindHint=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(163)),l=v(n(5849)),u=v(n(112)),s=v(n(231)),d=v(n(302)),c=v(n(8068)),f=v(n(10)),p=v(n(5235)),h=v(n(5817));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){return e.stopPropagation()},y=function(){return m("div",{className:h.default.clickBlocker,onClick:_,onMouseEnter:_,onMouseOver:_})};y.displayName="MouseEventBlocker";var g=function(){return m("div",{className:h.default.divider})};g.displayName="Divider";var E=function(e,t,n){return m("div",{className:h.default.keybindMessage},void 0,n.format({keybind:t,keybindHook:function(e,n){return m(c.default,{keybind:t,className:h.default.keybind},n)}}))};t.renderKeybindHint=E,E.displayName="renderKeybindHint";var S=(0,i.default)({PRIMARY:null,BRAND:null,DANGER:null});t.ColorSchemes=S;var T=m(g,{}),I=m(g,{}),O=m(g,{}),N=m(g,{}),C=m(y,{}),A=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleDismiss=function(e){e.stopPropagation();var t=n.props.onDismissClick;t&&t(e)},n.handleConfirmClick=function(e){e.stopPropagation();var t=n.props.onConfirmClick;t&&t(e)},n.handleCancelClick=function(e){e.stopPropagation();var t=n.props.onCancelClick;t&&t(e)},n.handleMouseEnter=function(){n.props.disabled||n.setState({expanded:!0})};var r=t.expand;return n.state={expanded:r},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.expand;return!t.expanded&&n?{expanded:!0}:null};var i=r.prototype;return i.componentDidMount=function(){var e=this.props.onNotificationShow;e&&e()},i.componentDidUpdate=function(e){var t=this.props.onNotificationShow;t&&null==e.onNotificationShow&&t()},i.renderCloseButton=function(){return m(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:this.handleDismiss,className:h.default.dismissButton,"aria-label":f.default.Messages.NOTIFICATION_DISMISS},void 0,m(d.default,{name:d.default.Names.CLOSE,width:16,height:16,className:h.default.dismissIcon}))},i.renderHint=function(){var e=this.props,t=e.hint,n=e.colorScheme,r=this.state.expanded;if(null==t)return null;if("function"==typeof t){var o=t(r,n);return null!=o?m(a.Fragment,{},"hint-custom",T,o):null}return m(a.Fragment,{},"hint-text",I,m("div",{className:"string"==typeof t?h.default.hintText:null},"hint-text",t))},i.renderFooter=function(){var e=this.props,t=e.renderFooter,n=e.cancelText,r=e.confirmText,o=e.onConfirmClick,i=e.onCancelClick,l=e.hint,s=e.colorScheme,d=this.state.expanded;if(!d)return null!=l?this.renderHint():null;if(t){var c=t(d,s);return null!=c?m(a.Fragment,{},"footer-custom-content",O,c):null}if(null!=o||null!=i){var p=u.default.Colors.GREEN,v=u.default.Colors.GREY,_=u.default.Looks.FILLED;switch(s){case S.DANGER:case S.BRAND:p=v=u.default.Colors.WHITE,_=u.default.Looks.OUTLINED}return m(a.Fragment,{},"footer-button-content",N,m("div",{className:h.default.buttonContainer},void 0,null!=o?m(u.default,{fullWidth:!0,size:u.default.Sizes.SMALL,color:p,onClick:this.handleConfirmClick,className:h.default.button,innerClassName:h.default.innerText},void 0,r||f.default.Messages.OKAY):null,null!=i?m(u.default,{fullWidth:!0,size:u.default.Sizes.SMALL,look:_,color:v,onClick:this.handleCancelClick,className:h.default.button},void 0,n||f.default.Messages.CANCEL):null))}return this.renderHint()},i.renderIcon=function(){var e=this.props.icon;return null==e?null:"string"==typeof e?m(l.default,{src:e,className:h.default.avatar}):m("div",{className:h.default.avatar},void 0,e)},i.renderContent=function(){var e=this.props,t=e.body,n=e.title,r=e.maxBodyLines;return m("div",{className:h.default.content},void 0,this.renderIcon(),m("div",{className:h.default.details},void 0,m("div",{className:h.default.title},void 0,n),null!=t?m("div",{className:(0,o.default)(h.default.body,p.default.marginTop4),style:{WebkitLineClamp:r,lineClamp:r}},void 0,t):null))},i.render=function(){var e,t=this.props,n=t.onNotificationClick,r=t.colorScheme,a=t.disabled,i=this.state.expanded;return m(null!=n?s.default:"div",{onMouseOver:i?null:this.handleMouseEnter,onFocus:i?null:this.handleMouseEnter,onClick:n,className:(0,o.default)(h.default.container,(e={},e[h.default.themePrimary]=r===S.PRIMARY,e[h.default.themeBrand]=r===S.BRAND,e[h.default.themeDanger]=r===S.DANGER,e[h.default.clickable]=null!=n&&!a,e))},void 0,this.renderCloseButton(),this.renderContent(),this.renderFooter(),a?C:null)},r}(a.PureComponent);A.displayName="Notification",A.ColorSchemes=S,A.defaultProps={maxBodyLines:null,colorScheme:S.PRIMARY,expand:!1,disabled:!1};var M=A;t.default=M},6157:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=null;var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getCurrentPath=function(){return null!=l?l.pathname:null},a.getCurrentRoute=function(){return t=null!=(e=l)&&null!=e.search?e.search:"",null!=e?""+e.pathname+t:null;var e,t},a.reset=function(){throw new Error("Should not reset the store this way outside of a test environment")},r}(r.default.Store))(a.default,{APPLICATION_STORE_LOCATION_CHANGE:function(e){var t=e.location;l=i({},t)},APPLICATION_STORE_RESET_NAVIGATION:function(e){l=null}});t.default=u},6158:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(5933),a=i(n(11)),o=i(n(821));function i(e){return e&&e.__esModule?e:{default:e}}var l={binds:["mod+k","mod+t"],global:!0,action:function(){return!a.default.isGuest()&&(o.default.hasLayers()||(0,r.show)(),!1)}};t.QUICKSWITCHER_SHOW=l},6159:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(24)),o=c(n(1)),i=c(n(900)),l=c(n(20)),u=c(n(23)),s=c(n(50)),d=c(n(160));n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=new i.default(function(){return 100},function(e){var t=0;return 0===e?t=100:e>=1&&e<2?t=70:e>=2&&e<4?t=50:e>=4&&e<7?t=30:e>=7&&(t=10),t},function(e){return u.default.getGuild(e)||l.default.getChannel(e)||l.default.getChannel(l.default.getDMFromUserId(e))},function(e){__OVERLAY__||a.default.set("selectedChannelGuildFrecency",e)},100,10),p=null,h=null;function v(e){var t=e.guildId,n=e.channelId;return n!==p&&(p=n,f.track(n)),null!=t&&t!==h&&(h=t,f.track(t)),!1}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){this.waitFor(d.default,s.default);var e=a.default.get("selectedChannelGuildFrecency");e&&f.overwriteHistory(e)},o.getFrequently=function(){return f.frequently},o.getScore=function(e){return f.getFrecency(e)||0},o.getScoreForDM=function(e){return this.getScore(l.default.getDMFromUserId(e))},o.getMaxScore=function(){return 1e3},o.getBonusScore=function(){return 100},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){return f.markDirty(),!1},VOICE_CHANNEL_SELECT:v,CHANNEL_SELECT:v});t.default=m},6160:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={toggleSection:function(e){a.default.dispatch({type:o.ActionTypes.CHANNEL_TOGGLE_SECTION,section:e})}};t.default=i},6161:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ZOOM_RESET=t.ZOOM_OUT=t.ZOOM_IN=void 0;var r,a=n(871),o=(r=n(831))&&r.__esModule?r:{default:r},i=n(0);function l(e){return i.Accessibility.ZOOM_SCALES[Math.max(0,Math.min(i.Accessibility.ZOOM_SCALES.indexOf(o.default.zoom)+e,i.Accessibility.ZOOM_SCALES.length-1))]}var u={binds:["mod+plus"],global:!0,action:function(){return(0,a.zoomTo)(l(1)),!1}};t.ZOOM_IN=u;var s={binds:["mod+minus"],global:!0,action:function(){return(0,a.zoomTo)(l(-1)),!1}};t.ZOOM_OUT=s;var d={binds:["mod+0"],global:!0,action:function(){return(0,a.zoomTo)(i.Accessibility.ZOOM_DEFAULT),!1}};t.ZOOM_RESET=d;var c={ZOOM_IN:u,ZOOM_OUT:s,ZOOM_RESET:d};t.default=c},6163:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(6705)),i=u(n(445)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d={},c={},f=!0,p={},h=!1;function v(){return o.default}function m(){if(p={},!f){var e=v();Object.keys(e).map(function(t){var n=e[t],r=!1!==d[t];if(r&&null!=n.prerequisites){var a=n.prerequisites,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}if(!(!1===d[l]))return void(p[t]=!1)}}p[t]=r})}}function _(e){delete(c=s({},c))[e.tutorialId]}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){m(),this.mustEmitChanges(function(e){return e.type!==l.ActionTypes.CONNECTION_OPEN}),this.waitFor(i.default)},a.shouldShow=function(e){return!(!h||f)&&(p[e]||!1)},a.shouldShowAnyIndicators=function(){return!f},a.getIndicators=function(){return c},a.getData=function(){return v()},a.getDefinition=function(e){var t=this.getData();return null!=t?t[e]:null},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.tutorial;h=!0,f=!0,d={},null!=t&&(f=t.indicators_suppressed,t.indicators_confirmed.forEach(function(e){return d[e]=!1})),m()},CONNECTION_CLOSED:function(e){h=!1},TUTORIAL_INDICATOR_DISMISS:function(e){var t;d=s({},d,((t={})[e.tutorialId]=!1,t)),_(e),m()},TUTORIAL_INDICATOR_SHOW:function(e){var t;c=s({},c,((t={})[e.tutorialId]=e.renderData,t))},TUTORIAL_INDICATOR_HIDE:_,TUTORIAL_INDICATOR_SUPPRESS_ALL:function(e){f=!0}});t.default=y},6164:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(5894)),i=n(113),l=d(n(5855)),u=c(n(5915)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=1.4,v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._unmounted=!1,n._intensity=h,n._subscribedStores=[],p(n).handleSetSection=n.handleSetSection.bind(p(n)),p(n).handleNoticeStoreUpdate=n.handleNoticeStoreUpdate.bind(p(n)),p(n).handleClose=n.handleClose.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this.getPredicateSections().forEach(function(t){var n=t.notice;if(null!=n){var r=n.store;r&&(r.addChangeListener(e.handleNoticeStoreUpdate),e._subscribedStores.push(r))}})},a.componentDidUpdate=function(e){e.section!==this.props.section&&(this._intensity=h)},a.componentWillUnmount=function(){var e=this;this._unmounted=!0,this._subscribedStores.forEach(function(t){return t.removeChangeListener(e.handleNoticeStoreUpdate)})},a.handleNoticeStoreUpdate=function(){this._unmounted||(this._intensity=h,this.forceUpdate())},a.getPredicateSections=function(){return this.props.sections.filter(function(e){return null==e.predicate||e.predicate()})},a.validNavigation=function(){var e=this.props.section,t=(this.getPredicateSections().find(function(t){return e===t.section})||{}).notice;return t&&t.store.showNotice()?(i.ComponentDispatch.dispatch(s.ComponentActions.SHAKE_APP,{duration:300,intensity:this._intensity}),this._intensity=Math.min(this._intensity+2,15),i.ComponentDispatch.dispatch(s.ComponentActions.EMPHASIZE_NOTICE),!1):(this._intensity=h,!0)},a.handleSetSection=function(e){var t=this.props.onSetSection;this.validNavigation()&&t(e)},a.handleClose=function(){if(this.validNavigation()){var e=this.props.onClose;e&&e()}},a.renderSidebar=function(e){var t=this.props.section||e[0].section;return f(o.default,{selectedItem:t,onItemSelect:this.handleSetSection},void 0,e.map(function(e,t){var n=e.section,r=e.element,a=e.label,i=void 0===a?null:a,l=e.ariaLabel,d=e.onClick,c=e.color,p=e.className;switch(n){case u.SectionTypes.HEADER:return f(o.default.Header,{},t,i);case u.SectionTypes.DIVIDER:return f(o.default.Separator,{},t);case u.SectionTypes.CUSTOM:return f(r||s.NOOP_NULL,{},t);default:return f(o.default.Item,{color:c,id:n,onClick:d,className:p,"aria-label":l},n,i)}}))},a.renderContent=function(e){var t=e&&e.element?e.element:s.NOOP_NULL;return f(l.default,{section:e.section},void 0,f(t,{}))},a.renderNotice=function(e){var t=this.props.theme;if(null==e||null==e.notice)return null;var n=e.notice,r=n.store,a=n.element;return null==r||r.showNotice()?f(a,{theme:t}):null},a.render=function(){var e=this.props,t=e.theme,n=e.section,r=this.getPredicateSections(),a=r.find(function(e){return e.section===n});return null==a?null:f(u.default,{theme:t,section:n,sidebar:this.renderSidebar(r),content:this.renderContent(a),contentType:a.type,notice:this.renderNotice(a),closeAction:this.handleClose})},r}(a.PureComponent);v.displayName="SettingsView";var m=v;t.default=m},6165:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=u(n(3)),o=u(n(6360)),i=u(n(6714)),l=u(n(6715));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,n;function a(t){var n;return d(n=e.call(this,t)||this).handleAddPhone=n.handleAddPhone.bind(d(n)),d(n).handleVerifyPhone=n.handleVerifyPhone.bind(d(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.render=function(){var e=this.props,t=e.error,n=e.working,a=e.valid,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["error","working","valid"]);return r.createElement(l.default,s({},o,{error:t,working:n,validPhone:a,onAddPhone:this.handleAddPhone,onVerifyPhone:this.handleVerifyPhone}))},i.handleAddPhone=function(e){o.default.addPhone(e)},i.handleVerifyPhone=function(e){var t=this;o.default.verifyPhone(e).then(function(){var e=t.props.onAddedPhone;null!=e&&e()})},a}(r.PureComponent);c.displayName="PhoneVerificationModal";var f=a.default.connectStores([i.default],function(){return i.default.getProps()})(c);t.default=f},6166:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(3)),o=h(n(1)),i=h(n(317)),l=h(n(20)),u=h(n(74)),s=h(n(23)),d=h(n(236)),c=h(n(87)),f=h(n(42)),p=h(n(14));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v={};function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var a=l.default.getChannel(e),o=null!=a?a.getGuildId():null;return{id:e,messages:t.map(function(e){return i.default.create(e)}),guildId:o,loaded:n,loading:r}}function _(){r.default.forEach(v,function(e){r.default.forEach(e.messages,function(e){e.timestamp.locale(f.default.locale)})})}function y(){r.default.forEach(v,function(e){e.messages=e.messages.map(function(e){return e.set("blocked",c.default.isBlocked(e.author.id))})})}var g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,s.default,u.default,d.default,p.default,f.default)},a.getPinnedMessages=function(e){return v[e]&&v[e]||null},a.loaded=function(e){return null!=v[e]&&v[e].loaded},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){v={}},GUILD_DELETE:function(e){var t=e.guild;v=(0,r.default)(v).filter(function(e){return e.guildId!==t.id}).keyBy("id").value()},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id,a=v[n];if(null!=e.message.author)if(e.message.pinned){if(!a)return a=m(n,[e.message],!1),void(v[n]=a);a.messages=a.messages.slice();var o=r.default.findIndex(a.messages,function(e){return e.id===t});-1===o?a.messages.unshift(i.default.create(e.message)):a.messages[o]=a.messages[o].updateMessage(e.message),v[n]=a}else{if(!a)return;var l=r.default.findIndex(a.messages,function(e){return e.id===t});if(-1===l)return;a.messages=a.messages.slice(),a.messages.splice(l,1),v[n]=a}else if(a){var u=r.default.findIndex(a.messages,function(e){return e.id===t});if(u>=0){var s=a.messages[u],d=s.updateMessage(e.message);if(d!==s){var c=a.messages.slice();c[u]=d,v[n].messages=c}}}},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,a=v[n];a&&0!==r.default.remove(a.messages,function(e){return e.id===t}).length&&(a.messages=a.messages.slice(),v[n]=a)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,r=v[n];r&&(r.messages=r.messages.filter(function(e){return-1===t.indexOf(e.id)}))},LOAD_PINNED_MESSAGES:function(e){var t=e.channelId;v[t]=m(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;v[t]=m(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){var t=e.channelId;delete v[t]},USER_SETTINGS_UPDATE:function(e){return _()},I18N_LOAD_SUCCESS:function(e){return _()},CHANNEL_DELETE:function(e){var t=e.channel;delete v[t.id]},RELATIONSHIP_ADD:function(e){return y()},RELATIONSHIP_REMOVE:function(e){return y()}});t.default=g},6167:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(314)),i=l(n(236));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,d=Object.freeze({editingChannelId:null,editingMessageId:null,editingContent:null});function c(){if(null==s)return!1;s=null}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getState=function(){return s||d},a.isEditing=function(e,t){var n=this.getState();return e===n.editingChannelId&&t===n.editingMessageId},a.getEditingContent=function(){return this.getState().editingContent},a.getEditingMessageId=function(){return this.getState().editingMessageId},a.getEditingMessage=function(){var e=this.getState();return null!=e.editingChannelId&&null!=e.editingMessageId?i.default.getMessage(e.editingChannelId,e.editingMessageId):null},r}(r.default.Store))(a.default,{MESSAGE_START_EDIT:function(e){var t=e.channelId,n=e.messageId,r=e.content;s={editingChannelId:t,editingMessageId:n,editingContent:o.default.unparse(r,t)}},MESSAGE_UPDATE_EDIT:function(e){var t=e.content;if(null==s)return!1;s=u({},s,{editingContent:t})},MESSAGE_END_EDIT:function(e){return c()},CHANNEL_SELECT:function(e){return c()}});t.default=f},6168:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=R(n(17)),i=R(n(3)),l=R(n(5990)),u=R(n(73)),s=R(n(802)),d=R(n(5952)),c=R(n(6e3)),f=R(n(20)),p=R(n(5969)),h=R(n(812)),v=R(n(5989)),m=b(n(6378)),_=R(n(112)),y=R(n(5863)),g=R(n(128)),E=R(n(426)),S=n(5930),T=n(113),I=R(n(314)),O=R(n(5923)),N=n(0),C=R(n(10)),A=R(n(5235)),M=R(n(5248));function R(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,l,"next",e)}function l(e){P(o,r,a,i,l,"throw",e)}i(void 0)})}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var U="popout-channel-text-area-shouting",G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={imageDataURI:null,imageLoaded:!1},t.tryAbort=function(){null!=t.reader&&1===t.reader.readyState&&t.reader.abort()},t.loadImagePreview=function(e){t.tryAbort(),t.reader=new FileReader,t.reader.onload=function(e){return t.setState({imageDataURI:e.target.result,imageLoaded:!0})},t.reader.readAsDataURL(e)},t}w(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.file;null!=e&&this.loadImagePreview(e)},n.componentDidUpdate=function(){var e=this.props.file;null!=e&&this.loadImagePreview(e)},n.componentWillUnmount=function(){this.tryAbort()},n.render=function(){var e,t=this.state,n=t.imageLoaded,r=t.imageDataURI;if(null!=n&&null!=r){var a={backgroundImage:"url('"+r+"')"};return D("div",{className:(0,o.default)(M.default.icon,M.default.image),style:a})}return D("div",{className:(0,o.default)(M.default.icon,(e={},e[M.default.image]=!0,e))})},t}(a.PureComponent);G.displayName="ImageFilePreview";var k=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.render=function(){return this.props.upload.isImage?D(G,{file:this.props.upload.file}):D("div",{className:(0,o.default)(M.default.icon,(e={},e[M.default[this.props.upload.classification]]=!0,e))});var e},t}(a.Component);k.displayName="UploadIcon";var F=function(e){function t(t){var n;(n=e.call(this,t)||this)._transitionTimeout=null,n._channelTextAreaRef=a.createRef(),n.cancelAll=function(){c.default.clearAll(),n.props.onClose()},n.cancel=function(){n.showNextFile()},n.confirm=L(regeneratorRuntime.mark(function e(){var t,r,a,o,i,l,u,d,c,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.cooldown,a=t.upload,o=t.channel,i=n.state,l=i.transitioning,u=i.textValue,d=i.hasSpoiler,!l&&null!=a){e.next=4;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!1});case 4:if(!(r>0)){e.next=6;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 6:if(!h.default.isOpen(U)){e.next=10;break}return s.default.close(U),n.submitUpload(!0,u,a,o,d),e.abrupt("return",{shouldClear:!0,shouldRefocus:!0});case 10:return c=null!=n._channelTextAreaRef.current?n._channelTextAreaRef.current:null,e.next=13,(0,S.applyChatRestrictions)(c,u,o);case 13:return f=e.sent,p=f.valid,n.submitUpload(p,u,a,o,d),e.abrupt("return",{shouldClear:!1,shouldRefocus:!1});case 17:case"end":return e.stop()}},e)})),n.handleTextChange=function(e,t){n.setState({textValue:t})},n.handleSubmit=function(){return n.confirm()};var r=null!=t.upload?t.upload.channelId:null;return n.state={transitioning:!1,textValue:null!=r?p.default.getDraft(r):"",textFocused:!0,hasSpoiler:!1},n}w(t,e);var n=t.prototype;return n.componentDidMount=function(){T.ComponentDispatch.subscribe(N.ComponentActions.MODAL_SUBMIT,this.confirm),T.ComponentDispatch.subscribe(N.ComponentActions.MODAL_CLOSE,this.cancel)},n.componentWillUnmount=function(){T.ComponentDispatch.unsubscribe(N.ComponentActions.MODAL_SUBMIT,this.confirm),T.ComponentDispatch.unsubscribe(N.ComponentActions.MODAL_CLOSE,this.cancel),clearTimeout(this._transitionTimeout)},n.shouldComponentUpdate=function(e){return null!=e.upload},n.submitUpload=function(e,t,n,r,a){if(e&&null!=r){var o=I.default.parse(r,t);l.default.saveDraft(r.id,""),this.setState({textFocused:!0,textValue:""}),setTimeout(function(){return d.default.upload(r.id,n.file,o,a)},125),this.showNextFile()}},n.showNextFile=function(){var e=this;this.state.transitioning||(this.props.hasAdditionalUploads?(this.setState({transitioning:!0}),setTimeout(function(){return c.default.popFirstFile()},100),this._transitionTimeout=setTimeout(function(){return e.setState({transitioning:!1})},200)):(c.default.popFirstFile(),this.props.onClose()))},n.renderFooter=function(){var e=this,t=this.props,n=t.cooldown,r=t.hasAdditionalUploads,i=this.state.hasSpoiler,l=n>0,u=null,s=l?C.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((n+1e3)/1e3)}):null;r&&(u=D(_.default,{type:"button",look:_.default.Looks.LINK,color:_.default.Colors.WHITE,onClick:this.cancelAll,className:M.default.cancelAllButton},void 0,D("span",{},void 0,C.default.Messages.UPLOAD_AREA_CANCEL_ALL)));var d=D(a.Fragment,{},void 0,D(y.default,{value:i,onChange:function(t,n){return e.setState({hasSpoiler:n})},checkboxColor:N.Colors.WHITE},void 0,D(g.default,{color:g.default.Colors.WHITE},void 0,C.default.Messages.SPOILER_MARK_SELECTED)),D("div",{className:M.default.hasSpoilers},void 0,u,D(_.default,{type:"button",look:_.default.Looks.LINK,color:_.default.Colors.WHITE,onClick:this.cancel},void 0,D("span",{},void 0,C.default.Messages.CANCEL)),D(E.default,{text:s},void 0,D("div",{},void 0,D(_.default,{disabled:l,color:_.default.Colors.BRAND,look:_.default.Looks.INVERTED,type:"submit",onClick:this.confirm},void 0,D("span",{},void 0,C.default.Messages.UPLOAD))))));return D("div",{className:(0,o.default)(M.default.footer,M.default.hasSpoilers)},void 0,d)},n.render=function(){var e,t=this.props,n=t.upload,r=t.channel,i=this.state,l=i.transitioning,u=i.textValue,s=i.textFocused;return null==n||null==r?null:D("div",{className:(0,o.default)(M.default.uploadModal,"theme-brand",(e={},e[M.default.transitioning]=l,e))},void 0,D("div",{className:M.default.inner},void 0,D("div",{className:M.default.file},void 0,D(k,{upload:n}),D("div",{className:M.default.description},void 0,D("div",{className:M.default.filename},void 0,n.filename))),D("div",{className:M.default.comment},void 0,D("div",{className:M.default.label},void 0,D("span",{},void 0,C.default.Messages.UPLOAD_AREA_LEAVE_A_COMMENT),D("span",{className:M.default.optional},void 0,"(",C.default.Messages.UPLOAD_AREA_OPTIONAL,")")),a.createElement(O.default,{ref:this._channelTextAreaRef,className:(0,o.default)(M.default.channelTextAreaUpload,A.default.marginTop8),value:u,focused:s,channel:r,onChange:this.handleTextChange,onSubmit:this.handleSubmit,type:N.TextareaTypes.FORM}))),this.renderFooter())},t}(a.Component);F.displayName="Upload";var j=i.default.connectStores([m.default,f.default,v.default],function(){var e=m.default.getFirstUpload(),t=null!=e?e.channelId:null,n=null!=t?v.default.getSlowmodeCooldownGuess(t):0;return{upload:e,file:null!=e?e.file:null,hasAdditionalUploads:m.default.hasAdditionalUploads(),channel:null!=t?f.default.getChannel(t):null,cooldown:n}})(F),B=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.close=function(){u.default.pop()},n.render=function(){return D(j,{onClose:this.close})},t}(a.Component);t.default=B,B.displayName="UploadModal",B.modalConfig={closable:!1}},6169:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(304)),l=u(n(5301));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f={friction:14,tension:200},p={DURATION:"DURATION",VOLUME:"VOLUME"};function h(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animatedProgress:new i.default.Value(0),dragging:!1,offsetLeft:0,offsetWidth:0,previewWidth:new i.default.Value(0)},t.handlePreviewChange=function(){var e=c(t),n=e.bubble,r=e.state,a=r.dragging,o=r.previewWidth,i=e.props.value;a||null==n||(n.innerHTML=h(o._value*i))},t.handleAnimatedChange=function(){var e=c(t),n=e.bubble,r=e.state,a=r.dragging,o=r.animatedProgress,i=e.props.value;a&&null!=n&&(n.innerHTML=h(o._value*i))},t.handleMouseMove=function(e){var n=t.state,r=n.dragging,a=n.previewWidth;if(!r){var o=e.clientX,i=e.clientY;a.setValue(t.calculatePercentage(o,i))}},t.handleDragMove=function(e){var n=t.props,r=n.onDrag,a=n.type,o=e.clientX,i=e.clientY;r(t.calculatePercentage(o,i),a)},t.handleDragStart=function(e){var n=t.props,r=n.onDragStart,a=n.onDrag,o=n.type,i=n.currentWindow,l=e.clientX,u=e.clientY;if(e.preventDefault(),null!=t.wrapper){var s=t.wrapper.getBoundingClientRect(),d=s.left,c=s.width;t.setState({dragging:!0,offsetLeft:d,offsetWidth:c},function(){r(o),a(t.calculatePercentage(l,u),o),i.addEventListener("mouseup",t.handleDragEnd,!1),i.addEventListener("mousemove",t.handleDragMove,!1)})}},t.handleDragEnd=function(){var e=t.props,n=e.onDragEnd,r=e.currentWindow;n(),r.removeEventListener("mouseup",t.handleDragEnd,!1),r.removeEventListener("mousemove",t.handleDragMove,!1),t.setState({dragging:!1})},t.setBubbleRef=function(e){null==e?t.bubble=null:null!=e.componentRef?t.bubble=e.componentRef:null!=e.refs&&(t.bubble=e.refs.node)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidMount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.addListener(this.handlePreviewChange),n.addListener(this.handleAnimatedChange)},u.componentWillUnmount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.removeListener(this.handlePreviewChange),n.removeListener(this.handleAnimatedChange),window.removeEventListener("mouseup",this.handleDragEnd,!1),window.removeEventListener("mousemove",this.handleDragMove,!1)},u.componentDidUpdate=function(e,t){var n=this.state,r=n.dragging,a=n.previewWidth,o=n.animatedProgress;!r&&t.dragging&&a.setValue(o._value)},u.setGrabber=function(e,t){void 0===t&&(t=!0);var n=this.state.animatedProgress;t?i.default.spring(n,d({toValue:e},f)).start():n.setValue(e)},u.calculatePercentage=function(e,t){var n=this.wrapper,r=this.props.type;if(null==n)return 0;var a=n.getBoundingClientRect(),o=a.left,i=a.width,l=a.bottom,u=a.height,s=r===p.VOLUME?(l-t)/u:(e-o)/i;return Math.min(1,Math.max(0,s))},u.render=function(){var e=this,t=this.props,n=t.buffers,r=t.type,u=t.className,d=t.sliderClassName,c=this.state,f=c.dragging,h=c.previewWidth,v=c.animatedProgress,m=f?v:h;return s("div",{className:(0,o.default)(u,r===p.VOLUME?l.default.vertical:l.default.horizontal)},void 0,a.createElement("div",{className:(0,o.default)(d,f?l.default.mediaBarInteractionDragging:l.default.mediaBarInteraction,r===p.VOLUME?l.default.mediaBarInteractionVolume:null),onMouseDown:this.handleDragStart,onMouseMove:this.handleMouseMove,ref:function(t){return e.wrapper=t}},s("div",{className:(0,o.default)(l.default.mediaBarWrapper,r===p.VOLUME?l.default.mediaBarWrapperVolume:null)},void 0,null!=n?n.map(function(e,t){var n=e[0],r=e[1];return s("div",{className:l.default.buffer,style:{width:100*r+"%",left:100*n+"%"}},t)}):null,r===p.DURATION?s(i.default.div,{className:l.default.mediaBarPreview,style:{width:h.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null,s(i.default.div,{className:l.default.mediaBarProgress,style:{width:v.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}},void 0,s("span",{className:l.default.mediaBarGrabber})),r===p.DURATION?a.createElement(i.default.div,{ref:this.setBubbleRef,className:l.default.bubble,style:{left:m.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null)))},r}(a.Component);v.displayName="MediaBar",v.Types=p,v.defaultProps={currentWindow:window};var m=v;t.default=m},6170:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(5865)),l=u(n(5260));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).videoRef=a.createRef(),t.state={videoLoaded:!1},t.handleVideoLoaded=function(){t.setState({videoLoaded:!0})},t.handleVideoError=function(){t.setState({videoLoaded:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidMount=function(){this.setPlayState(this.props.play)},u.componentDidUpdate=function(e){var t=this.props.play;t!==e.play&&this.setPlayState(t)},u.setPlayState=function(e){var t=this.videoRef.current;null!=t&&(e?t.play():t.pause())},u.render=function(){var e,t=this.props,n=t.url,r=t.width,u=t.height,d=t.children,c=t.className,f=t.videoUrl,p=t.play,h=t.hideImage,v=t.autoPlay,m=t.shouldAnimate,_=this.state.videoLoaded;return s("div",{className:(0,o.default)(l.default.wrapper,c),style:{paddingBottom:u/r*100+"%"}},void 0,s(i.default,{src:n,width:r,height:u,maxWidth:464,maxHeight:464*u/r,className:(0,o.default)(l.default.image,h?l.default.hideImage:""),imageClassName:(0,o.default)(l.default.image,h?l.default.hideImage:""),alt:"",autoPlay:v,shouldAnimate:m}),null!=f?a.createElement("video",{muted:!0,preload:"none",loop:!0,src:f,ref:this.videoRef,className:(0,o.default)((e={},e[l.default.video]=!0,e[l.default.showVideo]=_&&p,e)),onLoadedMetadata:this.handleVideoLoaded,onError:this.handleVideoError}):null,null!=d?s("div",{className:l.default.content},void 0,d):null)},r}(a.Component);d.displayName="CardMedia",d.defaultProps={play:!1,hideImage:!1};var c=d;t.default=c},6173:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(59),l=f(n(112)),u=f(n(6056)),s=f(n(799)),d=n(5869),c=f(n(5385));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={mode:u.default.Modes.DEFAULT},n._timeout=new i.Timeout,v(n).handleCopy=n.handleCopy.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentWillUnmount=function(){this._timeout.stop()},f.render=function(){var e=this.props,t=e.isVertical,n=e.value,r=e.text,i=e.className,d=e.inputClassName,f=this.state.mode;return t?h("div",{className:(0,o.default)(i,f)},void 0,h(s.default,{value:n,inputClassName:d}),h(l.default,{className:c.default.button,onClick:this.handleCopy,size:l.default.Sizes.MIN,color:this.getVerticalButtonColor(f),look:l.default.Looks.FILLED},void 0,r)):a.createElement(u.default,p({},this.props,{onCopy:this.handleCopy,mode:f}))},f.handleCopy=function(){var e=this,t=this.props,n=t.onCopy,r=t.value,a=(0,d.copy)(r);this.setState({mode:a?u.default.Modes.SUCCESS:u.default.Modes.ERROR}),this._timeout.start(300,function(){return e.setState({mode:u.default.Modes.DEFAULT})}),n&&n()},f.getVerticalButtonColor=function(e){switch(e){case u.default.Modes.SUCCESS:return l.default.Colors.GREEN;case u.default.Modes.ERROR:return l.default.Colors.RED;default:return l.default.Colors.BRAND}},r}(a.PureComponent);m.displayName="CopyInput",m.defaultProps={isVertical:!1};var _=m;t.default=_},6174:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(881)),i=d(n(925)),l=c(n(6727)),u=d(n(8)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._mounted=!1,n.recordStart=function(){u.default.embedded&&(n.gs=new i.default,n.gs.on("change",n.handleGSChange)),n.setState({mode:l.RecordModes.RECORDING})},n.recordEnd=function(){n.cleanUp(),n.setState({mode:l.RecordModes.DEFAULT})},n.toggleRecordMode=function(){n.state.mode===l.RecordModes.DEFAULT?n.recordStart():n.recordEnd()},n.handleComboKeys=function(e,t,r){if(r.preventDefault(),"keydown"===r.type){var a=t.map(function(e){return[s.KeyboardDeviceTypes.KEYBOARD_KEY,(0,o.default)(e),s.KeyboardEnvs.BROWSER]}),i=r.keyCode;a.find(function(e){var t=e[1];return i===t})||a.push([s.KeyboardDeviceTypes.KEYBOARD_KEY,i,s.KeyboardEnvs.BROWSER]),n.handleComboChange(a)}},n.handleGSChange=function(e){if(!1!==n._mounted){var t=[].concat(e.combo);n.handleComboChange(t)}};var r=t.defaultValue;return n.state={codes:r,mode:l.RecordModes.DEFAULT},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.componentDidMount=function(){this._mounted=!0},d.componentWillUnmount=function(){this._mounted=!1,this.cleanUp()},d.cleanUp=function(){u.default.embedded&&null!=this.gs&&(this.gs.destroy(),this.gs=null)},d.handleComboChange=function(e){var t=this.props.onChange;null!=t&&t(e),this.setState({codes:e})},d.render=function(){var e,t=this.state,n=t.codes,a=t.mode,o=this.props.disabled;return u.default.embedded||(e=this.handleComboKeys),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{disabled:o,value:n,mode:a,onClick:this.toggleRecordMode,onChange:e})},a}(a.PureComponent);f.displayName="KeybindRecorder";var p=f;t.default=p},6175:function(e,t,n){var r={"./bg.png":6574,"./cs.png":6575,"./da.png":6576,"./de.png":6577,"./el.png":6578,"./en-GB.png":6579,"./en-US.png":6580,"./es-ES.png":6581,"./fi.png":6582,"./fr.png":6583,"./hr.png":6584,"./hu.png":6585,"./it.png":6586,"./ja.png":6587,"./ko.png":6588,"./lt.png":6589,"./nl.png":6590,"./no.png":6591,"./pl.png":6592,"./pt-BR.png":6593,"./ro.png":6594,"./ru.png":6595,"./sv-SE.png":6596,"./th.png":6597,"./tr.png":6598,"./uk.png":6599,"./vi.png":6600,"./zh-CN.png":6601,"./zh-TW.png":6602};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6175},6176:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=p(n(17)),i=h(n(813)),l=p(n(158)),u=p(n(5872)),s=p(n(5965)),d=n(0),c=p(n(10)),f=p(n(5337));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m="***@***.***",_="****",y="new_credit_card_id",g="null_payment_source_id",E=new i.CreditCardSourceRecord({id:y,brand:u.default.Types.UNKNOWN,type:d.PaymentSourceTypes.CARD}),S=new i.CreditCardSourceRecord({id:g,brand:u.default.Types.UNKNOWN,type:d.PaymentSourceTypes.CARD});var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){e.value!==S&&t.props.onChange&&t.props.onChange(e,e.value===y)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.selectedPaymentSourceId,n=e.paymentSources,r=e.showEmptyPromptOption,a=e.hidePersonalInformation,d=e.defaultPaymentSourceId,p=[].concat(r&&null==t?[S]:[],n,[E]).map(function(e){var t;if(!(e instanceof i.default))throw new Error("Invalid payment source");var n=function(e,t){if(e instanceof i.CreditCardSourceRecord)return e.id===y?{brand:null,label:c.default.Messages.PAYMENT_SOURCES_ADD}:e.id===g?{brand:null,label:c.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION}:{brand:t?u.default.Types.UNKNOWN:e.brand,label:c.default.Messages.PAYMENT_SOURCE_CARD_ENDING_IN.format({last4:t?_:e.last4})};if(e instanceof i.PaypalSourceRecord)return{brand:u.default.Types.PAYPAL,label:t?m:e.email};throw new Error("Invalid Payment Source")}(e,a),r=n.brand,s=n.label;return{value:e.id,label:v(l.default,{align:l.default.Align.CENTER},void 0,null!=r?v(u.default,{type:u.default.getType(r)}):null,v("div",{className:(0,o.default)(f.default.paymentSourceLabel,(t={},t[f.default.error]=e.invalid,t))},void 0,s))}}),h=t;return null==h&&(h=r?g:function(e,t){var n=null!=t?e.find(function(e){return e.id===t}):null;return null!=n?n.id:e.length>0?e[0].id:null}(n,d)),v(s.default,{searchable:!1,clearable:!1,options:p,value:h,onChange:this.onChange})},r}(a.Component);T.displayName="PaymentSourceDropdown",T.defaultProps={showEmptyPromptOption:!1};var I=T;t.default=I},6177:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(3)),a=n(37),o=p(n(1)),i=p(n(823)),l=p(n(43)),u=p(n(50)),s=p(n(160)),d=p(n(42)),c=p(n(132)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=f.ThemeTypes.DARK,m=null;function _(){v=d.default.theme}function y(){m=u.default.getChannelId(s.default.getGuildId())}function g(e){return e.channelId===m}var E=new(function(e){var t,n,r,o,p;function g(){return e.apply(this,arguments)||this}return n=e,(t=g).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,g.prototype.initialize=function(){this.waitFor(d.default,i.default,s.default,u.default,c.default),this.syncWith([d.default],_),this.syncWith([s.default,u.default,i.default],y)},r=g,(o=[{key:"theme",get:function(){if(null!=m){var e=s.default.getGuildId(),t=c.default.isInChannel(e,m)&&(null!=e||c.default.hasVideo(e,m))&&l.default.supports(a.Features.VIDEO)?i.default.getLayout(m):null;return t===f.ChannelLayouts.NORMAL||t===f.ChannelLayouts.NO_CHAT?f.ThemeTypes.DARK:v}return v}}])&&h(r.prototype,o),p&&h(r,p),g}(r.default.Store))(o.default,{VOICE_STATE_UPDATE:g,CHANNEL_RTC_UPDATE_LAYOUT:g});t.default=E},6178:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(74)),i=s(n(23)),l=s(n(14)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={notClaimed:!1,notEmailVerified:!1,notPhoneVerified:!1,newAccount:!1,newMember:!1,canChat:!0},c={};function f(e){p(e);var t=i.default.getGuild(e),n=l.default.getCurrentUser();if(null!=t&&t.verificationLevel!==u.VerificationLevels.NONE&&!t.isOwner(n)){var r=o.default.getMember(t.id,n.id);if(!(null!=r&&r.roles.length>0)){var s=+n.createdAt+6e4*u.VerificationCriteria.ACCOUNT_AGE-Date.now(),d=+t.joinedAt+6e4*u.VerificationCriteria.MEMBER_AGE-Date.now(),f=t.verificationLevel>=u.VerificationLevels.LOW&&!n.isClaimed(),h=!1,v=!1,m=!1,_=!1;n.isPhoneVerified()||(h=t.verificationLevel>=u.VerificationLevels.LOW&&!n.verified,v=t.verificationLevel>=u.VerificationLevels.VERY_HIGH,m=t.verificationLevel>=u.VerificationLevels.MEDIUM&&s>0,_=t.verificationLevel>=u.VerificationLevels.HIGH&&d>0);var y,g=[];_&&g.push(d),m&&g.push(s),g.length&&(y=setTimeout(function(){return a.default.dispatch({type:u.ActionTypes.GUILD_VERIFICATION_CHECK,guildId:e})},Math.max.apply(Math,g))),c[e]={notClaimed:f,notEmailVerified:h,notPhoneVerified:v,newAccount:m,newMember:_,canChat:!(f||h||v||m||_),accountDeadline:new Date(Date.now()+s),memberDeadline:new Date(Date.now()+d),timeoutRef:y}}}}function p(e){var t=c[e];null!=t&&clearTimeout(t.timeoutRef),delete c[e]}function h(e){f(e.guild.id)}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(i.default,l.default)},a.getCheck=function(e){return c[e]||d},a.canChatInGuild=function(e){return(c[e]||d).canChat},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){Object.keys(c).forEach(p),e.guilds.forEach(function(e){return f(e.id)})},CONNECTION_CLOSED:function(e){Object.keys(c).forEach(p)},CURRENT_USER_UPDATE:function(e){Object.keys(c).forEach(f)},GUILD_CREATE:h,GUILD_UPDATE:h,GUILD_DELETE:function(e){p(e.guild.id)},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId;if(e.user.id!==l.default.getCurrentUser().id)return!1;f(t)},GUILD_VERIFICATION_CHECK:function(e){f(e.guildId)}});t.default=v},6179:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(158)),i=s(n(302)),l=s(n(128)),u=s(n(5403));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.title,n=e.subtitle,r=e.iconType;return d(o.default,{className:u.default.wrapper,align:o.default.Align.BASELINE},void 0,null!=r&&d(i.default,{name:r,width:16,height:16,className:u.default.icon}),d(l.default,{weight:l.default.Weights.NORMAL,size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,className:u.default.title},void 0,t),n&&d(l.default,{weight:l.default.Weights.SEMIBOLD,size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,className:u.default.subtitle},void 0,n))},r}(a.PureComponent);c.displayName="IconSelectOption";var f=c;t.default=f},6180:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RegionSelect=t.RegionSelectModal=t.RegionName=t.RegionFlag=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(17)),i=m(n(797)),l=(m(n(798)),m(n(5850))),u=m(n(3)),s=m(n(73)),d=m(n(6061)),c=m(n(5900)),f=m(n(231)),p=m(n(427)),h=m(n(10)),v=m(n(5410));function m(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,r,a=e.region,i=e.className,l=void 0===i?v.default.regionSelectFlag:i;if("unknown"===a.id)r=n(5959);else{var u=a.id.replace(/^vip-/,"");try{r=n(6471)("./"+u+".png")}catch(e){r=n(5959)}}return y("div",{className:(0,o.default)(l,(t={},t[v.default.vip]=a.vip,t)),style:{backgroundImage:'url("'+r+'")'}})};t.RegionFlag=g,g.displayName="RegionFlag";var E=function(e){var t=e.region,n=e.className;return y("div",{className:void 0===n?v.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};t.RegionName=E,E.displayName="RegionName";var S=function(e){var t=e.region,n=e.onClick;return y(f.default,{className:v.default.regionSelectModalOption,onClick:function(){return n(t)}},void 0,y(g,{region:t}),y(E,{region:t}))};S.displayName="RegionOption";var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){t.props.onChange&&t.props.onChange(e),t.props.onClose()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this;return y("div",{className:v.default.regionSelectModal},void 0,y("div",{className:v.default.regionSelectModalHeader},void 0,h.default.Messages.REGION_SELECT_HEADER),y("div",{className:v.default.regionSelectModalOptions},void 0,this.props.regions.map(function(t,n){return y(S,{region:t,onClick:e.handleSelect},n)})),y("div",{className:v.default.regionSelectModalFooter},void 0,h.default.Messages.REGION_SELECT_FOOTER))},r}(a.Component);t.RegionSelectModal=T,T.displayName="RegionSelectModal";var I=(0,i.default)({displayName:"RegionSelect",mixins:[u.default.StoreListenerMixin(c.default),l.default],getDefaultProps:function(){return{disabled:!1,changeRegionButtonText:h.default.Messages.CHANGE}},getStateFromStores:function(){return{regions:c.default.getRegions(this.props.guildId)}},componentDidMount:function(){null==this.state.regions&&d.default.fetchRegions(this.props.guildId)},UNSAFE_componentWillReceiveProps:function(e){if(this.props.guildId!==e.guildId){var t=c.default.getRegions(e.guildId);null==t&&d.default.fetchRegions(e.guildId),this.setState({regions:t})}},handleChange:function(e){this.props.onChange&&this.props.onChange(e.id)},openChangeModal:function(){var e=this,t=this.state.regions.filter(function(e){return!e.deprecated});s.default.push(function(n){return a.createElement(T,_({regions:t,onChange:e.handleChange},n))})},render:function(){var e,t=this;if(null==this.state.regions)return y("div",{className:(0,o.default)(v.default.regionSelect,v.default.regionSelectLoading)},void 0,y(p.default,{type:p.default.Type.CHASING_DOTS}));var n=this.state.regions.find(function(e){return e.id===t.props.value})||{id:"unknown",name:h.default.Messages.UNKNOWN_REGION,vip:!1};return y(f.default,{className:(0,o.default)(v.default.regionSelect,(e={},e[v.default.disabled]=this.props.disabled,e)),onClick:this.openChangeModal},void 0,y("div",{className:v.default.regionSelectInner},void 0,y(g,{region:n}),y(E,{region:n})),y("button",{type:"button"},void 0,this.props.changeRegionButtonText))}});t.RegionSelect=I;var O=I;t.default=O},6181:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={update:function(e){a.default.dispatch({type:o.ActionTypes.CHANNEL_COLLAPSE,channelId:e})},toggleCollapseGuild:function(e){a.default.dispatch({type:o.ActionTypes.GUILD_TOGGLE_COLLAPSE_MUTED,guildId:e})}};t.default=i},6182:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EmptyStateBottom=t.EmptyStateCenter=t.Header=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=U(n(17)),i=U(n(29)),l=U(n(6)),u=U(n(3)),s=U(n(164)),d=U(n(311)),c=U(n(162)),f=(U(n(129)),U(n(317)),U(n(20))),p=U(n(5958)),h=U(n(23)),v=U(n(236)),m=U(n(6183)),_=U(n(159)),y=U(n(50)),g=U(n(42)),E=U(n(161)),S=U(n(112)),T=U(n(231)),I=U(n(5988)),O=U(n(307)),N=U(n(427)),C=U(n(795)),A=U(n(18)),M=n(113),R=U(n(45)),b=U(n(5936)),P=n(0),L=U(n(10)),D=U(n(5253)),w=U(n(5339));function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=function(e){var t=e.title,n=e.children,r=e.className;return k("div",{className:(0,o.default)(w.default.header,D.default.header,r)},void 0,k("div",{className:(0,o.default)(w.default.title,D.default.title)},void 0,t),n)};t.Header=F,F.displayName="Header";var j=function(e){var t=e.msg,n=e.image;return k("div",{className:w.default.emptyPlaceholder},void 0,k("div",{className:w.default.image,style:{backgroundImage:"url("+n+")"}}),k("div",{className:w.default.body},void 0,t))};t.EmptyStateCenter=j,j.displayName="EmptyStateCenter";var B=function(e){var t=e.msg,n=e.image;return k("div",{className:(0,o.default)(w.default.emptyPlaceholder,w.default.bottom)},void 0,k("div",{className:w.default.body},void 0,t),k("div",{className:w.default.image,style:{backgroundImage:"url("+n+")"}}))};t.EmptyStateBottom=B,B.displayName="EmptyStateBottom";var H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClickJump=function(e){var n=t.props;(0,n.jumpTo)(n.message,e)},t.handleClickClose=function(e){var n=t.props,r=n.onCloseMessage,a=n.message;null!=r&&r(a,e)},t}G(t,e);var n=t.prototype;return n.renderJumpButton=function(){var e,t=this.props.jumping;return k(T.default,{className:w.default.jumpButton,onClick:this.handleClickJump},void 0,k("div",{className:(0,o.default)(w.default.text,{hidden:t})},void 0,L.default.Messages.JUMP),k(N.default,{type:N.default.Type.PULSING_ELLIPSIS,className:(0,o.default)(w.default.loading,(e={},e[w.default.visible]=t,e))}))},n.renderCloseButton=function(){var e=this.props,t=e.onCloseMessage,n=e.canCloseAllMessages,r=e.canManageMessages,a=e.channel;return null==t?null:n||a.isPrivate()||r?k(S.default,{look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,onClick:this.handleClickClose},void 0,k("div",{className:w.default.closeButton})):null},n.render=function(){return k("div",{className:w.default.actionButtons},void 0,this.renderJumpButton(),this.renderCloseButton())},t}(a.PureComponent);H.displayName="ControlButtons";var x=u.default.connectStores([_.default],function(e){var t=e.channel;return{canManageMessages:_.default.can(P.Permissions.MANAGE_MESSAGES,t)}})(H),V=k(N.default,{}),Y=k(N.default,{}),K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).scroller=null,t.getScroller=function(){return(0,i.default)(null!=t.scroller,"Scroller called before being mounted."),t.scroller},t.scrollPageUp=function(){t.getScroller().scrollPageUp(!0)},t.scrollPageDown=function(){t.getScroller().scrollPageDown(!0)},t.jumpTo=function(e,n){var r=e.id,a=e.blocked,o=e.author,i=e.channel_id,l=t.props,u=l.jumping,d=l.onJump,p=l.analyticsName;if(a)s.default.show({title:L.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:L.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:o.username}),confirmText:L.default.Messages.OKAY});else if(!u){var h=f.default.getChannel(i);h&&(c.default.trackJump(i,r,p),R.default.transitionTo(P.Routes.CHANNEL(h.getGuildId(),i,r))),null!=d&&d(n)}},t.handleScroll=function(){var e=t.getScroller().getScrollData();e.scrollHeight===e.scrollTop+e.offsetHeight&&t.props.hasMore&&!t.props.loading&&t.props.loadMore()},t.selectChannel=function(e,n){var r=t.props.onJump;e!==y.default.getChannelId()&&d.default.transitionToInviteChannelSync(e),null!=r&&r(n)},t.setScrollerRef=function(e){t.scroller=e},t.renderControlButtons=function(e){var n=e.channel,r=e.messages[0],a=t.props,o=a.canCloseAllMessages,i=a.onCloseMessage,l=a.jumping;return k(x,{channel:n,message:r,jumping:l,canCloseAllMessages:o,jumpTo:t.jumpTo,onCloseMessage:i})},t.renderMessage=function(e,n){var r=t.props,a=r.renderEmbeds,o=r.inlineEmbedMedia,i=r.inlineAttachmentMedia,l=r.developerMode,u=[],s=n;if(t.props.showChannels&&(null==s||s.id!==e.channel_id)){if(null==(s=f.default.getChannel(e.channel_id)))return null;var d=h.default.getGuild(s.getGuildId());u.push(k("div",{className:w.default.channelSeparator},""+e.id+s.id,k(T.default,{tag:"span",className:w.default.channelName,onClick:t.selectChannel.bind(null,s.id)},void 0,s?s.toString(!0):"???"),t.props.showGuildNames&&k("span",{className:w.default.guildName},void 0,d?d.toString():"")))}if(null==s)return null;var c=s.isNSFW()?p.default.didAgree(s.getGuildId()):null;return null==e?null:(u.push(k("div",{className:w.default.messageGroupWrapper},e.id,k("div",{className:w.default.messageGroupWrapperOffsetCorrection},void 0,k(b.default,{cozyClassName:w.default.messageGroupCozy,messages:[e],channel:s,inlineAttachmentMedia:i&&null!=c?c:i,inlineEmbedMedia:o&&null!=c?c:o,renderEmbeds:a&&null!=c?c:a,renderEmbedsSmall:!0,compact:!1,developerMode:l,hasDivider:!1,popoutPosition:C.default.Positions.LEFT,groupOption:t.renderControlButtons,onClickAnywhere:function(n){return t.jumpTo(e,n)},messageOption:!1,canEdit:!1,renderMentioned:t.props.renderMentioned,disableInteractionLabel:L.default.Messages.JUMP,accessoriesClassName:w.default.accessories})))),u)},t}G(t,e);var n=t.prototype;return n.componentDidMount=function(){A.default.track(P.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel),M.ComponentDispatch.subscribe(P.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),M.ComponentDispatch.subscribe(P.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},n.componentWillUnmount=function(){M.ComponentDispatch.unsubscribe(P.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),M.ComponentDispatch.unsubscribe(P.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},n.render=function(){var e=this,t=[],n=!0,r=this.props,i=r.messages,u=r.size,s=r.loading,d=r.channel,c=r.className,f=r.isNoticeOpen;if(null==i)t=[k("div",{className:(0,o.default)(w.default.emptyPlaceholder,w.default.loadingPlaceholder)},void 0,V)];else if(0===i.length)t.push(this.props.renderEmptyState(g.default.theme));else{n=!1,t=[];var p=this.props.showChannels?null:d;l.default.each(i,function(n){t.push(e.renderMessage(n,p))})}var h=null;i&&i.length>0&&this.props.loadMore&&(h=s?k("div",{className:w.default.loadingMore},"loading-more-after",Y):this.props.hasMore?k("div",{className:w.default.hasMore},"has-more-after",k("button",{type:"button",onClick:this.props.loadMore,className:w.default.hasMoreButton},void 0,L.default.Messages.LOAD_MORE_MESSAGES)):k("div",{className:w.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(g.default.theme)));var v=this.props.getProTip&&this.props.getProTip(),m=n&&v?k("div",{className:(0,o.default)(D.default.footer,w.default.footer)},void 0,k(I.default,{style:{width:"100%",paddingTop:10}},void 0,v)):null,_={maxHeight:u.height-43-25};f&&(_.maxHeight-=40);var y=this.props.loadMore&&this.props.hasMore;return k("div",{className:(0,o.default)(w.default.messagesPopoutWrap,D.default.themedPopout,c),style:_},void 0,this.props.renderHeader(),a.createElement(O.default,{className:w.default.messagesPopout,ref:this.setScrollerRef,onScroll:y?this.handleScroll:void 0,backgroundColor:g.default.theme===P.ThemeTypes.LIGHT?P.Colors.WHITE:P.Colors.PRIMARY_DARK_630},t,h),m)},t}(a.PureComponent);K.displayName="MessagesPopout",K.defaultProps={showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1};var W=u.default.connectStores([m.default,g.default,v.default,E.default],function(e){var t=e.channel,n=m.default.hasNotice(),r=g.default.inlineAttachmentMedia,a=g.default.inlineEmbedMedia,o=g.default.renderEmbeds,i=g.default.developerMode,l=g.default.messageDisplayCompact,u=null!=t?v.default.getMessages(t.id):null,s=!1;return null!=u&&null!=u.jumpTargetId&&(s=u.loadingMore&&!u.get(u.jumpTargetId)),{inlineAttachmentMedia:r,inlineEmbedMedia:a,renderEmbeds:o,developerMode:i,messageDisplayCompact:l,isNoticeOpen:n,size:E.default.windowSize(),jumping:s}})(K);t.default=W},6183:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=z(n(3)),l=n(37),u=z(n(898)),s=z(n(24)),d=z(n(1)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(238)),f=z(n(165)),p=n(469),h=z(n(166)),v=z(n(160)),m=z(n(5944)),_=z(n(8)),y=z(n(190)),g=z(n(863)),E=z(n(11)),S=z(n(459)),T=z(n(445)),I=z(n(6474)),O=z(n(6078)),N=z(n(6184)),C=z(n(897)),A=z(n(837)),M=z(n(75)),R=z(n(35)),b=z(n(74)),P=z(n(23)),L=z(n(43)),D=z(n(6475)),w=z(n(193)),U=z(n(60)),G=z(n(247)),k=z(n(6185)),F=z(n(306)),j=z(n(6476)),B=z(n(5913)),H=z(n(14)),x=z(n(132)),V=z(n(319)),Y=z(n(828)),K=z(n(200)),W=n(0);function z(e){return e&&e.__esModule?e:{default:e}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}f.default.register((0,Y.default)(W.Experiments.OFF_PLATFORM_PREMIUM_PERK_UPSELL,"Off Platform Premium Perk Upsell",["Promote premium perk to off platform users.","Control: No upsell","Treatment 1: With upsell"]),((a={})[W.ExperimentTypes.NONE]=function(){return null},a[W.ExperimentTypes.USER]=((r={})[W.ExperimentBuckets.CONTROL]=function(){return null},r[W.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var q=((o={})[W.NoticeTypes.DOWNLOAD_NAG]="hideNag",o[W.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",o[W.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",o[W.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",o[W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",o[W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",o[W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",o[W.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]="hideDetectedOffPlatformPremiumPerkUpsell",o),X=new Set([W.NoticeTypes.NO_INPUT_DETECTED,W.NoticeTypes.STREAMER_MODE,W.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,W.NoticeTypes.SPOTIFY_AUTO_PAUSED,W.NoticeTypes.DISPATCH_ERROR,W.NoticeTypes.DISPATCH_ERROR,W.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),J={},Q=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),Z=null;function ee(e){if(null!=e){var t=q[e];null!=t&&s.default.set(t,!0),X.has(e)&&(J[e]=!0),e===W.NoticeTypes.PREMIUM_PROMO&&(0,p.setFlag)(W.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function te(e){if(null==e)return!1;var t=q[e];return t?s.default.get(t):!!X.has(e)&&J[e]}function ne(){if(!T.default.isConnected())return!1;Z=null;var e,t,n=H.default.getCurrentUser(),r=V.default.getPremiumSubscription(),a=null!=r?r.plan:null,o=x.default.getCurrentVoiceChannelId(null,E.default.getId()),i=null!=o&&x.default.hasVideo(null,o),s=I.default.getDetectedOffPlatformPremiumPerks(),d=N.default.getLastError(),c=C.default.getLastProgress(),f=j.default.getCurrentSurvey();if(null!=g.default.getRequest())Z=$({},Q,{type:W.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(w.default.isDisabled())Z=$({},Q,{type:W.NoticeTypes.VOICE_DISABLED});else if(!1===L.default.getInputDetected())Z=$({},Q,{type:W.NoticeTypes.NO_INPUT_DETECTED});else if(w.default.isConnected()&&L.default.isHardwareMute()){var p=L.default.getInputDeviceId(),v=S.default.getVendor(p),M=S.default.getModel(p);null!=v&&null!=M&&(Z=$({},Q,{type:W.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:v,model:M}}))}else if(null!=d)Z=$({},Q,{type:W.NoticeTypes.DISPATCH_ERROR,metadata:{error:d}});else if(null!=c)Z=$({},Q,{type:W.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:c});else if(G.default.wasAutoPaused())Z=$({},Q,{type:W.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!te(W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=a&&y.default.isGrandfathered(a)&&y.default.isNearGrandfatheredStartPeriod())Z=$({},Q,{type:W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:a}});else if(!te(W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=a&&y.default.isGrandfathered(a)&&y.default.getDaysToGrandfatheredEnd(a)>=-14&&y.default.getDaysToGrandfatheredEnd(a)<=0)Z=$({},Q,{type:W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!te(W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=a&&y.default.isGrandfathered(a)&&y.default.getDaysToGrandfatheredEnd(a)>0&&y.default.getDaysToGrandfatheredEnd(a)<=y.default.GRANDFATHERED_DAYS_APPROACHING)Z=$({},Q,{type:W.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:a}});else if(null!=n&&null==n.email)Z=$({},Q,{type:W.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!_.default.embedded||u.default.supported()&&!A.default.isCorruptInstallation())if(!i||L.default.supports(l.Features.VIDEO)||te(W.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(s.length>0&&y.default.canRedeemPremiumPerks(n)){var b=s[0];Z=$({},Q,{type:W.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,metadata:b})}else if(!te(W.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL)&&s.length>0&&(null!=(t=m.default.triggerFirstEligibleUserExperiment([W.Experiments.OFF_PLATFORM_PREMIUM_PERK_UPSELL]))&&t.bucket===W.ExperimentBuckets.TREATMENT_1)){var P=s[0];Z=$({},Q,{type:W.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,metadata:P})}else if(O.default.getDisplayType()===W.DetectedPlatformAccountsDisplayTypes.NOTICE)Z=$({},Q,{type:W.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:O.default.getDetectedAccounts()});else if(F.default.enabled)Z=$({},Q,{type:W.NoticeTypes.STREAMER_MODE});else if(_.default.embedded||te(W.NoticeTypes.DOWNLOAD_NAG))if(e=k.default.getScheduledMaintenance())Z=$({},Q,{type:W.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:e.id,start:new Date(e.scheduled_for),end:new Date(e.scheduled_until)}});else if(null!=f)Z=$({},Q,{type:W.NoticeTypes.SURVEY,metadata:f});else if(null==n||n.verified)if(G.default.hasConnectedAccount()||!U.default.isObservedAppRunning(h.default.get(W.PlatformTypes.SPOTIFY).name)||te(W.NoticeTypes.CONNECT_SPOTIFY))if(null==n||y.default.isPremium(n)||n.hasFlag(W.UserFlags.PREMIUM_PROMO_DISMISSED)||!D.default.isEligible()||te(W.NoticeTypes.PREMIUM_PROMO))if(null==n||!n.mfaEnabled||n.hasFlag(W.UserFlags.MFA_SMS)||n.hasFlag(W.UserFlags.STAFF)||n.hasFlag(W.UserFlags.PARTNER)||te(W.NoticeTypes.MFA_SMS_BACKUP)){if(null!=K.default.testModeApplicationId){var B=K.default.testModeApplicationId,Y=R.default.getGame(B),z=null!=Y?Y.name:B;Z=$({},Q,{type:W.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:z,applicationId:B}})}}else Z=$({},Q,{type:W.NoticeTypes.MFA_SMS_BACKUP});else Z=$({},Q,{type:W.NoticeTypes.PREMIUM_PROMO});else Z=$({},Q,{type:W.NoticeTypes.CONNECT_SPOTIFY});else Z=$({},Q,{type:W.NoticeTypes.UNVERIFIED_ACCOUNT});else Z=$({},Q,{type:W.NoticeTypes.DOWNLOAD_NAG});else Z=$({},Q,{type:W.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else Z=$({},Q,{type:W.NoticeTypes.CORRUPT_INSTALLATION});null!=Z&&te(Z.type)&&(Z=null)}function re(){return F.default.enabled||delete J[W.NoticeTypes.STREAMER_MODE],ne()}var ae=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([j.default,g.default,D.default,I.default],ne),this.waitFor(H.default,k.default,P.default,b.default,w.default,L.default,F.default,M.default,v.default,B.default,g.default,O.default,G.default,U.default,D.default,N.default,C.default,K.default,V.default,A.default,I.default)},a.hasNotice=function(){return null!=Z&&null!=Z.type},a.getNotice=function(){return null==B.default.getAction()?Z:null},r}(i.default.Store))(d.default,{CONNECTION_OPEN:function(e){return function(){if(!T.default.isConnected())return!1;var e=H.default.getCurrentUser();y.default.isPremium(e)&&y.default.shouldCheckGrandfatheredPlan()&&d.default.wait(function(){return c.fetchSubscriptions()}),ne()}()},CURRENT_USER_UPDATE:function(e){return ne()},AUDIO_ENABLE:function(e){return ne()},VOICE_CHANNEL_CLEAR:function(e){return ne()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return ne()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return ne()},GUILD_CREATE:function(e){return ne()},GUILD_DELETE:function(e){return ne()},AUDIO_INPUT_DETECTED:function(e){return ne()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return ne()},CERTIFIED_DEVICES_SET:function(e){return ne()},AUDIO_SET_INPUT_DEVICE:function(e){return ne()},AUDIO_SET_OUTPUT_DEVICE:function(e){return ne()},MEDIA_ENGINE_DEVICES:function(e){return ne()},RTC_CONNECTION_STATE:function(e){return ne()},RPC_APP_AUTHENTICATED:function(e){return ne()},RPC_APP_DISCONNECTED:function(e){return ne()},PLATFORM_ACCOUNTS_DETECTED:function(e){return ne()},PLATFORM_ACCOUNTS_IGNORE:function(e){return ne()},USER_CONNECTIONS_UPDATE:function(e){return ne()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return ne()},WINDOW_FOCUS:function(e){return ne()},INSTANT_INVITE_CREATE:function(e){return ne()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return ne()},SPOTIFY_PLAYER_PAUSE:function(e){return ne()},RUNNING_GAMES_CHANGE:function(e){return ne()},EXPERIMENTS_FETCH_SUCCESS:function(e){return ne()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return ne()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return ne()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return ne()},DEVELOPER_TEST_MODE_RESET:function(e){return ne()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return ne()},DISPATCH_APPLICATION_INSTALL:function(e){return ne()},VOICE_STATE_UPDATE:function(e){return e.userId===E.default.getId()&&ne()},STREAMER_MODE_UPDATE:function(e){return re()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return re()},DISPATCH_APPLICATION_ERROR:function(e){return delete J[W.NoticeTypes.DISPATCH_ERROR],ne()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete J[W.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],ne()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return ne()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return ne()},NOTICE_SHOW:function(e){Z=e.notice},NOTICE_DISMISS:function(e){return null!=Z&&(null==e.id||e.id===Z.id)&&(ee(Z.type),ne())},NOTICE_DISABLE:function(e){return ee(e.noticeType),ne()},LOGOUT:function(e){return J={},void(Z=null)}});t.default=ae},6184:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=[o.DispatchErrorCodes.REDISTRIBUTABLE_INSTALL_FAILED,o.DispatchErrorCodes.POST_INSTALL_FAILED,o.DispatchErrorCodes.POST_INSTALL_CANCELLED],s=[o.DispatchErrorCodes.APPLICATION_NOT_FOUND,o.DispatchErrorCodes.APPLICATION_LOAD_FAILED,o.DispatchErrorCodes.INTERRUPTED,o.DispatchErrorCodes.DESERIALIZATION_FAILED];var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getLastError=function(){return l},r}(r.default.Store))(a.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=l&&u.includes(l.code)&&(l=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;l=s.includes(t.code)?null:t}});t.default=d},6185:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(24)),o=l(n(1)),i=l(n(6121));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="MaintenanceStore",s=null,d=null,c=null;var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){c=a.default.get(u)},o.getIncident=function(){return s},o.getScheduledMaintenance=function(){return null!=d&&d.id!==c?d:null},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){return s=null,void i.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){s=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){d=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==d)return!1;c=d.id,a.default.set(u,c)}()}});t.default=f},6317:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5419));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.data,n=e.disabled,r=t.content,i=t.className,u=t.onClick,s=t.disabled;return l("button",{className:(0,a.default)(o.default.item,i),onClick:u,disabled:n||s},void 0,r)};u.displayName="Button";var s=function(e){var t=e.buttons,n=e.disabled,r=e.className;return l("div",{role:"group",className:(0,a.default)(o.default.group,r)},void 0,t.map(function(e,t){return l(u,{data:e,disabled:n},t)}))};s.displayName="ButtonGroup";var d=s;t.default=d},6318:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=p(n(112)),l=f(n(158)),u=n(805),s=n(0),d=f(n(5235)),c=f(n(5349));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.title,n=e.description,r=e.agreement,a=e.disagreement,s=e.onAgree,f=e.onDisagree;return h(u.BackgroundOpacityContext.Consumer,{},void 0,function(e){var u=e.backgroundOpacity;return h(l.default,{className:(0,o.default)(c.default.gatedContent,c.default[u+"BackgroundOpacity"]),justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,h("div",{className:(0,o.default)(c.default.image,d.default.marginBottom20)}),h("div",{className:(0,o.default)(c.default.title,d.default.marginBottom8)},void 0,t),h("div",{className:(0,o.default)(c.default.description,d.default.marginBottom20)},void 0,n),h("div",{className:(0,o.default)(c.default.separator,d.default.marginBottom40)}),h(l.default,{justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,grow:0},void 0,h(i.default,{className:c.default.action,size:i.ButtonSizes.LARGE,look:i.ButtonLooks.OUTLINED,color:i.ButtonColors.PRIMARY,onClick:f},void 0,a),h(i.default,{className:c.default.action,color:c.default.actionRed,size:i.ButtonSizes.LARGE,onClick:s},void 0,r)))})},r}(a.PureComponent);v.displayName="GatedContent",v.defaultProps={onAgree:s.NOOP,onDisagree:s.NOOP};var m=v;t.default=m},6319:function(e,t,n){"use strict";t.__esModule=!0,t.getDispatchApplicationStates=w,t.default=void 0;var r,a,o,i,l,u=M(n(2)),s=A(n(17)),d=A(n(304)),c=A(n(3)),f=A(n(803)),p=A(n(167)),h=A(n(837)),v=A(n(35)),m=A(n(88)),_=A(n(302)),y=n(5964),g=A(n(6604)),E=A(n(426)),S=M(n(117)),T=A(n(865)),I=A(n(6514)),O=n(0),N=A(n(10)),C=A(n(5475));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var P=Object.freeze(((i={})[O.LocalDispatchApplicationStates.INSTALLING]=((r={})[y.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},r[y.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},r[y.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},r[y.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},r),i[O.LocalDispatchApplicationStates.UPDATING]=((a={})[y.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})},a[y.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})},a[y.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})},a[y.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})},a),i[O.LocalDispatchApplicationStates.REPAIRING]=((o={})[y.TimeUnits.NONE]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},o[y.TimeUnits.SECONDS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},o[y.TimeUnits.MINUTES]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},o[y.TimeUnits.HOURS]=function(e,t){return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},o),i)),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderProgressBody=function(e,n){var r=t.props,a=r.state,o=r.application,i=a.stage,l=a.progress,u=a.total,s=a.type;if(null==l||null==u||null==i)return null;var d=e[e.length-1]/n*1e3,c=u-l,f=0!==d?Math.max(1,c/d):null,p=null!=f?f/60:null,h=P[s],v=null!=h?Object.keys(h):[],m=(0,y.getTimeAndUnit)(p,v),_=m.unit,g=m.time;if(null!=h&&null!=_){var E=h[_];return null!=E?E(o.name,g):null}return null},t}b(t,e);var n=t.prototype;return n.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===O.LocalDispatchApplicationStates.UPDATING||t.type===O.LocalDispatchApplicationStates.REPAIRING||t.type===O.LocalDispatchApplicationStates.INSTALLING){if(n)return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===O.DispatchApplicationStages.PATCHING||t.stage===O.DispatchApplicationStages.REPAIRING)return R(I.default,{getHistoricalTotalBytes:p.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressBody)}return null},n.render=function(){var e=this.renderText();return null!=e?e:N.default.Messages.LIBRARY},t}(u.PureComponent);L.displayName="UpdateProgressTooltipText";var D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animationScale:new d.default.Value(0)},t.handleOnClick=function(e){var n=t.props.onClick;e.preventDefault(),e.stopPropagation(),null!=n&&n(e),T.default.transitionTo(O.Routes.APPLICATION_LIBRARY)},t}b(t,e);var n=t.prototype;return n.componentWillAppear=function(e){this.state.animationScale.setValue(1),e()},n.componentWillEnter=function(e){d.default.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)},n.componentWillLeave=function(e){d.default.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)},n.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,r=e.isPaused;return null==t||null==n?N.default.Messages.LIBRARY:R(L,{application:t,state:n,isPaused:r})},n.render=function(){var e=this.props,t=e.percent,n=e.isPaused,r=e.className;return R(d.default.div,{style:{transform:[{scale:this.state.animationScale}]},className:(0,s.default)(r,C.default.progressContainer),onClick:this.handleOnClick},void 0,R(E.default,{text:this.getTooltipText(),position:E.default.Positions.RIGHT,"aria-label":!1},void 0,R("div",{},void 0,R(g.default,{percent:t,colorOverride:n?O.Colors.PRIMARY_DARK_500:null},void 0,R(_.default,{name:_.default.Names.NOVA_DOWNLOAD,className:C.default.downloadIcon})))))},t}(u.PureComponent);D.displayName="GameUpdateProgressIndicator",D.defaultProps={strokeSize:g.default.StrokeSizes.MEDIUM};function w(e){return e.reduce(function(e,t){var n=t.applicationId,r=t.branchId,a=p.default.getState(n,r);return null!=a&&e.push(a),e},[])}var U=c.default.connectStores([p.default,h.default,m.default],function(){var e=h.default.activeItems,t=w(e),n=S.getCombinedProgress(t),r=n.total,a=n.progress;return{percent:S.calculateProgressPercentage(a,r),isPaused:h.default.paused,firstApplication:e.length>0?v.default.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(function(e){var t=e.determineOwnVisibility,n=void 0===t||t,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["determineOwnVisibility"]);return n?R(f.default,{component:u.Fragment},void 0,r.percent>0&&r.percent<100?u.createElement(D,r):null):u.createElement(D,r)});t.default=U},6320:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(0),o=(r=n(10))&&r.__esModule?r:{default:r};var i={getStatus:function(e,t){var n,r;switch(void 0===t&&(t=!1),e){case a.RTCConnectionStates.CONNECTING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_CONNECTING;break;case a.RTCConnectionStates.AUTHENTICATING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case a.RTCConnectionStates.AWAITING_ENDPOINT:n="connecting",r=o.default.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case a.RTCConnectionStates.RTC_CONNECTED:n="connected",r=t?o.default.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:o.default.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case a.RTCConnectionStates.RTC_CONNECTING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case a.RTCConnectionStates.ICE_CHECKING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case a.RTCConnectionStates.NO_ROUTE:n="error",r=o.default.Messages.CONNECTION_STATUS_NO_ROUTE;break;case a.RTCConnectionStates.RTC_DISCONNECTED:n="error",r=o.default.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case a.RTCConnectionStates.DISCONNECTED:default:n="error",r=o.default.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:n,connectionStatusText:r}},getShortHostname:function(e){return null==e?"":e.split(".")[0]}};t.default=i},6324:function(e,t,n){"use strict";t.__esModule=!0,t.shouldNotify=function(e,t,n){void 0===n&&(n=!0);var a=r.default.getChannel(t);if(null==a)return!1;if(a.isManaged())return!1;var p=a.getGuildId();if(null!=p&&o.default.isLurking(p))return!1;var h=c.default.getUser(e.author.id),m=c.default.getCurrentUser();if(null==h||null==m)return!1;if(h.id===m.id)return!1;if(i.default.isBlocked(h.id))return!1;if(s.default.getStatus()===v.StatusTypes.DND)return!1;if(d.default.allowNoMessages(a))return!1;if(!n){var _=u.default.getGuildId(),y=l.default.getChannelId(_);if(y===a.id)return!1}if(d.default.allowAllMessages(a))return!0;var g=d.default.isSuppressEveryoneEnabled(a.getGuildId());return f.default.isMentioned(e,m.id,g)},t.makeTextChatNotification=function(e,t,n){var o=p.default.getName(e.getGuildId(),e.id,n),i=o;switch(e.type){case v.ChannelTypes.GUILD_NEWS:case v.ChannelTypes.GUILD_TEXT:var l=r.default.getChannel(e.parent_id);if(t.type===v.MessageTypes.DEFAULT)i=y(i,e,l);else{var u=a.default.getGuild(e.getGuildId());null!=u&&(i=y(i,e,l))}break;case v.ChannelTypes.GROUP_DM:var s=e.isManaged()&&n.bot&&i===e.toString();s||(i=i+" ("+e.toString(!0)+")")}var d,c=t.content;if(t.type!==v.MessageTypes.DEFAULT&&null==(c=h.default.stringify(t)))throw console.warn("SystemMessageUtils.stringify(...) could not convert",t),new Error("failed to stringify system message");if(null!=t.activity&&null!=t.application){var _,E=t.activity.type===v.ActivityActionTypes.JOIN;_=E?g(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN):g(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_SPECTATE,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_SPECTATE,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_SPECTATE),d=_.format({user:o,game:t.application.name})}else if(null!=t.activity&&t.activity.type===v.ActivityActionTypes.LISTEN){var S=g(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN);d=S.format({user:o})}else d=f.default.unparse(c,e.id,!0);if(!d.length&&t.attachments.length){var T=t.attachments[0].filename;d=m.default.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:T})}if(!d.length&&t.embeds.length){var I=t.embeds[0];if(null!=I.description)d=null!=I.title?I.title+": "+I.description:I.description;else if(null!=I.title)d=I.title;else if(null!=I.fields){var O=I.fields[0];d=O.name+": "+O.value}}return{icon:n.getAvatarURL(),title:i,body:d}};var r=_(n(20)),a=_(n(23)),o=_(n(318)),i=_(n(87)),l=_(n(50)),u=_(n(160)),s=_(n(194)),d=_(n(237)),c=_(n(14)),f=_(n(314)),p=_(n(443)),h=_(n(6111)),v=n(0),m=_(n(10));function _(e){return e&&e.__esModule?e:{default:e}}var y=function(e,t,n){return e+" ("+t.toString(!0)+(null!=n?", "+n.toString():"")+")"};function g(e,t,n,r){switch(e.type){case v.ChannelTypes.GUILD_NEWS:case v.ChannelTypes.GUILD_TEXT:return t;case v.ChannelTypes.GROUP_DM:return n;case v.ChannelTypes.DM:default:return r}}},6340:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(1)),a=s(n(311)),o=s(n(6341)),i=s(n(18)),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d={open:function(e,t,n,a){void 0===a&&(a=!1),r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_OPEN,guildId:e,channelId:t,forceChannel:a}),this.createInvite("IOS InstantInvite Mount",!0),i.default.track(l.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite",Source:n})},openForStream:function(e){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_OPEN,guildId:e.guildId,channelId:e.channelId,forceChannel:!0,targetUserType:l.InviteTargetUserTypes.STREAM,targetUserId:e.ownerId}),this.createInvite("IOS InstantInvite Mount",!0)},updateSettings:function(e){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_UPDATE_SETTINGS,settings:e})},resetSettings:function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_RESET_SETTINGS})},createInvite:function(e,t){var n=o.default.getPendingSettings();if(null!=n){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE});var i=n.channelId,s=n.maxAge,d=n.maxUses,c=n.temporary,f=n.targetUserType,p=n.targetUserId,h=o.default.getInvite(),v=t&&null!=h?h.code:null;a.default.createInvite(i,{validate:v,max_age:parseInt(s,10),max_uses:parseInt(d,10),temporary:c,target_user_type:f,target_user_id:p},e).then(function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS,channelId:i})},function(e){var t=u.default.Messages.INSTANT_INVITE_FAILED_TO_GENERATE;null!=e.body&&null!=e.body.message&&(t=e.body.message),r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE,message:t})})}},close:function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_CLOSE})}};t.default=d},6341:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(29)),a=s(n(3)),o=s(n(1)),i=s(n(196)),l=s(n(5991)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c,f,p,h,v,m=i.default.INVITE_OPTIONS_1_DAY.value,_=i.default.INVITE_OPTIONS_UNLIMITED.value,y=u.FormStates.CLOSED,g=!1;function E(e,t,n){p=null;var r=l.default.getInvite(e);if(null!=r){var a=null!=r.targetUser?r.targetUser.id:null;r.targetUserType===t&&a===n&&(p=r)}h={channelId:e,maxAge:null!=p?p.maxAge:m,maxUses:null!=p?p.maxUses:_,temporary:null!=p&&p.temporary,targetUserType:t,targetUserId:n},v=h}var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return y!==u.FormStates.CLOSED},a.isSubmitting=function(){return y===u.FormStates.SUBMITTING},a.isChannelForced=function(){return g},a.getGuildId=function(){return c},a.getError=function(){return f},a.getInvite=function(){return p},a.getInviteSettings=function(){return h},a.getPendingSettings=function(){return v},r}(a.default.Store))(o.default,{CREATE_INVITE_MODAL_OPEN:function(e){y=u.FormStates.OPEN,g=e.forceChannel,c=e.guildId,f=null;var t=e.targetUserType||null,n=e.targetUserId||null;E(e.channelId,t,n)},CREATE_INVITE_MODAL_UPDATE_SETTINGS:function(e){var t=e.settings;v=d({},v,t)},CREATE_INVITE_MODAL_RESET_SETTINGS:function(e){v=h},CREATE_INVITE_MODAL_GENERATE_INVITE:function(e){return y=u.FormStates.SUBMITTING,void(h=v)},CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS:function(e){var t=e.channelId;y=u.FormStates.OPEN,f=null,(0,r.default)(null!=h,"No invite settings for generated invite"),E(t,h.targetUserType,h.targetUserId)},CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE:function(e){y=u.FormStates.OPEN,p=null,f=e.message},CREATE_INVITE_MODAL_CLOSE:function(e){y=u.FormStates.CLOSED}});t.default=S},6342:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(430)),a=s(n(162)),o=s(n(11)),i=s(n(20)),l=s(n(899)),u=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}var d=1010,c=new(function(e){var t,n;function l(){return e.call(this,{defaultRetryAfter:d,logger:u.default.create("InviteQueue")})||this}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=l.prototype;return s._sendInvite=function(e,t,n,r){a.default.sendInvite(e.id,t,r).then(function(){return n(null,!0)},function(){return n(null,!1)})},s.drain=function(e,t){var n=this,a=e.code,l=e.channel,u=e.user,s=e.location;null!=l?this._sendInvite(l,a,t,s):null!=u?r.default.ensurePrivateChannel(o.default.getId(),u.id).then(function(e){null!=(l=i.default.getChannel(e))&&n._sendInvite(l,a,t,s)},function(){return t(null,!1)}):t(null,!1)},l}(l.default));t.default=c},6343:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(6020)),a=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var i={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:a.default.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:a.default.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return r.default.launchableApplicationViewItems}};t.default=i},6344:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){return n.getVoiceStatesForChannel(e.guild_id,e.id).map(function(e){return t.getStreamForUser(e.userId)}).filter(Boolean)}},6345:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(6)),o=n(129),i=h(n(816)),l=h(n(820)),u=h(n(6157)),s=h(n(5912)),d=h(n(436)),c=n(437),f=n(5888),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v=[p.Routes.ACTIVITY,p.Routes.APPLICATION_LIBRARY,p.Routes.APPLICATION_STORE,p.Routes.FRIENDS],m=((r={})[p.Routes.ACTIVITY]=0,r[p.Routes.APPLICATION_LIBRARY]=1,r[p.Routes.APPLICATION_STORE]=2,r[p.Routes.FRIENDS]=3,r);function _(e,t){(0,f.transitionToChannel)(e,t)}function y(e){var t=i.default.getChannelId(p.ME),n=d.default.getPrivateChannelIds(),r=__OVERLAY__?n:[].concat(v,n),a=(null==t?function(e){for(var t in m)if(e.startsWith(t))return m[t];return-1}(s.default.getHomeLink()):r.indexOf(t))+e;a>=r.length?a=0:a<0&&(a=r.length-1);var o,l,c=r[a];v.includes(c)?(o=c,l=u.default.getCurrentRoute(),o===p.Routes.APPLICATION_STORE&&null!=l?(0,f.transitionToPage)(l):(0,f.transitionToPage)(o)):_(p.ME,c)}var g=a.default.throttle(function(e){void 0===e&&(e=1);var t=i.default.getGuildId();null==t?y(e):function(e,t){var n,r,a=l.default.getCategories(t),u=(0,c.getFlattenedChannelList)(a._categories,a,function(e){var t=e.channel;return(0,o.isGuildSelectableChannelType)(t.type)&&!(0,c.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),s=i.default.getChannelId(t),d=(n=u.indexOf(s)+e,r=u.length,n<0?r-1:n>=r?0:n);_(t,u[d])}(e,t)},p.NAVIGATION_THROTTLE);t.default=g},6346:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CREATE_DM_GROUP=void 0;var r=u(n(5864)),a=u(n(160)),o=n(113),i=n(5888),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s={binds:["mod+shift+t"],global:!0,action:function(){return a.default.getGuildId()&&((0,i.transitionToChannel)(l.ME),r.default.flushSelection(!0)),o.ComponentDispatch.safeDispatch(l.ComponentActions.TOGGLE_DM_CREATE),!1}};t.CREATE_DM_GROUP=s;var d={CREATE_DM_GROUP:s};t.default=d},6347:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CREATE_GUILD=void 0;var r=l(n(5922)),a=l(n(6026)),o=n(113),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={binds:["mod+shift+n"],global:!0,action:function(){a.default.isOpen()?(r.default.setScreen(i.CreateGuildModalScreens.JoinGuild),o.ComponentDispatch.dispatch(i.ComponentActions.TRANSITION_JOIN_GUILD)):r.default.open(null,"Keyboard Shortcut")}};t.CREATE_GUILD=u;var s={CREATE_GUILD:u};t.default=s},6348:function(e,t,n){"use strict";t.__esModule=!0,t.FOCUS_SEARCH=void 0;var r=n(113),a=n(0),o={binds:["mod+f"],global:!0,action:function(e){e.preventDefault(),e.stopPropagation(),r.ComponentDispatch.dispatch(a.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!0})}};t.FOCUS_SEARCH=o},6349:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SEARCH_GIFS=void 0;var r=n(113),a=n(0),o={binds:["mod+g"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.TOGGLE_GIF_PICKER),!1}};t.SEARCH_GIFS=o;var i={SEARCH_GIFS:o};t.default=i},6350:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(816)),o=d(n(50)),i=d(n(441)),l=d(n(5912)),u=n(5888),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=r.default.throttle(function(e){void 0===e&&(e=1);var t,n=i.default.guildPositions,r=a.default.getGuildId(),s=-1;if(r&&(s=n.indexOf(r)),-2===(s+=e)&&(s=n.length-1),s>=n.length||s<0)(0,u.transitionToPage)(l.default.getHomeLink());else{t=n[s];var d=o.default.getChannelId(t);(0,u.transitionToChannel)(t,d===t?null:d)}},s.NAVIGATION_THROTTLE);t.default=c},6351:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_CHANNEL_PINS=void 0;var r=n(113),a=n(0),o={binds:["mod+p"],global:!0,action:function(){return r.ComponentDispatch.dispatch(a.ComponentActions.TOGGLE_CHANNEL_PINS),!1}};t.TOGGLE_CHANNEL_PINS=o;var i={TOGGLE_CHANNEL_PINS:o};t.default=i},6352:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_HELP=void 0;var r=n(308),a={binds:["mod+shift+h","f1"],global:!0,action:function(){return window.open(r.SUPPORT_LOCATION),!1}};t.TOGGLE_HELP=a;var o={TOGGLE_HELP:a};t.default=o},6353:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_MENTIONS=void 0;var r=n(113),a=n(0),o={binds:["mod+i"],global:!0,action:function(){return r.ComponentDispatch.dispatch(a.ComponentActions.TOGGLE_MENTIONS),!1}};t.TOGGLE_MENTIONS=o;var i={TOGGLE_MENTIONS:o};t.default=i},6354:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_USERS=void 0;var r,a=(r=n(6160))&&r.__esModule?r:{default:r},o=n(0);var i={binds:["mod+u"],global:!0,action:function(){return a.default.toggleSection(o.ChannelSections.MEMBERS),!1}};t.TOGGLE_USERS=i;var l={TOGGLE_USERS:i};t.default=l},6355:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=n(129),o=p(n(816)),i=p(n(820)),l=p(n(441)),u=p(n(436)),s=n(437),d=n(113),c=n(5888),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e===f.ME)return u.default.getPrivateChannelIds();var t=i.default.getCategories(e);return(0,s.getFlattenedChannelList)(t._categories,t,function(e){var t=e.channel;return(0,a.isGuildSelectableChannelType)(t.type)&&!(0,s.isChannelCollapsed)(t)}).map(function(e){return e.channel.id})}var v=r.default.throttle(function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=function(e,t){return!0}),void 0===n&&(n=function(e){return!0});for(var r,a=o.default.getGuildId()||f.ME,i=function(e,t){var n=[f.ME].concat(l.default.guildPositions),r=n.indexOf(e);return t>0?n.slice(r).concat(n.slice(0,r),e):(n.splice(r,0,e),n.slice(r+1).concat(n.slice(0,r+1)))}(a,e),u=e>0?0:i.length-1,s=h(a),p=s.indexOf(o.default.getChannelId(a))+e;a;){if(r=s[p],n(a))for(;r;){if(t(a,r))return(0,c.transitionToChannel)(a,r);r=s[p+=e]}if(!(a=i[u+=e]))break;s=h(a),p=e<0?s.length-1:0}d.ComponentDispatch.dispatch(f.ComponentActions.SHAKE_APP,{duration:200,intensity:2})},f.NAVIGATION_THROTTLE);t.default=v},6356:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.UPLOAD_FILE=void 0;var r=l(n(20)),a=l(n(50)),o=n(113),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={binds:["mod+shift+u"],global:!0,action:function(){var e=r.default.getChannel(a.default.getChannelId());return null==e||e.isManaged()||o.ComponentDispatch.dispatch(i.ComponentActions.UPLOAD_FILE),!1}};t.UPLOAD_FILE=u;var s={UPLOAD_FILE:u};t.default=s},6358:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(17)),o=d(n(3)),i=d(n(101)),l=n(5849),u=n(234),s=d(n(5369));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.streaming,n=e.status,o=e.hideTooltip,i=e.className,u=e.style;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.AvatarStatusIcon,{status:t?l.AvatarStatuses.STREAMING:n,hideTooltip:o,className:(0,a.default)(s.default.status,i),style:u})};c.displayName="Status";var f=o.default.connectStores([i.default],function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?i.default.getStatus(t,null,n):n,streaming:null!=t&&(0,u.isStreaming)(i.default.getPrimaryActivity(t))}})(c);t.default=f},6359:function(e,t,n){e.exports=n.p+"c83861b2303b7ee40c419e9590d57f11.svg"},6360:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=l({},{},{addPhone:function(e){a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADDING_PHONE}),r.default.post({url:o.Endpoints.PHONE,body:{phone:e}}).then(function(){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_SUCCESS})},function(e){var t=e.body;return a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_FAILURE,error:t.message})})},verifyPhone:function(e){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFYING_PHONE}),r.default.post({url:o.Endpoints.VERIFY_PHONE,body:{code:e}}).then(function(e){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFY_PHONE_SUCCESS}),a.default.dispatch({type:o.ActionTypes.MODAL_POP}),e},function(e){throw a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFY_PHONE_FAILURE,error:e.body.message}),e})},reset:function(){a.default.dirtyDispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_RESET})}});t.default=u},6361:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(5905)),l=d(n(6362)),u=d(n(811)),s=d(n(5375));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(){return p(u.default,{className:s.default.divider})};h.displayName="PopoutListDivider";var v=function(e){var t=e.children;return p("div",{className:s.default.popoutListEmpty},void 0,t)};v.displayName="PopoutListEmpty";var m=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return a.createElement(i.default,c({},n,{className:(0,o.default)(s.default.popoutListInput,t)}))},t}(a.PureComponent);m.displayName="PopoutListSearchBar",m.defaultProps={autoFocus:!0};var _=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return p("div",{className:(0,o.default)(s.default.popoutList,t)},void 0,n)},t}(a.PureComponent);_.displayName="PopoutList",_.SearchBar=m,_.Item=l.default,_.Divider=h,_.Empty=v;var y=_;t.default=y},6362:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(239),l=f(n(158)),u=f(n(302)),s=n(0),d=f(n(5235)),c=f(n(5374));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._getColor=function(e){var t=!1;if(null!=e&&(0,i.isValidHex)(e)){var n=(0,i.hex2int)(e);null!=n&&(t=(0,i.getDarkness)(n)<.2)}return t?s.Colors.BLACK:s.Colors.WHITE},n.handleClick=function(){var e=n.props;(0,e.onClick)(function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClick"]))},n.state={color:n._getColor(t.color)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){this.props.color!==e.color&&this.setState({color:this._getColor(e.color)})},a.render=function(){var e,t,n=this.state.color,r=this.props,a=r.selected,i=r.color,f=r.className,v=r.children;return a?t={color:n,background:i||s.Colors.BRAND}:null!=i&&(t={color:i}),p(l.default,{className:(0,o.default)(c.default.selectableItem,f,(e={},e[c.default.selected]=a,e)),onClick:this.handleClick,align:l.default.Align.CENTER,style:h({},t,this.props.style)},void 0,p(l.default,{align:l.default.Align.CENTER,className:c.default.selectableItemLabel,shrink:1},void 0,v),a&&p(l.default,{wrap:l.default.Wrap.WRAP,className:d.default.marginReset,grow:0,shrink:0},void 0,p(u.default,{name:u.default.Names.CHECKMARK,color:n})))},r}(a.PureComponent);v.displayName="SelectableItem";var m=v;t.default=m},6364:function(e,t,n){"use strict";t.__esModule=!0,t.MessageTimestamp=C,t.default=t.Message=t.MessageAvatar=t.ClickOverlay=t.LocalBotMessage=t.MessageUsername=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=g(n(197)),l=n(81),u=n(810),s=g(n(5849)),d=g(n(6365)),c=g(n(6154)),f=g(n(231)),p=g(n(795)),h=g(n(6032)),v=g(n(6366)),m=n(0),_=g(n(10)),y=g(n(5280));function g(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I={LATIN12:y.default.latin12CompactTimeStamp,LATIN24:y.default.latin24CompactTimeStamp,ASIAN:y.default.asianCompactTimeStamp},O=5,N=/(AM|PM)$/;function C(e){var t,n=e.isCompact,r=void 0!==n&&n,a=e.timestamp,i=e.isVisibleOnlyOnHover,l=void 0!==i&&i,s=e.isMentioned,d=e.backgroundOpacity,c=r?(0,u.dateFormat)(a,"LT"):(0,u.calendarFormat)(a),f=r?function(e){return e.match(N)?I.LATIN24:e.length<=O?I.LATIN12:I.ASIAN}(c):null;return T("time",{className:(0,o.default)(f,y.default[d+"BackgroundOpacity"],(t={},t[y.default.timestampVisibleOnHover]=l,t[y.default.timestampCozy]=!r,t[y.default.timestampCompact]=r&&!s,t[y.default.timestampCompactIsMentioned]=r&&s,t)),dateTime:a},void 0,r&&T("i",{className:y.default.separatorLeft},void 0,"["),c,r&&T("i",{className:y.default.separatorRight},void 0,"] "))}C.displayName="MessageTimestamp";var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onClick=function(e){var n=t.props,r=n.message;(0,n.onClick)(e,r)},t}S(t,e);var n=t.prototype;return n.onMouseDown=function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation())},n.render=function(){var e=this.props,t=e.message,n=e.isCompact,r=e.renderPopout,a=e.popoutPosition,i=e.onContextMenu,l=e.backgroundOpacity,u=t.colorString?{color:t.colorString}:null,s=t.author.bot?T(c.default,{className:n?y.default.botTagCompact:y.default.botTagCozy}):null;return T(p.default,{closeOnScroll:!1,render:r,position:a,shadow:!n},void 0,T("span",{onContextMenu:i,className:y.default.usernameWrapper},void 0,n?s:null,T(f.default,{tag:"span",className:(0,o.default)(y.default.username,y.default[l+"BackgroundOpacity"]),style:u,onMouseDown:this.onMouseDown,onClick:this.onClick},void 0,t.nick||t.author.toString()),n&&T("i",{className:y.default.separatorRight},void 0,": "),n?null:s))},t}(a.Component);t.MessageUsername=A,A.displayName="MessageUsername",A.defaultProps={isCompact:!1};var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onDeleteMessages=function(){var e=t.props,n=e.messages,r=e.channelId,a=e.onDeleteMessage;n.forEach(function(e){return a(r,e.id,!0)})},t}return S(t,e),t.prototype.render=function(){var e=this.props.messages.length;return T("div",{className:y.default.localBotMessage},void 0,_.default.Messages.ONLY_YOU_CAN_SEE_AND_DELETE_THESE.format({count:e,handleDelete:this.onDeleteMessages}))},t}(a.Component);t.LocalBotMessage=M,M.displayName="LocalBotMessage";var R=function(e){var t=e.onClick,n=e.label;return t&&n?T(f.default,{className:y.default.clickOverride,onClick:t,"aria-label":n}):T("div",{className:y.default.disableInteraction})};t.ClickOverlay=R;var b=function(e){var t=e.user,n=e.isAnimated,r=e.onContextMenu,a=e.renderPopout,o=(0,l.hasAnimatedAvatar)(t),i=n&&o?t.getAvatarURL("gif"):t.getAvatarURL("jpg");return T(p.default,{closeOnScroll:!1,render:a,position:p.default.Positions.RIGHT,shadow:!1},void 0,T(s.default,{"aria-hidden":!0,src:i,size:s.default.Sizes.LARGE,className:y.default.avatar,onContextMenu:r,tabIndex:-1}))};t.MessageAvatar=b,b.displayName="MessageAvatar";var P=function(e){function t(t){var n;return(n=e.call(this,t)||this).setRenderPopout=function(){var e=n.props.message.messageReference,t=null!=e&&null!=e.guild_id;n.renderPopout=t?n.renderPopoutGuild:n.renderPopoutUser},n.setRef=function(e){var t=n.props,r=t.registerMessageDOMNode,a=t.message;n.ref=e,null!=e&&null!=r&&r(a.id,e)},n.onClick=function(e){var t=n.props,r=t.onManualAck,a=t.channel,o=t.message;e.altKey&&(e.preventDefault(),r(a.id,o.id))},n.onContextMenuMessage=function(e,t){(0,n.props.onContextMenuMessage)(e,E({target:e.target},t))},n.onContextMenuUser=function(e){var t=n.props,r=t.channel,a=t.message.author;(0,t.onContextMenuUser)(e,{user:a,channel:r})},n.onClickUsername=function(e,t){var r=n.props,a=r.onClickUsername,o=r.channel;a(e,{user:t.author,channel:o})},n.onResize=function(e){var t=n.props;(0,t.onResize)({target:e,isEditing:t.isEditing})},n.renderPopoutUser=function(e){var t=n.props,r=t.renderPopoutUser,a=t.channel,o=t.message.author,i=a.getGuildId();return r(E({channelId:a.id,guildId:i,userId:o.id},e))},n.renderPopoutGuild=function(e){var t=n.props,r=t.renderPopoutGuild,a=t.message.messageReference;return null==a?null:r(E({messageReference:a},e))},n.renderCompactHeader=function(){var e=n.props,t=e.message,r=e.isHeader,o=e.isEditing,i=e.popoutPosition,l=e.backgroundOpacity,u=o||r,s=t.mentioned,d={message:t,isCompact:!0,renderPopout:n.renderPopout,popoutPosition:i,onContextMenu:n.onContextMenuUser,onClick:n.onClickUsername,backgroundOpacity:l};return T("h2",{className:y.default.headerCompact},void 0,T(C,{isVisibleOnlyOnHover:!u,isCompact:!0,timestamp:t.timestamp,isMentioned:s,backgroundOpacity:l}),a.createElement(A,d))},n.setRenderPopout(),n}S(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.isEditing,r=t.message,a=t.onResize,o=t.registerMessageDOMNode,i=e.message.embeds!==r.embeds||e.message.attachments!==r.attachments||e.message.reactions.length!==r.reactions.length;this.ref&&i&&a({isEditing:n,target:this.ref});var l=e.isEditing!==n;this.ref&&l&&a({isEditing:!0,target:this.ref}),e.registerMessageDOMNode!==o&&o&&this.ref&&o(r.id,this.ref),e.message.messageReference!==r.messageReference&&this.setRenderPopout()},n.renderCompact=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,o=e.renderEditor,i=e.renderButtons,l=e.editingContent,u=e.isEditing,s=e.onCancelEditing,d=e.onChange,c=e.onConfirmDelete,f=e.saveMessage,p=e.validateEdit,m=e.disableButtons,_=e.disableMentionStyles,g=e.disablePromoteButton,E=e.isDisabled;return a.createElement("div",{ref:this.setRef,className:y.default.messageCompact,"aria-disabled":E,onClick:this.onClick},u&&this.renderCompactHeader(),u&&null!=l?T(v.default,{className:y.default.messageEditorCompact,channel:n,message:t,value:l,children:o,onCancel:s,onChange:d,onConfirmDelete:c,onResize:this.onResize,saveMessage:f,validateEdit:p}):T(h.default,{className:y.default.contentCompact,channel:n,message:t,isCompact:!0,onContextMenu:this.onContextMenuMessage,renderButtons:i,renderPrefix:this.renderCompactHeader,disableButtons:m,disableMentionStyles:_,disablePromoteButton:g}),r({message:t}))},n.renderCozy=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,i=e.renderEditor,l=e.renderButtons,u=e.isFocusedWindow,s=e.disableAvatarAnimation,d=e.editingContent,c=e.isEditing,f=e.isHeader,p=e.onCancelEditing,m=e.onChange,_=e.onConfirmDelete,g=e.saveMessage,E=e.validateEdit,S=e.popoutPosition,I=e.disableButtons,O=e.disableMentionStyles,N=e.disablePromoteButton,M=e.isDisabled,R=e.cozyClassName,P=e.backgroundOpacity,L={message:t,isCompact:!1,renderPopout:this.renderPopout,popoutPosition:S,onContextMenu:this.onContextMenuUser,onClick:this.onClickUsername,backgroundOpacity:P};return a.createElement("div",{ref:this.setRef,className:(0,o.default)(R,y.default.messageCozy),"aria-disabled":M,onClick:this.onClick},f?T("div",{className:y.default.headerCozy},void 0,T(b,{user:t.author,onContextMenu:this.onContextMenuUser,renderPopout:this.renderPopout,isAnimated:!s&&u}),T("h2",{className:y.default.headerCozyMeta},void 0,a.createElement(A,L),T(C,{timestamp:t.timestamp,backgroundOpacity:P}))):null,T("div",{className:y.default.contentCozy},void 0,c&&null!=d?T(v.default,{channel:n,message:t,value:d,children:i,onCancel:p,onChange:m,onConfirmDelete:_,onResize:this.onResize,saveMessage:g,validateEdit:E}):T(h.default,{channel:n,message:t,isCompact:!1,onContextMenu:this.onContextMenuMessage,renderButtons:l,renderPrefix:null,disableButtons:I,disableMentionStyles:O,disablePromoteButton:N}),r({message:t})))},n.render=function(){var e=this.props,t=e.isCompact,n=e.disableJumpFlash,r=e.jumpSequenceId,a=t?this.renderCompact():this.renderCozy();return r&&!n?T(d.default,{sequenceId:r},void 0,a):a},t}(a.Component);t.Message=P,P.displayName="Message",P.defaultProps={disableAvatarAnimation:!0,disablePromoteButton:!0,isFocusedWindow:!0};var L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={disableAvatarAnimation:!0,isAnimatableAvatar:(0,l.hasAnimatedAvatar)(t.props.messages[0]&&t.props.messages[0].author)},t.onMouseEnter=function(){return t.setState({disableAvatarAnimation:!1})},t.onMouseLeave=function(){return t.setState({disableAvatarAnimation:!0})},t.renderButtonsMessage=function(e){var n=e.message,r=e.channel,a=t.props.renderButtonsMessage;return null==a?null:T("div",{className:y.default.buttonContainer},void 0,a({message:n,channel:r}))},t}S(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){var n=this.props.messages;if(n.length!==e.messages.length)return!0;if(!(0,i.default)(this.props,e,["messages"])||!(0,i.default)(this.state,t))return!0;for(var r=!1,a=!1,o=!1,l=0,u=n.length;l<u;l++){var s=e.messages[l];if(!r&&s.reactions.length&&(r=!0),!a&&s.embeds.length&&(a=!0),!o&&s.attachments.length&&(o=!0),n[l]!==s)return!0}var d=this.props,c=d.disableReactionReads,f=d.disableReactionCreates,p=d.disableReactionUpdates,h=d.disableAutoPlayGif,v=d.disableEmbeds,m=d.disableManageMessages,_=d.disableDeveloperMode,y=d.disablePromoteButton;return!(!r||p===e.disableReactionUpdates&&c===e.disableReactionReads)||(!(!a||h===e.disableAutoPlayGif&&v===e.disableEmbeds)||(!(!o||h===e.disableAutoPlayGif)||(f!==e.disableReactionCreates||m!==e.disableManageMessages||_!==e.disableDeveloperMode||y!==e.disablePromoteButton)))},t.getDerivedStateFromProps=function(e,t){var n=e.messages[0],r=n&&(0,l.hasAnimatedAvatar)(n.author);return r!==t.isAnimatableAvatar?{isAnimatableAvatar:r}:null},n.render=function(){var e,t=this,n=this.props,r=n.messages,i=n.channel,l=n.editingMessage,u=n.renderButtonsGroup,s=n.renderSystemMessage,d=n.onClick,c=n.onDeleteMessage,f=n.disableInteraction,p=n.disableInteractionLabel,h=n.disableDivider,v=n.disablePromoteButton,_=n.editingContent,g=n.isCompact,S=n.jumpMessageId,I=n.jumpSequenceId,O=n.className,N=n.backgroundOpacity,C=(n.renderButtonsMessage,n.disableReactionReads,n.disableReactionCreates,n.disableReactionUpdates,n.disableAutoPlayGif,n.disableEmbeds,n.disableManageMessages,n.disableDeveloperMode,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["messages","channel","editingMessage","renderButtonsGroup","renderSystemMessage","onClick","onDeleteMessage","disableInteraction","disableInteractionLabel","disableDivider","disablePromoteButton","editingContent","isCompact","jumpMessageId","jumpSequenceId","className","backgroundOpacity","renderButtonsMessage","disableReactionReads","disableReactionCreates","disableReactionUpdates","disableAutoPlayGif","disableEmbeds","disableManageMessages","disableDeveloperMode"])),A=this.state,b=A.isAnimatableAvatar,L=A.disableAvatarAnimation,D=r[0]&&r[0].author,w=D&&D.isLocalBot(),U=null!=d||f,G=null!=l?l.id:null;return T("div",{className:(0,o.default)(O,(e={},e[y.default.isLocalBot]=w,e[y.default.containerCompactBounded]=g&&null==G,e[y.default.containerCozyBounded]=!g&&null==G,e[y.default.containerCompact]=g&&null!=G,e[y.default.containerCozy]=!g&&null!=G,e)),onMouseEnter:b?this.onMouseEnter:null,onMouseLeave:b?this.onMouseLeave:null},void 0,r.map(function(e,n){if(!e)return null;if(e.type!==m.MessageTypes.DEFAULT)return T("div",{className:y.default.content},e.id,s({message:e,channel:i,renderButtons:t.renderButtonsMessage}));var r=G===e.id,o=e.id===S,l=E({},C,{isCompact:g,isEditing:r,isDisabled:U,channel:i,message:e,editingContent:_,disableAvatarAnimation:L,disablePromoteButton:v,backgroundOpacity:N,jumpSequenceId:o?I:null,disableButtons:U||null!=u,isHeader:0===n,renderButtons:t.renderButtonsMessage});return a.createElement(P,E({},l,{key:e.id}))}),w&&T(M,{channelId:i.id,messages:r,onDeleteMessage:c}),U&&T(R,{onClick:d,label:p}),u&&u({messages:r,channel:i}),!w&&T("hr",{"aria-hidden":!0,className:(0,o.default)(h?y.default.divider:y.default.dividerEnabled,y.default[N+"BackgroundOpacity"])}))},t}(a.Component);t.default=L,L.displayName="MessageGroup",L.defaultProps={popoutPosition:p.default.Positions.RIGHT,disableDivider:!0,disableInteraction:!1,disableReactionReads:!1,disableReactionCreates:!0,disableReactionUpdates:!0,disableAutoPlayGif:!1,disableEmbeds:!1,disableManageMessages:!0,disableDeveloperMode:!0,disablePromoteButton:!0,disableInteractionLabel:void 0}},6365:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(304))&&r.__esModule?r:{default:r},l=n(244),u=n(5986);var s=.2,d={toValue:0,duration:1e3,delay:1e3},c=(0,u.hexWithOpacity)(l.Colors.BRAND,0),f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={backgroundColor:new i.default.Value},t.flashNow=function(){var e=t.props.onFlashComplete;t.state.backgroundColor.setValue(s),i.default.timing(t.state.backgroundColor,d).start(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.flashNow()},o.componentDidUpdate=function(e){e.sequenceId!==this.props.sequenceId&&this.flashNow()},o.render=function(){var e={backgroundColor:this.state.backgroundColor.interpolate({inputRange:[0,1],outputRange:[c,l.Colors.BRAND]}),borderRadius:2};return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.div,{style:e},void 0,this.props.children)},r}(o.Component);t.default=f,f.displayName="BackgroundFlash"},6366:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(314)),i=n(0),l=s(n(10)),u=s(n(5279));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).node=a.createRef(),t.onClickSave=function(){var e=t.props.value;t.onSubmit(e)},t.onSubmit=function(e){var n=t.props,r=n.message,a=n.channel,i=n.onConfirmDelete,l=n.onCancel,u=n.saveMessage,s=n.validateEdit;return 0===e.length?(i(a,r),l(),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):s({value:e,channel:a}).then(function(n){if(!n.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var r=o.default.parse(t.props.channel,e,!0);return r.content!==t.props.message.content&&u(t.props.channel.id,t.props.message.id,r),l(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})},t.onChange=function(e,n){(0,t.props.onChange)(n)},t.onKeyDown=function(e){if(e.keyCode===i.KeyboardKeys.ESCAPE&&!e.shiftKey){var n=t.props.onCancel;e.preventDefault(),n()}},t.onResize=function(){var e=t.props.onResize,n=t.node.current;e&&n instanceof HTMLElement&&e(n)},t}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.prototype.render=function(){var e=this.props,t=e.className,n=e.value,o=e.message,i=e.channel,s=e.onCancel,d=e.children;return a.createElement("div",{className:t,ref:this.node},d({value:n,message:o,channel:i,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,onResize:this.onResize}),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:u.default.operations},void 0,l.default.Messages.EDIT_TEXTAREA_HELP.format({onCancel:s,onSave:this.onClickSave})))},s}(a.PureComponent);t.default=d,d.displayName="MessageEditor"},6367:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MessageOptionPopout=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=n(5869),l=p(n(112)),u=p(n(231)),s=p(n(795)),d=n(0),c=p(n(10)),f=p(n(5281));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCopyID=function(e){var n=t.props,r=n.message,a=n.onClose;(0,i.copy)(e.shiftKey?r.channel_id+"-"+r.id:r.id),a()},t.handleCopyLink=function(){var e=t.props,n=e.channel,r=e.message,a=e.onClose;(0,i.copy)(location.protocol+"//"+location.host+d.Routes.CHANNEL(n.guild_id,n.id,r.id)),a()},t.handleEdit=function(){var e=t.props,n=e.channel,r=e.message,a=e.onClose;(0,e.onStartEditMessage)(n.id,r.id,r.content),a()},t.handleRetry=function(){var e=t.props,n=e.channel,r=e.message,a=e.onClose;(0,e.onRetrySendMessage)(n,r.id,r.content,r.tts),a()},t.handleDelete=function(){var e=t.props,n=e.onDeleteMessage,r=e.onClose,a=e.onConfirmDelete;t.props.message.state===d.MessageStates.SEND_FAILED?n(t.props.channel.id,t.props.message.id,!0):a(t.props.channel,t.props.message),r()},t.handleReactions=function(){var e=t.props,n=e.onClose,r=e.message;(0,e.onShowReactionsModal)({message:r}),n()},t.handlePin=function(){var e=t.props,n=e.onConfirmPin,r=e.channel,a=e.message,o=e.onClose;n(r,a),o()},t.handleJoinNotifConfiguration=function(){var e=t.props,n=e.channel,r=e.onClose,a=e.onOpenGuildSettings,o=n.getGuildId();null!=o&&a(o,d.GuildSettingsSections.OVERVIEW),r()},t.handleUnpin=function(e){var n=t.props,r=n.onUnpinMessage,a=n.onConfirmUnpin,o=n.channel,i=n.onClose,l=n.message;e.shiftKey?r(o,l.id):a(o,l),i()},t.renderJoinNotificationOption=function(){var e=t.props,n=e.message,r=e.channel,a=e.onCanManageGuild,o=r.getGuildId();return null==o?null:n.type===d.MessageTypes.USER_JOIN&&a({guildId:o})?h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:t.handleJoinNotifConfiguration},void 0,c.default.Messages.CONFIGURE):null},t}return v(t,e),t.prototype.render=function(){var e,t,n,r,o,u,s=this.props,p=s.message,v=s.currentUserId;return p.state===d.MessageStates.SEND_FAILED?e=h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleRetry,role:"menuitem"},void 0,c.default.Messages.RETRY):(this.props.canEdit&&p.author.id===v&&(t=h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleEdit,role:"menuitem"},void 0,c.default.Messages.EDIT)),this.props.canPin&&(n=!1===p.pinned?h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handlePin,role:"menuitem"},void 0,c.default.Messages.PIN):h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleUnpin,role:"menuitem"},void 0,c.default.Messages.UNPIN))),i.SUPPORTS_COPY&&this.props.developerMode&&(r=h(a.Fragment,{},void 0,h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleCopyID,role:"menuitem"},void 0,c.default.Messages.COPY_ID),h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleCopyLink,role:"menuitem"},void 0,c.default.Messages.COPY_LINK))),this.props.canDelete&&(o=h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleDelete,role:"menuitem"},void 0,c.default.Messages.DELETE)),p.reactions.length&&(u=h(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:f.default.item,onClick:this.handleReactions,role:"menuitem"},void 0,c.default.Messages.REACTIONS)),h("div",{className:f.default.container,role:"menu"},void 0,n,t,e,r,o,u,this.renderJoinNotificationOption())},t}(a.PureComponent);t.MessageOptionPopout=m,m.displayName="MessageOptionPopout";var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderOptionPopout=function(e){var n=e.onClose,r=t.props,a=r.channel,o=r.message,i=r.canDelete,l=r.canEdit,u=r.canPin,s=r.developerMode,d=r.currentUserId,c=r.onStartEditMessage,f=r.onRetrySendMessage,p=r.onDeleteMessage,v=r.onConfirmPin,_=r.onOpenGuildSettings,y=r.onUnpinMessage,g=r.onConfirmUnpin,E=r.onCanManageGuild,S=r.onConfirmDelete,T=r.onShowReactionsModal;return h(m,{channel:a,message:o,developerMode:s,canEdit:l,canPin:u,canDelete:i,onClose:n,onStartEditMessage:c,onRetrySendMessage:f,onDeleteMessage:p,onConfirmDelete:S,onConfirmPin:v,onOpenGuildSettings:_,onUnpinMessage:y,onConfirmUnpin:g,onCanManageGuild:E,onShowReactionsModal:T,currentUserId:d})},t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,r=e.canDelete,a=e.canPin,l=e.developerMode,d=e.className;return t.author.isLocalBot()?null:t.author.id===n||r||a||i.SUPPORTS_COPY&&l?h(s.default,{closeOnScroll:!1,render:this.renderOptionPopout,position:s.default.Positions.BOTTOM,offsetY:-6},void 0,h(u.default,{className:(0,o.default)(f.default.button,d),"aria-label":c.default.Messages.MESSAGE_OPTIONS})):null},t}(a.PureComponent);t.default=_,_.displayName="MessageOptionButton"},6368:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=l(n(2)),o=l(n(112)),i=(r=n(5282))&&r.__esModule?r:{default:r};function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var t=e.title,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["title"]);return a.createElement(o.default,u({className:i.default.button},n,{size:o.ButtonSizes.MIN}),t)};s.displayName="MessagePromoteButton",s.Colors=o.default.Colors,s.Looks=o.default.Looks;var d=s;t.default=d},6369:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(9)),a=l(n(1)),o=l(n(6034)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={search:function(e,t){null==o.default.getResults(e,t)&&(a.default.dirtyDispatch({type:i.ActionTypes.INTEGRATION_QUERY,integration:e,query:t}),r.default.get({url:i.Endpoints.INTEGRATION_SEARCH(i.ChannelTextAreaIntegrations[e].command),query:{q:t}}).then(function(n){a.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_SUCCESS,integration:e,query:t,results:n.body})},function(){return a.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_FAILURE,integration:e,query:t})}))}};t.default=u},6370:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=L(n(17)),i=L(n(6)),l=L(n(6720)),u=L(n(114)),s=L(n(304)),d=n(303),c=L(n(802)),f=L(n(6100)),p=L(n(6556)),h=n(234),v=n(5258),m=n(5871),_=L(n(8)),y=n(192),g=n(6371),E=L(n(6035)),S=L(n(112)),T=L(n(6372)),I=L(n(6373)),O=L(n(158)),N=L(n(302)),C=L(n(6329)),A=L(n(795)),M=L(n(426)),R=n(0),b=L(n(10)),P=L(n(5286));function L(e){return e&&e.__esModule?e:{default:e}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=/(\t|\s)/,F="UPLOAD_A_FILE",j="INVITE_TO_GAME",B="INVITE_TO_SPECTATE_GAME",H="INVITE_TO_LISTEN",x="INVITE_TO_WATCH",V=function(e,t,n,r){var a=[];return e&&a.push({type:F,icon:N.default.Names.UPLOAD,display:b.default.Messages.CHAT_ATTACH_UPLOAD_A_FILE}),t&&r.forEach(function(e){e.type===R.ActivityTypes.PLAYING&&(0,h.hasFlag)(e,R.ActivityFlags.JOIN)&&a.push({type:j,icon:N.default.Names.GAMEPAD,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===R.ActivityTypes.PLAYING&&(0,h.hasFlag)(e,R.ActivityFlags.SPECTATE)&&a.push({type:B,icon:N.default.Names.EYE,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_SPECTATE_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===R.ActivityTypes.LISTENING&&(0,h.hasFlag)(e,R.ActivityFlags.SYNC)&&a.push({type:H,icon:N.default.Names.PERSON_PLAY,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e}),e.type===R.ActivityTypes.WATCHING&&(0,h.hasFlag)(e,R.ActivityFlags.SYNC)&&a.push({type:x,icon:N.default.Names.EYE,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e})}),a},Y=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleFileUpload=function(){var e=n.props.onFileUpload;n.close(),e&&e()},n.handleInviteToPlay=function(e){var t=n.props.onInviteToPlay;n.close(),t&&t(e)},n.handleInviteToSpectate=function(e){var t=n.props.onInviteToSpectate;n.close(),t&&t(e)},n.handleInviteToListen=function(e){var t=n.props.onInviteToListen;n.close(),t&&t(e)},n.handleInviteToWatch=function(e){var t=n.props.onInviteToWatch;n.close(),t&&t(e)},n.state={animations:V(t.canAttachFiles,t.canSendInvites,t.channel,t.activities).map(function(){return new s.default.Value(0)})},n}G(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=[].concat(this.state.animations).reverse();s.default.stagger(50,e.map(function(e){return s.default.timing(e,{duration:200,toValue:1})})).start()},n.getOnClick=function(e){var t=this;switch(e.type){case F:return this.handleFileUpload;case j:var n=e.activity;return function(){return t.handleInviteToPlay(n)};case B:var r=e.activity;return function(){return t.handleInviteToSpectate(r)};case H:var a=e.activity;return function(){return t.handleInviteToListen(a)};case x:var o=e.activity;return function(){return t.handleInviteToListen(o)}}},n.close=function(){c.default.close("popout-channel-text-area-attachments")},n.render=function(){var e=this,t=this.props,n=t.canAttachFiles,r=t.canSendInvites,a=t.channel,o=t.activities,i=V(n,r,a,o).map(function(t,n){var r=e.state.animations[n];return U(s.default.div,{onClick:e.getOnClick(t),className:P.default.attachPopoutRow,style:{opacity:r}},n,U(O.default,{align:O.default.Align.CENTER},void 0,U(N.default,{name:t.icon,className:P.default.attachPopoutIcon,foreground:P.default.attachPopoutIconForeground}),U("div",{className:P.default.attachPopoutRowText},void 0,t.display)))});return U("div",{className:P.default.attachPopout},void 0,i)},t}(a.PureComponent);function K(e){return{prefix:null,focused:e,selectionStart:0,selectionEnd:0,selectedAutocomplete:0,autocompleteType:null,submitting:!1}}Y.displayName="ChannelTextAreaAttachPopout";var W=function(e){function t(t){var n;return(n=e.call(this,t)||this)._gifPickerButtonRef=a.createRef(),n._mounted=!1,n.handleContextMenu=function(e){var t=n.props.type;if(_.default.embedded){var r=(0,v.getSelectionText)();(0,d.openContextMenu)(e,function(e){return a.createElement(p.default,D({},e,{type:t===R.TextareaTypes.EDIT?R.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT:R.ContextMenuTypes.CHANNEL_TEXT_AREA,value:r}))})}},n.state=K(!1),w(n).saveCurrentTextThrottled=i.default.throttle(n.saveCurrentText.bind(w(n),!1),500),i.default.bindAll(w(n),["focus","saveCurrentText","renderAttachPopout","handleSetRef","handleSetFileInputRef","handleKeyPress","handleKeyDown","handleKeyUp","handleStartFileUpload","handleFileUpload","handleOuterClick","handleClick","handleContextMenu","handleAutocompleteClick","handleAutocompleteHover","handleOnChange","handleFocus","handleBlur","handlePaste","handleSelectGIF","handleSelectEmoji"]),n}G(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.value;this._ref&&this._ref.setSelection(e.length,e.length),this._mounted=!0,this.maybeShowAutocomplete(),window.addEventListener("beforeunload",this.saveCurrentText)},n.componentWillUnmount=function(){this._mounted=!1,this.saveCurrentText(),window.removeEventListener("beforeunload",this.saveCurrentText)},n.componentDidUpdate=function(e){var t=this;this.props.value!==e.value&&(this.maybeShowAutocomplete(function(){return t.fixSelectedAutocomplete()}),this.saveCurrentTextThrottled())},n.focus=function(){this._ref&&this._ref.focus()},n.blur=function(){this._ref&&this._ref.blur()},n.fixSelectedAutocomplete=function(){this.state.selectedAutocomplete>=this.getAutocompletes().length&&this.setState({selectedAutocomplete:0})},n.insertText=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=!0);var a=this._ref;if(null!=a){var o=this.state,i=o.selectionStart,l=o.selectionEnd,u=a.value.slice(0,t?a.selectionStart:i),s=a.value.slice(t?a.selectionEnd:l);n&&(e+=" ");var d=u+e+s,c=this.props.onChange;c&&c(null,d),this.setState({selectionStart:a.selectionStart,selectionEnd:a.selectionEnd},function(){var t=u.length+e.length;a.setSelection(t,t),r.maybeShowAutocomplete()}),this.saveCurrentText()}},n.clearValue=function(){this.setState(K(!0)),this.saveCurrentText()},n.saveCurrentText=function(e){void 0===e&&(e=!0);var t=this.props,n=t.type,r=t.onSaveCurrentText,a=t.channel;n===R.TextareaTypes.NORMAL&&(e&&this.saveCurrentTextThrottled.cancel(),r&&r(a.id))},n.maybeShowAutocomplete=function(e){var t=this._ref;if(null!=t){var n=this.props,r=n.value,a=n.autocompleteOptions,o=n.onAutocompleteQuery;if(0!==r.trim().length){var l,u=t.selectionStart,s=t.selectionEnd,d=!1,c=null;do{var f=k.test(r[u-1]);if(0===u||f)if("break"===function(){var e=(l=r.slice(u,s)).slice(1).toLowerCase();if(null!=(c=(0,i.default)(a).keys().find(function(t){return a[t].matches(l[0],e,u)}))){var t=a[c];return o&&o(t,e,c),d=!0,"break"}}())break}while(--u>=0);this.setState({prefix:d?l:null,selectionStart:u,selectionEnd:s,autocompleteType:c},e)}else this.getAutocompletes().length>0&&this.setState({prefix:null})}},n.getAutocompletes=function(){var e=this.props.autocompletes,t=[];if(null!=e)for(var n in e){e[n].forEach(function(e){return t.push(e)})}return t},n.moveSelection=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,a=this.getAutocompletes().length;return 0!==a&&null!=r&&(n+e>=a?this.setState({selectedAutocomplete:0}):n+e<0?this.setState({selectedAutocomplete:a-1}):this.setState({selectedAutocomplete:n+e}),!0)},n.selectAutocompletion=function(e){var t=null,n=this.state,r=n.autocompleteType,a=n.prefix,o=this.props,i=o.autocompleteOptions,l=o.autocompletes;if(null!=r&&null!=i[r]&&null!=l){var u=i[r];t=u.getText(e,l);var s=u.onSelect;if(null!=s&&null!=a)s(a.slice(1),e,l)}null!=t&&("REACTIONS"===r?this.handleSubmit(t):this.insertText(t,!1))},n.getEnabledMode=function(){var e=this.props,t=e.disabled,n=e.canAttachFiles,r=e.canSendInvites,a=e.channel,o=e.activities,i=this.state.submitting;return t||i?"Disabled":0===V(n,r,a,o).length?"EnabledNoAttach":""},n.getAutocompleteMode=function(){var e=this.props.renderCustomAutocomplete,t=this.state,n=t.prefix,r=t.focused;return null!=n&&r||null!=e?"Autocomplete":"NoAutocomplete"},n.getTypeMode=function(){switch(this.props.type){case R.TextareaTypes.EDIT:return"Edit";case R.TextareaTypes.FORM:return"Form";default:return""}},n.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0},n.renderAttachPopout=function(e){var t=this.props,n=t.channel,r=t.canAttachFiles,o=t.canSendInvites,i=t.activities,l=t.onInviteToPlay,u=t.onInviteToSpectate,s=t.onInviteToListen,d=t.onInviteToWatch;return a.createElement(Y,D({},e,{canAttachFiles:r,canSendInvites:o,channel:n,activities:i,onFileUpload:this.handleStartFileUpload,onInviteToPlay:l,onInviteToSpectate:u,onInviteToListen:s,onInviteToWatch:d}))},n.renderAttachButton=function(){var e=this.props,t=e.disabled,n=e.type,r=e.canAttachFiles,a=e.canSendInvites,o=e.channel,i=e.activities,l=e.onOpenAttachPopout;if(t||n!==R.TextareaTypes.NORMAL||0===V(r,a,o,i).length)return null;var u=i.some(function(e){return(0,h.hasFlag)(e,R.ActivityFlags.SYNC)}),s=i.some(function(e){return(0,h.canJoinOrSpectate)(e)})||u;return a&&s?U(O.default,{},void 0,U(A.default,{closeOnScroll:!1,render:this.renderAttachPopout,position:A.default.Positions.TOP_LEFT,shadow:!1,animationType:A.default.Animations.NONE,uniqueId:"popout-channel-text-area-attachments",onOpen:l},void 0,U(S.default,{look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:P.default.attachButton,innerClassName:P.default.attachButtonInner,"aria-label":b.default.Messages.CHAT_ATTACH_UPLOAD_OR_INVITE},void 0,U(N.default,{name:N.default.Names.PLUS_CIRCLE_PLAY,className:P.default.attachButtonIcon,foreground:P.default.attachButtonPlay,background:P.default.attachButtonPlus,width:24,height:24}))),U("div",{className:P.default.attachButtonDivider})):U(O.default,{className:P.default.attachWrapper},void 0,U(S.default,{look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,onClick:this.handleStartFileUpload,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:P.default.attachButton,innerClassName:P.default.attachButtonInner,"aria-label":b.default.Messages.CHAT_ATTACH_UPLOAD_A_FILE},void 0,U(N.default,{name:N.default.Names.PLUS_CIRCLE,className:P.default.attachButtonIcon,foreground:P.default.attachButtonPlus,width:24,height:24})),U("div",{className:P.default.attachButtonDivider}))},n.renderPremiumGiftButton=function(){var e=this.props,t=e.disabled,n=e.onPremiumGiftClick,r=e.shouldRenderPremiumGiftButton;return t||!r?null:U(M.default,{text:b.default.Messages.PREMIUM_GIFT_BUTTON_TOOLTIP},void 0,U(T.default,{className:P.default.button,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_PREMIUM_GIFT),iconName:N.default.Names.GIFT,onClick:n,isActive:!1,label:b.default.Messages.PREMIUM_GIFT_BUTTON_LABEL}))},n.getGIFPickerButton=function(){return this._gifPickerButtonRef.current},n.renderGIFPickerButton=function(){var e=this.props,t=e.disabled,n=e.isGIFPickerActive,r=e.onGIFPickerToggle,o=e.justFavorited,i=e.shouldShowTooltipOnFavorite;if(t||null==r)return null;var l=a.createElement("div",{ref:this._gifPickerButtonRef,className:P.default.buttonContainer},U(T.default,{className:P.default.button,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_GIF_PICKER),iconName:N.default.Names.INVERTED_GIF_LABEL,iconClassName:P.default.gifPickerIcon,onClick:r,isActive:n,pulse:o,label:b.default.Messages.PREMIUM_GIFT_BUTTON_LABEL}));return o&&i?U(M.default,{text:b.default.Messages.GIF_TOOLTIP_FAVORITED_PICKER_BUTTON,forceOpen:!0},void 0,l):l},n.renderEmojiButton=function(){var e=this.props,t=e.channel,n=e.renderEmojiPickerPopout;return e.disabled||null==n?null:U(I.default,{className:P.default.button,onSelectEmoji:this.handleSelectEmoji,channel:t,renderEmojiPickerPopout:n,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_EMOJI)})},n.renderAutocomplete=function(){var e=this.props,t=e.autocompleteOptions,n=e.autocompletes,r=e.renderCustomAutocomplete,a=this.state,o=a.focused,i=a.autocompleteType,l=a.selectedAutocomplete,u=a.prefix;if(null!=r)return U(E.default,{className:P.default.autocomplete,isCustom:!0,onMouseDown:this.handleAutocompleteMouseDown},void 0,r(u));if(!o||null==i||null==t[i]||null==u||null==n)return null;var s=u.slice(1).toLowerCase();return U(E.default,{className:P.default.autocomplete,onMouseDown:this.handleAutocompleteMouseDown},void 0,t[i].renderResults(s,l,this.handleAutocompleteHover,this.handleAutocompleteClick,n))},n.render=function(){var e=this.props,t=e.value,n=e.disabled,r=e.placeholder,i=e.onResize,l=e.className,u=e.backgroundOpacity,s=e.channel,d=this.state.submitting,c=n?b.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:r,p=s.rateLimitPerUser<=0,h=this.getEnabledMode(),v=this.getAutocompleteMode(),_=this.getTypeMode();return U("div",{className:(0,o.default)((0,y.getClass)(P.default,"channelTextArea",h),l),onClick:this.handleOuterClick},void 0,U("div",{className:(0,o.default)((0,y.getClass)(P.default,"inner",h),(0,y.getClass)(P.default,"inner",v),P.default[u+"BackgroundOpacity"])},void 0,this.renderAttachButton(),U("div",{className:P.default.uploadInput},void 0,a.createElement(f.default,{ref:this.handleSetFileInputRef,onChange:this.handleFileUpload,multiple:p,tabIndex:-1,maxSize:(0,m.maxFileSize)(s.getGuildId())})),a.createElement(C.default,{ref:this.handleSetRef,className:(0,o.default)((0,y.getClass)(P.default,"textArea",h),(0,y.getClass)(P.default,"textArea",_)),rows:1,fontWidthEstimate:6,autoFocus:!0,placeholder:c,disabled:n||d,onChange:this.handleOnChange,onResize:i,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onClick:this.handleClick,onContextMenu:this.handleContextMenu,value:n?"":t,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA)}),U("div",{className:P.default.buttons},void 0,this.renderPremiumGiftButton(),this.renderGIFPickerButton(),this.renderEmojiButton()),this.renderAutocomplete()))},n.handleSetRef=function(e){this._ref=e},n.handleSetFileInputRef=function(e){this._fileInputRef=e},n.handleKeyPress=function(e){switch(e.which){case R.KeyboardKeys.ENTER:if(!e.shiftKey&&!e.ctrlKey&&!this.hasOpenCodeBlock())return e.preventDefault(),this.handleSubmit()}},n.handleKeyDown=function(e){switch(e.which){case R.KeyboardKeys.ARROW_DOWN:this.moveSelection(1)&&e.preventDefault();break;case R.KeyboardKeys.N:e.ctrlKey&&this.moveSelection(1)&&e.preventDefault();break;case R.KeyboardKeys.ARROW_UP:this.moveSelection(-1)&&e.preventDefault();break;case R.KeyboardKeys.P:e.ctrlKey&&this.moveSelection(-1)&&e.preventDefault();break;case R.KeyboardKeys.TAB:case R.KeyboardKeys.ENTER:this.handleTabOrEnterDown(e)}var t=this.props.onKeyDown;t&&t(e)},n.handleTabOrEnterDown=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,a=this.getAutocompletes();null!=r&&0!==a.length?(e.preventDefault(),e.stopPropagation(),this.selectAutocompletion(n)):e.which===R.KeyboardKeys.TAB&&this.hasOpenCodeBlock()&&(e.preventDefault(),e.stopPropagation(),this.insertText("\t",!0,!1))},n.handleKeyUp=function(e){switch(e.which){case R.KeyboardKeys.ARROW_RIGHT:case R.KeyboardKeys.ARROW_LEFT:this.maybeShowAutocomplete()}var t=this.props.onKeyUp;t&&t(e)},n.handleStartFileUpload=function(){this._fileInputRef&&this._fileInputRef.activateUploadDialogue()},n.handleFileUpload=function(e){var t=this.props.onFileUpload;t&&t(e.currentTarget.files)},n.handleSubmit=function(e){var t=this,n=this.props,r=n.value,a=n.onSubmit,o=n.type,i=(e||r).trim();this.state.submitting||this.setState({submitting:!0},function(){a&&a(i).then(function(e){var n=e.shouldClear,r=e.shouldRefocus;t._mounted&&(n&&o===R.TextareaTypes.NORMAL&&t.clearValue(),t.setState({submitting:!1},r?t.focus:void 0))})})},n.handleFocus=function(e){var t=this.props.onFocus;t&&t(e),this.setState({focused:!0})},n.handleBlur=function(e){var t=this.props.onBlur;t&&t(e),this.setState({focused:!1})},n.handlePaste=function(e){var t=this,n=this.props,r=n.channel,a=n.onFileUpload,o=n.canPasteFiles;if(!(n.type!==R.TextareaTypes.NORMAL||null==e.clipboardData||null==e.clipboardData.items||0===e.clipboardData.items.length||!r.isPrivate()&&!o||r.isPrivate()&&r.isManaged()))for(var i=0;i<e.clipboardData.items.length;i++){var l=e.clipboardData.items[i];!function(){switch(l.type){case"image/png":e.preventDefault();var n=l.getAsFile();if(null==n)break;t.saveCurrentText(),2===e.clipboardData.items.length?e.clipboardData.items[0].getAsString(function(e){a&&a([(0,m.makeFile)(n,t.extractFileName(e))])}):a&&a([(0,m.makeFile)(n)])}}()}},n.extractFileName=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if(t instanceof HTMLImageElement){var n;try{var r=u.default.parse(t.src).pathname;null!=r&&r.length>0&&(n=l.default.basename(r).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return n+".png"}},n.handleOuterClick=function(){this.focus()},n.handleClick=function(){this.maybeShowAutocomplete()},n.handleAutocompleteClick=function(e){return this.selectAutocompletion(e)},n.handleAutocompleteHover=function(e){this.setState({selectedAutocomplete:e})},n.handleAutocompleteMouseDown=function(e){e.preventDefault()},n.handleSelectGIF=function(e){this.handleSubmit(e.url),this.focus()},n.handleSelectEmoji=function(e){null!=e&&this.insertText(":"+e.name+":"),this.focus()},n.handleOnChange=function(e){var t=this.props.onChange,n=e.currentTarget.value;t&&t(e,n)},t}(a.PureComponent);W.displayName="ChannelTextArea",W.defaultProps={type:R.TextareaTypes.NORMAL,disabled:!1,shouldRenderPremiumGiftButton:!1};var z=W;t.default=z},6371:function(e,t,n){"use strict";var r;t.__esModule=!0,t.getTabIndex=function(e){return o.indexOf(e)+1},t.TabIndexKeys=void 0;var a=(0,((r=n(163))&&r.__esModule?r:{default:r}).default)({CHANNEL_TEXT_AREA:null,CHANNEL_TEXT_AREA_PREMIUM_GIFT:null,CHANNEL_TEXT_AREA_GIF_PICKER:null,CHANNEL_TEXT_AREA_EMOJI:null,CHANNEL_TEXT_AREA_UPLOAD:null});t.TabIndexKeys=a;var o=[a.CHANNEL_TEXT_AREA,a.CHANNEL_TEXT_AREA_PREMIUM_GIFT,a.CHANNEL_TEXT_AREA_GIF_PICKER,a.CHANNEL_TEXT_AREA_EMOJI,a.CHANNEL_TEXT_AREA_UPLOAD]},6372:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(112)),l=s(n(302)),u=s(n(5284));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r=this.props,a=r.tabIndex,s=r.className,c=r.iconClassName,f=r.iconName,p=r.onClick,h=r.isActive,v=r.onMouseEnter,m=r.onMouseLeave,_=r.pulse,y=r.label;return d(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,"aria-label":y,tabIndex:a,className:(0,o.default)(u.default.buttonWrapper,(e={},e[u.default.active]=h,e)),innerClassName:(0,o.default)(u.default.button,s,(t={},t[u.default.pulseButton]=_,t)),onClick:p,onMouseEnter:v,onMouseLeave:m},void 0,d(l.default,{name:f,className:(0,o.default)(u.default.icon,c,(n={},n[u.default.pulseIcon]=_,n))}))},r}(a.PureComponent);c.displayName="ChannelTextAreaButton";var f=c;t.default=f},6373:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(192),l=f(n(112)),u=f(n(795)),s=n(0),d=f(n(10)),c=f(n(5285));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={hovered:!1,emojiIndex:0,isPopoutOpen:!1},h(n).renderEmojiPickerPopout=n.renderEmojiPickerPopout.bind(h(n)),h(n).handleMouseOver=n.handleMouseOver.bind(h(n)),h(n).handleMouseEnter=n.handleMouseEnter.bind(h(n)),h(n).handleMouseLeave=n.handleMouseLeave.bind(h(n)),h(n).handlePopoutOpen=n.handlePopoutOpen.bind(h(n)),h(n).handlePopoutClose=n.handlePopoutClose.bind(h(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getSpriteStyle=function(){var e=this.state.emojiIndex;return{backgroundPosition:-e%s.EmojiSprites.PickerPerRow*22+"px "+22*-Math.floor(e/s.EmojiSprites.PickerPerRow)+"px",backgroundSize:22*s.EmojiSprites.PickerPerRow+"px "+22*Math.ceil(s.EmojiSprites.PickerCount/s.EmojiSprites.PickerPerRow)+"px"}},a.renderEmojiPickerPopout=function(e){var t=this.props,n=t.renderEmojiPickerPopout;return n(e,{onSelectEmoji:t.onSelectEmoji,channel:t.channel})},a.render=function(){var e=this.props.tabIndex,t=this.state,n=t.hovered,r=t.isPopoutOpen,a=n||r,f=(0,i.getClass)(c.default,"emojiButton",a?"Hovered":"Normal"),h=(0,i.getClass)(c.default,"sprite",a?"Hovered":"Normal");return p(u.default,{closeOnScroll:!1,render:this.renderEmojiPickerPopout,position:u.default.Positions.TOP_RIGHT,zIndexBoost:1e3,shadow:!1,animationType:u.default.Animations.NONE,subscribeTo:s.ComponentActions.TOGGLE_EMOJI_POPOUT,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose},void 0,p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,tabIndex:e,className:(0,o.default)(f,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"aria-label":d.default.Messages.SELECT_EMOJI},void 0,p("div",{className:h,style:this.getSpriteStyle()})))},a.handleMouseOver=function(){this.handleMouseEnter()},a.handleMouseEnter=function(){if(!this.state.hovered&&!this.state.isPopoutOpen){var e=Math.floor(Math.random()*s.EmojiSprites.PickerCount);this.setState({hovered:!0,emojiIndex:e})}},a.handleMouseLeave=function(){this.setState({hovered:!1})},a.handlePopoutOpen=function(){this.setState({isPopoutOpen:!0})},a.handlePopoutClose=function(){this.setState({isPopoutOpen:!1})},r}(a.PureComponent);v.displayName="EmojiButton";var m=v;t.default=m},6374:function(e,t,n){"use strict";t.__esModule=!0,t.promptToUpload=function(e,t,n,p){void 0===n&&(n=!1);void 0===p&&(p=!0);if(e.length<1)return;var h=t.getGuildId();if(d.anyFileTooLarge(e,h)){var v=s.default.getCurrentUser();r.default.push(l.default,{title:f.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:f.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:d.sizeString(d.maxFileSize(h))}),promo:!c.default.canUploadLargeFiles(v)})}else p?(o.default.pushFiles({files:e,channelId:t.id}),u.default.isModalOpen(i.default)||r.default.push(i.default,{backdropInstant:n})):a.default.instantBatchUpload(t.id,e)};var r=p(n(73)),a=p(n(5952)),o=p(n(6e3)),i=p(n(6168)),l=p(n(5935)),u=(p(n(129)),p(n(438))),s=p(n(14)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(5871)),c=p(n(190)),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}},6375:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(1)),a=d(n(5935)),o=d(n(6376)),i=d(n(162)),l=d(n(73)),u=n(0),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,d){var f="",p=!1;null!=n&&(f=n.content,p=n.tts);var h=new o.default(u.Endpoints.MESSAGES(e));h.on("start",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_START,channelId:e,file:t,uploader:h})}),h.on("progress",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_PROGRESS,channelId:e,file:t})}),h.on("error",function(o,d){r.default.dispatch({type:u.ActionTypes.UPLOAD_FAIL,channelId:e,file:o}),d!==u.AbortCodes.EXPLICIT_CONTENT?l.default.push(a.default,{title:s.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:s.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:function(){l.default.pop(),c(e,t,n)}})}):i.default.sendClydeError(e,d)}),h.on("complete",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_COMPLETE,channelId:e,file:t})});var v={content:f,tts:p,hasSpoiler:d};h.upload(t,v)}var f={instantBatchUpload:function(e,t){Array.prototype.forEach.call(t,function(t){c(e,t)})},upload:c};t.default=f},6376:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(340)),o=l(n(6377)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleXHRProgress=function(e){t._handleProgress(e.loaded,e.total)},t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.upload=function(t,n){var o=this;e.prototype.upload.call(this,t,n);var l=a.default.post(this._url),u=null!=n&&n.hasSpoiler?i.SPOILER_ATTACHMENT_PREFIX:"";l.attach("file",t,""+u+t.name),l.on("error",function(){return o._handleError()}),null!=n&&r.default.each(n,function(e,t){l.field(t,e)});var s=l.end(function(e){e.ok?o._handleComplete():o._handleError(e.body&&e.body.code)}).xhr;s.upload?s.upload.onprogress=this._handleXHRProgress:s.addEventListener("progress",this._handleXHRProgress,!1),this._handleStart(function(){return l.abort()})},o}(o.default);t.default=u},6377:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(38)),a=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this)._lastUpdate=0,n._loaded=0,n._aborted=!1,n._handleStart=function(e){n._cancel=e,n.emit("start",n._file)},n._handleProgress=function(e,t){var r=Date.now(),a=Math.min(Math.floor(e/t*100),100),o=Math.floor((e-n._loaded)/((r-n._lastUpdate)/1e3));n._lastUpdate=r,n._loaded=e,n._file=i({},n._file,{size:t,progress:a,rate:o}),n.emit("progress",n._file)},n._handleError=function(e){n._aborted||(n.emit("error",n._file,e),n.removeAllListeners())},n._handleComplete=function(){n.emit("complete",n._file),n.removeAllListeners()},n._url=t,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.cancel=function(){null!=this._cancel&&(this._aborted=!0,this._cancel()),this._handleComplete()},o.upload=function(e,t){if(null!=this._cancel)throw new Error("Uploader.upload(...): An upload is already in progress.");this._lastUpdate=Date.now(),this._loaded=0,this._file={id:a.default.uniqueId("Uploader"),name:e.name,size:0,progress:0,rate:0}},r}(r.default);t.default=l},6378:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Upload=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(5871));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){this.file=e,this.channelId=t,this.classification=i.classifyFile(e),this.isImage="image"===this.classification,this.sizeString=i.sizeString(e.size),this.filename=e.name};t.Upload=u;var s=[];var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getFirstUpload=function(){return s.length>0?s[0]:null},a.hasAdditionalUploads=function(){return s.length>1},r}(a.default.Store))(o.default,{UPLOAD_MODAL_POP_FILE:function(e){return s.shift(),void(s=[].concat(s))},UPLOAD_MODAL_PUSH_FILES:function(e){var t=e.files,n=e.channelId;s=[].concat(s),r.default.forEach(t,function(e){s.push(new u(e,n))})},UPLOAD_MODAL_CLEAR_ALL_FILES:function(e){s=[]}});t.default=d},6379:function(e,t,n){e.exports=n.p+"9cbfe5105fc5f29ef4e659059ee01a46.svg"},6380:function(e,t,n){var r={"./spritesheet-.png":6381,"./spritesheet-1f3fb.png":6382,"./spritesheet-1f3fc.png":6383,"./spritesheet-1f3fd.png":6384,"./spritesheet-1f3fe.png":6385,"./spritesheet-1f3ff.png":6386,"./spritesheet-emoji.png":6038,"./spritesheet-picker.png":6387};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6380},6381:function(e,t,n){e.exports=n.p+"6a4c3d24e0e1bb9bd102815d01cb3d87.png"},6382:function(e,t,n){e.exports=n.p+"b8fa63048881311b205927b3d4111bf6.png"},6383:function(e,t,n){e.exports=n.p+"757c4d5d07c5691452fde54dca7fcde8.png"},6384:function(e,t,n){e.exports=n.p+"5c0d73f3d0c4e89f92bcedbe1752ae94.png"},6385:function(e,t,n){e.exports=n.p+"df82ca7d3be7d1271f5fb93719ea65fe.png"},6386:function(e,t,n){e.exports=n.p+"7c1fdd7a2f89b4bc6f7968c3fb3b6a14.png"},6387:function(e,t,n){e.exports=n.p+"4e51af83c4879cf313ad553bdc20dcf7.png"},6388:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(3)),i=E(n(1)),l=S(n(5916)),u=E(n(5896)),s=E(n(5953)),d=E(n(231)),c=E(n(158)),f=E(n(302)),p=E(n(5905)),h=n(796),v=E(n(6390)),m=E(n(6042)),_=n(0),y=E(n(10)),g=E(n(5293));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={resultType:null},t.searchBarRef=a.createRef(),t.backToFrontPage=function(e){var n=t.state.resultType;e.keyCode===_.KeyboardKeys.ESCAPE&&null!=n&&(e.stopPropagation(),e.preventDefault(),t.handleClearQuery())},t.handleChangeQuery=function(e){t.search(e,_.GIFPickerResultTypes.SEARCH)},t.handleSelectSuggestion=function(e){l.resetSearch(),t.search(e,_.GIFPickerResultTypes.SEARCH_SUGGESTION,!0)},t.handleClearQuery=function(){var e=t.searchBarRef.current;l.resetSearch(),t.setState({resultType:null}),null!=e&&e.focus()},t.handleSelectGIF=function(e){var n=t.props.onSelectGIF;null!=n&&n(e)},t.handleSelectItem=function(e,n){var r=t.searchBarRef.current;switch(e){case _.GIFPickerResultTypes.TRENDING_CATEGORY:l.search(n,_.GIFPickerResultTypes.TRENDING_CATEGORY,!0),null!=r&&r.focus();break;case _.GIFPickerResultTypes.TRENDING_GIFS:l.fetchTrendingGIFs()}t.setState({resultType:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){l.initializeSearch(),document.addEventListener("keydown",this.backToFrontPage)},o.componentWillUnmount=function(){i.default.wait(function(){return l.resetSearch()}),document.removeEventListener("keydown",this.backToFrontPage)},o.search=function(e,t,n){l.search(e,t,n),""===e?this.setState({resultType:null}):this.state.resultType!==_.GIFPickerResultTypes.SEARCH&&this.setState({resultType:_.GIFPickerResultTypes.SEARCH})},o.renderHeaderContent=function(){var e=this.props.query;switch(this.state.resultType){case _.GIFPickerResultTypes.FAVORITES:return I(h.FormTitle,{tag:"h5",className:g.default.searchHeader},void 0,y.default.Messages.GIF_PICKER_FAVORITES);case _.GIFPickerResultTypes.TRENDING_GIFS:return I(h.FormTitle,{tag:"h5",className:g.default.searchHeader},void 0,y.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS);default:return a.createElement(p.default,{className:g.default.searchBar,size:p.default.Sizes.MEDIUM,query:e,onChange:this.handleChangeQuery,onClear:this.handleClearQuery,placeholder:y.default.Messages.SEARCH_TENOR,ref:this.searchBarRef,autoFocus:!0})}},o.renderHeader=function(){var e=null;return null!=this.state.resultType&&(e=I(d.default,{onClick:this.handleClearQuery,className:g.default.backButton},void 0,I(f.default,{name:f.default.Names.ARROW_LEFT,title:y.default.Messages.BACK}))),I(c.default,{align:c.default.Align.CENTER},void 0,e,this.renderHeaderContent())},o.renderContent=function(){var e=this.props,t=e.resultItems,n=e.resultQuery,r=e.query,a=e.favorites,o=e.searchOffset,i=e.searchLimit,l=e.searchTotalResults,u=e.suggestions,s=this.state.resultType;return null==s?I(v.default,{onSelectItem:this.handleSelectItem}):I(m.default,{data:s===_.GIFPickerResultTypes.FAVORITES?a:t,onSelectGIF:this.handleSelectGIF,resultType:s,resultQuery:n,query:r,searchOffset:o,searchLimit:i,searchTotalResults:l,suggestions:u,onSelectSuggestion:this.handleSelectSuggestion})},o.render=function(){var e=this.props.forwardedRef;return a.createElement("div",{className:g.default.container,onClick:function(e){return e.stopPropagation()},ref:e},I("div",{className:g.default.header},void 0,this.renderHeader()),I("div",{className:g.default.content},void 0,this.renderContent()))},r}(a.PureComponent);O.displayName="GIFPicker";var N=o.default.connectStores([s.default,u.default],function(){return{query:s.default.getQuery(),favorites:u.default.getFavorites(),resultQuery:s.default.getResultQuery(),resultItems:s.default.getResultItems(),suggestions:s.default.getSuggestions(),searchOffset:0,searchTotalResults:s.default.getResultItems().length,searchLimit:null}})(O),C=a.forwardRef(function(e,t){return a.createElement(N,T({},e,{forwardedRef:t}))});t.default=C},6389:function(e,t,n){"use strict";t.__esModule=!0,t.calculateAnalyticsMetadata=function(e,t,n){var a,o=n.offset,i=n.limit,l=n.results,u=n.totalResults,s=null!=t?((a={})[t]=1,a):{};return{search_type:r.SearchTypes.GIF,load_id:e,limit:i,offset:o,page:null!=i&&null!=o?Math.floor(o/i)+1:1,total_results:u,page_results:l?l.length:null,num_modifiers:Object.keys(s).length,modifiers:s}};var r=n(0)},6390:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(3)),i=n(5916),l=y(n(5896)),u=y(n(5953)),s=y(n(302)),d=y(n(6039)),c=y(n(6040)),f=y(n(6041)),p=n(6391),h=n(6042),v=n(0),m=y(n(10)),_=y(n(5292));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e,t){return g(p.CategoryColumn,{columns:e},t)};function S(e){return e.name}E.displayName="renderColumn";var T=function(e){var t,n;function r(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this)._masonryRef=a.createRef(),t.state={favoritesTile:(n=l.default.getRandomFavorite(),{type:v.GIFPickerResultTypes.FAVORITES,name:m.default.Messages.GIF_PICKER_FAVORITES,icon:s.default.Names.FAVORITE_FILLED,src:null!=n?n.src:"https://media.giphy.com/media/1TOSaJsWtnhe0/giphy.gif",format:null!=n?n.format:v.GIFResultFormat.IMAGE}),selectedIndex:{column:0,row:0},focusedId:null},t.handleFocus=function(e){var n=t._masonryRef.current;null!=n&&n.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),t.setState({focusedId:e.id})},t.handleSelect=function(e){var n=t.props.onSelectItem,r=t.getData().find(function(t){return S(t)===e.id});null!=r&&null!=n&&n(r.type,r.name)},t.renderItem=function(e,n,r){var a=n.width,o=n.height,i=t.props.onSelectItem,l=t.state.focusedId;return g(h.GIFPickerSearchItem,{format:e.format,color:v.Colors.PRIMARY_DARK_800,src:e.src,item:e,index:r,itemWidth:a,itemHeight:o,onClick:function(){return i(e.type,e.name)},renderExtras:t.renderCategoryExtras,focused:S(e)===l})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){0===this.props.trendingCategories.length&&(0,i.fetchTrending)()},o.getData=function(){var e=this.props.trendingCategories;return[this.state.favoritesTile].concat(e)},o.renderCategoryExtras=function(e){var t=e.name,n=e.icon,r=e.type;return g(a.Fragment,{},void 0,g("div",{className:r===v.GIFPickerResultTypes.FAVORITES?_.default.categoryFadeBlurple:_.default.categoryFade}),g("div",{className:_.default.categoryText},void 0,null!=n?g(s.default,{name:n,className:_.default.categoryIcon}):null,g("span",{className:_.default.categoryName},void 0,t)))},o.renderContent=function(e,t,n){return 0===this.props.trendingCategories.length?g(p.ResultsLoader,{columns:e,width:t,renderColumn:E}):a.createElement(c.default,{ref:this._masonryRef,className:_.default.container,width:t,height:n,gutterSize:12,getItemId:S,columns:e,getItemHeight:function(){return 110},renderItem:this.renderItem,data:this.getData()})},o.render=function(){var e=this;return g(d.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},void 0,g(f.default,{desiredItemWidth:200,maxColumns:6},void 0,function(t,n,r){return e.renderContent(t,n,r)}))},r}(a.PureComponent);T.displayName="GIFPickerFrontPage";var I=o.default.connectStores([u.default],function(){return{trendingCategories:u.default.getTrendingCategories()}})(T);t.default=I},6391:function(e,t,n){"use strict";t.__esModule=!0,t.ResultsLoader=t.CategoryColumn=t.AnimatedColumn=t.Block=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(6)),i=s(n(304)),l=n(0),u=s(n(5289));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var f=12,p=[l.Colors.PREMIUM_TIER_1_PURPLE,l.Colors.PREMIUM_TIER_1_BLUE,"#929AFA"],h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={backgroundColor:o.default.sample(p)},t}return c(t,e),t.prototype.render=function(){return d("div",{style:{height:this.props.height,backgroundColor:this.state.backgroundColor},className:u.default.gif})},t}(a.PureComponent);t.Block=h,h.displayName="Block";var v=function(e){function t(t){var n;(n=e.call(this,t)||this).animateSlide=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.props.direction,r=e.state,a=r.translateY,o=r.height,l=t>0?0:-o/2+f,u=t>0?-o/2+f:0;a.setValue(l),i.default.timing(a,{toValue:u,duration:800,easing:i.default.Easing.linear}).start(n.animateSlide)};var r=new Array(10).fill(null).map(function(){return o.default.random(40,150)});return n.state={blocks:r,height:2*r.reduce(function(e,t){return e+t+f},f),translateY:new i.default.Value(0)},n}c(t,e);var n=t.prototype;return n.componentDidMount=function(){this.animateSlide()},n.getAnimatedStyle=function(){return{width:100/this.props.columns+"%",transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}]}},n.render=function(){var e=this.state.blocks;return d(i.default.div,{className:u.default.column,style:this.getAnimatedStyle()},void 0,e.map(function(e,t){return d(h,{height:e},t)}),e.map(function(e,t){return d(h,{height:e},"alt"+t)}))},t}(a.Component);t.AnimatedColumn=v,v.displayName="AnimatedColumn",v.defaultProps={direction:-1};var m=function(e){var t=e.columns;return d("div",{className:u.default.column,style:{width:100/t+"%"}},void 0,new Array(4).fill(null).map(function(e,t){return d("div",{className:u.default.categoryLoader},t)}))};t.CategoryColumn=m,m.displayName="CategoryColumn";var _=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.columns,n=e.renderColumn;return d("div",{className:u.default.container},void 0,new Array(t).fill(null).map(function(e,r){return n(t,r)}))},t}(a.PureComponent);t.ResultsLoader=_,_.displayName="ResultsLoader"},6392:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=C(n(3)),i=C(n(134)),l=C(n(162)),u=C(n(73)),s=C(n(802)),d=C(n(191)),c=n(839),f=C(n(35)),p=C(n(812)),h=C(n(5989)),v=C(n(112)),m=C(n(188)),_=C(n(426)),y=C(n(98)),g=n(5930),E=C(n(314)),S=C(n(5923)),T=C(n(6044)),I=n(0),O=C(n(10)),N=C(n(5296));function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).trackInvite=function(e){if(null!=e&&e.ok){var t=n.props,r=t.activity,a=t.channel,o="";switch(t.activityActionType){case I.ActivityActionTypes.JOIN:o="Invite to Join";break;case I.ActivityActionTypes.SPECTATE:o="Invite to Spectate";break;case I.ActivityActionTypes.LISTEN:o="Invite to Listen";break;case I.ActivityActionTypes.WATCH:o="Invite to Watch"}return d.default.trackWithMetadata(I.AnalyticEvents.INVITE_SENT,{location:"Channel Text Area - "+o,invite_type:r.type===I.ActivityTypes.LISTENING?I.InviteTypes.SPOTIFY:I.InviteTypes.APPLICATION,application_id:r.application_id,guild_id:a.getGuildId(),channel_id:a.id,message_id:null!=e?e.body.id:null}),Promise.resolve()}},n.state={textValue:"",textFocused:!0},M(n).handleTextChange=n.handleTextChange.bind(M(n)),M(n).handleShare=n.handleShare.bind(M(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.fetchApplication()},o.componentDidUpdate=function(e){this.props.activity.application_id!==e.activity.application_id&&this.fetchApplication()},o.fetchApplication=function(){var e=this.props,t=e.activity,n=e.application;null!=t.application_id&&null==n&&i.default.fetchApplication(t.application_id)},o.renderTitle=function(){switch(this.props.activity.type){case I.ActivityTypes.LISTENING:return O.default.Messages.INVITE_EMBED_LISTENING_INVITE;case I.ActivityTypes.PLAYING:case I.ActivityTypes.STREAMING:default:return O.default.Messages.INVITE_EMBED_GAME_INVITE}},o.render=function(){var e=this,t=this.state,n=t.textValue,r=t.textFocused,o=this.props,i=o.activity,l=o.channel,u=o.activityActionType,s=o.cooldown,d=o.application,c=s>0,f=c?O.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((s+1e3)/1e3)}):null;return A(m.default,{size:m.default.Sizes.SMALL},void 0,A(m.default.Header,{},void 0,A(y.default,{tag:y.default.Tags.H4},void 0,this.renderTitle())),A(m.default.Content,{},void 0,A("div",{className:N.default.subHeader},void 0,O.default.Messages.MESSAGE_PREVIEW),A(T.default,{activityActionType:u,activity:i,className:N.default.preview,application:d,partyId:null!=i.party?i.party.id:null,isPreview:!0}),A("div",{className:N.default.subHeader},void 0,O.default.Messages.ADD_A_COMMENT_OPTIONAL),a.createElement(S.default,{className:N.default.textArea,value:n,focused:r,channel:l,onChange:this.handleTextChange,onSubmit:this.handleShare,type:I.TextareaTypes.FORM,ref:function(t){e.channelTextAreaRef=t}})),A(m.default.Footer,{},void 0,A(_.default,{text:f},void 0,A("div",{},void 0,A(v.default,{disabled:c,onClick:this.handleShare},void 0,O.default.Messages.INVITE_EMBED_SEND_INVITE))),A(v.default,{look:v.default.Looks.LINK,onClick:this.handleCancel},void 0,O.default.Messages.CANCEL)))},o.handleCancel=function(){u.default.pop()},o.handleTextChange=function(e,t){this.setState({textValue:t})},o.handleShare=function(){var e=this,t=this.props,n=t.channel,r=t.activity,a=t.activityActionType,o=t.cooldown,i=this.state.textValue;if(o>0)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var d=E.default.parse(n,i),c={activity:r,type:a};return p.default.isOpen("popout-channel-text-area-shouting")?(s.default.close("popout-channel-text-area-shouting"),l.default.sendMessage(n.id,d,!0,c).then(function(t){return e.trackInvite(t)}),u.default.pop(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):(0,g.applyChatRestrictions)(this.channelTextAreaRef,i,n).then(function(t){return t.valid?(l.default.sendMessage(n.id,d,!0,c).then(function(t){return e.trackInvite(t)}),u.default.pop(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!1,shouldRefocus:!1}})},r}(a.PureComponent);R.displayName="ActivityInvite";var b=o.default.connectStores([h.default,f.default],function(e){var t=e.channel,n=e.activity;return{cooldown:h.default.getSlowmodeCooldownGuess(t.id),application:null!=n.application_id?f.default.getGame(n.application_id):c.SpotifyApplication}})(R);t.default=b},6393:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=I(n(131)),l=n(234),u=I(n(308)),s=n(326),d=n(192),c=I(n(305)),f=n(5849),p=I(n(112)),h=I(n(158)),v=I(n(302)),m=I(n(6549)),_=I(n(5917)),y=I(n(795)),g=I(n(426)),E=n(0),S=I(n(10)),T=I(n(5295));function I(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M=function(e){function t(t){var n;return C(n=e.call(this,t)||this).renderUserPopout=n.renderUserPopout.bind(C(n)),n}A(t,e);var n=t.prototype;return n.renderUserPopout=function(e){var t=this.props,n=t.renderUserPopout;return n(t.member.user,e)},n.render=function(){var e=this.props,t=e.member,n=e.className;return N(y.default,{closeOnScroll:!1,render:t.unknownUser?void 0:this.renderUserPopout,position:y.default.Positions.LEFT,shadow:!1},void 0,N(g.default,{text:t.unknownUser?"":t.nick||t.user.username},void 0,N("div",{className:t.unknownUser?T.default.partyMember:T.default.partyMemberKnown},void 0,N(f.AvatarImage,{src:t.user.getAvatarURL(),size:f.AvatarSizes.XSMALL,className:(0,o.default)(T.default.partyAvatar,n)}))))},t}(a.PureComponent);M.displayName="PartyMember";var R=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleOpenSpotifyTrack=function(){var e=n.props,t=e.activity,r=e.onOpenSpotifyTrack;null!=t&&r&&r(t)},n.handleOpenSpotifyArtist=function(e){var t=n.props,r=t.activity,a=t.onOpenSpotifyArtist,o=t.message;null!=r&&null!=o&&a&&a(r,o.author.id,e)},n.handleOpenSpotifyAlbum=function(){var e=n.props,t=e.activity,r=e.onOpenSpotifyAlbum,a=e.message;null!=t&&null!=a&&r&&r(t,a.author.id)},C(n).handleJoin=n.handleJoin.bind(C(n)),C(n).handleSpectate=n.handleSpectate.bind(C(n)),C(n).handleSync=n.handleSync.bind(C(n)),C(n).handleDownloadApp=n.handleDownloadApp.bind(C(n)),C(n).renderUser=n.renderUser.bind(C(n)),n}A(t,e);var n=t.prototype;return n.isDeadInvite=function(){var e=this.props,t=e.isPreview,n=e.message,r=e.activity,a=e.applicationId;return!t&&!(null!=n&&(0,l.isInviteActive)(r,n,a))},n.getPartySize=function(){var e=this.props.activity;return null==e||null==e.party||null==e.party.size||e.party.size.length<2?[-1,-1]:e.party.size},n.getActionableMode=function(){return[E.ActivityActionTypes.LISTEN,E.ActivityActionTypes].includes(this.props.activityActionType)?"Actionable":this.props.isPreview||this.canSpectate()||this.canJoin()?"Actionable":"NotActionable"},n.isInParty=function(){var e=this.props,t=e.activity,n=e.myPartyId;return!e.isPreview&&null!=t&&null!=t.party&&n===t.party.id},n.isPartyFull=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&t>=n},n.hasPartySize=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&n>-1},n.isActionType=function(e){return this.props.activityActionType===e},n.canSpectate=function(){var e=this.props,t=e.isGameLaunchable,n=e.activity,r=e.isInBrowser,a=e.isPreview,o=(0,l.hasFlag)(n,E.ActivityFlags.SPECTATE);return!(!a||!o)||!(this.isDeadInvite()||!this.isActionType(E.ActivityActionTypes.SPECTATE)||!(0,l.hasFlag)(n,E.ActivityFlags.SPECTATE))&&!(r||!t||this.isInParty())},n.canJoin=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isGameLaunchable,a=e.isInBrowser;return!!n||!(this.isDeadInvite()||!this.isActionType(E.ActivityActionTypes.JOIN)||!(0,l.hasFlag)(t,E.ActivityFlags.JOIN))&&(!(!this.hasPartySize()||this.isPartyFull())&&!(a||!r||this.isInParty()))},n.canSync=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isSyncable,a=e.isInBrowser;return!!n||!(!this.isActionType(E.ActivityActionTypes.LISTEN)&&!this.isActionType(E.ActivityActionTypes.WATCH))&&(!(this.isDeadInvite()||!(0,l.hasFlag)(t,E.ActivityFlags.SYNC))&&!(a||!r||this.isInParty()))},n.getHelpdeskArticleURL=function(){var e=this.props.partyId;return null!=e&&(0,s.isSpotifyParty)(e)?E.HelpdeskArticles.SPOTIFY_CONNECTION:E.HelpdeskArticles.RICH_PRESENCE_INTRODUCTION},n.handleJoin=function(){var e=this.props.onJoin;e&&e()},n.handleSpectate=function(){var e=this.props.onSpectate;e&&e()},n.handleSync=function(){var e=this.props.onSync;e&&e()},n.handleDownloadApp=function(){var e=this.props.onDownloadApp;e&&e()},n.renderHeaderText=function(){var e=this.props,t=e.activityActionType,n=e.name;switch(t){case E.ActivityActionTypes.LISTEN:return S.default.Messages.INVITE_EMBED_INVITE_TO_LISTEN.format({name:n});case E.ActivityActionTypes.WATCH:return S.default.Messages.INVITE_EMBED_INVITE_TO_WATCH.format({name:n});case E.ActivityActionTypes.SPECTATE:return S.default.Messages.INVITE_EMBED_INVITE_TO_SPECTATE;case E.ActivityActionTypes.JOIN:default:return S.default.Messages.INVITE_EMBED_INVITE_TO_JOIN_GROUP}},n.renderPartyStatus=function(){var e=this,t=this.props,n=t.activityActionType,r=t.isGameLaunchable,a=t.isSyncable,o=t.isPreview,i=t.isInBrowser,u=t.name,s=t.activity,d=this.getPartySize(),f=d[0],p=d[1];if(this.isDeadInvite())switch(n){case E.ActivityActionTypes.LISTEN:return S.default.Messages.INVITE_EMBED_LISTEN_HAS_ENDED;case E.ActivityActionTypes.WATCH:return S.default.Messages.INVITE_EMBED_WATCH_HAS_ENDED;case E.ActivityActionTypes.SPECTATE:case E.ActivityActionTypes.JOIN:default:return S.default.Messages.INVITE_EMBED_GAME_HAS_ENDED}if(i&&!o)switch(n){case E.ActivityActionTypes.SPECTATE:return S.default.Messages.INVITE_EMBED_SPECTATE_VIA_DESKTOP_APP;case E.ActivityActionTypes.JOIN:return S.default.Messages.INVITE_EMBED_JOIN_VIA_DESKTOP_APP}if(this.isActionType(E.ActivityActionTypes.LISTEN)||this.isActionType(E.ActivityActionTypes.WATCH)){if(null!=s&&null!=s.details&&null!=s.state&&(0,l.isListeningOnSpotify)(s)){return[N("div",{className:T.default.details},"details",N(c.default,{className:T.default.textLink,onClick:this.handleOpenSpotifyTrack},void 0,s.details)),N("div",{className:T.default.state},"state",S.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:s.state,artistsHook:function(t,n){return null!=s.state?N(m.default,{artists:s.state,linkClassName:T.default.textLink,canOpen:null!=s.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},n):null}}))]}return this.isActionType(E.ActivityActionTypes.LISTEN)?S.default.Messages.USER_ACTIVITY_LISTEN_ALONG:S.default.Messages.USER_ACTIVITY_WATCH_ALONG}return this.isInParty()?S.default.Messages.INVITE_EMBED_IN_GROUP:r||a||o?this.isActionType(E.ActivityActionTypes.SPECTATE)?S.default.Messages.INVITE_EMBED_SPECTATE:this.isPartyFull()?this.canSpectate()?S.default.Messages.INVITE_EMBED_FULL_GROUP_SPECTATE:S.default.Messages.INVITE_EMBED_FULL_GROUP:this.hasPartySize()?S.default.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:p-f}):S.default.Messages.JOIN:S.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:u})},n.renderActionButton=function(){var e=this,t=this.props,n=t.isInBrowser,r=t.isPreview,o=t.isGameLaunchable,i=t.partyId,l=t.activity,u=t.message,d=t.renderSpotifyJoinButton,c=t.renderCustomButton,f={className:T.default.actionButton,size:p.default.Sizes.SMALL},h=null!=c?c(f):null;if(null!=h)return h;if(!this.isDeadInvite()&&this.isActionType(E.ActivityActionTypes.LISTEN)&&null!=i&&null!=u&&(0,s.isSpotifyParty)(i))return d(O({},f,{activity:l,user:u.author}));return a.createElement(p.default,O({},f,function(){if(!r&&n&&!e.isDeadInvite())return{children:S.default.Messages.USER_ACTIVITY_ACTION_DOWNLOAD_APP,onClick:e.handleDownloadApp};var t=e.canSpectate();return e.isActionType(E.ActivityActionTypes.SPECTATE)||e.isPartyFull()&&t?t?{children:S.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,onClick:e.handleSpectate}:{children:S.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,disabled:!0}:e.canJoin()?{children:S.default.Messages.JOIN,onClick:e.handleJoin}:e.canSync()?{children:S.default.Messages.JOIN,onClick:e.handleSync}:{children:S.default.Messages.JOIN,disabled:!0}}(),{color:!n&&!o||this.isDeadInvite()?p.default.Colors.GREY:p.default.Colors.GREEN,submitting:this.props.isLaunching}))},n.renderUser=function(e,t,n){var r=this.props.renderUserPopout;return null!=e?N(M,{member:e,renderUserPopout:r,className:t},n):N("div",{className:(0,o.default)(T.default.partyMemberEmpty,t)},n)},n.renderMoreUsers=function(e,t,n){return N("div",{className:T.default.moreUsers},n,e)},n.renderParty=function(){var e=this.props,t=e.partyId,n=e.partyMembers,r=e.hideParty,a=this.getPartySize(),o=a[0],l=a[1],u=this.hasPartySize()||this.isActionType(E.ActivityActionTypes.LISTEN)||this.isActionType(E.ActivityActionTypes.WATCH);if(this.isActionType(E.ActivityActionTypes.SPECTATE)||null==t||this.isDeadInvite()||!u||r)return null;for(var s=[].concat(n);s.length<o;)s.push({user:new i.default({discriminator:"0005"}),unknownUser:!0});for(var d=Math.min(l,106);s.length<d;)s.push(null);return N(_.default,{className:T.default.partyMembers,users:s,max:l>0?Math.min(l,6):6,renderUser:this.renderUser,renderMoreUsers:this.renderMoreUsers})},n.render=function(){var e,t=this.props,n=t.className,r=t.coverImage,a=t.name,i=t.activity,s=t.backgroundOpacity,f=this.isActionType(E.ActivityActionTypes.JOIN)||this.isActionType(E.ActivityActionTypes.SPECTATE),p=this.isDeadInvite();return null==r||null==i||f?!f&&p&&(e=N("div",{className:T.default.artworkSpotifySessionEnded})):e=N("img",{alt:"",src:r,className:(0,d.getClass)(T.default,"artwork",this.getActionableMode())}),null!=i&&null!=e&&null!=i.assets&&i.assets.large_text&&!p&&(0,l.isListeningOnSpotify)(i)&&(e=N(g.default,{text:i.assets.large_text},void 0,N(c.default,{onClick:this.handleOpenSpotifyAlbum},void 0,e))),N("div",{className:(0,o.default)(T.default.invite,n,T.default[s+"BackgroundOpacity"])},void 0,N("div",{className:T.default.coverImageWrapper},void 0,N("div",{className:(0,o.default)((0,d.getClass)(T.default,"coverImage",this.getActionableMode()),null!=e?T.default.blurred:null),style:{backgroundImage:null!=r?"url('"+r+"')":null}})),N(h.default,{className:T.default.fullHeight},void 0,N(h.default,{direction:h.default.Direction.VERTICAL},void 0,N("div",{className:T.default.header},void 0,this.renderHeaderText()),N(h.default.Child,{className:T.default.partyStatus},void 0,this.renderPartyStatus()),N(h.default,{align:h.default.Align.END},void 0,N(h.default,{align:h.default.Align.CENTER,className:T.default.actionAndParty,basis:0,style:{marginRight:0}},void 0,this.renderActionButton(),this.renderParty()),null==e&&f?N("div",{className:T.default.name},void 0,a):null)),e),N(c.default,{href:u.default.getArticleURL(this.getHelpdeskArticleURL()),className:T.default.helpIcon},void 0,N(v.default,{name:v.default.Names.QUESTION_MARK,color:E.Colors.PRIMARY_DARK_300,width:12,height:12})))},t}(a.PureComponent);R.displayName="ActivityInviteEmbed";var b=R;t.default=b},6394:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=s(n(2)),o=u(n(112)),i=u(n(426)),l=s(n(6077));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t=e.activity,n=e.user,r=e.channelId,u=e.guildId,s=e.source,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["activity","user","channelId","guildId","source"]);return d(l.default,{activity:t,user:n,channelId:r,guildId:u,source:s,type:l.SpotifyActionTypes.EMBED_SYNC},void 0,function(e){var t=e.tooltip,n=e.disabled,r=e.loading,l=e.label,u=e.onClick;return d(i.default,{text:t},void 0,a.createElement(o.default,c({},f,{color:n?o.default.Colors.GREY:o.default.Colors.GREEN,onClick:u,disabled:!r&&n,submitting:r}),l))})};f.displayName="SpotifyJoinButton";var p=f;t.default=p},6395:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=M(n(17)),i=M(n(114)),l=M(n(3)),u=n(5916),s=M(n(5896)),d=M(n(5924)),c=M(n(6398)),f=n(5865),p=M(n(5939)),h=n(5918),v=M(n(6399)),m=n(113),_=M(n(6415)),y=M(n(6417)),g=M(n(6046)),E=M(n(6418)),S=M(n(6043)),T=M(n(6421)),I=M(n(902)),O=M(n(6424)),N=M(n(6049)),C=n(0),A=M(n(5323));function M(e){return e&&e.__esModule?e:{default:e}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(e){var t=e.width,n=e.height,r=e.url,a=e.src,i=e.isFavorite,l=e.format,s=e.className;return b(S.default,{className:(0,o.default)(s),onClick:function(e){e?(0,u.removeFavoriteGIF)(r):((0,u.addFavoriteGIF)({url:r,src:a,width:t,height:n,format:l}),m.ComponentDispatch.dispatch(C.ComponentActions.FAVORITE_GIF))},isFavorite:i})};P.displayName="ConnectedGIFFavButtonInner";var L=l.default.connectStores([s.default],function(e){var t=e.url;return{isFavorite:s.default.getIsFavorite(t)}})(P),D=function(e,t,n){return function(){var r=t||n;if(null==r)return null;var a=r.url,o=r.proxyURL,i=r.width,l=r.height;return b(L,{width:i,height:l,src:o||a,url:e||o||a,format:null!=n?C.GIFResultFormat.VIDEO:C.GIFResultFormat.IMAGE,className:A.default.gifFavoriteButton})}},w=function(e){return function(){var t=e.proxy_url,n=e.width,r=e.height;return f.IMAGE_GIF_RE.test(e.filename)&&null!=n&&null!=r?b(L,{width:n,height:r,src:t,url:t,format:C.GIFResultFormat.IMAGE,className:A.default.gifFavoriteButton}):null}},U=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).getAcceptInviteContext=function(e){var n=t.props,r=n.channel,a=n.message;return{location:e,location_guild_id:r.getGuildId(),location_channel_id:r.id,location_channel_type:r.type,location_message_id:a.id}},t.renderEmbed=function(e,n){var r=t.props,o=r.disableAutoPlayGif,i=r.inlineEmbedMedia,l=r.backgroundOpacity,u=a.createElement(d.default,R({className:A.default.embedWrapper,embed:e,autoPlayGif:!o,hideMedia:!i},n,{backgroundOpacity:l}));return b(h.GIFAccessoryContext.Provider,{value:D(e.url,e.image,e.video)},e.id,u)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderInvites=function(e){var t=this;return e.invites.length?e.invites.map(function(n){return b(_.default,{code:n,author:e.author,getAcceptInviteContext:t.getAcceptInviteContext},n)}):null},l.renderGiftCodes=function(e){return e.giftCodes.map(function(t){return b("div",{className:A.default.giftCodeContainer},void 0,b(O.default,{code:t,author:e.author,channelId:e.channel_id},t))})},l.renderReactions=function(e){var t=this.props,n=t.disableReactionCreates,r=t.disableReactionReads,a=t.disableReactionUpdates,o=t.channel;return r?null:b(g.default,{message:e,channel:o,disableReactionCreates:n,disableReactionUpdates:a})},l.renderAttachments=function(e){var t=this.props,n=t.disableAutoPlayGif,r=t.inlineAttachmentMedia,a=t.onContextMenuMessage,o=t.channel;return e.attachments.length?e.attachments.map(function(t){return b(h.GIFAccessoryContext.Provider,{value:w(t)},t.id,b(v.default,{className:A.default.embedWrapper,attachment:t,inlineMedia:r,autoPlayGif:!n,onContextMenu:function(n){return a(n,{attachment:t,message:e,channel:o,target:n.target})},ImageComponent:T.default}))}):null},l.renderEmbeds=function(e){var t=this,n=this.props.disableEmbeds;return!e.embeds.length||n?null:e.embeds.map(function(e){if(e.type===C.EmbedTypes.APPLICATION_NEWS)return b(E.default,{embed:e},e.id);var n={};if(n.ImageComponent=T.default,n.VideoComponent=p.default,n.GIFVComponent=c.default,e.type===C.EmbedTypes.RICH&&(n.LinkComponent=I.default),e.type===C.EmbedTypes.ARTICLE&&null!=e.url&&e.url.includes("discordapp.com/store/skus")&&null!=e.provider&&"Discord"===e.provider.name){var r=i.default.parse(e.url);if(null!=r.pathname){var a=r.pathname.split("/")[3];if(null!=a)return b(N.default,{skuId:a,renderFallback:function(){return t.renderEmbed(e,n)}},e.id)}}return t.renderEmbed(e,n)})},l.renderActivityInvite=function(e){if(null==e.activity)return null;var t=this.props.channel;return b(y.default,{channel:t,message:e,hideParty:!1})},l.render=function(){var e=this.props,t=e.isCompact,n=e.className,r=e.message,a=this.renderInvites(r),i=this.renderGiftCodes(r),l=this.renderAttachments(r),u=this.renderEmbeds(r),s=this.renderActivityInvite(r),d=this.renderReactions(r);return null==a&&null==l&&null==u&&null==s&&null==d&&null==i?null:b("div",{className:(0,o.default)(n,t?A.default.containerCompact:A.default.containerCozy)},void 0,a,i,l,u,s,d)},r}(a.PureComponent);t.default=U,U.displayName="MessageAccessories",U.defaultProps={disableEmbeds:!0,isCompact:!1}},6396:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=i(n(17)),o=i(n(5299));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return r.createElement("div",l({className:(0,a.default)(o.default.gifTag,t)},n))}},6397:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(59),l=n(5938),u=(r=n(8))&&r.__esModule?r:{default:r};function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=200,f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).timeout=new i.Timeout,t.state={pointerEvents:!1},t.onMouseOver=function(){t.timeout.start(c,function(){return t.setState({pointerEvents:!0})})},t.onMouseOut=function(){t.timeout.start(c,function(){return t.setState({pointerEvents:!1})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){r.visibilityObserver.observe(this)},a.componentWillUnmount=function(){r.visibilityObserver.unobserve(this),this.timeout.stop()},a.render=function(){var e,t=this.props,n=t.src,a=t.className,o=t.style,i={pointerEvents:this.state.pointerEvents?"auto":"none"};return r.visibilityObserver.isVisible(this)&&(e=u.default.embedded&&!window.DiscordNative?s("webview",{src:n,style:d({width:"100%",height:"100%"},i)}):s("iframe",{src:n,style:d({},o,i),frameBorder:0})),s("div",{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,className:a,style:o},void 0,e)},r}(o.PureComponent);t.default=f,f.displayName="UnloadingWebview",f.visibilityObserver=new l.VisibilityObserver({rootMargin:"-50px 0px 0px 0px",threshold:0})},6398:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(5865)),i=n(5918),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).videoRef=a.createRef(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidUpdate=function(e){if(e.play!==this.props.play){var t=this.videoRef.current;t instanceof HTMLVideoElement&&(this.props.play?t.play():t.pause())}},o.render=function(){var e=this.props,t=e.poster,n=e.src,r=e.width,o=e.height,i=e.naturalWidth,u=e.naturalHeight,s=e.play,d=e.className;return i<=l.MAX_VIDEO_WIDTH&&u<=l.MAX_VIDEO_HEIGHT||i<=l.MAX_VIDEO_HEIGHT&&u<=l.MAX_VIDEO_WIDTH?a.createElement("video",{ref:this.videoRef,className:d,poster:t,src:n,width:r,height:o,muted:!0,loop:!0,autoPlay:s,preload:"none"}):c("img",{alt:"",src:t,width:r,height:o})},r}(a.Component);f.displayName="Video",f.defaultProps={play:!1};var p=function(e){var t=e.src,n=e.poster,r=e.naturalWidth,l=e.naturalHeight,s=e.autoPlay,p=e.ImageComponent,h=e.className,v=e.playable,m=void 0===v||v,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["src","poster","naturalWidth","naturalHeight","autoPlay","ImageComponent","className","playable"]),y=p||o.default;return c(i.GIFAccessoryContext.Consumer,{},void 0,function(e){return a.createElement(y,d({alt:u.default.Messages.GIF,src:n,className:h,autoPlay:s,animated:m,renderAccessory:e,tabIndex:m?0:-1},_),function(e){var n=e.src,a=e.size,o=e.animating;return c(f,{className:h,poster:n,src:t,width:a.width,height:a.height,naturalWidth:r,naturalHeight:l,play:m&&o})})})};p.displayName="LazyGIFV";var h=p;t.default=h},6399:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(6103)),l=p(n(6414)),u=p(n(5865)),s=p(n(5939)),d=p(n(833)),c=n(5918),f=p(n(5304));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=/\.(png|jpe?g|webp|gif)$/i,_=/\.(mp4|webm|mov)$/i,y=/\.(mp3|ogg|wav|flac)$/i,g=function(e){var t=e.attachment,n=e.inlineMedia,r=e.autoPlayGif,a=e.onClick,o=e.onContextMenu,d=e.ImageComponent,f=e.className,p=e.focusable,h=t.filename,g=t.width,E=t.height;if(n&&null!=g&&g>0&&null!=E&&E>0){if(m.test(h)){var S=d||u.default;return v(c.GIFAccessoryContext.Consumer,{},void 0,function(e){return v(S,{src:t.proxy_url||t.url,original:t.url,width:g,height:E,autoPlay:r,onClick:a,onContextMenu:o,renderAccessory:e,className:f,shouldLink:p})})}if(_.test(h)&&null!=t.proxy_url)return v(s.default,{poster:t.proxy_url+"?format=jpeg",fileSize:t.size,fileName:t.filename,src:t.url,width:g,height:E,onClick:a,onContextMenu:o,naturalWidth:g,naturalHeight:E,className:f,playable:p})}else if(null!=n&&y.test(h)&&null!=t.url)return v(l.default,{fileSize:t.size,fileName:t.filename,src:t.url,className:f,playable:p});return v(i.default,{url:t.url,filename:t.filename,size:t.size,onClick:a,onContextMenu:o,className:f})};g.displayName="AttachmentContent";var E=function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]),r=n.attachment,i=r.width,l=r.height,u=r.spoiler,s=null!=i&&i<200||null!=l&&l<50,c=function(e){var r;return a.createElement(g,h({},n,{className:(0,o.default)(t,(r={},r[f.default.spoiler]=u&&!s,r[f.default.hiddenSpoilers]=u&&e,r[f.default.inline]=u&&s,r)),focusable:!e}))};return u?v(d.default,{type:d.default.Types.ATTACHMENT,inline:s},void 0,function(e){return c(e)}):c()};t.default=E},6400:function(e,t,n){var r={"./icon-file-small-acrobat.svg":6401,"./icon-file-small-ae.svg":6402,"./icon-file-small-ai.svg":6403,"./icon-file-small-archive.svg":6404,"./icon-file-small-audio.svg":6405,"./icon-file-small-code.svg":6406,"./icon-file-small-document.svg":6407,"./icon-file-small-ps.svg":6408,"./icon-file-small-sketch.svg":6409,"./icon-file-small-spreadsheet.svg":6410,"./icon-file-small-unknown.svg":6411,"./icon-file-small-video.svg":6412,"./icon-file-small-webcode.svg":6413};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6400},6401:function(e,t,n){e.exports=n.p+"f167b4196f02faf2dc2e7eb266a24275.svg"},6402:function(e,t,n){e.exports=n.p+"982bd8aedd89b0607f492d1175b3b3a5.svg"},6403:function(e,t,n){e.exports=n.p+"03ad68e1f4d47f2671d629cfeac048ef.svg"},6404:function(e,t,n){e.exports=n.p+"73d212e3701483c36a4660b28ac15b62.svg"},6405:function(e,t,n){e.exports=n.p+"5b0da31dc2b00717c1e35fb1f84f9b9b.svg"},6406:function(e,t,n){e.exports=n.p+"481aa700fab464f2332ca9b5f4eb6ba4.svg"},6407:function(e,t,n){e.exports=n.p+"9f358f466473586417baee7bacfba5ca.svg"},6408:function(e,t,n){e.exports=n.p+"a236ab3be009cf5fbbbae4d7a7437804.svg"},6409:function(e,t,n){e.exports=n.p+"f812168e543235a62b9f6deb2b094948.svg"},6410:function(e,t,n){e.exports=n.p+"85f7a4063578f6e0e2c73f60bca0fcce.svg"},6411:function(e,t,n){e.exports=n.p+"985ea67d2edab4424c62009886f12e44.svg"},6412:function(e,t,n){e.exports=n.p+"83a157e8720aa50957c4338e10d01c80.svg"},6413:function(e,t,n){e.exports=n.p+"a11e895b46cde503a094dd31641060a6.svg"},6414:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(5871),l=(r=n(5973))&&r.__esModule?r:{default:r};var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,r=e.fileName,o=e.className,u=e.playable;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{src:t,fileName:r,fileSize:(0,i.sizeString)(n),type:l.default.Types.AUDIO,className:o,playable:u})},r}(o.PureComponent);t.default=u,u.displayName="LazyAudio"},6415:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=N(n(17)),i=N(n(29)),l=N(n(3)),u=N(n(311)),s=N(n(5987)),d=N(n(129)),c=N(n(310)),f=N(n(233)),p=N(n(20)),h=N(n(23)),v=N(n(832)),m=N(n(50)),_=N(n(306)),y=N(n(14)),g=N(n(6416)),E=n(805),S=n(113),T=n(0),I=N(n(10)),O=N(n(5251));function N(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=C(g.default.Body,{resolving:!0}),M=C(g.default.Icon,{expired:!0}),R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAcceptInstantInvite=function(e){var n=t.props,r=n.code,a=n.getAcceptInviteContext;u.default.acceptInvite(r,a("Invite Button Embed"),function(){t.handleTransitionToInviteChannel(e)})},t.handleTransitionToInviteChannel=function(e){var n=t.props.invite;null!=n.channel&&u.default.transitionToInviteSync(n)},t.handleMentionInviter=function(){var e=t.props,n=e.author,r=e.selectedChannelId,a=n.username,o=n.discriminator,i="@"+a;_.default.hidePersonalInformation||(i+="#"+o),S.ComponentDispatch.dispatchToLastSubscribed(T.ComponentActions.INSERT_TEXT,{content:i}),null!=r&&s.default.startTyping(r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderResolving=function(){return C(g.default,{},void 0,C(g.default.Header,{text:I.default.Messages.INVITE_BUTTON_RESOLVING}),A)},a.renderInvalid=function(e){var t,n,r,a=this.props,o=a.currentUserId,i=a.author;return o===i.id?(t=I.default.Messages.INVITE_BUTTON_INVALID_OWNER,r=I.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID):(r=I.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,e?t=I.default.Messages.INSTANT_INVITE_BANNED_INFO:i&&i.username?(t=I.default.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({username:i.username}),n=C(g.default.Button,{onClick:this.handleMentionInviter},void 0,I.default.Messages.MENTION)):t=I.default.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE),C(g.default,{},void 0,C(g.default.Header,{text:r}),C(g.default.Body,{},void 0,M,C(g.default.Info,{expired:!0,title:I.default.Messages.INVITE_BUTTON_INVALID},void 0,t),n))},a.renderExpired=function(){return this.renderInvalid(!1)},a.renderBanned=function(){return this.renderInvalid(!0)},a.renderStandard=function(){var e,t=this.props,n=t.invite,r=t.author,a=t.currentUserId===r.id,o=n.channel,i=n.approximate_member_count,l=n.approximate_presence_count,u=n.state===T.InviteStates.ACCEPTING,s=null!=o?new d.default(o):null,f=this.props.guild,p=null!=f;if(null==f){if(null==n.guild)return this.renderResolving();f=new c.default(n.guild)}null!=s&&s.type===T.ChannelTypes.GUILD_VOICE?e=C(g.default.Channel,{channel:s}):null!=i&&i>=5||null!=l&&l>0?e=C(g.default.Data,{members:i,membersOnline:l}):null!=s&&(e=C(g.default.Channel,{channel:s}));var h=p?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,v=I.default.Messages.JOIN_SERVER,m=g.default.Button.Colors.GREEN;p&&(v=I.default.Messages.JOINED_SERVER,m=g.default.Button.Colors.PRIMARY);var _=I.default.Messages.INVITE_BUTTON_TITLE_INVITED;return a&&(_=I.default.Messages.INVITE_BUTTON_TITLE_INVITER),C(g.default,{},void 0,C(g.default.Header,{text:_}),C(g.default.Body,{},void 0,C(g.default.Icon,{guild:f,onClick:p?h:null}),C(g.default.Info,{title:f.name,onClick:p?h:null},void 0,e),C(g.default.Button,{onClick:h,submitting:u,checkmark:p,color:m},void 0,v)))},a.renderGroupDM=function(){var e,t=this.props,n=t.invite,r=t.author,a=t.currentUserId===r.id,o=n.state===T.InviteStates.ACCEPTING,i=this.props.channel,l=null!=i;if(null==i){if(null==n.channel)return this.renderResolving();i=new d.default(n.channel),e=null!=n.channel&&null!=n.channel.recipients?n.channel.recipients:[]}else e=i.recipients.reduce(function(e,t){var n=y.default.getUser(t);return null!=n&&e.push(n),e},[]),l&&e.push(y.default.getCurrentUser());var u=i.name;u||(u=e.length>0?e.filter(function(e){return null!=e}).map(function(e){return e.username}).join(", "):I.default.Messages.UNNAMED);var s=l?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,c=I.default.Messages.JOIN_SERVER,f=g.default.Button.Colors.GREEN;l&&(c=I.default.Messages.JOINED_SERVER,f=g.default.Button.Colors.PRIMARY);var p=I.default.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;return a&&(p=I.default.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM),C(g.default,{},void 0,C(g.default.Header,{text:p}),C(g.default.Body,{},void 0,C(g.default.Icon,{channel:i,onClick:l?s:null}),C(g.default.Info,{title:u,onClick:l?s:null},void 0,C(g.default.Data,{members:e.length})),C(g.default.Button,{onClick:s,submitting:o,checkmark:l,color:f},void 0,c)))},a.renderStreaming=function(){var e=this.props,t=e.invite,n=e.currentUserId,r=e.isWatching,a=t.target_user_type,o=t.target_user;(0,i.default)(a===T.InviteTargetUserTypes.STREAM&&null!=o,"invalid streaming invite");var l=n===o.id,u=t.state===T.InviteStates.ACCEPTING,s=this.props.guild,d=null!=s;if(null==s){if(null==t.guild)return this.renderResolving();s=new c.default(t.guild)}var f=r?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,p=I.default.Messages.WATCH,h=g.default.Button.Colors.GREEN;r&&(h=g.default.Button.Colors.PRIMARY);var v=l?I.default.Messages.INVITE_BUTTON_STREAMER:I.default.Messages.INVITE_BUTTON_STREAMING.format({name:o.username});return C(g.default,{},void 0,C(g.default.Header,{text:I.default.Messages.INVITE_BUTTON_TITLE_STREAMING}),C(g.default.Body,{},void 0,C(g.default.Icon,{guild:s,onClick:d?f:null}),C(g.default.Info,{title:v,onClick:d?f:null},void 0,I.default.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({guildName:s.name})),C(g.default.Button,{onClick:f,submitting:u,checkmark:r,color:h},void 0,p)))},a.renderBody=function(){var e=this.props.invite;if(null==e)throw new Error("[InviteButton] Received null invite object");switch(e.state){case T.InviteStates.RESOLVING:return this.renderResolving();case T.InviteStates.EXPIRED:return this.renderExpired();case T.InviteStates.BANNED:return this.renderBanned();default:return e.target_user_type===T.InviteTargetUserTypes.STREAM?this.renderStreaming():null!=e.channel&&e.channel.type===T.ChannelTypes.GROUP_DM?this.renderGroupDM():this.renderStandard()}},a.render=function(){var e=this;return C(E.BackgroundOpacityContext.Consumer,{},void 0,function(t){var n=t.backgroundOpacity;return n?C("div",{className:(0,o.default)(O.default[n+"BackgroundOpacity"])},void 0,e.renderBody()):e.renderBody()})},r}(a.PureComponent);R.displayName="InviteButton",R.defaultProps={invite:{state:T.InviteStates.RESOLVING,code:""}};var b=l.default.connectStores([v.default,h.default,f.default],function(e){var t=e.code,n=v.default.getInvite(t),r=f.default.getActiveStream(),a=null!=n&&n.target_user_type===T.InviteTargetUserTypes.STREAM&&null!=n.target_user&&null!=r&&r.ownerId===n.target_user.id;return{invite:n,guild:null!=n&&null!=n.guild?h.default.getGuild(n.guild.id):null,channel:null!=n&&null!=n.channel?p.default.getChannel(n.channel.id):null,selectedChannelId:m.default.getChannelId(),currentUserId:y.default.getCurrentUser().id,isWatching:a}})(R);t.default=b},6416:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(192),i=_(n(5849)),l=_(n(112)),u=_(n(158)),s=_(n(5866)),d=_(n(302)),c=_(n(128)),f=_(n(98)),p=n(5878),h=_(n(10)),v=_(n(5250)),m=_(n(5251));function _(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.text;return g(f.default,{className:m.default.header},void 0,t)};E.displayName="InviteHeader";var S=function(e){var t=e.resolving,n=e.children;return g("div",{className:m.default.content},void 0,t?g("div",{className:m.default.resolving},void 0,g("div",{className:m.default.resolvingBackground})):n)};S.displayName="InviteBody";var T=function(e){var t=e.title,n=e.onClick,r=e.expired,a=e.children;return g(u.default,{className:m.default.guildInfo,direction:u.default.Direction.VERTICAL,justify:u.default.Justify.CENTER},void 0,g(c.default,{onClick:n,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:(0,o.getClass)(m.default,"guildName",r?"Expired":null!=n?"Joined":"")},void 0,t),g(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL,className:m.default.guildDetail},void 0,g(u.default,{grow:0,align:u.default.Align.CENTER},void 0,a)))};T.displayName="InviteInfo";var I=function(e){e.className,e.size;var t=e.checkmark,n=e.children,r=e.onClick,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className","size","checkmark","children","onClick"]);return a.createElement(l.default,y({},o,{onClick:r,look:t?l.default.Looks.OUTLINED:l.default.Looks.FILLED,size:m.default.buttonSize,className:m.default.button,innerClassName:m.default.buttonInner}),g("div",{className:m.default.buttonContent},void 0,n),t?g(d.default,{name:d.default.Names.CHECKMARK,className:m.default.buttonIcon,width:18,height:18}):null)};I.displayName="InviteActionButton",I.Colors=l.default.Colors,I.Looks=l.default.Looks,I.defaultProps={checkmark:!1};var O=function(e){var t=e.children;return g("div",{className:m.default.wrapper},void 0,t)};O.displayName="InviteButton",O.Header=E,O.Body=S,O.Icon=function(e){var t=e.guild,n=e.channel,r=e.onClick,a=e.expired;if(void 0!==a&&a||null==t&&null==n)return g("div",{className:m.default.guildIconExpired});var l=null==t||null!=t.icon,u=(0,o.getClass)(m.default,"guildIcon",l?"Image":"",null!=r?"Joined":"");return null!=t?g(s.default,{onClick:r,active:!0,size:s.default.Sizes.LARGE,guild:t,className:u,animate:!0}):null!=n?g(i.default,{onClick:r,src:n.getIconURL(),className:u,imageClassName:v.default.iconSizeLarge}):null},O.Info=T,O.Data=function(e){var t=e.membersOnline,n=e.members,r=[];return null!=t&&t>0&&r.push(g(a.Fragment,{},"onlineCount",g("i",{className:m.default.statusOnline}),g("span",{className:m.default.onlineCount},void 0,h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),null!=n&&r.push(g(a.Fragment,{},"memberCount",g("i",{className:m.default.statusOffline}),g("span",{},void 0,h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n})))),r},O.Channel=function(e){var t=e.channel,n=(0,p.getIconNameForChannel)(t);return null==t||null==n?null:[g(d.default,{name:n,width:16,height:16},"channel-icon"),g("span",{className:m.default.channelName},"channel-name",t.name)]},O.Button=I;var N=O;t.default=N},6417:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(3)),o=n(839),i=c(n(101)),l=n(326),u=c(n(6044)),s=n(0),d=c(n(5307));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return null!=e.application?e.application:null!=e.activity&&null!=e.activity.party_id&&(0,l.isSpotifyParty)(e.activity.party_id)?o.SpotifyApplication:void 0}var p=function(e){var t=e.channel,n=e.message,a=e.activity,o=e.hideParty;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{className:d.default.container,activity:a,activityActionType:null!=n.activity?n.activity.type:null,partyId:null!=n.activity?n.activity.party_id:null,userId:n.author.id,application:f(n),message:n,channelId:t.id,guildId:t.getGuildId(),hideParty:o})};p.displayName="MessageActivityInvite";var h=a.default.connectStores([i.default],function(e){var t=e.message;return{activity:null!=t.application?i.default.getApplicationActivity(t.author.id,t.application.id):i.default.findActivity(t.author.id,function(e){return e.type===s.ActivityTypes.LISTENING})}})(p);t.default=h},6418:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(3)),i=_(n(6419)),l=_(n(830)),u=_(n(35)),s=_(n(42)),d=_(n(161)),c=_(n(833)),f=_(n(6105)),p=n(113),h=n(6047),v=n(0),m=_(n(5312));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleMount=function(){p.ComponentDispatch.dispatch(v.ComponentActions.CHAT_RESIZE)},a.render=function(){var e=this,t=this.props,n=t.news,r=t.application,a=t.spoiler,o=t.gifAutoPlay,i=t.isFocused;if(null==n)return null;var l=function(t){return void 0===t&&(t=!1),y(f.default,{className:m.default.newsCard,news:n,application:r,onApplicationClick:h.toggleGamePopout,onMount:e.handleMount,onClick:function(e,t,n){e.stopPropagation();var r=t.url;null!=r&&window.open(r)},hiddenSpoiler:t,autoPlay:o,shouldAnimate:i,disableCardInteractive:!0})};return a?y(c.default,{type:c.default.Types.ATTACHMENT},void 0,l):l()},r}(a.PureComponent);g.displayName="NewsEmbed";var E=o.default.connectStores([u.default,l.default,i.default,d.default,s.default],function(e){var t=e.embed;if(null!=t.referenceId){var n=l.default.getByApplicationNewsId(t.referenceId);return{news:n,application:null!=n?u.default.getGame(n.game_id):null,spoiler:t.spoiler,gifAutoPlay:s.default.gifAutoPlay,isFocused:d.default.isFocused()}}})(g);t.default=E},6419:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(134));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=new Set,u=[],s=[];function d(e,t){void 0===t&&(t=!1),null!=e.embeds&&(t&&!l.has(e.channel_id)||e.embeds.forEach(function(e){var t=e.reference_id;null!=t&&(!function(e){u.includes(e)||(u=[].concat(u,[e]))}(t),o.default.getApplicationNews(t))}))}function c(e){return d(e.message,!0)}function f(e){e.messages.forEach(function(e){return d(e)})}function p(e){var t=e.channelId,n=e.messages;l.add(t),n.forEach(function(e){return d(e,!0)})}function h(e){var t=e.applicationNewsId;u=u.filter(function(e){return e!==t}),s.includes(t)||(s=[].concat(s,[t]))}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getIsResolved=function(e){return s.includes(e)},a.getIsResolving=function(e){return u.includes(e)},a.getResolvingEmbeds=function(){return u},a.getResolvedEmbeds=function(){return s},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return l.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&l.add(t),!1},GAME_NEWS_UPDATE:function(e){var t=e.applicationNewsIds;null!=t&&t.forEach(function(e){return h({applicationNewsId:e})})},APPLICATION_NEWS_ITEM_UPDATE:function(e){h({applicationNewsId:e.applicationNewsId})},MESSAGE_CREATE:c,MESSAGE_UPDATE:c,LOAD_MESSAGES_SUCCESS:p,LOAD_MESSAGES_AROUND_SUCCESS:p,LOAD_RECENT_MENTIONS_SUCCESS:f,LOAD_PINNED_MESSAGES_SUCCESS:f,SEARCH_FINISH:function(e){e.messages.forEach(function(e){return f({messages:e})})}});t.default=v},6420:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(17)),o=u(n(231)),i=u(n(809)),l=u(n(5309));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t,r=e.icon,u=e.timestamp,d=e.hostname,c=e.title,f=e.onIconClick,p=e.onIconContextMenu;return s("div",{className:l.default.wrapper},void 0,s(i.default,{color:i.default.Colors.MUTED,size:i.default.Sizes.SIZE_12,className:l.default.content},void 0,u," ",null!=d?s("span",{className:l.default.timestamp},void 0,d):null),s(o.default,{className:(0,a.default)(l.default.iconWrapper,(t={},t[l.default.interactive]=null!=f,t)),onClick:f,onContextMenu:p},void 0,s("img",null!=r?{src:r,className:l.default.icon,alt:c}:{src:n(6106),className:l.default.icon,alt:c})))}},6421:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=p(n(164)),o=n(903),i=p(n(73)),l=p(n(904)),u=p(n(161)),s=p(n(6422)),d=p(n(5865)),c=n(5881),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function p(){for(var t,n=arguments.length,d=new Array(n),p=0;p<n;p++)d[p]=arguments[p];return(t=e.call.apply(e,[this].concat(d))||this)._isListeningToWindow=!1,t.state={isWindowFocused:u.default.isFocused()},t.addWindowListeners=function(){t._isListeningToWindow=!0,u.default.addChangeListener(t.onChangeWindowStore),t.onChangeWindowStore()},t.removeWindowListeners=function(){t._isListeningToWindow=!1,u.default.removeChangeListener(t.onChangeWindowStore)},t.onChangeWindowStore=function(){var e=u.default.isFocused();e!==t.state.isWindowFocused&&t.setState({isWindowFocused:e})},t.onMouseEnter=function(e,n){var r=n.preloadImage,a=t.props,o=a.width,i=a.height;r((0,c.zoomFit)(o,i))},t.onClickUntrusted=function(e){var n=e.openHref,r=t.props,i=r.original,l=r.src,u=i||l;a.default.show({title:f.default.Messages.HOLD_UP,body:f.default.Messages.MASKED_LINK_BODY.format({url:u}),cancelText:f.default.Messages.MASKED_LINK_CANCEL,confirmText:f.default.Messages.MASKED_LINK_CONFIRM,minorText:f.default.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirm:n,onConfirmSecondary:function(){(0,o.trustDomain)(u),n()}})},t.onZoom=function(e,n){var a=n.placeholder;e.preventDefault();var o=t.props,u=o.src,d=o.original,c=d||u,f={src:u,original:d||u,width:o.width,height:o.height,animated:o.animated,children:o.children,placeholder:a,isTrusted:l.default.isTrusted(c),onClickUntrusted:t.onClickUntrusted};e.currentTarget instanceof HTMLElement&&e.currentTarget.blur(),i.default.push(function(e){return r.createElement(s.default,h({},f,e,{shouldAnimate:t.state.isWindowFocused}))})},t}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=p.prototype;return v.componentDidMount=function(){d.default.isAnimated(this.props)&&!this._isListeningToWindow&&this.addWindowListeners()},v.componentDidUpdate=function(){var e=d.default.isAnimated(this.props);e&&!this._isListeningToWindow?this.addWindowListeners():!e&&this._isListeningToWindow&&this.removeWindowListeners()},v.componentWillUnmount=function(){this._isListeningToWindow&&this.removeWindowListeners()},v.render=function(){return r.createElement(d.default,h({},this.props,{onZoom:this.onZoom,onMouseEnter:this.onMouseEnter,shouldAnimate:this.state.isWindowFocused}))},p}(r.PureComponent);t.default=v,v.displayName="LazyImageZoomable",v.defaultProps={alt:"",shouldLink:!0,autoPlay:!1,animated:!1}},6422:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(5881),i=d(n(5865)),l=d(n(6423)),u=d(n(10)),s=d(n(5313));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.src,n=e.original,r=e.placeholder,d=e.width,f=e.height,p=e.animated,h=e.children,v=e.isTrusted,m=e.onClickUntrusted,_=(e.maxWidth,e.maxHeight,e.shouldAnimate,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["src","original","placeholder","width","height","animated","children","isTrusted","onClickUntrusted","maxWidth","maxHeight","shouldAnimate"])),y=(0,o.zoomFit)(d,f),g=y.width,E=y.height;return a.createElement("div",_,c(i.default,{src:t,placeholder:r,shouldLink:!1,width:d,height:f,maxWidth:g,maxHeight:E,children:h,animated:p,autoPlay:!0}),null!=n&&c(l.default,{href:n,className:s.default.downloadLink,isTrusted:v,onClickUntrusted:m},void 0,u.default.Messages.OPEN_ORIGINAL_IMAGE))},r}(a.PureComponent);t.default=f,f.displayName="ImageModal"},6423:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=l(n(202)),o=l(n(305)),i=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).openHref=function(){var e=t.props.href;if(i.default.embedded)window.open(e);else{var n=window.open();n.opener=null,n.location=e,n.target="_blank"}},t.onClick=function(e){var n=t.props,r=n.href,o=n.isTrusted,i=n.onClickUntrusted;null!=a.default.sanitizeUrl(r)?o||(e.preventDefault(),i({openHref:t.openHref})):e.preventDefault()},t}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.render=function(){var e=this.props,t=e.title,n=void 0===t?null:t,i=e.children,l=e.href,s=(e.onClickUntrusted,e.isTrusted,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["title","children","href","onClickUntrusted","isTrusted"])),d=a.default.sanitizeUrl(l);return r.createElement(o.default,u({},s,{title:n,target:"_blank",rel:"noreferrer noopener",href:d,onClick:this.onClick}),i||n)},l}(r.PureComponent);t.default=s,s.displayName="MaskedLink"},6424:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=L(n(4)),l=n(232),u=L(n(3)),s=D(n(836)),d=L(n(800)),c=L(n(5851)),f=L(n(5882)),p=L(n(11)),h=L(n(5974)),v=L(n(88)),m=L(n(14)),_=L(n(5941)),y=L(n(189)),g=L(n(807)),E=L(n(112)),S=L(n(231)),T=L(n(158)),I=L(n(302)),O=n(113),N=D(n(320)),C=L(n(45)),A=n(5954),M=n(6049),R=n(0),b=L(n(10)),P=L(n(5322));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.onClick,n=e.libraryApplication;return F(S.default,{className:P.default.libraryLink,onClick:t},void 0,F(I.default,{name:I.default.Names.LIBRARY,className:P.default.libraryIcon}),F("div",{},void 0,n.isHidden()?b.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:b.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}j.displayName="LibraryLink";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderMedia=function(){var e;return F("div",{className:(0,o.default)(P.default.invalidPoop,(e={},e[P.default.invalidPoopHorizontal]=t.isHorizontal,e))})},t.renderTitle=function(){return t.props.isSelfGift?b.default.Messages.GIFT_EMBED_INVALID_TITLE_SELF:b.default.Messages.GIFT_EMBED_INVALID_TITLE_OTHER},t.renderActions=function(){return t.props.isSelfGift?F(l.Link,{to:R.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,F(E.default,{size:E.default.Sizes.SMALL},void 0,b.default.Messages.GIFT_INVENTORY)):F(E.default,{disabled:!0,size:E.default.Sizes.SMALL},void 0,b.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},t.renderTagline=function(){return t.props.isSelfGift?b.default.Messages.GIFT_EMBED_INVALID_TAGLINE_SELF:b.default.Messages.GIFT_EMBED_INVALID_TAGLINE_OTHER},t}return k(t,e),t.prototype.render=function(){return F(A.ResponsiveEmbedTile,{isHorizontal:this.isHorizontal,renderTitle:this.renderTitle,renderTagline:this.renderTagline,renderMedia:this.renderMedia,renderActions:this.renderActions})},G(t,[{key:"isHorizontal",get:function(){return this.props.width>=A.HORIZONTAL_EMBED_BREAKPOINT}}]),t}(a.PureComponent);B.displayName="InvalidGift";var H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewLibrary=function(e){var n=t.props.libraryApplication;e.preventDefault(),null!=n&&n.isHidden()?d.default.open(R.UserSettingsSections.GAME_LIBRARY):C.default.transitionTo(R.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=n?n.id:null}})},t.handleVerificationClick=function(e){e.preventDefault(),d.default.open(R.UserSettingsSections.ACCOUNT)},t.handleAccept=function(e){var n=t.props.channelId;e.preventDefault(),e.stopPropagation(),s.openGiftCodeAcceptModal(t.props.code,w({},t.analyticsLocation,{object:R.AnalyticsObjects.BUTTON_CTA}),n)},t.handleEmbedClick=function(e){var n=t.props.giftCode;null!=n&&n.isSubscription&&(e.preventDefault(),d.default.open(R.UserSettingsSections.PREMIUM))},t}k(t,e);var n=t.prototype;return n.componentDidMount=function(){null==this.props.giftCode&&O.ComponentDispatch.dispatch(R.ComponentActions.CHAT_RESIZE)},n.renderActions=function(e){var t=this.props.libraryApplication;return F(T.default,{justify:T.default.Justify.BETWEEN},void 0,F(T.default,{},void 0,this.renderButton(e),null==t||e.isSubscription?null:F(j,{onClick:this.handleViewLibrary,libraryApplication:t})),F(T.default,{align:T.default.Align.END,justify:T.default.Justify.END,className:P.default.metadata,direction:T.default.Direction.VERTICAL},void 0,e.hasMultipleCopies?F("div",{},void 0,this.renderGiftCodeCopiesLeft(e)):null,e.redeemed||e.isClaimed||null!=t||null==e.expiresAt?null:F("div",{},void 0,b.default.Messages.GIFT_EMBED_EXPIRATION.format({hours:e.expiresAt.diff((0,i.default)(),"h")}))))},n.renderGiftCodeCopiesLeft=function(e){return(e.isSubscription?b.default.Messages.GIFT_EMBED_SUBSCRIPTIONS_LEFT:b.default.Messages.GIFT_EMBED_COPIES_LEFT).format({remaining:e.remainingUses,total:e.maxUses})},n.renderButton=function(e){var t=this.props,n=t.libraryApplication,r=t.currentUser,o={onClick:this.handleAccept,color:E.default.Colors.GREEN},i=e.isSubscription?N.doesUserSubscriptionMismatch(e,r):null!=n;return(e.redeemed||i||e.isClaimed||!r.verified)&&(o.color=E.default.Colors.PRIMARY,o.disabled=!0),a.createElement(E.default,w({},o,{size:E.default.Sizes.SMALL}),e.redeemed?b.default.Messages.GIFT_EMBED_BUTTON_CLAIMED:b.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},n.renderTitle=function(e){var t=this.props,n=t.isSelfGift;return null==t.sku?null:e.isSubscription?n?b.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION_SELF:b.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION:n?b.default.Messages.GIFT_EMBED_TITLE_SELF:b.default.Messages.GIFT_EMBED_TITLE},n.renderBody=function(e){var t=this.props,n=t.libraryApplication,r=t.isSelfGift,a=t.sku,o=t.gifter,i=t.subscriptionPlan,l=t.currentUser;if(null==a)return b.default.Messages.LOADING;var u=a.isPreorder()?b.default.Messages.PREORDER_SKU_NAME.format({name:a.name}):a.name;if(e.redeemed)return e.isSubscription?b.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF_SUBSCRIPTION:b.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF.format({skuName:u,onViewInLibrary:this.handleViewLibrary});if(null==e.subscriptionPlanId&&null!=n)return b.default.Messages.GIFT_EMBED_BODY_OWNED.format({skuName:u,onViewInLibrary:this.handleViewLibrary});if(N.doesUserSubscriptionMismatch(e,l))return b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:l.premiumType===R.PremiumTypes.TIER_1?b.default.Messages.PREMIUM_TIER_1:b.default.Messages.PREMIUM_TIER_2});if(e.isClaimed)return b.default.Messages.GIFT_EMBED_BODY_CLAIMED_OTHER;if(!l.verified)return b.default.Messages.GIFT_EMBED_BODY_REQUIRES_VERIFICATION.format({onClick:this.handleVerificationClick});if(r)return b.default.Messages.GIFT_EMBED_BODY_SELF;if(e.hasMultipleCopies)return null!=o?(e.isSubscription?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_GIVEAWAY:b.default.Messages.GIFT_EMBED_BODY_GIVEAWAY).format({username:o.tag,totalCopies:e.maxUses,skuName:u}):(e.isSubscription?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_GIVEAWAY:b.default.Messages.GIFT_EMBED_BODY_NO_USER_GIVEAWAY).format({totalCopies:e.maxUses,skuName:u});if(e.isSubscription){if(null==i)throw new Error("How could you let this happen??");return null!=o?(i.interval===R.SubscriptionIntervalTypes.MONTH?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_MONTHS:b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_YEARS).format({username:o.tag,skuName:u,intervalCount:i.intervalCount}):(i.interval===R.SubscriptionIntervalTypes.MONTH?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_MONTHS:b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_YEARS).format({skuName:u,intervalCount:i.intervalCount})}return null!=o?b.default.Messages.GIFT_EMBED_BODY_DEFAULT.format({username:o.tag}):b.default.Messages.GIFT_EMBED_BODY_NO_USER_DEFAULT},n.render=function(){var e=this,t=this.props,n=t.giftCode,r=t.resolved,a=t.width,o=t.isSelfGift;return null==n||n.revoked?r?F(B,{isSelfGift:o,width:a}):F(A.ResponsiveLoadingEmbedTile,{isHorizontal:a>=A.HORIZONTAL_EMBED_BREAKPOINT}):F(M.StoreEmbedWithoutDimensions,{skuId:n.skuId,onEmbedClick:this.handleEmbedClick,analyticsSection:R.AnalyticsSections.GIFT_CODE_EMBED,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:function(){return e.renderTitle(n)},renderCustomTagline:function(){return e.renderBody(n)},width:a})},G(t,[{key:"analyticsLocation",get:function(){return w({},this.props.analyticsContext.location,{section:R.AnalyticsSections.GIFT_CODE_EMBED})}}]),t}(a.Component);H.displayName="GiftCodeEmbed";var x=u.default.connectStores([p.default,y.default,m.default,g.default,h.default,v.default,_.default],function(e){var t=e.code,n=e.author,r=h.default.get(t),a=null!=r?y.default.get(r.skuId):null;return{sku:a,giftCode:r,gifter:null!=r&&null!=r.userId?m.default.getUser(r.userId):null,subscriptionPlan:null!=r&&null!=r.subscriptionPlanId?_.default.get(r.subscriptionPlanId):null,isSelfGift:null!=r?p.default.getId()===r.userId:p.default.getId()===n.id,currentUser:m.default.getCurrentUser(),resolved:h.default.getIsResolved(t),libraryApplication:null!=a&&null!=r?N.firstLibraryApplicationForGiftCode(r,a,v.default):null}})((0,f.default)((0,c.default)(H)));t.default=x},6425:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=(y(n(814)),y(n(829)),y(n(112))),l=y(n(6107)),u=y(n(6108)),s=y(n(5955)),d=n(130),c=n(6110),f=y(n(5921)),p=y(n(5902)),h=n(5954),v=y(n(6048)),m=n(0),_=y(n(5320));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=600,S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),h=0;h<n;h++)r[h]=arguments[h];return(t=e.call.apply(e,[this].concat(r))||this).renderActions=function(){var e=t.props,n=e.inLibrary,r=e.sku,a=e.renderCustomActions,o=e.isMouseOver,l=(e.showBuyInline||!r.requiresPayment)&&!n,u=l&&o;return null!=a?a():g("div",{className:_.default.priceOs},void 0,g(p.default,{type:p.default.Types.DIRECTORY_TILE,sku:r,inLibrary:n,className:u?_.default.tilePriceWithVisibleBuyButton:_.default.tilePrice}),g(c.OperatingSystemSection,{systems:[m.OperatingSystems.WINDOWS],className:_.default.platform}),l?g(f.default,{skuId:r.id,applicationId:r.applicationId,size:i.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:u?_.default.tileBuyButtonVisible:_.default.tileBuyButton}):null)},t.renderMedia=function(){var e,n,r,i=t.props,c=i.playing,f=i.muted,p=i.showMediaPlaceholder,h=i.onToggleMute,v=i.sku,m=i.isHorizontal,y=i.storeListing;return g(a.Fragment,{},void 0,g(s.default,{className:(0,o.default)(_.default.splashContainer,(e={},e[_.default.splashContainerHorizontal]=m,e)),video:null!=y.previewVideo?(0,d.getAssetURL)(v.applicationId,y.previewVideo):null,image:null!=y.thumbnail?(0,d.getAssetURL)(v.applicationId,y.thumbnail,E):null,title:v.name,playing:c,muted:f,placeholder:p,onToggleMute:h,splashClassName:_.default.splashVideo,splashPlaceholderClassName:_.default.splashPlaceholder}),v.exclusive?g(l.default,{className:(0,o.default)(_.default.exclusiveRegular,(n={},n[_.default.exclusivePlaying]=c,n))}):v.isTheGameAwardsWinner?g(u.default,{className:(0,o.default)(_.default.exclusiveRegular,(r={},r[_.default.exclusivePlaying]=c,r))}):null)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isHorizontal,a=e.className,o=e.renderCustomTagline,i=e.renderCustomTitle;return g(e.isEmbed?h.ResponsiveEmbedTile:v.default,{className:a,renderMedia:this.renderMedia,renderTitle:null!=i?i:function(){return t.name},renderTagline:null!=o?o:function(){return n.tagline},renderActions:this.renderActions,isHorizontal:r})},r}(a.PureComponent);S.displayName="ApplicationTile",S.defaultProps={showMediaPlaceholder:!1,isMouseOver:!1,showBuyInline:!1,isHorizontal:!1,isEmbed:!1};var T=S;t.default=T},6426:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=P(n(2)),i=b(n(3)),l=b(n(133)),u=b(n(11)),s=b(n(328)),d=b(n(20)),c=b(n(23)),f=b(n(14)),p=b(n(132)),h=P(n(795)),v=b(n(6032)),m=b(n(6427)),_=b(n(6430)),y=b(n(6431)),g=b(n(6432)),E=b(n(6434)),S=b(n(6435)),T=b(n(6437)),I=b(n(6438)),O=n(113),N=n(6033),C=b(n(250)),A=b(n(443)),M=b(n(5237)),R=n(0);function b(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=function(e,t){return function(n){(0,h.openPopout)(n.currentTarget,{closeOnScroll:!1,position:h.default.Positions.RIGHT,shadow:!1,render:function(n){var r=d.default.getChannel(t);return null==r?null:o.createElement(M.default,w({},n,{userId:e.id,guildId:r.getGuildId(),channelId:r.id}))}})}},G=function(e,t){return function(n){var r=d.default.getChannel(t);null!=r&&(0,N.openUserContextMenu)(n,e,r)}},k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinCall=function(){var e=t.props.message;l.default.selectVoiceChannel(null,e.getChannelId())},t}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.missed,r=e.joinable,a=t.author,o=t.getChannelId();return L(m.default,{message:t,missed:n,joinable:r,onClickUsername:U(a,o),onContextMenuUsername:G(a,o),onClickJoinCall:this.handleJoinCall})},t}(o.PureComponent);k.displayName="Call";var F=i.default.connectStores([s.default,p.default],function(e){var t=e.message,n=u.default.getId(),r=t.getChannelId(),a=s.default.isCallActive(r,t.id),o=p.default.getVoiceState(R.ME,n);return{missed:!a&&null!=t.call&&!t.call.participants.includes(n),joinable:a&&(null==o||o.channelId!==r)}})(k),j=function(e){var t=e.message,n=t.author,r=t.getChannelId();return L(y.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:G(n,r)})};j.displayName="ChannelNameChange";var B=function(e){var t=e.message,n=t.author,r=t.getChannelId();return L(_.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:G(n,r)})};B.displayName="ChannelIconChange";var H=function(e){function t(){return e.apply(this,arguments)||this}D(t,e);var n=t.prototype;return n.handleViewPins=function(){O.ComponentDispatch.dispatch(R.ComponentActions.TOGGLE_CHANNEL_PINS)},n.render=function(){var e=this.props.message,t=e.author,n=e.getChannelId();return L(g.default,{message:e,onClickUsername:U(t,n),onContextMenuUsername:G(t,n),onClickPins:__OVERLAY__?null:this.handleViewPins})},t}(o.PureComponent);function x(e){var t=e.message,n=e.otherUser,r=t.author,a=t.getChannelId(),o=A.default.getName(null,a,n);return L(E.default,{message:t,otherUsername:o,onClickUsername:U(r,a),onContextMenuUsername:G(r,a),onClickOtherUsername:U(n,a),onContextMenuOtherUsername:G(n,a)})}H.displayName="ChannelPinnedMessage",x.displayName="RecipientAdd";var V=i.default.connectStores([f.default],function(e){var t=e.message;return{otherUser:f.default.getUser(t.mentions[0])}})(x);function Y(e){var t=e.message,n=e.otherUser,r=t.author,a=t.getChannelId(),o=U(r,a),i=G(r,a);if(null!=n&&n.id!==r.id){var l=A.default.getName(null,a,n),u=U(n,a),s=G(n,a);return L(S.default,{message:t,onClickUsername:o,onContextMenuUsername:i,otherUsername:l,onClickOtherUsername:u,onContextMenuOtherUsername:s})}return L(S.default,{message:t,onClickUsername:o,onContextMenuUsername:i})}Y.displayName="RecipientRemove";var K=i.default.connectStores([f.default],function(e){var t=e.message;return{otherUser:f.default.getUser(t.mentions[0])}})(Y),W=function(e){var t=e.message,n=t.author,r=t.getChannelId();return L(T.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:G(n,r)})};W.displayName="UserJoin";var z=function(e){var t=e.message,n=e.guildName,r=t.author,a=t.getChannelId();return L(I.default,{message:t,guildName:n,onClickUsername:U(r,a),onContextMenuUsername:G(r,a)})};z.displayName="UserPremiumGuildSubscription";var $=i.default.connectStores([d.default,c.default],function(e){var t=e.message,n=d.default.getChannel(t.channel_id),r=null!=n?c.default.getGuild(n.getGuildId()):null;return{guildName:null!=r?r.name:null}})(z),q=((r={})[R.MessageTypes.RECIPIENT_ADD]=V,r[R.MessageTypes.RECIPIENT_REMOVE]=K,r[R.MessageTypes.CALL]=F,r[R.MessageTypes.CHANNEL_NAME_CHANGE]=j,r[R.MessageTypes.CHANNEL_ICON_CHANGE]=B,r[R.MessageTypes.CHANNEL_PINNED_MESSAGE]=H,r[R.MessageTypes.USER_JOIN]=W,r[R.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION]=$,r[R.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_1]=$,r[R.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_2]=$,r[R.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_3]=$,r),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onContextMenu=function(e){var n=t.props,r=n.message,a=n.channel;(0,n.onContextMenu)(e,{message:r,channel:a,target:e.target})},t}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.message,r=t.renderButtons,a=t.channel,o=q[n.type];return null==o?(e=new Error("unknown message type "+n.type),C.default.captureException(e),console.error(e),null):L(v.default,{message:n,channel:a,isCompact:!1,onContextMenu:this.onContextMenu,renderButtons:R.MessageTypesDeletable[n.type]?r:null},void 0,L(o,{message:n}))},t}(o.PureComponent);t.default=X,X.displayName="SystemMessageWrapper"},6427:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(5867)),o=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(e){var t=e.message,r=e.missed,i=e.joinable,u=e.onClickUsername,s=e.onContextMenuUsername,d=e.onClickJoinCall,c=t.getAuthorName(),f={onClick:u,onContextMenu:s};return r?l(a.default,{icon:n(6428),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CALL_MISSED.format({username:c,usernameOnClick:f})):l(a.default,{icon:n(6429),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:c,usernameOnClick:f}),i?l(a.default.Action,{onClick:d},void 0,o.default.Messages.SYSTEM_MESSAGE_JOIN_CALL):null)}u.displayName="Call"},6428:function(e,t,n){e.exports=n.p+"d80d1fdc43a3c42134a31a39581160ac.svg"},6429:function(e,t,n){e.exports=n.p+"c30220457097b064286a8759a9b6c4af.svg"},6430:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(5867)),o=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.message,i=e.onClickUsername,l=e.onContextMenuUsername;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{icon:n(6050),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:i,onContextMenu:l}}))}l.displayName="ChannelIconChange"},6431:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(5867)),o=l(n(10)),i=l(n(5325));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,l=e.onClickUsername,u=e.onContextMenuUsername;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:i.default.channelNameChange,icon:n(6050),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:l,onContextMenu:u},channelName:t.content}))}u.displayName="ChannelNameChange"},6432:function(e,t,n){"use strict";t.__esModule=!0,t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(305)),o=l(n(5867)),i=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,s=e.onClickPins,d=t.nick,c=t.author,f=t.colorString,p=d||c.username,h=function(e,t){var n=f?{color:f}:null;return u(a.default,{onClick:r,onContextMenu:l,style:n},t,e)},v=null==s?i.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED.format({usernameOnClick:h,username:p}):i.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE.format({usernameHook:h,username:p,pinsActionOnClick:s});return u(o.default,{icon:n(6433),timestamp:t.timestamp},void 0,v)}s.displayName="ChannelPinnedMessage"},6433:function(e,t,n){e.exports=n.p+"5da4cdab01d4d89c593c48c62ae0d937.svg"},6434:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(5867)),o=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.message,i=e.otherUsername,l=e.onClickUsername,u=e.onContextMenuUsername,s=e.onClickOtherUsername,d=e.onContextMenuOtherUsername,c=t.getAuthorName(),f=o.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:c,usernameOnClick:{onClick:l,onContextMenu:u},otherUsername:i,otherUsernameOnClick:{onClick:s,onContextMenu:d}});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{icon:n(6051),timestamp:t.timestamp},void 0,f)}l.displayName="RecipientAdd"},6435:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(5867)),o=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t,i=e.message,l=e.onClickUsername,u=e.onContextMenuUsername,s=i.getAuthorName();if(e.otherUsername){var d=e.otherUsername,c=e.onClickOtherUsername,f=e.onContextMenuOtherUsername;t=o.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:s,usernameOnClick:{onClick:l,onContextMenu:u},otherUsername:d,otherUsernameOnClick:{onClick:c,onContextMenu:f}})}else t=o.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:s,usernameOnClick:{onClick:l,onContextMenu:u}});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{icon:n(6436),timestamp:i.timestamp},void 0,t)}l.displayName="RecipientRemove"},6436:function(e,t,n){e.exports=n.p+"aff52bc375fe2da876174301a5c6d09d.svg"},6437:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6111)),o=i(n(5867));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.message,i=e.onClickUsername,l=e.onContextMenuUsername,u=t.id,s=t.author,d=a.default.getSystemMessageUserJoin(u).format({username:s.username,usernameOnClick:{onClick:i,onContextMenu:l}});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default,{icon:n(6051),timestamp:t.timestamp},void 0,d)}l.displayName="UserJoin"},6438:function(e,t,n){"use strict";t.__esModule=!0,t.default=c;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=n(5897),i=s(n(5867)),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION]=null,r[l.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_1]=l.PremiumGuildTiers.TIER_1,r[l.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_2]=l.PremiumGuildTiers.TIER_2,r[l.MessageTypes.USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_3]=l.PremiumGuildTiers.TIER_3,r);function c(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,s=e.guildName,c=t.nick,f=t.author,p=function(e){return d[e.type]||null}(t),h=c||f.username,v={onClick:r,onContextMenu:l},m=null==p||null==s?u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED.format({username:h,usernameOnClick:v}):u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED_ACHIEVED_TIER.format({username:h,usernameOnClick:v,guildName:s,newTierName:(0,o.getTierName)(p)});return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{icon:n(6439),timestamp:t.timestamp},void 0,m)}c.displayName="UserPremiumGuildSubscription"},6439:function(e,t,n){e.exports=n.p+"cb89dda4bb5e8a2b97dde8ad650ab818.svg"},6440:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(5853)),i=g(n(5909)),l=g(n(6441)),u=g(n(6444)),s=g(n(6448)),d=g(n(6449)),c=g(n(6450)),f=g(n(6451)),p=g(n(6452)),h=g(n(6453)),v=g(n(6557)),m=g(n(6558)),_=g(n(6559)),y=n(0);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E(v.default,{}),T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r,a=this.props,v=a.style,g=a.type,T=a.className,I=a.channel,O=a.message,N=a.invertChildY,C=a.attachment,A=this.props.target;if(C)t=e=C.url;else for(;null!=A;)A instanceof HTMLImageElement&&null!=A.src&&(t=A.src),A instanceof HTMLAnchorElement&&null!=A.href&&(e=A.href),A=A.parentNode;var M=document.getSelection?document.getSelection():null;switch(M&&!M.isCollapsed&&(n=S,r=E(_.default,{value:M.toString()})),g){case y.ContextMenuTypes.MESSAGE_MAIN:return E("div",{className:T,style:v},void 0,E(o.default,{},void 0,n),E(o.default,{},void 0,r),E(o.default,{},void 0,E(l.default,{channel:I,message:O,invertChildY:N}),E(c.default,{channel:I,message:O}),E(h.default,{channel:I,message:O}),E(d.default,{channelId:I.id,message:O}),E(f.default,{channel:I,message:O}),E(p.default,{channel:I,message:O}),E(u.default,{channel:I,message:O})),E(m.default,{href:e,src:t}),E(s.default,{channel:I,message:O}));case y.ContextMenuTypes.MESSAGE_SYSTEM:return E("div",{className:T,style:v},void 0,E(o.default,{},void 0,n),E(o.default,{},void 0,r),E(o.default,{},void 0,E(u.default,{channel:I,message:O})),E(m.default,{href:e,src:t}),E(i.default,{id:O.id}));default:return null}},r}(a.PureComponent);T.displayName="MessageContextMenu";var I=T;t.default=I},6441:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=I(n(797)),o=(I(n(798)),I(n(5850))),i=I(n(3)),l=n(303),u=I(n(73)),s=n(446),d=I(n(199)),c=I(n(241)),f=I(n(159)),p=I(n(42)),h=I(n(81)),v=n(113),m=I(n(169)),_=n(463),y=I(n(6442)),g=I(n(5946)),E=I(n(5956)),S=n(0),T=I(n(10));function I(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=(0,a.default)({displayName:"MessageAddReactionItem",mixins:[o.default],renderFrequentlyUsedEmojis:function(){var e=this,t=this.props.channel.getGuildId(),r=c.default.getDisambiguatedEmojiContext(t).getFrequentlyUsedEmojis().filter(function(t){return!m.default.isEmojiDisabled(t,e.props.channel)}).map(function(t){var n,r;n=null==t.id?m.default.getURL(t.surrogatePair):h.default.getEmojiURL({id:t.id,animated:t.animated}),r=null==t.id?d.default.convertSurrogateToName(t.surrogatePair):":"+t.name+":";var a=t.id||t.surrogatePair;return O(y.default,{label:r,image:n,action:function(){return e.handleAddReaction(t)}},a)});return r.push(O(y.default,{label:T.default.Messages.OTHER_REACTIONS,image:n(6443),action:this.renderEmojiPicker},"otherReactions")),r},render:function(){var e=this.props,t=e.channel,n=e.canAddReactions;return p.default.renderReactions&&(t.isPrivate()||n)?O(g.default,{label:T.default.Messages.ADD_REACTION,render:this.renderFrequentlyUsedEmojis,invertChildY:this.props.invertChildY}):null},renderEmojiPicker:function(){(0,l.closeContextMenu)(),v.ComponentDispatch.dispatch(S.ComponentActions.TOGGLE_REACTION_POPOUT(this.props.message.id))},handleAddReaction:function(e){var t=this.props,n=t.channel,r=t.message;(0,s.addReaction)(n.id,r.id,(0,_.toReactionEmoji)(e)),(0,l.closeContextMenu)()},handleReactions:function(){u.default.push(E.default,{message:this.props.message})}}),C=i.default.connectStores([f.default],function(e){var t=e.channel;return{canAddReactions:f.default.can(S.Permissions.ADD_REACTIONS,t)}})(N);t.default=C},6442:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(231)),i=l(n(824));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n,r=e.styles,l=e.image,s=e.label,d=e.action,c=e.active,f=void 0!==c&&c,p=e.disabled,h=void 0!==p&&p,v=e.danger,m=void 0!==v&&v;return h||(n=function(e){return d(e,s,f)}),u(o.default,{className:(0,a.default)(i.default.item,i.default.itemImage,(t={},t[i.default.danger]=m,t)),style:r,onClick:n},void 0,u("div",{className:i.default.label},void 0,s),u("img",{alt:"",src:l}))};s.displayName="ImageMenuItem";var d=s;t.default=d},6443:function(e,t,n){e.exports=n.p+"24e5837679a970699e904d047c741540.svg"},6444:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(797)),o=(v(n(798)),v(n(5850))),i=v(n(3)),l=n(303),u=v(n(162)),s=v(n(159)),d=v(n(14)),c=v(n(5848)),f=v(n(5942)),p=n(0),h=v(n(10));function v(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"MessageDeleteItem",mixins:[o.default],render:function(){var e=this.props,t=e.message;return!e.canManageMessages&&t.author.id!==d.default.getCurrentUser().id||t.state===p.MessageStates.SENDING?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:h.default.Messages.DELETE_MESSAGE,action:this.handleDeleteMessage,danger:!0})},handleDeleteMessage:function(e){var t=this.props,n=t.channel,r=t.message;(0,l.closeContextMenu)(),r.state===p.MessageStates.SEND_FAILED?u.default.deleteMessage(n.id,r.id,!0):e.shiftKey?u.default.deleteMessage(n.id,r.id):f.default.confirmDelete(n,r,!0)}}),_=i.default.connectStores([s.default],function(e){var t=e.channel;return{canManageMessages:s.default.can(p.Permissions.MANAGE_MESSAGES,t)}})(m);t.default=_},6445:function(e,t,n){"use strict";t.__esModule=!0,t.canReportInChannel=d,t.canReportUser=c,t.canReportMessage=function(e){return null!=e&&c(e.author)&&d(e.getChannelId())};var r=u(n(11)),a=u(n(20)),o=u(n(329)),i=u(n(159)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=50;function d(e){if(i.default.can(l.Permissions.MANAGE_MESSAGES,{channelId:e})){var t=a.default.getChannel(e);if(null!=t){var n=o.default.getMemberCount(t.getGuildId());return null!=n&&n>=s}}return!1}function c(e){if(null==e)return!1;var t=e.id;return r.default.getId()!==t}},6446:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(6447)),i=v(n(112)),l=v(n(188)),u=v(n(5870)),s=v(n(427)),d=v(n(432)),c=v(n(428)),f=v(n(98)),p=n(0),h=v(n(10));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._isMounted=!1,_(n).handleReasonChange=n.handleReasonChange.bind(_(n)),_(n).handleReport=n.handleReport.bind(_(n)),n.state={loading:!0,submitting:!1,reasons:[],selectedReason:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this._isMounted=!0,o.default.getReasons(this.getReportData()).then(function(t){e._isMounted&&e.setState({reasons:t,loading:!1})})},a.componentWillUnmount=function(){this._isMounted=!1},a.close=function(){(0,this.props.onClose)()},a.renderHeader=function(){var e,t=this.props,n=t.guild,r=t.message,a=t.user;return n?e=h.default.Messages.REPORT_SERVER.format({name:n.toString()}):r?e=h.default.Messages.REPORT_MESSAGE.format({name:r.getAuthorName()}):a&&(e=h.default.Messages.REPORT_USER.format({name:a.tag})),m(l.default.Header,{},void 0,m(f.default,{tag:f.default.Tags.H4},void 0,e))},a.getReportData=function(){var e=this.props,t=e.guild,n=e.message,r=e.user,a=this.state.selectedReason,o={};return null!=n?(o.channel_id=n.getChannelId(),o.message_id=n.id):null!=r?o.user_id=r.id:null!=t&&(o.guild_id=t.id),null!=a&&(o.reason=a),o},a.renderReasons=function(){var e=this.state,t=e.loading,n=e.reasons,r=e.selectedReason;if(t)return m(s.default,{style:{height:100}});var a=n.map(function(e){var t=e.reason;return{name:e.label,desc:e.description,value:t}});return m(u.default,{value:r,onChange:this.handleReasonChange,options:a})},a.renderFooter=function(){var e=this,t=this.state,n=t.loading,r=t.selectedReason,a=t.submitting,o=n||a||null==r;return m(l.default.Footer,{},void 0,m(i.default,{type:"submit",disabled:o,submitting:a},void 0,h.default.Messages.REPORT),m(i.default,{look:i.default.Looks.LINK,color:i.default.Colors.PRIMARY,onClick:function(){return e.close()}},void 0,h.default.Messages.CANCEL))},a.render=function(){return m(l.default,{tag:"form",onSubmit:this.handleReport},void 0,this.renderHeader(),m(l.default.Content,{},void 0,m(d.default,{title:h.default.Messages.FORM_LABEL_REPORT_REASON},void 0,this.renderReasons()),m(c.default,{type:c.default.Types.DESCRIPTION},void 0,h.default.Messages.FORM_REPORT_HELP_TEXT.format({guidelinesURL:p.MarketingURLs.GUIDELINES}))),this.renderFooter())},a.handleReasonChange=function(e){var t=e.value;if("number"!=typeof t)throw new Error("Report.handleReasonChange: Invalid reason type");this.setState({selectedReason:t})},a.handleReport=function(e){var t=this;e.preventDefault(),this.setState({submitting:!0});var n=this.props.onReport;o.default.report(this.getReportData()).then(function(){n&&n(),t.close()},function(){return t.setState({submitting:!1})})},r}(a.Component);y.displayName="Report";var g=y;t.default=g},6447:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(9))&&r.__esModule?r:{default:r},o=n(0);var i={report:function(e){return a.default.post({url:o.Endpoints.REPORT,body:e})},getReasons:function(e){return a.default.get({url:o.Endpoints.REPORT,query:e}).then(function(e){return e.body})}};t.default=i},6448:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(3)),i=n(303),l=p(n(42)),u=n(5869),s=p(n(5853)),d=p(n(5848)),c=n(0),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCopyID=function(e){var n=t.props.message,r=n.channel_id+"-"+n.id,a=r&&e.shiftKey?r:n.id;(0,u.copy)(a),(0,i.closeContextMenu)()},t.handleCopyLink=function(){var e=t.props,n=e.channel,r=e.message;(0,u.copy)(location.protocol+"//"+location.host+c.Routes.CHANNEL(n.guild_id,n.id,r.id)),(0,i.closeContextMenu)()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return!__OVERLAY__&&this.props.developerMode&&u.SUPPORTS_COPY?h(s.default,{},void 0,h(d.default,{label:f.default.Messages.COPY_ID,action:this.handleCopyID}),h(d.default,{label:f.default.Messages.COPY_MESSAGE_LINK,action:this.handleCopyLink})):null},r}(a.PureComponent);v.displayName="MessageDeveloperModeGroup";var m=o.default.connectStores([l.default],function(){return{developerMode:l.default.developerMode}})(v);t.default=m},6449:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=c(n(162)),l=c(n(14)),u=c(n(5848)),s=n(0),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEditMessage=function(){(0,o.closeContextMenu)(),i.default.startEditMessage(t.props.channelId,t.props.message.id,t.props.message.content)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.message,t=l.default.getCurrentUser();return e.state!==s.MessageStates.SEND_FAILED&&e.author.id===t.id?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.EDIT_MESSAGE,action:this.handleEditMessage}):null},a}(a.PureComponent);f.displayName="MessageEditItem";var p=f;t.default=p},6450:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(797)),o=(h(n(798)),h(n(5850))),i=h(n(3)),l=h(n(5937)),u=n(303),s=h(n(159)),d=h(n(5848)),c=h(n(5942)),f=n(0),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=(0,a.default)({displayName:"MessagePinItem",mixins:[o.default],render:function(){var e=this.props,t=e.channel,n=e.message;return!e.canManageMessages&&!t.isPrivate()||n.state===f.MessageStates.SEND_FAILED?null:!1===n.pinned?v(d.default,{action:this.handlePin,label:p.default.Messages.PIN_MESSAGE}):v(d.default,{action:this.handleUnpin,label:p.default.Messages.UNPIN_MESSAGE})},handlePin:function(e){(0,u.closeContextMenu)(),e.shiftKey?l.default.pinMessage(this.props.channel,this.props.message.id):c.default.confirmPin(this.props.channel,this.props.message)},handleUnpin:function(e){(0,u.closeContextMenu)(),e.shiftKey?l.default.unpinMessage(this.props.channel,this.props.message.id):c.default.confirmUnpin(this.props.channel,this.props.message)}}),_=i.default.connectStores([s.default],function(e){var t=e.channel;return{canManageMessages:s.default.can(f.Permissions.MANAGE_MESSAGES,t)}})(m);t.default=_},6451:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(797)),o=(c(n(798)),c(n(5850))),i=n(303),l=c(n(73)),u=c(n(5848)),s=c(n(5956)),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"MessageReactionsItem",mixins:[o.default],render:function(){return this.props.message.reactions&&this.props.message.reactions.length>0?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.REACTIONS,action:this.handleReactions}):null},handleReactions:function(){(0,i.closeContextMenu)(),l.default.push(s.default,{message:this.props.message})}});t.default=f},6452:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(797)),o=(h(n(798)),h(n(5850))),i=h(n(3)),l=h(n(164)),u=n(303),s=n(446),d=h(n(159)),c=h(n(5848)),f=n(0),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"MessageRemoveReactionsItem",mixins:[o.default],render:function(){var e=this.props,t=e.message;return e.canManageMessages&&t.reactions&&t.reactions.length>0?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:p.default.Messages.REMOVE_ALL_REACTIONS,action:this.handleRemoveAllReactions,danger:!0}):null},handleRemoveAllReactions:function(e){var t=this;(0,u.closeContextMenu)(),e.shiftKey?(0,s.removeAllReactions)(this.props.channel.id,this.props.message.id):l.default.show({title:p.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:p.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:p.default.Messages.YES_TEXT,cancelText:p.default.Messages.NO_TEXT,onConfirm:function(){(0,s.removeAllReactions)(t.props.channel.id,t.props.message.id)}})}}),m=i.default.connectStores([d.default],function(e){var t=e.channel;return{canManageMessages:d.default.can(f.Permissions.MANAGE_MESSAGES,t)}})(v);t.default=m},6453:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=d(n(162)),l=d(n(5848)),u=n(0),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleResendMessage=function(){var e=t.props,n=e.channel,r=e.message;(0,o.closeContextMenu)(),i.default.retrySendMessage(n,r.id,r.content,r.tts)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return this.props.message.state===u.MessageStates.SEND_FAILED?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.RESEND_MESSAGE,action:this.handleResendMessage}):null},a}(a.PureComponent);c.displayName="MessageResendItem";var f=c;t.default=f},6454:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(3)),i=v(n(801)),l=n(860),u=v(n(133)),s=v(n(11)),d=v(n(458)),c=v(n(74)),f=v(n(6455)),p=n(6052),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isLoadingGuild:!1},t.handleView=function(){var e=t.props,n=e.guildId,r=e.channelId,a=e.messageId;if(e.isMember)i.default.selectGuild(n),u.default.selectChannel(n,r,a);else{var o={page:h.AnalyticsPages.GUILD_CHANNEL,section:h.AnalyticsSections.GUILD_POPOUT,object:h.AnalyticsObjects.CARD};(0,p.startLurking)(n,o)}t.setState({isLoadingGuild:!0})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.guildId;null==e.guild&&null!=t&&(0,l.fetchGuildDiscoveryMetadata)([t])},o.render=function(){var e=this.props,t=e.loading,n=e.guild,a=e.guildId,o=this.state.isLoadingGuild;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(f.default,{loading:t,name:null!=n?n.name:null,icon:null!=n?n.icon:null,guildId:a,isVerified:null!=n&&null!=n.features&&n.features.has(h.GuildFeatures.VERIFIED),presenceCount:null!=n?n.presenceCount:null,memberCount:null!=n?n.memberCount:null,onView:this.handleView,submitting:o})},a}(a.Component);m.displayName="ConnectedGuildPopout";var _=o.default.connectStores([s.default,d.default,c.default],function(e){var t=e.messageReference,n=t.channel_id,r=t.guild_id,a=t.message_id;return{loading:null!=r&&d.default.isFetchingGuild(r),guild:null!=r&&d.default.getGuildMetadata(r),guildId:r,channelId:n,messageId:a,isMember:c.default.isMember(r,s.default.getId())}})(m);t.default=_},6455:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(310)),i=h(n(112)),l=h(n(158)),u=h(n(5925)),s=h(n(5866)),d=h(n(426)),c=n(0),f=h(n(10)),p=h(n(5328));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).generateGuildRecord=function(){var e=n.props,t=e.guildId,r=e.icon,a=e.isVerified,i=e.name;return new o.default({id:t,name:i,icon:r,features:a?[c.GuildFeatures.VERIFIED]:[]})},n.state={guildRecord:n.generateGuildRecord()},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){e!==this.props&&this.setState({guildRecord:this.generateGuildRecord()})},a.renderLoading=function(){return v("div",{className:p.default.header},void 0,v(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,direction:l.default.Direction.VERTICAL,className:p.default.headerTop},void 0,v("div",{className:p.default.iconWrapper},void 0,v("div",{className:p.default.iconPlaceholder})),v("div",{className:p.default.headerText},void 0,v("div",{className:p.default.namePlaceholder})),v(l.default,{className:p.default.memberInfo,align:l.default.Align.CENTER},void 0,v("div",{className:p.default.memberCount},void 0,v("div",{className:p.default.memberInfoPlaceholder})),v("div",{className:p.default.memberCount},void 0,v("div",{className:p.default.memberInfoPlaceholder}))),v("div",{className:p.default.viewButtonPlaceholder})))},a.renderGuild=function(){var e=this.props,t=e.name,n=e.presenceCount,r=e.memberCount,a=e.onView,o=e.submitting,c=this.state.guildRecord;return v(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,direction:l.default.Direction.VERTICAL,className:p.default.headerTop},void 0,v(s.default,{guild:c,size:s.default.Sizes.XLARGE,animate:!0,onClick:a,className:p.default.guildIcon}),null!=t?v("div",{className:p.default.guildNameWrapper},void 0,v(u.default,{guild:c,className:p.default.badge,tooltipPosition:d.default.Positions.TOP}),v("span",{className:p.default.guildName},void 0,t)):null,v(l.default,{className:p.default.memberInfo,align:l.default.Align.CENTER},void 0,null!=n?v("div",{className:p.default.memberCount},void 0,v("div",{className:p.default.dotOnline}),v("span",{className:p.default.memberText},void 0,f.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n}))):null,null!=r?v("div",{className:p.default.memberCount},void 0,v("div",{className:p.default.dotOffline}),v("span",{className:p.default.memberText},void 0,f.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r}))):null),v(i.default,{className:p.default.viewButton,look:i.default.Looks.FILLED,color:i.default.Colors.BRAND,size:i.default.Sizes.SMALL,onClick:a,submitting:o},void 0,f.default.Messages.GUILD_POPOUT_VIEW_SERVER_BUTTON))},a.render=function(){var e=this.props.loading;return v("div",{className:p.default.guildPopout},void 0,e?this.renderLoading():this.renderGuild())},r}(a.Component);m.displayName="GuildPopout";var _=m;t.default=_},6457:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(799))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._inputRef=null,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){if(null!=t._inputRef){var r=t.props,a=r.cardType,o=r.onChange,i=a.code.size,l=e.length===i&&t._inputRef.selectionStart===i;null!=o&&o(e,n,l)}},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.cardType,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["cardType"]);return a.createElement(o.default,i({},n,{inputmode:"numeric",onChange:this.handleChange,maxLength:t.code.size,inputRef:this.setRef}))},r}(a.PureComponent);t.default=l,l.displayName="CVCField"},6458:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(5872)),l=d(n(799)),u=d(n(5957)),s=d(n(5331));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,i=t._inputRef;if(e!==a&&null!=i&&null!=a){var l=u.default.prettifyCreditCardNumber(e),s=i.selectionStart;if(a===l)s-=1,l=u.default.prettifyCreditCardNumber(l.substring(0,s)+l.substring(s+1));else{var d=l.length-e.length;d>0&&(s+=d)}t.selectionStart=s;var c=t.getMaxLength(l),f=l.length===c&&t.selectionStart===c;null!=o&&o(l,n,f)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},d.getMaxLength=function(e){var t=null!=e?u.default.getCreditCardType(e):u.default.DEFAULT_CARD_TYPE;return t.lengths[t.lengths.length-1]+t.gaps.length},d.render=function(){var e=this.props,t=e.value,n=e.flipped,r=e.inputClassName,d=e.className,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","flipped","inputClassName","className"]),h=u.default.getCreditCardType(t),v=this.getMaxLength(t);return f("div",{className:(0,o.default)(s.default.cardNumberWrapper,d)},void 0,f(i.default,{className:s.default.cardIcon,type:h.type,flipped:n}),a.createElement(l.default,c({},p,{inputmode:"numeric",value:u.default.prettifyCreditCardNumber(t),onChange:this.handleChange,inputRef:this.setRef,maxLength:v,inputClassName:(0,o.default)(s.default.cardNumberInput,r)})))},r}(a.PureComponent);p.displayName="CardNumberField",p.defaultProps={flipped:!1};var h=p;t.default=h},6459:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(799))&&r.__esModule?r:{default:r},i=n(5957);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=/[^0-9]/g,s=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,l=t._inputRef;if(e!==a&&null!=l&&null!=a){var s=(0,i.formatExpiration)(e),d=l.selectionStart;s===a&&s.length<=3&&a.includes("/")&&!e.includes("/")?s=s.replace(u,""):s===a&&e.includes("/")&&!a.includes("/")&&(s+="/"),s.length>e.length&&(d+=s.length-e.length),t.selectionStart=d;var c=s.split("/")[1],f=null!=c&&2===c.length&&d===s.length;null!=o&&o(s,n,f)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},s.render=function(){return a.createElement(o.default,l({},this.props,{inputmode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))},r}(a.PureComponent);s.displayName="ExpirationDateTextField";var d=s;t.default=d},6460:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(6055),p(n(67))),i=p(n(112)),l=p(n(158)),u=p(n(5872)),s=p(n(8)),d=n(840),c=n(0),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}var m=o.default.create("PaymentRequest"),_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={},t.initPaymentRequest=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.paymentRequest({country:"US",currency:"usd",total:{label:t.props.paymentLabel,amount:0,pending:!0},requestPayerName:!0,requestPayerEmail:!0}),a=t.props.onSourceReceived,r.on("source",function(e){var t=e.complete,n=e.source;a(n),t("success")}),r.on("cancel",function(){a(null)}),e.next=6,r.canMakePayment();case 6:o=e.sent,m.info("PaymentRequest availablity check",o),t.setState({canMakePayment:Boolean(o),paymentRequest:r});case 9:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,l,"next",e)}function l(e){v(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleOnClick=function(){(0,t.props.onChooseType)(c.PaymentSourceTypes.PAYMENT_REQUEST);var e=t.state.paymentRequest;null!=e&&e.show()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;(0,d.ensureStripeV3IsLoaded)().then(function(t){e.initPaymentRequest(t)})},a.render=function(){var e=this.state.canMakePayment;if(null==e)return h(i.default,{submitting:!0,look:i.default.Looks.FILLED});if(!1===e)return h(i.default,{disabled:!0,look:i.default.Looks.FILLED},void 0,f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_UNSUPPORTED);var t=s.default.isAndroidChrome(),n=t?f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GPAY:f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GENERIC,r=t?u.default.Types.G_PAY:u.default.Types.PAYMENT_REQUEST,a=this.props,o=a.className,d=a.iconClassName;return h(i.default,{onClick:this.handleOnClick,className:o},c.PaymentSourceTypes.PAYMENT_REQUEST,h(l.default,{align:l.default.Align.CENTER},void 0,h(u.default,{className:d,type:r}),n))},r}(a.Component);_.displayName="StripePaymentRequest";var y=_;t.default=y},6461:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var a=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.createFromServer=function(e){return new r({id:e.id,guildId:e.guild_id,userId:e.user_id,ended:e.ended})},r.prototype.initialize=function(e){this.id=e.id,this.guildId=e.guildId,this.userId=e.userId,this.ended=e.ended},r}(((r=n(52))&&r.__esModule?r:{default:r}).default);t.default=a},6462:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(867)),i=m(n(60)),l=m(n(112)),u=m(n(158)),s=m(n(188)),d=m(n(128)),c=n(796),f=m(n(18)),p=n(0),h=m(n(10)),v=m(n(5235));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClose=function(){var e=t.props.onClose;e&&e()},t.handleStreamWithoutSound=function(){var e=t.props,n=e.handleStream,r=e.onClose,a=e.pid;o.default.continueNonelevatedProcess(a),n(),r()},t.handleRequestElevated=function(){var e=t.props,n=e.handleStream,r=e.onClose,a=e.pid;o.default.requestElevatedProcess(a),n(),r()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.pid,t=null!=e?i.default.getGameForPID(e):null;f.default.track(p.AnalyticEvents.OPEN_MODAL,{Type:"Elevated Permissions Sound",application_id:null!=t?t.id:null,application_name:null!=t?t.name:null,game_id:null!=t?t.id:null})},a.render=function(){return _(s.default,{},void 0,_(s.default.Header,{separator:!1},void 0,_(u.default,{},void 0,_(c.FormTitle,{tag:c.FormTitle.Tags.H4},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_TITLE),_(s.default.CloseButton,{onClick:this.handleClose}))),_(s.default.Content,{},void 0,_(d.default,{color:d.default.Colors.PRIMARY,size:d.default.Sizes.MEDIUM,weight:d.default.Weights.MEDIUM,className:v.default.marginBottom20},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_BODY)),_(s.default.Footer,{},void 0,_(l.default,{onClick:this.handleRequestElevated},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_REQUEST_ACCESS_BUTTON),_(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:this.handleStreamWithoutSound},void 0,h.default.Messages.ELEVATED_PERMISSIONS_SOUND_NO_SOUND_BUTTON)))},r}(a.Component);y.displayName="ElevatedPermissionsSound";var g=y;t.default=g},6463:function(e,t,n){"use strict";t.__esModule=!0,t.Header=t.Application=t.User=t.GroupDM=t.Channel=t.Guild=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(5884)),i=h(n(6609)),l=h(n(231)),u=h(n(5862)),s=h(n(5866)),d=h(n(302)),c=h(n(5917)),f=n(5878),p=h(n(5393));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){e.preventDefault();var n=t.props.onClick,r=m(t).node;null!=r&&n(e,r)},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=m(t).node;null!=r&&n(e,r)},t.setRef=function(e){t.node=e},t}_(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.focused,n=e.onFocus,r=this.node;t&&null!=r&&n(r)},n.componentDidUpdate=function(e){var t=this.props,n=t.focused,r=t.onFocus,a=this.node;null!=a&&n&&!e.focused&&r(a)},n.render=function(){var e=this.props,t=e.focused,n=e.children;return v(l.default,{innerRef:this.setRef,className:t?p.default.resultFocused:p.default.resultDefault,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},void 0,n)},t}(a.PureComponent);y.displayName="Result";var g=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.guild;return v("div",{className:p.default.guildIconContainer},void 0,v(s.default,{guild:e,size:s.default.Sizes.MINI,className:p.default.guildIcon}))},n.renderName=function(){var e=this.props.guild;return v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,e.name))},n.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return v("div",{className:t?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,n))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Guild=g,g.displayName="Guild";var E=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.channel,t=(0,f.getIconNameForChannel)(e);return null==t?null:v("div",{className:p.default.iconContainer},void 0,v(d.default,{name:t,className:p.default.icon,width:16,height:16}))},n.renderName=function(){var e,t,n=this.props,r=n.mentions,a=n.category,o=n.channel;return null!=r&&r>0&&(e=v(i.default,{className:p.default.badge,value:r})),null!=a&&(t=v("span",{className:p.default.note},void 0,a.toString())),v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,o.toString()),e,this.renderVoiceStates(),t)},n.renderVoiceStates=function(){var e=this.props.voiceStates;return null==e?null:v(c.default,{users:e.map(function(e){return{user:e.user}}),max:4})},n.renderContent=function(){var e=this.props,t=e.unread,n=e.mentions,r=e.children;return v("div",{className:t||null!=n&&n>0?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,r))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Channel=E,E.displayName="Channel",E.defaultProps={unread:!1};var S=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.channel;return v("div",{className:p.default.dmIconContainer},void 0,v(o.default,{channel:e,size:"xsmall"}))},n.renderName=function(){var e,t=this.props,n=t.mentions,r=t.channel;return null!=n&&n>0&&(e=v(i.default,{className:p.default.badge,value:n})),v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,r.toString()),e)},n.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return v("div",{className:null!=t&&t>0?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,n))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.GroupDM=S,S.displayName="GroupDM";var T=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.user;return v("div",{className:p.default.iconContainer},void 0,v(o.default,{user:e,size:"xsmall"}))},n.renderName=function(){var e,t,n=this.props,r=n.user,a=n.comparator,o=n.mentions,l=n.nickname;if(null!=o&&o>0&&(e=v(i.default,{className:p.default.badge,value:o})),null!=a&&a===r.tag){var u=a.split("#");u.pop(),t=u.join("#")}else t=a||r.username;return t===r.username&&(t=l||t),v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,t),e,v("span",{className:p.default.username},void 0,r.tag))},n.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return v("div",{className:null!=n&&n>0?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,t))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.User=T,T.displayName="User";var I=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props,t=e.children,n=e.application;return v("div",{className:p.default.contentDefault},void 0,v("div",{className:p.default.iconContainer},void 0,v(u.default,{className:p.default.gameIcon,game:n,size:p.default.gameIconSize})),n.name,v("div",{className:p.default.misc},void 0,t))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(y,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Application=I,I.displayName="Application";var O=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){return v("div",{className:p.default.resultDefault},void 0,v("div",{className:p.default.contentDefault},void 0,v("div",{className:p.default.header},void 0,this.props.children)))},t}(a.Component);t.Header=O,O.displayName="Header"},6464:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(82)),a=i(n(9)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t,n){this.isCanceled=!1,this.searchId=e,this.searchType=t,this.query=n}var t=e.prototype;return t.fetch=function(e,t,n){var i=this;if(!this.isCanceled){var l=this.searchType===o.SearchTypes.GUILD?o.Endpoints.SEARCH_GUILD:o.Endpoints.SEARCH_CHANNEL;this.searchId&&a.default.get({url:l(this.searchId),query:r.default.stringify(this.query)}).then(function(r){i.isCanceled||(200===r.status?e(r):202===r.status&&(i.query.attempts=(i.query.attempts||0)+1,i.retryDelay=r.body.retry_after||5e3,i.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},t.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},t.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=l},6465:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=c,t.shouldHighlight=f,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(c(e));return function(e){return p(e,t)}};var r=o(n(6)),a=o(n(6737));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function u(e){return e.toLowerCase()}function s(e){return i.has(e)}function d(e){return 0===e.length}function c(e){return(0,r.default)(e.split(/\W+/)).map(l).reject(d).map(u).reject(s).map(a.default).value()}function f(e,t){return!d(e=u(l(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){f(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},6466:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(52)),a=o(n(317));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.create=function(e,t){var n=e.hit,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["hit"]),i=a.default.create(o,function(e){return n?t(e):e});return new r({hit:n,message:i})},r.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},r}(r.default);t.default=i},6467:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(112)),i=s(n(6059)),l=n(0),u=s(n(5402));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.message,n=e.countdown,r=e.buttonText,s=e.buttonSubmitting,c=e.onButtonClick,f=e.imageSrc,p=e.secondaryButtonText,h=e.onSecondaryButtonClick,v=e.theme;return null!=t?d("div",{className:u.default.wrapper},void 0,d("div",{className:u.default.content},void 0,null!=f?d("img",{alt:"",src:f,className:u.default.image}):null,t),d("div",{className:u.default.buttonContainer},void 0,null!=p?d(o.default,{className:u.default.button,size:o.default.Sizes.SMALL,onClick:h,look:o.default.Looks.OUTLINED,color:v===l.ThemeTypes.LIGHT?o.default.Colors.WHITE:o.default.Colors.PRIMARY,submitting:s},void 0,p):null,null!=r?d(o.default,{className:u.default.button,size:o.default.Sizes.SMALL,onClick:c,submitting:s},void 0,r):null),null!=n?d(i.default,{deadline:n}):null):a.Children.only(this.props.children)},r}(a.PureComponent);c.displayName="ChannelTextAreaGuard";var f=c;t.default=f},6468:function(e,t,n){e.exports=n.p+"b0df989dede2e65a2d631874ffe04de0.svg"},6469:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5262));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(n||o.default.default,o.default.base)},void 0,t)};l.displayName="EmptyMessage";var u=l;t.default=u},6471:function(e,t,n){var r={"./amsterdam.png":6758,"./brazil.png":6759,"./eu-central.png":6760,"./eu-west.png":6761,"./frankfurt.png":6762,"./hongkong.png":6763,"./india.png":6764,"./japan.png":6765,"./london.png":6766,"./russia.png":6767,"./singapore.png":6768,"./southafrica.png":6769,"./sydney.png":6770,"./unknown.png":5959,"./us-central.png":6771,"./us-east.png":6772,"./us-south.png":6773,"./us-west.png":6774};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6471},6472:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(3)),i=n(303),l=f(n(6005)),u=f(n(159)),s=f(n(5848)),d=n(0),c=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function a(t){var n;return p(n=e.call(this,t)||this).handleClick=n.handleClick.bind(p(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){var e=this.props,t=e.type,n=e.guild;(0,i.closeContextMenu)(),l.default.open(t,n.id,null,null)},o.render=function(){if(__OVERLAY__)return null;var e,t=this.props,n=t.type;return t.canManageChannels?(e=n===d.ChannelTypes.GUILD_TEXT?c.default.Messages.CREATE_TEXT_CHANNEL:n===d.ChannelTypes.GUILD_VOICE?c.default.Messages.CREATE_VOICE_CHANNEL:n===d.ChannelTypes.GUILD_CATEGORY?c.default.Messages.CREATE_CATEGORY:c.default.Messages.CREATE_CHANNEL,function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:e,action:this.handleClick})):null},a}(a.PureComponent);h.displayName="ChannelCreateItem";var v=o.default.connectStores([u.default],function(e){var t=e.guild;return{canManageChannels:u.default.can(d.Permissions.MANAGE_CHANNELS,t)}})(h);t.default=v},6473:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(20));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={},s=u;function d(){Object.keys(s).forEach(function(e){null==o.default.getChannel(e)&&delete s[e]})}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){this.waitFor(o.default),s=e||u},a.getState=function(){return s},a.getCollapsed=function(){return s},a.isCollapsed=function(e){return s[e]||!1},r}(r.default.PersistedStore);c.persistKey="collapsedChannels";var f=new c(a.default,{CONNECTION_OPEN:function(e){return d()},OVERLAY_INITIALIZE:function(e){return d()},CHANNEL_COLLAPSE:function(e){var t=e.channelId;s[t]?delete s[t]:s[t]=!0,s=l({},s)}});t.default=f},6474:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=_(n(6)),a=_(n(3)),o=_(n(24)),i=_(n(1)),l=m(n(455)),u=_(n(134)),s=m(n(315)),d=_(n(35)),c=_(n(60)),f=_(n(14)),p=_(n(827)),h=_(n(189)),v=n(0);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var y="DetectedOffPlatformPremiumPerksStore",g={},E={},S=[];function T(){var e=!1,t=r.default.values(E),n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(a>=t.length)break;o=t[a++]}else{if((a=t.next()).done)break;o=a.value}var i=o,l=i.skuId,c=i.applicationId;if(!S.includes(l)){var v=d.default.getGame(c);if(null!=v){var m=h.default.get(l);null!=m?p.default.applicationIdsFetching.has(v.id)||p.default.isEntitledToSku(f.default.getCurrentUser(),l,v.id,v.id)||!m.available?null!=g[l]&&(delete g[l],e=!0):(g[l]={skuId:l,applicationId:c},e=!0):h.default.isFetching(l)||h.default.didFetchingSkuFail(l)||s.fetchSKU(v.id,l)}else d.default.isFetching(c)||d.default.didFetchingFail(c)||u.default.fetchApplication(c)}}return e}var I=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.initialize=function(){this.waitFor(c.default,h.default,p.default),S=o.default.get(y)||S},i.getDetectedOffPlatformPremiumPerks=function(){return r.default.values(g)},a}(a.default.Store))(i.default,{LOGOUT:function(e){return g={},void(E={})},SKU_FETCH_SUCCESS:function(e){return T()},ENTITLEMENT_FETCH_APPLICATION_SUCCESS:function(e){return T()},ENTITLEMENT_CREATE:function(e){return T()},APPLICATION_FETCH_SUCCESS:function(e){return T()},DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS:function(e){var t=e.skuId;if(delete g[t],S.includes(t))return!1;S.push(t),o.default.set(y,S)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=!1,t=c.default.getRunningGames(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a,i=o.id,u=o.distributor;if(null!=i&&u!==v.Distributors.DISCORD){var s=v.OFF_PLATFORM_PREMIUM_PERKS,d=Array.isArray(s),f=0;for(s=d?s:s[Symbol.iterator]();;){var h;if(d){if(f>=s.length)break;h=s[f++]}else{if((f=s.next()).done)break;h=f.value}var m=h,_=m.skuId,y=m.applicationId;y===i&&(S.includes(_)||null==E[_]&&(p.default.applicationIdsFetched.has(y)||p.default.applicationIdsFetching.has(y)||null!=p.default.getForSku(_)||l.fetchUserEntitlementsForApplication(y),E[_]={skuId:_,applicationId:y},e=!0))}}}return e&&T(),e}()}});t.default=I},6475:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(116)),i=u(n(11)),l=u(n(87));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=10,d=15552e6,c=!1;var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,i.default)},a.isEligible=function(){return c},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return c!==(c=l.default.getFriendIDs().length>=s&&o.default.extractTimestamp(i.default.getId())<Date.now()-d)}});t.default=f},6476:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(24)),o=c(n(1)),i=c(n(165)),l=c(n(75)),u=c(n(42)),s=c(n(14)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f="surveys",p={},h=[{id:d.Experiments.SURVEY_NITRO,url:function(){var e=s.default.getCurrentUser();return"https://www.surveymonkey.com/r/8MZCZGJ?user_id="+(null!=e?e.id:"")},noticeContent:"Help improve Nitro! Take a short survey and let us know your thoughts.",noticeButton:"Take Survey",title:"Nitro Survey",description:"Ask users their thoughts on nitro n stuff",validateDescriptor:function(){var e=s.default.getNullableCurrentUser();return null!=e&&e.premiumType===d.PremiumTypes.TIER_2}},{id:d.Experiments.SURVEY_LIGHT_THEME,url:function(){var e=s.default.getCurrentUser();return"https://www.surveymonkey.com/r/PTYBDKW?user_id="+(null!=e?e.id:"")},noticeContent:"Help improve Light Theme! Take a short survey and let us know your thoughts.",noticeButton:"Take Survey",title:"Light Theme Survey",description:"Ask users their thoughts on light theme",validateDescriptor:function(){return null!=s.default.getNullableCurrentUser()&&u.default.theme===d.ThemeTypes.LIGHT}}];function v(){Object.keys(p).length>0?a.default.set(f,p):a.default.remove(f)}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.initialize=function(){this.syncWith([l.default],function(){return!0});var e=a.default.get(f)||{},t=new Set(h.map(function(e){return e.id}));h.forEach(function(n){var r=n.id;e[r]&&t.has(r)&&(p[r]=!0)}),v(),o.default.wait(function(){return i.default.registerSurveys(h)})},u.getCurrentSurvey=function(){return h.find(function(e){var t=e.id,n=e.validateDescriptor;if(p[t])return!1;var r=l.default.getEligibleExperiment(t);return null!=r&&(null==n||n(r,e))})},r}(r.default.Store))(o.default,{SURVEY_HIDE:function(e){var t=e.id;p[t]=!0,v()},LOGOUT:function(e){return p={},void a.default.remove(f)}});t.default=m},6477:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=n(6186),l=L(n(6063)),u=L(n(3)),s=L(n(802)),d=D(n(6004)),c=L(n(5919)),f=L(n(5899)),p=L(n(191)),h=L(n(6060)),v=L(n(20)),m=L(n(99)),_=L(n(812)),y=L(n(5890)),g=L(n(50)),E=L(n(6177)),S=L(n(231)),T=L(n(795)),I=n(113),O=D(n(6483)),N=D(n(6064)),C=D(n(5898)),A=D(n(6485)),M=n(5893),R=n(0),b=L(n(10)),P=L(n(5345));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n(5346);var U=512,G=(0,l.default)(d.search,500),k=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={focused:!1},n.handleSetSearchQuery=function(e){var t=e.query,r=e.anchor,a=e.focus,o=e.performSearch,i=e.replace,l=n.props.editorState,u=N.getFirstTextBlock(l);" "!==t.charAt(t.length-1)&&(t+=" "),r&&" "!==u.charAt(r-1)&&" "!==t.charAt(0)&&(t=" "+t),i?(l=N.replaceAllContent(t,l),r=0):l=N.updateContent(t,l,r,a),l=N.truncateContent(l,U),l=n.tokenize(l);var s=r+t.length;l=N.setCollapsedSelection(s,l),n.setEditorState(l),o&&n.search(N.getFirstTextBlock(l))},n.renderPopout=function(){return a.createElement(A.default,{ref:n.setSearchPopoutRef})},n.search=function(e){var t=n.props,r=t.searchId,a=t.isSearching;if(!e){var o=n.props.editorState;e=N.getFirstTextBlock(o)}if(r&&!a){for(var i=C.tokenizeQuery(e),l=C.getSearchQueryFromTokens(i),u=0;u<i.length;u++)C.filterHasAnswer(i[u],i[u+1])||(e=e.substring(0,i[u].start)+e.substring(i[u].end));if(!i.length||0===Object.keys(l).length)return!1;G(r,l,e),n.onBlur()}return!0},n.handleClearSearch=function(e){var t=n.props.editorState,r=n.state.focused;e.preventDefault(),e.stopPropagation(),""!==N.getFirstTextBlock(t)?(t=N.truncateContent(t,0),n.setEditorState(t),r||Promise.resolve().then(function(){return n.blurEditor()})):n.focusEditor()},n.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&N.isEmpty(n.props.editorState)){var t=g.default.getChannelId(),r=v.default.getChannel(t);if(null==r||r.isPrivate())n.focusEditor();else{var a=m.default.getTextChannelNameDisambiguations(r.getGuildId())[r.id],o=null!=a?a.name:r.name;n.handleSetSearchQuery({query:f.default[R.SearchTokenTypes.FILTER_IN].key+"#"+o+" ",replace:!0})}}else n.focusEditor()},n.focusEditor=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)._editorRef;e&&Promise.resolve().then(function(){return e.focus()})},n.blurEditor=function(){n._editorRef&&n._editorRef.blur()},n.setEditorRef=function(e){n._editorRef=e},n.setPopoutRef=function(e){n._popoutRef=e},n.setSearchPopoutRef=function(e){n._searchPopoutRef=e},n.onFocus=function(){var e=n.props.searchType;p.default.trackWithMetadata(R.AnalyticEvents.SEARCH_OPENED,{search_type:e}),n.setState({focused:!0})},n.onBlur=function(){n.setState({focused:!1},function(){s.default.close(R.SEARCH_POPOUT_ID),N.isEmpty(n.props.editorState)&&n.clearSearch()})},n.onDownArrow=function(e){return e.preventDefault(),n._searchPopoutRef&&n._searchPopoutRef.focusNextOption(),!0},n.onUpArrow=function(e){return e.preventDefault(),n._searchPopoutRef&&n._searchPopoutRef.focusPreviousOption(),!0},n.onTab=function(e){if(!R.EnableAccessibility)return e.preventDefault(),n._searchPopoutRef&&n._searchPopoutRef.selectOption(),!0},n.handleReturn=function(e){e.preventDefault();var t=!1;return n._searchPopoutRef&&(t=n._searchPopoutRef.selectOption()),t||n.search(),!0},n.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),n.blurEditor(),!0},n.handleBeforeInput=function(e){var t=n.props.editorState,r=n.state.focused;return N.getFirstTextBlock(t).length>=U||(t=N.updateContent(e,t),t=N.truncateContent(t,U),t=n.tokenize(t),n.setEditorState(t),r||n.setState({focused:!0}),!0)},n.handleKeyCommand=function(e){var t=n.props.editorState,r=n.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=N.deleteContent(e,t),t=n.tokenize(t),n.setEditorState(t),r||n.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=N.miscCommand(e,t),t=n.tokenize(t),n.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},n.handlePastedText=function(e){var t=n.props.editorState,r=n.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=N.updateContent(e,t),t=N.truncateContent(t,U),t=n.tokenize(t),r||n.setState({focused:!0}),n.setEditorState(t),!0},n.setEditorState=function(e){var t=n.props.searchId;d.setSearchState(t,e)},n.handleKeyBind=function(e){var t=e.key,r=e.metaKey,a=e.shiftKey,o=n.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&r?(e.preventDefault(),o=a?N.setToStartSelection(o):N.setCollapsedStartSelection(o),n.setEditorState(o),!0):"End"===t||"ArrowRight"===t&&r?(e.preventDefault(),o=a?N.setToEndSelection(o):N.setCollapsedEndSelection(o),n.setEditorState(o),!0):N.getDefaultKeyBinding(e)},C.clearTokenCache(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){I.ComponentDispatch.subscribe(R.ComponentActions.PERFORM_SEARCH,this.search),I.ComponentDispatch.subscribe(R.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),I.ComponentDispatch.subscribe(R.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},l.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var a=C.tokenizeQuery(N.getFirstTextBlock(n)),o=O.getSelectionScope(a,n);d.updateAutocompleteQuery(r,a,o),this._editorRef&&N.scrollCursorIntoView(this._editorRef.editor)}},l.componentWillUnmount=function(){I.ComponentDispatch.unsubscribe(R.ComponentActions.PERFORM_SEARCH,this.search),I.ComponentDispatch.unsubscribe(R.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),I.ComponentDispatch.unsubscribe(R.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},l.tokenize=function(e){var t=C.tokenizeQuery(N.getFirstTextBlock(e)).filter(function(e){return e.type!==c.default.NON_TOKEN_TYPE});return N.applyTokensAsEntities(t,e,f.default)},l.clearSearch=function(){var e=this.props.searchId;e&&d.clearSearchState(e)},l.ensurePopoutIsOpen=function(){this._popoutRef&&!_.default.isOpen(R.SEARCH_POPOUT_ID)&&this._popoutRef.open()},l.handlePastedFiles=function(){return!0},l.handleDroppedFiles=function(){return!0},l.handleDrop=function(){return!0},l.renderInput=function(){var e=this.props.editorState;return a.createElement(i.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:b.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},l.render=function(){var e,t=this.props,n=t.searchId,r=t.editorState,i=t.hasResults,l=t.className,u=this.state.focused,s=!!N.getFirstTextBlock(r).length;return n?a.createElement(T.default,{ref:this.setPopoutRef,uniqueId:R.SEARCH_POPOUT_ID,render:this.renderPopout,position:T.default.Positions.BOTTOM,toggleClose:!1,animationType:T.default.Animations.NONE,preventInvert:!0},w("div",{className:l},void 0,w(S.default,{className:(0,o.default)(P.default.search,(e={},e[P.default.open]=s||u,e[P.default.focused]=u,e)),onClick:this.focusEditor},void 0,w("div",{className:P.default.searchBar},n,this.renderInput(),w(M.SearchBarIcon,{onClear:this.handleClearSearch,hasContent:s||i,className:P.default.icon}))))):null},r}(a.PureComponent);k.displayName="Search";var F=u.default.connectStores([y.default,h.default,E.default],function(){var e=y.default.getCurrentSearchId();return{searchId:e,searchType:y.default.getSearchType(),isSearching:!!e&&y.default.isSearching(e),editorState:e&&y.default.getEditorState(e)||N.createEmptyEditorState(O.generateDecorators(f.default)),hasResults:y.default.hasResults(e)}})(k);t.default=F},6483:function(e,t,n){"use strict";t.__esModule=!0,t.matchColonGroup=f,t.generateDecorators=function(e){void 0===e&&(e={});var t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return f(r,e,t,n)},component:c[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,a){var o=e[a];r.push(t.getFullMatch()),d.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(o&&o.type!==i.default.NON_TOKEN_TYPE||!o)&&(n=!0,r.push(" "))}),!n)return t;return(0,u.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,a=n.anchorOffset;return(0,s.getSelectionScope)(e,r,a)},t.Components=void 0;var r,a,o=n(6484),i=(r=n(5919))&&r.__esModule?r:{default:r},l=n(5899),u=n(6064),s=n(5898),d=n(0);var c=((a={})[l.ComponentTypes.FILTER]=o.Filter,a[l.ComponentTypes.ANSWER]=o.Answer,a);function f(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}t.Components=c},6484:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=(r=n(5340))&&r.__esModule?r:{default:r};function i(e,t){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:t},void 0,e.children)}i.displayName="renderToken";t.Filter=function(e){return i(e,o.default.searchFilter)};t.Answer=function(e){return i(e,o.default.searchAnswer)}},6485:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchPopoutComponent=t.GroupData=void 0;var r,a,o=w(n(2)),i=D(n(17)),l=D(n(29)),u=D(n(6)),s=D(n(4)),d=D(n(3)),c=n(6004),f=n(5919),p=w(n(5899)),h=D(n(20)),v=D(n(74)),m=D(n(6486)),_=D(n(50)),y=D(n(160)),g=D(n(42)),E=D(n(305)),S=D(n(6487)),T=D(n(231)),I=D(n(302)),O=D(n(426)),N=n(5878),C=n(113),A=D(n(308)),M=w(n(5898)),R=D(n(6124)),b=n(0),P=D(n(10)),L=D(n(5344));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=(0,s.default)("2015-05-15").local();var j=function(e,t,n){var r=n.user,a=n.text;if(!r)return k("strong",{},void 0,a);var o=v.default.getNick(e,r.id)||r.username,i=r.avatarURL||r.getAvatarURL();return[k("img",{alt:"",className:L.default.displayAvatar,src:i},"avatar-"+t+"-"+r.id),k("span",{className:L.default.displayedNick},"display-nick-"+t+"-"+r.id,o),k("span",{className:L.default.displayUsername},"display-username-"+t+"-"+r.id,a)]},B=function(e,t,n){var r=n.channel,a=h.default.getChannel(r.parent_id),o=(0,N.getIconNameForChannel)(r);return k("div",{className:L.default.resultChannel},void 0,null!=o?k(I.default,{name:o,className:L.default.searchResultChannelIcon}):null,k("strong",{},void 0,r.toString()),null!=a?k("span",{className:L.default.searchResultChannelCategory},void 0,a.toString()):null)};B.displayName="renderChannel";var H=function(e){var t,n,r,a=e.searchId,o=e.result,l=e.group,u=e.selected,s=e.className,d=e.onSelect,c=e.onFocus,f=e.showFilter,h=e.renderResult;return f&&(n=k("span",{className:L.default.filter},void 0,p.default[l].key||"addme:")),r=h?h(a,l,o):k("strong",{},void 0,o.text),k(T.default,{className:(0,i.default)(L.default.option,s,(t={},t[L.default.selected]=u,t)),onClick:d,onMouseOver:c,onFocus:c},void 0,n,r,k(I.default,{name:I.default.Names.PLUS_ALT,className:L.default.plusIcon}))};H.displayName="ResultComponent";var x=function(e){return o.createElement(H,G({},e,{className:L.default.user,renderResult:j}))};x.displayName="UserResultComponent";var V=function(e){return o.createElement(H,G({},e,{renderResult:B}))};V.displayName="ChannelResultComponent";var Y=u.default.memoize(function(e){return M.tokenizeQuery(e).map(function(e,t,n){return M.filterHasAnswer(e,n[t+1])?e:new f.Token(e.getFullMatch(),f.NON_TOKEN_TYPE)})}),K=function(e){function t(){return e.apply(this,arguments)||this}return U(t,e),t.prototype.render=function(){var e,t=this.props,n=t.selected,r=t.onSelect,a=t.onFocus,o=t.result,l="",u=Y(o.text).map(function(e){var t,n=e.getFullMatch();if(""===n.trim())return null;var r=b.IS_SEARCH_FILTER_TOKEN.test(e.type),a=b.IS_SEARCH_ANSWER_TOKEN.test(e.type),o=!r&&!a;return l+=n,k("span",{className:(0,i.default)((t={},t[L.default.filter]=r,t[L.default.answer]=a,t[L.default.nonText]=o,t))},e.type+n,n)});return k(T.default,{className:(0,i.default)(L.default.option,L.default.history,(e={},e[L.default.selected]=n,e)),onClick:r,onMouseOver:a,onFocus:a,"aria-label":P.default.Messages.SEARCH_FROM_SUGGESTIONS.format({suggestion:l})},void 0,u,k(I.default,{name:I.default.Names.PLUS_ALT,className:L.default.plusIcon}))},t}(o.PureComponent);K.displayName="HistoryComponent";var W=((r={})[b.SearchTokenTypes.FILTER_FROM]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_FROM},component:x},r[b.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:x},r[b.SearchTokenTypes.FILTER_HAS]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[b.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[b.SearchTokenTypes.FILTER_IN]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:V},r[b.SearchAutocompleteGroups.DATES]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[b.SearchAutocompleteGroups.HISTORY]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return k(O.default,{text:P.default.Messages.SEARCH_CLEAR_HISTORY,position:O.default.Positions.LEFT},void 0,k(T.default,{onClick:function(){return(0,c.clearHistory)(t)},className:L.default.searchClearHistory,title:P.default.Messages.SEARCH_CLEAR_HISTORY,"aria-label":P.default.Messages.SEARCH_CLEAR_HISTORY},void 0,k(I.default,{name:I.default.Names.CLEAR_HISTORY})))},component:K},r[b.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return P.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return k(O.default,{text:P.default.Messages.LEARN_MORE,position:O.default.Positions.LEFT},void 0,k("div",{className:L.default.searchLearnMore},void 0,k(E.default,{href:A.default.getArticleURL(b.HelpdeskArticles.USING_SEARCH),title:P.default.Messages.LEARN_MORE},void 0,k(I.default,{name:I.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,a=e.selected,o=e.onSelect,l=e.onFocus,u=M.getSearchOptionAnswer(r.token);return k(T.default,{className:(0,i.default)(L.default.option,L.default.searchOption,(t={},t[L.default.selected]=a,t)),onClick:o,onMouseOver:l,onFocus:l},void 0,k("span",{className:L.default.filter},void 0,r.text),k("span",{className:(0,i.default)((n={},n[L.default.answer]=u,n))},void 0,u),k(I.default,{name:I.default.Names.PLUS_ALT,className:L.default.plusIcon}))}},r);t.GroupData=W;var z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={dateHint:(0,p.getRandomDateShortcut)(),selectedIndex:-1},t.handleDateChange=function(e){t.setSearchQuery(e.format(b.SEARCH_DATE_FORMAT)+" ",!0)},t.keepCurrentOptionSelected=function(e,n){var r=t.state.selectedIndex,a=t.props,o=a.resultsState,i=a.totalResults,l=o.mode,u=o.autocompletes,s=e.resultsState;if(l.type!==s.mode.type)t.setState({selectedIndex:-1});else if(n.selectedIndex>=0&&(n.selectedIndex===r||s.autocompletes.length!==u.length)){var d=M.getFlattenedStringArray(s.autocompletes,s.mode.type)[n.selectedIndex-1],c=M.getFlattenedStringArray(u,l.type).indexOf(d);-1!==c?t.setState({selectedIndex:c}):n.selectedIndex>=i&&t.setState({selectedIndex:i-1})}},t.focusNextOption=function(){t.focusOtherOption(1)},t.focusPreviousOption=function(){t.focusOtherOption(-1)},t.focusOtherOption=function(e){var n=t.state.selectedIndex,r=t.props.resultsState;M.showDatePicker(r.mode.filter)||t.focusOption(n+e)},t.focusOption=function(e){var n=e,r=t.props.resultsState.autocompletes,a=t.shouldShowSearchQuery();n<-1||!a&&n<0?n=M.getTotalResults(r)-1:a&&n>=M.getTotalResults(r)?n=-1:!a&&n>=M.getTotalResults(r)&&(n=0),t.setState({selectedIndex:n})},t.selectOption=function(e){var n=e;if(null==n&&(n=t.state.selectedIndex),n<0)return!1;var r=t.props.resultsState,a=r.autocompletes,o=r.mode;if(!M.showDatePicker(o.filter)){var i=M.getFlattenedStringArray(a,o.type);if(n>=i.length)return!1;var l=i[n],s=function(e){var t=!0,n=e.trim();return(0,u.default)(p.default).forOwn(function(e){e.key&&n===e.key&&(t=!1)}),t}(l);return t.setSearchQuery(l,s),!0}},t.setSearchQuery=function(e,n){void 0===n&&(n=!1);var r=t.props.resultsState,a=r.mode,o=r.cursorScope,i=0;a.token?i=a.token.start:o&&o.currentToken&&(i=o.currentToken.end);var l=a.token?a.token.end:i;C.ComponentDispatch.dispatch(b.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:i,focus:l,performSearch:n}),t.setState({selectedIndex:-1})},t.shouldShowSearchQuery=function(){var e=t.props.resultsState.mode;return e.type!==b.SearchPopoutModes.FILTER&&e.type!==b.SearchPopoutModes.EMPTY&&!M.showDatePicker(e.filter)},t.renderDatePicker=function(){return k("div",{className:L.default.datePicker},void 0,k(S.default,{locale:t.props.locale,onSelect:t.handleDateChange,maxDate:(0,s.default)().local(),minDate:F}),k("div",{className:L.default.datePickerHint},void 0,k("span",{className:L.default.hint},void 0,P.default.Messages.SEARCH_DATE_PICKER_HINT," "),k(T.default,{tag:"span",className:L.default.hintValue,onClick:t.handleHintClick},void 0,t.state.dateHint)))},t.handleHintClick=function(){t.setSearchQuery(t.state.dateHint,!0)},t.performSearch=function(){C.ComponentDispatch.dispatch(b.ComponentActions.PERFORM_SEARCH)},t.renderAutocompletes=function(){var e=t.state.selectedIndex,n=t.props.searchId,r=t.props.resultsState,a=r.autocompletes,o=r.mode;if(M.showDatePicker(o.filter))return t.renderDatePicker();var i=-1;return a.map(function(r){if(!r||!r.results.length)return null;var a,l=W[r.group]||{};l.titleText&&(a=k("div",{className:L.default.header},void 0,l.titleText()));var u=l.groupTip||null;u&&(u=k(u,{searchId:n}));var s=l.component||H,d=o.type===b.SearchPopoutModes.FILTER_ALL||!1;return k("div",{className:L.default.resultsGroup},r.group,a,u,r.results.map(function(a){return a&&r?(i+=1,k(s,{searchId:n,group:a.group||r.group,result:a,showFilter:d,selected:e===i,onSelect:t.selectOption.bind(null,i),onFocus:t.focusOption.bind(null,i)},r.group+"-"+a.text+"-"+(a.key||""))):null}))})},t}U(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this.props,r=n.resultsState,a=n.totalResults,o=r.mode,i=e.resultsState;o.filter&&!i.mode.filter&&a?this.setState({selectedIndex:0}):o.type===b.SearchPopoutModes.FILTER_ALL&&i.mode.type!==o.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(e,t)},n.render=function(){var e=this,t=this.state.selectedIndex,n=this.props,r=n.resultsState,a=n.totalResults;return k(R.default,{numResults:a,query:r.query,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:t,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})},t}(o.PureComponent);t.SearchPopoutComponent=z,z.displayName="SearchPopoutComponent";var $=d.default.connectStores([y.default,_.default,m.default,g.default],function(){var e=y.default.getGuildId(),t=_.default.getChannelId(),n=e||t;(0,l.default)(null!=n,"SearchPopout.getStateFromStores - invalid searchId");var r=m.default.getState(n),a=M.getTotalResults(r.autocompletes);return{locale:g.default.locale,searchId:n,totalResults:a,resultsState:r}},{forwardRef:!0})(z);t.default=$},6486:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=m(n(3)),a=m(n(1)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(5899)),i=m(n(5889)),l=m(n(5931)),u=n(5898),s=m(n(74)),d=m(n(812)),c=m(n(5890)),f=m(n(306)),p=m(n(5995)),h=m(n(14)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var _={},y={},g=10,E=3;function S(e,t,n,r,a,o){var i=y[e];return null==i&&(i={results:[],context:p.default.getSearchContext(T.bind(null,e))},y[e]=i),{query:t||"",mode:n||{type:v.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:a||null,autocompletes:o||[]}}function T(e,t){var n=t.results,r=y[e],a=_[e];if(null!=r&&null!=a){var o=a.mode,i=o.type,l=o.filter;if(i!==v.SearchPopoutModes.EMPTY&&(i!==v.SearchPopoutModes.FILTER||l===v.SearchTokenTypes.FILTER_FROM||l===v.SearchTokenTypes.FILTER_MENTIONS)){var u=E;a.mode.type===v.SearchPopoutModes.FILTER&&(u=g),r.results=function(e,t){void 0===t&&(t=g);(e=e.reduce(function(e,t){var n=h.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,u);var s=a.query,d=a.mode,c=a.tokens,f=a.cursorScope,p=a.autocompletes;p=C(e,d),_[e]=S(e,s,d,c,f,p),b.emitChange()}}}function I(e,t,n,r){if(void 0===r&&(r=g),!e)return null;var a;if(e===v.SearchTokenTypes.FILTER_FROM||e===v.SearchTokenTypes.FILTER_MENTIONS){var l=y[n];null==l?a=null:(null!=t&&0!==t.getFullMatch().trim().length||(l.results=i.default.getRecentlyTalked(n,g).map(function(e){var t=e.user;return{user:t,text:t.tag}})),a=l.results)}else{var u=o.default[e]&&o.default[e].getAutocompletions,s=(null!=t?t.getFullMatch():"").trim();a=u?u(s,n,r):[]}return a&&a.length?{group:e,results:a}:null}function O(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[v.SearchTokenTypes.FILTER_FROM]=!f.default.hidePersonalInformation,t[v.SearchTokenTypes.FILTER_MENTIONS]=!f.default.hidePersonalInformation,t[v.SearchTokenTypes.FILTER_HAS]=!0,t[v.SearchTokenTypes.FILTER_BEFORE]=!0,t[v.SearchTokenTypes.FILTER_AFTER]=!0,t[v.SearchTokenTypes.FILTER_ON]=!0,t[v.SearchTokenTypes.FILTER_IN]=c.default.getSearchType()===v.SearchTypes.GUILD,t),a=(0,o.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:v.SearchAutocompleteGroups.SEARCH_OPTIONS,results:a}}function N(e,t){var n=(e?e.getFullMatch():"").trim(),r=[];return n&&(function(e){var t=c.default.getSearchType(e),n=[v.SearchTokenTypes.FILTER_HAS];return f.default.hidePersonalInformation||(n.push(v.SearchTokenTypes.FILTER_FROM),n.push(v.SearchTokenTypes.FILTER_MENTIONS)),t===v.SearchTypes.GUILD&&n.push(v.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(n){if(n){var a=I(n,e,t,E);a&&r.push(a)}}),r.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=o.default[v.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),a=r[0],i=o.default[v.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),l=i[0],u=o.default[v.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),s=u[0];if(!a)return null;var d=[a,l,s];return{group:v.SearchAutocompleteGroups.DATES,results:d}}}(e,t))),(0,u.getTotalResults)(r)<5&&r.push(O(e)),r}function C(e,t){var n=[];return t.type===v.SearchPopoutModes.FILTER?n.push(I(t.filter,t.token,e,g)):t.type===v.SearchPopoutModes.FILTER_ALL?n=N(t.token,e):t.type===v.SearchPopoutModes.EMPTY&&(n.push(O(t.token)),n.push(function(e){if(f.default.hidePersonalInformation)return null;var t=c.default.getHistory(e);return t?{group:v.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function A(){(0,u.clearTokenCache)()}function M(e){var t=_[e];if(t){var n=t.query,r=t.mode,a=t.tokens,o=t.cursorScope,i=t.autocompletes;_[e]=S(e,n,r,a,o,i.map(function(e){return e&&e.group===v.SearchAutocompleteGroups.HISTORY?null:e}))}}function R(){if(d.default.isOpen(v.SEARCH_POPOUT_ID)){var e=c.default.getCurrentSearchId();if(e&&_[e]){var t=_[e],n=t.query,r=t.mode,a=t.tokens,o=t.cursorScope;_[e]=S(e,n,r,a,o,C(e,r))}}}var b=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(s.default,f.default,d.default)},a.getState=function(e){return _[e]||S(e)},r}(r.default.Store))(a.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!d.default.isOpen(v.SEARCH_POPOUT_ID))return!1;var a,o=(0,u.getQueryFromTokens)(n),i=(0,u.getAutocompleteMode)(r,n),s=_[t]||{},c=y[t],f=!0;if(o!==s.query||s.mode&&s.mode.filter!==i.filter){if(i.type===v.SearchPopoutModes.EMPTY||i.type===v.SearchPopoutModes.FILTER&&i.filter!==v.SearchTokenTypes.FILTER_FROM&&i.filter!==v.SearchTokenTypes.FILTER_MENTIONS)null!=c&&(c.context.clearQuery(),c.results=[]),a=C(t,i);else if(null!=c){var p=i.token;null!=p&&p.getFullMatch().trim().length>0?(l.default.requestMembers(t,p.getFullMatch(),g),c.context.setQuery(p.getFullMatch().trim(),{guild:t}),a=s.autocompletes,f=!1):(c.context.clearQuery(),a=C(t,i))}}else a=s.autocompletes,f=!1;return _[t]=S(t,o,i,n,r,a),f},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=y[t];null!=n&&(n.context.destroy(),n.results=[],delete y[t]),delete _[t]},CHANNEL_CREATE:function(e){return A()},CHANNEL_DELETE:function(e){return A()},STREAMER_MODE_UPDATE:function(e){return R()},POPOUT_OPEN:function(e){return R()},SEARCH_MODAL_OPEN:function(e){return R()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?M(t):Object.keys(_).forEach(M)},LOGOUT:function(e){Object.keys(_).forEach(M)}}),P=b;t.default=P},6487:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=u(n(4)),o=u(n(6796));n(5341);var i,l=u(n(5342));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var u=new Array(o),s=0;s<o;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,i=e.value;return s("div",{className:l.default.calendarPicker},void 0,s(o.default,{fixedHeight:!0,inline:!0,selected:i,locale:a,onSelect:r,maxDate:n,minDate:t}))},r}(r.PureComponent);d.displayName="CalendarPicker",d.defaultProps={value:(0,a.default)().local()};var c=d;t.default=c},6488:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(305)),o=n(5880),i=n(308),l=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){return s(a.default,{href:i.SUPPORT_LOCATION,target:"_blank"},void 0,s(o.Icon,{onClick:function(){},name:o.Icon.Names.NOVA_HELP,tooltip:l.default.Messages.HELP}))}},6489:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(3)),i=v(n(802)),l=v(n(20)),u=v(n(812)),s=v(n(50)),d=v(n(795)),c=n(5880),f=v(n(6490)),p=n(0),h=v(n(10));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y="RECENT_MENTIONS_POPOUT",g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderRecentMentionsPopout=function(e){return a.createElement(f.default,_({},e,{onJump:t.handleMentionsJump,channel:l.default.getChannel(s.default.getChannelId()),popoutName:y}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleMentionsJump=function(e){e.shiftKey||i.default.close(y)},o.render=function(){var e=this.props.open;return m(d.default,{animationType:d.default.Animations.NONE,uniqueId:y,position:d.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:p.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,m(c.Icon,{name:c.Icon.Names.NOVA_AT,tooltip:h.default.Messages.MENTIONS,selected:e}))},r}(a.PureComponent);g.displayName="RecentMentionsButton";var E=o.default.connectStores([u.default],function(){return{open:u.default.isOpen(y)}})(g);t.default=E},6490:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(2)),o=S(n(17)),i=S(n(797)),l=(S(n(798)),S(n(5850))),u=S(n(3)),s=S(n(6491)),d=(S(n(129)),S(n(6492))),c=S(n(42)),f=T(n(5894)),p=S(n(795)),h=T(n(6182)),v=S(n(5853)),m=S(n(5874)),_=n(0),y=S(n(10)),g=S(n(5347)),E=S(n(824));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){var n=void 0===t?{}:t,r=n.guildFilter,a=n.roleFilter,o=n.everyoneFilter,i=n.messageId,l=void 0===i?null:i;r=void 0===r?d.default.guildFilter:r,a=void 0===a?d.default.roleFilter:a,o=void 0===o?d.default.everyoneFilter:o;var u=null;e&&(u=r===_.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),s.default.fetchRecentMentions(l,_.MAX_MENTIONS_PER_FETCH,u,a,o)}var C=(0,i.default)({displayName:"FilterPopout",mixins:[u.default.StoreListenerMixin(d.default),l.default],getStateFromStores:function(){return{everyoneFilter:d.default.everyoneFilter,roleFilter:d.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;s.default.setGuildFilter({roleFilter:e}),N(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;s.default.setGuildFilter({everyoneFilter:e}),N(this.props.channel,{everyoneFilter:e})},render:function(){return a.createElement("div",this.props,O("div",{className:(0,o.default)(E.default.contextMenu,"theme-"+c.default.theme,g.default.recentMentionsFilterPopout)},void 0,O(v.default,{},void 0,O(m.default,{label:y.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),O(m.default,{label:y.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),A=(0,i.default)({displayName:"RecentMentions",mixins:[u.default.StoreListenerMixin(d.default,c.default),l.default],setGuildFilter:function(e){s.default.setGuildFilter({guildFilter:e}),N(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{theme:c.default.theme,messages:d.default.getMentions(),hasMore:d.default.hasMore,loading:d.default.loading,guildFilter:d.default.guildFilter,roleFilter:d.default.roleFilter,everyoneFilter:d.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;N(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=y.default.Messages.NO_RECENT_MENTIONS,r=e===_.ThemeTypes.LIGHT?n(6493):n(6494);return O(h.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return y.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return a.createElement(C,I({},e,{channel:this.props.channel}))},fetchOnMount:function(e){d.default.hasLoadedEver||N(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>_.MAX_MENTIONS_PER_FETCH&&s.default.truncateMentions(_.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){s.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return O(h.default,{className:g.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===_.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=this.state.theme,t=y.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(t=y.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):t=y.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:t=y.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var n=null,r=this.state.guildFilter,a=e===_.ThemeTypes.LIGHT?_.Colors.PRIMARY_DARK:_.Colors.WHITE;return this.props.channel&&!this.props.channel.isPrivate()?n=O(f.Item,{id:_.RecentMentionsFilters.THIS_SERVER,className:g.default.tabBarItem,color:a},void 0,y.default.Messages.THIS_SERVER):r=_.RecentMentionsFilters.ALL_SERVERS,O(h.Header,{title:y.default.Messages.RECENT_MENTIONS,className:g.default.header},void 0,O("div",{className:g.default.headerTabBarWrapper},void 0,O(f.default,{selectedItem:r,onItemSelect:this.setGuildFilter,type:f.Types.TOP,className:g.default.tabBar},void 0,O(f.Item,{id:_.RecentMentionsFilters.ALL_SERVERS,className:g.default.tabBarItem,color:a},void 0,y.default.Messages.ALL_SERVERS),n),O(p.default,{render:this.renderDisplayPopout,position:p.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,O("div",{className:g.default.mentionFilter},void 0,O("div",{className:g.default.label},void 0,y.default.Messages.RECENT_MENTIONS_FILTER_LABEL),O("div",{className:g.default.value},void 0,t)))))}});t.default=A},6491:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,r=e.everyoneFilter;a.default.dispatch({type:o.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:r})},truncateMentions:function(e){a.default.dirtyDispatch({type:o.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e,t,n,i,l){void 0===t&&(t=o.MAX_MENTIONS_PER_FETCH),void 0===n&&(n=null),void 0===i&&(i=!0),void 0===l&&(l=!0),a.default.dirtyDispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),r.default.get({url:o.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:i,everyone:l},retries:2}).then(function(t){var n=t.body;a.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=o.MAX_MENTIONS_PER_FETCH})},function(){a.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){r.default.delete({url:o.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),a.default.dispatch({type:o.ActionTypes.RECENT_MENTION_DELETE,id:e})}};t.default=l},6492:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=m(n(6)),a=m(n(3)),o=m(n(24)),i=m(n(1)),l=m(n(317)),u=m(n(11)),s=m(n(20)),d=m(n(236)),c=m(n(87)),f=m(n(160)),p=m(n(42)),h=m(n(14)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g="recentMentionFilterSettings",E=[],S={},T=!1,I=!0,O=o.default.get(g,{guildFilter:v.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),N=!1,C=!1;function A(e){if(e instanceof l.default)return e;var t=d.default.getMessage(e.channel_id,e.id);return null!=t?t:l.default.create(e)}function M(e,t){if(void 0===t&&(t=null),e.type!==v.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=s.default.getChannel(t);if(!n||n&&n.type===v.ChannelTypes.DM)return null;if(O.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==f.default.getGuildId())return null;var r=e.author.id,a=u.default.getId();return c.default.isBlocked(r)||r===a?null:(e=A(e)).isMentioned(a,!O.everyoneFilter,!O.roleFilter)?e:null}function R(e){null!=S[e]&&(delete S[e],E=r.default.filter(E,function(t){return t.id!==e}))}function b(e){R(e.id)}function P(e){var t=y({},O);O=r.default.defaults(r.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),O),o.default.set(g,O);var n=function(e,n){return t[e]!==O[e]&&O[e]===n},a=n("guildFilter",v.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);S={};var i=[];a&&E.forEach(function(e){var t=M(e);t&&(i.push(t),S[t.id]=!0)}),0===(E=i).length&&(N=!1)}function L(){r.default.forEach(E,function(e){e.timestamp.locale(p.default.locale)})}function D(){E=E.filter(function(e){return!c.default.isBlocked(e.author.id)})}var w=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.waitFor(h.default,s.default,d.default)},l.isOpen=function(){return C},l.getMentions=function(){return N||E.length?E:null},a=r,(o=[{key:"hasLoadedEver",get:function(){return N}},{key:"loading",get:function(){return T}},{key:"hasMore",get:function(){return I}},{key:"guildFilter",get:function(){return O.guildFilter}},{key:"everyoneFilter",get:function(){return O.everyoneFilter}},{key:"roleFilter",get:function(){return O.roleFilter}}])&&_(a.prototype,o),i&&_(a,i),r}(a.default.Store))(i.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;T=!0,null==t&&O.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&P({guildFilter:v.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,a=e.isAfter,o=r.default.map(n,A);a?E=E.concat(o):(E=o,S={}),r.default.forEach(o,function(e){S[e.id]=!0}),T=!1,I=t,N=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){T=!1},SET_RECENT_MENTIONS_FILTER:P,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<E.length;++n)delete S[E[n].id];E=E.slice(0,t),I=!0},CHANNEL_SELECT:function(e){return function(){if(O.guildFilter!==v.RecentMentionsFilters.THIS_SERVER)return!1;N=!1}()},CONNECTION_OPEN:function(e){return E=[],S={},void(N=!1)},GUILD_DELETE:function(e){var t=e.guild;E=r.default.filter(E,function(e){var n=s.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete S[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=M(e.message,t);if(!n)return!1;(E=E.slice()).unshift(n),S[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=S[t]){var n=r.default.findIndex(E,function(e){return e.id===t}),a=(E=E.slice())[n];E[n]=a.updateMessage(e.message)}},MESSAGE_DELETE:b,RECENT_MENTION_DELETE:b,MESSAGE_DELETE_BULK:function(e){var t=e.ids;r.default.forEach(t,R)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;E=r.default.filter(E,function(e){return e.channel_id!==t.id||(delete S[e.id],!1)})},RELATIONSHIP_ADD:function(e){return D()},RELATIONSHIP_REMOVE:function(e){return D()},MENTION_MODAL_OPEN:function(e){C=!0},MENTION_MODAL_CLOSE:function(e){C=!1}});t.default=w},6493:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},6494:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},6495:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(3)),i=h(n(73)),l=h(n(6496)),u=n(5880),s=n(6497),d=h(n(440)),c=n(0),f=h(n(10)),p=h(n(5252));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={memoizedMode:t.props.mode,clicked:!1},t.handleInstallDownload=function(){t.state.clicked||(t.setState({clicked:!0}),(0,s.quitAndInstall)())},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){return e.mode!==t.memoizedMode?{memoizedMode:e.mode,clicked:!1}:null};var a=r.prototype;return a.handleDownloadApps=function(){i.default.push(d.default,{source:"Links"})},a.render=function(){switch(this.props.mode){case c.ActionTypes.UPDATE_AVAILABLE:return v(u.Icon,{hideOnClick:!1,tooltip:f.default.Messages.UPDATE_AVAILABLE,foreground:p.default.downloadArrow,background:p.default.cloud,name:u.Icon.Names.NOVA_DOWNLOADING});case c.ActionTypes.UPDATE_MANUALLY:case c.ActionTypes.UPDATE_DOWNLOADED:return v(u.Icon,{tooltip:f.default.Messages.UPDATE_DOWNLOADED,foreground:p.default.updateIconForeground,onClick:this.handleInstallDownload,name:u.Icon.Names.NOVA_DOWNLOAD});case c.ActionTypes.UPDATE_NOT_AVAILABLE:case c.ActionTypes.UPDATE_ERROR:case c.ActionTypes.CHECKING_FOR_UPDATES:default:return null}},r}(a.PureComponent);m.displayName="UpdateButton";var _=o.default.connectStores([l.default],function(){return{mode:l.default.getState()}})(m);t.default=_},6496:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function l(e){i=e.type}var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getState=function(){return i},r}(r.default.Store))(a.default,{CHECKING_FOR_UPDATES:l,UPDATE_NOT_AVAILABLE:l,UPDATE_AVAILABLE:l,UPDATE_MANUALLY:l,UPDATE_ERROR:l,UPDATE_DOWNLOADED:l});t.default=u},6497:function(e,t,n){"use strict";var r;t.__esModule=!0,t.checkForUpdates=function(e){void 0===e&&(e=!1);return a.checkForUpdates(e)},t.quitAndInstall=function(){a.quitAndInstall()};var a=new(((r=n(6498))&&r.__esModule?r:{default:r}).default)},6498:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(9)),a=l(n(1)),o=l(n(8)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=36e5,s=function(){function e(e){var t=this;void 0===e&&(e=u),this.updateAvailable=!1,this.hasNativeUpdate=!1,this._callbacks=[],this.checkForUpdates=function(e){return void 0===e&&(e=!1),!e&&t.updateAvailable||(o.default.embedded?o.default.send("CHECK_FOR_UPDATES"):t._handleNativeUpdateNotAvailable()),new Promise(function(e){t.updateAvailable?e(!0):t._callbacks.push(e)})},this._handleCheckingForUpdates=function(){a.default.dispatch({type:i.ActionTypes.CHECKING_FOR_UPDATES})},this._handleNativeUpdateNotAvailable=function(){t._handleCheckingForUpdates(),r.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(e){null!=e.body&&"53a48403351239f62852f3ec92a202c989a2ad73"!==e.body.hash&&e.body.required?t._handleUpdateDownloaded(!1):t._handleUpdateNotAvailable()},function(){return t._handleUpdateError()})},this._handleUpdateNotAvailable=function(){a.default.dispatch({type:i.ActionTypes.UPDATE_NOT_AVAILABLE}),t._emitCallbacks()},this._handleUpdateAvailable=function(e){t.updateAvailable=!0,t.hasNativeUpdate=e,a.default.dispatch({type:i.ActionTypes.UPDATE_AVAILABLE})},this._handleUpdateManually=function(){t.updateAvailable=!0,t.hasNativeUpdate=!0,a.default.dispatch({type:i.ActionTypes.UPDATE_MANUALLY})},this._handleUpdateError=function(e){t.updateAvailable=!1,a.default.dispatch({type:i.ActionTypes.UPDATE_ERROR,message:e})},this._handleUpdateDownloaded=function(e,n,r,o,l){t._handleUpdateAvailable(e),a.default.dispatch({type:i.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:n,releaseName:r,releaseDate:o,updateURL:l}),t._emitCallbacks()},o.default.embedded&&(o.default.on(i.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates),o.default.on(i.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable),o.default.on(i.ActionTypes.UPDATE_AVAILABLE,function(){return t._handleUpdateAvailable(!0)}),o.default.on(i.ActionTypes.UPDATE_ERROR,this._handleUpdateError),o.default.on(i.ActionTypes.UPDATE_DOWNLOADED,function(){return t._handleUpdateDownloaded(!0)}),o.default.on(i.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually)),this._checkInterval=setInterval(this.checkForUpdates,e)}var t=e.prototype;return t.destroy=function(){clearInterval(this._checkInterval)},t.quitAndInstall=function(){this.updateAvailable&&(this.hasNativeUpdate?o.default.send("QUIT_AND_INSTALL"):location.reload(!0))},t._emitCallbacks=function(){var e=this;this._callbacks.forEach(function(t){return t(e.updateAvailable)}),this._callbacks=[]},e}();t.default=s},6499:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){a.default.embedded?a.default.focus():window.focus()};var r,a=(r=n(8))&&r.__esModule?r:{default:r}},6500:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(29)),i=E(n(73)),l=E(n(6806)),u=E(n(868)),s=E(n(112)),d=E(n(158)),c=E(n(188)),f=E(n(5858)),p=n(796),h=E(n(809)),v=E(n(18)),m=E(n(5992)),_=n(0),y=E(n(10)),g=E(n(5418));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){i.default.popAll()}function I(){return S(c.default,{},void 0,S(c.default.Header,{separator:!1},void 0,S(p.FormTitle,{tag:p.FormTitle.Tags.H2,className:g.default.title},void 0,y.default.Messages.STREAM_REPORTED)),S(c.default.Content,{},void 0,S(h.default,{className:g.default.description},void 0,y.default.Messages.STREAM_REPORTED_BODY)),S(c.default.Footer,{separator:!1},void 0,S(s.default,{color:s.default.Colors.BRAND,onClick:T},void 0,y.default.Messages.DONE)))}function O(){i.default.popWithKey("stream-report-problem")}I.displayName="ProblemReported";var N=S(m.default,{}),C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={problem:null},t.handleChanged=function(e){t.setState({problem:null!=e?e.value:null})},t.handleSubmit=function(){var e=t.props,n=e.stream,r=e.streamApplication,a=t.state.problem;(0,o.default)(null!=a,"no problem selected"),v.default.track(_.AnalyticEvents.STREAM_REPORT_PROBLEM,{reason:a,streamer_user_id:n.ownerId,streamer_channel_id:n.channelId,guild_id:n.guildId,application_id:null!=r?r.id:null,application_name:null!=r?r.name:null,media_session_id:u.default.getActiveMediaSessionId()}),i.default.push(I)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.isStreamer,t=this.state.problem;return S(c.default,{},void 0,N,S(c.default.Header,{separator:!1},void 0,S(c.default.CloseButton,{className:g.default.closeButton,onClick:O}),S(p.FormTitle,{tag:p.FormTitle.Tags.H2,className:g.default.title},void 0,y.default.Messages.STREAM_REPORT_A_PROBLEM)),S(c.default.Content,{},void 0,S(h.default,{className:g.default.description},void 0,y.default.Messages.STREAM_REPORT_PROBLEM_BODY),S(p.FormItem,{title:y.default.Messages.STREAM_REPORT_LABEL},void 0,S(f.default,{className:g.default.dropdown,placeholder:y.default.Messages.STREAM_REPORT_PLACEHOLDER,options:(0,l.default)(e),onChange:this.handleChanged,value:t,maxMenuHeight:160,searchable:!1})),S("div",{className:g.default.art})),S(c.default.Footer,{separator:!1},void 0,S(s.default,{color:s.default.Colors.BRAND,disabled:null==t,onClick:this.handleSubmit},void 0,y.default.Messages.STREAM_REPORT_SUBMIT),S(d.default,{},void 0,S(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,size:s.default.Sizes.NONE,onClick:O},void 0,y.default.Messages.CANCEL))))},r}(a.PureComponent);C.displayName="ReportProblem";var A=C;t.default=A},6512:function(e,t,n){e.exports=n.p+"712a0fd4d14a1caadd31cb0745e91238.svg"},6513:function(e,t,n){e.exports=n.p+"857c505aafbe092e4f6efecebcad0bc8.svg"},6514:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(59);var o=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._interval=new a.Interval,n.update=function(){var e=n.props,t=e.onUpdate,r=e.numUpdatesToShow,a=e.pointsToSmooth,o=e.updateInterval,i=n.props.getHistoricalTotalBytes(),l=null!=i[0]?i[0].bytes:0,u=[].concat(n.state.deltaBytes.slice(1,r+a),[l-n.state.lastTotalBytes]);n.setState({deltaBytes:u,smoothedDeltaBytes:n.smoothDeltaBytes(u),lastTotalBytes:l},function(){return null!=t&&t(o)})};var r=n.props.getHistoricalTotalBytes(),o=n.calculateInitialDeltaBytes(r);return n.state={deltaBytes:o,smoothedDeltaBytes:n.smoothDeltaBytes(o),lastTotalBytes:null!=r[0]?r[0].bytes:0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.update(),this._interval.start(this.props.updateInterval,this.update)},o.componentWillUnmount=function(){this._interval.stop()},o.calculateInitialDeltaBytes=function(e){for(var t=this.props,n=t.numUpdatesToShow,r=t.updateInterval,a=t.pointsToSmooth,o=Date.now(),i=0,l=0,u=[],s=null!=e[0]?e[0].bytes:0;i<n+a;i++){for(var d=o-(i+1)*r,c=void 0;l<e.length&&(c=e[l]).timestamp>d;)l++;if(l===e.length)break;null!=c&&(u.push(s-c.bytes),s=c.bytes)}for(;i<n+a;i++)u.push(0);return u.reverse(),u},o.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],r=0;r<e.length-t;r++){for(var a=0,o=0;o<t;o++)a+=e[r+o];n.push(a/t)}return n},o.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)},r}(r.Component);o.displayName="ByteProgressSmoother",o.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};var i=o;t.default=i},6515:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=m(n(3)),i=n(37),l=m(n(1)),u=m(n(165)),s=m(n(337)),d=m(n(75)),c=m(n(329)),f=m(n(43)),p=m(n(870)),h=m(n(845)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function _(){return!0}var y=new Set(["21154681615024128"]),g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(s.default,c.default),this.syncWith([d.default],_)},a.getExperimentId=function(){return v.Experiments.GUILD_VIDEO},a.getMetaData=function(){return{title:"Guild Video",description:["Treatment 1: Enable guild video."]}},a.getExperimentDescriptor=function(e){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?h.default.getExperimentAssignment(e,this.getExperimentId()):null)},a.isAvailable=function(e){if(!f.default.supports(i.Features.VIDEO))return!1;if(p.default.canGoLive(e)&&!y.has(e))return!1;var t=this.getExperimentDescriptor(e),n=c.default.getMemberCount(e)||0;return null==t||t.bucket===v.ExperimentBuckets.NOT_ELIGIBLE||n>50?s.default.isDeveloper:(u.default.trigger(t),t.bucket===v.ExperimentBuckets.TREATMENT_1)},r}(o.default.Store))(l.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0}});u.default.register(g,((a={})[v.ExperimentTypes.USER]=((r={})[v.ExperimentBuckets.CONTROL]=function(){return null},r[v.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var E=g;t.default=E},6517:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={open:function(e){a.default.dispatch({type:o.ActionTypes.PRIVACY_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.PRIVACY_SETTINGS_MODAL_CLOSE})}};t.default=i},6518:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=n(239),o=d(n(3)),i=d(n(1)),l=d(n(882)),u=d(n(5854)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p,h=new Set,v=s.FormStates.CLOSED,m=!1,_=!1,y=[],g=[];function E(){return null==p||null==y?[]:l.default.calculatePositionDeltas(r.default.values(p.roles),y,function(e){return e.id},function(e){return e.originalPosition||1/0},!1)}function S(e){var t=e.section;if(null!=p||t!==s.GuildSettingsSections.ROLES)return!1;T()}function T(){p=u.default.getProps().guild,m=!1,_=!1,h.clear(),v=s.FormStates.OPEN,y=null!=p?(0,r.default)(p.roles).values().value():[],g=[].concat(y)}var I=r.default.debounce(function(){var e=!1;_&&((_=E().length>0)||(e=!0)),h.forEach(function(t){r.default.isEqual(N(t),function(e){return g.find(function(t){var n=t.id;return n===e})}(t))&&(h.delete(t),e=!0)}),0===h.size&&(m=!1),e&&A.emitChange()},500);function O(e,t){var n=y.indexOf(e);if(n<0)return!1;var r=f({},e,t);y[n]=r,y=[].concat(y),m=!0,h.add(r.id),I(r)}function N(e){return y.find(function(t){return t.id===e})}function C(e){var t=e.guildId;if(null==p||t!==p.id||v===s.FormStates.SUBMITTING)return!1;p=u.default.getProps().guild;var n=[];null!=p&&(n=(0,r.default)(p.roles).values().value()),h.forEach(function(e){var t=N(e),r=-1;null==n.find(function(t,n){if(t.id===e)return r=n,!0})||null==t?h.delete(e):n[r]=t}),0===h.size&&(m=!1),_=!1,y=[].concat(n)}var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.waitFor(u.default)},l.hasChanges=function(){return m||_},l.getSortDeltas=function(){return E()},l.showNotice=function(){return this.hasChanges()},l.getRole=function(e){return N(e)},a=r,(o=[{key:"hasSortChanges",get:function(){return _}},{key:"guild",get:function(){return p}},{key:"editedRoleIds",get:function(){return Array.from(h)}},{key:"roles",get:function(){return y}},{key:"formState",get:function(){return v}}])&&c(a.prototype,o),i&&c(a,i),r}(o.default.Store))(i.default,__OVERLAY__?{}:{GUILD_SETTINGS_ROLES_INIT:function(e){return T()},GUILD_SETTINGS_INIT:S,GUILD_SETTINGS_SET_SECTION:S,GUILD_SETTINGS_ROLES_SORT_UPDATE:function(e){var t=e.roles;if(null!=y&&t.length!==y.length)return!1;y=t.map(function(e){return N(e)}),_=!0,I()},GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS:function(e){var t=e.id,n=e.flag,r=e.allow,a=N(t);if(null==a)return!1;var o=a.permissions;return r?o|=n:o^=o&n,O(a,{permissions:o})},GUILD_SETTINGS_ROLES_UPDATE_NAME:function(e){var t=e.id,n=e.name,r=N(t);return null!=r&&O(r,{name:n})},GUILD_SETTINGS_ROLES_UPDATE_COLOR:function(e){var t=e.id,n=e.color,r=0===n?null:(0,a.int2hex)(n),o=N(t);return null!=o&&O(o,{color:n,colorString:r})},GUILD_SETTINGS_ROLES_UPDATE_SETTINGS:function(e){var t=e.id,n=e.hoist,r=e.mentionable,a=N(t);return null!=a&&O(a,{hoist:n,mentionable:r})},GUILD_SETTINGS_CLOSE:function(e){return p=null,g=y=[],h.clear(),m=!1,_=!1,void(v=s.FormStates.CLOSED)},GUILD_ROLE_CREATE:C,GUILD_ROLE_UPDATE:C,GUILD_ROLE_DELETE:C,GUILD_SETTINGS_ROLES_SUBMITTING:function(e){v=s.FormStates.SUBMITTING},GUILD_SETTINGS_ROLES_SAVE_SUCCESS:function(e){T()}}),M=A;t.default=M},6519:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=null,u=null,s=!1;var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,d,c=r.prototype;return c.showNotice=function(){return l!==u},c.hasError=function(){return s},a=r,(o=[{key:"vanityURLCode",get:function(){return l}},{key:"originalVanityURLCode",get:function(){return u}}])&&i(a.prototype,o),d&&i(a,d),r}(r.default.Store))(a.default,{GUILD_SETTINGS_SET_VANITY_URL:function(e){u=l=e.code||"",s=!1},GUILD_SETTINGS_VANITY_URL_CLOSE:function(e){return u=l=null,void(s=!1)},GUILD_SETTINGS_VANITY_URL_RESET:function(e){l=u},GUILD_SETTINGS_VANITY_URL_SET:function(e){l=e.code},GUILD_SETTINGS_VANITY_URL_ERROR:function(e){s=!0}});t.default=d},6520:function(e,t,n){"use strict";t.__esModule=!0,t.getChangeTitle=function(e){switch(e.action){case h.AuditLogActions.GUILD_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_UPDATE;case h.AuditLogActions.CHANNEL_CREATE:var t=e.changes?e.changes.find(function(e){return e.key===h.AuditLogChangeKeys.TYPE}):null;if(null==t)throw new Error("[AuditLog] Could not find type change for channel create");switch(t.newValue){case h.ChannelTypes.GUILD_VOICE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_VOICE_CREATE;case h.ChannelTypes.GUILD_CATEGORY:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_CATEGORY_CREATE;default:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TEXT_CREATE}case h.AuditLogActions.CHANNEL_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_UPDATE;case h.AuditLogActions.CHANNEL_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_DELETE;case h.AuditLogActions.CHANNEL_OVERWRITE_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_CREATE;case h.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_UPDATE;case h.AuditLogActions.CHANNEL_OVERWRITE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_DELETE;case h.AuditLogActions.MEMBER_KICK:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_KICK;case h.AuditLogActions.MEMBER_PRUNE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE;case h.AuditLogActions.MEMBER_BAN_ADD:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_ADD;case h.AuditLogActions.MEMBER_BAN_REMOVE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_REMOVE;case h.AuditLogActions.MEMBER_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_UPDATE;case h.AuditLogActions.MEMBER_ROLE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLE_UPDATE;case h.AuditLogActions.ROLE_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_CREATE;case h.AuditLogActions.ROLE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_UPDATE;case h.AuditLogActions.ROLE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_DELETE;case h.AuditLogActions.INVITE_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CREATE;case h.AuditLogActions.INVITE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_UPDATE;case h.AuditLogActions.INVITE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_DELETE;case h.AuditLogActions.WEBHOOK_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CREATE;case h.AuditLogActions.WEBHOOK_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_UPDATE;case h.AuditLogActions.WEBHOOK_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_DELETE;case h.AuditLogActions.EMOJI_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_CREATE;case h.AuditLogActions.EMOJI_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_UPDATE;case h.AuditLogActions.EMOJI_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_DELETE;case h.AuditLogActions.MESSAGE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_DELETE;default:return null}},t.getStringForPermission=function(e,t){switch(e){case h.Permissions.CREATE_INSTANT_INVITE:return v.default.Messages.CREATE_INSTANT_INVITE;case h.Permissions.KICK_MEMBERS:return v.default.Messages.KICK_MEMBERS;case h.Permissions.BAN_MEMBERS:return v.default.Messages.BAN_MEMBERS;case h.Permissions.ADMINISTRATOR:return v.default.Messages.ADMINISTRATOR;case h.Permissions.MANAGE_CHANNELS:return t.targetType===h.AuditLogTargetTypes.CHANNEL?v.default.Messages.MANAGE_CHANNEL:v.default.Messages.MANAGE_CHANNELS;case h.Permissions.MANAGE_GUILD:return v.default.Messages.MANAGE_SERVER;case h.Permissions.CHANGE_NICKNAME:return v.default.Messages.CHANGE_NICKNAME;case h.Permissions.MANAGE_NICKNAMES:return v.default.Messages.MANAGE_NICKNAMES;case h.Permissions.MANAGE_ROLES:return v.default.Messages.MANAGE_ROLES;case h.Permissions.MANAGE_WEBHOOKS:return v.default.Messages.MANAGE_WEBHOOKS;case h.Permissions.MANAGE_EMOJIS:return v.default.Messages.MANAGE_EMOJIS;case h.Permissions.VIEW_AUDIT_LOG:return v.default.Messages.VIEW_AUDIT_LOG;case h.Permissions.VIEW_CHANNEL:return v.default.Messages.READ_MESSAGES;case h.Permissions.SEND_MESSAGES:return v.default.Messages.SEND_MESSAGES;case h.Permissions.SEND_TSS_MESSAGES:return v.default.Messages.SEND_TTS_MESSAGES;case h.Permissions.MANAGE_MESSAGES:return v.default.Messages.MANAGE_MESSAGES;case h.Permissions.EMBED_LINKS:return v.default.Messages.EMBED_LINKS;case h.Permissions.ATTACH_FILES:return v.default.Messages.ATTACH_FILES;case h.Permissions.READ_MESSAGE_HISTORY:return v.default.Messages.READ_MESSAGE_HISTORY;case h.Permissions.MENTION_EVERYONE:return v.default.Messages.MENTION_EVERYONE;case h.Permissions.USE_EXTERNAL_EMOJIS:return v.default.Messages.USE_EXTERNAL_EMOJIS;case h.Permissions.ADD_REACTIONS:return v.default.Messages.ADD_REACTIONS;case h.Permissions.CONNECT:return v.default.Messages.CONNECT;case h.Permissions.SPEAK:return v.default.Messages.SPEAK;case h.Permissions.MUTE_MEMBERS:return v.default.Messages.MUTE_MEMBERS;case h.Permissions.DEAFEN_MEMBERS:return v.default.Messages.DEAFEN_MEMBERS;case h.Permissions.MOVE_MEMBERS:return v.default.Messages.MOVE_MEMBERS;case h.Permissions.USE_VAD:return v.default.Messages.USE_VAD;case h.Permissions.PRIORITY_SPEAKER:return v.default.Messages.PRIORITY_SPEAKER;case h.Permissions.STREAM:return v.default.Messages.STREAM}return null},t.transformLogs=function(e,t){var n=[];return e.forEach(function(e){var r=function(e,t){switch(e.targetType){case h.AuditLogTargetTypes.GUILD:return t;case h.AuditLogTargetTypes.CHANNEL:return T(e,h.AuditLogChangeKeys.NAME,function(e){return s.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogTargetTypes.USER:return T(e,h.AuditLogChangeKeys.NICK,function(e){return f.default.getUser(e)},function(e){return e});case h.AuditLogTargetTypes.ROLE:return T(e,h.AuditLogChangeKeys.NAME,function(e){return t.getRole(e)},function(e){return e.name});case h.AuditLogTargetTypes.INVITE:return T(e,h.AuditLogChangeKeys.CODE,h.NOOP_NULL,function(e){return e.code});case h.AuditLogTargetTypes.WEBHOOK:return T(e,h.AuditLogChangeKeys.NAME,function(e){return c.default.webhooks.find(function(t){return t.id===e})},function(e){return e.name});case h.AuditLogTargetTypes.EMOJI:return T(e,h.AuditLogChangeKeys.NAME,function(e){return d.default.getGuildEmoji(t.id).find(function(t){return t.id===e})},function(e){return e.name});default:return console.warn("[GuildSettingsAuditLog] Unknown targetType for log",e),null}}(e,t),a=f.default.getUser(e.userId);if((null!=r||e.action===h.AuditLogActions.MEMBER_PRUNE)&&null!=a){if(null!=(e=(e=(e=e.set("user",a)).set("target",r)).set("options",function(e){if(null!=e.options){var t=_({},e.options);switch(e.options.type){case h.AuditLogSubtargetTypes.USER:t.subtarget=I(e.options.id,function(e){return f.default.getUser(e)},function(e){return e.toString()});break;case h.AuditLogSubtargetTypes.ROLE:t.subtarget=I(e.options.role_name,h.NOOP_NULL)}return null!=e.options.channel_id&&(t.channel=T(e,"",function(e){return s.default.getChannel(e)},function(e){return e},e.options.channel_id)),e.options.members_removed&&(t.count=e.options.members_removed),t}return e.options}(e))).changes){var o=[];e.changes.forEach(function(e){var t=function(e){switch(e.key){case h.AuditLogChangeKeys.OWNER_ID:return S(e,function(e){return f.default.getUser(e)});case h.AuditLogChangeKeys.AFK_CHANNEL_ID:return S(e,function(e){return s.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogChangeKeys.AFK_TIMEOUT:return S(e,function(e){return e/60});case h.AuditLogChangeKeys.SYSTEM_CHANNEL_ID:return S(e,function(e){return s.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogChangeKeys.BITRATE:return S(e,function(e){return e/1e3});case h.AuditLogChangeKeys.COLOR:return S(e,function(e){return(0,l.int2hex)(e).toUpperCase()});case h.AuditLogChangeKeys.MAX_AGE:return S(e,function(e){var t=p.default.getMaxAgeOptions.find(function(t){var n=t.value;return e===n});return t?t.label:e});case h.AuditLogChangeKeys.CHANNEL_ID:return S(e,function(e){return s.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogChangeKeys.PERMISSIONS:var t=[],n=E(e.oldValue,e.newValue),r=n.added,a=n.removed;if(r.length>0){var o=new u.AuditLogChange(h.AuditLogChangeKeys.PERMISSIONS_GRANTED,null,r);t.push(o)}if(a.length){var i=new u.AuditLogChange(h.AuditLogChangeKeys.PERMISSIONS_DENIED,null,a);t.push(i)}return t;case h.AuditLogChangeKeys.PERMISSIONS_GRANTED:case h.AuditLogChangeKeys.PERMISSIONS_DENIED:var d=[],c=E(e.oldValue,e.newValue),v=c.added;if(v.length>0){var m=new u.AuditLogChange(e.key,null,v);d.push(m)}return d}return e}(e);Array.isArray(t)?t.forEach(function(e){return o.push(e)}):o.push(t)}),e=e.set("changes",o)}n.push(e)}}),n},t.ACTION_FILTER_ITEMS=t.NotRenderedChanges=t.EmojiChangeStrings=t.WebhookChangeStrings=t.InviteChangeStrings=t.RoleChangeStrings=t.UserChangeStrings=t.ChannelChangeStrings=t.GuildChangeStrings=t.DEFAULT_FOR_STRINGS_KEY=void 0;var r,a,o,i,l=n(239),u=n(6132),s=m(n(20)),d=m(n(241)),c=m(n(6131)),f=m(n(14)),p=m(n(196)),h=n(0),v=m(n(10));function m(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.DEFAULT_FOR_STRINGS_KEY=-1;var y=function(){var e;return(e={})[h.AuditLogChangeKeys.REASON]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.GuildChangeStrings=function(){var e,t,n,r,a;return _(((a={})[h.AuditLogChangeKeys.NAME]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_NAME_CHANGE,a[h.AuditLogChangeKeys.DESCRIPTION]=N(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CLEAR,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CHANGE),a[h.AuditLogChangeKeys.ICON_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_ICON_HASH_CHANGE,a[h.AuditLogChangeKeys.SPLASH_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SPLASH_HASH_CHANGE,a[h.AuditLogChangeKeys.BANNER_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_BANNER_HASH_CHANGE,a[h.AuditLogChangeKeys.OWNER_ID]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_OWNER_ID_CHANGE,a[h.AuditLogChangeKeys.REGION]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_REGION_CHANGE,a[h.AuditLogChangeKeys.AFK_CHANNEL_ID]=N(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CLEAR,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CHANGE),a[h.AuditLogChangeKeys.AFK_TIMEOUT]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_TIMEOUT_CHANGE,a[h.AuditLogChangeKeys.SYSTEM_CHANNEL_ID]=N(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_DISABLE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_CHANGE),a[h.AuditLogChangeKeys.MFA_LEVEL]=((e={})[h.MFALevels.NONE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_DISABLED,e[h.MFALevels.ELEVATED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_ENABLED,e),a[h.AuditLogChangeKeys.WIDGET_ENABLED]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_ENABLED,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_DISABLED},a[h.AuditLogChangeKeys.WIDGET_CHANNEL_ID]=N(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_DELETE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_CHANGE),a[h.AuditLogChangeKeys.VERIFICATION_LEVEL]=((t={})[h.VerificationLevels.NONE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_NONE,t[h.VerificationLevels.LOW]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_LOW,t[h.VerificationLevels.MEDIUM]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_MEDIUM,t[h.VerificationLevels.HIGH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_HIGH,t[h.VerificationLevels.VERY_HIGH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_VERY_HIGH,t),a[h.AuditLogChangeKeys.DEFAULT_MESSAGE_NOTIFICATIONS]=((n={})[h.UserNotificationSettings.ALL_MESSAGES]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ALL_MESSAGES,n[h.UserNotificationSettings.ONLY_MENTIONS]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ONLY_MENTIONS,n),a[h.AuditLogChangeKeys.VANITY_URL_CODE]=N(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_DELETE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_CHANGE),a[h.AuditLogChangeKeys.EXPLICIT_CONTENT_FILTER]=((r={})[h.GuildExplicitContentFilterTypes.DISABLED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_DISABLE,r[h.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_MEMBERS_WITHOUT_ROLES,r[h.GuildExplicitContentFilterTypes.ALL_MEMBERS]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_ALL_MEMBERS,r),a),y())};t.ChannelChangeStrings=function(){var e;return(e={})[h.AuditLogChangeKeys.NAME]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CHANGE),e[h.AuditLogChangeKeys.POSITION]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CHANGE),e[h.AuditLogChangeKeys.TOPIC]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CHANGE),e[h.AuditLogChangeKeys.BITRATE]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CHANGE),e[h.AuditLogChangeKeys.RATE_LIMIT_PER_USER]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CHANGE),e[h.AuditLogChangeKeys.PERMISSIONS_GRANTED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_GRANTED,e[h.AuditLogChangeKeys.PERMISSIONS_DENIED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_DENIED,e[h.AuditLogChangeKeys.REASON]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e[h.AuditLogChangeKeys.NSFW]={false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_DISABLED,true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_ENABLED},e};t.UserChangeStrings=function(){var e,t,n,r,a;return _(((e={})[h.AuditLogChangeKeys.NICK]=(t=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CHANGE,n=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CREATE,r=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_DELETE,function(e){return null!=e.newValue&&null!=e.oldValue?t:null!=e.newValue?n:null!=e.oldValue?r:a}),e[h.AuditLogChangeKeys.DEAF]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_OFF},e[h.AuditLogChangeKeys.MUTE]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_OFF},e[h.AuditLogChangeKeys.ROLES_REMOVE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_REMOVE,e[h.AuditLogChangeKeys.ROLES_ADD]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_ADD,e[h.AuditLogChangeKeys.PRUNE_DELETE_DAYS]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE_DELETE_DAYS,e),y())};t.RoleChangeStrings=function(){var e,t;return _(((t={})[h.AuditLogChangeKeys.NAME]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CHANGE),t[h.AuditLogChangeKeys.PERMISSIONS_GRANTED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_GRANTED,t[h.AuditLogChangeKeys.PERMISSIONS_DENIED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_DENIED,t[h.AuditLogChangeKeys.COLOR]=((e={"#000000":v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_NONE})[-1]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_IOS,e),t[h.AuditLogChangeKeys.HOIST]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_OFF},t[h.AuditLogChangeKeys.MENTIONABLE]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_OFF},t),y())};t.InviteChangeStrings=function(){var e,t,n;return _(((n={})[h.AuditLogChangeKeys.CODE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CODE_CREATE,n[h.AuditLogChangeKeys.CHANNEL_ID]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CHANNEL_CREATE,n[h.AuditLogChangeKeys.MAX_USES]=((e={0:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE_INFINITE})[-1]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE,e),n[h.AuditLogChangeKeys.MAX_AGE]=((t={0:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE_INFINITE})[-1]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE,t),n[h.AuditLogChangeKeys.TEMPORARY]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_OFF},n),y())};t.WebhookChangeStrings=function(){var e;return(e={})[h.AuditLogChangeKeys.CHANNEL_ID]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CHANGE),e[h.AuditLogChangeKeys.NAME]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CHANGE),e[h.AuditLogChangeKeys.AVATAR_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_AVATAR,e[h.AuditLogChangeKeys.REASON]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.EmojiChangeStrings=function(){var e;return _(((e={})[h.AuditLogChangeKeys.NAME]=O(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CHANGE),e),y())};var g=((i={})[h.AuditLogTargetTypes.CHANNEL]=((r={})[h.AuditLogChangeKeys.TYPE]=!0,r[h.AuditLogChangeKeys.ID]=!0,r[h.AuditLogChangeKeys.PERMISSION_OVERWRITES]=!0,r),i[h.AuditLogTargetTypes.INVITE]=((a={})[h.AuditLogChangeKeys.INVITER_ID]=!0,a[h.AuditLogChangeKeys.USES]=!0,a),i[h.AuditLogTargetTypes.WEBHOOK]=((o={})[h.AuditLogChangeKeys.TYPE]=!0,o[h.AuditLogChangeKeys.APPLICATION_ID]=!0,o),i);t.NotRenderedChanges=g;function E(e,t){var n="number"==typeof e?e:0,r="number"==typeof t?t:0,a=r&~n,o=n&~r,i=[],l=[];for(var u in h.Permissions){var s=+h.Permissions[u];(a&s)===s&&i.push(s),(o&s)===s&&l.push(s)}return{added:i,removed:l}}function S(e,t,n){var r=e.newValue,a=e.oldValue;return null!=e.newValue&&(r=t(e.newValue),null!=n&&null!=r&&(r=n(r))),null!=e.oldValue&&(a=t(e.oldValue),null!=n&&null!=a&&(a=n(a))),new u.AuditLogChange(e.key,a||e.oldValue,r||e.newValue)}function T(e,t,n,r,a){var o=null,i=n(a=a||e.targetId);if(null!=i&&(o=r(i)),null==o){var l=c.default.deletedTargets[e.targetType];null!=l&&l[a]&&(o=l[a])}if(null==o&&null!=e.changes){var u=e.changes.find(function(e){return e.key===t});null!=u&&(o=u.newValue||u.oldValue)}return o||e.targetId}function I(e,t,n){var r=e,a=t(e);return null!=a&&null!=n&&(r=n(a)),r}function O(e,t){return function(n){return null==n.oldValue?e:t}}function N(e,t){return function(n){return null==n.newValue?e:t}}t.ACTION_FILTER_ITEMS=function(){return[{value:h.AuditLogActions.ALL,label:v.default.Messages.GUILD_SETTINGS_FILTER_ALL_ACTIONS,valueLabel:v.default.Messages.GUILD_SETTINGS_FILTER_ALL},{value:h.AuditLogActions.GUILD_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_GUILD_UPDATE},{value:h.AuditLogActions.CHANNEL_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_CREATE},{value:h.AuditLogActions.CHANNEL_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_UPDATE},{value:h.AuditLogActions.CHANNEL_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_DELETE},{value:h.AuditLogActions.CHANNEL_OVERWRITE_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_CREATE},{value:h.AuditLogActions.CHANNEL_OVERWRITE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_UPDATE},{value:h.AuditLogActions.CHANNEL_OVERWRITE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_DELETE},{value:h.AuditLogActions.MEMBER_KICK,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_KICK},{value:h.AuditLogActions.MEMBER_PRUNE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_PRUNE},{value:h.AuditLogActions.MEMBER_BAN_ADD,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_ADD},{value:h.AuditLogActions.MEMBER_BAN_REMOVE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_REMOVE},{value:h.AuditLogActions.MEMBER_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_UPDATE},{value:h.AuditLogActions.MEMBER_ROLE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_ROLE_UPDATE},{value:h.AuditLogActions.ROLE_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_CREATE},{value:h.AuditLogActions.ROLE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_UPDATE},{value:h.AuditLogActions.ROLE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_DELETE},{value:h.AuditLogActions.INVITE_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_CREATE},{value:h.AuditLogActions.INVITE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_UPDATE},{value:h.AuditLogActions.INVITE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_DELETE},{value:h.AuditLogActions.WEBHOOK_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_CREATE},{value:h.AuditLogActions.WEBHOOK_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_UPDATE},{value:h.AuditLogActions.WEBHOOK_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_DELETE},{value:h.AuditLogActions.EMOJI_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_CREATE},{value:h.AuditLogActions.EMOJI_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_UPDATE},{value:h.AuditLogActions.EMOJI_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_DELETE},{value:h.AuditLogActions.MESSAGE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_DELETE}]}},6521:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(802)),i=f(n(6361)),l=f(n(6614)),u=f(n(307)),s=f(n(795)),d=f(n(10)),c=f(n(5479));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=h(i.default.Divider,{}),_=function(e){var t,n;function r(t){var n;return v(n=e.call(this,t)||this).renderPopout=n.renderPopout.bind(v(n)),v(n).renderItems=n.renderItems.bind(v(n)),v(n).handleChange=n.handleChange.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.renderItems=function(){var e=this,t=this.props,n=t.items,r=t.renderItem;return 0===n.length?h(i.default.Empty,{},void 0,d.default.Messages.NONE):h(u.default,{track:!0,className:c.default.scroller,theme:u.default.Themes.GHOST_HAIRLINE},void 0,n.map(function(t,n){return null!=r?r(t,n):a.createElement(i.default.Item,p({key:n},t,{onClick:e.handleChange}))}))},f.renderPopout=function(e){var t=this.props,n=t.searchProps,r=t.popoutClassName;return a.createElement(i.default,p({},e,{className:r}),a.createElement(i.default.SearchBar,n),m,this.renderItems())},f.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,o=e.className,i=e.popoutId,u=e.popoutProps;return a.createElement(s.default,p({},u,{uniqueId:i,render:this.renderPopout}),h("div",{className:o},void 0,h(l.default,{label:t,value:n,renderValue:r})))},f.handleChange=function(e){var t=this.props,n=t.popoutId,r=t.onChange;o.default.close(n),r&&r(e)},r}(a.PureComponent);_.displayName="SearchableQuickSelectWrapper";var y=_;t.default=y},6522:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(5997)),o=n(0),i=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.name,n=e.icon,l=e.makeURL,u=e.onChange,s=e.disabled,d=e.showIcon,c=e.className,f=e.avatarClassName;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{name:t,avatar:n,size:o.AVATAR_MAX_SIZE,makeURL:l,onChange:u,disabled:s,hint:i.default.Messages.CHANGE_ICON,showIcon:d,className:c,avatarClassName:f})}},6525:function(e,t,n){e.exports=n.p+"ffc8cce621d39fcac0e58a1c834605d0.svg"},6526:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=M(n(9)),i=M(n(73)),l=M(n(6009)),u=R(n(99)),s=M(n(159)),d=M(n(305)),c=M(n(112)),f=M(n(158)),p=M(n(188)),h=M(n(5858)),v=M(n(799)),m=M(n(811)),_=M(n(432)),y=R(n(428)),g=M(n(98)),E=n(81),S=M(n(308)),T=M(n(5997)),I=M(n(6173)),O=M(n(5934)),N=n(0),C=M(n(10)),A=M(n(5499));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=function(e){var t,n;function r(t){var n;P(n=e.call(this,t)||this).handleChannelChange=n.handleChannelChange.bind(P(n)),P(n).handleAvatarChange=n.handleAvatarChange.bind(P(n)),P(n).handleNameChange=n.handleNameChange.bind(P(n)),P(n).handleSaveWebhook=n.handleSaveWebhook.bind(P(n));var r=t.webhook,a=r.name,o=r.channel_id,i=r.avatar;return n.state={name:a,channelId:o,avatar:i,submitting:!1,errors:{}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleNameChange=function(e){this.setState({name:e})},a.handleAvatarChange=function(e){this.setState({avatar:e})},a.handleChannelChange=function(e){var t=e.value;this.setState({channelId:t})},a.handleSaveWebhook=function(){var e=this,t=this.state,n=t.avatar,r=t.name,a=t.channelId,o=this.props.webhook,u={name:r,channel_id:a};n!==o.avatar&&(u.avatar=n),this.setState({submitting:!0},function(){l.default.update(o.guild_id,o.id,u).then(function(){i.default.pop()}).catch(function(t){var n=t.body;e.setState({errors:n,submitting:!1})})})},a.getWebhookURL=function(){var e=this.props.webhook,t=e.id,n=e.token;return""+o.default.getAPIBaseURL(!1)+N.Endpoints.WEBHOOK_INTEGRATION(t,n)},a.renderNameChannel=function(){var e=this.props.webhook,t=this.state,n=t.name,r=t.channelId,a=t.errors,o=u.default.getChannels(e.guild_id)[u.GUILD_SELECTABLE_CHANNELS_KEY].filter(function(e){var t=e.channel;return s.default.can(N.Permissions.MANAGE_WEBHOOKS,{channelId:t.id})}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString(!0)}});return b(f.default,{},void 0,b(f.default.Child,{basis:"50%"},void 0,b(_.default,{title:C.default.Messages.WEBHOOK_FORM_NAME},void 0,b(v.default,{value:n,onChange:this.handleNameChange,error:a.name}))),b(f.default.Child,{basis:"50%"},void 0,b(_.default,{title:C.default.Messages.CHANNEL},void 0,b(h.default,{value:r,clearable:!1,searchable:!1,options:o,onChange:this.handleChannelChange}))))},a.renderAvatar=function(){var e=this.props.webhook.id,t=this.state,n=t.avatar,r=t.errors;return b(_.default,{title:C.default.Messages.WEBHOOK_MODAL_ICON_TITLE,className:A.default.container},void 0,b(f.default,{},void 0,b(f.default.Child,{},void 0,b(y.default,{type:y.Types.DESCRIPTION},void 0,C.default.Messages.WEBHOOK_MODAL_ICON_DESCRIPTION),b(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.PRIMARY,className:A.default.uploadButton},void 0,C.default.Messages.UPLOAD_IMAGE,b(O.default,{onChange:this.handleAvatarChange}))),b(f.default.Child,{wrap:!0,grow:0},void 0,b(T.default,{avatar:n,size:N.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(){return(0,E.getUserAvatarURL)({id:e,avatar:n,discriminator:N.NON_USER_BOT_DISCRIMINATOR})},avatarClassName:A.default.avatarUploaderInner}),r.avatar?b("div",{},void 0,r.avatar):null)))},a.renderURL=function(){return b(f.default.Child,{className:A.default.urlContainer},void 0,b(_.default,{title:C.default.Messages.WEBHOOK_FORM_URL},void 0,b(I.default,{value:this.getWebhookURL(),className:A.default.copyInput}),b(y.default,{type:y.Types.DESCRIPTION},void 0,b(d.default,{href:S.default.getArticleURL(N.HelpdeskArticles.WEBHOOKS_INTRODUCTION)},void 0,C.default.Messages.WEBHOOK_FORM_WEBHOOK_URL_HELP))))},a.render=function(){return b(p.default,{size:A.default.size},void 0,b(p.default.Header,{},void 0,b(g.default,{tag:g.default.Tags.H4},void 0,C.default.Messages.WEBHOOK_MODAL_TITLE)),b(p.default.Content,{},void 0,this.renderNameChannel(),b(m.default,{className:A.default.divider}),this.renderAvatar(),b(m.default,{className:A.default.divider}),this.renderURL()),b(p.default.Footer,{},void 0,b(c.default,{submitting:this.state.submitting,onClick:this.handleSaveWebhook},void 0,C.default.Messages.SAVE),b(c.default,{color:c.default.Colors.GREY,look:c.default.Looks.LINK,onClick:this.props.onClose},void 0,C.default.Messages.CANCEL)))},r}(a.PureComponent);L.displayName="WebhookModal";var D=L;t.default=D},6528:function(e,t,n){"use strict";t.__esModule=!0,t.areTypesInSameSection=u,t.getDropData=function(e,t,n,r,o){if(null==e||null==n)return null;var i=l.ChannelTypes.GUILD_CATEGORY;if(e.type===i)return r===t||r<t&&e.type===n.type?c(n):r>t?function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,a=n[(d(t,n,!0)||0)+1],o=s(-1,t.id,e.type,n);if(null==o||o&&o.channel.id===e.id)return null;if(null==a||a.channel.type===r)return{referenceId:o.channel.id,parentId:null};return null}(e,n,o):null;if(u(e.type,n.type))return c(n);if(r<t)return n.type===i?function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,o=l.ChannelTypes.GUILD_VOICE,i=n[(d(t,n,!0)||0)-1],c=s(1,t.id,e.type,n);if(null==i)return{referenceId:null,parentId:null};if(null!=c){if(u(i.channel.type,e.type)||e.type===o&&(0,a.isGuildSelectableChannelType)(i.channel.type))return{referenceId:c.channel.id,parentId:i.channel.parent_id};if(i.channel.type===r)return{referenceId:c.channel.id,parentId:i.channel.id}}return null}(e,n,o):function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,o=l.ChannelTypes.GUILD_VOICE,i=n[(d(t,n,!0)||0)-1],u=s(1,t.id,e.type,n);if(null==i&&e.type!==o)return{referenceId:null!=u?u.channel.id:null,parentId:null};if((0,a.isGuildSelectableChannelType)(e.type)&&null!=u&&((0,a.isGuildSelectableChannelType)(i.channel.type)||i.channel.type===r))return{referenceId:u.channel.id,parentId:t.parent_id};return null}(e,n,o);if(n.type===i)return function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,o=l.ChannelTypes.GUILD_VOICE,i=n[(d(t,n,!0)||0)+1],c=s(-1,t.id,e.type,n);if(null!=c){if(null==i)return{referenceId:c.channel.id,parentId:t.id};if(u(i.channel.type,e.type)||(0,a.isGuildSelectableChannelType)(e.type)&&i.channel.type===o)return{referenceId:c.channel.id,parentId:i.channel.parent_id};if(i.channel.type===r)return{referenceId:c.channel.id,parentId:t.id}}return null}(e,n,o);return function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,a=l.ChannelTypes.GUILD_VOICE,o=n[(d(t,n,!0)||0)+1],i=s(-1,t.id,e.type,n);if(null==i)return null;if(e.type===a){if(null==o||o.channel.type===r)return{referenceId:i.channel.id,parentId:t.parent_id};if(o.channel.type===a)return{referenceId:i.channel.id,parentId:o.channel.parent_id}}if(e.type===r&&(null==o||o.channel.type===r))return{referenceId:i.channel.id,parentId:null};return null}(e,n,o)},t.getDnDUpdates=function(e,t,n,r){var u,s,c=l.ChannelTypes.GUILD_CATEGORY,f=l.ChannelTypes.GUILD_VOICE,p=[],h=[],v=r._categories,m=function(t){var n;return n=null!=u&&null!=s&&function(e,t,n,r){if(null!=t&&null!=n&&null!=r[t]&&r[t].channel===e&&null!=r[n])return!0;return!1}(e,u,s,t)?i.default.moveItemFromTo(t,u,s):[].concat(t),p=p.concat(i.default.calculatePositionDeltas(t,n,function(e){var t=e.channel;return t.id},function(e){var t=e.channel;return t.position})),n};if(e.type===c){var _=[].concat(v).slice(1);u=d(e,_),s=d(t,_),(h=m(_)).unshift(v[0])}if((0,a.isGuildSelectableChannelType)(e.type)||e.type===c){var y=(0,o.getFlattenedChannelList)(h.length?h:v,r,function(e){var t=e.channel.type;return(0,a.isGuildSelectableChannelType)(t)});u=d(e,y),s=d(t,y),m(y)}if(e.type===f||e.type===c){var g=(0,o.getFlattenedChannelList)(h.length?h:v,r,function(e){var t=e.channel.type;return t===f});u=d(e,g),s=d(t,g),m(g)}if(e.parent_id!==n){var E=!1;p.find(function(t){return t.id===e.id&&(t.parent_id=n,E=!0)}),E||p.push({id:e.id,parent_id:n})}return p};var r,a=n(129),o=n(437),i=(r=n(882))&&r.__esModule?r:{default:r},l=n(0);function u(e,t){return null!=e&&null!=t&&(e===t||(0,a.isGuildSelectableChannelType)(e)&&(0,a.isGuildSelectableChannelType)(t))}function s(e,t,n,r){var a=-1;if(r.find(function(e,n){return e.channel.id===t&&(a=n,!0)}),a<0)return null;for(var o=a;o>=0&&o<r.length;o+=e){var i=r[o];if(u(i.channel.type,n))return i}return null}function d(e,t,n){if(void 0===n&&(n=!1),null==e)return 0;var r=null;return t.filter(function(t){var r=t.channel.type;return null!=e&&(n||u(e.type,r))}).find(function(t,n){var a=t.channel.id;return null!=e&&a===e.id&&(r=n,!0)}),r}function c(e){return{referenceId:e.id,parentId:e.parent_id}}},6529:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(5996)),l=s(n(304)),u=s(n(5507));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p={friction:10,tension:300},h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={translateY:new l.default.Value},n}f(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)},n.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()},n.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},n.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?this._timeout=setTimeout(function(){l.default.spring(e,c({toValue:0},p)).start()},100):e.setValue(0)},n.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?l.default.spring(e,c({toValue:1},p)).start():e.setValue(1)},n.render=function(){var e=this.props,t=e.className,n=e.text,r=e.onClick;return d(l.default.div,{className:(0,o.default)(u.default.bar,t),onClick:r,style:this.getAnimatedStyle()},void 0,d("span",{className:u.default.text},void 0,n))},n.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}},t}(a.PureComponent);h.displayName="Bar";var v=40,m=function(e){function t(t){var n;return(n=e.call(this,t)||this).calculateState=(0,i.default)(function(){for(var e=n.props,t=e.items,r=e.isVisible,a=e.isUnread,o=e.isMentioned,i=e.reverse,l=e.onCalculate,u=null,s=null,d=i?t.length-1:0,c=t[d];null!=c&&!r(c,i,t);)null==u&&o(c,i,t)&&(u=c),null==s&&a(c,i,t)&&(s=c),c=t[d+=i?-1:1];null!=l&&l(u,s,i),n.setState({shouldCalculate:!1,mention:u,unread:s})},v),n.handleClick=function(e){e.preventDefault(),e.stopPropagation();var t=n.state,r=t.unread,a=t.mention,o=n.props.onJumpTo,i=a||r;null!=i&&o(i,[a,r])},n.state={shouldCalculate:!0,unread:null,mention:null},n}f(t,e);var n=t.prototype;return n.componentDidMount=function(){this.calculateState()},n.componentDidUpdate=function(){this.state.shouldCalculate&&this.calculateState()},n.componentWillUnmount=function(){this.calculateState.cancel()},n.UNSAFE_componentWillReceiveProps=function(){this.setState({shouldCalculate:!0})},n.render=function(){var e=this.state,t=e.unread,n=e.mention,r=this.props,a=r.textMention,i=r.textUnread,l=r.reverse,s=r.className,c=r.barClassName,f=r.hide,p=r.animate;return d("div",{className:s},void 0,d(h,{hide:!0===f||null==t&&null==n,className:(0,o.default)(c,null!=n?u.default.mention:u.default.unread),text:null!=n?a:i,reverse:l,animate:p,onClick:this.handleClick}))},t}(a.Component);m.displayName="UnreadBar",m.defaultProps={className:u.default.container,reverse:!1,hide:!1,animate:!0};var _=m;t.default=_},6530:function(e,t,n){"use strict";t.__esModule=!0,t.makeVoiceUserDroppable=function(e){return(0,r.DropTarget)(s,{canDrop:function(e){var t=e.channel,n=o.default.getCurrentUser();return i.default.can(l.Permissions.MOVE_MEMBERS,n,t)&&i.default.can(l.Permissions.CONNECT,n,t)},drop:function(e,t){var n=e.channel;a.default.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}})(e)},t.makeVoiceUserDraggable=function(e){return(0,r.DragSource)(s,{canDrag:function(e){var t=e.canDrag;return t},beginDrag:function(e){var t=e.user;return{user:t}}},function(e){return{connectUserDragSource:e.dragSource()}})(e)};var r=n(856),a=u(n(801)),o=u(n(14)),i=u(n(102)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s="DRAGGABLE_USER"},6531:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=C(n(3)),i=C(n(1)),l=n(478),u=n(5948),s=A(n(325)),d=C(n(331)),c=C(n(88)),f=C(n(456)),p=C(n(6335)),h=C(n(112)),v=C(n(158)),m=C(n(5862)),_=C(n(5911)),y=C(n(45)),g=n(5903),E=n(130),S=C(n(6156)),T=C(n(6693)),I=n(0),O=C(n(10)),N=C(n(5256));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(){return[O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_1,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_2,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_3,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_4]},b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={confirmHeaderIndex:Math.floor(Math.random()*R().length),installPath:t.props.defaultInstallationPath,hasInstallPathError:!1,hasAcceptedNeccessaryTerms:!1},t.handleInstallPathChange=function(e,n){t.setState({installPath:e,hasInstallPathError:n})},t.handleInventoryClick=function(){y.default.transitionTo(I.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t.handleGoToLibrary=function(){y.default.transitionTo(I.Routes.APPLICATION_LIBRARY),t.props.onClose()},t.handleInstall=function(){var e=t.props,n=e.application,r=e.branchId,a=e.buildId,o=e.hasPreviouslyAcceptedStoreTerms,i=e.manifestIds,l=e.onClose,d=t.state,c=d.installPath,f=d.hasInstallPathError;o||(0,u.acceptPurchaseTerms)(),null!=n.eulaId&&(0,u.acceptEULA)(n.eulaId),f||null==a||null==i||(s.installApplication(n,r,a,i,c,I.AnalyticsLocations.APPLICATION_STORE_PAYMENT_MODAL),l(),y.default.transitionTo(I.Routes.APPLICATION_LIBRARY))},t.handlePurchaseTermsChange=function(e){t.setState({hasAcceptedNeccessaryTerms:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.fetchInstallSize=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.buildSizeKB;null!=r&&null!=a&&null==o&&i.default.wait(function(){(0,l.fetchBuildSize)(t.id,n,r,a)})},o.componentDidMount=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.sku;!e.isIAP&&(0,g.canUserInstall)(o)&&(null==r||null==a?i.default.wait(function(){return(0,l.fetchLiveBuild)(t.id,n)}):this.fetchInstallSize())},o.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},o.getHeaderBlurb=function(){var e=this.props,t=e.sku,n=e.application,r=e.isIAP;if(t.isPreorder()&&null!=t.preorderReleaseAt)return O.default.Messages.APPLICATION_STORE_PREORDER_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,date:t.preorderReleaseAt.format("MMMM DD")});if(r||[I.SKUTypes.DLC,I.SKUTypes.CONSUMABLE].includes(t.type))return O.default.Messages.APPLICATION_ADDON_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,itemName:t.name});if(t.type===I.SKUTypes.BUNDLE)return O.default.Messages.APPLICATION_STORE_BUNDLE_PURCHASE_CONFIRMATION_BLURB.format({name:t.name});var a=t.supportedOperatingSystems[0];return O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_UNSUPPORTED_OS.format({name:n.name,operatingSystem:(0,E.skuOperatingSystemToText)(a)})},o.renderInstallationHeader=function(){var e=this.props.application;return M("div",{className:N.default.blurb},void 0,O.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_BLURB.format({name:e.name}))},o.renderInstallationBody=function(){var e=this.props,t=e.isFetchingBuild,n=e.buildId,r=e.buildSizeKB,o=e.application,i=this.state,l=i.installPath,u=i.hasInstallPathError,s=i.hasAcceptedNeccessaryTerms;return M(a.Fragment,{},void 0,M(T.default,{className:N.default.installSelector,value:l,requiredDiskKB:r,onChange:this.handleInstallPathChange}),M(S.default,{eulaId:o.eulaId,applicationName:o.name,onChange:this.handlePurchaseTermsChange,className:N.default.storeTerms}),M(_.default,{className:N.default.confirmButton,disabled:u||null==n||!s,onClick:this.handleInstall,submitting:t,color:h.default.Colors.GREEN},void 0,O.default.Messages.APPLICATION_STORE_PURCHASE_INSTALL_GAME))},o.renderGenericHeader=function(){return M("div",{className:N.default.blurb},void 0,this.getHeaderBlurb())},o.renderBlurbBody=function(){var e,t=this.props,n=t.isIAP,r=t.sku,o=t.onClose;return r.isPreorder()?(e=O.default.Messages.APPLICATION_PREORDER_PURCHASE_CONFIRMATION_BUTTON,o=this.handleGoToLibrary):e=n?O.default.Messages.APPLICATION_IAP_PURCHASE_RETURN_TO_GAME:O.default.Messages.OKAY,M(a.Fragment,{},void 0,M(h.default,{className:N.default.confirmButton,onClick:o},void 0,e))},o.renderBlurb=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,g.canUserInstall)(t)||t.isPreorder()?this.renderGenericHeader():this.renderInstallationHeader()},o.renderBody=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,g.canUserInstall)(t)||t.isPreorder()?this.renderBlurbBody():this.renderInstallationBody()},o.render=function(){var e=this.props.application,t=this.state.confirmHeaderIndex;return M(v.default,{direction:v.default.Direction.VERTICAL,align:v.default.Align.CENTER},void 0,M(m.default,{game:e,className:N.default.icon,size:m.default.Sizes.LARGE}),M("div",{className:N.default.header},void 0,R()[t]),this.renderBlurb(),M("div",{className:N.default.divider}),this.renderBody())},r}(a.Component);b.displayName="PurchaseConfirmation";var P=o.default.connectStores([d.default,f.default,c.default,p.default],function(e){var t,n=e.application,r=c.default.getActiveLibraryApplication(n.id);t=null!=r?r.id:n.id;var a=f.default.getTargetBuildId(n.id,t);return{defaultInstallationPath:d.default.defaultInstallationPath,branchId:t,isFetchingBuild:f.default.isFetching(n.id,t),buildId:a,manifestIds:f.default.getTargetManifests(n.id,t),buildSizeKB:null!=a?f.default.getBuildSize(a):null,hasPreviouslyAcceptedStoreTerms:p.default.hasAcceptedStoreTerms}})(b);t.default=P},6532:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ADD_PAYMENT_REQUEST_STEPS=t.ADD_PAYPAL_STEPS=t.ADD_CARD_STEPS=t.ADD_PAYMENT_STEPS=t.REVIEW_PAYMENT_STEPS=void 0;var r,a=G(n(2)),o=U(n(3)),i=U(n(1)),l=G(n(238)),u=G(n(844)),s=G(n(5975)),d=(n(429),U(n(813)),U(n(306))),c=U(n(5943)),f=U(n(854)),p=U(n(5926)),h=U(n(240)),v=U(n(112)),m=U(n(5863)),_=U(n(158)),y=U(n(5879)),g=U(n(188)),E=U(n(8)),S=n(5892),T=n(313),I=U(n(6114)),O=U(n(6115)),N=U(n(5977)),C=n(6533),A=n(6534),M=n(6116),R=n(6535),b=n(6536),P=n(0),L=U(n(10)),D=U(n(852)),w=U(n(5238));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,l,"next",e)}function l(e){j(o,r,a,i,l,"throw",e)}i(void 0)})}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.REVIEW];t.REVIEW_PAYMENT_STEPS=x;var V=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.REVIEW];t.ADD_PAYMENT_STEPS=V;var Y=[S.Steps.PAYMENT_TYPE,S.Steps.CREDIT_CARD_INFORMATION,S.Steps.ADDRESS,S.Steps.REVIEW];t.ADD_CARD_STEPS=Y;var K=[S.Steps.PAYMENT_TYPE,S.Steps.PAYPAL,S.Steps.PAYPAL_ADDRESS,S.Steps.REVIEW];t.ADD_PAYPAL_STEPS=K;var W=[S.Steps.PAYMENT_TYPE,S.Steps.PAYMENT_REQUEST_INFO,S.Steps.REVIEW];t.ADD_PAYMENT_REQUEST_STEPS=W;var z=(0,T.cssValueToNumber)(D.default.innerPadding),$=function(e){var t,n;function r(){for(var t,n,r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return(n=e.call.apply(e,[this].concat(o))||this).state={hasAcceptedNeccessaryTerms:!1},n.handleToggleIsGift=function(e,t){var r=n.props.onIsGiftUpdate;null!=r&&r(t)},n.handlePurchaseTermsChange=function(e){n.setState({hasAcceptedNeccessaryTerms:e})},n.handleReopenPaypal=function(){u.reopenPayPalWindow()},n.handleCardInfoChange=function(e,t){i.default.wait(function(){return s.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){i.default.wait(function(){return s.updateAddressInfo(e,t)})},n.handleCreditCardAdd=B(regeneratorRuntime.mark(function e(){var t,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.creditCardInfo,a=t.billingAddressInfo,e.prev=1,e.next=4,l.createCardPaymentSource(F({},r,{billingAddress:a,type:P.PaymentSourceTypes.CARD,isDefault:!1}));case 4:o=e.sent,n.props.onPaymentSourceAdd(o.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,null,[[1,8]])})),n.handleStripePaymentRequestAdd=function(){var e=B(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.updateStripePaymentRequest(t),null!=t){e.next=4;break}return n.props.onBack(),e.abrupt("return");case 4:return e.prev=4,e.next=7,l.createPaymentRequestPaymentSource(t);case 7:r=e.sent,n.props.onPaymentSourceAdd(r.id),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.handlePaypalAdd=B(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.braintreeEmail,a=t.braintreeNonce,o=t.billingAddressInfo,0!==r.length&&null!=a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,l.createPaypalPaymentSource(a,o);case 6:i=e.sent,n.props.onPaymentSourceAdd(i.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,null,[[3,10]])})),n.renderBackButton=function(){var e=n.props,t=e.step,r=e.steps,a=e.paymentSources,o=e.onBack,i=(0,S.getStepIndex)(t,r),l=(0,S.canGoBack)(i,a)?L.default.Messages.BACK:L.default.Messages.CANCEL;return k(v.default,{look:v.default.Looks.LINK,className:w.default.backButton,color:w.default.backButtonColor,size:w.default.backButtonSize,onClick:o},void 0,l)},n.stepRenderer=F(((t={})[S.Steps.PAYMENT_TYPE]={renderBody:function(){var e=n.props,t=e.hidePersonalInformation,r=e.onChoosePaymentType,o=e.isGiftable,i=e.needsToBeGift,l=e.isGift;return t?k(y.default,{className:w.default.errorBlock},void 0,L.default.Messages.BILLING_ERROR_ADD_PAYMENT_SOURCE_STREAMER_MODE):k(a.Fragment,{},void 0,k(I.default,{className:w.default.choosePaymentSourceType,onChooseType:r,allowStripeRequestPayments:!E.default.embedded,onPaymentSourceReceived:n.handleStripePaymentRequestAdd}),o&&k(m.default,{disabled:i,className:w.default.giftToggle,type:m.default.Types.INVERTED,value:l,onChange:n.handleToggleIsGift},void 0,k("div",{className:w.default.checkboxLabel},void 0,L.default.Messages.BILLING_IS_GIFT_PURCHASE)))},renderFooter:function(){return k(g.default.Footer,{direction:_.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[S.Steps.PAYMENT_REQUEST_INFO]={renderBody:function(){return k(M.PaymentRequestStepBody,{className:w.default.formItem,stripePaymentSource:n.props.stripePaymentSource,submitting:n.props.submitting})},renderFooter:function(){return k(g.default.Footer,{direction:_.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[S.Steps.PAYPAL]={renderBody:function(){return k(O.default,{className:w.default.formItem})},renderFooter:function(){var e=n.props,t=e.submitting,r=e.braintreeNonce,a=e.braintreeEmail,o=e.onPaypalContinue,i=e.paypalClient;return k(R.PaypalStepFooter,{submitting:t||null==i,braintreeNonce:r,braintreeEmail:a,onPaypalContinue:o,onReopenPaypal:n.handleReopenPaypal,renderBackButton:n.renderBackButton})}},t[S.Steps.CREDIT_CARD_INFORMATION]={renderBody:function(){var e=n.props,t=e.creditCardInfo,r=e.billingError;return k(A.CreditCardInformationBody,{creditCardInfo:t,billingError:r,onCardInfoChange:n.handleCardInfoChange})},renderFooter:function(){var e=n.props,t=e.isCardInfoValid,r=e.submitting,a=e.onCreditCardContinue;return k(A.CreditCardInformationFooter,{isCardInfoValid:t,submitting:r,renderBackButton:n.renderBackButton,onCreditCardContinue:a})}},t[S.Steps.PAYPAL_ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return k(C.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return k(C.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handlePaypalAdd,renderBackButton:n.renderBackButton})}},t[S.Steps.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return k(C.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return k(C.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handleCreditCardAdd,renderBackButton:n.renderBackButton})}},t[S.Steps.REVIEW]={renderBody:function(){var e=n.props,t=e.legalNotice,r=e.paymentSources,a=e.price,o=e.hidePersonalInformation,i=e.defaultPaymentSourceId,l=e.paymentSourceId,u=e.onReviewPaymentSourceChange,s=e.isGiftable,d=e.isGift,c=e.needsToBeGift;return k(b.ReviewStepBody,{legalNotice:t,paymentSources:r,price:a,hidePersonalInformation:o,defaultPaymentSourceId:i,paymentSourceId:l,onPaymentSourceChange:u,onPurchaseTermsChange:n.handlePurchaseTermsChange,onToggleIsGift:n.handleToggleIsGift,isGiftable:s,isGift:d,needsToBeGift:c})},renderFooter:function(){var e=n.props,t=e.canSubmit,r=e.submitButtonText,a=e.useShinySubmitButton,o=e.isPurchasing,i=e.paymentSourceId,l=e.onPurchase,u=e.needsToBeGift,s=e.isGift,d=e.paymentSources;return k(b.ReviewStepFooter,{canSubmit:t,submitButtonText:r,useShinySubmitButton:a,isPurchasing:o,hasAcceptedTerms:n.state.hasAcceptedNeccessaryTerms,paymentSource:null!=i?d[i]:null,onPurchase:l,tooltipText:n.disabledTooltip,needsToBeGift:u,isGift:s})}},t[S.Steps.CONFIRM]={renderBody:P.NOOP_NULL,renderFooter:P.NOOP_NULL},t),n.props.extraRenderers),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,c,f=r.prototype;return f.componentDidMount=function(){u.createClient();var e=this.props,t=e.onPaymentSourceChange,n=e.paymentSources,r=e.defaultPaymentSourceId,a=e.paymentSourceId;null!=t&&(null!=a&&a!==r&&null!=n[a]?t(n[a]):null!=r&&null!=n[r]?t(n[r]):t(null))},f.componentDidUpdate=function(e){var t=this.props,n=t.onPaymentSourceChange,r=t.paymentSources,a=t.paymentSourceId;e.paymentSourceId!==a&&null!=a&&null!=r[a]&&n&&n(r[a])},f.componentWillUnmount=function(){u.teardown(),s.clearCardInfo();var e=this.props.onClearError;e&&e()},f.preventDefault=function(e){e.preventDefault()},f.renderHeader=function(){var e=this.props,t=e.renderHeader,n=e.billingError;return t(e.step,e.steps.map(function(e){return{id:e,label:(0,S.getCrumbLabels)(e)}}),null==(0,S.errorToStep)(n)?n:null)},f.render=function(){var e=this.props,t=e.size,n=e.step,r=e.steps,a=e.className,o=this.stepRenderer[n],i=o.renderBody();return k(g.default,{size:t,className:a,fullscreenOnMobile:!0},void 0,k("form",{className:w.default.form,onSubmit:this.preventDefault},void 0,this.renderHeader(),n!==S.Steps.CONFIRM?k("div",{className:w.default.divider}):null,null!=i&&k(g.default.Content,{outerClassName:w.default.modalContent,momentum:!0},void 0,k("div",{className:w.default.content},void 0,k(N.default,{step:n,steps:r,sideMargin:z},void 0,i))),o.renderFooter()))},o=r,(d=[{key:"disabledTooltip",get:function(){var e=this.props,t=e.needsToBeGift,n=e.isGift,r=e.isGiftable;return this.state.hasAcceptedNeccessaryTerms?t&&!n?r?L.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY:L.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY_UNGIFTABLE:null:L.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP}}])&&H(o.prototype,d),c&&H(o,c),r}(a.PureComponent);$.displayName="PaymentModal",$.defaultProps={canSubmit:!0,useShinySubmitButton:!1,isSubscription:!1,size:g.default.Sizes.SMALL,renderPrice:function(e){return e},billingError:null,extraRenderers:{},className:w.default.modal};var q=o.default.connectStores([h.default,p.default,c.default,d.default,f.default],function(){return{submitting:c.default.isBusy,paymentSources:h.default.paymentSources,defaultPaymentSourceId:h.default.defaultPaymentSourceId,stripePaymentSource:p.default.stripePaymentSource,creditCardInfo:p.default.getCreditCardInfo(),isCardInfoValid:p.default.isCardInfoValid,billingAddressInfo:p.default.getBillingAddressInfo(),isBillingAddressInfoValid:p.default.isBillingAddressInfoValid,braintreeEmail:p.default.braintreeEmail,braintreeNonce:p.default.braintreeNonce,billingError:p.default.error,paypalClient:f.default.getPayPalClient(),hidePersonalInformation:d.default.hidePersonalInformation}})($);t.default=q},6533:function(e,t,n){"use strict";t.__esModule=!0,t.AddressStepFooter=t.AddressStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(429),p(n(112))),i=p(n(158)),l=p(n(5879)),u=p(n(188)),s=n(5892),d=p(n(6053)),c=p(n(10)),f=p(n(5238));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.billingAddressInfo,n=e.billingError,r=e.onBillingAddressChange,o=null!=n&&(null==n.code||(0,s.errorToStep)(n)===s.Steps.ADDRESS);return v(a.Fragment,{},void 0,o?v(l.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,a.createElement(d.default,h({className:f.default.formItem,onBillingAddressChange:r,error:n},t)))};t.AddressStepBody=m,m.displayName="AddressStepBody";var _=function(e){var t=e.isBillingAddressInfoValid,n=e.submitting,r=e.onContinue,a=e.renderBackButton;return v(u.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,a(),v(o.default,{type:"submit",disabled:!t,submitting:n,onClick:r},void 0,c.default.Messages.NEXT))};t.AddressStepFooter=_,_.displayName="AddressStepFooter"},6534:function(e,t,n){"use strict";t.__esModule=!0,t.CreditCardInformationFooter=t.CreditCardInformationBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(429),p(n(112))),i=p(n(158)),l=p(n(5879)),u=p(n(188)),s=n(5892),d=p(n(6113)),c=p(n(10)),f=p(n(5238));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.creditCardInfo,n=e.billingError,r=e.onCardInfoChange,o=null!=n&&(null==n.code||(0,s.errorToStep)(n)===s.Steps.CREDIT_CARD_INFORMATION);return v(a.Fragment,{},void 0,o?v(l.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_CARD):null,a.createElement(d.default,h({className:f.default.formItem,onCardInfoChange:r,error:n},t)))};t.CreditCardInformationBody=m,m.displayName="CreditCardInformationBody";var _=function(e){var t=e.isCardInfoValid,n=e.submitting,r=e.renderBackButton,a=e.onCreditCardContinue;return v(u.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,r(),v(o.default,{type:"submit",disabled:!t,submitting:n,onClick:a},void 0,c.default.Messages.NEXT))};t.CreditCardInformationFooter=_,_.displayName="CreditCardInformationFooter"},6535:function(e,t,n){"use strict";t.__esModule=!0,t.PaypalStepFooter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(112)),o=u(n(158)),i=u(n(188)),l=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.submitting,n=e.braintreeNonce,r=e.braintreeEmail,u=e.onPaypalContinue,d=e.onReopenPaypal,c=e.renderBackButton,f=0!==r.length&&null!=n;return s(i.default.Footer,{justify:o.default.Justify.BETWEEN,direction:o.default.Direction.HORIZONTAL},void 0,c(),s(a.default,{submitting:t,look:f?a.default.Looks.FILLED:a.default.Looks.OUTLINED,onClick:f?u:d},void 0,f?l.default.Messages.NEXT:l.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN))};t.PaypalStepFooter=d,d.displayName="PaypalStepFooter"},6536:function(e,t,n){"use strict";t.__esModule=!0,t.ReviewStepFooter=t.ReviewStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(_(n(813)),_(n(112))),i=_(n(5863)),l=_(n(188)),u=_(n(5911)),s=_(n(426)),d=n(796),c=n(815),f=_(n(5984)),p=_(n(6176)),h=_(n(6156)),v=(n(0),_(n(10))),m=_(n(5238));function _(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.legalNotice,n=e.paymentSources,r=e.price,o=e.hidePersonalInformation,l=e.defaultPaymentSourceId,u=e.paymentSourceId,s=e.isGiftable,_=e.isGift,y=e.needsToBeGift,E=e.onPaymentSourceChange,S=e.onPurchaseTermsChange,T=e.onToggleIsGift,I=[],O=null!=u?n[u]:null;return null!=O&&O.invalid&&I.push(g(f.default,{icon:f.default.Icons.WARNING_BOX,color:f.default.Colors.ERROR,iconSize:f.default.Sizes.NONE,iconClassName:m.default.invalidIcon},"source_invalid",v.default.Messages.BILLING_PAYMENT_SOURCE_INVALID)),null!=r&&(r.taxInclusive?I.push(g(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_included",v.default.Messages.BILLING_SALES_TAX_INCLUDED)):r.tax>0&&I.push(g(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_added",v.default.Messages.BILLING_SALES_TAX_ADDED.format({tax:(0,c.formatPrice)(r.tax,r.currency)})))),g(a.Fragment,{},void 0,g(d.FormTitle,{className:m.default.formTitle},void 0,v.default.Messages.BILLING_PAY_FOR_IT_WITH),g(p.default,{paymentSources:Object.values(n),defaultPaymentSourceId:l,selectedPaymentSourceId:u,hidePersonalInformation:o,onChange:E}),I,s&&g(i.default,{disabled:y,className:m.default.giftToggle,type:i.default.Types.INVERTED,value:_,onChange:T},void 0,g("div",{className:m.default.checkboxLabel},void 0,v.default.Messages.BILLING_IS_GIFT_PURCHASE)),g(h.default,{onChange:S,forceShow:!0,className:m.default.purchaseTerms}),null!=t?g("div",{className:m.default.subscriptionLegal},void 0,t):null)};t.ReviewStepBody=E,E.displayName="ReviewStepBody";var S=function(e){var t=e.canSubmit,n=e.submitButtonText,r=e.useShinySubmitButton,i=e.isPurchasing,d=e.hasAcceptedTerms,c=e.paymentSource,f=e.onPurchase,p=e.tooltipText,h=e.needsToBeGift,v=e.isGift,_=d&&!(h&&!v)&&null!=c&&!c.invalid&&t,E={submitting:i,color:o.default.Colors.GREEN,disabled:!_,onClick:f};return g(l.default.Footer,{},void 0,g("div",{className:m.default.buyButtonTooltipWrapper},void 0,E.disabled&&null!=p?g(s.default,{text:p},void 0,g("div",{"aria-hidden":!0,className:m.default.buyButtonTooltipTarget})):null,r?a.createElement(u.default,E,n):a.createElement(o.default,y({type:"submit"},E),n)))};t.ReviewStepFooter=S,S.displayName="ReviewStepFooter"},6538:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(2)),a=o(n(6018));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var i=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).animationRef=r.createRef(),t.currentScene=t.props.scene,t.handleLoopComplete=function(){var e=t.props,n=e.onSceneComplete,r=e.scene;null!=n&&n(t.currentScene),t.playScene(r)},t.handleComplete=function(){var e=t.props.onSceneComplete;null!=e&&e(t.currentScene)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var e=this,t=this.props,n=t.importData,r=t.scene;n().then(function(t){null!=e.animationRef.current&&(e.animation=a.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(r))})},i.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy()},i.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForcePlayAfter()&&this.playScene(this.props.scene)},i.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter},i.playScene=function(e){var t=this.props,n=t.onScenePlay,r=t.sceneSegments[e];this.animation.playSegments([r.BEG,r.END],!0),this.currentScene=e,null!=n&&n(this.currentScene)},i.render=function(){return r.createElement("div",{ref:this.animationRef,className:this.props.className})},o}(r.PureComponent);i.displayName="SequencedLottieAnimation";var l=i;t.default=l},6539:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ShineAnimation=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=h(n(17)),u=h(n(163)),s=h(n(304)),d=n(5911),c=n(5986),f=n(0),p=h(n(5355));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=(0,c.hexWithOpacity)(f.Colors.WHITE,0),_=Object.freeze({DURATION:(r={},r[f.PremiumTypes.TIER_1]=1e3,r[f.PremiumTypes.TIER_2]=1500,r),DELAY:(a={},a[f.PremiumTypes.TIER_1]=400,a[f.PremiumTypes.TIER_2]=2200,a),FLASH_TIME_PERCENT:.72,FLASH_DURATION_PERCENT:.08}),y=(0,u.default)({ACTIVATED:null,UPGRADE:null}),g=v("svg",{viewBox:"0 0 224 20"},void 0,v("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),E=v("svg",{viewBox:"0 0 226 20"},void 0,v("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725C74.5330682 14.7676667 72.8127819 15.4689167 71.2293846 15.4689167 69.7550343 15.4689167 68.308104 14.7676667 68.4989891 13.3924583L69.4548911 6.86641667C69.6731962 5.43704167 71.3932716 4.70891667 72.9766689 4.70891667 74.5600663 4.70891667 75.9253695 5.43704167 75.7070644 6.86641667M73.733038.316416667L73.7334599.3135 63.4457009.3135C63.1828911.3135 62.9597348.503916667 62.9217687.760791667L62.4214599 4.13704167C62.374635 4.45266667 62.6224693 4.73579167 62.9453921 4.73579167L64.8240814 4.73579167C65.0130682 4.73579167 65.1421529 4.92620833 65.068119 5.097875 64.8335729 5.64058333 64.6629363 6.22995833 64.5680211 6.86641667L63.612119 13.3924583C62.983991 17.761 66.6702885 19.9451667 70.6833055 19.9451667 74.8880512 19.9451667 79.0105371 17.761 79.6386652 13.3924583L80.5939345 6.86641667C81.2096181 2.584125 77.6536708.401 73.733038.316416667M11.9335684 9.250375L11.9862991 12.4180833C11.9873537 12.4832917 11.9430599 12.5405833 11.8791503 12.556625L11.8791503 12.556625 10.7895232 8.73558333C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.900791667C7.31921055.708291667 7.12769266.583291667 6.91550433.583291667L3.08430282.583291667C2.82001657.583291667 2.59643842.775583333 2.55973785 1.03391667L.0052519774 19.0801667C-.0392527307 19.39475.207948776 19.6755833.529606026 19.6755833L4.34625386 19.6755833C4.61075104 19.6755833 4.83475104 19.482875 4.87081883 19.2239167L5.87143653 12.0545417C5.87228023 12.0474583 5.87270207 12.040375 5.87270207 12.0332917L5.81807307 8.34933333 5.92712015 8.32266667 7.07158719 12.1435C7.07327458 12.149125 7.07517288 12.1543333 7.07749303 12.1595417L10.2394365 19.3605833C10.3233838 19.5518333 10.5142689 19.6755833 10.7251917 19.6755833L14.8582237 19.6755833C15.1222991 19.6755833 15.3460881 19.4832917 15.3827887 19.2249583L17.9376964 1.17870833C17.9824121.864125 17.7349996.583291667 17.4133424.583291667L13.622849.583291667C13.3587736.583291667 13.1349846.775375 13.098284 1.03370833L11.9348339 9.2285C11.9339902 9.23579167 11.9333574 9.24308333 11.9335684 9.250375M19.3200844 19.6755625L23.1375759 19.6755625C23.4018621 19.6755625 23.6254403 19.4832708 23.6621409 19.2249375L26.2166267 1.1786875C26.2613424.864104167 26.0139299.583270833 25.6922727.583270833L21.8747812.583270833C21.6104949.583270833 21.3869168.7755625 21.3502162 1.03389583L18.7957303 19.0801458C18.7510147 19.3947292 18.9984271 19.6755625 19.3200844 19.6755625M28.7952422 1.00375L28.2951443 4.37979167C28.2483194 4.695625 28.4959427 4.97854167 28.8190765 4.97854167L32.8137431 4.97854167C33.1347676 4.97854167 33.38218 5.25875 33.3383081 5.57291667L31.456455 19.08125C31.4125831 19.3954167 31.6597846 19.675625 31.98102 19.675625L35.8537733 19.675625C36.1182704 19.675625 36.3422704 19.4827083 36.3783382 19.22375L38.3000557 5.43041667C38.3361235 5.17145833 38.5599126 4.97854167 38.8246207 4.97854167L43.1196414 4.97854167C43.3824512 4.97854167 43.6053966 4.78833333 43.6435736 4.53145833L44.1440934 1.15520833C44.1909183.839583333 43.943084.556458333 43.6201612.556458333L29.3191744.556458333C29.0563646.556458333 28.8332083.746875 28.7952422 1.00375M55.8577748 7.243875C55.7210968 8.3495 54.8476655 9.45491667 53.3456844 9.45491667L51.0890215 9.45491667C50.7669424 9.45491667 50.5195299 9.17345833 50.5648783 8.85845833L51.0424075 5.53595833C51.0795299 5.27804167 51.3031081 5.086375 51.5667616 5.086375L53.9736015 5.086375C55.4207427 5.086375 55.9940309 6.08429167 55.8577748 7.243875M54.5196806.58325L47.2540234.58325C46.989948.58325 46.7661589.775541667 46.7296693 1.033875L44.1749725 19.080125C44.1304678 19.3947083 44.3778802 19.6755417 44.6993266 19.6755417L48.5708143 19.6755417C48.8353115 19.6755417 49.0593115 19.4828333 49.0953793 19.223875L49.8471081 13.833875C49.8652475 13.7042917 49.9772475 13.6080417 50.109496 13.6080417L50.6072738 13.6080417C50.6975488 13.6080417 50.781496 13.6534583 50.8302192 13.7284583L54.5274847 19.4345C54.6247202 19.5847083 54.7928256 19.6755417 54.9733755 19.6755417L59.755206 19.6755417C60.1835902 19.6755417 60.4345883 19.1992917 60.1890742 18.852625L56.3091495 13.3747083C56.2161326 13.24325 56.2640121 13.0605417 56.4099706 12.990125 58.8868369 11.7945 60.3253303 10.5695 60.7994847 7.16283333 61.345142 2.68658333 58.5061213.58325 54.5196806.58325M93.6422924.838906711L91.945537 12.8961538C91.7301524 14.4307692 92.995537 15.1846154 94.3686139 15.1846154 95.795537 15.1846154 97.195537 14.4307692 97.4109216 12.8961538L99.1272873.699554828C99.1620169.45276435 99.3731866.269230769 99.6224088.269230769L103.485633.269230769C103.761775.269230769 103.985633.493088394 103.985633.769230769 103.985633.792541409 103.984002.815823514 103.980754.838906711L102.283999 12.8961538C101.664768 17.3653846 97.5186139 19.6 93.7224601 19.6 89.8993831 19.6 86.4532293 17.3653846 87.0724601 12.8961538L88.7888258.699554828C88.8235554.45276435 89.0347251.269230769 89.2839473.269230769L93.147171.269230769C93.4233133.269230769 93.647171.493088394 93.647171.769230769 93.647171.792541409 93.6455408.815823514 93.6422924.838906711zM104.32898 18.7615276L106.854535.699989164C106.889071.453003281 107.100328.269230769 107.349717.269230769L114.533999.269230769C119.191691.269230769 120.941691 3.68846154 120.564768 7.13461538 120.160922 10.7423077 117.495537 13.7576923 112.891691 13.7576923L110.284218 13.7576923C110.034879 13.7576923 109.823647 13.9413937 109.789053 14.1883215L109.128944 18.9001401C109.09435 19.1470678 108.883118 19.3307692 108.633779 19.3307692L104.824163 19.3307692C104.54802 19.3307692 104.324163 19.1069116 104.324163 18.8307692 104.324163 18.807605 104.325773 18.7844687 104.32898 18.7615276zM111.018196 9.47692308L113.241691 9.47692308C114.749383 9.50384615 115.610922 8.29230769 115.77246 7 115.933999 5.73461538 115.314768 4.76538462 113.914768 4.76538462L111.548415 4.76538462C111.29959 4.76538462 111.08863 4.94834957 111.053441 5.19467394L110.523221 8.9062124C110.484168 9.1795794 110.674118 9.43284539 110.947485 9.47189782 110.970907 9.47524377 110.994536 9.47692308 111.018196 9.47692308zM136.745537 4.06538462L132.437845 5.92307692C132.141691 4.79230769 131.118614 4.28076923 130.041691 4.28076923 128.695537 4.28076923 127.268614 5.08846154 127.080152 6.46153846L126.164768 13.0038462C125.976306 14.4576923 127.214768 15.1846154 128.641691 15.1846154 130.041691 15.1846154 131.549383 14.4576923 131.737845 13.0038462L131.770059 12.7622357C131.806555 12.4885157 131.614247 12.2370359 131.340527 12.2005399 131.318621 12.1976191 131.296545 12.1961538 131.274445 12.1961538L129.376392 12.1961538C129.10025 12.1961538 128.876392 11.9722962 128.876392 11.6961538 128.876392 11.6734553 128.877938 11.650783 128.881018 11.6282944L129.282493 8.6975252C129.316412 8.44991846 129.527948 8.26538462 129.777867 8.26538462L136.441959 8.26538462C136.718101 8.26538462 136.941959 8.48924224 136.941959 8.76538462 136.941959 8.78798122 136.940427 8.81055182 136.937374 8.83294122L136.368614 13.0038462C135.749383 17.3923077 131.737845 19.6 127.914768 19.6 124.145537 19.6 120.726306 17.3923077 121.345537 13.0038462L122.260922 6.46153846C122.880152 2.01923077 126.918614.81188398e-13 130.687845.81188398e-13 133.164768.81188398e-13 135.857075 1.02307692 136.745537 4.06538462zM148.966496 19.1002961L145.384578 13.5035501C145.292674 13.3599501 145.133934 13.2730769 144.963443 13.2730769L144.806306 13.2730769C144.559438 13.2730769 144.350437 13.4552565 144.316742 13.6998149L143.600408 18.8990134C143.566317 19.1464475 143.354859 19.3307692 143.105087 19.3307692L139.242624 19.3307692C138.966482 19.3307692 138.742624 19.1069116 138.742624 18.8307692 138.742624 18.807605 138.744234 18.7844687 138.747442 18.7615276L141.272996.699989164C141.307532.453003281 141.51879.269230769 141.768179.269230769L148.95246.269230769C152.883229.269230769 155.683229 2.36923077 155.144768 6.83846154 154.660152 10.3653846 153.15246 11.55 150.540922 12.7884615L154.567536 18.5441512C154.725831 18.7704196 154.670727 19.0821696 154.444459 19.2404644 154.360439 19.2992434 154.26038 19.3307692 154.157841 19.3307692L149.387631 19.3307692C149.21714 19.3307692 149.0584 19.243896 148.966496 19.1002961zM145.543846 9.12692308L147.794768 9.12692308C149.275537 9.12692308 150.137075 8.02307692 150.271691 6.91923077 150.406306 5.76153846 149.840922 4.76538462 148.413999 4.76538462L146.021102 4.76538462C145.772113 4.76538462 145.561066 4.94858458 145.526066 5.19510177L145.048811 8.55664023C145.009995 8.83004089 145.200163 9.08314261 145.473564 9.12195875 145.496845 9.12526419 145.520331 9.12692308 145.543846 9.12692308zM170.032717.662958649L173.961357 18.7244971C174.020049 18.99433 173.848886 19.2606525 173.579053 19.319345 173.544139 19.3269393 173.508511 19.3307692 173.472781 19.3307692L169.337886 19.3307692C169.097759 19.3307692 168.891541 19.1600672 168.846687 18.9241663L168.274387 15.9142952C168.229533 15.6783944 168.023315 15.5076923 167.783188 15.5076923L163.433783 15.5076923C163.23607 15.5076923 163.056925 15.624197 162.976744 15.8049217L161.544329 19.0335398C161.464149 19.2142645 161.285004 19.3307692 161.087291 19.3307692L157.044093 19.3307692C156.76795 19.3307692 156.544093 19.1069116 156.544093 18.8307692 156.544093 18.7546802 156.561459 18.6795947 156.594867 18.6112324L165.421551.549693986C165.505424.37806951 165.679754.269230769 165.870777.269230769L169.544141.269230769C169.779332.269230769 169.982728.43314177 170.032717.662958649zM165.527492 11.2269231L167.105323 11.2269231C167.381465 11.2269231 167.605323 11.0030655 167.605323 10.7269231 167.605323 10.7100689 167.604471 10.6932256 167.60277 10.6764575L167.10274 5.74759572C167.097339 5.6943553 167.052512 5.65384615 166.998999 5.65384615L166.998999 5.65384615C166.942301 5.65384615 166.891533 5.68896864 166.871541 5.74202454L165.059607 10.5506185C164.962237 10.8090244 165.092782 11.0974381 165.351188 11.1948084 165.407542 11.2160435 165.46727 11.2269231 165.527492 11.2269231zM179.412025.269230769L186.111691.269230769C189.934768.269230769 193.246306 2.20769231 192.627075 6.65L191.711691 13.0576923C191.09246 17.4461538 187.269383 19.3307692 183.446306 19.3307692L176.886471 19.3307692C176.610328 19.3307692 176.386471 19.1069116 176.386471 18.8307692 176.386471 18.807605 176.38808 18.7844687 176.391288 18.7615276L178.916842.699989164C178.951378.453003281 179.162636.269230769 179.412025.269230769zM182.353143 14.8076923L184.227075 14.8076923C185.546306 14.8076923 186.730922 14.0807692 186.865537 13.0576923L187.780922 6.65C187.915537 5.6 186.973229 4.76538462 185.653999 4.76538462L183.637975 4.76538462C183.389007 4.76538462 183.177972 4.94855369 183.142947 5.19504556L181.858116 14.2373533C181.819268 14.5107495 182.009408 14.7638728 182.282804 14.80272 182.306104 14.8060307 182.329609 14.8076923 182.353143 14.8076923zM200.238825 5.24852009L199.977836 7.07544317C199.938784 7.34881017 200.128733 7.60207616 200.4021 7.64112859 200.425522 7.64447454 200.449152 7.64615385 200.472811 7.64615385L207.049283 7.64615385C207.325426 7.64615385 207.549283 7.87001147 207.549283 8.14615385 207.549283 8.16907817 207.547707 8.19197536 207.544565 8.21468335L207.090622 11.4954526C207.056403 11.7427585 206.845002 11.9269231 206.59534 11.9269231L199.738225 11.9269231C199.489149 11.9269231 199.278056 12.1102473 199.243157 12.3568663L198.980821 14.2107125C198.942129 14.4841308 199.132413 14.7371457 199.405832 14.775837 199.42904 14.7791211 199.45245 14.7807692 199.475888 14.7807692L206.727496 14.7807692C207.003638 14.7807692 207.227496 15.0046269 207.227496 15.2807692 207.227496 15.3033218 207.22597 15.3258485 207.222929 15.348195L206.739793 18.898195C206.706068 19.1459962 206.494445 19.3307692 206.24436 19.3307692L193.982624 19.3307692C193.706482 19.3307692 193.482624 19.1069116 193.482624 18.8307692 193.482624 18.807605 193.484234 18.7844687 193.487442 18.7615276L196.012996.699989164C196.047532.453003281 196.25879.269230769 196.508179.269230769L208.770284.269230769C209.046426.269230769 209.270284.493088394 209.270284.769230769 209.270284.792751947 209.268624.81624381 209.265317.839531336L208.761175 4.38953134C208.726168 4.63604054 208.515124 4.81923077 208.266142 4.81923077L200.7338 4.81923077C200.484975 4.81923077 200.274015 5.00219572 200.238825 5.24852009zM212.338948.269230769L219.038614.269230769C222.861691.269230769 226.173229 2.20769231 225.553999 6.65L224.638614 13.0576923C224.019383 17.4461538 220.196306 19.3307692 216.373229 19.3307692L209.813394 19.3307692C209.537251 19.3307692 209.313394 19.1069116 209.313394 18.8307692 209.313394 18.807605 209.315003 18.7844687 209.318211 18.7615276L211.843765.699989164C211.878302.453003281 212.089559.269230769 212.338948.269230769zM215.280066 14.8076923L217.153999 14.8076923C218.473229 14.8076923 219.657845 14.0807692 219.79246 13.0576923L220.707845 6.65C220.84246 5.6 219.900152 4.76538462 218.580922 4.76538462L216.564898 4.76538462C216.315931 4.76538462 216.104895 4.94855369 216.069871 5.19504556L214.785039 14.2373533C214.746191 14.5107495 214.936331 14.7638728 215.209727 14.80272 215.233027 14.8060307 215.256532 14.8076923 215.280066 14.8076923z"})),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).animation=new s.default.Value(0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.animate()},a.animate=function(){var e=this.props.premiumType;s.default.timing(this.animation,{toValue:1,delay:_.DELAY[e],duration:_.DURATION[e]}).start()},a.getContainerStyle=function(){var e=_.FLASH_TIME_PERCENT,t=_.FLASH_DURATION_PERCENT,n=this.props.theme===f.ThemeTypes.DARK?f.Colors.WHITE:f.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,e,e,e+t,1],outputRange:[m,m,n,n,m]})}},a.getShineStyle=function(){return s.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},a.renderSvg=function(){return this.props.type===y.ACTIVATED?g:E},a.render=function(){return v(s.default.div,{className:(0,l.default)(p.default.container,this.props.className),style:this.getContainerStyle()},void 0,v(d.Shine,{className:p.default.shine,style:this.getShineStyle()}),this.renderSvg())},r}(i.PureComponent);t.ShineAnimation=S,S.displayName="ShineAnimation",S.Types=y;var T=S;t.default=T},6541:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Y(n(2)),o=V(n(4)),i=V(n(135)),l=V(n(3)),u=Y(n(808)),s=Y(n(826)),d=Y(n(315)),c=V(n(800)),f=(n(429),V(n(35))),p=V(n(6144)),h=V(n(42)),v=V(n(240)),m=V(n(5941)),_=V(n(319)),y=V(n(189)),g=V(n(5976)),E=V(n(112)),S=V(n(158)),T=V(n(5879)),I=V(n(302)),O=V(n(188)),N=n(6145),C=V(n(6146)),A=V(n(98)),M=V(n(18)),R=V(n(8)),b=n(5892),P=V(n(190)),L=V(n(45)),D=V(n(6142)),w=V(n(5984)),U=V(n(6542)),G=V(n(6015)),k=V(n(6143)),F=V(n(6147)),j=V(n(6148)),B=n(0),H=V(n(10)),x=V(n(5361));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var X=880,J="../../../images/store/gifting/gifting-pattern.png";function Q(e){if(e.interval!==B.SubscriptionIntervalTypes.DAY)throw new Error("Unexpected trial interval count");return(0,o.default)().add(e.intervalCount,"days").toDate()}var Z=function(){return q("div",{className:x.default.trialFreePeriodBadge},void 0,H.default.Messages.PREMIUM_PAYMENT_TRIAL_TWO_WEEKS_FREE)};Z.displayName="TrialFreePeriodBadge";var ee=q(Z,{}),te=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={paymentSource:null,hasInitialSubscriptionPlan:null!=t.props.subscriptionPlan,playingAnimationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,isPurchasing:!1},t._loadId=i.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=a.createRef(),t.closeAndPopLayers=function(){t.close(),u.popLayer()},t.handlePaymentSourceChange=function(e){t.setState({paymentSource:e})},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o,i,l,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.isGift,o=r.plan,i=r.skuId,l=r.trialId,t.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.BOOST_START,isPurchasing:!0}),u=null!=l,e.prev=3,M.default.track(B.AnalyticEvents.PAYMENT_FLOW_COMPLETED,K({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime,trial_period_length_days:u?B.SubscriptionTrials[B.PREMIUM_SUBSCRIPTION_TRIAL_ID].intervalCount:null})),!a||null==o){e.next=14;break}if(s=B.SubscriptionPlanInfo[o],null!=(c=s.price)){e.next=10;break}throw new Error("Price information is required on plan!");case 10:return e.next=12,d.purchaseSKU(B.PREMIUM_SUBSCRIPTION_APPLICATION,i,{expectedAmount:c,paymentSourceId:n.id,subscriptionPlanId:s.id,isGift:!0});case 12:e.next=16;break;case 14:return e.next=16,t.subscribe(n);case 16:t.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.BOOST_END,isPurchasing:!1}),e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(3),t.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.ERROR,isPurchasing:!1}),M.default.track(B.AnalyticEvents.PAYMENT_FLOW_FAILED,K({},t.getBaseAnalyticsData(),{payment_gateway:n.type===B.PaymentSourceTypes.CARD?B.PaymentGateways.STRIPE:B.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime})),e.t0;case 24:case"end":return e.stop()}},e,null,[[3,19]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,l,"next",e)}function l(e){W(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleConfirmContinue=function(){t.canInstallPremiumApplications&&(L.default.transitionTo(B.Routes.APPLICATION_STORE),u.popLayer()),t.close()},t.handleAnimationScenePlayTier1=function(e){return t.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},t.handleAnimationScenePlayTier2=function(e){return t.setState({animationSceneTier2:N.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},t.trackStepChange=function(e,n){var r=Date.now();M.default.track(B.AnalyticEvents.PAYMENT_FLOW_STEP,K({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:r-t._stepStartTime,flow_duration_ms:r-t._flowStartTime})),t._stepStartTime=r},t.renderAnimation=function(){var e=t.props.skuId;return B.PremiumSubscriptionSKUToPremiumType[e]===B.PremiumTypes.TIER_1?q(N.PremiumPaymentAnimationTier1,{className:x.default.headerAnimation,scene:t.state.animationSceneTier1,onScenePlay:t.handleAnimationScenePlayTier1}):q(N.PremiumPaymentAnimationTier2,{className:x.default.headerAnimation,scene:t.state.animationSceneTier2,onScenePlay:t.handleAnimationScenePlayTier2})},t.renderHeader=function(e,n,r){var a=t.props,o=a.paymentError,i=a.plan,l=a.isGift,u=a.application,s=a.skuId,d=B.PremiumSubscriptionSKUToPremiumType[s];if(l&&e===b.Steps.CONFIRM)return q(G.default,{application:u,splashSize:X,overrideSplash:J});var c=o||r;return q(O.default.Header,{className:x.default.header,direction:S.default.Direction.VERTICAL,align:S.default.Align.START,separator:!1},void 0,q(j.default,{hideCloseOnFullScreen:!0,shouldShowPrice:!0,isGift:l,upgradeToPremiumType:d,plan:i,renderAnimation:t.renderAnimation,onClose:t.close}),null==c||t.shouldShake()?null:q(T.default,{className:x.default.errorBlock},void 0,c.message),l?q(w.default,{className:x.default.headerNote,iconSize:w.default.Sizes.SMALL,icon:I.default.Names.GIFT,color:w.default.Colors.PRIMARY},void 0,H.default.Messages.PREMIUM_PAYMENT_IS_GIFT):null,e===b.Steps.CONFIRM||d!==B.PremiumTypes.TIER_2||R.default.isWindows()?null:q(w.default,{className:x.default.headerNote,icon:w.default.Icons.WARNING_BOX,iconSize:w.default.Sizes.SMALL,color:w.default.Colors.WARNING},void 0,H.default.Messages.PREMIUM_PAYMENT_APPLICATIONS_OS_WARNING),e!==b.Steps.CONFIRM&&n.length>1?q(g.default,{activeId:e,breadcrumbs:n}):null)},t.renderConfirmationBody=function(){var e=t.props,n=e.theme,r=e.isGift,a=e.subscriptionPlan,o=e.followupSKU,i=e.giftCode;if(null!=a){if(r&&null!=i)return t.renderGiftConfirmationBody(a,i);var l=a.premiumSubscriptionType;if(null==l)throw new Error("Premium type cannot be null");return q(F.default,{premiumType:l,theme:n,followupSKU:o,onClose:t.close,onViewGames:t.handleConfirmContinue})}return null},t.handleSelectPlan=function(e,t){s.selectPlan(e.id),t()},t.handlePremiumClick=function(){t.close(),c.default.open(B.UserSettingsSections.PREMIUM)},t.renderSelectPlanBody=function(e){var n=t.props,r=n.subscriptionPlans,a=n.trialId,o=n.isGift,i=n.isGiftingFromChat,l=null!=a;return q("div",{className:x.default.selectPlan},void 0,i?q("div",{className:x.default.giftBlurb},void 0,H.default.Messages.PREMIUM_PAYMENT_GIFT_BLURB.format({onClick:t.handlePremiumClick})):null,q("div",{className:x.default.selectPlanHeader},void 0,q(A.default,{tag:A.default.Tags.H5,className:x.default.selectPlanTitle},void 0,o?H.default.Messages.BILLING_PAYMENT_CHOOSE_GIFT:H.default.Messages.BILLING_PAYMENT_CHOOSE_PLAN),l?ee:null),l?q("div",{className:x.default.trialText},void 0,H.default.Messages.PREMIUM_PAYMENT_TRIAL_BLURB.format({endsAt:Q(B.SubscriptionTrials[B.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null,q(U.default,{subscriptionPlans:r,isTrial:l,isGift:o,onSelect:function(n){return t.handleSelectPlan(n,e)}}),l?q("div",{className:x.default.trialNote},void 0,H.default.Messages.PREMIUM_PAYMENT_TRIAL_NOTE.format({endsAt:Q(B.SubscriptionTrials[B.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null)},t.renderSelectPlanFooter=function(){return q(O.default.Footer,{direction:S.default.Direction.HORIZONTAL},void 0,q(E.default,{look:E.default.Looks.LINK,className:x.default.backButton,color:x.default.backButtonColor,size:x.default.backButtonSize,onClick:t.close},void 0,H.default.Messages.CANCEL))},t}$(t,e);var n,r,o,l=t.prototype;return l.componentDidMount=function(){var e=this.props,t=e.followupSKU,n=e.followupSKUInfo;if(null!=n&&null==t){var r=n.applicationId,a=n.id;d.fetchSKU(r,a).catch(B.NOOP_NULL)}M.default.track(B.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},l.close=function(){s.closeModal()},l.getBaseAnalyticsData=function(){var e=this.getPrice(),t=this.props,n=t.plan,r=t.subscriptionPlan;return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:n,subscription_type:B.SubscriptionTypes.PREMIUM,subscription_plan_id:null!=r?r.id:null,price:null!=e?e.amount:null,regular_price:null!=e?e.amount:null,currency:null!=e?e.currency:null,is_gift:this.props.isGift,location:this.props.analyticsLocation}},l.getLegalNotice=function(){var e=this.props,t=e.isGift,n=e.skuId;if(t)return H.default.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT;var r=this.getInterval(),a=P.default.getDisplayPremiumTypeForSku(n);switch(r){case B.SubscriptionIntervalTypes.MONTH:return H.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:B.MarketingURLs.TERMS,planPremiumType:a});case B.SubscriptionIntervalTypes.YEAR:return H.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:B.MarketingURLs.TERMS,planPremiumType:a})}},l.getSubmitText=function(){var e=this.props,t=e.skuId,n=e.subscriptionMode,r=e.isGift,a=P.default.getDisplayPremiumTypeForSku(t);if(r)return H.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT.format({planPremiumType:a});switch(n){case B.PremiumPaymentSubscriptionModes.NEW:return H.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:a});case B.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return H.default.Messages.RESUBSCRIBE;default:return null}},l.getPrice=function(){var e=this.props.plan;return null!=e?P.default.getPrice(e):null},l.getInterval=function(){var e=this.props.plan;return null!=e?P.default.getInterval(e):null},l.subscribe=function(e){var t=this.props,n=t.subscriptionMode,r=t.plan,a=t.subscription,o=t.trialId;if(n===B.PremiumPaymentSubscriptionModes.NEW)return s.subscribe(r,e,o);if(n===B.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=a)return s.resubscribe(a,e);throw new Error("Failed to subscribe")},l.shouldShake=function(){var e=this.props.giftCode,t=this.state,n=t.playingAnimationSceneTier1,r=t.playingAnimationSceneTier2;return null==e&&(N.ShakeScenes.has(n)||N.ShakeScenes.has(r))},l.renderGiftConfirmationBody=function(e,t){var n=this.props.application;return q(S.default,{direction:S.default.Direction.VERTICAL,className:x.default.giftConfirmation},void 0,q(O.default.CloseButton,{onClick:this.close,className:x.default.confirmationCloseButton}),q(k.default,{giftCode:t,application:n,subscriptionPlan:e,onClose:this.closeAndPopLayers}))},l.render=function(){var e=this.props,t=e.isGift,n=e.subscriptionPlan,r=this.state.hasInitialSubscriptionPlan,o=this.shouldShake();return q(C.default,{className:x.default.fullscreenOnMobile,isShaking:o,intensity:2},void 0,a.createElement(D.default,{useShinySubmitButton:!0,ref:this._paymentModalRef,canSubmit:!t||null!=n,isGift:t,isPurchasing:this.state.isPurchasing||o,legalNotice:this.getLegalNotice(),price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:s.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,renderSelectPlanBody:this.renderSelectPlanBody,renderSelectPlanFooter:this.renderSelectPlanFooter,submitButtonText:this.getSubmitText(),onStepChange:this.trackStepChange,initialStep:r?null:b.Steps.SELECT_PLAN,prependSteps:r?null:[b.Steps.SELECT_PLAN]}))},n=t,(r=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"premiumType",get:function(){return B.PremiumSubscriptionSKUToPremiumType[this.props.skuId]}},{key:"canInstallPremiumApplications",get:function(){return this.premiumType===B.PremiumTypes.TIER_2}}])&&z(n.prototype,r),o&&z(n,o),t}(a.Component);te.displayName="PremiumPayment",te.defaultProps={withTrial:!1};var ne=l.default.connectStores([v.default,_.default,p.default,h.default,m.default,y.default,f.default],function(){var e=_.default.getPremiumSubscription(),t=null!=e?e.paymentGateway:null,n=p.default.skuId,r=p.default.followupSKUInfo,a=p.default.plan,o=null!=a?m.default.get(B.SubscriptionPlanInfo[a].id):null;if(null==n)throw new Error("Provide SKU ID for purchase");return{application:f.default.getGame(B.PREMIUM_SUBSCRIPTION_APPLICATION),subscription:e,subscriptionPlans:m.default.getForSKU(n),subscriptionPlan:o,subscriptionMode:p.default.subscriptionMode,skuId:n,followupSKU:null!=r?y.default.get(r.id):null,followupSKUInfo:r,trialId:p.default.trialId,plan:p.default.plan,paymentSourceType:t,paymentError:p.default.paymentError,theme:h.default.theme,isGift:p.default.isGift,isGiftingFromChat:p.default.isGiftingFromChat,giftCode:p.default.giftCode,analyticsLocation:p.default.analyticsLocation}},{forwardRef:!0})(te),re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.close=function(){null!=t.ref.current&&t.ref.current.closable&&t.ref.current.close()},t}return $(t,e),t.prototype.render=function(){return a.createElement(ne,{ref:this.ref})},t}(a.PureComponent);re.displayName="PremiumPaymentModal",re.modalConfig={store:p.default,closable:!0};var ae=re;t.default=ae},6542:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(4)),o=c(n(112)),i=c(n(158)),l=n(815),u=n(0),s=c(n(10)),d=c(n(5360));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){switch(e){case u.SubscriptionIntervalTypes.YEAR:return"years";case u.SubscriptionIntervalTypes.MONTH:return"months";case u.SubscriptionIntervalTypes.DAY:return"days";default:throw new Error("Unexpected interval")}}function h(e,t){return a.default.duration(t.intervalCount,p(t.interval)).asSeconds()-a.default.duration(e.intervalCount,p(e.interval)).asSeconds()}var v=function(){return f("div",{className:d.default.annualDiscount},void 0,"-16%")};v.displayName="AnnualDiscount";var m=f(v,{}),_=function(e){var t=e.subscriptionPlan,n=e.onSelect,r=e.isTrial,a=e.isGift,c=t.interval===u.SubscriptionIntervalTypes.YEAR;return f(i.default,{align:i.default.Align.CENTER,className:d.default.option},void 0,f(i.default.Child,{grow:1},void 0,f("div",{className:d.default.priceRow},void 0,f("div",{className:d.default.price},void 0,(0,l.formatPrice)(t.price,t.currency)),c?m:null),f("div",{className:d.default.interval},void 0,function(e,t){if(t)switch(e){case u.SubscriptionIntervalTypes.YEAR:return s.default.Messages.PAYMENT_MODAL_ONE_YEAR;case u.SubscriptionIntervalTypes.MONTH:return s.default.Messages.PAYMENT_MODAL_ONE_MONTH;default:throw new Error("Unexpected interval")}switch(e){case u.SubscriptionIntervalTypes.YEAR:return s.default.Messages.PAYMENT_MODAL_PER_YEAR;case u.SubscriptionIntervalTypes.MONTH:return s.default.Messages.PAYMENT_MODAL_PER_MONTH;default:throw new Error("Unexpected interval")}}(t.interval,a))),f(o.default,{color:c?o.default.Colors.GREEN:o.default.Colors.PRIMARY,className:d.default.selectButton,onClick:function(){return n(t)}},void 0,r?s.default.Messages.PREMIUM_PAYMENT_START_TRIAL:s.default.Messages.PREMIUM_PAYMENT_SELECT))};_.displayName="PlanSelectorOption";var y=function(e){var t=e.subscriptionPlans,n=e.onSelect,r=e.isTrial,a=e.isGift;return f("div",{},void 0,t.sort(h).map(function(e){return f(_,{subscriptionPlan:e,onSelect:n,isTrial:r,isGift:a},e.id)}))};y.displayName="PlanSelector";var g=y;t.default=g},6545:function(e,t,n){"use strict";t.__esModule=!0,t.makeAnalyticsTrackers=function(e){return{trackView:function(){r.default.track(l.AnalyticEvents.NOTIFICATION_VIEWED,e)},trackClick:function(t){var n=o.default.isInstanceUILocked()?l.AnalyticsLocations.LOCKED_OVERLAY:l.AnalyticsLocations.UNLOCKED_OVERLAY;r.default.track(l.AnalyticEvents.NOTIFICATION_CLICKED,s({},e,{location:n,action_type:t}))}}},t.getOverlayKeybind=function(){var e=a.default.getOverlayKeybind();return null!=e?(0,i.toString)(e.shortcut,!0).split(" + "):["???"]};var r=u(n(316)),a=u(n(5951)),o=u(n(195)),i=n(243),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6560:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then(function(e){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})},function(){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})})},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=l},6561:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(5971))&&r.__esModule?r:{default:r},i=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props;(0,n.onChange)(!n.value,e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.value,n=e.activeSrc,r=e.inactiveSrc,i=e.activeSrcHover,u=e.inactiveSrcHover,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","activeSrc","inactiveSrc","activeSrcHover","inactiveSrcHover"]),d=t?n:r,c=t?i:u;return a.createElement(o.default,l({},s,{onClick:this.handleClick,src:d,srcHover:c}))},r}(a.PureComponent);u.displayName="ToggleIcon",u.defaultProps={value:!1,size:o.default.Sizes.MEDIUM,onChange:i.NOOP};var s=u;t.default=s},6562:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={show:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_SHOW,tutorialId:e,renderData:t})},hide:function(e){a.default.dirtyDispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_HIDE,tutorialId:e})},dismiss:function(e){a.default.dispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_DISMISS,tutorialId:e}),r.default.put(o.Endpoints.TUTORIAL_INDICATOR(e))},suppressAll:function(){a.default.dispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_SUPPRESS_ALL}),r.default.post(o.Endpoints.TUTORIAL_INDICATORS_SUPPRESS)}};t.default=l},6563:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(231)),i=s(n(302)),l=n(0),u=s(n(5370));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Object.freeze({DEFAULT:"",BOLD:"Bold"}),f=function(e){var t,n,r=e.closeAction,s=e.theme,f=e.variant,p=e.keybind;return d("div",{className:u.default.container},void 0,d(o.default,{className:(0,a.default)(u.default.closeButton,(t={},t[u.default.closeButtonBold]=f===c.BOLD,t)),onClick:r},void 0,d(i.default,{name:i.default.Names.CLOSE,color:l.ThemeTypes.DARK===s?l.Colors.PRIMARY_DARK_200:l.Colors.PRIMARY_DARK_400,width:18,height:18})),d("div",{className:(0,a.default)(u.default.keybind,(n={},n[u.default.keybindBold]=f===c.BOLD,n))},void 0,p))};f.displayName="CloseIconWithKeybind",f.defaultProps={variant:c.DEFAULT},f.Variants=c;var p=f;t.default=p},6571:function(e,t,n){e.exports=n.p+"59c726954bd8424f376ca3a7eedc4c54.svg"},6572:function(e,t,n){e.exports=n.p+"fe5ef0f14b8d025d73465e2d76913e20.svg"},6603:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},6604:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=n(0),l=u(n(5389));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=Object.freeze({SMALL:1,MEDIUM:2,LARGE:4}),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCircle=function(){var e=this.props,t=e.strokeSize,n=e.percent,r=e.colorOverride,a=e.background,u=Math.min(Math.max(n,0),100),d=(20-t)/2,c=d*Math.PI*2;return s("svg",{viewBox:"0 0 20 20",className:l.default.circle},void 0,s("circle",{className:(0,o.default)(l.default.circleBackground,a),cx:10,cy:10,r:d,strokeWidth:t+"px"}),s("circle",{className:l.default.circleProgress,cx:10,cy:10,r:d,strokeWidth:t+"px",strokeLinecap:"round",transform:"rotate(-90 10 10)",stroke:null!=r?r:i.Colors.LINK,style:{strokeDasharray:c,strokeDashoffset:(1-u/100)*c}}))},a.render=function(){var e=this.props,t=e.className,n=e.children;return s("div",{className:(0,o.default)(l.default.progressCircle,t)},void 0,this.renderCircle(),null!=n?s("div",{className:l.default.circleOverlay},void 0,n):null)},r}(a.Component);c.displayName="ProgressCircle",c.StrokeSizes=d,c.defaultProps={strokeSize:d.MEDIUM};var f=c;t.default=f},6605:function(e,t,n){"use strict";t.__esModule=!0,t.generateVerificationLevelOptions=function(){return[{name:o.default.Messages.VERIFICATION_LEVEL_NONE,desc:o.default.Messages.VERIFICATION_LEVEL_NONE_CRITERIA,value:a.VerificationLevels.NONE},{name:o.default.Messages.VERIFICATION_LEVEL_LOW,desc:o.default.Messages.VERIFICATION_LEVEL_LOW_CRITERIA,value:a.VerificationLevels.LOW,color:a.Colors.STATUS_GREEN},{name:o.default.Messages.VERIFICATION_LEVEL_MEDIUM,desc:o.default.Messages.VERIFICATION_LEVEL_MEDIUM_CRITERIA.format({min:a.VerificationCriteria.ACCOUNT_AGE}),value:a.VerificationLevels.MEDIUM,color:a.Colors.STATUS_YELLOW},{name:"(╯°□°）╯︵ ┻━┻",desc:o.default.Messages.VERIFICATION_LEVEL_HIGH_CRITERIA.format({min:a.VerificationCriteria.MEMBER_AGE}),value:a.VerificationLevels.HIGH,color:a.UNSAFE_Colors.ORANGE},{name:"┻━┻ ﾐヽ(ಠ益ಠ)ノ彡┻━┻",desc:o.default.Messages.VERIFICATION_LEVEL_VERY_HIGH_CRITERIA,value:a.VerificationLevels.VERY_HIGH,color:a.Colors.STATUS_RED}]},t.generateContentFilterOptions=function(){return[{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.DISABLED},{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES},{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.ALL_MEMBERS}]},t.generateDMSafetyOptions=function(){return[{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS_HELP,value:a.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS,color:a.Colors.STATUS_GREEN},{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS_HELP,value:a.ExplicitContentFilterTypes.NON_FRIENDS,color:a.Colors.STATUS_YELLOW},{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED_HELP,value:a.ExplicitContentFilterTypes.DISABLED,color:a.Colors.STATUS_RED}]};var r,a=n(0),o=(r=n(10))&&r.__esModule?r:{default:r}},6606:function(e,t,n){e.exports=n.p+"4bc527c257233fc69b94342d77bcb9ee.svg"},6607:function(e,t,n){e.exports=n.p+"896770bf2d6ed0358ed0adefdbe96a24.svg"},6608:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(5994)),i=g(n(20)),l=g(n(23)),u=g(n(14)),s=g(n(436)),d=g(n(188)),c=n(6463),f=g(n(427)),p=g(n(98)),h=g(n(5893)),v=n(0),m=g(n(10)),_=g(n(5235)),y=g(n(5394));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=[];return s.default.getPrivateChannelIds().forEach(function(n){var r=i.default.getChannel(n);if(null!=r)if(r.type===v.ChannelTypes.DM){var a=r.getRecipientId(),o=null!=a?u.default.getUser(a):null;null!=o&&t.push(e.createResult(v.AutocompleterResultTypes.USER,o))}else r.type===v.ChannelTypes.GROUP_DM&&t.push(e.createResult(v.AutocompleterResultTypes.GROUP_DM,r))}),t}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={autocompleter:null,results:[],query:"",selectedRow:0,sendingRecordId:null,keyboardMode:!0},t.close=function(){var e=t.props.onClose;null!=e&&e()},t.handleKeyDown=function(){t.state.keyboardMode||t.setState({keyboardMode:!0})},t.disableKeyboardMode=function(){t.setState({keyboardMode:!1})},t.handleMouseEnter=function(e){t.state.keyboardMode||t.setState({selectedRow:e})},t.handleSend=function(e){var n=t.props,r=n.sendToChannel,a=n.sendToUser,o=t.state.results[e],i=null!=o?o.record:null,l=t.state.sendingRecordId;if(null!=i&&null!=i.id&&null!=o&&null==l)switch(t.setState({sendingRecordId:i.id}),o.type){case v.AutocompleterResultTypes.GROUP_DM:case v.AutocompleterResultTypes.TEXT_CHANNEL:r(o);break;case v.AutocompleterResultTypes.USER:a(o)}},t.handleSelect=function(e,n){null==n?t.handleClear():t.handleSend(n)},t.handleSelectionChange=function(e,n){t.setState({selectedRow:n})},t.handleQueryChange=function(e){t.query(e)},t.handleClear=function(){t.query("")},t._handleModalRef=function(e){t._modal=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this,t=new o.default(function(t){var n=t.results;e.setState(function(){return{results:n}})},[v.AutocompleterResultTypes.TEXT_CHANNEL,v.AutocompleterResultTypes.GROUP_DM,v.AutocompleterResultTypes.USER],S);t.search("");var n=t.results;this.setState(function(){return{autocompleter:t,results:n}})},i.componentDidUpdate=function(e,t){var n=this.state.query,r=this.getScroller();n!==t.query&&null!=r&&r.scrollTo(0,!1)},i.componentWillUnmount=function(){var e=this.state.autocompleter;null!=e&&e.destroy()},i.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},i.query=function(e){var t=this.state,n=t.results,r=t.autocompleter;null!=r&&(r.search(e),n=r.results),this.setState({query:e,selectedRow:0,results:n})},i.scrollIntoView=function(e){var t=this.state.keyboardMode,n=this.getScroller();t&&null!=n&&n.scrollIntoViewRect(34*e-10,34*e+34+10)},i.renderResult=function(e,t){var n=this,r=this.state,a=r.selectedRow,o=r.sendingRecordId;switch(e.type){case v.AutocompleterResultTypes.TEXT_CHANNEL:var i=l.default.getGuild(e.record.guild_id);return E(c.Channel,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record},e.type+"-"+e.record.id,E("div",{className:y.default.miscContainer},void 0,o===e.record.id?E(f.default,{type:f.default.Type.PULSING_ELLIPSIS}):null!=i?i.name:null));case v.AutocompleterResultTypes.GROUP_DM:return E(c.GroupDM,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record,mentions:0},e.type+"-"+e.record.id,o===e.record.id?E(f.default,{type:f.default.Type.PULSING_ELLIPSIS}):null);case v.AutocompleterResultTypes.USER:return E(c.User,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},user:e.record,mentions:0,comparator:e.comparator},e.type+"-"+e.record.id,o===e.record.id?E(f.default,{type:f.default.Type.PULSING_ELLIPSIS}):null)}},i.render=function(){var e=this.props,t=e.className,n=e.renderFooter,r=e.title,o=this.state,i=o.query,l=o.selectedRow,u=o.results,s=o.keyboardMode;return E("div",{className:y.default.wrapper,onMouseMove:s?this.disableKeyboardMode:null},void 0,a.createElement(d.default,{size:y.default.modalSize,ref:this._handleModalRef,className:t},E(d.default.Header,{},void 0,E(d.default.CloseButton,{className:y.default.closeButton,onClick:this.close}),E("div",{className:y.default.header},void 0,E(p.default,{tag:p.default.Tags.H2,className:_.default.marginBottom8},void 0,r),E(h.default,{size:h.default.Sizes.MEDIUM,query:i,selectedSection:0,selectedRow:l,sections:[u.length],className:y.default.queryInput,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onKeyDown:this.handleKeyDown,placeholder:m.default.Messages.ACTIVITY_FEED_SHARE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===u.length?E("div",{className:y.default.noResults}):E(d.default.LazyContent,{elementHeight:34,paddingBottom:20,keyboardScroll:!0},void 0,u.map(this.renderResult,this)),null!=n?n():null))},r}(a.PureComponent);t.default=T,T.displayName="ChannelSelectModal"},6609:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=i(n(17)),o=i(n(5392));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t=e.value,n=void 0===t?0:t,i=e.text,u=e.className,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","text","className"]);return null!=i?r.createElement("div",l({className:(0,a.default)(o.default.wrapper,u)},s),i):n>0?r.createElement("div",l({className:(0,a.default)(o.default.wrapper,u)},s),n):null};t.default=u},6610:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(118)),l=s(n(307)),u=s(n(483));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){return f("div",{style:{width:"100%",height:e.height,visibility:"hidden"}})};p.displayName="Spacer";var h=function(){function e(e){var t=e.sectionHeight,n=e.rowHeight,r=e.footerHeight,a=e.sections,o=e.uniform,i=e.paddingTop,l=e.paddingBottom;this.sectionHeight=t,this.rowHeight=n,this.footerHeight=r,this.numberOfSections=a.length,this.numberOfRows=a.reduce(function(e,t){return e+t},0),this.sections=a,this.uniform=o,this.paddingTop=i,this.paddingBottom=l}var t=e.prototype;return t.getHeight=function(){for(var e=this.paddingTop,t=0;t<this.numberOfSections;t++){if(e+=this.getHeightForSection(t),this.uniform)e+=this.sections[t]*this.getHeightForRow(t);else for(var n=0;n<this.sections[t];n++)e+=this.getHeightForRow(t,n);e+=this.getHeightForFooter(t)}return e+this.paddingBottom},t.getHeightForSection=function(e){var t=this.sectionHeight;return"number"==typeof t?t:t(e)},t.getHeightForRow=function(e,t){var n=this.rowHeight;return"number"==typeof n?n:n(e,t)},t.getHeightForFooter=function(e){var t=this.footerHeight;return"number"==typeof t?t:t(e)},t.compute=function(e,t){var n=this.sections,r=this.paddingTop,a=this.paddingTop,o=this.paddingBottom,i=[];function l(n){var i=r;return(r+=n)<e?(a+=n,!1):!(i>t)||(o+=n,!1)}for(var u=0;u<n.length;u++){var s=n[u];if(0!==s){if(l(this.getHeightForSection(u))&&i.push({section:u}),this.uniform)for(var d=this.getHeightForRow(u),c=0;c<s;c++)l(d)&&i.push({section:u,row:c});else for(var f=0;f<s;f++)l(this.getHeightForRow(u,f))&&i.push({section:u,row:f});l(this.getHeightForFooter(u))&&i.push({section:u,footer:!0})}}return{spacerTop:a,spacerBottom:o,items:i}},t.computeScrollPosition=function(e,t){for(var n=this.sections,r=this.paddingTop,a=0,o=!1;a<=e;){var i=n[a];if(0!==i){if(r+=this.getHeightForSection(a),this.uniform){var l=this.getHeightForRow(a);a===e?(r+=l*t,o=!0):r+=l*i}else for(var u=0;u<i;u++)if(a<e||a===e&&u<t)r+=this.getHeightForRow(a,u);else if(a===e&&u===t){o=!0;break}o||(r+=this.getHeightForFooter(a)),a+=1}else a+=1}return{scrollTop:r,rowHeight:this.getHeightForRow(e,t)}},e}(),v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={spacerTop:0,spacerBottom:0,items:[],scrolling:!1},c(n).handleResize=n.handleResize.bind(c(n)),c(n).handleScroll=n.handleScroll.bind(c(n)),c(n).setScrollerRef=n.setScrollerRef.bind(c(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){this.setState(this.getStateFromScroller())},s.UNSAFE_componentWillReceiveProps=function(e){e.uniform&&(0,i.default)(e,this.props)||this.setState(this.getStateFromScroller(e))},s.componentWillUnmount=function(){null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout)},s.setScrollerRef=function(e){this._scroller=e},s.getStateFromScroller=function(e){void 0===e&&(e=this.props);var t=e,n=t.sectionHeight,r=t.rowHeight,a=t.footerHeight,o=t.sections,i=t.uniform,l=t.paddingTop,u=t.paddingBottom,s=new h({sectionHeight:n,rowHeight:r,footerHeight:a,sections:o,uniform:i,paddingTop:l,paddingBottom:u}),c=this.getScrollTop(),f=this.getContainerHeight(),p=Math.ceil(f/2),v=p*Math.ceil(c/p),m=v+p,_=d({containerHeight:f},s.compute(Math.max(0,v-p),Math.min(s.getHeight(),m+p))),y=this.props.onScrollerStateUpdate;return null!=y&&y(_),_},s.handleResize=function(e){this.setState(this.getStateFromScroller());var t=this.props.onResize;null!=t&&t(e)},s.handleScroll=function(e){var t=this;null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout),this._scrollingTimeout=setTimeout(function(){return t.setState({scrolling:!1})},100),this.setState(d({},this.getStateFromScroller(),{scrolling:!0}));var n=this.props.onScroll;null!=n&&n(e)},s.renderItems=function(){var e=this.props,t=e.renderSection,n=e.wrapSection,r=e.renderRow,a=e.renderFooter,o=this.state.items,i=[],l=[],u=0;return o.forEach(function(e){var o=e.section,s=e.row;!0===e.footer?(l.push(a(o)),i.push(null!=n?n(u,l):l),l=[]):(u=o,null==s?l.push(t(o)):l.push(r(o,s)))}),l.length>0&&i.push(n?n(u,l):l),i},s.render=function(){var e,t=this.props,n=t.children,r=t.track,i=t.theme,s=t.className,c=t.backgroundColor,h=(t.footerHeight,t.onScrollerStateUpdate,t.renderFooter,t.renderRow,t.renderSection,t.rowHeight,t.sectionHeight,t.sections,t.uniform,t.wrapSection,t.paddingTop,t.paddingBottom,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children","track","theme","className","backgroundColor","footerHeight","onScrollerStateUpdate","renderFooter","renderRow","renderSection","rowHeight","sectionHeight","sections","uniform","wrapSection","paddingTop","paddingBottom"])),v=this.state,m=v.spacerTop,_=v.spacerBottom,y=v.scrolling;return a.createElement(l.default,d({},h,{ref:this.setScrollerRef,className:(0,o.default)(s,(e={},e[u.default.scrolling]=y,e)),onResize:this.handleResize,onScroll:this.handleScroll,track:r,theme:i,backgroundColor:c}),n,f(p,{height:m}),this.renderItems(),f(p,{height:_}))},s.getItems=function(){return this.state.items},s.isItemVisible=function(e,t){var n=this.getScrollPosition(e,t),r=this.getScrollTop(),a=this.getContainerHeight();return!(n.scrollTop<r-n.rowHeight||n.scrollTop+n.rowHeight>r+a)},s.getScrollPosition=function(e,t){var n=this.props,r=n.sectionHeight,a=n.rowHeight,o=n.footerHeight,i=n.sections,l=n.uniform,u=n.paddingTop,s=n.paddingBottom;return new h({sectionHeight:r,rowHeight:a,footerHeight:o,sections:i,uniform:l,paddingTop:u,paddingBottom:s}).computeScrollPosition(e,t)},s.getScrollerNode=function(){return this._scroller&&this._scroller.getScrollerNode()},s.getScrollTop=function(){return this._scroller&&this._scroller.getScrollData().scrollTop||0},s.getContainerHeight=function(){return this._scroller&&this._scroller.getScrollData().offsetHeight||0},s.getScrollData=function(){return this._scroller&&this._scroller.getScrollData()},s.scrollIntoView=function(e,t,n){this._scroller&&this._scroller.scrollIntoViewRect(e,t,n)},s.scrollTo=function(e,t,n){void 0===t&&(t=!1),this._scroller&&this._scroller.scrollTo(e,t,n)},s.scrollToRow=function(e,t,n,r){void 0===r&&(r=0);var a=this.getScrollPosition(e,t),o=this.getScrollTop(),i=this.getContainerHeight();a.scrollTop<o+r?this.scrollTo(a.scrollTop-r,n):a.scrollTop+a.rowHeight>o+i&&this.scrollTo(a.scrollTop-i+a.rowHeight+r,n)},r}(a.PureComponent);t.default=v,v.displayName="List",v.Themes=l.default.Themes,v.defaultProps={track:!1,renderSection:function(){return null},renderFooter:function(){return null},sectionHeight:0,footerHeight:0,paddingTop:0,paddingBottom:0,uniform:!0,theme:l.default.Themes.GHOST}},6612:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.getTiers=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=U(n(17)),i=n(5927),l=U(n(3)),u=n(6118),s=U(n(74)),d=U(n(5854)),c=U(n(23)),f=U(n(6119)),p=U(n(14)),h=U(n(5849)),v=U(n(231)),m=U(n(6738)),_=U(n(302)),y=U(n(6739)),g=U(n(6740)),E=U(n(307)),S=U(n(427)),T=U(n(806)),I=U(n(5917)),O=U(n(795)),N=n(796),C=U(n(858)),A=n(847),M=U(n(308)),R=n(5897),b=n(313),P=U(n(5929)),L=n(0),D=U(n(10)),w=U(n(5400));function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=(0,b.cssValueToNumber)(w.default.progressWithSubscriptionsMarginTop),B={tension:200,friction:20},H=F({},B,{clamp:!0}),x=function(){return[{tier:L.PremiumGuildTiers.TIER_1,title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_TITLE_TIER_1,perks:[{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_EMOJI.format({adding:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_1].emoji-L.PremiumGuildLimits[L.PremiumGuildTiers.NONE].emoji,total:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_1].emoji}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_1_EMOJI,icon:_.default.Names.EMOJI_SMILE,iconClass:w.default.emojiIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_AUDIO_QUALITY.format({bitrate:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_1].bitrate/1e3}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_1_AUDIO_QUALITY,icon:_.default.Names.HEADPHONES,iconClass:w.default.audioIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_1_ANIMATED_GUILD_ICON,description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_1_ANIMATED_GUILD_ICON.format(),icon:_.default.Names.INVERTED_GIF_LABEL,iconClass:w.default.animatedGuildIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_1_SPLASH,description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_1_SPLASH,icon:_.default.Names.PICTURES,iconClass:w.default.splashIcon}]},{tier:L.PremiumGuildTiers.TIER_2,title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_TITLE_TIER_2,perks:[{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_EMOJI.format({adding:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_2].emoji-L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_1].emoji,total:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_2].emoji}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_2_EMOJI,icon:_.default.Names.EMOJI_SMILE,iconClass:w.default.emojiIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_AUDIO_QUALITY.format({bitrate:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_2].bitrate/1e3}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_2_AUDIO_QUALITY,icon:_.default.Names.HEADPHONES,iconClass:w.default.audioIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_2_BANNER,description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_2_BANNER,icon:_.default.Names.PICTURES,iconClass:w.default.bannerIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_UPLOAD_LIMIT.format({fileSize:(0,A.formatSize)(L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_2].fileSize/1024,{useKibibytes:!0})}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_2_UPLOAD_LIMIT.format(),icon:_.default.Names.UPLOAD_2,iconClass:w.default.uploadIcon}]},{tier:L.PremiumGuildTiers.TIER_3,title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_TITLE_TIER_3,perks:[{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_EMOJI.format({adding:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_3].emoji-L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_2].emoji,total:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_3].emoji}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_3_EMOJI,icon:_.default.Names.EMOJI_SMILE,iconClass:w.default.emojiIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_AUDIO_QUALITY.format({bitrate:L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_3].bitrate/1e3}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_3_AUDIO_QUALITY,icon:_.default.Names.HEADPHONES,iconClass:w.default.audioIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_3_VANITY_URL,description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_3_VANITY_URL.format({helpdeskArticle:M.default.getArticleURL(L.HelpdeskArticles.GUILD_VANITY_URL)}),icon:_.default.Names.STAR,iconClass:w.default.vanityUrlIcon},{title:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_TITLE_TIER_ANY_UPLOAD_LIMIT.format({fileSize:(0,A.formatSize)(L.PremiumGuildLimits[L.PremiumGuildTiers.TIER_3].fileSize/1024,{useKibibytes:!0})}),description:D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERK_DESCRIPTION_TIER_3_UPLOAD_LIMIT.format(),icon:_.default.Names.UPLOAD_2,iconClass:w.default.uploadIcon}]}]};t.getTiers=x;var V=Object.freeze({OPEN:0,CLOSING:1,CLOSED:2}),Y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={closingState:V.OPEN},t.handleCloseClick=function(){t.setState({closingState:V.CLOSING})},t.handleFlyingAnimationComplete=function(){t.setState({closingState:V.CLOSED})},t}k(t,e);var n=t.prototype;return n.shouldShow=function(e){void 0===e&&(e=this.props);var t=e,n=t.numUnlocked,r=t.numRequired;return!(n>=r)&&n/r>=.8},n.render=function(){var e=this,t=this.props,n=t.numUnlocked,r=t.numRequired,a=this.state.closingState===V.CLOSED,l=this.state.closingState===V.CLOSING;if(!this.shouldShow()||a)return null;var u=l||a?w.default.hidden:null,s=l?y.default.Stages.FLYING:y.default.Stages.HOVERING;return G(i.Spring,{native:!0,from:{opacity:0},to:{opacity:1},config:H},void 0,function(t){return G(i.animated.div,{className:w.default.tierClose,style:t},void 0,G(y.default,{className:w.default.tierCloseMechaWumpus,stage:s,onFlyingComplete:e.handleFlyingAnimationComplete}),G("div",{className:(0,o.default)(w.default.tierCloseHint,u)},void 0,D.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_CLOSE_HINT.format({numLeft:r-n})),G(v.default,{onClick:e.handleCloseClick,className:(0,o.default)(w.default.tierCloseClose,u)},void 0,G(_.default,{name:_.default.Names.CLOSE_CIRCLE,className:w.default.tierCloseCloseIcon})))})},t}(a.Component);Y.displayName="TierCloseHint";var K=Object.freeze({HEADER_FILL:0,UNLOCKED_SLIDE:1}),W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animationStage:K.HEADER_FILL},t.getAnimationConfig=function(e){switch(e){case"headerFill":return H;case"unlockedTranslateY":default:return B}},t.handleAnimationRest=function(){t.props.isAnimatedTo&&t.state.animationStage===K.HEADER_FILL&&t.setState({animationStage:K.UNLOCKED_SLIDE})},t.setRef=function(e){var n=t.props,r=n.onSetRef,a=n.tier;null!=r&&r(e,a)},t}k(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.isAnimatedTo||this.props.isAnimatedTo===e.isAnimatedTo||this.setState({animationStage:K.HEADER_FILL})},n.renderPerk=function(e,t){return G("div",{className:w.default.perk},e.title,G(m.default,{name:t?_.default.Names.CHECKMARK:e.icon,className:w.default.perkIcon,iconClassName:t?w.default.unlockedPerkIcon:e.iconClass,config:B}),G("div",{className:w.default.perkText},void 0,G("div",{className:w.default.perkTitle},void 0,e.title),G("div",{className:w.default.perkDescription},void 0,e.description)))},n.render=function(){var e=this,t=this.props,n=t.subscriberCount,r=t.tier,o=t.isAnimatedTo,l=L.PremiumGuildSubscriptionsRequired[r.tier],u=o&&n>=l,s=r.tier!==L.PremiumGuildTiers.NONE&&r.tier!==L.PremiumGuildTiers.TIER_1,d=G(Y,{numUnlocked:n,numRequired:l});return G(i.Spring,{native:!0,from:{headerFill:0,unlockedTranslateY:50},to:{headerFill:u?100:0,unlockedTranslateY:this.state.animationStage===K.UNLOCKED_SLIDE?0:50},config:this.getAnimationConfig,onRest:this.handleAnimationRest},void 0,function(t){return G("div",{className:w.default.tier},r.tier,a.createElement("div",{className:u?w.default.tierHeaderUnlocked:w.default.tierHeaderLocked,ref:e.setRef},G(i.animated.div,{className:w.default.tierHeaderUnlockedBackground,style:{width:(0,i.interpolate)(t.headerFill,function(e){return e+"%"})}}),G("div",{className:w.default.tierHeaderContent},void 0,G(C.default,{tier:r.tier,className:w.default.tierIcon}),G("div",{className:w.default.tierTitle},void 0,r.title),u?G(i.animated.div,{style:{transform:(0,i.interpolate)(t.unlockedTranslateY,function(e){return"translate3d(0, "+e+"px, 0)"})},className:w.default.tierUnlocked},void 0,D.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_UNLOCKED):G(a.Fragment,{},void 0,G("div",{className:w.default.tierRequirement},void 0,D.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_TIER_REQUIREMENT.format({required:l})),G(_.default,{name:_.default.Names.LOCK_CLOSED,className:w.default.tierLock})),d)),G("div",{className:w.default.tierBody},void 0,s?G("div",{className:w.default.previousPerks},void 0,D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_PREVIOUS_PERKS):null,G("div",{className:w.default.perks},void 0,r.perks.map(function(t){return e.renderPerk(t,u)}))))})},t}(a.Component);W.displayName="GuildPremiumTierPerksCard";var z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).tierRefs={},t.defaultTierRef=a.createRef(),t.state={tierPositions:null,animatedTier:L.PremiumGuildTiers.NONE},t.setTierRef=function(e,n){t.tierRefs[n.tier]=e},t.handleAnimatedTier=function(e){t.setState({animatedTier:e.key})},t.renderSubscribersPopout=function(){return G(E.default,{className:w.default.subscribersPopout,track:!0},void 0,t.props.subscribers.map(function(e){return G("div",{className:w.default.subscribersPopoutUser},e.user.id,G(h.default,{src:e.user.getAvatarURL(),size:h.default.Sizes.SMALL}),G("div",{className:w.default.subscribersPopoutUsername},void 0,G(P.default,{user:e.user,nick:e.nick})))}))},t.renderMoreSubscribers=function(e,n,r){return G(O.default,{render:t.renderSubscribersPopout,position:O.default.Positions.BOTTOM_LEFT,preventInvert:!0},r,G("div",{className:w.default.moreSubscribers},void 0,e))},t}k(t,e);var n=t.prototype;return n.componentDidMount=function(){this.measure(),(0,u.fetchPremiumSubscriptions)(this.props.guildId)},n.componentDidUpdate=function(){var e=this;null==this.state.tierPositions&&(Object.keys(this.tierRefs).some(function(t){return null==e.tierRefs[t]})||this.measure())},n.measure=function(){var e=this.props.subscriberCount,t=this.defaultTierRef.current;if(null!=t){var n=t.getBoundingClientRect().top,r={};for(var a in this.tierRefs){var o=this.tierRefs[a];if(null==o)return;var i=o.getBoundingClientRect().top-n+32-(e>0?j:0);r[a]=i}this.setState({tierPositions:r})}},n.renderHeader=function(){return G(a.Fragment,{},void 0,G(N.FormTitle,{tag:N.FormTitleTags.H2},void 0,D.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_TITLE),G(N.FormText,{type:N.FormText.Types.DESCRIPTION,className:w.default.titleBlurb},void 0,D.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_BLURB.format({helpdeskArticle:M.default.getArticleURL(L.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})))},n.renderProgressBar=function(e){var t=this.props.subscriberCount,n=this.state.tierPositions;if(null==n)return null;var r={numRequired:0,y:0,key:L.PremiumGuildTiers.NONE},a=e.map(function(e){return{numRequired:L.PremiumGuildSubscriptionsRequired[e.tier],name:(0,R.getTierName)(e.tier),y:n[e.tier],key:e.tier}});return G(g.default,{className:t>0?w.default.progressWithSubscriptions:w.default.progress,progress:t,tiers:[r].concat(a),initialAnimationDelay:500,onAnimatedTierMaker:this.handleAnimatedTier})},n.renderTierNone=function(){return a.createElement("div",{className:w.default.tierDefaultUnlocked,ref:this.defaultTierRef},G(N.FormText,{type:N.FormText.Types.LABEL_BOLD},void 0,D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_TITLE_NONE),G(N.FormText,{type:N.FormText.Types.DESCRIPTION,className:w.default.tierDefaultUnlockedDescription},void 0,D.default.Messages.GUILD_SETTINGS_GUILD_PREMIUM_PERKS_DESCRIPTION_NONE))},n.renderSubscriber=function(e,t,n){return null==e?null:G(T.default,{text:G(P.default,{user:e.user,nick:e.nick}),"aria-label":e.nick||e.user.tag},n,function(n){return a.createElement(h.default,F({},n,{src:null!=e?e.user.getAvatarURL():null,className:(0,o.default)(t,null!=t?w.default.subscriberMask:null),size:h.default.Sizes.SMALL}))})},n.renderSubscribers=function(){var e=this.props,t=e.subscribers,n=e.subscriberCount;return a.createElement("div",{ref:this.defaultTierRef,className:w.default.subscribers},G(I.default,{users:t,renderUser:this.renderSubscriber,renderMoreUsers:this.renderMoreSubscribers,max:5}),G("div",{className:w.default.subscriberCount},void 0,D.default.Messages.GUILD_SETTINGS_PREMIUM_GUILD_COUNT_SUBSCRIBERS.format({count:n})))},n.renderTier=function(e){return G(W,{subscriberCount:this.props.subscriberCount,tier:e,onSetRef:this.setTierRef,isAnimatedTo:L.PremiumGuildSubscriptionsRequired[this.state.animatedTier]>=L.PremiumGuildSubscriptionsRequired[e.tier]},e.tier)},n.renderContent=function(){var e=this,t=this.props,n=t.subscriptions,r=t.subscriberCount,a=x();return null==n?G(S.default,{type:S.default.Type.SPINNING_CIRCLE}):G("div",{className:w.default.content},void 0,this.renderProgressBar(a),G("div",{className:w.default.tiers},void 0,0===r?this.renderTierNone():this.renderSubscribers(),a.map(function(t){return e.renderTier(t)})))},n.render=function(){return G("div",{},void 0,this.renderHeader(),this.renderContent())},t}(a.Component);z.displayName="GuildSettingsPremiumStatus";var $=l.default.connectStores([d.default,c.default,p.default,f.default,s.default],function(){var e=d.default.getGuildId(),t=c.default.getGuild(e),n=null!=e?f.default.getSubscriptionsForGuild(e):null,r=null!=n?n.map(function(t){return{user:p.default.getUser(t.userId),nick:s.default.getNick(e,t.userId)}}).filter(function(e){return null!=e.user}):[];return{guildId:e,subscriptions:n,subscribers:r,subscriberCount:null!=t?t.premiumSubscriberCount:0}})(z);t.default=$},6614:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.QuickSelectPopout=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(158)),l=s(n(307)),u=s(n(5409));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,a=e.className;return c(i.default,{className:(0,o.default)(u.default.quickSelect,a),align:i.default.Align.CENTER},void 0,c("div",{className:u.default.quickSelectLabel},void 0,t),c(i.default,{align:i.default.Align.CENTER,className:u.default.quickSelectClick},void 0,c("div",{className:u.default.quickSelectValue},void 0,r?r(n):n.label),c("div",{className:u.default.quickSelectArrow})))},t}(a.PureComponent);p.displayName="QuickSelect";var h=function(e){function t(t){var n;return d(n=e.call(this,t)||this).handleClick=n.handleClick.bind(d(n)),n}f(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.selected,n=e.renderOption,r=e.option;return c(i.default,{className:(0,o.default)(u.default.quickSelectPopoutOption,{selected:t}),onClick:this.handleClick},void 0,n(r,t))},n.handleClick=function(){var e=this.props,t=e.option,n=e.onChange;n&&n(t)},t}(a.PureComponent);h.displayName="QuickSelectPopoutOption";var v=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props,t=e.options,n=e.renderOption,r=e.value,a=e.scroller,o=e.onChange,i=t.map(function(e){var t=null!=r&&e.value===r.value,a=t?void 0:o;return c(h,{className:u.default.quickSelectPopoutOption,renderOption:n,option:e,onChange:a,selected:t},e.key||e.value)});return a?c(l.default,{className:u.default.quickSelectScroller},void 0,i):i},n.render=function(){var e,t=this.props,n=t.className,r=t.scroller,a=(0,o.default)(u.default.quickSelectPopout,n,((e={})[u.default.quickSelectPopoutScroll]=r,e));return c(i.default,{className:a,direction:i.default.Direction.VERTICAL},void 0,this.renderContent())},t}(a.PureComponent);t.QuickSelectPopout=v,v.displayName="QuickSelectPopout";var m=p;t.default=m},6626:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(158)),l=s(n(188)),u=s(n(5416));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){var t,n;function r(t){var n;return c(n=e.call(this,t)||this).setRef=n.setRef.bind(c(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.setRef=function(e){this._scroller=null!=e?e.getScroller():null},s.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},s.render=function(){var e,t=this.props,n=t.renderFooter,r=t.selectable,s=t.renderHeader,c=t.className,f=t.onClose,p=t.children,h=t.onScroll;return n&&(e=d(l.default.Footer,{direction:i.default.Direction.HORIZONTAL},void 0,n())),a.createElement(l.default,{className:u.default.modal,size:u.default.size,ref:this.setRef,onScroll:h},d(l.default.Header,{},void 0,s(),d(i.default.Child,{grow:0},void 0,d(l.default.CloseButton,{onClick:f}))),d(l.default.Content,{className:(0,o.default)(c,u.default.content,{selectable:r})},void 0,p),e)},r}(a.PureComponent);f.displayName="Markdown",f.defaultProps={selectable:!1};var p=f;t.default=p},6630:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.dispatch({type:i.ActionTypes.RTC_DEBUG_MODAL_OPEN,section:e}),(0,o.pushLayer)(i.Layers.RTC_DEBUG)},t.close=function(){a.default.dispatch({type:i.ActionTypes.RTC_DEBUG_MODAL_CLOSE}),(0,o.popLayer)()},t.setSection=function(e){a.default.dispatch({type:i.ActionTypes.RTC_DEBUG_MODAL_SET_SECTION,section:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(808),i=n(0)},6632:function(e,t,n){"use strict";t.__esModule=!0,t.getGuildSettingsSections=function(e){return Y(x({},g.default.getGuildPermissionProps(e,v.default.getCurrentUser()))).filter(function(e){var t=e.section;return t!==S.SectionTypes.HEADER&&t!==S.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})},t.default=void 0;var r,a=H(n(2)),o=B(n(3)),i=B(n(5857)),l=n(808),u=B(n(73)),s=B(n(191)),d=B(n(6518)),c=B(n(5854)),f=B(n(6519)),p=B(n(159)),h=B(n(42)),v=B(n(14)),m=B(n(5978)),_=B(n(128)),y=n(113),g=B(n(102)),E=B(n(6164)),S=n(5915),T=B(n(433)),I=B(n(6874)),O=B(n(6875)),N=B(n(6881)),C=H(n(6884)),A=B(n(6885)),M=B(n(6890)),R=B(n(6892)),b=B(n(6893)),P=B(n(6896)),L=H(n(6898)),D=B(n(6612)),w=H(n(6900)),U=H(n(6931)),G=B(n(6934)),k=B(n(6940)),F=n(0),j=B(n(10));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(e){var t=e.guild,n=e.canManageGuild,r=e.canViewAuditLog,o=e.canManageRoles,s=e.canManageEmoji,p=e.canManageWebhooks,h=e.canManageBans,g=e.isOwnerWithRequiredMfaLevel;return[{section:S.SectionTypes.HEADER,label:t.toString()||j.default.Messages.SERVER_SETTINGS},{section:F.GuildSettingsSections.OVERVIEW,label:j.default.Messages.OVERVIEW,element:L.default,notice:{store:c.default,element:L.GuildSettingsOverviewNotice}},{section:F.GuildSettingsSections.MODERATION,label:j.default.Messages.MODERATION,element:P.default,notice:{store:c.default,element:L.GuildSettingsOverviewNotice},predicate:function(){return n}},{section:F.GuildSettingsSections.AUDIT_LOG,label:j.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG,element:O.default,type:S.ContentTypes.CUSTOM,predicate:function(){return r}},{section:F.GuildSettingsSections.ROLES,label:j.default.Messages.ROLES,element:w.default,type:S.ContentTypes.MINIMAL,notice:{store:d.default,element:w.GuildSettingsRolesNotice},predicate:function(){return o}},{section:F.GuildSettingsSections.INTEGRATIONS,label:j.default.Messages.INTEGRATIONS,element:M.default,predicate:function(){return n}},{section:F.GuildSettingsSections.EMOJI,label:j.default.Messages.EMOJI,element:A.default,predicate:function(){return s}},{section:F.GuildSettingsSections.WEBHOOKS,label:j.default.Messages.WEBHOOKS,element:G.default,predicate:function(){return p}},{section:F.GuildSettingsSections.EMBED,label:j.default.Messages.WIDGET,element:k.default,predicate:function(){return n}},{section:F.GuildSettingsSections.DISCOVERY,label:j.default.Messages.DISCOVERY,element:C.default,notice:{store:c.default,element:C.GuildSettingsDiscoveryNotice},predicate:function(){return n&&t.hasFeature(F.GuildFeatures.VERIFIED)}},{section:F.GuildSettingsSections.VANITY_URL,label:j.default.Messages.VANITY_URL,element:U.default,notice:{store:f.default,element:U.GuildSettingsVanityURLNotice},predicate:function(){return n&&t.hasFeature(F.GuildFeatures.VANITY_URL)}},{section:S.SectionTypes.DIVIDER,predicate:function(){return m.default.isEligibleForGuild(t.id)}},{section:F.GuildSettingsSections.GUILD_PREMIUM,label:j.default.Messages.GUILD_PREMIUM,element:D.default,color:F.Colors.BRAND,predicate:function(){return n&&m.default.isEligibleForGuild(t.id)}},{section:S.SectionTypes.DIVIDER},{section:S.SectionTypes.HEADER,label:j.default.Messages.USER_MANAGEMENT},{section:F.GuildSettingsSections.MEMBERS,label:j.default.Messages.MEMBERS,element:b.default,type:S.ContentTypes.CUSTOM},{section:F.GuildSettingsSections.INSTANT_INVITES,label:j.default.Messages.INVITES,element:R.default,type:S.ContentTypes.CUSTOM,predicate:function(){return n}},{section:F.GuildSettingsSections.BANS,label:j.default.Messages.BANS,element:N.default,type:S.ContentTypes.CUSTOM,predicate:function(){return h}},{section:S.SectionTypes.DIVIDER,predicate:function(){return g}},{section:F.GuildSettingsSections.DELETE,onClick:function(){var e=v.default.getCurrentUser(),n=t.toString(),r={header:j.default.Messages.DELETE_SERVER_TITLE.format({name:n}),confirmText:j.default.Messages.DELETE_SERVER,cancelText:j.default.Messages.CANCEL,onConfirm:function(){y.ComponentDispatch.subscribeOnce(F.ComponentActions.LAYER_POP_COMPLETE,function(){i.default.deleteGuild(t.id,n)}),(0,l.popLayer)()}};e.mfaEnabled?u.default.push(function(e){return a.createElement(T.default,x({},e,r),V(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,j.default.Messages.DELETE_SERVER_BODY.format({name:n})))}):u.default.push(function(e){return a.createElement(I.default,x({},e,r,{validationText:n,instructionText:j.default.Messages.DELETE_SERVER_ENTER_NAME,errorText:j.default.Messages.DELETE_SERVER_INCORRECT_NAME}),j.default.Messages.DELETE_SERVER_BODY.format({name:n}))})},label:j.default.Messages.DELETE_SERVER,color:F.Colors.STATUS_RED,predicate:function(){return g}}]}function K(e,t){void 0===t&&(t=null),s.default.trackWithMetadata(F.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",origin_pane:t,destination_pane:e})}var W={canManageGuild:!1,canManageChannels:!1,canManageRoles:!1,canManageBans:!1,canManageNicknames:!1,canManageEmoji:!1,canViewAuditLog:!1,canManageWebhooks:!1,isOwnerWithRequiredMfaLevel:!1},z=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){K(this.props.section)},a.componentWillUnmount=function(){i.default.close()},a.componentDidUpdate=function(e){var t=e.section,n=this.props,r=n.section,a=n.canManageGuild,o=n.canManageRoles,i=n.canManageBans,u=n.canManageNicknames,s=n.canManageEmoji,d=n.canViewAuditLog,c=n.canManageWebhooks;r!==t&&K(r,t),(a||o||i||u||s||d||c)&&(d||r!==F.GuildSettingsSections.AUDIT_LOG)&&(o||r!==F.GuildSettingsSections.ROLES)&&(s||r!==F.GuildSettingsSections.EMOJI)&&(c||r!==F.GuildSettingsSections.WEBHOOKS)&&(i||r!==F.GuildSettingsSections.BANS)||(0,l.popLayer)()},a.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.guild,a=e.canManageGuild,o=e.canViewAuditLog,u=e.canManageRoles,s=e.canManageEmoji,d=e.canManageWebhooks,c=e.canManageBans,f=e.isOwnerWithRequiredMfaLevel;return null==r?null:V(E.default,{theme:t,section:n,onSetSection:i.default.setSection,onClose:l.popLayer,sections:Y({guild:r,canManageGuild:a,canViewAuditLog:o,canManageRoles:u,canManageEmoji:s,canManageWebhooks:d,canManageBans:c,isOwnerWithRequiredMfaLevel:f})})},r}(a.PureComponent);z.displayName="GuildSettings";var $=o.default.connectStores([c.default,v.default,h.default,p.default,m.default],function(){var e=c.default.getProps(),t=e.guild;return x({section:e.section,theme:h.default.theme},null!=t?g.default.getGuildPermissionProps(t,v.default.getCurrentUser()):W)})(z);t.default=$},6633:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=O(n(17)),i=O(n(6)),l=O(n(311)),u=O(n(73)),s=O(n(6059)),d=N(n(5860)),c=O(n(158)),f=O(n(427)),p=O(n(128)),h=n(796),v=O(n(5884)),m=n(5915),_=O(n(5885)),y=n(0),g=O(n(10)),E=O(n(5240)),S=O(n(5239)),T=O(n(5235)),I=O(n(5486));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R="3",b="3",P="1",L="2",D=function(e){function t(t){var n;return A(n=e.call(this,t)||this).handleRevokeInvite=n.handleRevokeInvite.bind(A(n)),n}M(t,e);var n=t.prototype;return n.renderChannel=function(){var e=this.props,t=e.showChannel,n=e.invite;return t?C(p.default,{size:p.default.Sizes.SMALL,className:I.default.channelName},void 0,n.channel.toString(!0)):null},n.renderUser=function(){var e=this.props.invite.inviter;return null==e?null:C(c.default,{},void 0,C(v.default,{user:e,size:"xsmall"}),C(p.default,{className:I.default.username},void 0,e.toString()))},n.render=function(){var e=this.props,t=e.invite,n=e.hide,r=t.uses;return t.maxUses>0&&(r=t.uses+"/"+t.maxUses),C(c.default,{className:(0,o.default)(I.default.inviteSettingsInviteRow,S.default.card)},void 0,C(c.default,{grow:R,basis:0,align:c.default.Align.CENTER,className:(0,o.default)(I.default.text)},void 0,C(c.default.Child,{},void 0,this.renderUser(),this.renderChannel())),C(c.default,{grow:b,shrink:1,basis:0,align:c.default.Align.CENTER,className:I.default.text},void 0,C(p.default,{family:p.default.Family.CODE,className:I.default.inviteCode},void 0,n?"...":t.code)),C(c.default,{grow:P,basis:0,justify:c.default.Justify.END,align:c.default.Align.CENTER,className:(0,o.default)(I.default.text)},void 0,C(p.default,{family:p.default.Family.CODE,className:I.default.textAlignRight},void 0,r)),C(c.default,{grow:L,basis:0,align:c.default.Align.CENTER,justify:c.default.Justify.END,className:(0,o.default)(I.default.text,I.default.countdownColumn)},void 0,C(p.default,{family:p.default.Family.CODE,className:I.default.textAlignRight},void 0,C(s.default,{deadline:t.getExpiresAt()}))),C("button",{className:(0,o.default)(I.default.revokeInvite,E.default.button),onClick:this.handleRevokeInvite}))},n.handleRevokeInvite=function(){l.default.revokeInvite(this.props.invite.code)},t}(a.PureComponent);D.displayName="InviteRow";var w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleShowInviteModal=function(){var e=t.props.guild;u.default.push(_.default,{guild:e,source:y.InstantInviteSources.SETTINGS_INVITE})},t}M(t,e);var r=t.prototype;return r.renderInvites=function(){var e=this.props,t=e.invites,n=e.hide,r=e.showChannel,a=e.loading;return null==t||a?[C(f.default,{className:T.default.marginTop20,type:f.default.Type.SPINNING_CIRCLE},"spinner")]:(0,i.default)(t).sortBy(function(e){return(e.inviter&&e.inviter.username||"").toLowerCase()}).map(function(e){return C(D,{hide:n,invite:e,showChannel:r},e.code)}).value()},r.renderHeader=function(){var e,t=this.props,r=t.invites,a=t.loading,o=t.theme,l=t.canCreateInvites;return null==r||a||(e=i.default.isEmpty(r)?C(d.default,{theme:o,className:T.default.marginTop20},void 0,C(d.EmptyStateImage,{darkSrc:n(6512),lightSrc:n(6513),width:256,height:130}),C(d.EmptyStateText,{note:g.default.Messages.NO_INVITES_BODY},void 0,g.default.Messages.NO_INVITES_LABEL)):C(c.default,{},void 0,C(c.default.Child,{grow:R,basis:0,className:T.default.marginReset},void 0,C(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_INVITER)),C(c.default.Child,{basis:0,grow:b,className:T.default.marginReset},void 0,C(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_INVITE_CODE)),C(c.default.Child,{grow:P,basis:0,className:I.default.textAlignRight},void 0,C(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_USES)),C(c.default.Child,{grow:L,basis:0,className:I.default.textAlignRight},void 0,C(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_EXPIRES)))),C(h.FormSection,{className:T.default.marginBottom4},void 0,C(h.FormTitle,{tag:h.FormTitleTags.H2},void 0,g.default.Messages.INVITES),C(h.FormText,{className:T.default.marginBottom20,type:h.FormTextTypes.DESCRIPTION},void 0,l?g.default.Messages.SETTINGS_INVITE_TIP.format({onCreateInvite:this.handleShowInviteModal}):g.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE),C(h.FormDivider,{className:I.default.marginBottom20}),e)},r.render=function(){return C(m.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(),elementHeight:62},void 0,this.renderInvites())},t}(a.PureComponent);w.displayName="SettingsInvites";var U=w;t.default=U},6634:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={open:function(e,t){void 0===t&&(t=7),a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_OPEN,guildId:e,days:t,estimate:-1}),r.default.get({url:o.Endpoints.GUILD_PRUNE(e),query:{days:t}}).then(function(n){a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_UPDATE,guildId:e,days:t,estimate:n.body.pruned})},function(){})},close:function(){a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_CLOSE})},prune:function(e,t){r.default.post({url:o.Endpoints.GUILD_PRUNE(e),query:{days:t,compute_prune_count:!1}}),this.close()}};t.default=l},6635:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Content=t.Sidebar=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(158)),i=s(n(307)),l=n(0),u=s(n(5490));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollable,n=e.theme,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["scrollable","theme"]),s=n===l.ThemeTypes.LIGHT?l.Colors.WHITE:l.Colors.PRIMARY_DARK_600;return t?d("aside",{className:u.default.sidebarScrollable},void 0,d(i.default,{fade:!0,theme:i.default.Themes.GHOST_HAIRLINE,backgroundColor:s,className:u.default.scroller},void 0,a.createElement(o.default.Child,c({},r,{wrap:!0})))):a.createElement(o.default.Child,c({},r,{wrap:!0}))},t}(a.PureComponent);t.Sidebar=p,p.displayName="Sidebar",p.defaultProps={basis:232,grow:0,shrink:0,className:u.default.sidebar};var h=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return a.createElement(o.default.Child,c({wrap:!0},this.props))},t}(a.PureComponent);t.Content=h,h.displayName="Content",h.defaultProps={className:u.default.content};var v=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return a.createElement(o.default,this.props)},t}(a.PureComponent);v.displayName="Layout",v.defaultProps={className:u.default.layout,direction:o.default.Direction.HORIZONTAL,justify:o.default.Justify.START,align:o.default.Align.START,wrap:o.default.Wrap.NO_WRAP,shrink:1,grow:1,basis:"auto"},v.Direction=o.default.Direction,v.Justify=o.default.Justify,v.Align=o.default.Align,v.Wrap=o.default.Wrap,v.Sidebar=p,v.Content=h;var m=v;t.default=m},6644:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=p(n(158)),l=p(n(5971)),u=n(5894),s=p(n(426)),d=p(n(6688)),c=n(0),f=p(n(5493));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){(0,o.openContextMenu)(e,function(e){return a.createElement(d.default,v({},e,{roleId:t.props.id}))})},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var m=p.prototype;return m.renderLock=function(){var e=this.props,t=e.locked,r=e.lockTooltip,a=e.theme;if(!t)return null;var o=a===c.ThemeTypes.DARK?n(6921):n(6922);return h(i.default,{shrink:0,grow:0,align:i.default.Align.CENTER,style:{marginRight:0}},void 0,h(s.default,{text:r,color:s.default.Colors.RED},void 0,h(l.default,{className:f.default.lock,src:o})))},m.render=function(){var e=this.props,t=e.color,n=e.id,r=e.children,a=e.isDragging,o=e.selectedItem,l=e.onItemSelect,s=e.itemType;return a?h("div",{className:f.default.dragged}):h(u.Item,{className:f.default.role,id:n,color:t||void 0,selectedItem:o,onItemSelect:l,itemType:s,"aria-label":r},void 0,h(i.default,{align:i.default.Align.CENTER,"aria-hidden":!0},void 0,this.renderLock(),h(i.default.Child,{className:f.default.roleInner,onContextMenu:this.handleContextMenu},void 0,r)))},p}(a.PureComponent);m.displayName="GuildRole";var _=m;t.default=_},6645:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=m(n(17)),i=m(n(302)),l=m(n(6923)),u=m(n(5856)),s=m(n(426)),d=m(n(804)),c=_(n(98)),f=m(n(102)),p=n(0),h=m(n(5235)),v=m(n(5495));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getOverwriteValue=function(e){var t=this.props,n=t.allow,r=t.deny;if(null==n||null==r)throw new Error("PermissionsForm.getOverwriteValue: Invalid allow or deny props");return n&e?f.default.ALLOW:r&e?f.default.DENY:f.default.PASSTHROUGH},a.getPermissionValue=function(e,t){return!!(t&e)},a.handleChange=function(e,t){(0,this.props.onChange)(e,t)},a.renderDisabledIndicator=function(e){return y(s.default,{text:e,position:s.default.Positions.TOP,color:s.default.Colors.RED},void 0,y("span",{},void 0,y(i.default,{name:i.default.Names.NOT_ALLOWED,className:v.default.icon,width:18,height:18})))},a.renderComponent=function(e){var t,n=this,r=e.title,a=e.description,i=e.flag,s=this.props,d=s.permissions,c=s.locked,f=s.permissionRender,h=f&&f(i),m=!(!c&&!h),_="string"==typeof h?this.renderDisabledIndicator(h):null,g=(0,o.default)(((t={})[v.default.title]=null!=_,t));return null==d?y(l.default,{disabled:m,value:this.getOverwriteValue(i),onChange:function(e){return n.handleChange(i,e)},note:a},i,_,y("span",{className:g},void 0,r)):y(u.default,{fill:p.Colors.STATUS_GREEN,disabled:m,value:this.getPermissionValue(i,d),onChange:function(e){var t=e.currentTarget.checked;return n.handleChange(i,t)},note:a},i,_,y("span",{className:g},void 0,r))},a.render=function(){var e=this.props,t=e.spec,n=e.className;return y(d.default,{className:n},void 0,y(c.default,{tag:c.Tags.H5,className:h.default.marginBottom20},void 0,t.title),t.permissions.map(this.renderComponent,this))},r}(a.PureComponent);g.displayName="PermissionsForm";var E=g;t.default=E},6646:function(e,t,n){e.exports=n.p+"cef02719c12d8aaf38894c16dca7fbe6.svg"},6647:function(e,t,n){e.exports=n.p+"808132e382c228d8fc8c7f9111b9abf7.svg"},6648:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=R(n(17)),i=R(n(6)),l=R(n(3)),u=R(n(164)),s=R(n(73)),d=R(n(6009)),c=R(n(99)),f=R(n(159)),p=R(n(306)),h=R(n(42)),v=R(n(6935)),m=b(n(5860)),_=R(n(427)),y=R(n(811)),g=R(n(804)),E=R(n(428)),S=n(98),T=R(n(5895)),I=R(n(6526)),O=R(n(6936)),N=R(n(6937)),C=n(0),A=R(n(10)),M=R(n(5235));function R(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=["Spidey Bot","Captain Hook"],w=L(T.default,{}),U=function(e){var t,r;function l(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).renderWebhooks=function(){var e=t.props,r=e.webhooks,a=e.error,o=e.theme;return e.isFetching?L(_.default,{className:M.default.marginTop20,type:_.default.Type.SPINNING_CIRCLE}):null!=a?L(E.default,{},void 0,a):0===r.length?L(m.default,{theme:o,className:M.default.marginTop20},void 0,L(m.EmptyStateImage,{darkSrc:n(6938),lightSrc:n(6939),width:292,height:182}),L(m.EmptyStateText,{note:A.default.Messages.SETTINGS_WEBHOOKS_EMPTY_BODY},void 0,A.default.Messages.SETTINGS_WEBHOOKS_EMPTY_TITLE)):r.map(function(e,t){return L(O.default,{webhook:e,theme:o,className:M.default.marginBottom8},t)})},t.handleCreateWebhook=function(){var e=t.props,n=e.guild,r=e.createChannelId;if(null!=n&&null!=r){var o=D[i.default.random(0,D.length-1)];d.default.create(n.id,r,{name:o}).then(function(e){return s.default.push(function(t){return a.createElement(I.default,P({webhook:e},t))})}).catch(function(e){var t=e.body;t&&t.code===C.AbortCodes.TOO_MANY_WEBHOOKS?u.default.show({title:A.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:A.default.Messages.WEBHOOK_ERROR_MAX_WEBHOOKS_REACHED}):u.default.show({title:A.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:A.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=l.prototype;return c.componentDidMount=function(){var e=this.props,t=e.channel,n=e.guild;null!=n&&(null!=t?d.default.fetchForChannel(n.id,t.id):null!=n&&d.default.fetchForGuild(n.id))},c.render=function(){var e=this.props,t=e.streamerMode,n=e.createChannelId,r=e.error;return t?w:L(g.default,{tag:S.Tags.H2,title:A.default.Messages.WEBHOOKS},void 0,L(N.default,{disabled:null==n||null!=r,onCreate:this.handleCreateWebhook}),L(y.default,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),this.renderWebhooks())},l}(a.PureComponent);U.displayName="SettingsWebhooks",U.defaultProps={showChannel:!0};var G=l.default.connectStores([p.default,v.default,h.default,c.default,f.default],function(e){var t,n,r=e.channel,a=e.guild;if(null!=r)t=v.default.getWebhooksForChannel(a.id,r.id),n=r.id;else{t=v.default.getWebhooksForGuild(a.id);var o=c.default.getDefaultChannel(a.id);null!=o&&f.default.can(C.Permissions.MANAGE_WEBHOOKS,o)&&(n=o.id)}return{guild:a,webhooks:t,streamerMode:p.default.enabled,theme:h.default.theme,isFetching:0===t.length&&v.default.isFetching(a.id),error:v.default.error,createChannelId:n}})(U);t.default=G},6650:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(112)),i=c(n(188)),l=c(n(128)),u=c(n(98)),s=c(n(10)),d=c(n(5504));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).close=n.close.bind(p(n)),p(n).handleSync=n.handleSync.bind(p(n)),p(n).handleCancel=n.handleCancel.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){(0,this.props.onClose)()},a.handleSync=function(){(0,this.props.onSync)(),this.close()},a.handleCancel=function(){var e=this.props.onCancel;e&&e(),this.close()},a.renderHeader=function(){return f(i.default.Header,{},void 0,f(u.default,{tag:u.default.Tags.H4},void 0,s.default.Messages.CONFIRM_CHANNEL_DRAG_TITLE))},a.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return f(i.default.Content,{},void 0,f(l.default,{size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,className:d.default.message,selectable:!1},void 0,s.default.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:t.toString(!0),categoryName:n.toString()})))},a.renderFooter=function(){return f(i.default.Footer,{},void 0,f(o.default,{color:o.default.Colors.BRAND,onClick:this.handleSync,className:d.default.buttonSpacing},void 0,s.default.Messages.SYNC_PERMISSIONS),f(o.default,{color:o.default.Colors.BRAND,look:o.default.Looks.GHOST,onClick:this.handleCancel,className:d.default.buttonSpacing},void 0,s.default.Messages.KEEP_PERMISSIONS))},a.render=function(){return f(i.default,{},void 0,this.renderHeader(),this.renderContent(),this.renderFooter())},r}(a.PureComponent);h.displayName="ConfirmChannelDrag",h.key=function(){return"confirm-channel-drag-modal"};var v=h;t.default=v},6651:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.VoiceList=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(231)),l=h(n(426)),u=h(n(873)),s=h(n(876)),d=h(n(877)),c=n(0),f=h(n(10)),p=h(n(5509));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.children,n=e.collapsed,r=void 0!==n&&n,a=e.className;return v("div",{className:(0,o.default)(a,p.default.list,r?p.default.listCollapse:p.default.listDefault)},void 0,t)};t.VoiceList=m,m.displayName="VoiceList";var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.user;r&&r(e,a)},t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.user;r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.user;r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderPrioritySpeaker=function(){var e,t=this.props,n=t.speaking,r=t.priority,a=t.collapsed;return r&&!a?v(l.default,{text:f.default.Messages.PRIORITY_SPEAKER},void 0,v("div",{className:(0,o.default)(p.default.iconPriortySpeaker,(e={},e[p.default.iconPriortySpeakerSpeaking]=n,e))})):null},a.renderAvatar=function(){var e,t=this.props,n=t.speaking,r=t.user,a=t.size,i=t.avatarContainerClass;return v("div",{className:(0,o.default)(i,p.default.avatar,(e={},e[p.default.avatarLarge]=a===c.OverlayAvatarSizes.LARGE,e[p.default.avatarSmall]=a===c.OverlayAvatarSizes.SMALL,e[p.default.avatarSpeaking]=n,e)),style:{backgroundImage:"url("+(r.avatarURL||r.getAvatarURL&&r.getAvatarURL("jpg")||"")+")"}})},a.renderName=function(){var e,t=this.props,n=t.nick,r=t.user,a=t.collapsed,i=t.speaking,l=t.userNameClassName;return a?null:v("div",{className:(0,o.default)(l,(e={},e[p.default.username]=!0,e[p.default.usernameSpeaking]=i,e))},void 0,n||r.username)},a.renderIcons=function(){var e=this.props,t=e.mute,n=e.deaf,r=e.collapsed,a=e.isStreaming,i=e.isWatching,l=e.iconClassName;if(r)return null;var c=[];return t&&c.push(v("div",{className:p.default.iconSpacing},"mute",v(d.default,{className:(0,o.default)(p.default.icon,l)}))),n&&c.push(v("div",{className:p.default.iconSpacing},"deaf",v(s.default,{className:(0,o.default)(p.default.icon,l)}))),a?c.push(v("div",{className:p.default.iconSpacing},"stream",v("div",{className:(0,o.default)(p.default.liveIcon,l)},void 0,f.default.Messages.LIVE))):i&&c.push(v("div",{className:p.default.iconSpacing},"watch",v(u.default,{className:(0,o.default)(p.default.icon,l)}))),0===c.length?null:v("div",{className:p.default.icons},void 0,c)},a.render=function(){var e,t,n=this.props,r=n.onClick,a=n.onDoubleClick,l=n.onContextMenu,u=n.flipped,s=n.size,d=n.className,f=n.selected;return v(i.default,{className:(0,o.default)(d,(e={},e[p.default.voiceUser]=!0,e[p.default.selected]=f,e[p.default.clickable]=null!=r,e[p.default.userSmall]=s===c.OverlayAvatarSizes.SMALL,e[p.default.userLarge]=s===c.OverlayAvatarSizes.LARGE,e)),onClick:r&&this.handleClick,onDoubleClick:a&&this.handleDoubleClick,onContextMenu:l&&this.handleContextMenu},void 0,v("div",{className:(0,o.default)(p.default.content,(t={},t[p.default.flipped]=u,t))},void 0,this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons()))},r}(a.Component);_.displayName="VoiceUser",_.List=m,_.defaultProps={avatarContainerClass:p.default.avatarContainer,userNameClassName:p.default.usernameFont,size:c.OverlayAvatarSizes.SMALL,selected:!1};var y=_;t.default=y},6652:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(29)),a=v(n(6)),o=v(n(3)),i=n(37),l=v(n(913)),u=n(59),s=v(n(1)),d=n(323),c=n(138),f=v(n(8)),p=v(n(11)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}var _,y=3e5,g=6e4,E=12e4,S=1e4,T={},I=new u.Timeout,O=window.document.createElement("canvas");O.width=512,O.height=288;var N=O.getContext("2d"),C={},A={},M=new Set;function R(){C={},A={},b()}function b(){I.stop(),null!=_&&(l.default.removeSink(_,T),_=null)}var P=a.default.debounce(function(e,t,n,r){b(),_=e,D(e,(0,c.encodeStreamKey)({streamType:"guild",guildId:t,channelId:n,ownerId:r}))},500);function L(e){N.fillStyle="#000",N.fillRect(0,0,O.width,O.height);var t=O.width/e.width,n=O.height/e.height,r=Math.min(t,n),a=e.width*r,o=e.height*r,i=(O.width-a)/2,l=(O.height-o)/2;N.drawImage(e,0,0,e.width,e.height,i,l,a,o)}function D(e,t){return w.apply(this,arguments)}function w(){var e;return e=regeneratorRuntime.mark(function e(t,n){var a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return D(t,n)},e.prev=1,e.next=4,U(t,60);case 4:return o=e.sent,e.next=7,window.createImageBitmap(o);case 7:return L(e.sent),G({previewURL:i=O.toDataURL("image/jpeg"),streamKey:n}),l=p.default.getToken(),(0,r.default)(null!=l,"Auth token was null while sending screenshot."),e.next=15,f.default.makeChunkedRequest(h.Endpoints.STREAM_PREVIEW(n),{thumbnail:i},{method:"POST",token:l});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),console.error("Failed to post stream preview",e.t0),_===t&&I.start(g,a),e.abrupt("return");case 22:_===t&&I.start(y,a);case 23:case"end":return e.stop()}},e,null,[[1,17]])}),(w=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,l,"next",e)}function l(e){m(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function U(e,t){var n=0;return new Promise(function(r,a){l.default.addSink(e,T,function(e){new Uint32Array(e.data.buffer).some(function(e){return 0!==e})&&r(e),++n>t&&a(new Error("Timed out awaiting non-black frame after "+t+" frames"))})}).finally(function(){l.default.removeSink(e,T)})}function G(e){var t=e.streamKey,n=e.previewURL;C[t]={url:n,expires:Date.now()+E},A[t]=0,M.delete(t)}var k=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getPreviewURL=function(e,t,n){var r=(0,c.encodeStreamKey)({streamType:"guild",guildId:e,channelId:t,ownerId:n}),a=C[r];return null==a||Date.now()>a.expires?(M.has(r)||(M.add(r),s.default.wait(function(){(0,d.fetchStreamPreview)(e,t,n)})),null):a.url},a.getIsPreviewLoading=function(e,t,n){var r=(0,c.encodeStreamKey)({streamType:"guild",guildId:e,channelId:t,ownerId:n});return M.has(r)},r}(o.default.Store))(s.default,{CONNECTION_OPEN:function(e){return R()},LOGOUT:function(e){return R()},STREAM_PREVIEW_FETCH_START:function(e){var t=e.streamKey;A[t]=(A[t]||0)+1,M.add(t)},STREAM_PREVIEW_FETCH_SUCCESS:G,STREAM_PREVIEW_FETCH_FAIL:function(e){var t=e.streamKey,n=e.retryAfter;C[t]={url:null,expires:Date.now()+(null!=n?n:S*A[t])},M.delete(t)},STREAM_DELETE:function(e){return b(),!1},VOICE_STATE_UPDATE:function(e){var t=e.userId,n=e.guildId,r=e.channelId,a=e.selfStream,o=(0,c.encodeStreamKey)({streamType:"guild",guildId:n,channelId:r,ownerId:t});a||(delete C[o],delete A[o])},RTC_CONNECTION_VIDEO:function(e){var t=e.guildId,n=e.channelId,r=e.userId,a=e.streamId,o=e.context;null==a||o!==i.MediaEngineContextTypes.STREAM||r!==p.default.getId()||__OVERLAY__||P(a,t,n,r)}});t.default=k},6653:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach(function(e){"number"==typeof t[e]&&(i[e]=t[e])})},a.getState=function(){return i},a.hasViewed=function(e){return null!=i[e]},r}(r.default.PersistedStore);l.persistKey="ViewHistoryStore";var u=new l(a.default,{VIEW_HISTORY_MARK_VIEW:function(e){var t=e.key;i[t]=Date.now()}});t.default=u},6656:function(e,t,n){"use strict";t.__esModule=!0,t.getOverlayLayoutContent=function(){return[{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:N(I.KeybindActions.SERVER_PREV,I.KeybindActions.SERVER_NEXT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:N(I.KeybindActions.CHANNEL_PREV,I.KeybindActions.CHANNEL_NEXT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:N(I.KeybindActions.UNREAD_PREV,I.KeybindActions.UNREAD_NEXT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:N(I.KeybindActions.MENTION_CHANNEL_PREV,I.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:N(I.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:N(I.KeybindActions.MARK_SERVER_READ)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:N(I.KeybindActions.MARK_CHANNEL_READ)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:N(I.KeybindActions.SEARCH_EMOJIS),groupEnd:!0},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:N(I.KeybindActions.TOGGLE_MUTE)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:N(I.KeybindActions.TOGGLE_DEAFEN)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:N(I.KeybindActions.CALL_ACCEPT)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:N(I.KeybindActions.MARK_CHANNEL_READ)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:N(I.KeybindActions.CALL_START),groupEnd:!0},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:N(I.KeybindActions.SCROLL_UP,I.KeybindActions.SCROLL_DOWN)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:N(I.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:N(I.KeybindActions.TEXTAREA_FOCUS)},{description:O.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:N(I.KeybindActions.QUICKSWITCHER_SHOW)}]},t.default=t.OVERLAY_LOCKED_LAYOUT=t.OVERLAY_LAYOUT=void 0;var r,a,o,i=n(6080),l=n(6081),u=n(5968),s=n(6082),d=n(6083),c=n(6084),f=n(6966),p=n(6086),h=n(6087),v=n(6088),m=n(6089),_=n(6090),y=n(6091),g=n(6093),E=n(6094),S=n(6095),T=n(6097),I=n(0),O=(r=n(10))&&r.__esModule?r:{default:r};function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=C[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var C=((a={})[I.KeybindActions.SERVER_NEXT]=m.SERVER_NEXT,a[I.KeybindActions.SERVER_PREV]=m.SERVER_PREV,a[I.KeybindActions.CHANNEL_NEXT]=l.CHANNEL_NEXT,a[I.KeybindActions.CHANNEL_PREV]=l.CHANNEL_PREV,a[I.KeybindActions.UNREAD_NEXT]=T.UNREAD_NEXT,a[I.KeybindActions.UNREAD_PREV]=T.UNREAD_PREV,a[I.KeybindActions.MENTION_CHANNEL_NEXT]=T.MENTION_NEXT,a[I.KeybindActions.MENTION_CHANNEL_PREV]=T.MENTION_PREV,a[I.KeybindActions.TOGGLE_PREVIOUS_GUILD]=l.TOGGLE_PREVIOUS_GUILD,a[I.KeybindActions.JUMP_TO_GUILD]=u.JUMP_TO_GUILD,a[I.KeybindActions.SUBMIT]=_.SUBMIT,a[I.KeybindActions.TEXTAREA_FOCUS]=y.TEXTAREA_FOCUS,a[I.KeybindActions.MARK_CHANNEL_READ]=s.MARK_CHANNEL_READ,a[I.KeybindActions.MARK_SERVER_READ]=d.MARK_SERVER_READ,a[I.KeybindActions.TOGGLE_MUTE]=g.TOGGLE_MUTE,a[I.KeybindActions.TOGGLE_DEAFEN]=g.TOGGLE_DEAFEN,a[I.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=E.TOGGLE_CATEGORY_COLLAPSED,a[I.KeybindActions.SCROLL_UP]=h.SCROLL_UP,a[I.KeybindActions.SCROLL_DOWN]=h.SCROLL_DOWN,a[I.KeybindActions.SEARCH_EMOJIS]=v.SEARCH_EMOJIS,a[I.KeybindActions.TOGGLE_HOTKEYS]=S.TOGGLE_HOTKEYS,a[I.KeybindActions.JUMP_TO_FIRST_UNREAD]=c.JUMP_TO_FIRST_UNREAD,a[I.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=p.RETURN_TO_AUDIO_CHANNEL,a[I.KeybindActions.CALL_ACCEPT]=i.CALL_ACCEPT,a[I.KeybindActions.CALL_START]=i.CALL_START,a[I.KeybindActions.QUICKSWITCHER_SHOW]=f.QUICKSWITCHER_SHOW,a);t.OVERLAY_LAYOUT=C;var A=((o={})[I.KeybindActions.QUICKSWITCHER_SHOW]=f.QUICKSWITCHER_SHOW,o);t.OVERLAY_LOCKED_LAYOUT=A;var M=C;t.default=M},6705:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=Object.freeze({"voice-conversations":{},"writing-messages":{prerequisites:["voice-conversations"]},"direct-messages":{},"create-first-server":{},"organize-by-topic":{},"instant-invite":{prerequisites:["organize-by-topic"]},"whos-online":{prerequisites:["instant-invite"]},"server-settings":{prerequisites:["instant-invite"]},"friends-list":{prerequisites:["instant-invite"]},"create-more-servers":{prerequisites:["server-settings"]}});t.default=r},6714:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1,u=null,s=224,d=!1;function c(){i=!0}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getProps=function(){return{working:i,valid:l,error:u}},a.getCountryId=function(){return s},a.getCountrySelectorOpened=function(){return d},r}(r.default.Store))(a.default,{VERIFICATION_ADDING_PHONE:function(e){return c()},VERIFICATION_VERIFYING_PHONE:function(e){return c()},VERIFICATION_ADD_PHONE_SUCCESS:function(e){return u=null,i=!1,void(l=!0)},VERIFICATION_ADD_PHONE_FAILURE:function(e){var t=e.error;u=t,i=!1,l=!1},VERIFICATION_VERIFY_PHONE_SUCCESS:function(e){return u=null,void(i=!1)},VERIFICATION_ADD_PHONE_RESET:function(e){return u=null,i=!1,void(l=!1)},VERIFICATION_VERIFY_PHONE_FAILURE:function(e){var t=e.error;u=t,i=!1},VERIFICATION_SELECT_COUNTRY:function(e){var t=e.id;s!==t&&(s=t)},VERIFICATION_OPEN_COUNTRY_SELECTOR:function(e){d=!0},VERIFICATION_CLOSE_COUNTRY_SELECTOR:function(e){d=!1}});t.default=f},6715:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=m(n(17)),i=m(n(6018)),l=_(n(112)),u=m(n(6716)),s=m(n(158)),d=m(n(188)),c=m(n(6717)),f=m(n(10)),p=m(n(312)),h=m(n(5235)),v=m(n(5377));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function m(t){var n;return(n=e.call(this,t)||this)._animItem=null,n.setLottieRef=function(e){n._lottieRef=e},n.handleAddPhone=function(e){n.state.animated||null==n._animItem||(n._animItem.play(),n.setState({animated:!0})),n._phone=e;var t=n.props.onAddPhone;t&&t(e)},n.handleVerifyPhone=function(e){var t=n.props.onVerifyPhone;t&&t(e)},n.handleResendCode=function(){var e=n.props.onAddPhone;e&&e(n._phone)},n.state={animated:!1},n}r=e,(t=m).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var _=m.prototype;return _.componentDidMount=function(){var e=this;n.e(280).then(function(t){var r=n(7163);e._animItem=i.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!1,animationData:r})}.bind(null,n)).catch(n.oe)},_.componentWillUnmount=function(){null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},_.render=function(){var e,t,n=this.props,r=n.error,i=n.working,m=n.validPhone;return e=r?y("div",{className:(0,o.default)(v.default.description,v.default.error,h.default.marginBottom20)},void 0,r):y("div",{className:(0,o.default)(v.default.description,h.default.marginBottom20)},void 0,m?f.default.Messages.VERIFICATION_PHONE_DESCRIPTION:f.default.Messages.ENTER_PHONE_DESCRIPTION),t=m?y(s.default,{className:v.default.field,direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER},void 0,y(u.default,{onSubmit:this.handleVerifyPhone}),y(l.default,{className:h.default.marginTop8,size:l.ButtonSizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleResendCode},void 0,f.default.Messages.RESEND_CODE)):y(c.default,{className:v.default.field,onSubmit:this.handleAddPhone,submitting:i}),y(d.default,{className:(0,o.default)(v.default.phoneVerificationModal,p.default.vertical,p.default.alignCenter,p.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),y("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,m?f.default.Messages.VERIFICATION_PHONE_TITLE:f.default.Messages.ENTER_PHONE_TITLE),e,t)},m}(a.PureComponent);g.displayName="PhoneVerificationModal";var E=g;t.default=E},6716:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(158)),i=l(n(5373));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(t){var n;return s(n=e.call(this,t)||this).handleKeyDown=n.handleKeyDown.bind(s(n)),s(n).handleChange=n.handleChange.bind(s(n)),s(n).setCodeBlockRef=n.setCodeBlockRef.bind(s(n)),n}d(t,e);var n=t.prototype;return n.render=function(){return a.createElement("input",{ref:this.setCodeBlockRef,className:i.default.input,maxLength:1,value:this.props.code,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})},n.setCodeBlockRef=function(e){this._codeBlockRef=e},n.focus=function(){this._codeBlockRef&&this._codeBlockRef.focus()},n.blur=function(){this._codeBlockRef&&this._codeBlockRef.blur()},n.handleKeyDown=function(e){var t=8===e.which||37===e.which||39===e.which,n=e.which>=48&&e.which<=57||e.keyCode>=96&&e.keyCode<=105;t||n||e.preventDefault();var r=this.props.onKeyDown;r&&r(e)},n.handleChange=function(e){var t=this.props.onChange;t&&t(e.currentTarget.value)},t}(a.PureComponent);c.displayName="CodeBlock",c.defaultProps={autoFocus:!1};var f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._codeBlockRefs=new Array(n.props.count),n.state={codes:new Array(t.count)},n}d(t,e);var n=t.prototype;return n.render=function(){for(var e=this,t=this.state.codes,n=[],r=function(r){r===t.length/2&&n.push(u("div",{className:i.default.spacer},"spacer")),n.push(a.createElement(c,{ref:function(t){return e.setCodeBlockRef(r,t)},key:r,code:t[r],autoFocus:0===r,onChange:function(t){return e.handleChange(r,t)},onKeyDown:function(t){return e.handleKeyDown(r,t)}}))},l=0;l<t.length;l++)r(l);return u(o.default,{align:o.default.Align.CENTER,justify:o.default.Justify.CENTER},void 0,n)},n.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t},n.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];r&&r.focus()}},n.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var a=this._codeBlockRefs[r];a&&a.focus()}},n.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t},n.submit=function(e){var t=this.props.onSubmit;t&&t(e)},t}(a.PureComponent);f.displayName="CodeField",f.defaultProps={count:6};var p=f;t.default=p},6717:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(2)),o=y(n(17)),i=y(n(5887)),l=y(n(6)),u=y(n(6718)),s=g(n(112)),d=y(n(158)),c=y(n(302)),f=y(n(6361)),p=y(n(307)),h=y(n(10)),v=y(n(5241)),m=y(n(5235)),_=y(n(5376));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var I=S(f.default.Divider,{}),O=function(e){function t(t){var n;return(n=e.call(this,t)||this).onChangeQuery=function(e){n.setState({query:e})},n.onClearQuery=function(){n.setState({query:""})},n.onClick=function(e){var t=e.id;(0,n.props.onClick)(t)},n.state={query:""},n}T(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.state.query,n=u.default.map(function(e,t){var n=e.code,r=e.name,a=n.split(" ")[0];return{id:t,value:r,children:S(d.default,{className:_.default.countryItem,justify:d.default.Justify.CENTER,align:d.default.Align.CENTER},void 0,S(d.default.Child,{className:_.default.countryName},void 0,r),S(d.default.Child,{className:_.default.countryCode,grow:0,shrink:0},void 0,a))}}),r=(0,l.default)(n).filter(function(e){return 0===t.length||(0,i.default)(t.toLowerCase(),e.value.toLowerCase())}).map(function(t){return a.createElement(f.default.Item,E({key:t.id},t,{onClick:e.onClick}))}).value();return 0===r.length?S(f.default.Empty,{},void 0,h.default.Messages.NONE):S(p.default,{outerClassName:_.default.scrollerWrap,className:_.default.phoneFieldScroller},void 0,r)},n.render=function(){return S(f.default,{className:(0,o.default)(_.default.phoneFieldPopout,v.default.elevationBorderLow)},void 0,S(f.default.SearchBar,{query:this.state.query,placeholder:h.default.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery}),I,this.renderItems())},t}(a.PureComponent);O.displayName="CountryPopoutList";var N=function(e){function t(t){var n;(n=e.call(this,t)||this).handleChange=function(e){n.closePopout(),n.setState({phone:e.currentTarget.value})},n.handleKeyPress=function(e){n.closePopout(),13===e.which&&(e.preventDefault(),n.handleSubmit())},n.handleSubmit=function(){var e=n.props,t=e.onSubmit,r=e.submitting,a=n.state,o=a.countryCode,i=a.phone;r||t&&t(""+o+i)},n.handleTogglePopout=function(){n.setState({open:!n.state.open})},n.handleClick=function(e){var t=u.default[e].code.split(" "),r=t[0],a=t[1];n.setState({open:!1,countryCode:r,phone:a||""})};var r=u.default[224].code.split(" "),a=r[0],o=r[1];return n.state={countryCode:a,phone:o||"",open:!1},n}T(t,e);var n=t.prototype;return n.render=function(){var e=this.state,t=e.countryCode,n=e.phone,r=e.open,a=this.props,i=a.className,l=a.submitting,u=t.split("+")[1];return S(d.default,{className:(0,o.default)(_.default.phoneField,v.default.elevationLow,i),align:d.default.Align.CENTER,grow:0},void 0,S(d.default,{className:_.default.countryButton,grow:0,align:d.default.Align.CENTER,onClick:this.handleTogglePopout},void 0,S(d.default,{className:(0,o.default)(_.default.countryCodeContainer,m.default.marginReset),justify:d.default.Justify.CENTER},void 0,S("div",{className:_.default.plusSign},void 0,"+"),S("div",{className:_.default.countryCode},void 0,u)),S(c.default,{name:c.default.Names.CARET,foreground:_.default.phoneFieldExpand,expanded:r,width:16,height:16})),S("input",{className:_.default.inputField,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),S(s.default,{className:_.default.sendButton,size:s.ButtonSizes.SMALL,submitting:l,onClick:this.handleSubmit},void 0,h.default.Messages.SEND),r?S(O,{onClick:this.handleClick}):null)},n.closePopout=function(){this.state.open&&this.setState({open:!1})},t}(a.PureComponent);N.displayName="PhoneField";var C=N;t.default=C},6718:function(e){e.exports=[{code:"+7 840",name:"Abkhazia"},{code:"+93",name:"Afghanistan"},{code:"+355",name:"Albania"},{code:"+213",name:"Algeria"},{code:"+1 684",name:"American Samoa"},{code:"+376",name:"Andorra"},{code:"+244",name:"Angola"},{code:"+1 264",name:"Anguilla"},{code:"+1 268",name:"Antigua and Barbuda"},{code:"+54",name:"Argentina"},{code:"+374",name:"Armenia"},{code:"+297",name:"Aruba"},{code:"+247",name:"Ascension"},{code:"+61",name:"Australia"},{code:"+672",name:"Australian External Territories"},{code:"+43",name:"Austria"},{code:"+994",name:"Azerbaijan"},{code:"+1 242",name:"Bahamas"},{code:"+973",name:"Bahrain"},{code:"+880",name:"Bangladesh"},{code:"+1 246",name:"Barbados"},{code:"+1 268",name:"Barbuda"},{code:"+375",name:"Belarus"},{code:"+32",name:"Belgium"},{code:"+501",name:"Belize"},{code:"+229",name:"Benin"},{code:"+1 441",name:"Bermuda"},{code:"+975",name:"Bhutan"},{code:"+591",name:"Bolivia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+267",name:"Botswana"},{code:"+55",name:"Brazil"},{code:"+246",name:"British Indian Ocean Territory"},{code:"+1 284",name:"British Virgin Islands"},{code:"+673",name:"Brunei"},{code:"+359",name:"Bulgaria"},{code:"+226",name:"Burkina Faso"},{code:"+257",name:"Burundi"},{code:"+855",name:"Cambodia"},{code:"+237",name:"Cameroon"},{code:"+1",name:"Canada"},{code:"+238",name:"Cape Verde"},{code:"+1 345",name:"Cayman Islands"},{code:"+236",name:"Central African Republic"},{code:"+235",name:"Chad"},{code:"+56",name:"Chile"},{code:"+86",name:"China"},{code:"+61",name:"Christmas Island"},{code:"+61",name:"Cocos-Keeling Islands"},{code:"+57",name:"Colombia"},{code:"+269",name:"Comoros"},{code:"+242",name:"Congo"},{code:"+243",name:"Congo, Dem. Rep. of (Zaire)"},{code:"+682",name:"Cook Islands"},{code:"+506",name:"Costa Rica"},{code:"+385",name:"Croatia"},{code:"+53",name:"Cuba"},{code:"+599",name:"Curacao"},{code:"+357",name:"Cyprus"},{code:"+420",name:"Czech Republic"},{code:"+45",name:"Denmark"},{code:"+246",name:"Diego Garcia"},{code:"+253",name:"Djibouti"},{code:"+1 767",name:"Dominica"},{code:"+1 809",name:"Dominican Republic"},{code:"+670",name:"East Timor"},{code:"+56",name:"Easter Island"},{code:"+593",name:"Ecuador"},{code:"+20",name:"Egypt"},{code:"+503",name:"El Salvador"},{code:"+240",name:"Equatorial Guinea"},{code:"+291",name:"Eritrea"},{code:"+372",name:"Estonia"},{code:"+251",name:"Ethiopia"},{code:"+500",name:"Falkland Islands"},{code:"+298",name:"Faroe Islands"},{code:"+679",name:"Fiji"},{code:"+358",name:"Finland"},{code:"+33",name:"France"},{code:"+596",name:"French Antilles"},{code:"+594",name:"French Guiana"},{code:"+689",name:"French Polynesia"},{code:"+241",name:"Gabon"},{code:"+220",name:"Gambia"},{code:"+995",name:"Georgia"},{code:"+49",name:"Germany"},{code:"+233",name:"Ghana"},{code:"+350",name:"Gibraltar"},{code:"+30",name:"Greece"},{code:"+299",name:"Greenland"},{code:"+1 473",name:"Grenada"},{code:"+590",name:"Guadeloupe"},{code:"+1 671",name:"Guam"},{code:"+502",name:"Guatemala"},{code:"+224",name:"Guinea"},{code:"+245",name:"Guinea-Bissau"},{code:"+592",name:"Guyana"},{code:"+509",name:"Haiti"},{code:"+504",name:"Honduras"},{code:"+852",name:"Hong Kong SAR China"},{code:"+36",name:"Hungary"},{code:"+354",name:"Iceland"},{code:"+91",name:"India"},{code:"+62",name:"Indonesia"},{code:"+98",name:"Iran"},{code:"+964",name:"Iraq"},{code:"+353",name:"Ireland"},{code:"+972",name:"Israel"},{code:"+39",name:"Italy"},{code:"+225",name:"Ivory Coast"},{code:"+1 876",name:"Jamaica"},{code:"+81",name:"Japan"},{code:"+962",name:"Jordan"},{code:"+7",name:"Kazakhstan"},{code:"+254",name:"Kenya"},{code:"+686",name:"Kiribati"},{code:"+383",name:"Kosovo"},{code:"+965",name:"Kuwait"},{code:"+996",name:"Kyrgyzstan"},{code:"+856",name:"Laos"},{code:"+371",name:"Latvia"},{code:"+961",name:"Lebanon"},{code:"+266",name:"Lesotho"},{code:"+231",name:"Liberia"},{code:"+218",name:"Libya"},{code:"+423",name:"Liechtenstein"},{code:"+370",name:"Lithuania"},{code:"+352",name:"Luxembourg"},{code:"+853",name:"Macau SAR China"},{code:"+389",name:"Macedonia"},{code:"+261",name:"Madagascar"},{code:"+265",name:"Malawi"},{code:"+60",name:"Malaysia"},{code:"+960",name:"Maldives"},{code:"+223",name:"Mali"},{code:"+356",name:"Malta"},{code:"+692",name:"Marshall Islands"},{code:"+596",name:"Martinique"},{code:"+222",name:"Mauritania"},{code:"+230",name:"Mauritius"},{code:"+262",name:"Mayotte"},{code:"+52",name:"Mexico"},{code:"+691",name:"Micronesia"},{code:"+1 808",name:"Midway Island"},{code:"+373",name:"Moldova"},{code:"+377",name:"Monaco"},{code:"+976",name:"Mongolia"},{code:"+382",name:"Montenegro"},{code:"+1664",name:"Montserrat"},{code:"+212",name:"Morocco"},{code:"+95",name:"Myanmar"},{code:"+264",name:"Namibia"},{code:"+674",name:"Nauru"},{code:"+977",name:"Nepal"},{code:"+31",name:"Netherlands"},{code:"+599",name:"Netherlands Antilles"},{code:"+1 869",name:"Nevis"},{code:"+687",name:"New Caledonia"},{code:"+64",name:"New Zealand"},{code:"+505",name:"Nicaragua"},{code:"+227",name:"Niger"},{code:"+234",name:"Nigeria"},{code:"+683",name:"Niue"},{code:"+672",name:"Norfolk Island"},{code:"+850",name:"North Korea"},{code:"+1 670",name:"Northern Mariana Islands"},{code:"+47",name:"Norway"},{code:"+968",name:"Oman"},{code:"+92",name:"Pakistan"},{code:"+680",name:"Palau"},{code:"+970",name:"Palestinian Territory"},{code:"+507",name:"Panama"},{code:"+675",name:"Papua New Guinea"},{code:"+595",name:"Paraguay"},{code:"+51",name:"Peru"},{code:"+63",name:"Philippines"},{code:"+48",name:"Poland"},{code:"+351",name:"Portugal"},{code:"+1 787",name:"Puerto Rico"},{code:"+974",name:"Qatar"},{code:"+262",name:"Reunion"},{code:"+40",name:"Romania"},{code:"+7",name:"Russia"},{code:"+250",name:"Rwanda"},{code:"+685",name:"Samoa"},{code:"+378",name:"San Marino"},{code:"+966",name:"Saudi Arabia"},{code:"+221",name:"Senegal"},{code:"+381",name:"Serbia"},{code:"+248",name:"Seychelles"},{code:"+232",name:"Sierra Leone"},{code:"+65",name:"Singapore"},{code:"+421",name:"Slovakia"},{code:"+386",name:"Slovenia"},{code:"+677",name:"Solomon Islands"},{code:"+27",name:"South Africa"},{code:"+500",name:"South Georgia and the South Sandwich Islands"},{code:"+82",name:"South Korea"},{code:"+34",name:"Spain"},{code:"+94",name:"Sri Lanka"},{code:"+249",name:"Sudan"},{code:"+597",name:"Suriname"},{code:"+268",name:"Swaziland"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+963",name:"Syria"},{code:"+886",name:"Taiwan"},{code:"+992",name:"Tajikistan"},{code:"+255",name:"Tanzania"},{code:"+66",name:"Thailand"},{code:"+670",name:"Timor Leste"},{code:"+228",name:"Togo"},{code:"+690",name:"Tokelau"},{code:"+676",name:"Tonga"},{code:"+1 868",name:"Trinidad and Tobago"},{code:"+216",name:"Tunisia"},{code:"+90",name:"Turkey"},{code:"+993",name:"Turkmenistan"},{code:"+1 649",name:"Turks and Caicos Islands"},{code:"+688",name:"Tuvalu"},{code:"+1 340",name:"U.S. Virgin Islands"},{code:"+256",name:"Uganda"},{code:"+380",name:"Ukraine"},{code:"+971",name:"United Arab Emirates"},{code:"+44",name:"United Kingdom"},{code:"+1",name:"United States"},{code:"+598",name:"Uruguay"},{code:"+998",name:"Uzbekistan"},{code:"+678",name:"Vanuatu"},{code:"+58",name:"Venezuela"},{code:"+84",name:"Vietnam"},{code:"+1 808",name:"Wake Island"},{code:"+681",name:"Wallis and Futuna"},{code:"+967",name:"Yemen"},{code:"+260",name:"Zambia"},{code:"+255",name:"Zanzibar"},{code:"+263",name:"Zimbabwe"}]},6727:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RecordModes=void 0;var r,a,o=h(n(2)),i=p(n(17)),l=p(n(6030)),u=n(243),s=h(n(112)),d=p(n(158)),c=p(n(10)),f=p(n(5386));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m={DEFAULT:"DEFAULT",RECORDING:"RECORDING"};t.RecordModes=m;var _=((r={})[m.DEFAULT]=f.default.default,r[m.RECORDING]=f.default.recording,r);function y(e){e.preventDefault()}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).setInputRef=function(e){t._input=e},t.handleBlur=function(){t.props.mode===m.RECORDING&&(0,t.props.onClick)()},t.handleFocus=function(){t.props.mode===m.DEFAULT&&(0,t.props.onClick)()},t.handleClick=function(e){e.preventDefault(),(0,t.props.onClick)()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.onChange;e&&this._input&&(new l.default(this._input).handleKey=e)},a.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===m.DEFAULT&&n===r&&n.blur(),t===m.RECORDING&&n!==r&&n.focus()}}},a.render=function(){var e,t,n=this.props,r=n.mode,a=n.value,l=n.disabled,p=(0,u.toString)(a,!0);t=r===m.RECORDING?c.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===a.length?c.default.Messages.SHORTCUT_RECORDER_BUTTON:c.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var h=r===m.DEFAULT&&a.length>0;return v("div",{className:(0,i.default)(f.default.container,_[r],(e={},e[f.default.hasValue]=h,e[f.default.disabled]=l,e))},void 0,v(d.default,{className:f.default.layout},void 0,v(d.default.Child,{className:f.default.input},void 0,o.createElement("input",{placeholder:c.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:p,onKeyDown:y,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:l})),v(d.default,{shrink:1,grow:0,style:{margin:0}},void 0,v(s.default,{className:f.default.button,disabled:l,onMouseDown:y,onMouseUp:this.handleClick,size:s.default.Sizes.MIN,color:s.ButtonColors.GREY,look:s.ButtonLooks.GHOST},void 0,v("span",{className:f.default.text},void 0,t),v("span",{className:f.default.editIcon})))))},r}(o.PureComponent);g.displayName="KeyRecorder";var E=g;t.default=E},6728:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=f(n(302)),l=p(n(428)),u=n(0),s=f(n(10)),d=f(n(5235)),c=f(n(5387));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=0,m=function(){return"notification-position-selector-"+v++},_=function(e){switch(e){case u.OverlayNotificationPositions.TOP_LEFT:return s.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case u.OverlayNotificationPositions.TOP_RIGHT:return s.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case u.OverlayNotificationPositions.BOTTOM_LEFT:return s.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case u.OverlayNotificationPositions.BOTTOM_RIGHT:return s.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return s.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},y=[u.OverlayNotificationPositions.DISABLED,u.OverlayNotificationPositions.TOP_LEFT,u.OverlayNotificationPositions.TOP_RIGHT,u.OverlayNotificationPositions.BOTTOM_LEFT,u.OverlayNotificationPositions.BOTTOM_RIGHT],g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).settingsWrapper=a.createRef(),t.state={name:m(),hasFocus:!1},t.handleFocusIn=function(){t.settingsWrapper.current&&t.setState({hasFocus:!0})},t.handleFocusOut=function(){t.settingsWrapper.current&&t.setState({hasFocus:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentDidMount=function(){var e=this.settingsWrapper.current;null!=e&&(e.addEventListener("focusin",this.handleFocusIn,!0),e.addEventListener("focusout",this.handleFocusOut,!0))},f.componentWillUnmount=function(){var e=this.settingsWrapper.current;null!=e&&(e.removeEventListener("focusin",this.handleFocusIn,!0),e.removeEventListener("focusout",this.handleFocusOut,!0))},f.render=function(){var e,t=this.props,n=t.position,r=t.onChange,f=this.state,p=f.name,v=f.hasFocus,m=n===u.OverlayNotificationPositions.DISABLED?s.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:s.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:_(n)});return h("div",{},void 0,a.createElement("div",{className:(0,o.default)(c.default.wrapper,(e={},e[c.default.disabledSelected]=n===u.OverlayNotificationPositions.DISABLED,e[c.default.hasFocus]=v,e)),ref:this.settingsWrapper},y.map(function(e){var t;return h("label",{className:(0,o.default)((t={},t[c.default.selected]=e===n,t[c.default.disabled]=e===u.OverlayNotificationPositions.DISABLED,t[c.default.topRight]=e===u.OverlayNotificationPositions.TOP_RIGHT,t[c.default.topLeft]=e===u.OverlayNotificationPositions.TOP_LEFT,t[c.default.bottomRight]=e===u.OverlayNotificationPositions.BOTTOM_RIGHT,t[c.default.bottomLeft]=e===u.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,_(e),e===u.OverlayNotificationPositions.DISABLED?h(i.default,{name:i.default.Names.NOT_ALLOWED,className:c.default.disabledIcon}):null,h("input",{type:"radio",name:p,value:e,onChange:function(t){return r(t,e)},className:c.default.hiddenInput}))})),h(l.default,{type:l.Types.DESCRIPTION,className:d.default.marginTop8},void 0,m))},r}(a.Component);g.displayName="NotificationSettings",g.Positions=u.OverlayNotificationPositions;var E=g;t.default=E},6729:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=f(n(3)),i=f(n(1)),l=f(n(165)),u=f(n(75)),s=f(n(23)),d=f(n(845)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,d.default,s.default),this.syncWith([u.default,s.default],function(){return!0})},a.getExperimentId=function(){return c.Experiments.PREMIUM_PARTNERED_VERIFIED_GUILDS},a.getMetaData=function(){return{title:"Premium Guilds",description:["Treatment 1: Enable premium guilds."]}},a.getExperimentDescriptor=function(e){return u.default.getOverrideExperimentDescriptor(this.getExperimentId())||d.default.getExperimentAssignment(e,this.getExperimentId())},a.isEligibleForGuild=function(e){var t=s.default.getGuild(e);if(null!=t&&t.premiumTier!==c.PremiumGuildTiers.NONE)return!0;var n=this.getExperimentDescriptor(e);return null!=n&&(l.default.trigger(n),n.bucket===c.ExperimentBuckets.TREATMENT_1)},a.isEligible=function(){var e=s.default.getGuilds();for(var t in e)if(e.hasOwnProperty(t)&&this.isEligibleForGuild(t))return!0;return!1},r}(o.default.Store))(i.default);l.default.register(p,((a={})[c.ExperimentTypes.GUILD]=((r={})[c.ExperimentBuckets.CONTROL]=function(){return null},r[c.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var h=p;t.default=h},6730:function(e,t,n){e.exports=n.p+"c7c47afdf35d5a3e06233319d3aa7674.svg"},6731:function(e,t,n){e.exports=n.p+"c8845c514bbf3f1e5bea064c1e40b08d.svg"},6732:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=H(n(2)),o=B(n(17)),i=B(n(29)),l=B(n(3)),u=B(n(73)),s=B(n(5851)),d=H(n(6338)),c=B(n(6003)),f=B(n(907)),p=B(n(233)),h=B(n(11)),v=B(n(20)),m=B(n(35)),_=B(n(99)),y=B(n(159)),g=B(n(101)),E=B(n(60)),S=B(n(50)),T=B(n(14)),I=B(n(870)),O=B(n(452)),N=B(n(112)),C=B(n(158)),A=B(n(5862)),M=B(n(302)),R=B(n(128)),b=B(n(426)),P=n(234),L=B(n(18)),D=B(n(8)),w=B(n(6733)),U=B(n(6734)),G=B(n(6736)),k=n(0),F=B(n(10)),j=B(n(5396));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClickGoLiveButton=function(){var e=t.props,n=e.guildId,r=e.voiceChannel,a=e.shouldUseTestDesktopSource;t.modalKey=u.default.push(function(){return x(U.default,{guildId:null!=r?r.getGuildId():n,onClose:t.handleCloseModal,shouldUseTestDesktopSource:a})})},t.handleClickStopStreamingButton=function(){var e=t.props.stream;(0,f.default)(e)},t.handleClickInviteButton=function(){var e=t.props,n=e.activity,r=e.analyticsContext;(0,i.default)(null!=n,"Received null activity"),L.default.track(k.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:n.application_id,location:r.location}),t.modalKey=u.default.push(function(){return x(G.default,{activity:n,onClose:t.handleCloseModal})})},t.handleCloseModal=function(){null!=t.modalKey?u.default.popWithKey(t.modalKey):u.default.pop()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isJoinableActivity=function(){var e=this.props,t=e.application,n=e.activity;return null!=t&&null!=n&&n.application_id===t.id&&n.type===k.ActivityTypes.PLAYING&&(0,P.hasFlag)(n,k.ActivityFlags.JOIN)},a.renderGoLiveButton=function(){var e,t,n,r,a=this.props,o=a.inGoLiveExperiment,i=a.guildId,l=a.isStreaming,u=a.voiceChannel,s=a.canStream;return o&&D.default.embedded?(l?(e=!1,t=this.handleClickStopStreamingButton,n=M.default.Names.STOP_STREAM,r=F.default.Messages.STOP_STREAMING):s?(e=!1,t=this.handleClickGoLiveButton,n=M.default.Names.LIVE_STREAM,r=F.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP):(e=!0,t=null,n=M.default.Names.LIVE_STREAM,r=null!=u?F.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=i?F.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:F.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD),x(b.default,{text:r},void 0,x(N.default,{"aria-label":r,disabled:e,onClick:t,look:N.default.Looks.BLANK,size:N.default.Sizes.NONE,className:j.default.iconButton,innerClassName:j.default.buttonInner},void 0,x(M.default,{name:n,color:k.Colors.WHITE,className:j.default.actionIcon})))):null},a.renderInviteButton=function(){return this.isJoinableActivity()?x(b.default,{text:F.default.Messages.INVITE_EMBED_INVITE_TO_JOIN},void 0,x(N.default,{"aria-label":F.default.Messages.INVITE_EMBED_INVITE_TO_JOIN,look:N.default.Looks.BLANK,size:N.default.Sizes.NONE,className:j.default.iconButton,innerClassName:j.default.buttonInner,onClick:this.handleClickInviteButton},void 0,x(M.default,{name:M.default.Names.INVITE,color:k.Colors.WHITE,className:j.default.actionIcon}))):null},a.renderActions=function(){var e=this.renderGoLiveButton(),t=this.renderInviteButton();return null==e&&null==t?null:x(C.default,{grow:0,align:C.default.Align.STRETCH,direction:C.default.Direction.HORIZONTAL,className:j.default.actions},void 0,e,t)},a.render=function(){var e,t=this.props,n=t.analyticsContext,r=t.inGoLiveExperiment,a=t.settingsGame,i=t.application,l=t.isStreaming,u=t.shouldHideGoLive,s=t.className;if(!l){if(!this.isJoinableActivity()&&(!r||u))return null;if(null==a)return null}var d=null!=a?a.name:F.default.Messages.STATUS_UNKNOWN;return x("div",{className:(0,o.default)(j.default.panel,s)},void 0,x("div",{className:j.default.body},void 0,x(w.default,{game:i,source:k.AnalyticsLocations.ACTIVITY_PANEL,analyticsContext:n},void 0,x("div",{className:(0,o.default)(j.default.gameWrapper,(e={},e[j.default.clickableGameWrapper]=null!=i,e))},void 0,x(A.default,{className:j.default.gameIcon,game:i}),x(R.default,{title:d,weight:R.default.Weights.MEDIUM,className:j.default.gameName},void 0,d))),this.renderActions()))},r}(a.PureComponent);V.displayName="ActivityPanelGameCard";var Y=(0,s.default)(l.default.connectStores([p.default,h.default,m.default,I.default,_.default,y.default,g.default,E.default,T.default,S.default,v.default],function(e){var t=e.guildId,n=h.default.getId(),r=T.default.getCurrentUser(),a=(0,c.default)(E.default,O.default),o=v.default.getChannel(S.default.getVoiceChannelId()),i=p.default.getActiveStream(),l=!1;if(null!=o)l=d.canStreamInChannel(n,o,!1);else if(null!=t){l=d.getStreamEligibleChannels(n,_.default.getChannels(t)).length>0}var u=D.default.isOSX(),s=null!=r&&r.hasFlag(k.UserFlags.STAFF),f=u&&s,y=u&&!f;return{inGoLiveExperiment:I.default.canGoLive(t),settingsGame:a,application:null!=a?m.default.getGameBySettingGame(a):null,activity:null!=n?g.default.getPrimaryActivity(n):null,isStreaming:null!=i&&i.ownerId===n,voiceChannel:o,canStream:l,stream:i,shouldHideGoLive:y,shouldUseTestDesktopSource:f}})(V));t.default=Y},6733:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=p(n(17)),i=p(n(5851)),l=n(839),u=p(n(6550)),s=p(n(6551)),d=p(n(795)),c=h(n(6073)),f=p(n(6155));n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleGamePopoutOpen=function(){var e=t.props,n=e.game,r=e.source,a=e.onOpen,o=e.analyticsContext;null!=n&&(c.trackGamePopoutOpened(n,r,o.location),a&&a())},t.renderGamePopout=function(e){var n=t.props,r=n.game,o=n.source,i=n.analyticsContext;return a.createElement(f.default,v({},e,{game:r,source:o,analyticsContext:i}))},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,i=e.interactiveClassName,c=e.game;return null==c||c.id===l.SPOTIFY_APPLICATION_ID||c instanceof u.default||c instanceof s.default?t:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{render:this.renderGamePopout,position:d.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,a.cloneElement(t,{className:(0,o.default)(t.props.className,i)}))},i}(a.PureComponent);m.displayName="GamePopoutOpener";var _=(0,i.default)(m);t.default=_},6734:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=J(n(2)),o=X(n(17)),i=X(n(29)),l=X(n(6)),u=X(n(3)),s=n(37),d=X(n(6735)),c=X(n(235)),f=X(n(73)),p=X(n(133)),h=n(323),v=n(191),m=n(888),_=n(6338),y=X(n(6003)),g=X(n(895)),E=X(n(20)),S=X(n(35)),T=X(n(99)),I=X(n(60)),O=X(n(50)),N=X(n(14)),C=X(n(132)),A=X(n(452)),M=J(n(5849)),R=J(n(112)),b=X(n(431)),P=X(n(158)),L=X(n(5862)),D=X(n(302)),w=X(n(188)),U=X(n(5870)),G=X(n(307)),k=X(n(128)),F=n(806),j=X(n(5917)),B=n(796),H=X(n(18)),x=n(841),V=X(n(8)),Y=X(n(443)),K=X(n(6462)),W=n(0),z=X(n(10)),$=X(n(852)),q=X(n(5391));function X(e){return e&&e.__esModule?e:{default:e}}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=5,te=(0,x.cachedFunction)(function(e,t){var n={};return(0,l.default)(e).forEach(function(e){var r=e.channelId,a=e.userId;if(null!=r){var o=n[r];null==o?n[r]=[a]:a===t?o.unshift(a):o.push(a)}}),n}),ne=function(e,t){var n=t.id,r=t.guild_id;return e.length<=1?null:2===e.length?z.default.Messages.GO_LIVE_MODAL_OVERFLOW_TWO_USERS.format({nickname0:Y.default.getName(r,n,e[0]),nickname1:Y.default.getName(r,n,e[1])}):3===e.length?z.default.Messages.GO_LIVE_MODAL_OVERFLOW_THREE_USERS.format({nickname0:Y.default.getName(r,n,e[0]),nickname1:Y.default.getName(r,n,e[1]),nickname2:Y.default.getName(r,n,e[2])}):z.default.Messages.GO_LIVE_MODAL_OVERFLOW_FOUR_OR_MORE_USERS.format({nickname0:Y.default.getName(r,n,e[0]),nickname1:Y.default.getName(r,n,e[1]),remainingCount:e.length-2})};function re(e){var t=e.children;return Z(b.default,{editable:!0,className:q.default.card},void 0,t)}function ae(e){var t,n=e.channel,r=e.users,a=e.selected,i=void 0!==a&&a,l=null;if(null!=r&&r.length>0){var u=r.map(function(e){return N.default.getUser(e)}).filter(Boolean);l=Z(j.default,{className:q.default.voiceUserList,users:u,renderUser:function(e,t,r,a){if(null==e)return null;var o=Y.default.getName(n.guild_id,n.id,e);return Z(F.TooltipContainer,{text:o},r,Z(M.default,{src:e.getAvatarURL(),size:M.AvatarSizes.ACTIVITY_FEED_24,className:t}))},renderMoreUsers:function(e,t,r){var a=u.slice(ee-1),o=ne(a,n);return Z("div",{},r,Z(F.TooltipContainer,{text:o},void 0,Z("div",{className:q.default.userListOverflow},void 0,e)))},max:ee})}return Z("div",{className:(0,o.default)(q.default.channelInfo,(t={},t[q.default.selected]=i,t))},void 0,Z(D.default,{name:n.getTitleIcon(),className:q.default.channelIcon}),Z("div",{className:q.default.channelName},void 0,n.name),l)}re.displayName="RowCard",ae.displayName="RadioItem";var oe=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).close=function(){(0,n.props.onClose)()},n.handleScroll=function(e){n.setState({topSeparator:e.getScrollbarOffset()>0,bottomSeparator:!e.isScrolledToBottom()})},n.handleSelectChannel=function(e){var t=e.value;n.setState({selectedChannelId:t})},n.handleRequestElevatedPermissions=function(){var e=n.props.settingsGame,t=null!=e?e.pid:null;f.default.push(function(e){return a.createElement(K.default,Q({},e,{handleStream:n.handleGoLive,pid:t}))})},n.handleGoLive=function(){var e=n.props,t=e.application,r=e.settingsGame,a=e.guildId,o=e.currentVoiceChannel,l=e.resolution,u=e.fps,d=n.state.testDesktopSourceId;(0,i.default)(null!=r,"Received null settingsGame");var f=n.getTargetChannelID();(0,i.default)(null!=f,"Received null target channel ID");var _=E.default.getChannel(f),y=null!=_?_.getGuildId():a;(0,i.default)(null!=y,"Could not find guild ID for channel"),null==o&&p.default.selectVoiceChannel(y,f);var g=d||V.default.getDesktopSourceFromPid(r.pid);c.default.setDesktopSource(g,l,u,!0,s.MediaEngineContextTypes.STREAM),(0,h.startGuildStream)(y,f,r.pid),H.default.track(W.AnalyticEvents.VIDEO_INPUT_TOGGLED,Q({video_input_type:"game",game_name:null!=t?t.name:null,game_id:null!=t?t.id:null,source:"Go Live Modal",video_toggle_source:__OVERLAY__?"overlay":"app"},(0,m.getDesktopSourceMetadata)(),(0,v.collectVoiceAnalyticsMetadata)(f))),n.close()};var r=t.voiceChannels;return n.state={selectedChannelId:r.length>0?r[0].id:null,topSeparator:!1,bottomSeparator:!1,testDesktopSourceId:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this,t=this.props,n=t.application,r=t.settingsGame,a=t.shouldUseTestDesktopSource;r&&a&&(0,d.default)(["window"]).then(function(t){var n=t.find(function(e){return e.name===r.name});null!=n?e.setState({testDesktopSourceId:n.id}):e.setState({testDesktopSourceId:t[0].id})}),H.default.track(W.AnalyticEvents.OPEN_MODAL,{Type:"Go Live Modal",application_id:null!=n?n.id:null,application_name:null!=n?n.name:null,game_id:null!=n?n.id:null,location_section:W.AnalyticsLocations.ACTIVITY_PANEL})},l.getTargetChannelID=function(){var e=this.props.currentVoiceChannel,t=this.state.selectedChannelId;return null!=e?e.id:t},l.renderGame=function(){var e=this.props,t=e.settingsGame,n=e.application;return null==t?null:Z(B.FormItem,{title:z.default.Messages.GO_LIVE_MODAL_APPLICATION_FORM_TITLE,className:q.default.modalContent,titleClassName:q.default.formItemTitle},void 0,Z(re,{},void 0,null!=n?Z(L.default,{game:n,size:L.default.Sizes.XSMALL,className:q.default.gameIcon}):null,Z("span",{className:q.default.ellipsisText},void 0,t.name)))},l.renderCurrentChannel=function(e){var t=this.props,n=t.currentUserId,r=t.currentChannelVoiceStates,a=te(r,n)[e.id];return Z(B.FormItem,{title:z.default.Messages.GO_LIVE_MODAL_CURRENT_CHANNEL_FORM_TITLE,className:q.default.modalContent,titleClassName:q.default.formItemTitle},void 0,Z(re,{},void 0,Z(ae,{channel:e,users:a})))},l.renderChannelSelect=function(){var e,t=this.props,n=t.currentUserId,r=t.voiceChannels,i=t.voiceStates,l=this.state,u=l.selectedChannelId,s=l.topSeparator,d=l.bottomSeparator,c=te(i,n),f=r.map(function(e){return{name:Z(ae,{channel:e,users:c[e.id],selected:e.id===u}),value:e.id}});return Z(a.Fragment,{},void 0,Z("div",{className:(0,o.default)(q.default.channelSelectFormTitle,(e={},e[$.default.separator]=s,e))},void 0,Z(B.FormTitle,{className:q.default.formItemTitle},void 0,z.default.Messages.GO_LIVE_MODAL_SELECT_CHANNEL_FORM_TITLE)),Z(G.default,{fade:!0,theme:G.default.Themes.GHOST_HAIRLINE,outerClassName:q.default.searchScroller,className:q.default.searchScrollerInner,onScroll:this.handleScroll},void 0,Z(U.default,{options:f,value:u,itemInfoClassName:q.default.channelInfoWrapper,onChange:this.handleSelectChannel})),d?Z("div",{className:q.default.scrollerBottomSeparator}):null)},l.renderHeader=function(){return Z(w.default.Header,{separator:!1},void 0,Z(P.default,{},void 0,Z(B.FormTitle,{tag:B.FormTitle.Tags.H4},void 0,z.default.Messages.GO_LIVE_MODAL_TITLE),Z(w.default.CloseButton,{onClick:this.close,className:q.default.modalCloseButton})))},l.renderBody=function(){var e=this.props.currentVoiceChannel;return Z("div",{className:q.default.modalBody},void 0,Z(k.default,{color:k.default.Colors.PRIMARY,size:k.default.Sizes.MEDIUM,weight:k.default.Weights.MEDIUM,className:q.default.modalContent},void 0,z.default.Messages.GO_LIVE_MODAL_DESCRIPTION),this.renderGame(),null!=e?this.renderCurrentChannel(e):this.renderChannelSelect())},l.renderFooter=function(){var e=this.props,t=e.settingsGame,n=e.needsElevatedPermissions,r=null==t||null==this.getTargetChannelID();return Z(w.default.Footer,{justify:P.default.Justify.BETWEEN},void 0,Z(R.default,{disabled:r,onClick:n?this.handleRequestElevatedPermissions:this.handleGoLive},void 0,z.default.Messages.GO_LIVE_MODAL_CTA),Z(R.default,{color:R.ButtonColors.PRIMARY,onClick:this.close},void 0,z.default.Messages.CANCEL))},l.render=function(){return Z(w.default,{size:q.default.modalSize},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},r}(a.PureComponent);oe.displayName="GoLiveModal";var ie=(0,x.cachedFunction)(_.getStreamEligibleChannels),le=u.default.connectStores([E.default,S.default,T.default,I.default,N.default,C.default,g.default,O.default],function(e){var t=e.guildId,n=(0,y.default)(I.default,A.default);if(null!=n&&n.isLauncher){var r=I.default.getAssociatedApplicationForLauncherId(n.id);null!=r&&(n=r)}var a=N.default.getCurrentUser(),o=O.default.getVoiceChannelId(),i=g.default.getState(),l=i.resolution,u=i.fps,s=null!=n&&null!=n.pid?I.default.getGameForPID(n.pid):null,d=V.default.supportsFeature(W.NativeFeatures.ELEVATED_HOOK)&&null!=s&&s.elevated;return{settingsGame:n,application:null!=n?S.default.getGameBySettingGame(n):null,currentUserId:a.id,currentVoiceChannel:E.default.getChannel(o),currentChannelVoiceStates:C.default.getVoiceStatesForChannel(t,o),voiceChannels:ie(a,T.default.getChannels(t)),voiceStates:C.default.getVoiceStates(t),resolution:l,fps:u,needsElevatedPermissions:d}})(oe);t.default=le},6736:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(848)),i=h(n(430)),l=h(n(20)),u=h(n(14)),s=h(n(45)),d=h(n(6608)),c=n(0),f=h(n(10)),p=h(n(5395));function h(e){return e&&e.__esModule?e:{default:e}}var v=200,m=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;null!=e&&e()},t.sendToChannel=function(e){var n=t.props,r=n.activity,a=n.onClose,i=e.record.id,u=l.default.getChannel(i);if(null!=u){switch(u.type){case c.ChannelTypes.DM:case c.ChannelTypes.GROUP_DM:s.default.transitionTo(c.Routes.CHANNEL(c.ME,u.id));break;case c.ChannelTypes.GUILD_TEXT:s.default.transitionTo(c.Routes.CHANNEL(u.guild_id,u.id))}setTimeout(function(){return o.default.sendActivityInvite({channelId:i,type:c.ActivityActionTypes.JOIN,activity:r,location:"Activity Panel- Invite to Join"}).then(a,a)},v)}},t.sendToUser=function(e){var n=t.props,r=n.activity,a=n.onClose,l=e.record.id;i.default.openPrivateChannel(u.default.getCurrentUser().id,l).then(function(){o.default.sendActivityInviteUser({userId:l,type:c.ActivityActionTypes.JOIN,activity:r,location:"Activity Panel- Invite to Join"}).then(a,a)})},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.activity;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{title:f.default.Messages.USER_ACTIVITY_INVITE_TO_JOIN.format({name:e.name}),sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close,className:p.default.modal})},a}(a.PureComponent);t.default=m,m.displayName="UserActivityInviteModal"},6738:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=n(5927),l=s(n(302)),u=s(n(5397));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=(0,i.animated)(l.default),f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.name,r=e.iconClassName;return d("div",{className:(0,o.default)(u.default.crossfade,t)},void 0,d(i.Transition,{items:{name:n,iconClassName:r},keys:function(e){return e.name},initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},void 0,function(e){var t=e.name,n=e.iconClassName;return function(e){return d(c,{name:t,className:(0,o.default)(u.default.icon,n),style:e})}}))},r}(a.Component);f.displayName="CrossfadeIcon",f.Names=l.default.Names;var p=f;t.default=p},6739:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(6)),l=s(n(7068)),u=s(n(5398));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,l,"next",e)}function l(e){f(o,r,a,i,l,"throw",e)}i(void 0)})}}var h=Object.freeze({HOVERING:0,FLYING:1}),v=Object.freeze({HOVERING:{Y_DURATION:1500,Y_VALUE:-5,Y_VALUE_MODIFIER:-1,FIRE_COUNT:10,FIRE_MIN_INTENSITY_FALLING:.8,FIRE_MAX_INTENSITY_FALLING:1,FIRE_MIN_INTENSITY_RISING:1,FIRE_MAX_INTENSITY_RISING:1.2},FALLING:{Y_VALUE:10,FIRE_COUNT:10,FIRE_VALUE:.2},STAGING:{DURATION:500,Y_VALUE:22,SHAKE_COUNT:10,SHAKE_INTENSITY:2,FIRE_COUNT:4,FIRE_MIN_INTENSITY:.6,FIRE_MAX_INTENSITY:1},FLYING:{DURATION:500,Y_VALUE:-1e3,Y_EASING:l.default.Easing.bezier(.46,.01,1,-.3),X_VALUE:200,X_EASING:l.default.Easing.bezier(.65,.05,1,.25),FIRE_COUNT:10,FIRE_MIN_INTENSITY:1.2,FIRE_MAX_INTENSITY:1.4,OPACITY_VALUE:0,OPACITY_DURATION_DIVIDEND:2}});function m(e,t,n,r){return l.default.sequence(i.default.times(t,function(a){return l.default.timing(e,{toValue:r(a),duration:n/t})}))}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).x=new l.default.Value(0),t.y=new l.default.Value(0),t.opacity=new l.default.Value(1),t.fireScale=new l.default.Value(1),t.currentAnimation=null,t.isUnmounted=!1,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.startAnimation()},a.componentWillUnmount=function(){this.isUnmounted=!0},a.componentDidUpdate=function(e){this.props.stage!==e.stage&&this.startAnimation()},a.startAnimation=function(){switch(null!=this.currentAnimation&&this.currentAnimation.stop(),this.props.stage){case h.HOVERING:return this.startHoverAnimate();case h.FLYING:return this.flyAnimate()}},a.resetAnimation=function(){this.y.setValue(0),this.x.setValue(0),this.opacity.setValue(1),this.fireScale.setValue(1)},a.startHoverAnimate=function(){this.resetAnimation(),this.hoverAnimate(v.HOVERING.Y_VALUE)},a.createFireAnimation=function(e,t,n,r){return m(this.fireScale,e,t,function(){return i.default.random(n,r)})},a.hoverAnimate=function(){var e=p(regeneratorRuntime.mark(function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.stage===h.HOVERING&&!this.isUnmounted){e.next=2;break}return e.abrupt("return");case 2:return r=(n=t>1)?v.HOVERING.FIRE_MIN_INTENSITY_FALLING:v.HOVERING.FIRE_MIN_INTENSITY_RISING,a=n?v.HOVERING.FIRE_MAX_INTENSITY_FALLING:v.HOVERING.FIRE_MAX_INTENSITY_RISING,o=this.createFireAnimation(v.HOVERING.FIRE_COUNT,v.HOVERING.Y_DURATION,r,a),i=l.default.timing(this.y,{toValue:t,duration:v.HOVERING.Y_DURATION,easing:l.default.Easing.inOut(l.default.Easing.ease)}),this.currentAnimation=l.default.parallel([i,o]),e.next=10,this.currentAnimation.start();case 10:this.hoverAnimate(t*v.HOVERING.Y_VALUE_MODIFIER);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.createShakeAnimation=function(e,t,n){return m(this.x,e,t,function(e){return i.default.random(1,n)*(e%2==0?1:-1)})},a.flyAnimate=function(){var e=p(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,u,s,d,c,f,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.default.spring(this.y,{toValue:v.FALLING.Y_VALUE,overshootClamping:!0}),n=l.default.spring(this.fireScale,{toValue:v.FALLING.FIRE_VALUE,overshootClamping:!0}),r=l.default.parallel([t,n]),a=l.default.timing(this.y,{toValue:v.STAGING.Y_VALUE,duration:v.STAGING.DURATION}),o=this.createShakeAnimation(v.STAGING.SHAKE_COUNT,v.STAGING.DURATION,v.STAGING.SHAKE_INTENSITY),i=this.createFireAnimation(v.STAGING.FIRE_COUNT,v.STAGING.DURATION,v.STAGING.FIRE_MIN_INTENSITY,v.STAGING.FIRE_MAX_INTENSITY),u=l.default.parallel([a,o,i]),s=l.default.timing(this.y,{toValue:v.FLYING.Y_VALUE,duration:v.FLYING.DURATION,easing:v.FLYING.Y_EASING}),d=l.default.timing(this.x,{toValue:v.FLYING.X_VALUE,duration:v.FLYING.DURATION,easing:v.FLYING.X_EASING}),c=l.default.timing(this.opacity,{toValue:v.FLYING.OPACITY_VALUE,duration:v.FLYING.DURATION/v.FLYING.OPACITY_DURATION_DIVIDEND,delay:v.FLYING.DURATION/v.FLYING.OPACITY_DURATION_DIVIDEND}),f=this.createFireAnimation(v.FLYING.FIRE_COUNT,v.FLYING.DURATION,v.FLYING.FIRE_MIN_INTENSITY,v.FLYING.FIRE_MAX_INTENSITY),p=l.default.parallel([s,d,c,f]),this.currentAnimation=l.default.sequence([r,u,p]),e.next=15,this.currentAnimation.start();case 15:this.isUnmounted||null!=(h=this.props.onFlyingComplete)&&h();case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),a.getWumpusStyle=function(){return{transform:[{translateY:this.y.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})},{translateX:this.x.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:this.opacity}},a.getFireStyle=function(){return{transform:[{scale:this.fireScale}]}},a.render=function(){var e=this.props,t=e.className,n=e.style;return d(l.default.div,{className:(0,o.default)(u.default.animation,t),style:c({},n,this.getWumpusStyle())},void 0,d("div",{className:u.default.fireTopWrapper},void 0,d(l.default.div,{className:u.default.fire,style:this.getFireStyle()})),d("div",{className:u.default.fireBottomWrapper},void 0,d(l.default.div,{className:u.default.fire,style:this.getFireStyle()})),d("div",{className:u.default.wumpus}))},r}(a.Component);_.displayName="MechaWumpusFlying",_.Stages=h;var y=_;t.default=y},6740:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=p(n(17)),i=n(5927),l=p(n(135)),u=n(313),s=p(n(302)),d=h(n(806)),c=p(n(10)),f=p(n(5399));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=(0,u.cssValueToNumber)(f.default.progressBarWidth),y=(0,u.cssValueToNumber)(f.default.tierMarkerSize),g=20,E={tension:140,friction:30},S={tension:800,friction:20},T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={foregroundTooltipElement:null,showForegroundTooltip:!1,foregroundTooltipY:0,tierMarkerActive:0,finishedInitialAnimation:!1},t.tierMarkerMaskId=l.default.v4(),t.handleForegroundMouseEnter=function(e){t.setState({showForegroundTooltip:!0}),t.handleForegroundMouseMove(e)},t.handleForegroundMouseMove=function(e){if(e.target instanceof Element){var n=e.target.getBoundingClientRect(),r=e.clientY-n.top;r!==t.state.foregroundTooltipY&&t.setState({foregroundTooltipY:r})}},t.handleForegroundMouseLeave=function(){t.setState({showForegroundTooltip:!1})},t.handleForegroundFrame=function(e){for(var n=e.height,r=t.props,a=r.tiers,o=r.progress,i=r.onAnimatedTierMaker,l=t.state.tierMarkerActive,u=a.length-1;u>0;u--){var s=a[u],d=l===u;if(n+g>=s.y&&o>=s.numRequired)return void(d||(t.setState({tierMarkerActive:u}),null!=i&&i(s)))}},t.handleFinishedInitialAnimation=function(){t.setState({finishedInitialAnimation:!0})},t.setForegroundTooltipElement=function(e){t.setState({foregroundTooltipElement:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentWillUnmount=function(){this.state.foregroundTooltipElement=null},u.getTotalHeight=function(){var e=this.props.tiers;return e[e.length-1].y+y/2},u.getProgressHeight=function(e){var t=this.props,n=t.tiers,r=t.progress,a=n[e],o=n[e+1];if(null==o||r===a.numRequired)return a.y;var i=o.y-a.y,l=o.numRequired-a.numRequired,u=(r-a.numRequired)/l*i;return a.y+u},u.getCurrentTierIndex=function(){for(var e=this.props,t=e.tiers,n=e.progress,r=t.length-1;r>0;r--)if(n>=t[r].numRequired)return r;return 0},u.renderForegroundTooltip=function(){var e=this.props,t=e.progress,n=e.tiers,r=this.state,a=r.foregroundTooltipElement,o=r.showForegroundTooltip,i=r.foregroundTooltipY;if(null==a||!o)return null;var l=n[this.getCurrentTierIndex()+1],u=null!=l?l.numRequired:null,s=null!=u?u-t:null;return m(d.TooltipLayer,{targetElement:a,position:d.default.Positions.RIGHT,color:d.default.Colors.BLACK,tooltipClassName:f.default.foregroundTooltip},i,m("div",{},void 0,c.default.Messages.PREMIUM_GUILD_SETTINGS_MEMBERS_SUBSCRIBED.format({number:t})),null!=s&&null!=l?m("div",{className:f.default.tooltipMuted},void 0,c.default.Messages.PREMIUM_GUILD_SETTINGS_MEMBERS_SUBSCRIBED_NEEDED.format({number:s,tier:l.name})):null)},u.renderTierMarkerTooltip=function(e){var t=this.props.progress;if(null==e.name)return null;var n=Math.min(t,e.numRequired);return m("div",{className:f.default.tierTooltip},void 0,m("div",{},void 0,e.name),m("div",{},void 0,c.default.Messages.PREMIUM_GUILD_SETTINGS_X_OF_Y_SUBSCRIPTIONS.format({subscribers:n,numRequired:e.numRequired})))},u.renderTierMarker=function(e,t,n){var r,o=this.props,l=o.progress,u=o.tiers[n],c=l>=e.numRequired,p=null!=u&&e.numRequired===u.numRequired,h=0===e.numRequired;r=h?f.default.tierDefault:p?f.default.tierCurrent:c?f.default.tierAccomplished:f.default.tierInProgress;var _=h?0:y/2,g=e.y-_,E=this.state.tierMarkerActive===t,T=!h&&p&&E;return m(d.default,{text:this.renderTierMarkerTooltip(e),position:d.default.Positions.RIGHT,"aria-label":e.name||""},e.key,function(e){return m(i.Spring,{native:!0,from:{scale:1},to:{scale:T?1.625:1},config:S},void 0,function(t){return a.createElement(i.animated.div,v({},e,{className:r,style:{top:g,transform:(0,i.interpolate)(t.scale,function(e){return"scale("+e+")"})}}),T&&m(s.default,{className:f.default.currentTierIcon,name:s.default.Names.CHECKMARK}))})})},u.renderProgressMask=function(e){var t=this.props.tiers;return m("mask",{id:""+this.tierMarkerMaskId},void 0,m("rect",{x:"0",y:"0",width:_,height:e,fill:"white"}),t.map(function(e){return m("circle",{cx:_/2,cy:e.y,r:_/2,fill:"black"},e.key)}))},u.renderProgressBar=function(e,t){var n=this,r=this.getProgressHeight(t),a=this.state,o=a.finishedInitialAnimation,l=a.showForegroundTooltip;return m("g",{mask:"url(#"+this.tierMarkerMaskId+")"},void 0,m("rect",{className:f.default.background,height:e,fill:"currentColor"}),m(i.Spring,{native:!0,from:{height:0},to:{height:r},config:E,delay:o?0:this.props.initialAnimationDelay,onFrame:this.handleForegroundFrame,onRest:o?null:this.handleFinishedInitialAnimation},void 0,function(e){return m(i.animated.rect,{className:f.default.foreground,height:(0,i.interpolate)(e.height,function(e){return Math.max(0,e)}),onMouseEnter:n.handleForegroundMouseEnter,onMouseLeave:n.handleForegroundMouseLeave,onMouseMove:l?n.handleForegroundMouseMove:null,fill:"currentColor"})}))},u.render=function(){var e=this,t=this.props,n=t.className,r=t.tiers,i=this.getCurrentTierIndex(),l=this.getTotalHeight();return m("div",{className:(0,o.default)(n,f.default.progressBar),style:{height:l}},void 0,m("svg",{viewBox:"0 0 "+_+" "+l,width:_,height:l},void 0,this.renderProgressMask(l),this.renderProgressBar(l,i)),a.createElement("div",{ref:this.setForegroundTooltipElement,style:{top:this.state.foregroundTooltipY},className:f.default.foregroundTooltipPosition}),r.map(function(t,n){return e.renderTierMarker(t,n,i)}),this.renderForegroundTooltip())},r}(a.Component);T.displayName="PremiumGuildProgressBar",T.defaultProps={initialAnimationDelay:0};var I=T;t.default=I},6741:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=c(n(797)),o=c(n(3)),i=c(n(834)),l=c(n(87)),u=c(n(6467)),s=n(0),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"DMVerification",mixins:[o.default.StoreListenerMixin(l.default)],getStateFromStores:function(){return this.getState(this.props.channel)},UNSAFE_componentWillReceiveProps:function(e){this.setState(this.getState(e.channel))},getState:function(e){return{isBlocked:e.type!==s.ChannelTypes.GROUP_DM&&l.default.isBlocked(e.getRecipientId())}},handleUnblock:function(){i.default.removeRelationship(this.props.channel.getRecipientId())},render:function(){var e={};return this.state.isBlocked&&(e.message=d.default.Messages.DM_VERIFICATION_TEXT_BLOCKED,e.buttonText=d.default.Messages.UNBLOCK,e.onButtonClick=this.handleUnblock),r.createElement(u.default,e,this.props.children)}});t.default=f},6742:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=M(n(3)),i=M(n(817)),l=R(n(464)),u=M(n(801)),s=M(n(73)),d=M(n(11)),c=M(n(35)),f=M(n(23)),p=M(n(6178)),h=M(n(318)),v=M(n(159)),m=M(n(42)),_=M(n(14)),y=M(n(5972)),g=M(n(128)),E=M(n(45)),S=M(n(6467)),T=M(n(433)),I=M(n(6743)),O=M(n(6165)),N=n(0),C=M(n(10)),A=M(n(5273));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L=function(e){var t,r;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={submitting:!1},t.handleClaimAccount=function(){l.open()},t.handleVerifyPhone=function(){s.default.push(function(e){return a.createElement(O.default,e)})},t.handleResendVerification=function(){i.default.verifyResend(),s.default.push(function(e){return a.createElement(T.default,b({header:C.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:C.default.Messages.OKAY,red:!1},e),P(g.default,{size:g.default.Sizes.MEDIUM,color:g.default.Colors.PRIMARY},void 0,C.default.Messages.VERIFICATION_EMAIL_BODY.format({email:_.default.getCurrentUser().email})))})},t.handleJoinServer=function(){t.setState({submitting:!0}),u.default.joinGuild(t.props.channel.getGuildId(),!1,"Chat Input Blocker - Lurker Mode")},t.handleViewServerDiscovery=function(){t.setState({submitting:!0}),E.default.transitionTo(N.Routes.GUILD_DISCOVERY)},t.handleFollowNews=function(){var e=t.props.channel;s.default.push(I.default,{channel:e})},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e={},t=this.props,r=t.isGuest,o=t.isFollowable,i=t.isLurking,l=t.notClaimed,u=t.notPhoneVerified,s=t.notEmailVerified,d=t.newMember,c=t.memberDeadline,f=t.newAccount,p=t.accountDeadline,h=t.theme,v=t.children,m=t.canSendMessages,_=this.state.submitting;return r?P("div",{style:{height:A.default.barHeight}}):(o&&!m?(e.message=C.default.Messages.FOLLOW_NEWS_CHAT_INPUT_MESSAGE,e.buttonText=C.default.Messages.FOLLOW,e.onButtonClick=this.handleFollowNews,e.imageSrc=n(6745),i&&(e.onSecondaryButtonClick=this.handleJoinServer,e.secondaryButtonText=C.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON)):i?(e.message=C.default.Messages.LURKER_MODE_CHAT_INPUT_MESSAGE,e.buttonText=C.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON,e.buttonSubmitting=_,e.onButtonClick=this.handleJoinServer,e.secondaryButtonText=C.default.Messages.LURKER_MODE_CHAT_INPUT_BACK_BUTTON,e.onSecondaryButtonClick=this.handleViewServerDiscovery,e.imageSrc=n(6746)):l?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED,e.buttonText=C.default.Messages.CLAIM_ACCOUNT,e.onButtonClick=this.handleClaimAccount,e.imageSrc=n(6468)):u?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED,e.buttonText=C.default.Messages.VERIFY_PHONE,e.onButtonClick=this.handleVerifyPhone,e.imageSrc=n(6747)):s?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED,e.buttonText=C.default.Messages.RESEND_VERIFICATION_EMAIL,e.onButtonClick=this.handleResendVerification,e.imageSrc=n(6468)):d?(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:N.VerificationCriteria.MEMBER_AGE}),e.countdown=c):f&&(e.message=C.default.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:N.VerificationCriteria.ACCOUNT_AGE}),e.countdown=p),a.createElement(S.default,b({theme:h},e),v))},o}(a.PureComponent);L.displayName="GuildVerification";var D=o.default.connectStores([p.default,h.default,d.default,y.default,v.default,c.default,f.default],function(e){var t=e.channel,n=t.getGuildId(),r=f.default.getGuild(n);return b({},p.default.getCheck(n),{isLurking:h.default.isLurking(n),isGuest:d.default.isGuest(),isFollowable:y.default.inExperiment(n)&&t.type===N.ChannelTypes.GUILD_NEWS&&null!=r&&r.hasFeature(N.GuildFeatures.NEWS),theme:m.default.theme,canSendMessages:v.default.can(N.Permissions.SEND_MESSAGES,t)})})(L);t.default=D},6743:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=C(n(17)),i=C(n(3)),l=C(n(6744)),u=C(n(73)),s=(C(n(129)),C(n(310)),C(n(20))),d=C(n(99)),c=C(n(23)),f=C(n(159)),p=C(n(112)),h=C(n(5866)),v=C(n(188)),m=C(n(5858)),_=C(n(432)),y=C(n(6179)),g=C(n(5883)),E=C(n(809)),S=n(5878),T=C(n(18)),I=n(0),O=C(n(10)),N=C(n(5404));function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t=e.label,n=e.guild;return A("div",{className:N.default.guildOption},void 0,A(h.default,{className:N.default.icon,guild:n,size:h.default.Sizes.MINI}),A(E.default,{},void 0,t))}function R(e){var t=e.label,n=e.channel,r=e.category,a=(0,S.getIconNameForChannel)(n);return A(y.default,{title:t,iconType:a,subtitle:r})}M.displayName="renderGuildOption",R.displayName="renderChannelOption";var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedGuildId:null,selectedChannelId:null,channels:[],errorMessage:null,submitting:!1},t.handleGuildSelect=function(e){var n=e.value,r=t.props.guilds;t.state.selectedGuildId!==n&&t.setState({channels:r[n].channels,selectedGuildId:n,selectedChannelId:null})},t.handleChannelSelect=function(e){var n=e.value;t.setState({selectedChannelId:n})},t.handleFollow=function(){var e=t.props.channel,n=t.state.selectedChannelId;t.setState({submitting:!0}),l.default.createChannelFollower(n,e.id).then(function(){return u.default.pop()}).catch(function(e){e.body.code===I.AbortCodes.TOO_MANY_WEBHOOKS?t.setState({errorMessage:O.default.Messages.FOLLOW_MODAL_TOO_MANY_WEBHOOKS,submitting:!1}):t.setState({errorMessage:O.default.Messages.FOLLOW_MODAL_FAIL,submitting:!1})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){T.default.track(I.AnalyticEvents.OPEN_MODAL,{type:"Follow Channel Modal",num_guild_permissions:Object.keys(this.props.guilds).length,location:"Chat Input Blocker - Follow Channel"})},i.handleCancel=function(){u.default.pop()},i.renderFooter=function(){var e=this.state,t=e.selectedGuildId,n=e.selectedChannelId,r=e.submitting;return A(a.Fragment,{},void 0,A(p.default,{submitting:r,onClick:this.handleFollow,disabled:null==t||null==n},void 0,O.default.Messages.FOLLOW),A(p.default,{look:p.default.Looks.BLANK,className:N.default.blankButton,onClick:this.handleCancel},void 0,O.default.Messages.CANCEL))},i.renderForm=function(){var e=this.props.guilds,t=this.state,n=t.channels,r=t.selectedGuildId,o=t.selectedChannelId,i=t.errorMessage,l=Object.keys(e).map(function(t){var n=e[t].guild;return{value:t,label:n.toString(),guild:n}}),u=n.map(function(e){var t=e.channel,n=e.category;return{value:t.id,label:t.toString(),channel:t,category:n}}),s=0===l.length,d=s?O.default.Messages.FOLLOW_MODAL_HINT_NO_PERMS:O.default.Messages.FOLLOW_MODAL_HINT;return A(a.Fragment,{},void 0,A(_.default,{className:N.default.bottomMargin,title:O.default.Messages.FORM_LABEL_SEND_TO},void 0,A(m.default,{value:r,clearable:!1,searchable:!0,options:l,disabled:s,optionRenderer:M,valueRenderer:M,onChange:this.handleGuildSelect})),A(_.default,{className:N.default.bottomMargin,title:O.default.Messages.FORM_LABEL_SELECT_CHANNEL},void 0,A(m.default,{value:o,clearable:!1,searchable:!0,options:u,disabled:0===u.length,optionRenderer:R,valueRenderer:R,onChange:this.handleChannelSelect})),A(E.default,{className:N.default.bottomMargin,color:s||null!=i?E.default.Colors.ERROR:E.default.Colors.STANDARD},void 0,null!=i?i:d))},i.renderBody=function(){var e=this.props,t=e.guildToFollow,n=e.channelNameToFollow;return A("div",{className:N.default.body},void 0,A(h.default,{className:N.default.bottomMargin,guild:t,size:h.default.Sizes.LARGE}),A(g.default,{size:g.default.Sizes.SIZE_20},void 0,O.default.Messages.FOLLOW_MODAL_HEADER.format({guildName:t.name,channelName:n})),A(E.default,{className:(0,o.default)(N.default.topMargin,N.default.description),size:E.default.Sizes.SIZE_14},void 0,O.default.Messages.FOLLOW_MODAL_BODY))},i.render=function(){return A(v.default,{},void 0,A(v.default.Content,{outerClassName:N.default.content,className:N.default.noScroll},void 0,this.renderBody(),this.renderForm()),A(v.default.Footer,{},void 0,this.renderFooter()))},r}(a.PureComponent);b.displayName="FollowModal";var P=i.default.connectStores([c.default,s.default,d.default,f.default],function(e){var t=e.channel,n=c.default.getGuild(t.guild_id),r=Object.values(c.default.getGuilds()).reduce(function(e,t){var n=d.default.getChannels(t.id).SELECTABLE.map(function(e){return e.channel});return(n=n.filter(function(e){return(e.type===I.ChannelTypes.GUILD_TEXT||e.type===I.ChannelTypes.GUILD_NEWS)&&f.default.can(I.Permissions.MANAGE_WEBHOOKS,e)}).map(function(e){var t=s.default.getChannel(e.parent_id);return{channel:e,category:null!=t?t.name:null}})).length>0&&(e[t.id]={guild:t,channels:n}),e},{});return{guildToFollow:n,channelNameToFollow:t.name,guilds:r}},{forwardRef:!0})(b);t.default=P},6744:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(9))&&r.__esModule?r:{default:r},o=n(0);var i={createChannelFollower:function(e,t){return a.default.post({url:o.Endpoints.CHANNEL_FOLLOWERS(t),body:{webhook_channel_id:e}})}};t.default=i},6745:function(e,t,n){e.exports=n.p+"0861cbdddc2cc5b3479a64aa35d21b82.svg"},6746:function(e,t,n){e.exports=n.p+"9e8f566e6d49e8f4bba138e1d6a50578.svg"},6747:function(e,t,n){e.exports=n.p+"7f2d0c8f7a9d0da6660691769d3f3f44.svg"},6748:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=j(n(17)),i=j(n(6)),l=j(n(4)),u=j(n(3)),s=j(n(5876)),d=j(n(162)),c=n(5932),f=j(n(5952)),p=j(n(317)),h=j(n(831)),v=j(n(450)),m=j(n(99)),_=j(n(6178)),y=j(n(236)),g=j(n(159)),E=j(n(309)),S=j(n(6749)),T=j(n(42)),I=j(n(14)),O=n(6103),N=j(n(307)),C=n(833),A=n(113),M=n(810),R=j(n(45)),b=n(448),P=j(n(6469)),L=j(n(5936)),D=j(n(6750)),w=n(6751),U=n(0),G=j(n(10)),k=j(n(5262)),F=j(n(5407));function j(e){return e&&e.__esModule?e:{default:e}}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n(6752);var Y=20,K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.onReveal,r=e.revealed,a=e.messageGroups;n(r?null:a[0].content[0].id)},t}return V(t,e),t.prototype.render=function(){var e=this,t=this.props.revealed,n=[],r=0;return this.props.messageGroups.forEach(function(t){var o=t.content;r+=o.length,n.push(a.createElement(L.default,x({key:o[0].id,messages:o,hasDivider:!1},e.props)))}),H(w.BlockedMessageGroup,{className:F.default.messageGroupBlocked,revealed:t,count:r,onClick:this.handleClick},void 0,n)},t}(a.Component);K.displayName="BlockedMessageGroups",K.defaultProps={canManageMessages:!1,compact:!1};var W=function(e){function t(){return e.apply(this,arguments)||this}return V(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.channel,r=e.user;return H(L.default,{messageOption:!1,canEdit:!1,channel:n,messages:[new p.default({id:t.id,key:"pending-upload-"+t.id,type:U.MessageTypes.DEFAULT,author:r,channel_id:n.id,contentParsed:H(O.AttachmentUpload,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.size,onCancelUpload:function(){f.default.cancel(t)}})})]})},t}(a.Component);W.displayName="PendingUpload";var z=H(w.JumpToPresentBar,{}),$=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this)._mounted=!1,n._jumpTargetIndex=null,n._loadMoreScrollToNewMessages=!1,n._newMessagesBar=null,n._jumpTarget=null,n._subscriptions=((t={})[U.ComponentActions.CHAT_RESIZE]=function(){return n.handleResize()},t[U.ComponentActions.SCROLLTO_PRESENT]=function(){return n.scrollToBottom()},t[U.ComponentActions.SCROLL_PAGE_UP]=function(){return n.scrollPageUp(!0)},t[U.ComponentActions.SCROLL_PAGE_DOWN]=function(){return n.scrollPageDown(!0)},t),n.state={scrollingToJump:!1},n.registerMessageDOMNode=function(e,t){n.props.messages.jumpTargetId===e&&(n._jumpTarget=t)},n.jumpToPresent=function(){if(!n.props.messages.loadingMore){var e=n.props.channel;d.default.jumpToPresent(e.id,U.MAX_MESSAGES_PER_CHANNEL),R.default.transitionToGuild(e.getGuildId()||U.ME,e.id)}},n.handleFullscreenChange=function(){var e=B(n),t=e._scroller,r=e.props.dimensions;null!=t&&(t.invalidateScrollerState(),(0,b.isFullScreen)()||(null!=r?n.scrollTo(r.scrollTop):n.scrollToBottom()))},n.handleLoadMore=function(){var e=B(n),t=e._scroller,r=e.props.dimensions;n.isAtBottom()||null==r||null==t||(n.scrollTo(t.getScrollData().scrollHeight-r.scrollHeight),n._loadMoreScrollToNewMessages&&n.scrollToNewMessages(!0))},n.handleMessageUpdate=function(e){var t=B(n),r=t._scroller,a=t.props.dimensions;if(null!=r){r.invalidateScrollerState();var o=r.getScrollData();e.offsetTop<o.scrollTop+o.offsetHeight&&(n.isAtCachedBottom()?n.scrollToBottom():null!=a&&n.scrollBy(o.scrollHeight-a.scrollHeight))}},n.handleMessageEdit=function(e){var t=B(n)._scroller;if(null!=t){t.invalidateScrollerState();var r=t.getScrollData();e.offsetTop<r.scrollTop+Y&&n.scrollTo(e.offsetTop-Y),r=t.getScrollData();var a=e.offsetTop+e.offsetHeight-r.scrollTop-r.offsetHeight+Y;a>0&&n.scrollBy(a)}},n.handleResize=function(){var e=B(n)._scroller;null!=e&&n.isAtCachedBottom()&&(e.invalidateScrollerState(),n.scrollToBottom())},n.handleScroll=function(){var e=B(n),t=e._scroller,r=e.props,a=r.messages,o=r.channel,i=r.keyboardModeEnabled;if(n._mounted&&null!=t&&!(0===a.length&&a.loadingMore||(0,b.isFullScreen)())){var l=t.getScrollData();0===l.scrollTop&&l.scrollHeight>l.offsetHeight&&a.hasMoreBefore&&!a.loadingMore&&(i||n.loadMore()),l.scrollHeight<=l.scrollTop+l.offsetHeight+2?a.hasMoreAfter&&!a.loadingMore?n.loadMore(!0):a.hasMoreAfter||s.default.clearChannelDimensions(o.id):s.default.updateChannelDimensions(o.id,l.scrollTop,l.scrollHeight,l.offsetHeight)}},n.handleScrollToNewMessages=function(){var e=n.props.channel,t=E.default.ackMessageId(e.id);null!=t&&d.default.jumpToMessage(e.id,t,!1,"Mark As Read")},n.handleAck=function(){(0,c.ack)(n.props.channel.id)},n.handleReveal=function(e){d.default.revealMessage(n.props.channel.id,e)},n.setScrollerRef=function(e){n._scroller=e},n}V(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._mounted=!0,this.restoreScroll(),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange),Object.keys(this._subscriptions).forEach(function(t){return A.ComponentDispatch.subscribe(t,e._subscriptions[t])})},n.componentWillUnmount=function(){var e=this;Object.keys(this._subscriptions).forEach(function(t){return A.ComponentDispatch.unsubscribe(t,e._subscriptions[t])}),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange),this._mounted=!1,this._jumpTarget=null},n.shouldComponentUpdate=function(e){return!!e.isVisible&&(this.props.isVisible!==e.isVisible||(this.props.className!==e.className||this.props.messages!==e.messages||this.props.uploads!==e.uploads||this.props.unreadCount!==e.unreadCount||this.props.oldestUnreadMessageId!==e.oldestUnreadMessageId||this.props.channel!==e.channel||this.props.inlineAttachmentMedia!==e.inlineAttachmentMedia||this.props.inlineEmbedMedia!==e.inlineEmbedMedia||this.props.gifAutoPlay!==e.gifAutoPlay||this.props.renderEmbeds!==e.renderEmbeds||this.props.renderReactions!==e.renderReactions||this.props.developerMode!==e.developerMode||this.props.messageDisplayCompact!==e.messageDisplayCompact||this.props.canChat!==e.canChat||this.props.permissionVersion!==e.permissionVersion||this.props.isScaled!==e.isScaled||this.props.backgroundOpacity!==e.backgroundOpacity||this.props.showNewMessagesBar!==e.showNewMessagesBar||this.props.renderSpoilers!==e.renderSpoilers))},n.scrollToJumpTarget=function(e,t){var n=this,r=this._newMessagesBar,a=this._jumpTarget,o=this._scroller;if(null!=o){if(!a)return null!=r?void this.scrollToNewMessages(!0):void console.warn("Got a jump target request but the ref was not found in the channel");if(null!=a&&a instanceof HTMLElement){var i=o.getScrollData(),l=a.offsetTop-.5*i.offsetHeight+.5*a.offsetHeight,u=t.jumpTargetId;if(t.last()!==e.last()&&t.first()!==e.first()&&null!=u){var s=t.get(u),d=e.first();null!=d&&null!=s&&s.timestamp.isBefore(d.timestamp)?o.scrollTo(i.scrollHeight-i.offsetHeight-100):o.scrollTo(100)}var c=t.jumpTargetId;this.setState({scrollingToJump:!0},function(){o.scrollTo(l,!0,function(){n.props.messages.jumpTargetId===c&&n.setState({scrollingToJump:!1})})})}}},n.componentDidUpdate=function(e){var t=e.messages,n=this._scroller,r=this.props,a=r.channel,o=r.messages,i=r.inlineAttachmentMedia,l=r.inlineEmbedMedia,u=r.renderEmbeds,c=r.messageDisplayCompact,f=r.uploads,p=r.isVisible,h=o.last();if(null!==o.jumpTargetId&&t.jumpSequenceId!==o.jumpSequenceId)this.scrollToJumpTarget(t,o);else if(o.jumpedToPresent&&t.jumpSequenceId!==o.jumpSequenceId)this.scrollTo(100),this.scrollToBottom(!0);else if(i!==e.inlineAttachmentMedia||l!==e.inlineEmbedMedia||u!==e.renderEmbeds)this.scrollToBottom();else if(f.length>e.uploads.length)this.scrollToBottom();else if(c!==e.messageDisplayCompact&&this.isAtCachedBottom())this.scrollToBottom();else if(!e.isVisible&&p&&h!==this.lastVisibleMessage)this.restoreScroll();else if(h!==e.messages.last()){if(e.messages.loadingMore)if(0===e.messages.length)this.restoreScroll();else{if(null!=n){var v=n.getScrollData();s.default.updateChannelDimensions(a.id,v.scrollTop,v.scrollHeight,v.offsetHeight)}d.default.truncateMessages(this.props.channel.id,!1,!0)}else if(!this.props.messages.hasMoreAfter){var m=this.props.messages.last();(m&&m.state===U.MessageStates.SENDING||this.isAtCachedBottom())&&this.scrollToBottom()}}else if(this.props.messages.first()!==e.messages.first())if(e.messages.loadingMore){if(this.handleLoadMore(),null!=n){var _=n.getScrollData();s.default.updateChannelDimensions(this.props.channel.id,_.scrollTop,_.scrollHeight,_.offsetHeight)}d.default.truncateMessages(this.props.channel.id,!0,!1)}else e.dimensions&&null!=n&&this.scrollTo(e.dimensions.scrollTop-(e.dimensions.scrollHeight-n.getScrollData().scrollHeight));p&&(this.lastVisibleMessage=h)},n.computeGlobalSpoilerDisplay=function(e){switch(this.props.renderSpoilers){case U.SpoilerRenderSetting.ALWAYS:return!0;case U.SpoilerRenderSetting.IF_MODERATOR:return e;case U.SpoilerRenderSetting.ON_CLICK:default:return!1}},n.render=function(){var e,t,n=this,r=this.props,i=r.messages,u=r.canChat,s=r.channel,d=r.isDefaultChannel,c=r.backgroundOpacity,f=r.className,p=r.scrollerClassName,h=r.scrollerOuterClassName,v=I.default.getCurrentUser(),m=g.default.can(U.Permissions.MANAGE_MESSAGES,this.props.channel),_=u&&g.default.can(U.Permissions.ADD_REACTIONS,this.props.channel),y=this.createChannelStream(i),S=y.map(function(e,t){if(e.type===U.ChannelStreamTypes.DIVIDER_TIME_STAMP)return H(w.Divider,{className:F.default.divider,backgroundOpacity:c},t,e.content);if(e.type===U.ChannelStreamTypes.DIVIDER_NEW_MESSAGES)return H(w.Divider,{className:F.default.divider,setElementRef:function(e){return n._newMessagesBar=e},red:!0,backgroundOpacity:c},t,e.content);var r={compact:n.props.messageDisplayCompact,channel:s,canManageMessages:m,canAddNewReactions:_,canChat:u,inlineAttachmentMedia:n.props.inlineAttachmentMedia,inlineEmbedMedia:n.props.inlineEmbedMedia,gifAutoPlay:n.props.gifAutoPlay,renderEmbeds:n.props.renderEmbeds,renderReactions:n.props.renderReactions,developerMode:n.props.developerMode,onEdit:n.handleMessageEdit,onUpdate:n.handleMessageUpdate};if(e.type===U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED)return a.createElement(K,x({key:t,revealed:e.content[0].content[0].id===i.revealedMessageId,messageGroups:e.content,onReveal:n.handleReveal},r));var o=t!==y.length-1&&(y[t+1].type===U.ChannelStreamTypes.DIVIDER_TIME_STAMP||y[t+1].type===U.ChannelStreamTypes.DIVIDER_NEW_MESSAGES||y[t+1].type===U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED),l=e.type===U.ChannelStreamTypes.JUMP_TARGET&&i.jumpTargetId?{registerMessageDOMNode:n.registerMessageDOMNode,jumpSequenceId:i.jumpSequenceId,jumpMessageId:i.jumpTargetId,canFlash:i.jumpFlash}:null;return H(C.SpoilerDisplayContext.Provider,{value:n.computeGlobalSpoilerDisplay(m)},e.content[0].id,a.createElement(L.default,x({messages:e.content,hasDivider:o},r,l)))});if(this.props.uploads.forEach(function(e){S.push(H(W,{file:e,channel:s,user:v},"upload-"+e.id))}),i.loadingMore?(i.hasMoreBefore&&S.unshift(a.createElement(w.LoadingMore,{key:"loading-more",ref:"loading-more"})),i.hasMoreAfter&&S.push(a.createElement(w.LoadingMore,{key:"loading-more-after",ref:"loading-more"}))):i.hasMoreBefore&&S.unshift(H(w.HasMore,{onClick:function(){return n.loadMore(!1)}},"has-more")),!i.hasMoreBefore){var T=this.props.channel;this.props.channel.type===U.ChannelTypes.DM?S.unshift(H(P.default,{},"empty-message",H("h1",{},void 0,G.default.Messages.BEGINNING_DM.format({username:T.toString()})))):this.props.channel.type===U.ChannelTypes.GROUP_DM?this.props.channel.isManaged()?S.unshift(H(P.default,{},"empty-message",H("h1",{},void 0,G.default.Messages.BEGINNING_GROUP_DM_MANAGED))):S.unshift(H(P.default,{},"empty-message",H("h1",{},void 0,G.default.Messages.BEGINNING_GROUP_DM.format({name:T.toString()})))):g.default.can(U.Permissions.READ_MESSAGE_HISTORY,T)?d?S.unshift(H(D.default,{channel:T},"welcome-message")):S.unshift(H(P.default,{},"empty-message",H("h1",{},void 0,G.default.Messages.BEGINNING_CHANNEL.format({channelName:T.toString()})))):S.unshift(H("div",{className:(0,o.default)(k.default.base,k.default.default)},"empty-message",H("h1",{},void 0,G.default.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:T.toString()}))))}if(!i.loadingMore&&i.hasMoreAfter&&S.push(H(w.HasMore,{onClick:function(){return n.loadMore(!0)}},"has-more-after")),this.props.unreadCount>0&&this.props.showNewMessagesBar){var O,A=E.default.getOldestUnreadTimestamp(this.props.channel.id),R=(0,M.isSameDay)((0,l.default)(),(0,l.default)(new Date(A)));O=E.default.isEstimated(this.props.channel.id)?R?G.default.Messages.NEW_MESSAGES_ESTIMATED:G.default.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE:R?G.default.Messages.NEW_MESSAGES:G.default.Messages.NEW_MESSAGES_WITH_DATE,e=H(w.NewMessagesBar,{content:O.format({count:this.props.unreadCount,timestamp:A}),onScrollTo:this.handleScrollToNewMessages,onAck:this.handleAck})}return this.props.messages.hasMoreAfter&&(t=this.props.messages.loadingMore&&this.props.messages.jumpedToPresent?z:H(w.JumpToPresentBar,{onClick:this.jumpToPresent})),H("div",{className:(0,o.default)(F.default.messagesWrapper,f)},void 0,e,a.createElement(N.default,{ref:this.setScrollerRef,className:p,outerClassName:h,onScroll:this.handleScroll,onResize:this.handleResize,theme:N.default.Themes.MESSAGES_THEMED_WITH_TRACK},S),t)},n.createChannelStream=function(e){var t,n=this,r=[];e.forEach(function(e){var t=r[r.length-1];null==t||e.id===n.props.oldestUnreadMessageId||e.type>U.MessageTypes.DEFAULT||t[0].type!==e.type||t[0].author.id!==e.author.id||t[0].nick!==e.nick||e.webhookId&&t[0].author.username!==e.author.username||!(0,M.isWithinInterval)(t[t.length-1].timestamp,e.timestamp,U.MESSAGE_GROUP_INTERVAL)?r.push([e]):null!=e&&t.push(e)});var a=[];return r.forEach(function(r){r[0].id===n.props.oldestUnreadMessageId&&a.push({type:U.ChannelStreamTypes.DIVIDER_NEW_MESSAGES,content:G.default.Messages.NEW_MESSAGES_DIVIDER});var o=(0,M.dateFormat)(r[0].timestamp,"LL");if(o!==t&&(null!=t&&a.push({type:U.ChannelStreamTypes.DIVIDER_TIME_STAMP,content:o}),t=o),r[0].blocked){var l=a[a.length-1];null!=l&&l.type===U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED||(l={type:U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED,content:[]},a.push(l)),l.content.push({type:U.ChannelStreamTypes.MESSAGE_GROUP,content:r})}else{var u=U.ChannelStreamTypes.MESSAGE_GROUP;if(n.props.messages.jumpTargetId)i.default.findIndex(r,function(t){return t.id===e.jumpTargetId})>=0&&(u=U.ChannelStreamTypes.JUMP_TARGET);u===U.ChannelStreamTypes.JUMP_TARGET?a.push({type:U.ChannelStreamTypes.JUMP_TARGET,content:r}):a.push({type:U.ChannelStreamTypes.MESSAGE_GROUP,content:r})}}),a},n.loadMore=function(e){void 0===e&&(e=!1);var t=this._scroller,n=this.props,r=n.messages,a=n.channel;if(!this.state.scrollingToJump){if(null!=t){var o=t.getScrollData();s.default.updateChannelDimensions(a.id,o.scrollTop,o.scrollHeight,o.offsetHeight)}var i,l;if(e){var u=r.last();null!=u&&(l=u.id)}else{var c=r.first();null!=c&&(i=c.id)}d.default.fetchMessages(this.props.channel.id,i,l,U.MAX_MESSAGES_PER_CHANNEL)}},n.scrollTo=function(e,t){void 0===t&&(t=!1);var n=this._scroller;if(null!=n){var r=n.getScrollData();r.scrollHeight===r.offsetHeight?this.handleScroll():n.scrollTo(e,t)}},n.scrollBy=function(e){var t=this._scroller;null!=t&&this.scrollTo(t.getScrollData().scrollTop+e)},n.scrollToNewMessages=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._loadMoreScrollToNewMessages=!1;var n=this._newMessagesBar;if(null!=n)this.scrollTo(Math.max(0,n.offsetTop-35),e),t&&E.default.isEstimated(this.props.channel.id)&&(this._loadMoreScrollToNewMessages=!0,this.loadMore());else if(null!=this.props.oldestUnreadMessageId)return this.scrollTo(35,e),!0;return null!=n},n.scrollToBottom=function(e){var t=this;void 0===e&&(e=!1);var n=this._scroller,r=this.props,a=r.messages,o=r.isScaled;if(null!=n){var i=n.getScrollData();a.hasMoreAfter?this.jumpToPresent():o?requestAnimationFrame(function(){t._mounted&&t.scrollTo(i.scrollHeight-i.offsetHeight+1,e)}):this.scrollTo(i.scrollHeight-i.offsetHeight+1,e)}},n.scrollPageUp=function(e){void 0===e&&(e=!1);var t=this._scroller;t&&t.scrollPageUp(e)},n.scrollPageDown=function(e){void 0===e&&(e=!1);var t=this._scroller;t&&t.scrollPageDown(e)},n.restoreScroll=function(){var e=this.props.dimensions;this.scrollToNewMessages()||(null!=e?this.scrollTo(e.scrollTop):this.scrollToBottom())},n.isAtCachedBottom=function(){return null==this.props.dimensions},n.isAtBottom=function(){var e=this._scroller;return null!=e&&e.isScrolledToBottom()},t}(a.Component);$.displayName="Messages",$.defaultProps={isVisible:!0,showNewMessagesBar:!0,scrollerClassName:F.default.messages,scrollerOuterClassName:F.default.scrollerWrap};var q=u.default.connectStores([I.default,y.default,S.default,v.default,E.default,T.default,_.default,h.default,m.default,g.default],function(e){var t=e.channel,n=e.forceCompact,r=t.getGuildId(),a=T.default.inlineAttachmentMedia,o=T.default.inlineEmbedMedia,i=T.default.gifAutoPlay,l=T.default.renderEmbeds,u=T.default.renderReactions,s=T.default.developerMode,d=T.default.messageDisplayCompact,c=T.default.renderSpoilers;return{messages:y.default.getMessages(t.id),permissionVersion:null!=r?g.default.getGuildVersion(r):null,uploads:S.default.getFiles(t.id),dimensions:v.default.getChannelDimensions(t.id),unreadCount:E.default.getUnreadCount(t.id),oldestUnreadMessageId:E.default.getOldestUnreadMessageId(t.id),canChat:null==r||_.default.canChatInGuild(r),isScaled:h.default.fontScale!==U.Accessibility.FONT_SCALE_DEFAULT,keyboardModeEnabled:h.default.keyboardModeEnabled,isDefaultChannel:null!=r&&t===m.default.getDefaultChannel(r),inlineAttachmentMedia:a,inlineEmbedMedia:o,gifAutoPlay:i,renderEmbeds:l,renderReactions:u,messageDisplayCompact:n||d,developerMode:s,renderSpoilers:c}})($);t.default=q},6749:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));o(n(317)),n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object.freeze([]),u={},s={},d={};function c(e,t){var n=u[e];return null!=n&&(u[e]=n.filter(function(e){return e.id!==t}),delete s[t],delete d[t],n.length!==u[e].length)}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getFiles=function(e){return u[e]||l},a.getMessageForFile=function(e){return d[e]},r}(r.default.Store))(a.default,{UPLOAD_START:function(e){var t=e.channelId,n=e.file,r=e.uploader,a=e.message,o=u[t]||l;s[n.id]=r,u[t]=[].concat(o,[n]),d[n.id]=a},UPLOAD_PROGRESS:function(e){var t=e.channelId,n=e.file,r=u[t];if(null==r)return!1;u[t]=r.map(function(e){return e.id===n.id?i({},e,n):e})},UPLOAD_COMPLETE:function(e){return c(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return c(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(t){var n=t.file,r=s[n.id];if(null==r)return!1;e(function(){return r.cancel()})}});t.default=f}).call(this,n(30).setImmediate)},6750:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=E(n(17)),o=E(n(797)),i=E(n(3)),l=E(n(73)),u=E(n(23)),s=E(n(159)),d=E(n(14)),c=E(n(308)),f=n(196),p=E(n(8)),h=E(n(440)),v=E(n(6469)),m=E(n(5885)),_=n(0),y=E(n(10)),g=E(n(5405));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=(0,o.default)({displayName:"WelcomeMessage",mixins:[i.default.StoreListenerMixin(d.default,u.default,s.default)],getDefaultProps:function(){return{channel:null}},getStateFromStores:function(){var e=this.props.channel,t=u.default.getGuild(e.getGuildId());return{currentUser:d.default.getCurrentUser(),guild:t,canCreateInvite:(0,f.canViewInviteModal)(t,e)}},handleDownloadApps:function(e){l.default.push(h.default,{source:e})},handleOpenInvitePopout:function(){var e=this.props.channel,t=this.state.guild;l.default.push(m.default,{guild:t,channel:e,source:_.InstantInviteSources.WELCOME_MESSAGE})},render:function(){var e,t,n=this.state.guild&&this.state.guild.isOwner(this.state.currentUser)?S("h1",{className:g.default.h1},void 0,y.default.Messages.WELCOME_MESSAGE_OWNER_TITLE.format({username:this.state.currentUser.username})):S("h1",{className:g.default.h1},void 0,y.default.Messages.WELCOME_MESSAGE_TITLE.format({username:this.state.currentUser.username}));return this.state.canCreateInvite&&(e=S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.share)}),S("p",{},void 0,y.default.Messages.WELCOME_MESSAGE_INSTANT_INVITE.format({onShareClick:this.handleOpenInvitePopout})))),p.default.embedded||(t=S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.apps)}),S("p",{},void 0,y.default.Messages.WELCOME_MESSAGE_DESKTOP_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Desktop Apps")})))),S("div",{className:g.default.welcomeMessage},void 0,n,S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.exclamation)}),S("p",{},void 0,y.default.Messages.WELCOME_MESSAGE_TUTORIAL.format())),e,t,S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.mobile)}),S("p",{},void 0,y.default.Messages.WELCOME_MESSAGE_MOBILE_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Mobile Apps")}))),S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.twitter)}),S("p",{},void 0,y.default.Messages.WELCOME_MESSAGE_SUPPORT.format({supportURL:c.default.getCommunityURL(),twitterURL:c.default.getTwitterURL()}))),S(v.default,{className:g.default.emptyMessage}))}});t.default=T},6751:function(e,t,n){"use strict";t.__esModule=!0,t.BlockedMessageGroup=t.HasMore=t.LoadingMore=t.Divider=t.NewMessagesBar=t.JumpToPresentBar=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=f(n(231)),l=f(n(427)),u=n(805),s=n(853),d=f(n(10)),c=f(n(5406));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onClick;return h(s.MessagesInteractionContext.Consumer,{},void 0,function(e){return e.disableInteractions?null:h("div",{className:c.default.jumpToPresentBar},void 0,h("button",{type:"button",onClick:t},void 0,d.default.Messages.YOURE_VIEWING_OLDER_MESSAGES),null!=t?h("button",{type:"button",onClick:t},void 0,d.default.Messages.JUMP_TO_PRESENT):h(l.default,{type:l.default.Type.PULSING_ELLIPSIS,className:c.default.spinner,itemClassName:c.default.spinnerItem}))})};t.JumpToPresentBar=v,v.displayName="JumpToPresentBar";var m=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.onScrollTo,r=e.onAck,a=h("button",{type:"button",onClick:n},void 0,t);return h(s.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return e.disableInteractions?null:h("div",{className:(0,o.default)(c.default.newMessagesBar,(t={},t[c.default.disableInteractions]=e.disableInteractions,t))},void 0,a,h("button",{type:"button",onClick:r},void 0,d.default.Messages.MARK_AS_READ))})},t}(a.PureComponent);t.NewMessagesBar=m,m.displayName="NewMessagesBar";var _=function(e){var t=e.children,n=e.red,r=e.setElementRef,i=e.className,l=e.backgroundOpacity;return a.createElement("div",{className:(0,o.default)(c.default.divider,n?c.default.dividerRed:null,c.default[(l||"")+"BackgroundOpacity"],i),ref:r},h("span",{className:c.default.dividerContent},void 0,t))};t.Divider=_,_.displayName="Divider";var y=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){return h("div",{className:c.default.loadingMore},void 0,h(l.default,{className:c.default.spinner}))},t}(a.Component);t.LoadingMore=y,y.displayName="LoadingMore";var g=function(e){var t=e.onClick;return h(s.MessagesInteractionContext.Consumer,{},void 0,function(e){var n;return h("div",{className:(0,o.default)(c.default.hasMore,(n={},n[c.default.disableInteractions]=e.disableInteractions,n))},void 0,h("button",{type:"button",onClick:t},void 0,d.default.Messages.LOAD_MORE_MESSAGES))})};t.HasMore=g,g.displayName="HasMore";var E=function(e){var t=e.onClick,n=e.count,r=e.revealed,a=e.children,l=e.className;return h(u.BackgroundOpacityContext.Consumer,{},void 0,function(e){var u,s=e.backgroundOpacity;return h("div",{className:(0,o.default)(c.default.messageGroupBlocked,l,c.default[s+"BackgroundOpacity"],(u={},u[c.default.revealed]=r,u))},void 0,h(i.default,{className:c.default.messageGroupBlockedBtn,onClick:t},void 0,d.default.Messages.BLOCKED_MESSAGES.format({count:n})),r?a:null)})};t.BlockedMessageGroup=E,E.displayName="BlockedMessageGroup"},6752:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=g(n(3)),a=g(n(1)),o=g(n(879)),i=g(n(11)),l=g(n(20)),u=g(n(74)),s=g(n(23)),d=g(n(43)),c=g(n(835)),f=g(n(87)),p=g(n(50)),h=g(n(237)),v=g(n(42)),m=g(n(14)),_=n(0),y=g(n(10));function g(e){return e&&e.__esModule?e:{default:e}}var E=10,S=[],T=null,I=null;function O(){if(!o.default.supported)return!1;var e=v.default.locale;I||(I=window.speechSynthesis&&window.speechSynthesis.getVoices()),T=(T=I.filter(function(t){return t.lang===e||t.lang.slice(0,e.length)===e})).length>0?T[0]:null}var N=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(i.default,p.default,c.default,d.default,m.default,v.default,s.default)},r}(r.default.Store))(a.default,__OVERLAY__?{}:{MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message;if(e.optimistic||d.default.isSelfDeaf())return!1;var r=l.default.getChannel(t);if(null==r)return!1;var a=t===p.default.getChannelId(),g=v.default.enableTTSCommand&&n.tts&&a,I=c.default.getTTSType(),N=n.author.id!==i.default.getId()&&(I===_.TTSNotificationTypes.ALL_CHANNELS||I===_.TTSNotificationTypes.SELECTED_CHANNEL&&a);if((g||N)&&!f.default.isBlocked(n.author.id)){if(S.indexOf(n.id)>=0)return!1;S.unshift(n.id)>E&&S.pop();var C=r.getGuildId();if(C&&h.default.getMutedChannels(C).has(t))return!1;var A=s.default.getGuild(C),M=u.default.getNick(C,n.author.id)||n.author.username,R=n.content.replace(function(){return y.default.Messages.SPOILER}).replace(/<@!?(\d+)>/g,function(e,t){var n=m.default.getUser(t);return null==n?e:u.default.getNick(C,n.id)||n.username}).replace(/<@&?(\d+)>/g,function(e,t){var n=null!=A?A.roles[t]:null;return null!=n&&null!=n.name?n.name:y.default.Messages.MESSAGE_TTS_DELETED_ROLE}).replace(/<#(\d+)>/g,function(e,t){var n=l.default.getChannel(t);return null==n?e:n.toString()}).replace(/<a?:(\w+):(\d+)>/g,function(e,t){return y.default.Messages.EMOJI+" "+t});T||O(),o.default.speak(y.default.Messages.MESSAGE_TTS.format({username:M,body:R}),T)}return!1},AUDIO_TOGGLE_SELF_DEAF:function(e){d.default.isSelfDeaf()&&o.default.cancelAll()},USER_SETTINGS_UPDATE:function(e){return O()},I18N_LOAD_SUCCESS:function(e){return O()}});t.default=N},6753:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=D(n(17)),i=D(n(6)),l=D(n(4)),u=D(n(304)),s=n(239),d=D(n(3)),c=D(n(6754)),f=D(n(6755)),p=D(n(35)),h=D(n(159)),v=D(n(87)),m=D(n(160)),_=D(n(194)),y=D(n(5989)),g=D(n(6120)),E=D(n(42)),S=D(n(14)),T=D(n(161)),I=D(n(302)),O=D(n(427)),N=D(n(426)),C=n(234),A=D(n(18)),M=n(113),R=D(n(443)),b=n(0),P=D(n(10)),L=D(n(5408));function D(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var G=[],k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={fadeIn:!1},t.timeout=null,t.handleDismissInviteEducation=function(){var e=t.props.activity;null!=e&&null!=e.application_id&&c.default.dismissForApplicationId(e.application_id)},t}U(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.timeout=setTimeout(function(){e.setState({fadeIn:!0}),e.timeout=null,e.logShownEventIfNeeded()},100)},n.componentDidUpdate=function(){this.logShownEventIfNeeded()},n.logShownEventIfNeeded=function(){var e=this.props.activity.application_id;null!=e&&-1===G.indexOf(e)&&(A.default.track(b.AnalyticEvents.SHOW_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e}),G.push(e))},n.componentWillUnmount=function(){null!==this.timeout&&clearTimeout(this.timeout)},n.render=function(){var e,t=this.props.activity;return w("div",{className:(0,o.default)(L.default.activityInviteEducation,(e={},e[L.default.activityInviteEducationFadeIn]=this.state.fadeIn,e))},void 0,w("div",{className:L.default.activityInviteEducationArrow}),w("span",{},void 0,P.default.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:t.name,dismissOnClick:this.handleDismissInviteEducation})))},t}(a.PureComponent);k.displayName="ActivityInviteEducation";var F=function(e){function t(t){var n;return(n=e.call(this,t)||this).emphasizeSlowmodeCooldown=function(){var e=n.state.color;u.default.sequence([u.default.timing(e,{toValue:1,duration:100,easing:u.default.Easing.quad}),u.default.timing(e,{delay:250,toValue:0,duration:100,easing:u.default.Easing.quad})]).start()},n.state={color:new u.default.Value(0)},n}U(t,e);var n=t.prototype;return n.componentDidMount=function(){M.ComponentDispatch.subscribe(b.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},n.componentWillUnmount=function(){M.ComponentDispatch.unsubscribe(b.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},n.getCooldownTextStyle=function(){var e=this.props.theme,t=this.state.color,n=b.Colors.WHITE;return e===b.ThemeTypes.LIGHT&&(n=b.Colors.PRIMARY_DARK_500),{color:t.interpolate({inputRange:[0,1],outputRange:[n,(0,s.hex2rgb)(b.Colors.STATUS_RED_500,.9)]})}},n.render=function(){var e=this,t=this.props,n=t.guildId,r=t.activity,a=t.showInviteEducation,s=t.isFocused,d=t.typingUsers,c=t.className,f=t.slowmodeCooldownGuess,p=t.channel.rateLimitPerUser,m=S.default.getCurrentUser(),_=p>0,y=(0,i.default)(d).keys().filter(function(e){return e!==m.id}).reject(v.default.isBlocked).map(function(e){return S.default.getUser(e)}).filter(function(e){return null!=e}).map(function(t){return R.default.getName(n,e.props.channel.id,t)}).value();if(0===y.length&&!_)return a&&null!=r?w(k,{activity:r,isFocused:s}):null;var g="",E=null,T="";if(_){E=w(I.default,{name:I.default.Names.TIMER,className:L.default.slowModeIcon});var C=h.default.can(b.Permissions.MANAGE_CHANNELS,this.props.channel)||h.default.can(b.Permissions.MANAGE_MESSAGES,this.props.channel);if(p>=b.Durations.HOUR){var A=Math.floor(p/b.Durations.HOUR),M=Math.floor((p-A*b.Durations.HOUR)/b.Durations.MINUTE),D=p-A*b.Durations.HOUR-M*b.Durations.MINUTE;T=P.default.Messages.CHANNEL_SLOWMODE_DESC_HOURS.format({hours:A,minutes:M,seconds:D})}else if(p>=60){var U=Math.floor(p/60),G=p-60*U;T=P.default.Messages.CHANNEL_SLOWMODE_DESC_MINUTES.format({minutes:U,seconds:G})}else T=P.default.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:p});if(!C&&f>0){var F=l.default.duration(f);if(f>1e3*b.Durations.HOUR){var j=(""+F.minutes()).padStart(2,"0"),B=(""+F.seconds()).padStart(2,"0");g=F.hours()+":"+j+":"+B}else{var H=(""+F.seconds()).padStart(2,"0");g=F.minutes()+":"+H}}else 0===y.length&&(g=C?P.default.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:P.default.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}var x,V=y[0],Y=y[1],K=y[2];return x=0===y.length?"":1===y.length?P.default.Messages.ONE_USER_TYPING.format({a:V}):2===y.length?P.default.Messages.TWO_USERS_TYPING.format({a:V,b:Y}):3===y.length?P.default.Messages.THREE_USERS_TYPING.format({a:V,b:Y,c:K}):P.default.Messages.SEVERAL_USERS_TYPING,w("div",{className:(0,o.default)(L.default.typing,{"stop-animation":!s},c)},void 0,y.length>0&&w(O.default,{type:O.default.Type.PULSING_ELLIPSIS,className:L.default.ellipsis,itemClassName:L.default.spinnerItem}),w("span",{className:L.default.text},y.length,x),_&&w(u.default.div,{style:this.getCooldownTextStyle(),className:L.default.cooldownWrapper},void 0,g,w(N.default,{text:T},void 0,E)))},t}(a.PureComponent);F.displayName="TypingUsers";var j=d.default.connectStores([y.default,g.default,T.default,m.default,_.default,h.default,p.default,f.default,E.default],function(e){var t=e.channel,n=_.default.getPrimaryActivity();return{showInviteEducation:(0,C.shouldShowActivityInviteEducation)(t,n,f.default,h.default,p.default),activity:n,typingUsers:g.default.getTypingUsers(t.id),isFocused:T.default.isFocused(),guildId:m.default.getGuildId(),slowmodeCooldownGuess:y.default.getSlowmodeCooldownGuess(t.id),theme:E.default.theme}})(F);t.default=j},6754:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={dismissForApplicationId:function(e){r.default.dispatch({type:o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,key:e,value:!0}),a.default.track(o.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})}};t.default=l},6755:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldShowEducation=function(e){return!0!==this.get(e)},r}(r.default.CachedStore))(a.default,"ActivityInviteEducationExperimentStore",o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,{});t.default=l},6758:function(e,t,n){e.exports=n.p+"c9f51873ae719a6b4b8c6724362e999e.png"},6759:function(e,t,n){e.exports=n.p+"7beab7b17eaa9ff7ceed3e5b1af274c2.png"},6760:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},6761:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},6762:function(e,t,n){e.exports=n.p+"7fa2adf98f26db34178bb30a63dabe8c.png"},6763:function(e,t,n){e.exports=n.p+"a92f116201fa7ff2b4acbb39f144ec60.png"},6764:function(e,t,n){e.exports=n.p+"716d569d0bca379a84578572c6efc7ac.png"},6765:function(e,t,n){e.exports=n.p+"f23c5c28c4429691f7c54af93876d661.png"},6766:function(e,t,n){e.exports=n.p+"3a79cdd1d4af225247f2ba574b97ae78.png"},6767:function(e,t,n){e.exports=n.p+"64f37efd5319b9b581557604864f042a.png"},6768:function(e,t,n){e.exports=n.p+"92cd1f9eabd48ec32dc2ecef617f706b.png"},6769:function(e,t,n){e.exports=n.p+"3a3ec02f3c9193e85bda10f5d2a42574.png"},6770:function(e,t,n){e.exports=n.p+"1d8d4e2b3fd0e542b6d37cbfa156d55e.png"},6771:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6772:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6773:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6774:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6777:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(3)),i=n(6016),l=d(n(825)),u=d(n(5874)),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.toggleCollapse=function(){var e=this.props,t=e.collapsed,n=e.channel.id;t?(0,i.categoryExpand)(n):(0,i.categoryCollapse)(n)},o.render=function(){var e=this,t=this.props.collapsed;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.COLLAPSE_CATEGORY,action:function(){return e.toggleCollapse()},active:t})},a}(a.PureComponent);c.displayName="CategoryToggleCollapse";var f=o.default.connectStores([l.default],function(e){var t=e.channel;return{collapsed:l.default.isCollapsed(t.id)}})(c);t.default=f},6778:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=n(5869),l=s(n(5848)),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChannelTopicCopy=function(){(0,i.copy)(t.props.channel.topic),(0,o.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.SUPPORTS_COPY?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.COPY_CHANNEL_TOPIC,action:this.handleChannelTopicCopy}):null},a}(a.PureComponent);d.displayName="ChannelCopyTopicItem";var c=d;t.default=c},6779:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(797)),i=(g(n(798)),g(n(5850))),l=g(n(3)),u=g(n(5979)),s=n(303),d=g(n(73)),c=n(129),f=g(n(159)),p=g(n(128)),h=g(n(5853)),v=g(n(5848)),m=g(n(433)),_=n(0),y=g(n(10));function g(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=(0,o.default)({displayName:"ChannelDeleteGroup",mixins:[i.default],render:function(){var e=this.props.channel;if(!f.default.can(_.Permissions.MANAGE_CHANNELS,e)||(0,c.isGuildSelectableChannelType)(e.type)&&!f.default.can(_.Permissions.VIEW_CHANNEL,e)||e.type===_.ChannelTypes.GUILD_VOICE&&!f.default.can(_.Permissions.CONNECT,e))return null;var t=e.type===_.ChannelTypes.GUILD_CATEGORY?y.default.Messages.DELETE_CATEGORY:y.default.Messages.DELETE_CHANNEL;return S(h.default,{},void 0,S(v.default,{label:t,action:this.handleChannelDelete,danger:!0}))},handleChannelDelete:function(){var e=this;(0,s.closeContextMenu)();var t=this.props.channel.type===_.ChannelTypes.GUILD_CATEGORY?y.default.Messages.DELETE_CATEGORY:y.default.Messages.DELETE_CHANNEL;d.default.push(function(n){return a.createElement(m.default,E({header:y.default.Messages.DELETE_SERVER_TITLE.format({name:e.props.channel.toString()}),confirmText:t,cancelText:y.default.Messages.CANCEL,onConfirm:e.handleConfirmChannelDelete},n),S(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,y.default.Messages.DELETE_SERVER_BODY.format({name:e.props.channel.toString(!0)})))})},handleConfirmChannelDelete:function(){u.default.deleteChannel(this.props.channel.id)}}),I=l.default.connectStores([f.default],function(e){var t=e.channel;return{permissions:f.default.getChannelPermissions(t.id)}})(T);t.default=I},6780:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(797)),o=(h(n(798)),h(n(5850))),i=h(n(3)),l=h(n(5979)),u=n(303),s=n(129),d=h(n(159)),c=h(n(5848)),f=n(0),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"ChannelEditItem",mixins:[o.default],render:function(){if(__OVERLAY__)return null;var e=this.props.channel;if(!d.default.can(f.Permissions.MANAGE_CHANNELS,e)&&!d.default.can(f.Permissions.MANAGE_ROLES,e)&&!d.default.can(f.Permissions.MANAGE_WEBHOOKS,e))return null;if((0,s.isGuildSelectableChannelType)(e.type)&&!d.default.can(f.Permissions.VIEW_CHANNEL,e)||e.type===f.ChannelTypes.GUILD_VOICE&&!d.default.can(f.Permissions.CONNECT,e))return null;var t=p.default.Messages.EDIT_CHANNEL;return e.type===f.ChannelTypes.GUILD_CATEGORY&&(t=p.default.Messages.EDIT_CATEGORY),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:t,action:this.handleChannelEdit})},handleChannelEdit:function(){var e=this.props.channel;(0,u.closeContextMenu)(),l.default.open(e.id)}}),m=i.default.connectStores([d.default],function(e){var t=e.channel;return{permissions:d.default.getChannelPermissions(t.id)}})(v);t.default=m},6781:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=_(n(797)),o=(_(n(798)),_(n(5850))),i=_(n(3)),l=n(303),u=_(n(6005)),s=_(n(73)),d=_(n(159)),c=n(196),f=_(n(5853)),p=_(n(5848)),h=_(n(5885)),v=n(0),m=_(n(10));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=(0,a.default)({displayName:"ChannelInviteCreateGroup",mixins:[o.default],render:function(){var e,t,n,r,a=this.props,o=a.type,i=a.channel,l=a.guild;return d.default.can(v.Permissions.CONNECT,i)&&(0,c.canViewInviteModal)(l,i)&&(e=y(p.default,{label:m.default.Messages.INSTANT_INVITE,action:this.openInviteModal})),!__OVERLAY__&&d.default.can(v.Permissions.MANAGE_CHANNELS,this.props.guild)&&o!==v.ContextMenuTypes.CHANNEL_LIST_STORE&&(o!==v.ContextMenuTypes.CHANNEL_LIST_VOICE&&(t=y(p.default,{label:m.default.Messages.CREATE_TEXT_CHANNEL,action:this.handleTextChannelCreate})),o!==v.ContextMenuTypes.CHANNEL_LIST_TEXT&&(n=y(p.default,{label:m.default.Messages.CREATE_VOICE_CHANNEL,action:this.handleVoiceChannelCreate})),r=y(p.default,{label:m.default.Messages.CLONE_CHANNEL,action:this.handleCloneCreate})),y(f.default,{},void 0,e,r,t,n)},openInviteModal:function(){(0,l.closeContextMenu)();var e=this.props,t=e.guild,n=e.channel;s.default.push(h.default,{guild:t,channel:n,source:v.InstantInviteSources.CONTEXT_MENU})},handleCloneCreate:function(){var e=this.props,t=e.channel,n=t.id,r=t.type,a=t.parent_id,o=e.guild.id;(0,l.closeContextMenu)(),u.default.open(r,o,a,n)},handleVoiceChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,l.closeContextMenu)(),u.default.open(v.ChannelTypes.GUILD_VOICE,n,t,null)},handleTextChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,l.closeContextMenu)(),u.default.open(v.ChannelTypes.GUILD_TEXT,n,t,null)}}),E=i.default.connectStores([d.default],function(e){var t=e.guild;return{permissionVersion:d.default.getGuildVersion(t.id)}})(g);t.default=E},6782:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=n(808),l=d(n(45)),u=d(n(5848)),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){var t,n;function a(t){var n;return c(n=e.call(this,t)||this).handleJumpToChannel=n.handleJumpToChannel.bind(c(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.JUMP_TO_CHANNEL,action:this.handleJumpToChannel})},d.handleJumpToChannel=function(){var e=this.props,t=e.channel,n=e.guild;l.default.transitionToGuild(n.id,t.id),(0,o.closeContextMenu)(),(0,i.popLayer)()},a}(a.PureComponent);f.displayName="ChannelJumpToItem";var p=f;t.default=p},6783:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=n(5932),l=d(n(5848)),u=n(0),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleMarkAsRead=function(){var e=t.props,n=e.type,r=e.channelId;(0,o.closeContextMenu)(),n===u.ChannelTypes.GUILD_CATEGORY?(0,i.ackCategory)(r,!0,!0):(0,i.ack)(r,!0,!0)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.MARK_AS_READ,action:function(){return e.handleMarkAsRead()},disabled:!this.props.hasUnread})},a}(a.PureComponent);c.displayName="ChannelMarkReadItem";var f=c;t.default=f},6784:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(797)),o=(c(n(798)),c(n(5850))),i=c(n(3)),l=c(n(6181)),u=c(n(6473)),s=c(n(5874)),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"ChannelToggleVisibilityItem",mixins:[i.default.LazyStoreListenerMixin(u.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCollapsed:u.default.isCollapsed(this.props.channelId)}},render:function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.VOICE_CHANNEL_HIDE_NAMES,action:this.handleChannelToggle,active:this.state.isCollapsed})},handleChannelToggle:function(){l.default.update(this.props.channelId)}});t.default=f},6797:function(e,t,n){var r={"./af":6190,"./af.js":6190,"./ar":6191,"./ar-dz":6192,"./ar-dz.js":6192,"./ar-kw":6193,"./ar-kw.js":6193,"./ar-ly":6194,"./ar-ly.js":6194,"./ar-ma":6195,"./ar-ma.js":6195,"./ar-sa":6196,"./ar-sa.js":6196,"./ar-tn":6197,"./ar-tn.js":6197,"./ar.js":6191,"./az":6198,"./az.js":6198,"./be":6199,"./be.js":6199,"./bg":6200,"./bg.js":6200,"./bm":6201,"./bm.js":6201,"./bn":6202,"./bn.js":6202,"./bo":6203,"./bo.js":6203,"./br":6204,"./br.js":6204,"./bs":6205,"./bs.js":6205,"./ca":6206,"./ca.js":6206,"./cs":6207,"./cs.js":6207,"./cv":6208,"./cv.js":6208,"./cy":6209,"./cy.js":6209,"./da":6210,"./da.js":6210,"./de":6211,"./de-at":6212,"./de-at.js":6212,"./de-ch":6213,"./de-ch.js":6213,"./de.js":6211,"./dv":6214,"./dv.js":6214,"./el":6215,"./el.js":6215,"./en-SG":6216,"./en-SG.js":6216,"./en-au":6217,"./en-au.js":6217,"./en-ca":6218,"./en-ca.js":6218,"./en-gb":6219,"./en-gb.js":6219,"./en-ie":6220,"./en-ie.js":6220,"./en-il":6221,"./en-il.js":6221,"./en-nz":6222,"./en-nz.js":6222,"./eo":6223,"./eo.js":6223,"./es":6224,"./es-do":6225,"./es-do.js":6225,"./es-us":6226,"./es-us.js":6226,"./es.js":6224,"./et":6227,"./et.js":6227,"./eu":6228,"./eu.js":6228,"./fa":6229,"./fa.js":6229,"./fi":6230,"./fi.js":6230,"./fo":6231,"./fo.js":6231,"./fr":6232,"./fr-ca":6233,"./fr-ca.js":6233,"./fr-ch":6234,"./fr-ch.js":6234,"./fr.js":6232,"./fy":6235,"./fy.js":6235,"./ga":6236,"./ga.js":6236,"./gd":6237,"./gd.js":6237,"./gl":6238,"./gl.js":6238,"./gom-latn":6239,"./gom-latn.js":6239,"./gu":6240,"./gu.js":6240,"./he":6241,"./he.js":6241,"./hi":6242,"./hi.js":6242,"./hr":6243,"./hr.js":6243,"./hu":6244,"./hu.js":6244,"./hy-am":6245,"./hy-am.js":6245,"./id":6246,"./id.js":6246,"./is":6247,"./is.js":6247,"./it":6248,"./it-ch":6249,"./it-ch.js":6249,"./it.js":6248,"./ja":6250,"./ja.js":6250,"./jv":6251,"./jv.js":6251,"./ka":6252,"./ka.js":6252,"./kk":6253,"./kk.js":6253,"./km":6254,"./km.js":6254,"./kn":6255,"./kn.js":6255,"./ko":6256,"./ko.js":6256,"./ku":6257,"./ku.js":6257,"./ky":6258,"./ky.js":6258,"./lb":6259,"./lb.js":6259,"./lo":6260,"./lo.js":6260,"./lt":6261,"./lt.js":6261,"./lv":6262,"./lv.js":6262,"./me":6263,"./me.js":6263,"./mi":6264,"./mi.js":6264,"./mk":6265,"./mk.js":6265,"./ml":6266,"./ml.js":6266,"./mn":6267,"./mn.js":6267,"./mr":6268,"./mr.js":6268,"./ms":6269,"./ms-my":6270,"./ms-my.js":6270,"./ms.js":6269,"./mt":6271,"./mt.js":6271,"./my":6272,"./my.js":6272,"./nb":6273,"./nb.js":6273,"./ne":6274,"./ne.js":6274,"./nl":6275,"./nl-be":6276,"./nl-be.js":6276,"./nl.js":6275,"./nn":6277,"./nn.js":6277,"./pa-in":6278,"./pa-in.js":6278,"./pl":6279,"./pl.js":6279,"./pt":6280,"./pt-br":6281,"./pt-br.js":6281,"./pt.js":6280,"./ro":6282,"./ro.js":6282,"./ru":6283,"./ru.js":6283,"./sd":6284,"./sd.js":6284,"./se":6285,"./se.js":6285,"./si":6286,"./si.js":6286,"./sk":6287,"./sk.js":6287,"./sl":6288,"./sl.js":6288,"./sq":6289,"./sq.js":6289,"./sr":6290,"./sr-cyrl":6291,"./sr-cyrl.js":6291,"./sr.js":6290,"./ss":6292,"./ss.js":6292,"./sv":6293,"./sv.js":6293,"./sw":6294,"./sw.js":6294,"./ta":6295,"./ta.js":6295,"./te":6296,"./te.js":6296,"./tet":6297,"./tet.js":6297,"./tg":6298,"./tg.js":6298,"./th":6299,"./th.js":6299,"./tl-ph":6300,"./tl-ph.js":6300,"./tlh":6301,"./tlh.js":6301,"./tr":6302,"./tr.js":6302,"./tzl":6303,"./tzl.js":6303,"./tzm":6304,"./tzm-latn":6305,"./tzm-latn.js":6305,"./tzm.js":6304,"./ug-cn":6306,"./ug-cn.js":6306,"./uk":6307,"./uk.js":6307,"./ur":6308,"./ur.js":6308,"./uz":6309,"./uz-latn":6310,"./uz-latn.js":6310,"./uz.js":6309,"./vi":6311,"./vi.js":6311,"./x-pseudo":6312,"./x-pseudo.js":6312,"./yo":6313,"./yo.js":6313,"./zh-cn":6314,"./zh-cn.js":6314,"./zh-hk":6315,"./zh-hk.js":6315,"./zh-tw":6316,"./zh-tw.js":6316};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6797},6798:function(e,t,n){"use strict";t.__esModule=!0,t.renderTitle=function(e){var t=e.channel,n=e.hasVideo,r=void 0!==n&&n,u=e.showMobileIndicator,d=void 0!==u&&u,h=e.handleClick,m=e.handleContextMenu,_=t.toString(),y=t.getTitleIcon(r);switch(t.type){case f.ChannelTypes.DM:var g=t.getRecipientId();return v(a.Fragment,{},void 0,""!==y?v(c.default.Icon,{name:y,disabled:!0}):null,v(c.default.Title,{onContextMenu:m,onClick:h,className:p.default.cursorPonter},void 0,_),v(l.default,{userId:g,className:p.default.status,hideTooltip:!0}),d?v(i.default,{className:p.default.mobileIndicator,invertTooltip:!0}):null);case f.ChannelTypes.GROUP_DM:return t.isManaged()?_:v(a.Fragment,{},void 0,v(c.default.Icon,{name:o.default.NOVA_PEOPLE,disabled:!0}),v(s.default,{channel:t},"channel-"+t.id));case f.ChannelTypes.GUILD_NEWS:case f.ChannelTypes.GUILD_TEXT:case f.ChannelTypes.GUILD_VOICE:return v(a.Fragment,{},void 0,""!==y?v(c.default.Icon,{name:y,disabled:!0}):null,v(c.default.Title,{onContextMenu:m,onClick:h},void 0,_));default:return null}},t.renderTopic=function(e,t){switch(e.type){case f.ChannelTypes.DM:return v(u.default,{channel:e},e.id);case f.ChannelTypes.GUILD_NEWS:case f.ChannelTypes.GUILD_TEXT:case f.ChannelTypes.GUILD_VOICE:case f.ChannelTypes.GROUP_DM:return null!=t?v(d.default,{channel:e,guild:t},e.id):null;default:return null}};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(449)),i=h(n(6153)),l=h(n(6358)),u=h(n(6799)),s=h(n(6800)),d=h(n(6802)),c=h(n(5891)),f=n(0),p=h(n(5348));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},6799:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(3)),i=c(n(74)),l=n(5907),u=n(5880),s=c(n(10)),d=c(n(5413));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(u.Divider,{}),h=function(e){var t=e.nicknames;return""===t.trim()?f("div",{className:d.default.spacer}):f(a.Fragment,{},void 0,p,f(l.TextBadge,{text:s.default.Messages.AKA,disableColor:!0,className:d.default.akaBadge}),f("div",{className:d.default.nicknames},void 0,t))};h.displayName="AKA";var v=o.default.connectStores([i.default],function(e){var t=e.channel.getRecipientId();return{nicknames:null!=t?i.default.getNicknames(t).join(", "):""}})(h);t.default=v},6800:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(430)),i=u(n(6801)),l=u(n(5415));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleBlur=function(e){t.props.channel.toString()!==e.currentTarget.value&&o.default.setName(t.props.channel.id,e.currentTarget.value)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return s("div",{className:l.default.container},void 0,s(i.default,{minLen:1,maxLen:100,className:l.default.channelName,value:this.props.channel.toString(),onBlur:this.handleBlur}))},r}(a.Component);d.displayName="ChannelName";var c=d;t.default=c},6801:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5414));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s="INPUT_REF",d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focused:!1,lastGoodValue:t.props.value,value:t.props.value},t.handleChange=function(e){t.setState({value:e.currentTarget.value});var n=t.props.onChange;n&&n(e)},t.handleFocus=function(e){t.setState({focused:!0,lastGoodValue:e.currentTarget.value});var n=t.props.onFocus;n&&n(e)},t.handleBlur=function(e){if(t.verifyLength()){t.setState({focused:!1});var n=t.props.onBlur;n&&n(e)}else t.setState({focused:!1,value:t.state.lastGoodValue})},t.handleKeyPress=function(e){13===e.which&&t.refs[s].blur()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){null!=e.value&&e.value!==this.props.value&&this.verifyLength(e.value)&&this.setState({value:e.value})},l.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&this.refs[s].focus()},l.render=function(){var e,t=this.props.className,n={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:n.opacity=0,u("div",{className:(0,o.default)(i.default.outer,t)},void 0,u("div",{className:i.default.container},void 0,a.createElement("input",{className:i.default.input,ref:s,style:n,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),a.createElement("div",{className:i.default.input,style:e,ref:"VALUE_REF"},this.state.value)))},l.verifyLength=function(e){void 0===e&&(e="");var t=e||this.state.value||"";return!(this.props.minLen&&t.length<this.props.minLen||this.props.maxLen&&t.length>this.props.maxLen)},r}(a.Component);t.default=d,d.displayName="InputAutosize"},6802:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(17)),i=n(303),l=m(n(73)),u=m(n(128)),s=m(n(98)),d=m(n(249)),c=m(n(5906)),f=m(n(6626)),p=m(n(5891)),h=n(0),v=m(n(5417));function m(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderHeader=function(){return y(s.default,{tag:s.default.Tags.H4},void 0,t.props.channel.toString(!0))},t}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return y(f.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,y(u.default,{selectable:!0,size:u.default.Sizes.MEDIUM,color:u.default.Colors.PRIMARY,className:v.default.content},void 0,d.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(a.Component);E.displayName="ChannelTopicModal";var S=y(p.default.Divider,{}),T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._mouseDown=!1,t.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&l.default.push(E,t.props)},t.onMouseDown=function(){t._mouseDown=!0},t.onMouseMove=function(){t._mouseDown&&(t._mouseDown=!1)},t.onMouseUp=function(e){t._mouseDown&&e.button!==h.MouseButtons.SECONDARY&&t.handleOpenTopic(e),t._mouseDown=!1},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.guild;(0,i.openContextMenu)(e,function(e){return a.createElement(c.default,_({},e,{type:h.ContextMenuTypes.CHANNEL_TOPIC,channel:r,guild:o}))})},t}return g(t,e),t.prototype.render=function(){var e=this.props.channel;return e.type===h.ChannelTypes.GROUP_DM?null:null==e.topic||0===e.topic.length?null:y(a.Fragment,{},void 0,S,y("div",{className:(0,o.default)(v.default.topic,v.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu},void 0,d.default.parseTopic(e.topic,!0,{channelId:e.id})))},t}(a.Component);T.displayName="ChannelTopic";var I=T;t.default=I},6804:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=m(n(3)),o=m(n(73)),i=m(n(6499)),l=(m(n(129)),m(n(310)),m(n(20))),u=m(n(23)),s=m(n(159)),d=m(n(112)),c=m(n(302)),f=n(806),p=m(n(5885)),h=n(0),v=m(n(10));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.stream,n=e.guild,r=e.channel,a=e.className,l=e.exitFullScreen,u=e.appContext;return function(e,t){return null!=e&&null!=t&&s.default.can(h.Permissions.CREATE_INSTANT_INVITE,t)}(n,r)?_(f.TooltipContainer,{text:v.default.Messages.ACTIVITY_INVITE_MODAL_INVITE,color:u!==h.AppContext.OVERLAY?f.TooltipColors.GREY:f.TooltipColors.BLACK},void 0,_(d.default,{"aria-label":v.default.Messages.ACTIVITY_INVITE_MODAL_INVITE,look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,onClick:function(){return function(e,t,n,r,a){a&&a(),r===h.AppContext.POPOUT&&(0,i.default)(),o.default.push(p.default,{guild:e,channel:t,streamUserId:n,analyticsLocation:h.AnalyticsLocations.STREAM},"stream-invite-modal",r)}(n,r,t.ownerId,u,l)}},void 0,_(c.default,{className:a,name:c.default.Names.INVITE}))):null}y.displayName="InviteButton";var g=a.default.connectStores([s.default],function(e){var t=e.stream;return{guild:u.default.getGuild(t.guildId),channel:l.default.getChannel(t.channelId)}})(y);t.default=g},6805:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(73)),i=h(n(6499)),l=h(n(112)),u=h(n(302)),s=n(806),d=h(n(6500)),c=h(n(6808)),f=n(0),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).openSettings=function(){(0,i.default)();var e=t.props,n=e.streamApplication,r=e.appContext,a=e.stream,l=e.exitFullScreen;l&&l(),o.default.push(c.default,{stream:a,streamApplication:n},"stream-settings",r)},t.openReport=function(){(0,i.default)();var e=t.props,n=e.streamApplication,r=e.appContext,a=e.stream,l=e.isStreamer,u=e.exitFullScreen;u&&u(),o.default.push(d.default,{stream:a,streamApplication:n,isStreamer:l},"stream-report-problem",r)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.stream,r=e.isStreamer,a=e.appContext;return null==n?null:v(s.TooltipContainer,{text:r?p.default.Messages.STREAMER_SETTINGS_TITLE:p.default.Messages.STREAM_REPORT_A_PROBLEM,color:a!==f.AppContext.OVERLAY?s.TooltipColors.GREY:s.TooltipColors.BLACK,position:s.TooltipPositions.TOP},void 0,v(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,onClick:r?this.openSettings:this.openReport},void 0,v(u.default,{className:t,name:r?u.default.Names.GEAR:u.default.Names.REPORT_FLAG})))},r}(a.PureComponent);m.displayName="StreamSettingsButton",m.defaultProps={inPlayer:!0};var _=m;t.default=_},6806:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=[{value:o.StreamIssueReportReasons.BLACK_SCREEN,label:a.default.Messages.STREAM_REPORT_BLACK},{value:o.StreamIssueReportReasons.BLURRY,label:a.default.Messages.STREAM_REPORT_BLURRY},{value:o.StreamIssueReportReasons.LAGGING,label:a.default.Messages.STREAM_REPORT_LAGGING},{value:o.StreamIssueReportReasons.OUT_OF_SYNC,label:a.default.Messages.STREAM_REPORT_OUT_OF_SYNC},{value:o.StreamIssueReportReasons.AUDIO_MISSING,label:a.default.Messages.STREAM_REPORT_AUDIO_MISSING},{value:o.StreamIssueReportReasons.AUDIO_POOR,label:a.default.Messages.STREAM_REPORT_AUDIO_POOR}];e&&t.push({value:o.StreamIssueReportReasons.GAME_ISSUE,label:a.default.Messages.STREAM_REPORT_GAME_ISSUE});return t};var r,a=(r=n(10))&&r.__esModule?r:{default:r},o=n(6807)},6807:function(e,t,n){"use strict";var r;t.__esModule=!0,t.StreamIssueReportReasons=void 0;var a=(0,((r=n(163))&&r.__esModule?r:{default:r}).default)({BLACK_SCREEN:null,BLURRY:null,LAGGING:null,OUT_OF_SYNC:null,AUDIO_MISSING:null,AUDIO_POOR:null,GAME_ISSUE:null});t.StreamIssueReportReasons=a},6808:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=w(n(17)),i=w(n(29)),l=w(n(3)),u=n(37),s=w(n(235)),d=w(n(73)),c=w(n(800)),f=w(n(6003)),p=w(n(895)),h=w(n(60)),v=w(n(14)),m=w(n(452)),_=w(n(112)),y=w(n(6317)),g=w(n(231)),E=w(n(158)),S=w(n(302)),T=w(n(188)),I=n(806),O=w(n(98)),N=w(n(809)),C=w(n(18)),A=w(n(8)),M=w(n(190)),R=w(n(6500)),b=w(n(5992)),P=n(0),L=w(n(10)),D=w(n(5420));function w(e){return e&&e.__esModule?e:{default:e}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(){d.default.popWithKey("stream-settings")}var j=G(b.default,{}),B=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={resolution:t.props.resolution,fps:t.props.fps},t.handleOpenPremium=function(){C.default.track(P.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:{page:P.AnalyticsLocations.STREAM}}),c.default.open(P.UserSettingsSections.PREMIUM)},t.handleReportClick=function(){var e=t.props,n=e.stream,r=e.streamApplication;C.default.track(P.AnalyticEvents.OPEN_MODAL,{type:"Stream Problem Report",other_user_id:n.ownerId,application_id:null!=r?r.id:null,application_name:null!=r?r.name:null,game_id:null!=r?r.id:null}),d.default.push(R.default,{stream:n,streamApplication:r,isStreamer:!0},"stream-report-problem")},t.changeSettings=function(){var e=t.props.settingsGame,n=t.state,r=n.resolution,a=n.fps;(0,i.default)(null!=e,"Received null settingsGame");var o=A.default.getDesktopSourceFromPid(e.pid);null!=o&&s.default.setDesktopSource(o,r,a,!0,u.MediaEngineContextTypes.STREAM),F()},t.handleSetResolution=function(e){t.setState({resolution:e})},t.handleSetFPS=function(e){t.setState({fps:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,l,f,p=r.prototype;return p.componentDidMount=function(){var e=this.props.stream;C.default.track(P.AnalyticEvents.OPEN_MODAL,{type:"Stream Settings Modal",other_user_id:e.ownerId})},p.getButton=function(e,t,n,r){var a,i=this.props.canUseHigherFramerate;return n&&!i?(a=G(I.TooltipContainer,{text:L.default.Messages.STREAM_QUALITY_UNLOCK},void 0,G(E.default,{align:E.default.Align.CENTER},void 0,G(N.default,{size:N.default.Sizes.SIZE_12,className:D.default.selectorNitroText},void 0,e===P.ApplicationStreamResolutions.RESOLUTION_SOURCE?L.default.Messages.SCREENSHARE_SOURCE:e),G(S.default,{name:S.default.Names.NITRO,color:P.Colors.BRAND,className:D.default.selectorNitroIcon}))),r=this.handleOpenPremium):a=G(N.default,{size:N.default.Sizes.SIZE_12,className:t?D.default.selectorTextSelected:D.default.selectorText},void 0,e===P.ApplicationStreamResolutions.RESOLUTION_SOURCE?L.default.Messages.SCREENSHARE_SOURCE:e),{content:a,className:(0,o.default)(t?D.default.selectorButtonSelected:D.default.selectorButton),onClick:r}},p.renderStreamerSettings=function(){var e=this,t=this.state,n=t.resolution,r=t.fps,a=Object.values(P.ApplicationStreamResolutions),o=Object.values(P.ApplicationStreamFPS),i=a.map(function(t){return e.getButton(t,t===n,function(e){return e>=P.ApplicationStreamResolutions.RESOLUTION_1080||e===P.ApplicationStreamResolutions.RESOLUTION_SOURCE}(t),function(){return e.handleSetResolution(t)})}),l=o.map(function(t){return e.getButton(t,t===r,!1,function(){return e.handleSetFPS(t)})});return G(E.default,{direction:E.default.Direction.VERTICAL,shrink:0,className:D.default.selector},void 0,G(E.default.Child,{grow:0,className:D.default.settings},void 0,G(O.default,{tag:O.default.Tags.H5},void 0,L.default.Messages.SCREENSHARE_STREAM_QUALITY),G(y.default,{buttons:i})),G(E.default.Child,{grow:0,className:D.default.settings},void 0,G(O.default,{tag:O.default.Tags.H5},void 0,L.default.Messages.SCREENSHARE_FRAME_RATE),G(y.default,{buttons:l})))},p.render=function(){return G(T.default,{},void 0,j,G(T.default.Header,{separator:!1},void 0,G(T.default.CloseButton,{className:D.default.closeButton,onClick:F}),G(O.default,{tag:O.default.Tags.H2,className:D.default.title},void 0,L.default.Messages.STREAMER_SETTINGS_TITLE)),G(T.default.Content,{},void 0,this.renderStreamerSettings(),G("div",{className:D.default.divider}),G(g.default,{className:D.default.reportText,onClick:this.handleReportClick},void 0,L.default.Messages.STREAM_REPORT_PROBLEM)),G(T.default.Footer,{separator:!1},void 0,this.settingsChanged?G(_.default,{color:_.default.Colors.BRAND,onClick:this.changeSettings},void 0,L.default.Messages.STREAM_REPORT_SUBMIT):G(_.default,{color:_.default.Colors.BRAND,onClick:F},void 0,L.default.Messages.DONE),G(E.default,{},void 0,G(_.default,{look:_.default.Looks.LINK,color:_.default.Colors.PRIMARY,size:_.default.Sizes.NONE,onClick:F},void 0,L.default.Messages.CANCEL))))},a=r,(l=[{key:"settingsChanged",get:function(){var e=this.props,t=e.resolution,n=e.fps,r=this.state,a=r.resolution,o=r.fps;return t!==a||n!==o}}])&&k(a.prototype,l),f&&k(a,f),r}(a.PureComponent);B.displayName="StreamSettings";var H=l.default.connectStores([p.default,v.default,h.default],function(){var e=(0,f.default)(h.default,m.default);return U({},p.default.getState(),{canUseHigherFramerate:M.default.canUseHigherFramerate(v.default.getCurrentUser()),settingsGame:e})},{forwardRef:!0})(B);t.default=H},6810:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(3)),l=p(n(801)),u=p(n(42)),s=p(n(6318)),d=p(n(307)),c=p(n(10)),f=p(n(5421));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).scroller=a.createRef(),t.handleDisagree=function(){var e=t.props.guild;l.default.nsfwDisagree(e.id)},t.handleAgree=function(){var e=t.props.guild;l.default.nsfwAgree(e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.scroller.current;null!=e&&e.scrollToBottom()},i.render=function(){return a.createElement(d.default,{ref:this.scroller,className:f.default.scrollerSettings,outerClassName:f.default.scrollWrap},h("div",{className:(0,o.default)("theme-"+this.props.theme,this.props.className,f.default.wrapper)},void 0,h(s.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:c.default.Messages.NSFW_TITLE,description:c.default.Messages.NSFW_DESCRIPTION,agreement:c.default.Messages.NSFW_ACCEPT,disagreement:c.default.Messages.NSFW_DECLINE})))},r}(a.PureComponent);v.displayName="GuildNSFW";var m=i.default.connectStores([u.default],function(){return{theme:u.default.theme}})(v);t.default=m},6859:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LinkButton=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=n(232),l=I(n(304)),u=I(n(430)),s=n(303),d=I(n(73)),c=I(n(158)),f=I(n(302)),p=I(n(6153)),h=I(n(128)),v=n(234),m=I(n(5884)),_=I(n(6860)),y=I(n(5236)),g=I(n(433)),E=n(0),S=I(n(10)),T=I(n(5473));function I(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){var e,t=this.props,n=t.route,r=t.selected,a=t.iconName,l=t.text,u=t.children,s=t.locationState;return N("div",{className:(0,o.default)((e={},e[T.default.channel]=!0,e[T.default.selected]=r,e))},void 0,N(i.Link,{to:{pathname:n,state:s}},void 0,N(f.default,{name:a,className:T.default.linkButtonIcon}),N("div",{className:T.default.name},void 0,l),u))},t}(a.Component);t.LinkButton=A,A.displayName="LinkButton";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={animated:new l.default.Value(1)},t.handleClose=function(e){null!=e&&(e.preventDefault(),e.stopPropagation());var n=t.props.channel;u.default.closePrivateChannel(n.id,t.props.selected)},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=n.user;r.type===E.ChannelTypes.GROUP_DM?(0,s.openContextMenu)(e,function(e){return a.createElement(_.default,O({},e,{channelId:r.id,selected:o}))},{noBlurEvent:!0}):(0,s.openContextMenu)(e,function(e){return a.createElement(y.default,O({},e,{type:E.ContextMenuTypes.USER_PRIVATE_CHANNELS,user:i,channelId:r.id,selected:o}))})},t.handleLeaveGroup=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.channel,r=n.toString(),o=S.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:r}),i=S.default.Messages.LEAVE_GROUP_DM_BODY.format({name:r});n.isManaged()&&(o=S.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:r}),i=S.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:r})),d.default.push(function(e){return a.createElement(g.default,O({header:o,confirmText:S.default.Messages.LEAVE_GROUP_DM,cancelText:S.default.Messages.CANCEL,onConfirm:t.handleClose},e),N(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,i))})},t.handleMouseDown=function(){u.default.preload(E.ME,t.props.channel.id)},t}C(t,e);var n=t.prototype;return n.componentWillEnter=function(e){this.state.animated.setValue(0),l.default.timing(this.state.animated,{toValue:1,duration:200}).start(e)},n.componentWillLeave=function(e){l.default.timing(this.state.animated,{toValue:0,duration:200}).start(e)},n.renderActivity=function(e,t){return N(c.default,{className:T.default.activity,align:c.default.Align.CENTER},void 0,N("div",{className:T.default.activityText},void 0,(0,v.renderActivity)(e,t)),(0,v.hasRichActivity)(e)&&N(f.default,{name:f.default.Names.RICH_ACTIVITY,className:T.default.activityIcon,foreground:T.default.activityIconForeground}))},n.renderChannelName=function(){var e=this.props,t=e.channel,n=e.activity,r=e.applicationStream,a=e.showMobileIndicator;if(t.type===E.ChannelTypes.GROUP_DM){var o=S.default.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1});return N("div",{className:T.default.name},void 0,t.toString(),N("div",{className:T.default.activity},void 0,o))}return null!=n?N("div",{className:T.default.name},void 0,N("span",{className:T.default.nameWithActivity},void 0,t.toString()),a?N(p.default,{className:T.default.mobileIndicator}):null,this.renderActivity(n,r)):N("div",{className:T.default.nameWrapper},void 0,N("span",{className:T.default.name},void 0,t.toString()),a?N(p.default,{className:T.default.mobileIndicator}):null)},n.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,r=e.status,a=e.activity,o=e.typing;return t.type===E.ChannelTypes.GROUP_DM?N(m.default,{channel:t,theme:E.ThemeTypes.DARK,outerClassName:T.default.avatar}):N(m.default,{user:n,status:r,streaming:(0,v.isStreaming)(a),typing:o,theme:E.ThemeTypes.DARK,outerClassName:T.default.avatar,statusClassName:T.default.status})},n.render=function(){var e,t,n=this.props,r=n.channel,u=n.selected;t=r.type===E.ChannelTypes.GROUP_DM?this.handleLeaveGroup:this.handleClose;var s={height:this.state.animated.interpolate({inputRange:[0,1],outputRange:[0,42]}),opacity:this.state.animated};return a.createElement(l.default.div,{className:(0,o.default)((e={},e[T.default.channel]=!0,e[T.default.selected]=u,e)),style:s,key:r.id,ref:r.id,onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown},N(i.Link,{to:E.Routes.CHANNEL(E.ME,r.id)},void 0,this.renderAvatar(),this.renderChannelName(),N("button",{className:T.default.close,onClick:t})))},t}(a.PureComponent);M.displayName="PrivateChannel",M.defaultProps={selected:!1};var R=M;t.default=R},6860:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(3)),i=S(n(430)),l=n(303),u=S(n(73)),s=S(n(11)),d=S(n(20)),c=S(n(128)),f=S(n(5934)),p=S(n(5853)),h=S(n(5848)),v=S(n(433)),m=S(n(6861)),_=S(n(6327)),y=S(n(5909)),g=n(0),E=S(n(10));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleViewInstantInvites=function(){(0,l.closeContextMenu)(),u.default.push(function(e){return a.createElement(m.default,I({channelId:t.props.channel.id},e))})},t}return O(t,e),t.prototype.render=function(){return this.props.channel.isOwner(s.default.getId())?T(h.default,{label:E.default.Messages.INSTANT_INVITES,action:this.handleViewInstantInvites}):null},t}(a.PureComponent);N.displayName="InstantInvites";var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeIcon=function(e){(0,l.closeContextMenu)(),i.default.setIcon(t.props.channel.id,e)},t}return O(t,e),t.prototype.render=function(){return T(h.default,{label:E.default.Messages.CHANGE_ICON,styles:{position:"relative"}},void 0,T(f.default,{onChange:this.handleChangeIcon,size:g.AVATAR_MAX_SIZE}))},t}(a.PureComponent);C.displayName="ChangeIcon";var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRemoveIcon=function(){(0,l.closeContextMenu)(),i.default.setIcon(t.props.channel.id,null)},t}return O(t,e),t.prototype.render=function(){return null!=this.props.channel.icon?T(h.default,{label:E.default.Messages.REMOVE_ICON,action:this.handleRemoveIcon}):null},t}(a.PureComponent);A.displayName="RemoveIcon";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleConfirmLeave=function(){(0,l.closeContextMenu)();var e=t.props.channel,n=e.toString(),r=E.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:n}),o=E.default.Messages.LEAVE_GROUP_DM_BODY.format({name:n});e.isManaged()&&(r=E.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:n}),o=E.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:n})),u.default.push(function(e){return a.createElement(v.default,I({header:r,confirmText:E.default.Messages.LEAVE_GROUP_DM,cancelText:E.default.Messages.CANCEL,onConfirm:t.handleLeave},e),T(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,o))})},t.handleLeave=function(){var e=t.props,n=e.channel,r=e.selected;i.default.closePrivateChannel(n.id,r)},t}return O(t,e),t.prototype.render=function(){return T(h.default,{label:E.default.Messages.LEAVE_GROUP_DM,action:this.handleConfirmLeave,danger:!0})},t}(a.PureComponent);M.displayName="LeaveGroup";var R=function(e){function t(){return e.apply(this,arguments)||this}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,r=e.selected,a=e.channel;return null==a?null:a.isManaged()?null:T("div",{className:n,style:t},void 0,T(p.default,{},void 0,T(N,{channel:a}),T(C,{channel:a}),T(A,{channel:a})),T(p.default,{},void 0,T(_.default,{channel:a}),T(M,{channel:a,selected:r})),T(y.default,{id:a.id}))},t}(a.PureComponent);R.displayName="GroupDMContextMenu";var b=o.default.connectStores([d.default],function(e){var t=e.channelId;return{channel:d.default.getChannel(t)}})(R);t.default=b},6861:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(2)),o=D(n(17)),i=D(n(6)),l=D(n(3)),u=D(n(9)),s=D(n(311)),d=n(191),c=D(n(5967)),f=D(n(131)),p=D(n(20)),h=D(n(306)),v=D(n(42)),m=D(n(112)),_=D(n(6059)),y=w(n(5860)),g=D(n(158)),E=D(n(188)),S=D(n(6331)),T=D(n(427)),I=D(n(128)),O=n(796),N=D(n(18)),C=D(n(5884)),A=n(0),M=D(n(10)),R=D(n(5240)),b=D(n(5239)),P=D(n(5235)),L=D(n(5472));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRevokeInvite=function(){var e=t.props,n=e.onRevoke,r=e.invite;null!=n&&n(r)},t}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hideDiscriminator,r=e.hideInviteCode,a=new f.default(t.inviter);return G(g.default,{className:(0,o.default)(L.default.row,b.default.card)},void 0,G(g.default,{align:g.default.Align.CENTER,className:L.default.userColumn},void 0,G(C.default,{user:a,size:"xsmall",className:L.default.avatar}),G(S.default,{user:a,hideDiscriminator:n,usernameClass:L.default.username,discriminatorClass:L.default.discrimClass})),G(g.default,{align:g.default.Align.CENTER,grow:0,shrink:0,basis:100,className:L.default.boostZIndex},void 0,G(I.default,{family:I.default.Family.CODE,className:L.default.code},void 0,r?"...":t.code)),G(g.default,{basis:100,grow:0,shrink:0,align:g.default.Align.CENTER,justify:g.default.Justify.END,className:L.default.boostZIndex},void 0,G(I.default,{family:I.default.Family.CODE,className:L.default.alignRight},void 0,G(_.default,{deadline:t.getExpiresAt(),showDays:!1})),G("button",{className:(0,o.default)(L.default.revokeInvite,R.default.button),onClick:this.handleRevokeInvite})))},t}(a.PureComponent);F.displayName="InviteRow";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,invites:null},t.handleRevoke=function(e){s.default.revokeInvite(e.code),t.setState({invites:t.state.invites.filter(function(t){return t!==e})})},t.handleClose=function(){var e=t.props.onClose;e&&e()},t}k(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this,t=this.props.channelId;u.default.get({url:A.Endpoints.INSTANT_INVITES(t),retries:3}).then(function(t){var n=t.body.map(function(e){return new c.default(U({},e,{maxUses:e.max_uses,maxAge:e.max_age,createdAt:e.created_at}))});e.setState({loading:!1,invites:n})}),N.default.track(A.AnalyticEvents.OPEN_MODAL,U({},(0,d.collectChannelAnalyticsMetadata)(p.default.getChannel(t)),{type:"Group DM Invites",source:"Group DM Menu"}))},r.renderContent=function(){var e=this.state,t=e.loading,n=e.invites;return t||null==n?G(T.default,{className:P.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE}):i.default.isEmpty(n)?this.renderEmpty():G("div",{className:L.default.container},void 0,this.renderHeader(),this.renderInvites())},r.renderEmpty=function(){return G(y.default,{theme:this.props.theme},void 0,G(y.EmptyStateImage,{darkSrc:n(6512),lightSrc:n(6513),width:256,height:130,style:{marginBottom:0}}),G(y.EmptyStateText,{className:P.default.marginTop20},void 0,M.default.Messages.NO_INVITES_CAPTION))},r.renderHeader=function(){return G(g.default,{},void 0,G(g.default.Child,{wrap:!0},void 0,G(O.FormTitle,{},void 0,M.default.Messages.INSTANT_INVITE_INVITER)),G(g.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,G(O.FormTitle,{},void 0,M.default.Messages.INSTANT_INVITE_INVITE_CODE)),G(g.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,G(O.FormTitle,{className:L.default.alignRight},void 0,M.default.Messages.INSTANT_INVITE_EXPIRES)))},r.renderInvites=function(){var e=this,t=this.props,n=t.hideDiscriminators,r=t.hideInviteCodes;return(0,i.default)(this.state.invites).sortBy(function(e){return(e.inviter.username||"").toLocaleLowerCase()}).map(function(t){return G(F,{invite:t,hideDiscriminator:n,hideInviteCode:r,onRevoke:e.handleRevoke},t.code)}).value()},r.render=function(){return G(E.default,{size:E.default.Sizes.MEDIUM},void 0,G(E.default.Header,{direction:g.default.Direction.VERTICAL,align:g.default.Align.START},void 0,G(O.FormTitle,{tag:O.FormTitleTags.H2},void 0,M.default.Messages.INVITES),G(O.FormText,{type:O.FormTextTypes.DESCRIPTION},void 0,M.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE)),G(E.default.Content,{},void 0,this.renderContent()),G(E.default.Footer,{},void 0,G(m.default,{onClick:this.handleClose},void 0,M.default.Messages.DONE)))},t}(a.PureComponent);j.displayName="InviteSettingsModal";var B=l.default.connectStores([h.default,v.default],function(){return{hideDiscriminators:h.default.hidePersonalInformation,hideInviteCodes:h.default.hideInstantInvites,theme:v.default.theme}})(j);t.default=B},6862:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(6063)),i=v(n(197)),l=v(n(803)),u=v(n(5876)),s=v(n(191)),d=v(n(101)),c=v(n(307)),f=v(n(822)),p=n(0),h=v(n(5474));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=42,g=100,E=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).scrollerRef=a.createRef(),n.hasReportedAnalytics=!1,n.reportAnalytics=function(){if(!n.hasReportedAnalytics){var e=n.scrollerRef.current;if(null!=e&&null!=e.getScrollData()){var t=n.props,r=t.privateChannelIds,o=t.channels;if(0!==r.length){var i=a.Children.count(n.props.children),l=y*i,u=e.getScrollData();if(null!=u){var c=Math.round((u.offsetHeight-l)/y),f=c>r.length?r.slice(0,c+1):r,h=f.map(function(e){return null!=o[e]?o[e].getRecipientId():null}),v={num_users_visible:f.length,num_users_visible_with_mobile_indicator:h.filter(function(e){return null!=e&&d.default.isMobileOnline(e)}).length};n.hasReportedAnalytics=!0,s.default.trackWithMetadata(p.AnalyticEvents.DM_LIST_VIEWED,_({},v))}}}}},n.handleScroll=(0,o.default)(function(){var e=n.scrollerRef.current;if(null!=e){var t=e.getScrollerNode();null!=t&&u.default.updateChannelListScroll(p.ME,t.scrollTop)}},g),n.state={initialized:!1,preRenderedChildren:a.Children.count(t.children)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){return{preRenderedChildren:a.Children.count(e.children)}};var h=r.prototype;return h.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t),this.reportAnalytics()},h.shouldComponentUpdate=function(e){return!(0,i.default)(this.props,e,["channels","children"])},h.componentDidUpdate=function(e){var t=this.props,n=t.selectedChannelId,r=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&r!==e.homeLink&&this.scrollToChannel(null),this.reportAnalytics()},h.scrollToChannel=function(e){var t=this.scrollerRef.current;if(null!=t){var n=this.props.padding,r=this.state.preRenderedChildren,a=this.props.privateChannelIds.indexOf(e),o=0;a<0||null==e?t.scrollTo(o):(o+=y*(a+r)+n,t.scrollIntoViewRect(Math.max(o-8,0),o+y+8,!1))}},h.render=function(){var e=this.props,t=e.selectedChannelId,n=e.privateChannelIds,r=e.renderChannel,o=e.padding,i=e.renderEmptyState,u=e.channels,s=a.Children.toArray(this.props.children),d=s.length;n.forEach(function(e){var n=u[e];null!=n&&s.push(r(n,t===e))});var h={theme:f.default.Themes.GHOST_HAIRLINE,backgroundColor:p.Colors.PRIMARY_DARK_630,fade:!0,ref:this.scrollerRef,onScroll:this.handleScroll};return s.length===d?(s.push(i("no-private-channels")),a.createElement(c.default,_({},h,{style:{paddingTop:o,paddingBottom:8}}),s)):s.length>30?a.createElement(f.default,_({},h,{elementHeight:y,batchEndMultiplier:1.3,track:!1,backgroundColor:p.Colors.PRIMARY_DARK_630,paddingTop:o,paddingBottom:8}),s):a.createElement(c.default,_({},h,{style:{paddingTop:o,paddingBottom:8}}),m(l.default,{transitionAppear:!1},void 0,s))},r}(a.Component);E.displayName="PrivateChannelsList",E.defaultProps={padding:20,renderEmptyState:function(e){return m("div",{className:h.default.empty},e)}};var S=E;t.default=S},6863:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(426)),u=c(n(6320)),s=n(0),d=c(n(5265));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=((r={})[s.RTCConnectionQuality.UNKNOWN]=l.default.Colors.BLACK,r[s.RTCConnectionQuality.BAD]=l.default.Colors.RED,r[s.RTCConnectionQuality.AVERAGE]=l.default.Colors.YELLOW,r[s.RTCConnectionQuality.FINE]=l.default.Colors.GREEN,r),h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.quality,r=t.lastPing,a=t.state,o=t.hasVideo,c=t.className,h=t.children;a===s.RTCConnectionStates.RTC_CONNECTED&&(e=f("span",{className:(0,i.default)("ping",c)}),n!==s.RTCConnectionQuality.UNKNOWN&&null!=r&&(e=f(l.default,{text:r.toFixed(0)+" ms",color:p[n]},void 0,e)));var v=u.default.getStatus(a,o),m=v.connectionStatus,_=v.connectionStatusText;return f("div",{className:(0,i.default)("rtc-connection-status","rtc-connection-status-"+m,"rtc-connection-quality-"+n,c)},void 0,e,f("div",{className:d.default.description},void 0,f("span",{className:c},void 0,_),h))},r}(o.PureComponent);h.displayName="RTCConnectionStatus";var v=h;t.default=v},6864:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=m(n(2)),o=n(6865),i=n(37),l=m(n(6630)),u=v(n(43)),s=v(n(305)),d=v(n(308)),c=v(n(6320)),f=n(0),p=v(n(10)),h=v(n(5476));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=_(o.SparklinesLine,{}),g=_(o.SparklinesReferenceLine,{type:"mean"}),E=_("hr",{}),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).openDebugPanel=function(){var e=t.props.onClose;e&&e(),l.open()},t.renderVoiceConnected=function(){var e=t.props,n=e.pings,r=e.hostname,i=e.averagePing,l=e.lastPing,u=e.outboundLossRate,s=null!=u?p.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_RATE:p.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED;return _(a.Fragment,{},void 0,_("div",{className:h.default.sparkline},void 0,_(o.Sparklines,{data:n,width:210,height:30},void 0,y,g)),s.format({hostname:c.default.getShortHostname(r),badPing:250,averagePing:i.toFixed(0),lastPing:(l||0).toFixed(0),outboundLossRate:(u||0).toFixed(1),badLossRate:10}))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props.connectionState,n=(e={},e[f.RTCConnectionStates.AWAITING_ENDPOINT]=p.default.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:f.STATUS_PAGE_ENDPOINT}),e[f.RTCConnectionStates.CONNECTING]=p.default.Messages.RTC_CONNECTION_STATE_CONNECTING,e[f.RTCConnectionStates.AUTHENTICATING]=p.default.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,e[f.RTCConnectionStates.DISCONNECTED]=p.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e[f.RTCConnectionStates.RTC_CONNECTING]=p.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,e[f.RTCConnectionStates.ICE_CHECKING]=p.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:d.default.getArticleURL(f.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[f.RTCConnectionStates.RTC_CONNECTED]=this.renderVoiceConnected,e[f.RTCConnectionStates.NO_ROUTE]=p.default.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:d.default.getArticleURL(f.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[f.RTCConnectionStates.RTC_DISCONNECTED]=p.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e)[t];return _("div",{className:h.default.container},void 0,_("header",{},void 0,p.default.Messages.RTC_CONNECTION),_("section",{},void 0,"function"==typeof n?n():_("p",{},void 0,n),E,_("div",{className:h.default.popoutBottom},void 0,_("span",{className:h.default.secured},void 0,p.default.Messages.IP_ADDRESS_SECURED),u.default.supports(i.Features.DIAGNOSTICS)&&!__OVERLAY__&&_(s.default,{className:h.default.debugButton,onClick:this.openDebugPanel},void 0,p.default.Messages.DEBUG))))},r}(a.PureComponent);S.displayName="RTCConnectionPopout";var T=S;t.default=T},6866:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=c(n(5922)),l=c(n(5853)),u=c(n(5848)),s=n(0),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleGuildCreate=function(){(0,o.closeContextMenu)(),i.default.open(s.CreateGuildModalScreens.CreateGuild,"Guild List - ContextMenu")},t.handleGuildJoin=function(){(0,o.closeContextMenu)(),i.default.open(s.CreateGuildModalScreens.JoinGuild,"Guild List - ContextMenu")},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return f(l.default,{},void 0,f(u.default,{label:d.default.Messages.JOIN_SERVER_BUTTON_CTA,action:this.handleGuildJoin}),f(u.default,{label:d.default.Messages.CREATE_SERVER_BUTTON_CTA,action:this.handleGuildCreate}))},r}(a.PureComponent);p.displayName="GuildCreateJoinGroup";var h=p;t.default=h},6867:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(3)),i=n(303),l=h(n(73)),u=h(n(159)),s=n(196),d=h(n(5848)),c=h(n(5885)),f=n(0),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function a(t){var n;return v(n=e.call(this,t)||this).handleClick=n.handleClick.bind(v(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){var e=this.props,t=e.channel,n=e.guild;(0,i.closeContextMenu)(),l.default.push(c.default,{guild:n,channel:t,source:f.InstantInviteSources.GUILD_CONTEXT_MENU})},o.render=function(){return this.props.canCreateInvite?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:p.default.Messages.INVITE_PEOPLE,action:this.handleClick,brand:!0}):null},a}(a.PureComponent);m.displayName="GuildInviteItem";var _=o.default.connectStores([u.default],function(e){var t=e.channel,n=e.guild;return{canCreateInvite:(0,s.canViewInviteModal)(n,t)}})(m);t.default=_},6868:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(797)),i=(_(n(798)),_(n(5850))),l=_(n(3)),u=n(303),s=_(n(5857)),d=_(n(73)),c=_(n(14)),f=_(n(128)),p=_(n(5853)),h=_(n(5848)),v=_(n(433)),m=_(n(10));function _(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=(0,o.default)({displayName:"GuildLeaveGroup",mixins:[l.default.StoreListenerMixin(c.default),i.default],getStateFromStores:function(){return{amOwner:this.props.guild.isOwner(c.default.getCurrentUser())}},render:function(){return this.state.amOwner?null:g(p.default,{},void 0,g(h.default,{label:m.default.Messages.LEAVE_SERVER,action:this.handleLeaveGuild,danger:!0}))},handleLeaveGuild:function(){var e=this;(0,u.closeContextMenu)(),d.default.push(function(t){return a.createElement(v.default,y({header:m.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.name}),confirmText:m.default.Messages.LEAVE_SERVER,cancelText:m.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),g(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,m.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.name})))})},handleConfirmLeaveGuild:function(){s.default.leaveGuild(this.props.guild.id)}});t.default=E},6869:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(797)),o=(f(n(798)),f(n(5850))),i=f(n(3)),l=n(303),u=f(n(801)),s=f(n(5901)),d=f(n(5848)),c=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)({displayName:"GuildMarkReadItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{hasUnread:s.default.getUnreadGuildsIgnoreMuted(this.props.guildId)}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:c.default.Messages.MARK_AS_READ,action:this.handleMarkAsRead,disabled:!this.state.hasUnread})},handleMarkAsRead:function(){(0,l.closeContextMenu)(),u.default.markGuildAsRead(this.props.guildId)}});t.default=p},6870:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(797)),o=(c(n(798)),c(n(5850))),i=c(n(3)),l=c(n(6017)),u=c(n(237)),s=c(n(5874)),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"GuildMuteItem",mixins:[i.default.LazyStoreListenerMixin(u.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{muted:u.default.isMuted(this.props.guildId)}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.SERVER_MUTE,action:this.handleServerMute,active:this.state.muted})},handleServerMute:function(){l.default.updateNotificationSettings(this.props.guildId,{muted:!this.state.muted})}});t.default=f},6871:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=s(n(6017)),l=s(n(5848)),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleShowNotificationSettings=function(){(0,o.closeContextMenu)(),i.default.open(t.props.guildId)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.NOTIFICATION_SETTINGS,action:this.handleShowNotificationSettings})},a}(a.PureComponent);d.displayName="GuildNotificationsItem";var c=d;t.default=c},6872:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=s(n(6517)),l=s(n(5848)),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleOpenPrivacySettings=function(){(0,o.closeContextMenu)(),i.default.open(t.props.guildId)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.PRIVACY_SETTINGS,action:this.handleOpenPrivacySettings})},a}(a.PureComponent);d.displayName="GuildPrivacySettingsItem";var c=d;t.default=c},6873:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(797)),o=(v(n(798)),v(n(5850))),i=v(n(3)),l=n(303),u=v(n(5857)),s=v(n(159)),d=v(n(5848)),c=v(n(5946)),f=n(6632),p=n(0),h=v(n(10));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=(0,a.default)({displayName:"GuildSettingsItem",mixins:[o.default],render:function(){var e=this;if(__OVERLAY__)return null;var t=this.props.guild;return s.default.can(p.Permissions.MANAGE_GUILD,t)||s.default.can(p.Permissions.MANAGE_ROLES,t)||s.default.can(p.Permissions.BAN_MEMBERS,t)||s.default.can(p.Permissions.MANAGE_NICKNAMES,t)||s.default.can(p.Permissions.MANAGE_EMOJIS,t)||s.default.can(p.Permissions.MANAGE_WEBHOOKS,t)||s.default.can(p.Permissions.VIEW_AUDIT_LOG,t)?m(c.default,{label:h.default.Messages.SERVER_SETTINGS,action:function(){return e.handleShowSettings()},render:this.renderSubMenuItems}):null},renderSubMenuItems:function(){var e=this,t=this.props.guild;return(0,f.getGuildSettingsSections)(t).map(function(t){var n=t.section,r=t.label;return n!==p.GuildSettingsSections.DELETE&&null!=r?m(d.default,{action:function(){return e.handleShowSettings(n)},label:r},n):null})},handleShowSettings:function(e){(0,l.closeContextMenu)(),u.default.open(this.props.guild.id,e)}}),y=i.default.connectStores([s.default],function(e){var t=e.guild;return{permissionVerson:s.default.getGuildVersion(t.id)}})(_);t.default=y},6874:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(112)),i=h(n(431)),l=h(n(188)),u=h(n(128)),s=h(n(799)),d=h(n(432)),c=h(n(98)),f=h(n(10)),p=h(n(5477));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={textVal:"",error:null},m(n).handleTextChange=n.handleTextChange.bind(m(n)),m(n).handleSubmit=n.handleSubmit.bind(m(n)),m(n).handleCancel=n.handleCancel.bind(m(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.render=function(){var e=this.props,t=e.header,n=e.className,r=e.cancelText,h=e.confirmText,m=e.instructionText,_=e.children,y=this.state,g=y.error,E=y.textVal,S=a.Children.count(_)?v(i.default,{type:i.default.Types.WARNING,className:p.default.card},void 0,v(u.default,{color:u.default.Colors.WHITE,size:u.default.Sizes.MEDIUM},void 0,_)):null;return v(l.default,{tag:"form",onSubmit:this.handleSubmit,className:n},void 0,v(l.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,t)),v(l.default.Content,{},void 0,S,v(d.default,{title:m,className:p.default.spacing},void 0,v(s.default,{id:"text-entry-confirm",type:"text",value:E,autoComplete:"off",onChange:this.handleTextChange,autoFocus:!0}),g?v(u.default,{color:u.default.Colors.RED,size:u.default.Sizes.SMALL,className:p.default.error},void 0,g):null)),v(l.default.Footer,{},void 0,v(o.default,{type:"submit",color:o.default.Colors.RED},void 0,h||f.default.Messages.CONFIRM),v(o.default,{onClick:this.handleCancel,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,r||f.default.Messages.CANCEL)))},h.handleSubmit=function(e){e.preventDefault();var t=this.state.textVal,n=this.props,r=n.onConfirm,a=n.validationText,o=n.errorText;t.toLowerCase()===a.toLowerCase()?(r&&r(),this.handleCancel()):this.setState({error:o})},h.handleCancel=function(){var e=this.props.onClose;e&&e()},h.handleTextChange=function(e){this.setState({textVal:e})},r}(a.PureComponent);_.displayName="TextEntryConfirm",_.key=function(){return"text-entry-confirm-modal"};var y=_;t.default=y},6875:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=K(n(2)),o=Y(n(17)),i=Y(n(5887)),l=Y(n(6)),u=Y(n(100)),s=Y(n(3)),d=n(6876),c=n(303),f=Y(n(802)),p=K(n(6132)),h=Y(n(131)),v=Y(n(20)),m=Y(n(241)),_=Y(n(6131)),y=Y(n(5854)),g=Y(n(23)),E=Y(n(306)),S=Y(n(42)),T=Y(n(14)),I=K(n(6877)),O=Y(n(5849)),N=Y(n(112)),C=K(n(5860)),A=Y(n(158)),M=Y(n(302)),R=Y(n(307)),b=Y(n(6362)),P=Y(n(427)),L=n(796),D=K(n(6520)),w=Y(n(5895)),U=Y(n(6521)),G=Y(n(5906)),k=Y(n(6878)),F=Y(n(5236)),j=n(0),B=Y(n(10)),H=Y(n(5241)),x=Y(n(5259)),V=Y(n(5480));function Y(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var X="guild-settings-audit-logs-user-filter",J="guild-settings-audit-logs-action-filter",Q=function(e){function t(t){var n;return $(n=e.call(this,t)||this).handleHeaderClick=n.handleHeaderClick.bind($(n)),$(n).handleUserContextMenu=n.handleUserContextMenu.bind($(n)),$(n).handleChannelContextMenu=n.handleChannelContextMenu.bind($(n)),$(n).handleTargetContextMenu=n.handleTargetContextMenu.bind($(n)),n}q(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.onHeaderClick,e.guildId,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onHeaderClick","guildId"]));return a.createElement(I.default,z({},t,{onHeaderClick:this.handleHeaderClick,onUserContextMenu:this.handleUserContextMenu,onChannelContextMenu:this.handleChannelContextMenu,onTargetContextMenu:this.handleTargetContextMenu}))},n.handleHeaderClick=function(){var e=this.props,t=e.onHeaderClick,n=e.log;t&&t(n)},n.handleUserContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,c.openContextMenu)(e,function(e){return a.createElement(F.default,z({},e,{type:j.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:n.user}))})},n.handleChannelContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId,o=g.default.getGuild(r);null!=n.options.channel&&null!=o&&(0,c.openContextMenu)(e,function(e){return a.createElement(G.default,z({},e,{type:j.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:n.options.channel}))})},n.handleTargetContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,c.openContextMenu)(e,function(e){switch(n.targetType){case j.AuditLogTargetTypes.CHANNEL:var t=v.default.getChannel(n.targetId),o=g.default.getGuild(r);return null!=t&&null!=o?a.createElement(G.default,z({},e,{type:j.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:t})):a.createElement(k.default,z({},e,{id:n.targetId}));case j.AuditLogTargetTypes.USER:var i=T.default.getUser(n.targetId);if(null!=i)return a.createElement(F.default,z({},e,{type:j.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:i}))}return null})},t}(a.PureComponent);Q.displayName="AuditLogClickWrap";var Z=W(w.default,{}),ee=function(e){function t(t){var n;return(n=e.call(this,t)||this)._clickedInside=!1,n.state={expandedId:null,lastExpandedId:null,userFilterQuery:"",actionFilterQuery:""},l.default.bindAll($(n),["renderActionQuickSelectItem","renderUserQuickSelectItem","renderHeaderDropdowns","handleFilterActionChange","handleFilterUserChange","handleHeaderClick","handleOutsideClick","handleContentClick","handleOnScroll","handleSetScrollerRef","handleUserFilterQueryChange","handleUserFilterQueryClear","handleActionFilterQueryChange","handleActionFilterQueryClear","handleSetExpandedRef","handleSetLastExpandedRef","handleFetchNextPage"]),n}q(t,e);var r=t.prototype;return r.componentDidMount=function(){(0,d.fetchLogs)(this.props.guildId),document.addEventListener("click",this.handleOutsideClick)},r.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick)},r.UNSAFE_componentWillUpdate=function(e,t){this.state.expandedId!==t.expandedId&&(this._prevRects=this.getRects())},r.componentDidUpdate=function(e,t){this.state.expandedId!==t.expandedId&&this.fixScroll(),!this.props.showLoadMore&&this.props.logs.length!==e.logs.length&&null!=this._scrollerRef&&this.isScrollerAtBottom(this._scrollerRef)&&(0,d.fetchNextLogPage)(this.props.guildId,!0)},r.isScrollerAtBottom=function(e){var t=e.getScrollData(),n=t.offsetHeight,r=t.scrollHeight;return t.scrollTop+n>=r},r.fixScroll=function(){var e=this._scrollerRef;if(null!=e){var t=this.getRects(),n=this._prevRects;if(null!=t.expanded&&null!=t.lastExpanded&&null!=n.expanded&&!(t.expanded.top<t.lastExpanded.top)){var r=n.expanded.height-t.lastExpanded.height,a=e.getScrollData().scrollTop-r;e.scrollTo(a)}}},r.getRects=function(){var e={lastExpanded:null,expanded:null};if(null!=this._lastExpandedRef){var t=u.default.findDOMNode(this._lastExpandedRef);null!=t&&t instanceof Element&&(e.lastExpanded=t.getBoundingClientRect())}if(null!=this._expandedRef){var n=u.default.findDOMNode(this._expandedRef);null!=n&&n instanceof Element&&(e.expanded=n.getBoundingClientRect())}return e},r.renderActionQuickSelectItem=function(e,t){var n=this,r=(0,p.getActionType)(e.value),a=(0,p.getTargetType)(e.value);return W(b.default,{className:V.default.actionItem,selected:e.selected,onClick:function(){return n.handleFilterActionChange(e)}},t,W(I.AuditLogIcon,{themeOverride:e.selected?j.ThemeTypes.DARK:null,actionType:r,targetType:a,action:e.value}),W(A.default.Child,{},void 0,e.label))},r.renderUserQuickSelectItem=function(e,t){var n=this,r=null;if(e.label instanceof h.default){var a=e.label;r=[W(A.default.Child,{grow:0},"avatar",W(O.default,{size:O.default.Sizes.SMALL,src:a.getAvatarURL()})),W(A.default.Child,{className:V.default.userText},"user-text",W("span",{className:V.default.username},void 0,a.username),W("span",{className:V.default.discriminator},void 0,"#",a.discriminator))]}else r=[W(A.default.Child,{grow:0,shrink:0},"avatar",W(M.default,{name:M.default.Names.MEMBERS,width:30,height:30,foreground:"audit-log-members-icon-fg"})),W(A.default.Child,{},"user-text",e.label)];return W(b.default,{selected:e.selected,onClick:function(){return n.handleFilterUserChange(e)},style:{height:"auto"}},t,r)},r.renderUserQuickSelectValue=function(e){return e instanceof h.default?e.username:e.valueLabel||e.label},r.renderActionQuickSelectValue=function(e){return e.valueLabel||e.label},r.renderHeaderDropdowns=function(){var e=this.props,t=e.actionFilter,n=e.hide,r=e.userIdFilter,a=e.moderators,l=this.state,u=l.userFilterQuery,s=l.actionFilterQuery;if(n)return null;var d=D.ACTION_FILTER_ITEMS().map(function(e){return z({},e,{selected:e.value===t})}),c=d.filter(function(e){return(0,i.default)(s.toLowerCase(),e.label.toLowerCase())}),f=d.find(function(e){var n=e.value;return t===n}),p={query:s,onChange:this.handleActionFilterQueryChange,onClear:this.handleActionFilterQueryClear,placeholder:B.default.Messages.SEARCH_ACTIONS},v={label:B.default.Messages.GUILD_SETTINGS_FILTER_ALL_USERS,valueLabel:B.default.Messages.GUILD_SETTINGS_FILTER_ALL,value:null,selected:null==r},m=[v].concat(a),_=m.filter(function(e){var t=u.toLowerCase();return e instanceof h.default?(0,i.default)(t,e.username.toLowerCase()):(0,i.default)(t,e.label)}).map(function(e){return e instanceof h.default?{label:e,value:e.id,selected:e.id===r}:e}),y=m.find(function(e){return e instanceof h.default?e.id===r:e.value===r})||v,g={query:u,onChange:this.handleUserFilterQueryChange,onClear:this.handleUserFilterQueryClear,placeholder:B.default.Messages.SEARCH_MEMBERS};return[W(A.default.Child,{},"user-filter",W(U.default,{popoutId:X,popoutClassName:(0,o.default)(V.default.guildSettingsAuditLogsUserFilterPopout,H.default.elevationBorderHigh),items:_,renderItem:this.renderUserQuickSelectItem,renderValue:this.renderUserQuickSelectValue,value:y,onChange:this.handleFilterUserChange,label:B.default.Messages.GUILD_SETTINGS_FILTER_USER,searchProps:g,popoutProps:{preventInvert:!0,position:"bottom"}})),W(A.default.Child,{},"action-filter",W(U.default,{popoutId:J,popoutClassName:(0,o.default)(V.default.guildSettingsAuditLogsUserFilterPopout,H.default.elevationBorderLow),items:c,renderItem:this.renderActionQuickSelectItem,renderValue:this.renderActionQuickSelectValue,value:f,onChange:this.handleFilterActionChange,label:B.default.Messages.GUILD_SETTINGS_FILTER_ACTION,searchProps:p,popoutProps:{preventInvert:!0,position:"bottom"}}))]},r.renderHeader=function(){return W(A.default,{direction:A.default.Direction.VERTICAL,className:V.default.customHeader},void 0,W(A.default,{align:A.default.Align.CENTER},void 0,W(L.FormTitle,{tag:L.FormTitleTags.H2,className:V.default.marginReset},void 0,B.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG),this.renderHeaderDropdowns()),W(L.FormDivider,{className:(0,o.default)(V.default.marginBottom20,V.default.marginTop20)}))},r.renderSpinner=function(){return W(P.default,{type:P.default.Type.SPINNING_CIRCLE})},r.renderContent=function(){var e=this,t=this.state,r=t.expandedId,o=t.lastExpandedId,i=this.props,l=i.logs,u=i.theme,s=i.hide,d=i.isInitialLoading,c=i.isLoading,f=i.hasError,p=i.guildId;if(s)return Z;if(c||d)return this.renderSpinner();if(0===l.length){var h=f?B.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_BODY:B.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_BODY,v=f?B.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_TITLE:B.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_TITLE;return W(C.default,{theme:u,className:V.default.marginTop40},void 0,W(C.EmptyStateImage,{darkSrc:n(6879),lightSrc:n(6880),width:272,height:130}),W(C.EmptyStateText,{note:h,style:{maxWidth:300}},void 0,v))}return l.map(function(t){var n=r===t.id,i=o===t.id,l=n?e.handleSetExpandedRef:i?e.handleSetLastExpandedRef:null;return a.createElement(Q,{guildId:p,ref:l,className:V.default.marginBottom8,onHeaderClick:e.handleHeaderClick,onContentClick:e.handleContentClick,log:t,key:t.id,expanded:n})})},r.renderLoadMore=function(){var e=this.props,t=e.showLoadMore,n=e.hasOlderLogs,r=e.hide;if(t&&n&&!r)return W(N.default,{color:N.default.Colors.PRIMARY,className:V.default.marginTop20,onClick:this.handleFetchNextPage},void 0,B.default.Messages.GUILD_SETTINGS_AUDIT_LOG_LOAD_MORE)},r.render=function(){var e=this.props,t=e.isLoadingNextPage,n=e.hide,r=e.isLoading,o=e.theme===j.ThemeTypes.DARK?j.Colors.PRIMARY_DARK_600:j.Colors.WHITE;return W("div",{className:x.default.customColumn},void 0,W("div",{className:x.default.customContainer},void 0,a.createElement(R.default,{backgroundColor:o,track:!0,theme:R.default.Themes.GHOST,className:x.default.customScroller,onScroll:this.handleOnScroll,ref:this.handleSetScrollerRef},W(A.default,{direction:A.default.Direction.VERTICAL,style:{paddingBottom:60}},void 0,this.renderHeader(),this.renderContent(),this.renderLoadMore(),!t||n||r?null:this.renderSpinner()))))},r.handleFilterActionChange=function(e){var t=e.value;f.default.close(J),(0,d.filterByAction)(t,this.props.guildId)},r.handleFilterUserChange=function(e){var t=e.value;f.default.close(X),(0,d.filterByUserId)(t,this.props.guildId)},r.handleHeaderClick=function(e){var t=this.state.expandedId;t!==e.id?(this._clickedInside=!0,this.setState({expandedId:e.id,lastExpandedId:t})):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},r.handleOutsideClick=function(){null==this.state.expandedId||this._clickedInside?null!=this.state.expandedId&&(this._clickedInside=!1):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},r.handleContentClick=function(e){this._clickedInside=!0,e.stopPropagation()},r.handleSetScrollerRef=function(e){this._scrollerRef=e},r.handleOnScroll=function(e){this.isScrollerAtBottom(e)&&this.handleFetchNextPage()},r.handleFetchNextPage=function(){(0,d.fetchNextLogPage)(this.props.guildId)},r.handleUserFilterQueryChange=function(e){this.setState({userFilterQuery:e}),f.default.rerender(X)},r.handleUserFilterQueryClear=function(){this.setState({userFilterQuery:""}),f.default.rerender(X)},r.handleActionFilterQueryChange=function(e){this.setState({actionFilterQuery:e}),f.default.rerender(J)},r.handleActionFilterQueryClear=function(){this.setState({actionFilterQuery:""}),f.default.rerender(J)},r.handleSetExpandedRef=function(e){this._expandedRef=e},r.handleSetLastExpandedRef=function(e){this._lastExpandedRef=e},t}(a.PureComponent);ee.displayName="GuildSettingsAuditLog";var te=s.default.connectStores([y.default,_.default,g.default,v.default,T.default,m.default,S.default,E.default],function(){var e=y.default.getGuildId(),t=g.default.getGuild(e),n=_.default.logs;return{guildId:e,moderators:_.default.userIds.map(function(e){return T.default.getUser(e)}),isInitialLoading:_.default.isInitialLoading,isLoading:_.default.isLoading,isLoadingNextPage:_.default.isLoadingNextPage,showLoadMore:_.default.groupedFetchCount>2,hasError:_.default.hasError,hasOlderLogs:_.default.hasOlderLogs,logs:null!=n&&null!=t?D.transformLogs(n,t):[],actionFilter:_.default.actionFilter,userIdFilter:_.default.userIdFilter,theme:S.default.theme,hide:E.default.enabled}})(ee);t.default=te},6876:function(e,t,n){"use strict";t.__esModule=!0,t.fetchLogs=d,t.fetchNextLogPage=function(e,t){void 0===t&&(t=!1);if(!o.default.hasOlderLogs||u())return;var n=o.default.logs,r=n[n.length-1],l=null;null!=r&&(l=r.id);return a.default.dirtyDispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_START,before:l,isGroupedFetch:t}),s(e,{before:l}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,o=t.webhooks;a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS,logs:n,users:r,webhooks:o})},function(){return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_FAIL})})},t.filterByAction=function(e,t){if(u())return;return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_ACTION,action:e}),d(t,null,e)},t.filterByUserId=function(e,t){if(u())return;return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_USER,userId:e}),d(t,e)};var r=l(n(9)),a=l(n(1)),o=l(n(6131)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return o.default.isLoading||o.default.isLoadingNextPage}function s(e,t){var n=function(e){var t=e.before,n=e.userId,r=e.action;n=n||o.default.userIdFilter,r=r||o.default.actionFilter;var a={};return a.limit=i.AUDIT_LOG_PAGE_LIMIT,null!=t&&(a.before=t),null!=n&&(a.user_id=n),null!=r&&(a.action_type=r),a}(t);return r.default.get({url:i.Endpoints.GUILD_AUDIT_LOG(e),query:n})}function d(e,t,n){if(!u())return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_START}),s(e,{userId:t,action:n}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,o=t.webhooks;a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_SUCCESS,logs:n,users:r,webhooks:o})},function(){return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_FAIL})})}},6877:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.AuditLogIcon=void 0;var r,a,o=v(n(2)),i=h(n(17)),l=(h(n(4)),v(n(6520))),u=n(313),s=n(5849),d=h(n(158)),c=h(n(302)),f=n(0),p=h(n(5478));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e,t){var n=l.NotRenderedChanges[e.targetType];return null!=n&&!0===n[t.key]}var g=((r={})[f.AuditLogActionTypes.CREATE]=p.default.typeCreate,r[f.AuditLogActionTypes.UPDATE]=p.default.typeUpdate,r[f.AuditLogActionTypes.DELETE]=p.default.typeDelete,r),E=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.actionType,n=e.targetType,r=e.action,a=e.themeOverride,o=null!=a?p.default["themeOverride"+(0,u.upperCaseFirstChar)(a)]:null;return m("div",{className:(0,i.default)(p.default.icon,g[t],function(e,t){var n;return t===f.AuditLogActions.MESSAGE_DELETE?p.default.targetMessage:(n={},n[f.AuditLogTargetTypes.ALL]=p.default.targetAll,n[f.AuditLogTargetTypes.GUILD]=p.default.targetGuild,n[f.AuditLogTargetTypes.CHANNEL]=p.default.targetChannel,n[f.AuditLogTargetTypes.USER]=p.default.targetMember,n[f.AuditLogTargetTypes.ROLE]=p.default.targetRole,n[f.AuditLogTargetTypes.INVITE]=p.default.targetInvite,n[f.AuditLogTargetTypes.WEBHOOK]=p.default.targetWebhook,n[f.AuditLogTargetTypes.EMOJI]=p.default.targetEmoji,n)[e]}(n,r),o)})},t}(o.PureComponent);t.AuditLogIcon=E,E.displayName="AuditLogIcon";var S=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.user;return m("span",{onContextMenu:e.onContextMenu,className:p.default.userHook},void 0,m("span",{},void 0,t.username),m("span",{className:p.default.discrim},void 0,"#",t.discriminator))},t}(o.PureComponent);S.displayName="UserHook";var T=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.hasChangesToRender=function(){var e=this.props.log,t=e.changes;return(e.actionType!==f.AuditLogActionTypes.DELETE||e.action===f.AuditLogActions.MEMBER_BAN_ADD||e.action===f.AuditLogActions.MEMBER_KICK||e.action===f.AuditLogActions.MEMBER_PRUNE)&&(null!=t&&t.some(function(t){return!y(e,t)}))},n.renderTitle=function(){var e=this.props,t=e.log,n=e.onUserContextMenu,r=e.onTargetContextMenu,a=e.onChannelContextMenu,o=t.user,i=t.target,u=t.options,s=l.getChangeTitle(t);return null!=s?m("div",{className:p.default.overflowEllipsis},void 0,s.format({user:o,target:i,userHook:function(e,r){return m(S,{user:t.user,onContextMenu:n},r)},targetHook:function(e,n){return t.targetType===f.AuditLogTargetTypes.USER?m(S,{user:t.target,onContextMenu:r},n):m("span",{onContextMenu:r},n,e)},count:u.count,channel:u.channel?u.channel.toString(!0):null,channelHook:function(e,t){return m("span",{onContextMenu:a},t,e)}})):null},n.renderRoleUpdate=function(e){var t=e.newValue;return Array.isArray(t)?t.map(function(e){return m("div",{className:p.default.subListItem},e.id,e.name)}):null},n.renderPermissionUpdate=function(e){var t=this,n=e.newValue;return Array.isArray(n)?n.map(function(e){return m("div",{className:p.default.subListItem},e,l.getStringForPermission(e,t.props.log))}):null},n.renderChangeDetails=function(e){var t=this,n=this.props,r=n.log,a=n.onContentClick;if(null==r.changes)return null;var o=0,u=r.changes.map(function(n,a){var u=n.oldValue,s=n.newValue,c=null;r.action===f.AuditLogActions.MEMBER_ROLE_UPDATE?c=t.renderRoleUpdate(n):r.targetType!==f.AuditLogTargetTypes.ROLE&&r.action!==f.AuditLogActions.CHANNEL_OVERWRITE_CREATE&&r.action!==f.AuditLogActions.CHANNEL_OVERWRITE_UPDATE||(c=t.renderPermissionUpdate(n));var h=e[n.key];if(y(r,n))return null;if("function"==typeof h&&(h=h(n)),null!=h&&"object"==typeof h){if(null==h.format){var v=h[n.newValue];null==v&&null!=h[l.DEFAULT_FOR_STRINGS_KEY]?h=h[l.DEFAULT_FOR_STRINGS_KEY]:null!=v&&(h=v)}null!=h&&null!=h.format&&(h=h.format({user:r.user,target:r.target,oldValue:u,newValue:s,count:Array.isArray(s)?s.length:null,subtarget:r.options.subtarget?r.options.subtarget:null,newColorHook:function(e,t){return m("div",{className:p.default.colorHook,style:{backgroundColor:n.newValue}},t)},oldColorHook:function(e,t){return m("div",{className:p.default.colorHook,style:{backgroundColor:n.oldValue}},t)}}))}if(!h)return console.warn("No change string for",n),null;var _=(0,i.default)(p.default.prefix,g[r.actionType]);return o++,m(d.default,{className:p.default.detail,style:{position:"relative",top:1}},a,m(d.default,{className:_,grow:0},void 0,m("div",{className:p.default.number},void 0,o<10?"0":null,o),m("div",{className:p.default.dash},void 0,"—")),m(d.default,{className:p.default.change,direction:d.default.Direction.VERTICAL},void 0,m("div",{className:p.default.changeStr},void 0,h),null!=c?m("div",{},void 0,c):null))});return m(d.default,{onClick:a,className:p.default.changeDetails,direction:d.default.Direction.VERTICAL},void 0,u)},n.renderChangeSummary=function(){var e=this.props,t=e.expanded,n=e.log;if(t)switch(n.targetType){case f.AuditLogTargetTypes.GUILD:return this.renderChangeDetails(l.GuildChangeStrings());case f.AuditLogTargetTypes.CHANNEL:return this.renderChangeDetails(l.ChannelChangeStrings());case f.AuditLogTargetTypes.USER:return this.renderChangeDetails(l.UserChangeStrings());case f.AuditLogTargetTypes.ROLE:return this.renderChangeDetails(l.RoleChangeStrings());case f.AuditLogTargetTypes.INVITE:return this.renderChangeDetails(l.InviteChangeStrings());case f.AuditLogTargetTypes.WEBHOOK:return this.renderChangeDetails(l.WebhookChangeStrings());case f.AuditLogTargetTypes.EMOJI:return this.renderChangeDetails(l.EmojiChangeStrings())}return null},n.render=function(){var e=this.props,t=e.log,n=e.className,r=e.expanded,a=e.onHeaderClick,o=this.hasChangesToRender(),l=p.default.headerDefault;r?l=p.default.headerExpanded:o&&(l=p.default.headerClickable);var u,h=t.timestampStart.calendar(),v=t.timestampEnd.calendar();u=h===v?m("div",{className:p.default.timestamp},void 0,h):m("div",{className:p.default.timestamp},void 0,h,"—",v);var _=o?a:f.NOOP;return m(d.default,{direction:d.default.Direction.VERTICAL,className:(0,i.default)(p.default.auditLog,n)},void 0,m(d.default,{className:l,direction:d.default.Direction.HORIZONTAL,align:d.default.Align.CENTER,onClick:_},void 0,m(E,{action:t.action,actionType:t.actionType,targetType:t.targetType}),m(s.AvatarImage,{className:p.default.avatar,src:t.user.getAvatarURL()}),m(d.default,{className:p.default.timeWrap,direction:d.default.Direction.VERTICAL},void 0,m(d.default.Child,{grow:1},void 0,this.renderTitle()),u),o?m(c.default,{name:c.default.Names.CARET,className:p.default.expand,foreground:p.default.expandForeground,expanded:r}):null),r?m("div",{className:p.default.divider}):null,this.renderChangeSummary())},t}(o.PureComponent);T.displayName="AuditLog";var I=T;t.default=I},6878:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(5909))&&r.__esModule?r:{default:r};function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.id;return l("div",{className:t,style:n},void 0,l(i.default,{id:r}))},r}(o.PureComponent);u.displayName="DeveloperContextMenu";var s=u;t.default=s},6879:function(e,t,n){e.exports=n.p+"99253cefda98913b1e9f7d155ad81ed3.svg"},6880:function(e,t,n){e.exports=n.p+"0049cd2d5d8dad87fac3811fa651988e.svg"},6881:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=k(n(2)),o=G(n(17)),i=G(n(6)),l=G(n(3)),u=n(303),s=G(n(801)),d=G(n(5857)),c=G(n(73)),f=G(n(5854)),p=G(n(306)),h=G(n(42)),v=G(n(14)),m=G(n(5849)),_=G(n(112)),y=k(n(5860)),g=G(n(158)),E=G(n(188)),S=G(n(5905)),T=G(n(427)),I=G(n(128)),O=G(n(811)),N=G(n(804)),C=k(n(428)),A=n(98),M=G(n(198)),R=n(5915),b=G(n(5236)),P=n(0),L=G(n(10)),D=G(n(5239)),w=G(n(5235)),U=G(n(5481));function G(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var H=function(e){function t(){return e.apply(this,arguments)||this}return B(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.ban,r=e.theme,a=e.onRevoke,i=e.onClose;return j(E.default,{className:U.default.bannedUserModal,theme:r},void 0,j(E.default.Content,{className:U.default.content},void 0,j("div",{},void 0,j(g.default,{justify:g.default.Justify.CENTER},void 0,j(I.default,{color:I.default.Colors.PRIMARY,className:U.default.userUsername},void 0,t.toString()),j(I.default,{className:U.default.userDiscrim},void 0,"#",t.discriminator)),j(I.default,{className:(0,o.default)(U.default.reasonHeader,w.default.marginTop40),size:I.default.Sizes.SMALL},void 0,L.default.Messages.BAN_REASON),j(I.default,{className:U.default.reason},void 0,n.reason||L.default.Messages.NO_BAN_REASON))),j(E.default.Footer,{className:U.default.footer},void 0,j(g.default,{justify:g.default.Justify.BETWEEN},void 0,j(_.default,{onClick:a,look:_.default.Looks.LINK,color:_.default.Colors.RED},void 0,L.default.Messages.REVOKE_BAN),j(_.default,{onClick:i},void 0,L.default.Messages.DONE))))},t}(a.PureComponent);H.displayName="BannedUserModal";var x=l.default.connectStores([h.default],function(){return{theme:h.default.theme}})(H),V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleShowModal=function(){var e=t.props,n=e.user,r=e.hideDiscriminator,o=e.ban;c.default.push(function(e){return a.createElement(x,F({},e,{ban:o,user:n,hideDiscriminator:r,onRevoke:t.handleRevokeBan,onClose:t.handleCloseModal}))})},t.handleRevokeBan=function(){var e=t.props,n=e.guild,r=e.user;s.default.unbanUser(n.id,r.id).then(c.default.pop)},t.handleContextMenu=function(e){(0,u.openContextMenu)(e,function(e){return a.createElement(b.default,F({},e,{type:P.ContextMenuTypes.USER_BANS,user:t.props.user}))})},t}B(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.user,n=e.hideDiscriminator;return j(g.default,{className:(0,o.default)(U.default.bannedUser,D.default.card),align:g.default.Align.CENTER,onClick:this.handleShowModal,onContextMenu:this.handleContextMenu},void 0,j(m.default,{className:U.default.bannedUserAvatar,src:t.getAvatarURL()}),j(g.default.Child,{basis:100,className:w.default.marginReset},void 0,j("div",{className:U.default.username},void 0,t.toString(),!n&&j("span",{className:U.default.discrim},void 0,"#",t.discriminator))))},n.handleCloseModal=function(){c.default.pop()},t}(a.PureComponent);V.displayName="BannedUser";var Y=function(e){function t(){return e.apply(this,arguments)||this}B(t,e);var r=t.prototype;return r.makeFilter=function(){var e=this.props.searchQuery;if(null==e||0===e.length)return function(){return!0};var t=new RegExp("^"+M.default.escape(e),"i");return function(e){return null!=e&&t.test(e.username)}},r.renderHeader=function(){var e,t=this.props,r=t.bans,a=t.theme,o=t.searchQuery;null==r?e=null:i.default.isEmpty(r)&&(e=j(y.default,{theme:a,className:w.default.marginTop40},void 0,j(y.EmptyStateImage,{darkSrc:n(6882),lightSrc:n(6883),width:256,height:212}),j(y.EmptyStateText,{note:L.default.Messages.BANS_NO_USERS_BANNED,style:{maxWidth:300}},void 0,L.default.Messages.NO_BANS)));var l=(0,i.default)(r||{}).keys().value().length;return j(N.default,{tag:A.Tags.H2,title:L.default.Messages.BANS_HEADER.format({bans:l})},void 0,j(g.default,{justify:g.default.Justify.BETWEEN,align:g.default.Align.START},void 0,j(C.default,{type:C.Types.DESCRIPTION,className:w.default.marginBottom20},void 0,L.default.Messages.BANS_HINT.format({onModerationClick:this.handleModerationClick})),null==e&&j(S.default,{className:U.default.searchBar,query:o,placeholder:L.default.Messages.BANS_SEARCH_PLACEHOLDER,onChange:this.handleQueryChange,onClear:this.handleQueryClear})),j(O.default,{style:{marginBottom:-1}}),e)},r.render=function(){var e,t=this.props,n=t.bans,r=t.guild,a=t.streamerMode,o=t.theme;return null==r?null:(e=null==n?[j(T.default,{className:w.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE},"spinner")]:(0,i.default)(n).keys().map(v.default.getUser).filter(this.makeFilter()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return j(V,{user:e,ban:n[e.id],hideDiscriminator:a,guild:r},e.id)}).value(),j(R.LazyContentScroller,{theme:o,header:this.renderHeader(),elementHeight:56},void 0,e))},r.handleModerationClick=function(){d.default.setSection(P.GuildSettingsSections.MODERATION)},r.handleQueryChange=function(e){d.default.setSearchQuery(e)},r.handleQueryClear=function(){d.default.setSearchQuery("")},t}(a.PureComponent);Y.displayName="GuildSettingsBans";var K=l.default.connectStores([f.default,h.default],function(){var e=f.default.getProps(),t=e.bans,n=e.guild;return{searchQuery:e.searchQuery||"",bans:t,guild:n,theme:h.default.theme,streamerMode:p.default.enabled}})(Y);t.default=K},6882:function(e,t,n){e.exports=n.p+"789de85a973b1d974a21aa03c1e14323.svg"},6883:function(e,t,n){e.exports=n.p+"e3fb8fe698a871db1d0e34ededf8a954.svg"},6884:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsDiscoveryNotice=void 0;var r,a=S(n(2)),o=E(n(3)),i=E(n(5857)),l=E(n(20)),u=E(n(5854)),s=E(n(159)),d=E(n(5900)),c=E(n(5858)),f=E(n(5856)),p=E(n(804)),h=S(n(428)),v=S(n(98)),m=E(n(5962)),_=n(0),y=E(n(10)),g=E(n(5235));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=y.default.getAvailableLocales().map(function(e){var t,r=e.value,a=e.name;try{t=n(6175)("./"+e.value+".png")}catch(e){t=n(6603)}return{value:r,label:a,image:t}}),O=o.default.connectStores([u.default],function(){var e=u.default.getProps(),t=e.guild,n=e.submitting;return{guild:t,submitting:n,onReset:function(){null!=t&&i.default.init(t.id)},onSave:function(){null!=t&&i.default.saveGuild(t.id,{features:t.features,preferredLocale:t.preferredLocale})}}})(m.default);t.GuildSettingsDiscoveryNotice=O;var N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleDiscoverable=function(e){var n=t.props.guild,r=e.currentTarget.checked,a=new Set(n.features);r&&!n.hasFeature(_.GuildFeatures.DISCOVERABLE)?a.add(_.GuildFeatures.DISCOVERABLE):!r&&n.hasFeature(_.GuildFeatures.DISCOVERABLE)&&(a.delete(_.GuildFeatures.DISCOVERABLE),n.hasFeature(_.GuildFeatures.FEATURABLE)&&a.delete(_.GuildFeatures.FEATURABLE)),i.default.updateGuild({features:a})},t.handleToggleFeaturable=function(e){var n=t.props.guild,r=e.currentTarget.checked,a=new Set(n.features);r&&!n.hasFeature(_.GuildFeatures.FEATURABLE)?a.add(_.GuildFeatures.FEATURABLE):!r&&n.hasFeature(_.GuildFeatures.FEATURABLE)&&a.delete(_.GuildFeatures.FEATURABLE),i.default.updateGuild({features:a})},t.handleLocaleChange=function(e){var t=e.value;i.default.updateGuild({preferredLocale:t})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderDiscoverableToggle=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=t.hasFeature(_.GuildFeatures.DISCOVERABLE);return T(p.default,{},void 0,T(f.default,{value:r,disabled:!n,onChange:this.handleToggleDiscoverable,note:y.default.Messages.FORM_HELP_ENABLE_DISCOVERABLE},void 0,y.default.Messages.GUILD_SETTINGS_ENABLE_DISCOVERABLE))},a.renderFeaturableToggle=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=t.hasFeature(_.GuildFeatures.FEATURABLE),a=t.hasFeature(_.GuildFeatures.DISCOVERABLE),o=!n||!a;return T(p.default,{},void 0,T(f.default,{value:a&&r,disabled:o,tooltipNote:o?y.default.Messages.GUILD_SETTINGS_FEATURABLE_DISABLED_TOOLTIP:null,onChange:this.handleToggleFeaturable,note:y.default.Messages.FORM_HELP_ENABLE_FEATURABLE},void 0,y.default.Messages.GUILD_SETTINGS_ENABLE_FEATURABLE))},a.renderLocaleSelector=function(){var e=this.props,t=e.guild,n=e.canManageGuild;return T(p.default,{},void 0,T(v.default,{},void 0,y.default.Messages.FORM_LABEL_SERVER_LANGUAGE),T(c.default,{value:t.preferredLocale,clearable:!1,searchable:!1,options:I,disabled:!n,onChange:this.handleLocaleChange}),T(h.default,{type:h.Types.DESCRIPTION,className:g.default.marginTop8},void 0,y.default.Messages.FORM_HELP_SERVER_LANGUAGE))},a.render=function(){var e=this.props.guild.hasFeature(_.GuildFeatures.VERIFIED);return T(p.default,{title:y.default.Messages.DISCOVERY,tag:v.Tags.H2},void 0,this.renderDiscoverableToggle(),this.renderFeaturableToggle(),e&&this.renderLocaleSelector())},r}(a.PureComponent);N.displayName="GuildSettingsDiscovery";var C=o.default.connectStores([l.default,u.default,s.default,d.default],function(){var e=u.default.getProps(),t=e.guild,n=e.errors,r=e.submitting;return{canManageGuild:((null!=t&&s.default.getGuildPermissions(t.id)||0)&_.Permissions.MANAGE_GUILD)===_.Permissions.MANAGE_GUILD,guild:t,errors:n,submitting:r}})(N);t.default=C},6885:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=L(n(6)),l=L(n(3)),u=L(n(164)),s=L(n(6102)),d=L(n(6886)),c=L(n(5854)),f=L(n(42)),p=L(n(5849)),h=L(n(112)),v=D(n(5860)),m=L(n(158)),_=L(n(427)),y=L(n(799)),g=L(n(806)),E=L(n(804)),S=D(n(428)),T=D(n(98)),I=L(n(81)),O=L(n(169)),N=L(n(5934)),C=n(0),A=L(n(10)),M=L(n(5240)),R=L(n(5239)),b=L(n(5235)),P=L(n(5483));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var F=i.default.throttle(s.default.fetchEmoji,1e3),j=function(e){function t(t){var n;return G(n=e.call(this,t)||this).handleNameKeyPress=n.handleNameKeyPress.bind(G(n)),G(n).handleNameChange=n.handleNameChange.bind(G(n)),G(n).handleNameBlur=n.handleNameBlur.bind(G(n)),G(n).handleDeleteEmoji=n.handleDeleteEmoji.bind(G(n)),n.state={name:t.emoji.name},n}k(t,e);var n=t.prototype;return n.handleDeleteEmoji=function(){var e=this.props,t=e.guildId,n=e.emoji;s.default.deleteEmoji(t,n.id)},n.handleNameKeyPress=function(e){var t=e.currentTarget;13===e.which&&t.blur()},n.handleNameChange=function(e){this.setState({name:e})},n.handleNameBlur=function(){var e=this.props.emoji,t=this.state.name;if(t!==e.name){var n=this.props.guildId;s.default.updateEmoji(n,e.id,O.default.sanitizeEmojiName(t))}},n.renderEmoji=function(){var e=this.props.emoji,t=I.default.getEmojiURL({id:e.id,animated:e.animated});return w(m.default.Child,{basis:"40px",grow:0},void 0,w(g.default,{text:e.available?null:A.default.Messages.EMOJI_DISABLED_PREMIUM_TIER_LOST},void 0,function(n){var r;return a.createElement("div",U({},n,{className:(0,o.default)(P.default.emojiImage,(r={},r[P.default.emojiDisabled]=!e.available,r)),style:{backgroundImage:"url("+t+")"}}))}))},n.renderEmojiName=function(){var e=this.state.name;return w(m.default.Child,{basis:"50%"},void 0,w("div",{className:P.default.positionRelative},void 0,w(y.default,{className:P.default.emojiAliasInput,inputClassName:P.default.emojiInput,placeholder:A.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER,onKeyPress:this.handleNameKeyPress,onChange:this.handleNameChange,onBlur:this.handleNameBlur,size:y.default.Sizes.MINI,value:e,maxLength:C.EMOJI_MAX_LENGTH,style:{maxWidth:200}}),w("div",{className:P.default.emojiAliasPlaceholder},void 0,e.length>0?e:A.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER)))},n.renderUser=function(){var e=this.props.emoji;return w(m.default.Child,{basis:"50%",className:P.default.emojiUploader},void 0,w(p.default,{src:e.user.getAvatarURL(),size:p.default.Sizes.XSMALL}),w(S.default,{className:(0,o.default)(P.default.emojiRowText)},void 0,e.user.username))},n.renderDeleteButton=function(){return w("button",{className:(0,o.default)(M.default.button,P.default.emojiRemove),onClick:this.handleDeleteEmoji})},n.render=function(){return w(m.default,{className:(0,o.default)(P.default.emojiRow,R.default.card),align:m.default.Align.CENTER},void 0,this.renderEmoji(),this.renderEmojiName(),this.renderUser(),this.renderDeleteButton())},t}(a.PureComponent);j.displayName="EmojiRow";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleFileChange=function(e,n){var r=t.props.guild;if(null!=r){var a=O.default.sanitizeEmojiName(n.split(".")[0]);s.default.uploadEmoji(r.id,e,a).catch(function(e){var t,n=e.body;null!=n&&(n.code===C.AbortCodes.TOO_MANY_EMOJI?t=A.default.Messages.TOO_MANY_EMOJI:n.code===C.AbortCodes.TOO_MANY_ANIMATED_EMOJI?t=A.default.Messages.TOO_MANY_ANIMATED_EMOJI:null!=n.image&&(t=A.default.Messages.EMOJI_TOO_BIG.format({maxSize:C.EMOJI_MAX_FILESIZE_KB}))),null!=t&&u.default.show({body:t})})}},t}k(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.guild;null!=e&&F(e.id)},r.componentDidUpdate=function(e){var t=this.props,n=t.revision,r=t.guild;null!=r&&e.revision<n&&F(r.id)},r.getMaxSlots=function(){var e=this.props.guild;return null!=e?e.getMaxEmojiSlots():C.EMOJI_MAX_SLOTS},r.renderUploader=function(){var e=this.props,t=e.emojis,n=e.isUploading,r=t?t.filter(function(e){return!e.animated}).length:0,a=t?t.filter(function(e){return e.animated}).length:0,o=this.getMaxSlots(),i=o-r,l=Math.max(i,o-a),u=A.default.Messages.GUILD_SETTINGS_EMOJI_UPLOAD_TO_SERVER_MESSAGE;return w(E.default,{className:b.default.marginBottom40},void 0,w(m.default,{align:m.default.Align.START,className:b.default.marginBottom20},void 0,w(m.default.Child,{},void 0,w(S.default,{type:S.Types.DESCRIPTION},void 0,u.format({count:o,maxSize:C.EMOJI_MAX_FILESIZE_KB}))),w(m.default.Child,{wrap:!0,grow:0},void 0,w(h.default,{disabled:n||0===l,submitting:n},void 0,A.default.Messages.UPLOAD_EMOJI,l>0?w(N.default,{onChange:this.handleFileChange,multiple:!0}):null))))},r.renderTitle=function(e,t){var n=t.length,r=this.getMaxSlots()-n;return w(T.default,{tag:T.Tags.H5,className:b.default.marginBottom20},void 0,e,w("span",{},void 0," — ",A.default.Messages.EMOJI_SLOTS_AVAILABLE.format({count:r})))},r.renderEmojiTable=function(e,t){return 0===t.length?w(S.default,{type:S.Types.DESCRIPTION,className:b.default.marginBottom40},void 0,A.default.Messages.NO_EMOJI_BODY):w(E.default,{className:b.default.marginBottom40},void 0,w(m.default,{className:b.default.marginBottom4},void 0,w(m.default.Child,{basis:"40px",grow:0,wrap:!0},void 0,w(S.default,{type:S.default.Types.DESCRIPTION},void 0,A.default.Messages.EMOJI)),w(m.default.Child,{basis:"50%",wrap:!0},void 0,w(S.default,{type:S.default.Types.DESCRIPTION,className:P.default.emojiAliasOffset},void 0,A.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS)),w(m.default.Child,{basis:"50%",wrap:!0},void 0,w(S.default,{type:S.default.Types.DESCRIPTION},void 0,A.default.Messages.UPLOADED_BY))),t.reverse().map(function(t){return w(j,{guildId:e.id,emoji:t},t.id)}))},r.renderEmojis=function(){var e=this.props,t=e.emojis,r=e.theme,a=e.guild;if(null==t||null==a)return w(_.default,{className:b.default.marginTop40,type:_.default.Type.SPINNING_CIRCLE});if(0===t.length)return w(v.default,{theme:r,className:b.default.marginTop20},void 0,w(v.EmptyStateImage,{darkSrc:n(6888),lightSrc:n(6889),width:272,height:212}),w(v.EmptyStateText,{note:A.default.Messages.NO_EMOJI},void 0,A.default.Messages.NO_EMOJI_TITLE));var o=i.default.partition(t,function(e){return!e.animated}),l=o[0],u=o[1];return w("div",{},void 0,this.renderTitle(A.default.Messages.EMOJI,l),this.renderEmojiTable(a,l),this.renderTitle(A.default.Messages.ANIMATED_EMOJI,u),this.renderEmojiTable(a,u))},r.render=function(){return w(E.default,{},void 0,w(T.default,{tag:T.Tags.H2},void 0,A.default.Messages.SERVER_EMOJI),this.renderUploader(),this.renderEmojis())},t}(a.PureComponent);B.displayName="GuildSettingsEmoji";var H=l.default.connectStores([f.default,d.default,c.default],function(){var e=c.default.getProps().guild;return{guild:e,emojis:null!=e?d.default.getEmojis(e.id):[],revision:null!=e?d.default.getEmojiRevision(e.id):null,isUploading:d.default.isUploadingEmoji(),theme:f.default.theme}})(B);t.default=H},6886:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(6887)),i=l(n(160));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={},s={},d=0;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(i.default)},a.isUploadingEmoji=function(){return d>0},a.getEmojiRevision=function(e){return u[e]||0},a.getEmojis=function(e){return s[e]},r}(r.default.Store))(a.default,{EMOJI_DELETE:function(e){var t=e.guildId,n=e.emojiId;s[t]=s[t].filter(function(e){return e.id!==n})},EMOJI_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.emojis;s[t]=n.map(function(e){return new o.default(e)})},EMOJI_FETCH_FAILURE:function(e){var t=e.guildId;s[t]=[]},EMOJI_UPLOAD_START:function(e){d++},EMOJI_UPLOAD_STOP:function(e){d--},GUILD_EMOJIS_UPDATE:function(e){var t=e.guildId;u[t]=(u[t]||0)+1}});t.default=c},6887:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(52)),a=o(n(131));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(e){this.id=e.id,this.name=e.name,this.managed=e.managed,this.roles=e.roles,this.requiredColons=e.requiredColons,this.user=new a.default(e.user),this.animated=e.animated,this.available=e.available},r}(r.default);t.default=i},6888:function(e,t,n){e.exports=n.p+"a7371de3223292c6f31f8aeed62f17c1.svg"},6889:function(e,t,n){e.exports=n.p+"3236694e0c095adfbbd5334fc8dc7aa0.svg"},6890:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(2)),o=b(n(17)),i=b(n(4)),l=b(n(3)),u=b(n(5857)),s=b(n(73)),d=b(n(800)),c=b(n(166)),f=b(n(241)),p=b(n(5854)),h=b(n(42)),v=b(n(305)),m=P(n(5860)),_=b(n(158)),y=b(n(6891)),g=b(n(5858)),E=b(n(427)),S=b(n(6024)),T=b(n(426)),I=n(796),O=b(n(81)),N=b(n(444)),C=n(0),A=b(n(10)),M=b(n(5235)),R=b(n(5485));function b(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleEnabled=function(){var e=t.props,n=e.guild,r=e.integration;r.syncing||(r.enabled?s.default.push(function(e){var t=0===r.expire_behavior?A.default.Messages.REMOVE_SYNCED_ROLE:A.default.Messages.KICK_FROM_SERVER;return a.createElement(N.default,D({title:A.default.Messages.DISABLE_INTEGRATION_TITLE,body:"youtube"===r.type?A.default.Messages.DISABLE_INTEGRATION_YOUTUBE_BODY:A.default.Messages.DISABLE_INTEGRATION_TWITCH_BODY,confirmText:t,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return u.default.disableIntegration(n.id,r.id)}},e))}):u.default.enableIntegration(n.id,r.type,r.id))},t.handleExpireBehaviorChange=function(e){var n=t.props,r=n.guild,a=n.integration;u.default.updateIntegration(r.id,a.id,parseInt(e.value),a.expire_grace_period,a.enable_emoticons)},t.handleExpireGracePeriodChange=function(e){var n=t.props,r=n.guild,a=n.integration;u.default.updateIntegration(r.id,a.id,a.expire_behavior,parseInt(e.value),a.enable_emoticons)},t.handleSync=function(){var e=t.props,n=e.guild,r=e.integration;u.default.syncIntegration(n.id,r.id)},t.handleShowRole=function(){var e=t.props.integration;u.default.setSection(C.GuildSettingsSections.ROLES),u.default.selectRole(e.role_id)},t.handleToggleEmotes=function(e){var n=t.props,r=n.guild,a=n.integration;u.default.updateIntegration(r.id,a.id,a.expire_behavior,a.expire_grace_period,e.currentTarget.checked)},t}w(t,e);var n=t.prototype;return n.renderTwitchEmoticons=function(e){var t=this.props,n=t.guild,r=t.integration,a=null,i=f.default.getGuildEmoji(n.id);if(r.enable_emoticons&&i){var l=Object.values(i).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(function(e){return e.roles&&e.roles.includes(r.role_id)}).map(function(e,t){return L(T.default,{text:e.name},t,L("img",{alt:A.default.Messages.IMG_ALT_EMOJI.format({name:e.name}),draggable:!1,className:"emoji jumboable",src:O.default.getEmojiURL({id:e.id,animated:e.animated})},e.name))});l.length>0&&(a=L("div",{className:(0,o.default)(R.default.twitchEmojis,M.default.marginTop8)},void 0,l))}return L("div",{},void 0,L(I.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),L(_.default,{className:(0,o.default)(R.default.emojiSync,M.default.marginBottom8)},void 0,L(_.default,{align:_.default.Align.CENTER},void 0,L(I.FormText,{},void 0,A.default.Messages.ENABLE_TWITCH_EMOJI_SYNC)),L(_.default.Child,{grow:0,shrink:0},void 0,L(S.default,{id:"enable_emoticons",value:r.enable_emoticons,onChange:this.handleToggleEmotes,disabled:r.syncing,fill:e.color}))),a)},n.renderSyncDetails=function(e,t){var n,r,a=this.props,l=a.guild,u=a.integration,s=l.getRole(u.role_id);return n=null!=s?L(v.default,{className:R.default.syncedRoleLink,onClick:this.handleShowRole},void 0,s.name):A.default.Messages.NONE,r=u.revoked?A.default.Messages.SYNC_REVOKED.format({user:u.user,platformName:c.default.get(u.type).name}):A.default.Messages.LAST_SYNC.format({datetime:(0,i.default)(u.synced_at).calendar()}),L(_.default,{},void 0,L(_.default.Child,{basis:"50%"},void 0,L(I.FormTitle,{className:M.default.marginBottom8},void 0,A.default.Messages.FORM_LABEL_SYNCED_ROLE),L(I.FormText,{},void 0,n)),L(_.default.Child,{basis:"50%"},void 0,L("div",{className:R.default.syncWrapper},void 0,L(I.FormTitle,{className:M.default.marginBottom8},void 0,e),L(T.default,{text:A.default.Messages.FORCE_SYNC},void 0,L("button",{className:(0,o.default)(R.default.forceSync,u.syncing?R.default.forceSyncSyncing:null),disabled:u.syncing||u.revoked,onClick:this.handleSync}))),L(I.FormText,{},void 0,t.format({subscribers:u.subscriber_count})),L(I.FormText,{type:I.FormTextTypes.DESCRIPTION},void 0,r)))},n.renderExpireToggles=function(e){var t=this.props.integration;return L(_.default,{},void 0,L(_.default.Child,{basis:"50%"},void 0,L(I.FormTitle,{className:M.default.marginBottom8},void 0,e),L(g.default,{value:""+t.expire_behavior,clearable:!1,searchable:!1,options:[{value:"0",label:A.default.Messages.REMOVE_SYNCED_ROLE},{value:"1",label:A.default.Messages.KICK_FROM_SERVER}],disabled:t.syncing,onChange:this.handleExpireBehaviorChange})),L(_.default.Child,{basis:"50%"},void 0,L(I.FormTitle,{className:M.default.marginBottom8},void 0,A.default.Messages.FORM_LABEL_EXPIRE_GRACE_PERIOD),L(g.default,{value:""+t.expire_grace_period,clearable:!1,searchable:!1,options:[1,3,7,14,30].map(function(e){return{value:""+e,label:A.default.Messages.N_DAYS.format({days:e})}}),disabled:t.syncing,onChange:this.handleExpireGracePeriodChange})))},n.render=function(){var e,t,n,r,a,i,l,u=this.props,s=u.integration,d=u.theme,f=s.enabled,p=s.syncing,h=c.default.get(s.type);switch(s.type){case"youtube":e=s.account.name,t="youtube.com/channel/"+s.account.id,n=A.default.Messages.FORM_LABEL_MEMBERSHIP_EXPIRE_BEHAVIOR,r=A.default.Messages.FORM_LABEL_SYNCED_MEMBERS,a=A.default.Messages.NUM_MEMBERS,i=null;break;case"twitch":default:e=s.account.name,t="twitch.tv/"+s.account.name,n=A.default.Messages.FORM_LABEL_SUB_EXPIRE_BEHAVIOR,r=A.default.Messages.FORM_LABEL_SYNCED_SUBS,a=A.default.Messages.NUM_SUBSCRIBERS,i=this.renderTwitchEmoticons(h)}return f&&(l=L("div",{className:R.default.integrationBody},void 0,this.renderSyncDetails(r,a),L(I.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),this.renderExpireToggles(n),i)),L(y.default,{name:s.user.toString(),label:e,labelUrl:"//"+t,color:h.color,icon:h.icon.white,enabled:f,syncing:p,theme:d,handleSyncToggle:this.handleToggleEnabled},void 0,l)},t}(a.PureComponent);U.displayName="IntegrationItem";var G=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var r=t.prototype;return r.render=function(){var e,t=this.props,r=t.guild,a=t.integrations,i=t.theme;return null==r?null:(e=null==a?L(E.default,{className:M.default.marginTop40,type:E.default.Type.SPINNING_CIRCLE}):0===a.length?L(m.default,{theme:i,className:M.default.marginTop20},void 0,L(m.EmptyStateImage,{darkSrc:n(6571),lightSrc:n(6572),width:294,height:192}),L(m.EmptyStateText,{note:A.default.Messages.NO_INTEGRATIONS.format({onConnect:this.handleConnect})},void 0,A.default.Messages.NO_INTEGRATIONS_LABEL)):a.map(function(e,t){return L(U,{integration:e,guild:r,theme:i},t)}),L(I.FormSection,{tag:I.FormTitleTags.H2,title:A.default.Messages.INTEGRATIONS},void 0,L(I.FormText,{type:I.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.INTEGRATIONS_PRO_TIP.format({streamkitURL:"https://discordapp.com/streamkit"})),L(I.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),e))},r.handleConnect=function(){d.default.open(C.UserSettingsSections.CONNECTIONS)},t}(a.PureComponent);G.displayName="GuildSettingsIntegrations";var k=l.default.connectStores([p.default,h.default],function(){var e=p.default.getProps();return{guild:e.guild,integrations:e.integrations,theme:h.default.theme}})(G);t.default=k},6891:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(17)),i=h(n(305)),l=v(n(431)),u=h(n(5863)),s=h(n(158)),d=h(n(428)),c=n(0),f=h(n(10)),p=h(n(5484));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderHeader=function(){var e,t=this.props,n=t.color,r=t.name,a=t.label,l=t.labelUrl,c=t.icon,h=t.enabled,v=t.syncing,_=t.handleSyncToggle,y=t.children,g=l&&a?m(i.default,{href:"//"+l,className:"url"},void 0,m(d.default,{className:p.default.headerText,type:d.default.Types.DESCRIPTION},void 0,a)):null;return m(s.default,{className:(0,o.default)(p.default.header,(e={},e[p.default.headerSimple]=null==y,e)),justify:s.default.Justify.BETWEEN,style:{backgroundColor:n}},void 0,m(s.default,{},void 0,m("img",{alt:"",className:p.default.headerIcon,src:c}),m("div",{},void 0,m(d.default,{className:p.default.headerText,type:d.default.Types.DEFAULT},void 0,r),g)),m(s.default,{align:s.default.Align.CENTER,grow:0},void 0,m(u.default,{color:n,value:h,disabled:v,onChange:_},void 0,m("span",{className:p.default.headerSync},void 0,f.default.Messages.SYNC))))},a.render=function(){var e=this.props,t=e.children,n=e.theme;return m(l.default,{className:p.default.integration,type:l.Types.CUSTOM,style:{backgroundColor:n===c.ThemeTypes.DARK?c.Colors.PRIMARY_DARK_700:c.Colors.PRIMARY_DARK_100}},void 0,this.renderHeader(),m("div",{},void 0,t))},r}(a.PureComponent);_.displayName="Integration",_.defaultProps={name:"Twitch",color:c.Colors.TWITCH,icon:null};var y=_;t.default=y},6892:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(5854)),o=u(n(306)),i=u(n(42)),l=u(n(6633));function u(e){return e&&e.__esModule?e:{default:e}}var s=r.default.connectStores([a.default,i.default,o.default],function(){var e=a.default.getProps(),t=e.invites;return{guild:e.guild,invites:t,showChannel:!0,hide:o.default.hideInstantInvites,theme:i.default.theme}})(l.default);t.default=s},6893:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=F(n(17)),i=F(n(5887)),l=F(n(6)),u=F(n(3)),s=n(303),d=F(n(5857)),c=F(n(802)),f=F(n(6634)),p=F(n(74)),h=F(n(5854)),v=F(n(159)),m=F(n(306)),_=F(n(42)),y=F(n(14)),g=F(n(305)),E=F(n(5849)),S=F(n(6154)),T=F(n(158)),I=F(n(302)),O=F(n(5971)),N=F(n(5905)),C=F(n(426)),A=n(796),M=F(n(6687)),R=F(n(6521)),b=n(5915),P=F(n(5236)),L=n(0),D=F(n(10)),w=F(n(5241)),U=F(n(5239)),G=F(n(5235)),k=F(n(5487));function F(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var V="quick-roles--select",Y=j(S.default,{}),K=function(e){function t(t){var n;return(n=e.call(this,t)||this)._isMounted=!1,n.state={overflowShown:!1},H(n).showOverflow=n.showOverflow.bind(H(n)),H(n).handleOverflowClose=n.handleOverflowClose.bind(H(n)),n}x(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0},r.componentWillUnmount=function(){this._isMounted=!1},r.showOverflow=function(e){var t=this.props,n=t.guild,r=t.user;this.setState({overflowShown:!0}),(0,s.openContextMenu)(e,function(e){return a.createElement(P.default,B({type:L.ContextMenuTypes.USER_GUILD_MEMBERS,user:r,guildId:n.id,channelId:n.id},e))},{onClose:this.handleOverflowClose})},r.renderOwnerHelpIcon=function(){var e=this.props,t=e.user,r=e.theme,a=e.guild;if(t.id!==a.ownerId)return null;var o=r===L.ThemeTypes.DARK?n(6894):n(6895);return j(C.default,{text:D.default.Messages.MEMBER_LIST_SERVER_OWNER_HELP},void 0,j(O.default,{size:O.default.Sizes.SMALL,src:o,className:k.default.ownerHelpIcon}))},r.render=function(){var e=this.props,t=e.user,n=e.member,r=e.streamerMode,a=e.guild,i=this.state.overflowShown,l={color:n.colorString};return j(T.default,{className:(0,o.default)(k.default.member,U.default.card,{active:i}),align:T.default.Align.CENTER,onContextMenu:this.showOverflow},void 0,j(E.default,{className:k.default.avatar,src:t.getAvatarURL()}),j(T.default,{className:k.default.nameTag,direction:T.default.Direction.VERTICAL,grow:0},void 0,j(T.default,{align:T.default.Align.CENTER},void 0,j(A.FormText,{className:k.default.name,style:l},void 0,n.nick||t.toString()),t.bot?Y:null,this.renderOwnerHelpIcon()),r?null:j(A.FormText,{className:k.default.tag},void 0,"@",t.tag)),j(T.default.Child,{className:k.default.roleWrapper},void 0,j("div",{},void 0,j(M.default,{user:t,guild:a,userRoles:n.roles,wrap:!1}))),j(T.default,{className:k.default.overflowButton,align:T.default.Align.CENTER,grow:0,onClick:this.showOverflow},void 0,j(I.default,{name:I.default.Names.OVERFLOW_MENU,className:k.default.overflowIcon,foreground:k.default.overflowIconFg})))},r.handleOverflowClose=function(){this._isMounted&&this.setState({overflowShown:!1})},t}(a.PureComponent);K.displayName="Member";var W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={roleFilterQuery:""},t.handlePruneClick=function(){f.default.open(t.props.guild.id)},t.renderHeader=function(e){var n=t.state.roleFilterQuery,r=t.props,a=r.guild,u=r.searchQuery,s=r.selectedRoleId,d={},c=(0,l.default)(a.roles).sortBy(function(e){return-e.position}).filter(function(e){return e.id===s&&(d.label=e.name),(0,i.default)(n.toLowerCase(),e.name.toLowerCase())}).map(function(e){return{value:e.id,color:e.colorString,children:e.name,selected:e.id===s}}).value(),f={query:n,onChange:t.handleRoleFilterQueryChange,onClear:t.handleRoleFilterQueryClear,placeholder:D.default.Messages.SEARCH_ROLES};return j(A.FormSection,{},void 0,j(A.FormTitle,{tag:A.FormTitleTags.H2},void 0,D.default.Messages.GUILD_SETTINGS_MEMBERS_SERVER_MEMBERS),j(T.default,{className:k.default.membersHeader,align:T.default.Align.CENTER,style:{height:20}},void 0,j(T.default.Child,{},void 0,j(A.FormText,{type:A.FormTextTypes.DESCRIPTION,className:k.default.membersCount},void 0,D.default.Messages.MEMBERS_HEADER.format({members:e.length}),t.renderPruneAction())),j(T.default,{align:T.default.Align.CENTER,grow:0},void 0,j(R.default,{popoutClassName:(0,o.default)(k.default.membersFilterPopout,w.default.elevationBorderLow),popoutId:V,items:c,label:D.default.Messages.GUILD_SETTINGS_MEMBERS_DISPLAY_ROLE,value:d,onChange:t.handleRoleChange,searchProps:f,popoutProps:{preventInvert:!0,position:"bottom"}}),j(N.default,{className:k.default.searchBar,query:u,onChange:t.handleQueryChange,onClear:t.handleQueryClear}))),j(A.FormDivider,{className:G.default.marginTop20,style:{marginBottom:-1}}))},t.handleQueryChange=function(e){d.default.setSearchQuery(e)},t.handleQueryClear=function(){d.default.setSearchQuery("")},t.handleRoleFilterQueryChange=function(e){t.setState({roleFilterQuery:e})},t.handleRoleFilterQueryClear=function(){t.setState({roleFilterQuery:""})},t}x(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.roleFilterQuery!==t.roleFilterQuery&&c.default.rerender(V)},n.renderPruneAction=function(){return this.props.canPrune?j("span",{},void 0," — ",j(g.default,{onClick:this.handlePruneClick,className:k.default.pruneLink},void 0,D.default.Messages.PRUNE)):null},n.makeSearchFilter=function(){var e=this.props.searchQuery;return null==e||0===e.length?function(){return!0}:function(t){var n=t.user,r=t.member;e=e.toLowerCase();var a=n.username.toLowerCase(),o=null!=r.nick?r.nick.toLowerCase():null;return(0,i.default)(e,a)||null!=o&&(0,i.default)(e,o)}},n.makeRoleFilter=function(){var e=this.props,t=e.guild,n=e.selectedRoleId;return function(e){var r=e.member;return n===t.id||-1!==r.roles.indexOf(n)}},n.renderMembers=function(e){var t=this.props,n=t.guild,r=t.currentUser,a=t.streamerMode,o=t.theme;return(0,l.default)(e).sortBy(function(e){return e.comparator}).map(function(e){var t=e.member,i=e.user;return j(K,{currentUser:r,member:t,user:i,guild:n,theme:o,streamerMode:a},t.userId)}).value()},n.render=function(){var e=this.props.members,t=(0,l.default)(e).map(function(e){var t=y.default.getUser(e.userId);return{member:e,user:t,comparator:(null!=t?e.nick||t.username:"").toLowerCase()}}).filter(this.makeSearchFilter()).filter(this.makeRoleFilter()).value();return j(b.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(t),elementHeight:72},void 0,this.renderMembers(t))},n.handleRoleChange=function(e){var t=e.value;d.default.selectRole(t)},t}(a.PureComponent);W.displayName="GuildSettingsMembers";var z=u.default.connectStores([h.default,_.default,p.default,m.default],function(){var e=h.default.getProps(),t=e.guild,n=e.searchQuery;return{guild:t,selectedRoleId:e.selectedRoleId,searchQuery:n||"",members:null!=t?p.default.getMembers(t.id):[],theme:_.default.theme,currentUser:y.default.getCurrentUser(),canPrune:null!=t&&v.default.can(L.Permissions.KICK_MEMBERS,t),streamerMode:m.default.enabled}})(W);t.default=z},6894:function(e,t,n){e.exports=n.p+"1701e23d13cfedc5fdde3b53104215e7.svg"},6895:function(e,t,n){e.exports=n.p+"08a1ba9c05ff71f07dfb0aa35833d745.svg"},6896:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=O(n(17)),i=O(n(3)),l=O(n(5857)),u=O(n(11)),s=O(n(5854)),d=O(n(23)),c=O(n(159)),f=O(n(306)),p=O(n(5870)),h=O(n(811)),v=O(n(804)),m=N(n(428)),_=n(98),y=n(6605),g=O(n(5895)),E=O(n(6897)),S=n(0),T=O(n(10)),I=O(n(5235));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M=C(g.default,{}),R=C(E.default,{}),b=function(e){var t,n;function r(t){var n;return A(n=e.call(this,t)||this).handleVerificationLevelChange=n.handleVerificationLevelChange.bind(A(n)),A(n).handleExplicitContentFilterChange=n.handleExplicitContentFilterChange.bind(A(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVerificationLevelSection=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return C(v.default,{title:T.default.Messages.FORM_LABEL_VERIFICATION_LEVEL},void 0,C(m.default,{type:m.Types.DESCRIPTION,className:I.default.marginBottom20},void 0,T.default.Messages.FORM_HELP_VERIFICATION_LEVEL.format()),C(p.default,{value:n.verificationLevel,options:(0,y.generateVerificationLevelOptions)(),disabled:!t,onChange:this.handleVerificationLevelChange}))},a.renderExplicitContentFilter=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return C(v.default,{title:T.default.Messages.FORM_LABEL_EXPLICIT_CONTENT_FILTER},void 0,C(m.default,{type:m.Types.DESCRIPTION,className:I.default.marginBottom20},void 0,T.default.Messages.FORM_HELP_EXPLICIT_CONTENT_FILTER.format()),C(p.default,{value:n.explicitContentFilter,options:(0,y.generateContentFilterOptions)(),disabled:!t,onChange:this.handleExplicitContentFilterChange}))},a.render=function(){var e=this.props,t=e.hide,n=e.guild,r=e.currentUserId;if(t)return M;var a=!1;return r===n.ownerId&&(a=!0),C(v.default,{title:T.default.Messages.MODERATION,tag:_.Tags.H2},void 0,this.renderVerificationLevelSection(),C(h.default,{className:(0,o.default)(I.default.marginTop40,I.default.marginBottom40)}),this.renderExplicitContentFilter(),a&&C(h.default,{className:(0,o.default)(I.default.marginTop40,I.default.marginBottom40)}),a&&R)},a.handleVerificationLevelChange=function(e){var t=e.value;l.default.updateGuild({verificationLevel:t})},a.handleExplicitContentFilterChange=function(e){var t=e.value;l.default.updateGuild({explicitContentFilter:t})},r}(a.PureComponent);b.displayName="GuildSettingsModeration";var P=i.default.connectStores([s.default,d.default,u.default,c.default,f.default],function(){var e=s.default.getProps().guild,t=!1;return null!=e&&(t=c.default.can(S.Permissions.MANAGE_GUILD,e)),{currentUserId:u.default.getId(),canManageGuild:t,guild:e,hide:f.default.enabled}})(b);t.default=P},6897:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=m(n(3)),i=m(n(5857)),l=m(n(800)),u=m(n(5854)),s=m(n(14)),d=_(n(112)),c=m(n(804)),f=_(n(428)),p=n(0),h=m(n(10)),v=m(n(5235));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=function(e){var t,n;function r(t){var n;return g(n=e.call(this,t)||this).setMFAEnabled=n.setMFAEnabled.bind(g(n)),g(n).handleEnableMFA=n.handleEnableMFA.bind(g(n)),g(n).handleDisableMFA=n.handleDisableMFA.bind(g(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderEnableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return y(d.default,{disabled:!r,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.PRIMARY,onClick:this.handleEnableMFA},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_ENABLE)},a.renderDisableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return y(d.default,{disabled:!r,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.RED,onClick:this.handleDisableMFA},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_DISABLE)},a.render=function(){var e=this.props,t=e.currentUser,n=e.mfaLevel;return y(c.default,{title:h.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL},void 0,y(f.default,{type:f.Types.DESCRIPTION,className:v.default.marginBottom20},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_BODY.format()," ",t.mfaEnabled?null:h.default.Messages.GUILD_SECURITY_REQ_MFA_ENABLE.format({onClick:this.openUserAccountModal})),n===p.MFALevels.ELEVATED?this.renderDisableButton():this.renderEnableButton())},a.setMFAEnabled=function(e){var t=this.props.guild;i.default.updateMFALevel({guildId:t.id,level:e?p.MFALevels.ELEVATED:p.MFALevels.NONE,isEnabled:!e})},a.handleEnableMFA=function(){this.setMFAEnabled(!0)},a.handleDisableMFA=function(){this.setMFAEnabled(!1)},a.openUserAccountModal=function(){l.default.open(p.UserSettingsSections.ACCOUNT)},r}(a.PureComponent);E.displayName="MFASettings";var S=o.default.connectStores([s.default,u.default],function(){var e=u.default.getProps(),t=e.mfaLevel,n=e.guild;return{currentUser:s.default.getCurrentUser(),mfaLevel:t,guild:n}})(E);t.default=S},6898:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsOverviewNotice=void 0;var r,a=Y(n(2)),o=V(n(17)),i=V(n(6)),l=V(n(3)),u=V(n(5857)),s=V(n(73)),d=V(n(6061)),c=V(n(199)),f=V(n(20)),p=V(n(5854)),h=V(n(159)),v=V(n(5900)),m=V(n(5978)),_=Y(n(112)),y=V(n(158)),g=V(n(5870)),E=V(n(6899)),S=V(n(5858)),T=V(n(5856)),I=V(n(6152)),O=V(n(799)),N=V(n(432)),C=V(n(804)),A=Y(n(428)),M=Y(n(98)),R=V(n(6179)),b=n(5878),P=Y(n(81)),L=n(136),D=V(n(308)),w=V(n(5997)),U=V(n(6522)),G=V(n(5934)),k=n(6180),F=V(n(5962)),j=n(0),B=V(n(10)),H=V(n(5235)),x=V(n(5489));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(e){var t=e.label,n=e.channel,r=e.category,a=(0,b.getIconNameForChannel)(n),o=null!=r?r.toString():null;return W(R.default,{title:t,iconType:a,subtitle:o})}function $(e){return{value:e.id,label:e.toString(),channel:e,category:f.default.getChannel(e.parent_id)}}z.displayName="renderChannelOption";var q=l.default.connectStores([p.default],function(){var e=p.default.getProps(),t=e.guild,n=e.submitting;return{guild:t,submitting:n,onReset:function(){null!=t&&u.default.init(t.id)},onSave:function(){null!=t&&u.default.saveGuild(t.id,{name:t.name,region:t.region,icon:t.icon,splash:t.splash,afkChannelId:t.afkChannelId,afkTimeout:t.afkTimeout,systemChannelId:t.systemChannelId,verificationLevel:t.verificationLevel,defaultMessageNotifications:t.defaultMessageNotifications,explicitContentFilter:t.explicitContentFilter,description:t.description,banner:t.banner,systemChannelFlags:t.systemChannelFlags})}}})(F.default);t.GuildSettingsOverviewNotice=q;var X=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleShowJoinsChange=function(e){var n=e.currentTarget;return t.handleSystemChannelFlagsChange(j.SystemChannelFlags.SUPPRESS_JOIN_NOTIFICATIONS,!n.checked)},t.handleShowSubscriptionsChange=function(e){var n=e.currentTarget;return t.handleSystemChannelFlagsChange(j.SystemChannelFlags.SUPPRESS_PREMIUM_SUBSCRIPTIONS,!n.checked)},t.handleRegionSelectorClick=function(){var e=t.props.regions;if(null!=e){var n=e.filter(function(e){return!e.deprecated});s.default.push(function(e){return a.createElement(k.RegionSelectModal,K({regions:n,onChange:t.handleRegionChange},e))})}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){null==this.props.regions&&d.default.fetchRegions(this.props.guild.id)},l.UNSAFE_componentWillReceiveProps=function(e){this.props.guild.id!==e.guild.id&&(null==v.default.getRegions(e.guild.id)&&d.default.fetchRegions(e.guild.id))},l.handleNameChange=function(e){u.default.updateGuild({name:e})},l.handleIconChange=function(e){u.default.updateGuild({icon:e})},l.handleAFKChannelChange=function(e){var t=e.value;"NO_AFK_CHANNEL"===t&&(t=null),u.default.updateGuild({afkChannelId:t})},l.handleAFKTimeoutChange=function(e){var t=e.value;u.default.updateGuild({afkTimeout:parseInt(t,10)})},l.handleSystemChannelChange=function(e){var t=e.value;"NO_SYSTEM_CHANNEL"===t&&(t=null),u.default.updateGuild({systemChannelId:t})},l.handleDefaultMessageNotificationsChange=function(e){var t=e.value;u.default.updateGuild({defaultMessageNotifications:t})},l.handleSplashChange=function(e){u.default.updateGuild({splash:e})},l.handleRegionChange=function(e){var t=e.id;u.default.updateGuild({region:t})},l.handleSystemChannelFlagsChange=function(e,t){var n=this.props.guild,r=(0,L.setFlag)(n.systemChannelFlags,e,t);u.default.updateGuild({systemChannelFlags:r})},l.handleChangeDescription=function(e){u.default.updateGuild({description:e})},l.handleBannerChange=function(e){u.default.updateGuild({banner:e})},l.renderBaseSettings=function(){var e,t=this.props,n=t.guild,r=t.region,a=t.regions,i=t.errors,l=t.canManageGuild,u=null==a||0===a.length;return W(y.default,{className:(0,o.default)(x.default.baseSection,H.default.marginBottom40)},void 0,W(y.default,{basis:"50%",justify:y.default.Justify.BETWEEN},void 0,W(y.default.Child,{wrap:!0},void 0,W(U.default,{showIcon:!0,name:n.name,icon:n.icon,onChange:this.handleIconChange,disabled:!l,makeURL:function(e){return null!=e&&P.default.getGuildIconURL({id:n.id,icon:e,format:(0,P.hasAnimatedGuildIcon)(n)?"gif":"jpg"})},className:(0,o.default)((e={},e[x.default.avatarUploader]=l,e[x.default.avatarUploaderDisabled]=!l,e)),avatarClassName:x.default.avatarUploaderInner})),W(y.default,{direction:y.default.Direction.VERTICAL,align:y.default.Align.START,style:{maxWidth:180}},void 0,W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom8},void 0,B.default.Messages.GUILD_SETTINGS_ICON_RECOMMEND),W(_.default,{look:_.ButtonLooks.OUTLINED,color:_.ButtonColors.WHITE,disabled:!l,className:H.default.marginTop8},void 0,B.default.Messages.UPLOAD_IMAGE,W(G.default,{onChange:this.handleIconChange,disabled:!l})))),W(y.default.Child,{basis:"50%"},void 0,W(N.default,{title:B.default.Messages.FORM_LABEL_SERVER_NAME,className:H.default.marginBottom20},void 0,W(O.default,{type:"text",disabled:!l,value:n.name,maxLength:100,onChange:this.handleNameChange,error:i.name})),W(N.default,{title:B.default.Messages.FORM_LABEL_SERVER_REGION},void 0,W(E.default,{disabled:!l||u,region:r,onClick:this.handleRegionSelectorClick,error:null!=i.region}))))},l.renderAFKSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,a=null!=t.afkTimeout?""+t.afkTimeout:null,o=t.afkChannelId||"NO_AFK_CHANNEL",l=[{value:"60",label:B.default.Messages.DURATION_MINUTES.format({minutes:1})},{value:"300",label:B.default.Messages.DURATION_MINUTES.format({minutes:5})},{value:"900",label:B.default.Messages.DURATION_MINUTES.format({minutes:15})},{value:"1800",label:B.default.Messages.DURATION_MINUTES.format({minutes:30})},{value:"3600",label:B.default.Messages.DURATION_HOURS.format({hours:1})}],u=(0,i.default)(r).filter(function(e){return e.guild_id===t.id}).filter(function(e){return e.type===j.ChannelTypes.GUILD_VOICE}).map(function(e){return $(e)}).value();return u.unshift({value:"NO_AFK_CHANNEL",label:B.default.Messages.NO_AFK_CHANNEL}),W(C.default,{className:x.default.divider},void 0,W(y.default,{},void 0,W(y.default.Child,{},void 0,W(N.default,{title:B.default.Messages.FORM_LABEL_AFK_CHANNEL},void 0,W(S.default,{value:o,clearable:!1,searchable:!1,options:u,disabled:!n,optionRenderer:z,valueRenderer:z,onChange:this.handleAFKChannelChange}))),W(y.default.Child,{},void 0,W(N.default,{title:B.default.Messages.FORM_LABEL_AFK_TIMEOUT},void 0,W(S.default,{value:a,clearable:!1,searchable:!1,options:l,disabled:"NO_AFK_CHANNEL"===o||!n,onChange:this.handleAFKTimeoutChange})))),W(A.default,{className:H.default.marginTop8,type:A.Types.DESCRIPTION},void 0,B.default.Messages.FORM_HELP_AFK_CHANNEL))},l.renderJoinNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,l=e.isEligibleForPremiumGuilds,u=t.systemChannelId||"NO_SYSTEM_CHANNEL",s=(0,i.default)(r).filter(function(e){return e.getGuildId()===t.id}).filter(function(e){return e.type===j.ChannelTypes.GUILD_TEXT}).map(function(e){return $(e)}).value();return s.unshift({value:"NO_SYSTEM_CHANNEL",label:B.default.Messages.NO_SYSTEM_CHANNEL}),W(C.default,{className:x.default.divider},void 0,W(M.default,{},void 0,B.default.Messages.FORM_LABEL_SYSTEM_CHANNEL),W(S.default,{value:u,clearable:!1,searchable:!1,options:s,disabled:!n,optionRenderer:z,valueRenderer:z,onChange:this.handleSystemChannelChange}),W(A.default,{className:H.default.marginTop8,type:A.Types.DESCRIPTION},void 0,l?B.default.Messages.FORM_HELP_SYSTEM_CHANNEL:B.default.Messages.FORM_HELP_SYSTEM_CHANNEL_JOINS_ONLY),l?W(a.Fragment,{},void 0,W(T.default,{className:H.default.marginTop20,onChange:this.handleShowJoinsChange,value:!(0,L.hasFlag)(t.systemChannelFlags,j.SystemChannelFlags.SUPPRESS_JOIN_NOTIFICATIONS),hideBorder:!0,disabled:!n||"NO_SYSTEM_CHANNEL"===u},void 0,B.default.Messages.FORM_HELP_SYSTEM_CHANNEL_JOIN_MESSAGES),W(T.default,{className:(0,o.default)(H.default.marginReset,H.default.marginTop20),onChange:this.handleShowSubscriptionsChange,value:!(0,L.hasFlag)(t.systemChannelFlags,j.SystemChannelFlags.SUPPRESS_PREMIUM_SUBSCRIPTIONS),hideBorder:!0,disabled:!n||"NO_SYSTEM_CHANNEL"===u},void 0,B.default.Messages.FORM_HELP_SYSTEM_CHANNEL_PREMIUM_SUBSCRIPTION_MESSAGES)):null)},l.renderNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=[{name:B.default.Messages.FORM_LABEL_ALL_MESSAGES,value:j.UserNotificationSettings.ALL_MESSAGES},{name:B.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:j.UserNotificationSettings.ONLY_MENTIONS}];return W(C.default,{className:x.default.divider},void 0,W(M.default,{},void 0,B.default.Messages.FORM_LABEL_DEFAULT_NOTIFICATION_SETTINGS),W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom20},void 0,B.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_INTRO),W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom20},void 0,B.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_PROTIP.format({videoURL:"https://www.youtube.com/watch?v=zGl796352RI"})),W(g.default,{options:r,value:t.defaultMessageNotifications,disabled:!n,onChange:this.handleDefaultMessageNotificationsChange}))},l.renderServerInviteBGSection=function(){var e,t=this.props,n=t.guild,r=t.canManageGuild;return W(C.default,{title:B.default.Messages.GUILD_SETTINGS_SERVER_INVITE_BACKGROUND,className:x.default.divider},void 0,W(y.default,{},void 0,W(y.default,{basis:"50%",direction:y.default.Direction.VERTICAL,align:y.default.Align.START},void 0,W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom8},void 0,B.default.Messages.GUILD_SETTINGS_SPLASH_RECOMMEND),W(_.default,{disabled:!r,look:_.ButtonLooks.OUTLINED,color:_.ButtonColors.PRIMARY,className:H.default.marginTop8},void 0,B.default.Messages.UPLOAD_BACKGROUND,W(G.default,{disabled:!r,onChange:this.handleSplashChange}))),W(y.default.Child,{wrap:!0,basis:"50%"},void 0,W(w.default,{avatar:n.splash,size:null,makeURL:function(e){return e&&P.default.getGuildSplashURL({id:n.id,splash:e})},disabled:!r,onChange:this.handleSplashChange,hint:B.default.Messages.CHANGE_SPLASH,className:(0,o.default)((e={},e[x.default.avatarUploader]=r,e[x.default.avatarUploaderDisabled]=!r,e)),avatarClassName:x.default.avatarUploaderInnerSquare,hideSize:!0}))))},l.renderDescription=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.errors;return W(N.default,{title:B.default.Messages.FORM_LABEL_SERVER_DESCRIPTION,className:x.default.divider},void 0,W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom8},void 0,B.default.Messages.FORM_HELP_SERVER_DESCRIPTION),W(I.default,{disabled:!n,placeholder:B.default.Messages.SERVER_DESCIPTION_EMPTY,value:c.default.translateSurrogatesToInlineEmoji(t.description||""),onChange:this.handleChangeDescription,error:r.name,maxLength:120,className:H.default.marginTop8}))},l.renderBanner=function(){var e,t=this.props,n=t.guild,r=t.canManageGuild;return W(C.default,{title:B.default.Messages.FORM_LABEL_SERVER_BANNER,className:x.default.divider},void 0,W(y.default,{},void 0,W(y.default,{basis:"50%",direction:y.default.Direction.VERTICAL,align:y.default.Align.START},void 0,W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom8},void 0,B.default.Messages.FORM_HELP_SERVER_BANNER),W(A.default,{type:A.Types.DESCRIPTION,className:H.default.marginBottom8},void 0,B.default.Messages.GUILD_SETTINGS_BANNER_RECOMMEND.format({articleURL:D.default.getArticleURL(j.HelpdeskArticles.GUILD_BANNER_SPLASH)})),W(_.default,{disabled:!r,look:_.default.Looks.OUTLINED,color:_.default.Colors.PRIMARY,className:H.default.marginTop8},void 0,B.default.Messages.UPLOAD_BACKGROUND,W(G.default,{disabled:!r,onChange:this.handleBannerChange}))),W(y.default.Child,{wrap:!0,basis:"50%"},void 0,W(w.default,{avatar:n.banner,size:null,makeURL:function(e){return e&&P.default.getGuildBannerURL({id:n.id,banner:e})},disabled:!r,onChange:this.handleBannerChange,hint:B.default.Messages.CHANGE_BANNER,className:(0,o.default)((e={},e[x.default.avatarUploader]=r,e[x.default.avatarUploaderDisabled]=!r,e)),avatarClassName:x.default.avatarUploaderInnerSquare,hideSize:!0}))))},l.render=function(){var e=this.props.guild,t=e.hasFeature(j.GuildFeatures.VERIFIED),n=e.hasFeature(j.GuildFeatures.INVITE_SPLASH),r=t||e.hasFeature(j.GuildFeatures.BANNER);return W(C.default,{title:B.default.Messages.SERVER_OVERVIEW,tag:M.Tags.H2},void 0,this.renderBaseSettings(),this.renderAFKSection(),this.renderJoinNotificationSection(),this.renderNotificationSection(),n?this.renderServerInviteBGSection():null,t&&this.renderDescription(),r?this.renderBanner():null)},r}(a.PureComponent);X.displayName="GuildSettingsOverview";var J=l.default.connectStores([f.default,p.default,h.default,v.default,m.default],function(){var e=p.default.getProps(),t=e.guild,n=e.errors,r=e.submitting,a=null!=t?v.default.getRegions(t.id):null,o={id:"unknown",name:B.default.Messages.UNKNOWN_REGION,vip:!1};null!=a&&null!=t&&(o=a.find(function(e){return e.id===t.region})||o);var i=((null!=t&&h.default.getGuildPermissions(t.id)||0)&j.Permissions.MANAGE_GUILD)===j.Permissions.MANAGE_GUILD,l=null!=t&&m.default.isEligibleForGuild(t.id);return{channels:f.default.getChannels(),canManageGuild:i,regions:a,region:o,guild:t,errors:n,submitting:r,isEligibleForPremiumGuilds:l}})(X);t.default=J},6899:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(2)),o=c(n(17)),i=f(n(112)),l=c(n(231)),u=c(n(158)),s=c(n(10)),d=c(n(5488));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,r,a=e.region;if("unknown"===a.id)r=n(5959);else{var i=a.id.replace(/^vip-/,"");try{r=n(6471)("./"+i+".png")}catch(e){r=n(5959)}}var l={backgroundImage:'url("'+r+'")'};return p("div",{className:(0,o.default)(d.default.flag,(t={},t[d.default.vip]=a.vip,t)),style:l})};h.displayName="RegionFlag";var v=function(e){var t=e.region.name.replace(/ \(VIP\)$/,"");return p("div",{className:d.default.name},void 0,t)};v.displayName="RegionName";var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props,t=e.onClick;e.disabled||t()},n.handleMouseLeave=function(){n.setState({hover:!1})},n.handleMouseEnter=function(){n.setState({hover:!0})},n.state={hover:!1},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.region,r=t.error,a=t.disabled,c=this.state.hover,f=i.ButtonColors.GREY;return a||(c?f=i.ButtonColors.BRAND:!0===r&&(f=i.ButtonColors.RED)),p(l.default,{className:(0,o.default)(d.default.container,(e={},e[d.default.hover]=c,e[d.default.disabled]=a,e[d.default.error]=r,e)),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,p(u.default,{className:d.default.layout},void 0,p(u.default,{className:d.default.input,align:u.default.Align.CENTER},void 0,p(u.default.Child,{grow:0,shrink:0},void 0,p(h,{region:n})),p(u.default.Child,{},void 0,p(v,{region:n}))),p(u.default,{shrink:1,grow:0,style:{margin:0}},void 0,p(i.default,{className:d.default.button,onClick:function(){},size:i.ButtonSizes.MIN,color:f,disabled:a,look:i.ButtonLooks.GHOST},void 0,s.default.Messages.CHANGE))))},r}(a.PureComponent);m.displayName="RegionSelector",m.defaultProps={disabled:!1};var _=m;t.default=_},6900:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsRolesNotice=void 0;var r,a=H(n(2)),o=B(n(17)),i=n(7099),l=B(n(3)),u=B(n(164)),s=B(n(801)),d=B(n(5857)),c=n(6901),f=B(n(6518)),p=B(n(5854)),h=B(n(42)),v=B(n(14)),m=B(n(305)),_=B(n(112)),y=H(n(431)),g=B(n(158)),E=B(n(302)),S=B(n(6635)),T=B(n(5856)),I=B(n(5894)),O=B(n(799)),N=B(n(426)),C=B(n(811)),A=B(n(432)),M=B(n(804)),R=H(n(428)),b=H(n(98)),P=B(n(308)),L=B(n(102)),D=B(n(6902)),w=B(n(6644)),U=B(n(6645)),G=B(n(5962)),k=n(0),F=B(n(10)),j=B(n(5496));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K={paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"};function W(e,t){return Y(N.default,{color:N.default.Colors.RED,delay:500,position:N.default.Positions.TOP,text:t},void 0,Y("div",{className:j.default.notAllowedCursor},void 0,e))}W.displayName="wrapTooltip";var z=l.default.connectStores([p.default,f.default],function(){var e=p.default.getProps().guild,t=f.default.formState;return{guild:e,submitting:t===k.FormStates.SUBMITTING,onReset:function(){(0,c.init)()},onSave:function(){if(null!=e){var t=e.id,n=f.default.editedRoleIds.map(function(e){return f.default.getRole(e)}).filter(Boolean),r=f.default.getSortDeltas();(0,c.saveRoleSettings)(t,n,r)}}}})(G.default);t.GuildSettingsRolesNotice=z;var $=(0,i.makeDragItem)("ITEM")(w.default),q=(0,i.makeDragList)("ITEM")(I.default),X=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleNameChange=function(e){var t=r.props.role.id;(0,c.updateRoleName)(t,e)},r.handleColorChange=function(e){var t=r.props.role,n=t.id;t.color===e||e===k.DEFAULT_ROLE_COLOR&&0===t.color||(e===k.DEFAULT_ROLE_COLOR&&(e=0),(0,c.updateRoleColor)(n,e))},r.handlePermissionChange=function(e,t){var n=r.props.role.id;(0,c.updateRolePermissions)(n,e,t)},r.handleDeleteRole=function(){var e=r.props,t=e.guild.id,a=e.role,o=a.id,i=a.name;u.default.show({title:F.default.Messages.SETTINGS_ROLES_DELETE_TITLE,body:F.default.Messages.SETTINGS_ROLES_DELETE_BODY.format({name:i}),cancelText:F.default.Messages.CANCEL,onConfirm:function(){return s.default.deleteRole(t,o)},iconUrl:n(6525)})},r.handlePermissionRender=function(e){var t,n=r.props,a=n.locked,o=n.guild,i=n.currentUser,l=n.everyone,u=n.role,s=L.default.getHighestRole(o,i.id);return a&&u===s?F.default.Messages.HELP_ROLE_LOCKED_MINE:a?F.default.Messages.HELP_ROLE_LOCKED:null==e&&l?F.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE:null==e||L.default.can(e,i,o)?null!=e&&!L.default.can(e,i,o,null,(t={},t[u.id]=x({},u,{permissions:u.permissions^u.permissions&e}),t))&&F.default.Messages.HELP_SINGULAR_PERMISSION:F.default.Messages.HELP_MISSING_PERMISSION},r.generalSpec=L.default.generateGuildGeneralPermissionSpec(),r.textSpec=L.default.generateGuildTextPermissionSpec(),r.voiceSpec=L.default.generateGuildVoicePermissionSpec(t.guild.id),r}V(t,e);var r=t.prototype;return r.handleSettingChange=function(e,t){var n=t.currentTarget.checked,r=this.props.role,a=r.hoist,o=r.mentionable,i=r.id;"hoist"===e?a=n:o=n,(0,c.toggleRoleSettings)(i,a,o)},r.renderName=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone;return Y(A.default,{title:F.default.Messages.FORM_LABEL_ROLE_NAME,className:j.default.marginBottom20},void 0,Y(O.default,{disabled:n||r,style:{color:t.colorString},value:t.name,onChange:this.handleNameChange}))},r.renderColorPicker=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone,a=Y(D.default,{defaultColor:k.DEFAULT_ROLE_COLOR,colors:k.ROLE_COLORS,value:t.color,disabled:n||r,onChange:this.handleColorChange});return(n||r)&&(a=W(a,F.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE)),Y(A.default,{title:F.default.Messages.FORM_LABEL_ROLE_COLOR,className:j.default.marginBottom40},void 0,a)},r.renderDisabledIndicator=function(e){return Y(N.default,{text:e,position:N.default.Positions.TOP,color:N.default.Colors.RED},void 0,Y("span",{},void 0,Y(E.default,{name:E.default.Names.NOT_ALLOWED,className:j.default.notAllowedIcon,width:18,height:18})))},r.renderRoleSettings=function(){var e=this.props,t=e.role,n=e.locked,r=this.handlePermissionRender(),a=!(!n&&!r),i="string"==typeof r?this.renderDisabledIndicator(r):null,l=null!=i?j.default.rolePermissionTitleDisabled:null;return Y(M.default,{className:j.default.marginBottom40},void 0,Y(b.default,{tag:b.Tags.H5,className:j.default.marginBottom20},void 0,F.default.Messages.FORM_LABEL_ROLE_SETTINGS),Y(T.default,{className:(0,o.default)(j.default.marginBottom20,{disabled:a}),disabled:a,onChange:this.handleSettingChange.bind(this,"hoist"),value:t.hoist},void 0,i,Y("span",{className:l},void 0,F.default.Messages.FORM_LABEL_HOIST_DESCRIPTION)),Y(T.default,{disabled:a,onChange:this.handleSettingChange.bind(this,"mentionable"),value:t.mentionable},void 0,i,Y("span",{className:l},void 0,F.default.Messages.FORM_LABEL_MENTIONABLE.format())))},r.renderDeleteButton=function(){var e=this.props,t=e.locked,n=e.role,r=e.everyone;return t||n.managed||r?null:Y(_.default,{look:_.default.Looks.OUTLINED,color:_.default.Colors.RED,onClick:this.handleDeleteRole},void 0,F.default.Messages.DELETE," ",n.name)},r.renderManagedNote=function(){if(this.props.role.managed)return Y(y.default,{type:y.Types.WARNING,className:j.default.managedNote},void 0,F.default.Messages.MANAGED_ROLE_EXPLAINATION)},r.render=function(){var e=this.props,t=e.locked,n=e.role.permissions;return Y(M.default,{},void 0,this.renderManagedNote(),this.renderName(),this.renderColorPicker(),Y(C.default,{className:j.default.marginBottom40}),this.renderRoleSettings(),Y(U.default,{spec:this.generalSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:j.default.marginBottom40,permissionRender:this.handlePermissionRender}),Y(U.default,{spec:this.textSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:j.default.marginBottom40,permissionRender:this.handlePermissionRender}),Y(U.default,{spec:this.voiceSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender}),this.renderDeleteButton())},t}(a.PureComponent);X.displayName="GuildRoleSettings";var J=function(){return Y("div",{},void 0,Y(I.default.Separator,{style:{marginTop:20,marginBottom:14}}),Y(R.default,{type:R.Types.DESCRIPTION,className:j.default.marginBottom20},void 0,F.default.Messages.FORM_LABEL_ROLES_PRO_TIP_DESCRIPTION),Y(R.default,{type:R.Types.DESCRIPTION},void 0,Y(m.default,{href:P.default.getArticleURL(k.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,F.default.Messages.PERMISSION_HELPDESK)))};J.displayName="GuildRoleInfo";var Q=Y(J,{}),Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={dragging:null,roles:null},t.handleCreateRole=function(){s.default.createRole(t.props.guild.id)},t.handleSelectRole=function(e){d.default.selectRole(e)},t.handleDragStart=function(e){var n=t.props.roles;t.setState({dragging:e,roles:[].concat(n)})},t.handleDragLeave=function(){var e=t.props.roles;t.setState({roles:[].concat(e)})},t.handleDrop=function(){null!=t.state.roles&&((0,c.updateRoleSort)(t.state.roles.map(function(e){return e.id})),t.setState({dragging:null,roles:null}))},t.handleHover=function(e,n){if(null!=t.state.roles){var r=[].concat(t.state.roles),a=r.find(function(e){var t=e.id;return n===t}),o=r.find(function(t){var n=t.id;return e===n});if(null!=a&&null!=o){var i=r.indexOf(a),l=r.indexOf(o),u=l-i>0?1:0;r.splice(i,1),l=r.indexOf(o),r.splice(l+u,0,a),t.setState({roles:r})}}},t.handleCancel=function(){t.setState({dragging:null,roles:null})},t}V(t,e);var r=t.prototype;return r.getSelectedRole=function(){return f.default.getRole(this.props.selectedRoleId)},r.renderRoleList=function(){var e=this.props,t=e.currentUser,n=e.guild,r=e.selectedRoleId,a=e.theme,o=this.props.roles,i=L.default.getHighestRole(n,t.id);return this.state.roles&&(o=this.state.roles),o.map(function(e){var o,l=!L.default.isRoleHigher(n,t.id,i,e),u=l&&e===i,s=e.id,d=e.colorString,c=e.name;return u?o=F.default.Messages.HELP_ROLE_LOCKED_MINE:l&&(o=F.default.Messages.HELP_ROLE_LOCKED),l||u||s===n.id?Y(w.default,{theme:a,id:s,locked:l,lockTooltip:o,color:d},r+"-"+s,c):Y($,{theme:a,dragId:s,id:s,locked:l,lockTooltip:o,color:d},r+"-"+s,c)})},r.renderRoles=function(){var e=this.props,t=e.selectedRoleId,r=e.theme,a=this.state.dragging,o=this.props.theme===k.ThemeTypes.DARK?n(6646):n(6647);return Y(S.default.Sidebar,{style:x({},K,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,Y(q,{onItemSelect:this.handleSelectRole,selectedItem:a||t,onDragStart:this.handleDragStart,onHover:this.handleHover,onDrop:this.handleDrop,onCancel:this.handleCancel,onDragLeave:this.handleDragLeave},void 0,Y(I.default.Header,{},void 0,Y(g.default,{className:j.default.sidebarHeader,onClick:this.handleCreateRole,justify:g.default.Justify.BETWEEN},void 0,F.default.Messages.ROLES,Y("img",{alt:"",className:j.default.addRoleIcon,src:o}))),this.renderRoleList(),Q))},r.renderRoleSettings=function(){var e=this.props,t=e.guild,n=e.currentUser,r=this.getSelectedRole();if(null==r)return null;var a=L.default.getHighestRole(t,n.id),o=!L.default.isRoleHigher(t,n.id,a,r),i=null!=r&&r.id===t.id;return Y(S.default.Content,{style:x({},K,{paddingRight:0}),grow:0},void 0,Y(X,{guild:t,role:r,locked:o,everyone:i,currentUser:n}))},r.render=function(){return Y(S.default,{},void 0,this.renderRoles(),this.renderRoleSettings())},t}(a.PureComponent);Z.displayName="GuildSettingsRoles";var ee=l.default.connectStores([p.default,v.default,h.default,f.default],function(){var e=p.default.getProps(),t=e.guild,n=e.selectedRoleId;return{currentUser:v.default.getCurrentUser(),guild:t,selectedRoleId:n,roles:f.default.roles,theme:h.default.theme}})(Z);t.default=ee},6901:function(e,t,n){"use strict";t.__esModule=!0,t.updateRoleSort=function(e){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SORT_UPDATE,roles:e})},t.init=function(){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_INIT})},t.updateRolePermissions=function(e,t,n){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS,id:e,flag:t,allow:n})},t.updateRoleName=function(e,t){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_NAME,id:e,name:t})},t.updateRoleColor=function(e,t){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_COLOR,id:e,color:t})},t.toggleRoleSettings=function(e,t,n){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_SETTINGS,id:e,hoist:t,mentionable:n})},t.saveRoleSettings=function(e,t,n){return r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SUBMITTING}),new Promise(function(r){var o=function n(){if(null==t||0===t.length)return r();var o=t.pop();if(null==o||""===o.name)return n();a.default.updateRole(e,o.id,o.name,o.permissions,o.color,o.hoist,o.mentionable).then(n,n)};null!=n&&n.length>0?a.default.batchRoleUpdate(e,n).then(o,o):o()}).then(function(){return r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SAVE_SUCCESS})})};var r=i(n(1)),a=i(n(801)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6902:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(802)),i=c(n(6903)),l=d(n(795)),u=d(n(426)),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={customColor:null},h(n).renderDefaultButton=n.renderDefaultButton.bind(h(n)),h(n).renderCustomButton=n.renderCustomButton.bind(h(n)),h(n).renderCustomColorPopout=n.renderCustomColorPopout.bind(h(n)),h(n).handleOnChange=n.handleOnChange.bind(h(n)),h(n).handleCustomOnChange=n.handleCustomOnChange.bind(h(n)),h(n)._removeEventListener=n._removeEventListener.bind(h(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.UNSAFE_componentWillReceiveProps=function(e){var t=e.value,n=e.defaultColor,r=e.colors;0===t||t===n||r.some(function(e){return e===t})?this.setState({customColor:null}):this.setState({customColor:t})},d._closeCustomColorPicker=function(){o.default.close("CUSTOM_COLOR_POPOUT_ID")},d._removeEventListener=function(){window.removeEventListener("wheel",this._closeCustomColorPicker)},d.renderCustomColorPopout=function(){return this._removeEventListener(),window.addEventListener("wheel",this._closeCustomColorPicker),p(i.CustomColorPicker,{onChange:this.handleCustomOnChange,value:this.state.customColor,onClose:this._removeEventListener})},d.renderCustomButton=function(e){var t=a.createElement(i.CustomColorButton,e);return e.disabled?t:p(l.default,{uniqueId:"CUSTOM_COLOR_POPOUT_ID",shadow:!1,render:this.renderCustomColorPopout,position:l.default.Positions.BOTTOM,zIndexBoost:1e3},void 0,p(u.default,{text:s.default.Messages.CUSTOM_COLOR,position:u.default.Positions.BOTTOM},void 0,p("div",{},void 0,t)))},d.renderDefaultButton=function(e){var t=a.createElement(i.DefaultColorButton,e);return this.props.disabled?t:p(u.default,{text:s.default.Messages.DEFAULT,position:u.default.Positions.BOTTOM},void 0,p("div",{},void 0,t))},d.render=function(){return a.createElement(i.default,f({},this.props,{renderDefaultButton:this.renderDefaultButton,renderCustomButton:this.renderCustomButton,customColor:this.state.customColor,onChange:this.handleOnChange}))},d.handleOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:null})},d.handleCustomOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:e})},r}(a.PureComponent);v.displayName="ColorPicker";var m=v;t.default=m},6903:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CustomColorPicker=t.CustomColorButton=t.DefaultColorButton=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=n(239),l=v(n(6904)),u=v(n(158)),s=v(n(302)),d=v(n(799)),c=n(0),f=v(n(5235)),p=v(n(5492)),h=v(n(911));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E=function(e){function t(t){var n;return y(n=e.call(this,t)||this).handleClick=n.handleClick.bind(y(n)),n}g(t,e);var n=t.prototype;return n.renderCustomIcon=function(e){if(this.props.isCustom)return _(s.default,{className:p.default.colorPickerDropper,foreground:p.default.colorPickerDropperFg,name:s.default.Names.DROPPER,width:14,height:14,color:e?c.Colors.WHITE:c.Colors.BLACK})},n.renderSelected=function(e){var t=16,n=16;if((this.props.isCustom||this.props.isDefault)&&(t=32,n=24),this.props.isSelected)return _(s.default,{name:s.default.Names.CHECKMARK,width:t,height:n,color:e?c.Colors.WHITE:c.Colors.BLACK})},n.render=function(){var e,t=this.props,n=t.color,r=t.isDefault,a=t.isCustom,l=t.isSelected,u=t.disabled,s=t.style,d=null!=n?(0,i.int2hex)(n):s.backgroundColor,c=!1;return a&&!l?c=!0:(a||l)&&(c=(0,i.getDarkness)(n)>.1),_("button",{className:(0,o.default)(p.default.colorPickerSwatch,((e={})[p.default.disabled]=u,e[p.default.default]=r,e[p.default.custom]=a,e[p.default.noColor]=null==n,e)),disabled:u,onClick:this.handleClick,style:m({},s,{backgroundColor:d})},void 0,this.renderCustomIcon(c),this.renderSelected(c))},n.handleClick=function(){var e=this.props,t=e.color,n=e.onClick;n&&n(t)},t}(a.PureComponent);E.displayName="Swatch",E.defaultProps={isDefault:!1,isCustom:!1,isSelected:!1,disabled:!1,style:{}};var S=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.onChange,r=e.value,a=e.disabled;return _(E,{isDefault:!0,color:t,isSelected:t===r||0===r,onClick:n,disabled:a,style:{marginLeft:0}})},t}(a.PureComponent);t.DefaultColorButton=S,S.displayName="DefaultColorButton";var T=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.customColor,n=e.value,r=e.disabled;return _(E,{isCustom:!0,color:t,isSelected:n===t,disabled:r,style:{marginLeft:10}})},t}(a.PureComponent);t.CustomColorButton=T,T.displayName="CustomColorButton";var I=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.value,a=(0,i.int2hex)(null!=r?r:0);return n.state={color:a,validColor:a},y(n).handleHexChange=n.handleHexChange.bind(y(n)),y(n).handleOnChange=n.handleOnChange.bind(y(n)),y(n).handleOnChangeComplete=n.handleOnChangeComplete.bind(y(n)),n}g(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},n.render=function(){var e=this.state,t=e.color,n=e.validColor;return _(u.default,{direction:u.default.Direction.VERTICAL,className:p.default.colorPickerCustom},void 0,_(l.default,{onChangeComplete:this.handleOnChangeComplete,onChange:this.handleOnChange,color:n}),_(d.default,{className:(0,o.default)(p.default.customColorPickerInput,f.default.marginTop8),value:t,onChange:this.handleHexChange,maxLength:7}))},n.callOnChange=function(e){(0,this.props.onChange)((0,i.hex2int)(e))},n.handleHexChange=function(e){var t="#"===e[0]?e:"#"+e,n=(0,i.isValidHex)(t);this.setState({color:t,validColor:n?t:this.state.validColor}),n&&this.callOnChange(t)},n.handleOnChange=function(e){this.setState({color:e.hex,validColor:e.hex})},n.handleOnChangeComplete=function(e){this.callOnChange(e.hex)},t}(a.PureComponent);t.CustomColorPicker=I,I.displayName="CustomColorPicker";var O=function(e){function t(t){var n;return y(n=e.call(this,t)||this).renderColor=n.renderColor.bind(y(n)),n}g(t,e);var n=t.prototype;return n.renderColor=function(e){var t=this.props,n=t.value,r=t.onChange,a=t.disabled;return _(E,{color:e,isSelected:e===n,onClick:r,disabled:a},e)},n.renderRow=function(e){var t=this;return _(u.default,{className:p.default.colorPickerRow,wrap:u.default.Wrap.WRAP},void 0,e.map(function(e){return t.renderColor(e)}))},n.render=function(){var e=this.props,t=e.defaultColor,n=e.customColor,r=e.colors,a=e.value,o=e.disabled,i=e.onChange,l=e.renderDefaultButton,s=e.renderCustomButton,d=r.slice(0,r.length/2),c=r.slice(r.length/2,r.length);return _(u.default,{},void 0,_(u.default.Child,{shrink:0,grow:0,className:f.default.marginReset,wrap:!0},void 0,l({value:a,color:t,onChange:i,disabled:o})),_(u.default.Child,{shrink:0,grow:0,className:f.default.marginReset,wrap:!0},void 0,s({value:a,customColor:n,disabled:o})),_(u.default,{direction:u.default.Direction.VERTICAL,className:h.default.flexMarginReset,grow:1},void 0,this.renderRow(d),this.renderRow(c)))},t}(a.PureComponent);O.displayName="ColorPicker";var N=O;t.default=N},6904:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(7100),l=n(5868),u=(r=n(5491))&&r.__esModule?r:{default:r};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return d("div",{className:u.default.wrapper},void 0,d("div",{className:u.default.saturation},void 0,o.createElement(l.Saturation,this.props)),d("div",{className:u.default.hue},void 0,o.createElement(l.Hue,s({},this.props,{direction:"horizontal"}))))},r}(o.PureComponent);c.displayName="ColorPickerControl";var f=(0,i.CustomPicker)(c);t.default=f},6921:function(e,t,n){e.exports=n.p+"959a1978f7be567071a1354a98b46ecd.svg"},6922:function(e,t,n){e.exports=n.p+"89c5bd0afd63d925ba6a8fcd18eeb530.svg"},6923:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PermissionOverrideTypes=void 0;var r,a=f(n(2)),o=c(n(158)),i=c(n(6924)),l=c(n(811)),u=f(n(428)),s=f(n(98)),d=c(n(5235));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=i.default.Types;t.PermissionOverrideTypes=h;var v=p(l.default,{}),m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.value,n=e.onChange,r=e.disabled,a=e.hideBorder,l=e.children,c=e.className,f=e.note,h=e.style;return p(o.default,{style:h,className:c,direction:o.default.Direction.VERTICAL},void 0,p(o.default,{},void 0,p(o.default.Child,{},void 0,p(s.default,{className:d.default.marginReset,tag:s.Tags.H3,disabled:r},void 0,l)),p(o.default.Child,{grow:0,shrink:0},void 0,p(i.default,{value:t,onChange:n,disabled:r}))),f&&p(o.default.Child,{className:d.default.marginTop4},void 0,p(u.default,{type:u.Types.DESCRIPTION},void 0,f)),!a&&p(o.default.Child,{className:d.default.marginTop20},void 0,v))},r}(a.PureComponent);m.displayName="PermissionOverrideItem",m.defaultProps={disabled:!1,hideBorder:!1,className:d.default.marginBottom20},m.Types=i.default.Types;var _=m;t.default=_},6924:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PermissionOverrideTypes=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(192),i=s(n(6317)),l=s(n(10)),u=s(n(5494));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c={DENY:"DENY",PASSTHROUGH:"PASSTHROUGH",ALLOW:"ALLOW"};t.PermissionOverrideTypes=c;var f=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).keys=Object.keys(c),t.handleToggle=function(e){var n=t.props,r=n.value,a=n.onChange;r!==e&&a(e)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this,t=this.props,r=t.value,a=t.disabled,s=this.keys.map(function(t){var a,i,s,f=r===t;switch(t){case c.DENY:s=l.default.Messages.PERMISSION_OVERRIDE_DENY,a=n(f?6925:6926),i=c.DENY;break;case c.ALLOW:s=l.default.Messages.PERMISSION_OVERRIDE_ALLOW,a=n(f?6927:6928),i=c.ALLOW;break;case c.PASSTHROUGH:default:s=l.default.Messages.PERMISSION_OVERRIDE_PASSTHROUGH,a=n(f?6929:6930),i=c.PASSTHROUGH}return{content:d("img",{alt:s,src:a,className:u.default.overrideItem}),className:(0,o.getClass)(u.default,i.toLowerCase(),f?"selected":""),onClick:e.handleToggle.bind(e,t)}});return d(i.default,{buttons:s,disabled:a})},a}(a.PureComponent);f.displayName="PermissionOverride",f.Types=c,f.defaultProps={value:c.PASSTHROUGH,disabled:!1};var p=f;t.default=p},6925:function(e,t,n){e.exports=n.p+"46eac82bb5b3ccd5049e8b3a96910327.svg"},6926:function(e,t,n){e.exports=n.p+"132b1ce1c085ff84256f3b16943bc782.svg"},6927:function(e,t,n){e.exports=n.p+"7b5b950896ff4214b058f76ba0e84a7b.svg"},6928:function(e,t,n){e.exports=n.p+"ffeba954d48c1ac993679084cee38746.svg"},6929:function(e,t,n){e.exports=n.p+"f081fef9b7d9610309e65b5282bd0ca9.svg"},6930:function(e,t,n){e.exports=n.p+"bbc9e257da833d4b7d22c82a1de8a0a0.svg"},6931:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsVanityURLNotice=void 0;var r,a=N(n(2)),o=O(n(3)),i=n(6932),l=O(n(5854)),u=O(n(6519)),s=O(n(306)),d=O(n(112)),c=O(n(431)),f=O(n(6933)),p=O(n(427)),h=O(n(128)),v=O(n(804)),m=N(n(428)),_=N(n(98)),y=n(196),g=O(n(5895)),E=O(n(5962)),S=n(0),T=O(n(10)),I=O(n(5498));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=o.default.connectStores([l.default,u.default],function(){var e=u.default.vanityURLCode,t=l.default.getGuildId();return{vanityURLCode:e,guildId:t,onReset:function(){(0,i.resetCode)()},onSave:function(){null!=t&&(0,i.saveCode)(t,e)}}})(E.default);t.GuildSettingsVanityURLNotice=A;var M=C(p.default,{}),R=C(g.default,{}),b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isRemoving:!1},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){(0,i.close)()},a.renderEditCard=function(){var e=this.state.isRemoving,t=this.props,n=t.hasError,r=t.originalVanityURLCode,a=t.vanityURLCode;return null==a?M:C(c.default,{editable:!0,className:I.default.editVanityUrlCard},void 0,C(_.default,{},void 0,T.default.Messages.INVITE_URL),C(f.default,{prefix:S.INVITE_ENDPOINT+"/",value:a,onChange:this.handleInviteCodeChange,maxLength:25,autoFocus:!0,error:n}),null!=r&&r.length>0?C(d.default,{className:I.default.removeVanityUrlButton,onClick:this.handleRemoveVanityURL,submitting:e,look:d.default.Looks.LINK,size:d.default.Sizes.MIN,color:d.default.Colors.RED},void 0,T.default.Messages.REMOVE_VANITY_URL):null)},a.renderInfo=function(){var e=this.props,t=e.hasError,n=e.originalVanityURLCode;if(t)return C(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.RED,className:I.default.marginTop20},void 0,T.default.Messages.CHANGE_VANITY_URL_ERROR);if(null!=n&&n.length>0){var r=(0,y.getInviteURL)(n);return C(m.default,{className:I.default.marginTop20,type:m.Types.LABEL_DESCRIPTOR},void 0,T.default.Messages.VANITY_URL_HELP_EXTENDED_LINK.format({urlText:r,urlValue:r}))}},a.handleRemoveVanityURL=function(){(0,i.setCode)("")},a.handleInviteCodeChange=function(e){(0,i.setCode)(e.replace(/ /g,"-"))},a.render=function(){return this.props.hide?R:C(v.default,{tag:_.Tags.H2,title:T.default.Messages.VANITY_URL},void 0,C(m.default,{type:m.Types.DESCRIPTION,className:I.default.marginBottom8},void 0,T.default.Messages.VANITY_URL_HELP),C(m.default,{type:m.Types.DESCRIPTION,className:I.default.marginBottom20},void 0,T.default.Messages.VANITY_URL_HELP_CONFLICT),this.renderEditCard(),this.renderInfo())},r}(a.PureComponent);b.displayName="GuildSettingsVanityURL";var P=o.default.connectStores([l.default,u.default,s.default],function(){return{vanityURLCode:u.default.vanityURLCode,originalVanityURLCode:u.default.originalVanityURLCode,guildId:l.default.getGuildId(),hasError:u.default.hasError(),hide:s.default.hideInstantInvites}})(b);t.default=P},6932:function(e,t,n){"use strict";t.__esModule=!0,t.close=function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_CLOSE})},t.resetCode=function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_RESET})},t.setCode=function(e){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_SET,code:e})},t.saveCode=function(e,t){return r.default.patch({url:o.Endpoints.GUILD_VANITY_URL(e),body:{code:t}}).then(function(e){var t=e.body;a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:t.code})},function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_ERROR})})};var r=i(n(9)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6933:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(158)),l=s(n(5235)),u=s(n(5497));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).setInputRef=function(e){n._inputRef=e},n.handleChange=function(e){(0,n.props.onChange)(e.currentTarget.value)},n.handleFocus=function(){n.setState({focused:!0})},n.handleBlur=function(){n.setState({focused:!1})},n.handleFocusInput=function(){null!=n._inputRef&&n._inputRef.focus()};var r=n.props.autoFocus;return n.state={focused:null!=r&&r},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.state.focused,n=this.props,r=n.value,s=n.placeholder,c=n.error,f=n.className,p=n.maxLength,h=n.autoFocus,v=n.prefix;return d(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.START,className:(0,o.default)(u.default.prefixInput,f,(e={},e[u.default.focused]=t,e[u.default.error]=c,e)),onClick:this.handleFocusInput},void 0,d(i.default.Child,{grow:0,className:u.default.prefixInputPrefix},void 0,v),d(i.default.Child,{className:l.default.marginReset},void 0,a.createElement("input",{ref:this.setInputRef,className:u.default.prefixInputInput,value:r,placeholder:s,maxLength:p,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:h})))},r}(a.PureComponent);c.displayName="PrefixInput";var f=c;t.default=f},6934:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(5854)),o=i(n(6648));function i(e){return e&&e.__esModule?e:{default:e}}var l=r.default.connectStores([a.default],function(){return{guild:a.default.getProps().guild}})(o.default);t.default=l},6935:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=l(n(6009));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,d={},c={};function f(e,t){return null==t&&(t="guild"),e+":"+t}function p(e){return null!=d[e]?d[e]:(d[e]={},d[e])}function h(e){var t=e.guildId,n=e.webhook;p(t)[n.id]=n}var v=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,i,l,d=a.prototype;return d.isFetching=function(e,t){return null!=c[f(e,t)]},d.getWebhooksForGuild=function(e){return r.default.values(p(e))},d.getWebhooksForChannel=function(e,t){return(0,r.default)(p(e)).values().filter(function(e){return e.channel_id===t}).value()},o=a,(i=[{key:"error",get:function(){return s}}])&&u(o.prototype,i),l&&u(o,l),a}(a.default.Store))(o.default,{WEBHOOKS_UPDATE:function(e){var t=e.guildId,n=e.channelId,a=e.webhooks,o=e.error;if(a){s=null;var l=[];n&&(l=(0,r.default)(p(t)).values().filter(function(e){return e.channel_id!==n}).value());var u=d[t]={};l.concat(a).forEach(function(e){return u[e.id]=e}),delete c[f(t,n)]}else null!=o?(s=o,delete c[f(t,n)]):null!=n&&null!=d[t]&&(s=null,i.default.fetchForChannel(t,n))},WEBHOOKS_FETCHING:function(e){var t=e.guildId,n=e.channelId;c[f(t,n)]=!0},WEBHOOK_CREATE:h,WEBHOOK_UPDATE:h,WEBHOOK_DELETE:function(e){var t=e.guildId,n=e.webhookId;delete p(t)[n]}});t.default=v},6936:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=N(n(17)),i=N(n(164)),l=N(n(73)),u=N(n(6009)),s=N(n(5849)),d=N(n(112)),c=N(n(431)),f=N(n(158)),p=N(n(128)),h=C(n(428)),v=C(n(98)),m=n(81),_=N(n(116)),y=N(n(433)),g=N(n(6526)),E=n(0),S=N(n(10)),T=N(n(5240)),I=N(n(5235)),O=N(n(5500));function N(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=function(e){var t,n;function r(t){var n;return R(n=e.call(this,t)||this).handleShowModal=n.handleShowModal.bind(R(n)),R(n).handleRemoveWebhook=n.handleRemoveWebhook.bind(R(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var N=r.prototype;return N.handleRemoveWebhook=function(){var e=this.props.webhook,t=e.name;l.default.push(function(n){return a.createElement(y.default,A({},n,{header:S.default.Messages.WEBHOOK_DELETE_TITLE.format({name:t}),confirmText:S.default.Messages.WEBHOOK_DELETE,cancelText:S.default.Messages.WEBHOOK_CANCEL,onConfirm:function(){u.default.delete(e.guild_id,e.id).catch(function(){i.default.show({title:S.default.Messages.WEBHOOK_ERROR_DELETING_WEBHOOK,body:S.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}}),M(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,S.default.Messages.WEBHOOK_DELETE_BODY.format({name:t})))})},N.handleShowModal=function(){var e=this.props.webhook;l.default.push(function(t){return a.createElement(g.default,A({webhook:e},t))})},N.renderAvatar=function(){var e,t,n,r=this.props.webhook;return M(f.default.Child,{wrap:!0,grow:0},void 0,M(s.default,{src:(e=r,t=e.avatar,n=e.id,(0,m.getUserAvatarURL)({id:n,avatar:t,discriminator:E.NON_USER_BOT_DISCRIMINATOR})),size:"large"}))},N.renderInfo=function(){var e=this.props.webhook,t=e.id,n=e.name,r=e.user;return M(f.default,{direction:f.default.Direction.VERTICAL,justify:f.default.Justify.CENTER},void 0,M(v.default,{tag:v.Tags.H3,className:I.default.marginReset},void 0,n),M(h.default,{type:h.Types.DESCRIPTION},void 0,S.default.Messages.WEBHOOK_CREATED_ON.format({timestamp:_.default.extractTimestamp(t),username:r?r.username:""})))},N.renderEdit=function(){var e=this.props.theme;return M(f.default,{grow:0,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER},void 0,M(d.default,{size:d.default.Sizes.SMALL,look:d.default.Looks.OUTLINED,color:e===E.ThemeTypes.DARK?d.default.Colors.WHITE:d.default.Colors.GREY,onClick:this.handleShowModal},void 0,S.default.Messages.EDIT))},N.render=function(){var e=this.props.className;return M(c.default,{editable:!0,className:(0,o.default)(O.default.webhookRow,e)},void 0,M(f.default,{},void 0,this.renderAvatar(),this.renderInfo(),this.renderEdit()),M("button",{className:(0,o.default)(O.default.removeWebhook,T.default.button),onClick:this.handleRemoveWebhook}))},r}(a.PureComponent);b.displayName="Webhook";var P=b;t.default=P},6937:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;c(n(2));var r,a=d(n(112)),o=d(n(158)),i=c(n(428)),l=d(n(308)),u=n(0),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.onCreate,n=e.disabled;return f(o.default,{},void 0,f(o.default.Child,{},void 0,f(i.default,{type:i.Types.DESCRIPTION},void 0,s.default.Messages.SETTINGS_WEBHOOKS_INTRO.format({articleURL:l.default.getArticleURL(u.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}))),f(o.default.Child,{wrap:!0,grow:0},void 0,f(a.default,{disabled:n,onClick:t},void 0,s.default.Messages.WEBHOOK_CREATE)))};p.displayName="WebhooksIntro";var h=p;t.default=h},6938:function(e,t,n){e.exports=n.p+"97b178f31f0ec28b41387b78891d5b7a.svg"},6939:function(e,t,n){e.exports=n.p+"6fad2f9f24cb4f38202a81064da6f859.svg"},6940:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=O(n(17)),i=O(n(6)),l=O(n(3)),u=O(n(5857)),s=O(n(20)),d=O(n(5854)),c=O(n(306)),f=O(n(158)),p=O(n(5858)),h=O(n(5856)),v=O(n(811)),m=O(n(432)),_=O(n(804)),y=N(n(428)),g=N(n(98)),E=O(n(5895)),S=O(n(6173)),T=O(n(10)),I=O(n(5235));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A="NO_INSTANT_INVITE",M=C(E.default,{}),R=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={internalEnabled:t.props.widgetEnabled},t.renderToggle=function(){return C(h.default,{className:I.default.marginBottom40,value:t.state.internalEnabled,onChange:t.handleToggleWidget},void 0,T.default.Messages.GUILD_SETTINGS_WIDGET_ENABLE_WIDGET)},t.handleToggleWidget=function(e){var n=t.props,r=n.guild,a=n.widgetChannelId;if(null!=r){var o=e.currentTarget.checked;t.setState({internalEnabled:o}),u.default.updateEmbed(r.id,o,a)}},t.handleChannelSelect=function(e){var n=e.value,r=t.props,a=r.guild,o=r.widgetEnabled;null!=a&&u.default.updateEmbed(a.id,o,n!==A?n:null)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){e.widgetEnabled!==this.state.internalEnabled&&this.setState({internalEnabled:e.widgetEnabled})},l.renderChannelSelect=function(e){var t=this.props,n=t.channels,r=t.widgetChannelId,a=(0,i.default)(n).filter(function(t){return t.guild_id===e.id}).map(function(e){return{value:e.id,label:e.toString(!0)}}).value(),o={value:A,label:T.default.Messages.NO_INSTANT_INVITE};a.unshift(o);var l=r||o;return C(m.default,{title:T.default.Messages.FORM_LABEL_INSTANT_INVITE_CHANNEL},void 0,C(p.default,{className:I.default.marginBottom20,options:a,value:l,onChange:this.handleChannelSelect,searchable:!1,clearable:!1}),C(y.default,{type:y.Types.DESCRIPTION},void 0,T.default.Messages.FORM_HELP_INSTANT_INVITE_CHANNEL))},l.renderAPIInfo=function(e){var t=""+location.protocol+window.GLOBAL_ENV.API_ENDPOINT+"/guilds/"+e.id+"/widget.json";return C(f.default,{},void 0,C(f.default.Child,{},void 0,C(m.default,{title:T.default.Messages.FORM_LABEL_SERVER_ID},void 0,C(S.default,{value:e.id}))),C(f.default.Child,{},void 0,C(m.default,{title:T.default.Messages.FORM_LABEL_JSON_API},void 0,C(S.default,{value:t}))))},l.renderWidget=function(e){var t='<iframe src="'+(""+location.protocol+window.GLOBAL_ENV.WIDGET_ENDPOINT+"?id="+e.id+"&theme=dark")+'" width="350" height="500" allowtransparency="true" frameborder="0"></iframe>';return C(f.default,{direction:f.default.Direction.VERTICAL},void 0,C(g.default,{},void 0,T.default.Messages.FORM_LABEL_PREMADE_WIDGET),C(f.default,{},void 0,C(f.default.Child,{basis:"50%"},void 0,C(m.default,{},void 0,C(S.default,{value:t}),C(y.default,{type:y.Types.DESCRIPTION},void 0,T.default.Messages.GUILD_SETTINGS_WIDGET_EMBED_HELP.format()))),C(f.default.Child,{basis:"50%"},void 0,C("img",{alt:"",src:n(6941)}))))},l.render=function(){var e=this.props.guild;return null==e?null:this.props.hide?M:C(_.default,{tag:g.Tags.H2,title:T.default.Messages.GUILD_SETTINGS_TITLE_SERVER_WIDGET},void 0,this.renderToggle(),this.renderChannelSelect(e),C(v.default,{className:(0,o.default)(I.default.marginTop40,I.default.marginBottom40)}),this.renderAPIInfo(e),C(v.default,{className:(0,o.default)(I.default.marginTop40,I.default.marginBottom40)}),this.renderWidget(e))},a}(a.PureComponent);R.displayName="GuildSettingsWidget";var b=l.default.connectStores([d.default,c.default],function(){var e=d.default.getProps();return{guild:e.guild,widgetChannelId:e.embedChannelId,widgetEnabled:e.embedEnabled,channels:s.default.getChannels(),hide:c.default.enabled}})(R);t.default=b},6941:function(e,t,n){e.exports=n.p+"5fb477ca84edd15d9a2888ac28365acd.svg"},6942:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(3)),i=d(n(6181)),l=d(n(237)),u=d(n(5874)),s=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.toggleMuted=function(){i.default.toggleCollapseGuild(this.props.guildId)},o.render=function(){var e=this,t=this.props.collapseMuted;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.HIDE_MUTED_CHANNELS,action:function(){return e.toggleMuted()},active:t})},a}(a.PureComponent);c.displayName="GuildToggleMutedChannels";var f=o.default.connectStores([l.default],function(e){var t=e.guildId;return{collapseMuted:l.default.isGuildCollapsed(t)}})(c);t.default=f},6943:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=M(n(6)),i=M(n(5876)),l=n(129),u=M(n(825)),s=M(n(20)),d=M(n(450)),c=n(99),f=M(n(159)),p=M(n(309)),h=M(n(237)),v=R(n(795)),m=n(437),_=n(113),y=M(n(6610)),g=M(n(5237)),E=M(n(6944)),S=M(n(6946)),T=M(n(6947)),I=M(n(6948)),O=M(n(6949)),N=M(n(6956)),C=n(0),A=M(n(5516));function M(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}o.default.memoize.Cache=WeakMap;var L=8,D=32,w=40,U=16,G=34,k=32,F=8,j=5;function B(e,t){var n=0,r=0,a=s.default.getChannel(e);if(null==a)return null;null!=a.parent_id&&t._categories.find(function(e,t){return e.channel.id===a.parent_id&&(n=t,!0)});var o=t[String(a.parent_id)];return null==o?null:(o.find(function(e,t){return e.channel.id===a.id&&(r=t,!0)}),{section:n,row:r})}var H=o.default.memoize(function(e){var t=null;return e._categories.filter(function(e){return e.index>=0}).map(function(e){return e.channel.id}).some(function(n){return null!=(t=e[n].find(function(e){return e.channel.type===C.ChannelTypes.GUILD_VOICE}))}),t}),x=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).state={initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null},t.setListRef=function(e){t._list=e},t.scrollToChannel=function(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=L);var a=t.props.categories,o=t._list,i=B(e,a);null!=i&&null!=o&&o.scrollToRow(i.section,i.row,n,r)},t.jumpToChannel=function(e,n){var r=n[0],a=n[1];return t.scrollToChannel(e,!0,null!=r&&null!=a?D:L)},t.isChannelVisible=function(e,n){var r=B(e,t.props.categories),a=t._list;if(null==a||null==r)return!1;var o=r.row,i=r.section,l=a.getScrollPosition(i,o),u=a.getScrollData();return null!=u&&(!!(n&&l.scrollTop+l.rowHeight<u.scrollTop+u.offsetHeight)||!n&&l.scrollTop>u.scrollTop)},t.handleResize=function(){if(t._list){t._list.forceUpdate();var e=t.isUnreadVisible();t.setState({isUnreadVisible:e})}},t.handleListScroll=function(){var e=t._list;if(null!=e){var n=e.getScrollData();if(null!=n){var r=n.scrollTop;null!=t.props.onScroll&&t.props.onScroll(n),t.updateChannelListScroll(r)}}},t.updateChannelListScroll=o.default.throttle(function(e){i.default.updateChannelListScroll(t.props.guildId,e)},100),t.handleUserClick=function(e,t,n){null!=n&&null!=t&&(0,v.openPopout)(n,{closeOnScroll:!1,position:v.default.Positions.BOTTOM_LEFT,render:function(e){return a.createElement(g.default,P({},e,{userId:t.id}))},shadow:!1})},t.handleUnreadCalculate=function(e,n,r){var a=t.isUnreadVisible();r?t.setState({isUnreadVisible:a,bottomUnread:n,bottomMention:e}):t.setState({isUnreadVisible:a,topUnread:n,topMention:e})},t.getSectionHeight=function(e){var n=t.props,r=n.categories,a=n.channels[C.ChannelTypes.GUILD_CATEGORY][e].channel;return 0===e&&r[a.id].length>0?U:0===e?0:w},t.getFooterHeight=function(e){var n=t.props,r=n.categories,a=n.channels,o=n.voiceStates,i=n.selectedVoiceChannelId,l=a[C.ChannelTypes.GUILD_CATEGORY][e].channel;if(!u.default.isCollapsed(l.id))return 0;var s=r[l.id];return null==s||0===s.length?0:s.some(function(e){var t=e.channel,n=o[t.id];return i!==t.id&&null!=n&&n.length>0})?G:0},t.getRowHeight=function(e,n){var r=null!=n?n:0,a=t.props,o=a.channels,i=a.collapsedChannels,l=a.voiceStates,u=a.categories,s=G,d=o[C.ChannelTypes.GUILD_CATEGORY][e],c=d?u[d.channel.id][r]:u.null[r];if(null==c)return 0;var f=c.channel;if((0,m.isChannelCollapsed)(f))return 0;switch(f.type){case C.ChannelTypes.GUILD_VOICE:var p=l[f.id];if(null!=p&&p.length>0){var h=p.length*k;f&&i[f.id]&&(h=Math.ceil(h/j)),s+=h+F}}return s},t.renderSection=function(e){var n=t.props,r=n.categories,a=n.disableManageChannels,o=r._categories[e];if(-1===o.index)return r.null.length>0?b("div",{style:{height:U}},"spacer"):null;var i=o.channel,l=o.index,u=null==r[i.id]||0===r[i.id].length;return b(E.default,{channel:i,position:l,isEmpty:u,showTutorial:0===o.index&&!a,disableManageChannels:a},i.id)},t.renderRow=function(e,n){var r=t.props,a=r.guild,o=r.selectedChannelId,i=r.selectedVoiceChannelId,l=r.mutedChannels,u=r.channels,s=r.categories,d=r.collapsedChannels,c=r.voiceStates,f=r.disableManageChannels,p=s[u[C.ChannelTypes.GUILD_CATEGORY][e].channel.id][n];if(null==p)return null;var h=p.channel;if((0,m.isChannelCollapsed)(h))return null;var v=p.index;switch(p.channel.type){case C.ChannelTypes.GUILD_NEWS:case C.ChannelTypes.GUILD_TEXT:var _=l.has(h.id);return b(T.default,{channel:h,guild:a,position:v,selected:o===h.id,muted:_,disableManageChannels:f},h.id);case C.ChannelTypes.GUILD_VOICE:var y=H(t.props.categories);return b(O.default,{channel:h,guild:a,position:v,selected:o===h.id,connected:i===h.id,collapsed:d[h.id],voiceStates:c[h.id],disableManageChannels:f,showTutorial:null!=y&&y.channel===h&&y.index===v},h.id);case C.ChannelTypes.GUILD_STORE:return b(S.default,{channel:h,guild:a,position:v,selected:o===h.id},h.id)}},t.renderFooter=function(e){var n=t.props,r=n.channels,a=n.categories,o=n.voiceStates,i=n.selectedVoiceChannelId,l=r[C.ChannelTypes.GUILD_CATEGORY][e].channel;return u.default.isCollapsed(l.id)?b(N.default,{channels:a[l.id],voiceStates:o,selectedChannel:i,onClick:t.handleUserClick},"footer-"+l.id):null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){this.setState({initialized:!0}),_.ComponentDispatch.subscribe(C.ComponentActions.CHANNEL_LIST_RECALCULATE,this.handleResize)},s.componentWillUnmount=function(){this.updateChannelListScroll.cancel(),_.ComponentDispatch.unsubscribe(C.ComponentActions.CHANNEL_LIST_RECALCULATE,this.handleResize)},s.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollToChannel,a=n.guildId,o=n.channels,l=n.selectedChannelId,u=this.state.initialized,s=d.default.getGuildDimensions(a).scrollTop;r?(this.scrollToChannel(r),i.default.clearChannelListScrollTo(a)):a!==e.guildId?(s||0===s)&&this.scrollTo(s):0===e.channels[c.GUILD_SELECTABLE_CHANNELS_KEY].length&&o[c.GUILD_SELECTABLE_CHANNELS_KEY].length>0||l!==e.selectedChannelId?this.scrollToChannel(l):!t.initialized&&u&&this.scrollTo(s)},s.scrollTo=function(e){var t=this._list;null!=t&&t.scrollTo(e)},s.isUnreadVisible=function(){var e=this.props,t=e.mutedChannels,n=e.categories,r=this._list;return null!=r&&r.getItems().some(function(e){var a=e.section,o=e.row;if(null==o)return!1;var i=n._categories[a];if(null==i)return!1;var s=n[i.channel.id][o];if(null==s)return!1;var d=s.channel;if(!(0,l.isGuildTextChannelType)(d.type))return!1;var c=i.channel.id;return!(u.default.isCollapsed(c)&&h.default.isChannelMuted(d.getGuildId(),c)||t.has(d.id)||!r.isItemVisible(a,o))&&p.default.hasUnread(d.id)})},s.renderList=function(){var e=this.props,t=e.categories,n=e.guild,r=e.collapseMuted,o=e.mutedChannels,i=e.selectedChannelId,l=e.children,u=[];return t._categories.forEach(function(e){var a=e.channel,l=t[a.id].length;0===l&&null!=n&&f.default.can(C.Permissions.MANAGE_CHANNELS,a)&&f.default.can(C.Permissions.VIEW_CHANNEL,a)?l=1:!r||t[a.id].some(function(e){var t=e.channel;return t.id===i||!o.has(t.id)})||"null"!==a.id&&f.default.can(C.Permissions.MANAGE_CHANNELS,n)||(l=0),u.push(l)}),a.createElement(y.default,{key:"guild-channels",ref:this.setListRef,theme:y.default.Themes.GHOST_HAIRLINE_CHANNELS,backgroundColor:C.Colors.PRIMARY_DARK_630,className:A.default.scroller,fade:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getFooterHeight,rowHeight:this.getRowHeight,paddingTop:null!=n&&null!=n.banner?78:0,paddingBottom:U,renderSection:this.renderSection,renderFooter:this.renderFooter,renderRow:this.renderRow,onScroll:this.handleListScroll,sections:u,uniform:!1},l)},s.renderTopUnread=function(){var e=this.state,t=e.topMention,n=e.bottomUnread,r=e.bottomMention,a=e.isUnreadVisible,o=this.props.guildId,i=null==t&&(a||null!=n||null!=r);return b("div",{className:A.default.positionedContainer},void 0,b(I.default,{hide:i,className:A.default.unreadTop,barClassName:A.default.unreadBar,guildId:o,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate}))},s.renderBottomUnread=function(){var e=this.props.guildId,t=this.state,n=t.bottomMention,r=t.isUnreadVisible,a=null==n&&r;return b(I.default,{reverse:!0,hide:a,className:A.default.unreadBottom,barClassName:A.default.unreadBar,guildId:e,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate})},s.render=function(){return b(a.Fragment,{},void 0,this.renderTopUnread(),this.renderList(),this.renderBottomUnread())},r}(a.PureComponent);x.displayName="Channels";var V=x;t.default=V},6944:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=C(n(17)),i=C(n(3)),l=n(6016),u=n(303),s=C(n(6005)),d=n(6011),c=C(n(825)),f=C(n(75)),p=C(n(23)),h=C(n(159)),v=C(n(309)),m=C(n(237)),_=C(n(112)),y=C(n(302)),g=C(n(426)),E=C(n(6945)),S=A(n(5914)),T=C(n(5906)),I=n(0),O=C(n(10)),N=C(n(5506));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleCreateChannel=function(){var e=t.props.channel,n=e.type===I.ChannelTypes.GUILD_CATEGORY?null:e.type;s.default.open(n,e.getGuildId(),"null"!==e.id?e.id:null,null)},t.handleCollapseToggle=function(){var e=t.props,n=e.collapsed,r=e.channel;n?(0,l.categoryExpand)(r.id):(0,l.categoryCollapse)(r.id)},t.handleContextMenu=function(e){var n=t.props.channel;if("null"!==n.id){var r=p.default.getGuild(n.getGuildId()),o=v.default.hasCategoryUnread(n.id);(0,u.openContextMenu)(e,function(e){return a.createElement(T.default,R({},e,{type:I.ContextMenuTypes.CHANNEL_CATEGORY,channel:n,guild:r,hasUnread:o}))})}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.renderCreateChannel=function(){var e=this.props,t=e.canManageCategory,n=e.disableManageChannels;return t&&!n?M(g.default,{text:O.default.Messages.CREATE_CHANNEL},void 0,M(_.default,{"aria-label":O.default.Messages.CREATE_CHANNEL,look:_.default.Looks.BLANK,size:_.default.Sizes.NONE,className:(0,o.default)(N.default.addButton,N.default.forceVisible),onClick:this.handleCreateChannel},void 0,M(y.default,{name:y.default.Names.PLUS_ALT,color:I.Colors.WHITE,className:N.default.addButtonIcon}))):null},i.render=function(){var e=this.props,t=e.channel,n=e.muted,r=e.connectChannelDragSource,a=e.connectChannelDropTarget,o=e.position,i=e.sortingPosition,l=e.collapsed,u=e.hideIcon,s=e.showTutorial,d=M("div",{className:null!=i?o>i?N.default.containerDragAfter:N.default.containerDragBefore:N.default.containerDefault},void 0,M(E.default,{className:N.default.iconVisibility,channel:t,muted:n,onClick:this.handleCollapseToggle,onContextMenu:this.handleContextMenu,collapsed:l,hideIcon:u||!1},void 0,this.renderCreateChannel()));return s&&(d=M("div",{},void 0,M(S.default,{tutorialId:"organize-by-topic",position:S.TutorialIndicatorPositions.RIGHT,offsetY:7},void 0,d))),null!=a&&null!=r?a(r(d)):d},r}(a.PureComponent);b.displayName="Category",b.defaultProps={isEmpty:!1};var P=i.default.connectStores([h.default,c.default,m.default,f.default],function(e){var t=e.channel;return{muted:m.default.isChannelMuted(t.getGuildId(),t.id),collapsed:c.default.isCollapsed(t.id),canManageCategory:h.default.can(I.Permissions.MANAGE_CHANNELS,t)}})((0,d.makeChannelSortable)(b));t.default=P},6945:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(231)),l=s(n(302)),u=s(n(5505));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){e.stopPropagation()}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.channel;null!=r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.channel;null!=r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderIcon=function(){return this.props.hideIcon?null:d(l.default,{name:l.default.Names.NOVA_CARET,className:u.default.icon})},a.renderName=function(){var e=this.props.channel.name;return d("div",{className:u.default.name},void 0,e)},a.renderIcons=function(){var e=this.props.children;return d("div",{onClick:c,className:u.default.children},void 0,e)},a.render=function(){var e,t=this.props,n=t.onClick,r=t.onContextMenu,a=t.muted,l=t.collapsed,s=t.className;return d(i.default,{className:(0,o.default)(s,(e={},e[u.default.wrapper]=!0,e[u.default.collapsed]=l,e[u.default.muted]=a,e[u.default.clickable]=null!=n,e)),onClick:null!=n?this.handleClick:null,onContextMenu:null!=r?this.handleContextMenu:null},void 0,this.renderIcon(),this.renderName(),this.renderIcons())},r}(a.Component);f.displayName="ChannelCategoryItem";var p=f;t.default=p},6946:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(17)),i=S(n(3)),l=S(n(430)),u=n(303),s=n(6011),d=S(n(20)),c=S(n(99)),f=S(n(23)),p=S(n(159)),h=S(n(309)),v=S(n(5878)),m=S(n(45)),_=S(n(5906)),y=S(n(6137)),g=n(0),E=S(n(5244));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");m.default.transitionTo(g.Routes.CHANNEL(n,t.id),{state:{analyticsSource:{page:g.AnalyticsPages.GUILD_CHANNEL,section:g.AnalyticsSections.CHANNEL_LIST,object:g.AnalyticsObjects.CHANNEL}}})}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");l.default.preload(n,t.id)}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=f.default.getGuild(r.getGuildId());(0,u.openContextMenu)(e,function(e){return a.createElement(_.default,I({},e,{type:g.ContextMenuTypes.CHANNEL_LIST_STORE,guild:i,channel:r,selected:o}))})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connectChannelDropTarget,i=t.connectChannelDragSource,l=t.connectDragPreview,u=t.canManageCategory,s=T("div",{className:(0,o.default)(this.getClassName(),(e={},e[E.default.disabled]=this.isDisabled(),e))},void 0,T(v.default,{className:E.default.iconVisibility,channel:n,selected:r,onClick:O,onMouseDown:N,onContextMenu:this.handleContextMenu,connectDragPreview:u?l:null},void 0,this.renderInviteButton(),this.renderEditButton()));return u?a(i(s)):s},r}(y.default);C.displayName="StoreChannel";var A=i.default.connectStores([p.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=d.default.getChannel(t.parent_id);return{canManageChannel:p.default.can(g.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?p.default.can(g.Permissions.MANAGE_CHANNELS,r):p.default.can(g.Permissions.MANAGE_CHANNELS,n),permissions:p.default.getChannelPermissions(t.id)}})((0,s.makeChannelSortable)(C));t.default=A},6947:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=T(n(17)),i=T(n(3)),l=T(n(430)),u=n(303),s=n(6011),d=T(n(20)),c=T(n(99)),f=T(n(23)),p=T(n(159)),h=T(n(309)),v=n(5907),m=T(n(5878)),_=T(n(45)),y=T(n(5906)),g=T(n(6137)),E=n(0),S=T(n(5244));function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");_.default.transitionTo(E.Routes.CHANNEL(n,t.id))}function C(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");l.default.preload(n,t.id)}var A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=n.unread,l=n.mentionCount,s=f.default.getGuild(r.getGuildId());(0,u.openContextMenu)(e,function(e){return a.createElement(y.default,O({},e,{type:E.ContextMenuTypes.CHANNEL_LIST_TEXT,guild:s,channel:r,selected:o,hasUnread:i,mentionCount:l}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.renderMentionBadge=function(){var e=this.props.mentionCount;if(null!=e&&e>0)return I("div",{className:S.default.mentionsBadge},void 0,I(v.NumberBadge,{count:e}))},i.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.muted,i=t.unread,l=t.connectChannelDropTarget,u=t.connectChannelDragSource,s=t.connectDragPreview,d=t.canManageCategory,c=I("div",{className:(0,o.default)(this.getClassName(),(e={},e[S.default.disabled]=this.isDisabled(),e[S.default.selected]=r,e))},void 0,I(m.default,{className:S.default.iconVisibility,channel:n,selected:r,muted:a,unread:i,onClick:N,onMouseDown:C,onContextMenu:this.handleContextMenu,connectDragPreview:d?s:null},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderMentionBadge()));return d?l(u(c)):c},r}(g.default);A.displayName="TextChannel";var M=i.default.connectStores([p.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=c.default.getDefaultChannel(n.id),a=d.default.getChannel(t.parent_id);return{canManageChannel:p.default.can(E.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=a?p.default.can(E.Permissions.MANAGE_CHANNELS,a):p.default.can(E.Permissions.MANAGE_CHANNELS,n),permissions:p.default.getChannelPermissions(t.id),unread:h.default.hasUnread(t.id),mentionCount:h.default.getMentionCount(t.id),isDefaultChannel:t===r}})((0,s.makeChannelSortable)(A));t.default=M},6948:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(3)),a=n(129),o=p(n(20)),i=p(n(820)),l=p(n(309)),u=p(n(237)),s=p(n(161)),d=p(n(6529)),c=n(437),f=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=o.default.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!u.default.isChannelMuted(t.getGuildId(),t.id)&&l.default.hasUnread(e))}function v(e){var t=o.default.getChannel(e);if(null==t||null==t.getGuildId())return!1;var n=u.default.isGuildCollapsed(t.getGuildId()),r=u.default.isChannelMuted(t.getGuildId(),t.id);return(!n||!r)&&l.default.getMentionCount(e)>0}var m=r.default.connectStores([i.default,l.default,s.default],function(e){var t=e.guildId,n=i.default.getCategories(t);return{textUnread:f.default.Messages.NEW_UNREADS,textMention:f.default.Messages.NEW_MENTIONS,isUnread:h,isMentioned:v,items:(0,c.getFlattenedChannelList)(n._categories,n,function(e){var t=e.channel;return(0,a.isGuildTextChannelType)(t.type)&&!(0,c.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),animate:s.default.isFocused()}})(d.default);t.default=m},6949:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=R(n(17)),i=R(n(3)),l=n(303),u=R(n(133)),s=n(6011),d=n(6530),c=R(n(6344)),f=R(n(233)),p=R(n(825)),h=R(n(20)),v=R(n(99)),m=R(n(23)),_=R(n(159)),y=R(n(132)),g=R(n(6515)),E=R(n(5878)),S=R(n(6950)),T=n(437),I=R(n(45)),O=R(n(5906)),N=R(n(6137)),C=R(n(6951)),A=n(0),M=R(n(5244));function R(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleVoiceConnect=function(){var e=t.props,n=e.locked,r=e.connected,a=e.channel,o=e.hasStream,i=e.inStream,l=m.default.getGuild(a.getGuildId());n||t.isFull()||null==l||r||u.default.selectVoiceChannel(l.id,a.id),r&&(g.default.isAvailable(a.getGuildId())||o&&i)&&function(e){var t=e.getGuildId();if(null==t)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");I.default.transitionTo(A.Routes.CHANNEL(t,e.id))}(a)},t.handleContextMenu=function(e){var n=t.props.channel,r=m.default.getGuild(n.getGuildId());(0,l.openContextMenu)(e,function(e){return a.createElement(O.default,P({},e,{type:A.ContextMenuTypes.CHANNEL_LIST_VOICE,channel:n,guild:r}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getVoiceStatesCount=function(){var e=this.props.voiceStates;return null!=e?e.length:0},i.isFull=function(){var e=this.props,t=e.channel,n=e.bypassLimit,r=e.hasStream;return!n&&(0,T.isChannelFull)(t,this.getVoiceStatesCount())&&(!r||this.getVoiceStatesCount()>=10)},i.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?M.default.containerUserOver:null!=n?t>n?M.default.containerDragAfter:M.default.containerDragBefore:M.default.containerDefault},i.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.locked,r=e.selected;return t.userLimit>0&&!n&&!r?b("div",{className:M.default.userLimit},void 0,b(S.default,{users:this.getVoiceStatesCount(),total:t.userLimit})):null},i.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.collapsed,a=e.categoryCollapsed;return b(C.default,{channel:t,voiceStates:n,collapsed:r||a})},i.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connected,i=t.locked,l=t.video,u=t.hasStream,s=t.connectChannelDropTarget,d=t.connectChannelDragSource,c=t.connectUserDropTarget,f=t.connectDragPreview,p=t.canManageCategory,h=t.canMoveMembers,v=b("div",{className:(0,o.default)(this.getModeClass(),(e={},e[M.default.disabled]=this.isDisabled(),e))},void 0,b(E.default,{className:M.default.iconVisibility,channel:n,selected:r,connected:a,video:l,stream:u,locked:i,onClick:this.handleVoiceConnect,onContextMenu:this.handleContextMenu,connectDragPreview:f},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderUserLimit()),this.renderVoiceUsers());return h&&(v=c(v)),p&&(v=s(d(v))),v},r}(N.default);L.displayName="VoiceChannel";var D=i.default.connectStores([_.default,p.default,v.default,y.default,f.default],function(e){var t=e.channel,n=e.guild,r=h.default.getChannel(t.parent_id),a=f.default.getActiveStream();return{canManageChannel:n&&_.default.can(A.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?_.default.can(A.Permissions.MANAGE_CHANNELS,r):_.default.can(A.Permissions.MANAGE_CHANNELS,n),canMoveMembers:_.default.can(A.Permissions.MOVE_MEMBERS,t),locked:!_.default.can(A.Permissions.CONNECT,t),bypassLimit:_.default.can(A.Permissions.MOVE_MEMBERS,t),categoryCollapsed:p.default.isCollapsed(t.parent_id),video:y.default.hasVideo(t.guild_id,t.id),hasStream:(0,c.default)(t,f.default,y.default).length>0,inStream:null!=a&&a.channelId===t.id}})((0,s.makeChannelSortable)((0,d.makeVoiceUserDroppable)(L)));t.default=D},6950:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=(r=n(5508))&&r.__esModule?r:{default:r};function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.total,n=e.users;return i("div",{className:o.default.wrapper},void 0,i("span",{className:o.default.users},void 0,n.toString().padStart(2,"0")),i("span",{className:o.default.total},void 0,t.toString().padStart(2,"0")))}},6951:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=m(n(17)),i=m(n(3)),l=n(59),u=m(n(233)),s=m(n(11)),d=m(n(43)),c=m(n(159)),f=m(n(453)),p=_(n(6952)),h=n(0),v=m(n(5513));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=i.default.connectStores([f.default,d.default,s.default,u.default],function(e){var t,n=e.mute,r=e.deaf,a=e.user.id,o=!1,i=!1;s.default.getId()===a?(o=!d.default.isEnabled()||d.default.isSelfMute()||d.default.isSelfMutedTemporarily(),i=d.default.isSelfDeaf()):o=d.default.isLocalMute(a),t=f.default.isPrioritySpeaker(a),d.default.isSupported()||(o=!0);var l=u.default.getStreamForUser(a),c=u.default.getActiveStream();return{mute:n||o,deaf:r||i,speaking:!o&&(f.default.isSpeaking(a)||f.default.isSoundSharing(a)),priority:t,isStreaming:null!=l,isWatching:null!=l&&null!=c&&c.state!==h.ApplicationStreamStates.ENDED&&l.ownerId===c.ownerId}})(p.default),E=50,S=50,T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).showPreview=new l.DelayedCall(E,function(){t.setState({previewUserId:t.previewUserIdAfterDelay}),t.previewUserIdAfterDelay=null}),t.hidePreview=new l.DelayedCall(S,function(){t.setState({previewUserId:null})}),t.previewUserIdAfterDelay=null,t.state={previewUserId:null},t.handleShowPreview=function(e){t.hidePreview.cancel(),t.previewUserIdAfterDelay=e,t.showPreview.delay()},t.handleHidePreview=function(e,n){void 0===n&&(n=!1);var r=t.state.previewUserId;t.showPreview.cancel(),r===e&&(n?t.setState({previewUserId:null}):t.hidePreview.delay())},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVoiceUsers=function(){var e=this,t=this.props,n=t.channel,r=t.voiceStates,a=t.collapsed,o=this.state.previewUserId;return null==r||0===r.length?null:r.map(function(t){var r=t.user,i=t.nick,l=t.voiceState;return y(g,{user:r,nick:i,mute:l.mute||l.selfMute||l.suppress,deaf:l.deaf||l.selfDeaf,channel:n,collapsed:a,canDrag:c.default.can(h.Permissions.MOVE_MEMBERS,n),showPreview:e.handleShowPreview,hidePreview:e.handleHidePreview,shouldShowPreview:o===r.id},r.id)})},a.render=function(){var e,t=this.renderVoiceUsers();if(null==t)return null;var n=this.props,r=n.collapsed,a=n.className;return y(p.List,{className:(0,o.default)(a,v.default.list,(e={},e[v.default.collapsed]=r,e)),collapsed:r},void 0,t)},r}(a.Component);T.displayName="VoiceUsers";var I=T;t.default=I},6952:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.List=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=E(n(133)),l=n(323),u=n(6530),s=E(n(901)),d=E(n(11)),c=E(n(159)),f=E(n(6072)),p=E(n(6651)),h=n(113),v=E(n(5236)),m=E(n(5237)),_=E(n(6953)),y=n(0),g=E(n(5512));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=p.default.List;t.List=O;var N=function(e){var t,n,r,u,E;function O(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))||this).domElementRef=a.createRef(),t.state={userPopoutOpen:!1},t.handleClickUser=function(){t.setState({userPopoutOpen:!t.state.userPopoutOpen})},t.handleCloseUserPopout=function(){t.setState({userPopoutOpen:!1})},t.handleHidePreview=function(){var e=t.props,n=e.hidePreview,r=e.isStreaming,a=e.user;r&&n&&n(a.id,!1)},t.handleMouseEnter=function(){var e=t.props,n=e.user,r=e.showPreview,a=e.isStreaming,o=t.state.userPopoutOpen;a&&(o||h.ComponentDispatch.dispatch(y.ComponentActions.POPOUT_CLOSE),r&&r(n.id))},t.handleWatchStream=function(){var e=t.props,n=e.user,r=e.channel,a=e.isWatching,o=e.hidePreview;if(t.canWatchStream){var u={streamType:"guild",ownerId:n.id,channelId:r.id,guildId:r.guild_id};d.default.getId()!==n.id&&i.default.selectVoiceChannel(r.guild_id,r.id),a?(0,s.default)(u):(0,l.watchStreamAndTransitionToStream)(u),h.ComponentDispatch.dispatch(y.ComponentActions.POPOUT_CLOSE),o&&o(n.id,!0)}},t.handleUserContextMenu=function(e){var n=t.props,r=n.channel,i=n.user;(0,o.openContextMenu)(e,function(e){return a.createElement(v.default,T({},e,{type:y.ContextMenuTypes.USER_CHANNEL_VOICE,user:i,guildId:r.getGuildId(),channelId:r.id}))})},t.renderPopout=function(){var e=t.props,n=e.channel,r=e.user;return S(m.default,{userId:r.id,guildId:n.getGuildId(),channelId:n.id})},t}return n=e,(t=O).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,O.prototype.render=function(){var e=this,t=this.state.userPopoutOpen,n=this.props,r=n.connectUserDragSource,o=n.canDrag,i=(n.isWatching,n.showPreview,n.hidePreview,n.shouldShowPreview),l=n.channel,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["connectUserDragSource","canDrag","isWatching","showPreview","hidePreview","shouldShowPreview","channel"]),s=u.collapsed,d=u.user,c=S("div",{className:g.default.draggable},void 0,S(f.default,{position:s?f.default.Positions.BOTTOM:f.default.Positions.RIGHT,renderPopout:this.renderPopout,shouldShow:t,onRequestClose:this.handleCloseUserPopout},void 0,function(){return S("div",{onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleHidePreview},void 0,S(f.default,{position:f.default.Positions.RIGHT,renderPopout:function(){return S(_.default,{user:d,channel:l,onWatch:e.handleWatchStream,canWatch:e.canWatchStream})},shouldShow:i&&!t,onRequestClose:e.handleHidePreview,spacing:0},void 0,function(){return a.createElement(p.default,T({selected:t,onDoubleClick:e.handleWatchStream,onContextMenu:e.handleUserContextMenu,onClick:e.handleClickUser},u))}))}));return o?r(S("div",{},void 0,c)):c},r=O,(u=[{key:"canWatchStream",get:function(){var e=this.props,t=e.channel;return e.isStreaming&&!__OVERLAY__&&c.default.can(y.Permissions.CONNECT,t)}}])&&I(r.prototype,u),E&&I(r,E),O}(a.Component);N.displayName="VoiceUser";var C=(0,u.makeVoiceUserDraggable)(N);t.default=C},6953:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(17)),i=A(n(3)),l=A(n(6070)),u=n(461),s=A(n(6954)),d=A(n(233)),c=A(n(11)),f=A(n(101)),p=A(n(194)),h=A(n(14)),v=A(n(231)),m=A(n(158)),_=A(n(5988)),y=A(n(427)),g=A(n(809)),E=A(n(18)),S=A(n(6333)),T=A(n(6697)),I=A(n(6955)),O=n(0),N=A(n(10)),C=A(n(5511));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=M(y.default,{}),b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={mounted:!1},t.renderPreviewFallback=function(e){return M(m.default,{className:C.default.fallback,direction:m.default.Direction.VERTICAL,align:m.default.Align.CENTER,justify:m.default.Justify.CENTER},void 0,e?R:M(a.Fragment,{},void 0,M("div",{className:C.default.emptyPreviewImage}),M(g.default,{size:g.default.Sizes.SIZE_14,color:g.default.Colors.CUSTOM,className:C.default.standardColor},void 0,N.default.Messages.STREAM_NO_PREVIEW)))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props,t=e.user,n=e.streamApplication;E.default.track(O.AnalyticEvents.OPEN_POPOUT,{type:"Stream Preview",other_user_id:t.id,application_id:null!=n?n.id:null,application_name:null!=n?n.name:null,game_id:null!=n?n.id:null,is_streaming:!0}),this.setState({mounted:!0})},i.renderPreview=function(e){var t=this.props,n=t.onWatch,r=t.activeStream,a=t.currentUserId,o=t.canWatch;return M(v.default,{onClick:n,className:C.default.previewContainer},void 0,M(I.default,{className:C.default.previewImage,guildId:e.guildId,channelId:e.channelId,userId:e.ownerId,renderFallback:this.renderPreviewFallback}),o?M("div",{className:C.default.previewHover},void 0,M(g.default,{size:g.default.Sizes.SIZE_14,color:g.default.Colors.CUSTOM,className:C.default.white},void 0,(0,s.default)(e,r,a))):null)},i.render=function(){var e,t=this.props,n=t.activity,r=t.user,a=t.stream,i=this.state.mounted;return null==a?null:M("div",{className:(0,o.default)(C.default.streamPreviewWrapper,(e={},e[C.default.mounted]=i,e))},void 0,M("div",{className:C.default.streamPreview},void 0,this.renderPreview(a),M("div",{className:C.default.body},void 0,null!=n?M(S.default,{hideHeader:!0,type:S.default.Types.USER_POPOUT,activity:n,user:r,guildId:a.guildId,channelId:a.channelId}):M(T.default,{type:S.default.Types.USER_POPOUT,applicationStream:a,user:r,guildId:a.guildId,channelId:a.channelId}),M(_.default,{type:_.default.Types.INLINE,className:C.default.protip,textClassName:C.default.standardColor},void 0,__OVERLAY__?N.default.Messages.WATCH_STREAM_IN_APP:N.default.Messages.WATCH_STREAM_TIP))))},r}(a.PureComponent);b.displayName="StreamPreviewPopout";var P=i.default.connectStores([f.default,d.default,c.default,p.default,h.default],function(e){var t=e.user,n=d.default.getStreamForUser(t.id);return{user:t,streamApplication:(0,u.getStreamerApplication)(n,f.default,p.default,h.default),stream:n,activeStream:d.default.getActiveStream(),currentUserId:c.default.getId(),activity:(0,u.getStreamerActivity)(n,f.default,p.default,h.default)}})((0,l.default)(function(e){var t,n=e.channel,r=e.user;return(t={})[n.guild_id]=[r.id],t})(b));t.default=P},6954:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){if(null==t||t.state===o.ApplicationStreamStates.ENDED||(0,a.encodeStreamKey)(t)!==(0,a.encodeStreamKey)(e))return i.default.Messages.WATCH_STREAM;if(t.ownerId===n)return i.default.Messages.WATCH_STREAM_STREAMING;return i.default.Messages.WATCH_STREAM_WATCHING};var r,a=n(138),o=n(0),i=(r=n(10))&&r.__esModule?r:{default:r}},6955:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(3)),l=s(n(6652)),u=s(n(5510));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.url,n=e.className,r=e.isLoading,a=e.renderFallback;return null==t||r?a(r):d("div",{className:(0,o.default)(n,u.default.root)},void 0,d("img",{src:t,alt:"",className:u.default.image}))},r}(a.Component);c.displayName="StreamPreview";var f=i.default.connectStores([l.default],function(e){var t=e.guildId,n=e.channelId,r=e.userId;return{url:l.default.getPreviewURL(t,n,r),isLoading:l.default.getIsPreviewLoading(t,n,r)}})(c);t.default=f},6956:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6957)),o=i(n(5515));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.channels,n=e.voiceStates,r=e.selectedChannel,i=e.onClick,u=[];return t.forEach(function(e){var t=e.channel,a=n[t.id];t.id!==r&&a&&a.forEach(function(e){return u.push(e)})}),0===u.length?null:l("div",{className:o.default.container},void 0,l(a.default,{renderIcon:!0,users:u,max:8,onClick:i}))};u.displayName="VoiceUserSummary";var s=u;t.default=s},6957:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(131)),l=c(n(5849)),u=c(n(302)),s=c(n(855)),d=c(n(5514));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){var n=e instanceof i.default?e:null!=e?e.user:null;return null!=n?n.id:"user-"+t}function h(e){return f("div",{className:d.default.moreUsers},void 0,e)}h.displayName="defaultRenderMoreUsers";var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))||this)._ref=a.createRef(),t.defaultRenderUser=function(e,n){var r=t.props.onClick;if(null==e)return f("div",{className:(0,o.default)(d.default.emptyUser)});var a=e instanceof i.default?e:e.user,u=null!=r?function(e){return r(e,a,t._ref.current)}:null;return f(l.default,{src:a.getAvatarURL("png"),size:l.default.Sizes.ACTIVITY_FEED_24,onClick:u,className:d.default.avatar},a.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,o=void 0===r?this.defaultRenderUser:r,i=e.renderMoreUsers,l=[],u=t.length===n?t.length:n-1,c=0;c<u&&c<t.length;){var h=c===t.length-1,v=o(t[c]||null,h);l.push(h?f("div",{className:d.default.avatarContainer},p(t[c]||null,c),v):f(s.default,{className:d.default.avatarContainer,mask:s.default.Masks.VOICE_USER_SUMMARY_ITEM},p(t[c],c),v)),c++}if(c<t.length){var m=Math.min(t.length-c,99);l.push(f(a.Fragment,{},"more-users",i("+"+m,m)))}return l},c.renderIcon=function(){return this.props.renderIcon?f(u.default,{name:u.default.Names.SPEAKER,foreground:d.default.foreground,className:d.default.icon}):null},c.render=function(){var e=this.props.className;return a.createElement("div",{className:(0,o.default)(e,d.default.container),ref:this._ref},this.renderIcon(),this.renderUsers())},r}(a.PureComponent);v.displayName="UserSummaryItem",v.defaultProps={max:10,renderMoreUsers:h,renderIcon:!1};var m=v;t.default=m},6958:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Y(n(2)),o=V(n(17)),i=V(n(6)),l=n(100),u=V(n(3)),s=V(n(197)),d=V(n(803)),c=n(303),f=V(n(5922)),p=V(n(5876)),h=V(n(73)),v=V(n(6026)),m=V(n(450)),_=V(n(167)),y=V(n(837)),g=V(n(6098)),E=V(n(5901)),S=V(n(438)),T=V(n(309)),I=V(n(87)),O=V(n(50)),N=V(n(14)),C=V(n(6653)),A=V(n(161)),M=V(n(5912)),R=V(n(307)),b=V(n(6529)),P=Y(n(117)),L=V(n(8)),D=V(n(440)),w=V(n(5982)),U=n(6319),G=n(6012),k=V(n(6959)),F=Y(n(6960)),j=n(6961),B=n(0),H=V(n(10)),x=V(n(5524));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=56,$=L.default.isWindows()?4:L.default.isOSX()?0:12,q=z-16,X=48+$+0+10,J={top:8,bottom:8};function Q(e){var t=E.default.getMentionCounts();return null!=t[e]?t[e]>0:e===B.ViewHistoryKeys.SERVER_DISCOVERY_BADGE?!C.default.hasViewed(B.ViewHistoryKeys.SERVER_DISCOVERY_BADGE):T.default.getMentionCount(e)>0}function Z(){return!1}function ee(){h.default.push(D.default,{source:"Guilds"})}function te(){f.default.open(null,"Guild List")}var ne=u.default.connectStores([T.default,E.default,A.default],function(){return{isUnread:Z,textUnread:"",textMention:H.default.Messages.NEW,isMentioned:Q,animate:A.default.isFocused()}})(b.default),re=u.default.connectStores([N.default,O.default,I.default,g.default,M.default,_.default,y.default],function(){var e=y.default.activeItems,t=(0,U.getDispatchApplicationStates)(e),n=P.getCombinedProgress(t),r=n.total,a=n.progress,o=P.calculateProgressPercentage(a,r);return{user:N.default.getCurrentUser(),selectedChannelId:O.default.getChannelId(B.ME),badge:I.default.getPendingCount()+g.default.getSuggestionCount(),link:M.default.getHomeLink(),showProgressBadge:o>0&&o<100}})(j.DefaultHomeButton),ae=u.default.connectStores([S.default],function(){return{selected:S.default.isModalOpen(D.default)}})(G.AppDownloadButton),oe=u.default.connectStores([v.default],function(){return{selected:v.default.isOpen()}})(G.CreateJoinGuildButton),ie=W(j.GuestHomeButton,{}),le=W(F.LurkingGuild,{}),ue=W(G.Separator,{}),se=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).initialized=!1,t.guildRefs={},t.guildDiscoveryRef=a.createRef(),t.handleJumpToGuild=function(e){t.scrollToGuild(e,!0)},t.handleScroll=i.default.debounce(function(){if(null!=t.scroller){var e=t.scroller.getScrollData().scrollTop;p.default.updateGuildListScrollTo(e)}},200),t.isItemVisible=function(e,n,r){var a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).scroller,o=r.indexOf(e);if(o<0||null==a)return!1;var i=z*o+X;n||(i+=q);var l=a.getScrollData();return!!(!n&&i>=l.scrollTop||n&&i+z<=l.scrollTop+l.offsetHeight)},t.setGuildRef=function(e,n){t.guildRefs[e]=n},t.setScrollerRef=function(e){t.scroller=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.shouldComponentUpdate=function(e,t){return!!e.isVisible&&(!(0,s.default)(e,this.props,["channels","privateChannelIds"])||!(0,s.default)(t,this.state))},u.componentDidMount=function(){var e=this.props,t=e.guilds,n=e.isOnGuildDiscoveryRoute,r=this.initialized,a=this.scroller,o=m.default.getGuildListDimensions().scrollTop;!r&&t.length&&null!=a&&(n?this.scrollToGuild(null,!1):a.scrollTo(o,!1),this.initialized=!0)},u.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=t.selectedGuildId,a=this.initialized;!a&&n.length?(this.scrollToGuild(r,!1),this.initialized=!0):a&&r!==e.selectedGuildId&&this.scrollToGuild(r,!1)},u.scrollToGuild=function(e,t){var n=this.scroller;if(null!=n){var r=null==e&&this.props.isOnGuildDiscoveryRoute||e===B.ViewHistoryKeys.SERVER_DISCOVERY_BADGE?this.guildDiscoveryRef.current:this.guildRefs[e],a=(0,l.findDOMNode)(r);null!=r&&null!=a&&a instanceof HTMLElement?n.scrollIntoView(a,t,J):n.scrollTo(0,t)}},u.render=function(){var e,t=this,n=this.props,r=n.guilds,l=n.channels,u=n.privateChannelIds,s=n.unreadGuilds,c=n.mentionCounts,f=n.selectedGuildId,p=n.selectedVoiceGuildId,h=n.selectedVoiceChannelId,v=n.selectedPrivateChannelId,m=n.activeStreamGuildId,_=n.totalUnavailableGuilds,y=n.mode,g=n.disableAppDownload,E=n.isOverlay,S=n.isGuest,I=n.isStreaming,O=n.className,C=n.isOnGuildDiscoveryRoute,A=n.isLurking,M=r.map(function(e){var n=e.guild,r=e.index,a=!1,o=!1;return p===n.id&&(a=y===B.ChannelModes.VOICE,o=y===B.ChannelModes.VIDEO),m===n.id&&(o=!!I||o),W(F.default,{setRef:t.setGuildRef,guild:n,selected:f===n.id,audio:a,video:o,badge:c[n.id]||0,unread:s[n.id]||!1,index:r,draggable:!0},n.id)}),b=[];if(e=c.null?(0,i.default)(u).map(function(e){return[l[e],T.default.getMentionCount(e)]}).filter(function(e){var t=e[0],n=e[1];return null!=t&&n>0}).map(function(e){var t=e[0],n=e[1];return b.push(t.id),W(k.default,{badge:n,channel:t,unread:!0},t.id)}).value():[],!p&&h){b.push(h);var P=l[h];null!=P&&e.unshift(W(k.default,{channel:P,unread:T.default.getMentionCount(P.id)>0,selected:null===f&&v===h,badge:T.default.getMentionCount(P.id),audio:y===B.ChannelModes.VOICE,video:y===B.ChannelModes.VIDEO},P.id))}return r.forEach(function(e){var t=e.guild;return b.push(t.id)}),W("div",{className:(0,o.default)(x.default.wrapper,O)},void 0,W(ne,{items:b,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:x.default.unreadMentionsIndicatorTop,barClassName:x.default.unreadMentionsBar}),a.createElement(R.default,{className:x.default.scroller,outerClassName:x.default.scrollerWrap,ref:this.setScrollerRef,onScroll:this.handleScroll,theme:R.default.Themes.GHOST_HAIRLINE},S?ie:W(re,{selected:null==f&&!C,showDMsOnly:E}),W(d.default,{component:a.Fragment},void 0,e),le,ue,M,S||E?null:W(oe,{disableTooltip:A,onContextMenu:this.handleContextMenu,isOwnerOfAny:i.default.some(this.props.guilds,function(e){return e.guild.isOwner(N.default.getCurrentUser())}),onClick:te},M.length+e.length),E?null:a.createElement(G.GuildDiscovery,{ref:this.guildDiscoveryRef,selected:C}),W(G.UnavailableGuildsButton,{unavailableGuilds:_}),W(ae,{disable:S||g,onClick:ee})),W(ne,{reverse:!0,items:b,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:x.default.unreadMentionsIndicatorBottom,barClassName:x.default.unreadMentionsBar}))},u.getRowHeight=function(){return z},u.getContainerHeight=function(){return null!=this.scroller?this.scroller.getScrollData().offsetHeight:0},u.handleContextMenu=function(e){(0,c.openContextMenu)(e,function(e){return a.createElement(w.default,K({},e,{type:B.ContextMenuTypes.GUILD_ICON_NEW}))})},r}(a.Component);se.displayName="Guilds",se.defaultProps={isOverlay:!1,disableAppDownload:L.default.embedded,isVisible:!0,isOnGuildDiscoveryRoute:!1};var de=se;t.default=de},6959:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(5927),i=v(n(14)),l=v(n(161)),u=v(n(6013)),s=n(5907),d=v(n(6014)),c=v(n(6138)),f=n(6012),p=n(0),h=v(n(5521));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y={friction:28,tension:600};function g(e){switch(e){case"height":case"opacity":return _({duration:150},y);case"scale":return _({},y);default:throw new Error("DirectMessage: getSpringConfigs() - Invalid spring "+e)}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1,animating:!0,controller:new o.Controller({scale:0,height:0,opacity:0,config:g})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.componentWillEnter=function(e){var t=this,n=this.state.controller;e(),n.update({immediate:!l.default.isFocused(),height:1,opacity:1,scale:1,config:g}).start(function(){return t.setState({animating:!1})})},v.componentWillAppear=function(e){var t=this;this.state.controller.update({immediate:!0,scale:1,opacity:1,height:1,config:g}).start(function(){return t.setState({animating:!1})}),e()},v.componentWillLeave=function(e){var t=this.state.controller;this.setState({animating:!0},function(){return t.update({immediate:!l.default.isFocused(),height:0,opacity:0,scale:0,config:g}).start(e)})},v.componentWillUnmount=function(){this.state.controller.destroy()},v.getAnimatedStyle=function(){var e=this.state.controller.animated,t=e.opacity,n=e.height,r=e.scale;return{opacity:t,height:n.interpolate([0,1],[0,56]),transform:r.interpolate([0,1],[.5,1]).interpolate(function(e){return"scale("+e+")"})}},v.getChannelIcon=function(){var e=this.props.channel,t=e.type===p.ChannelTypes.DM?i.default.getUser(e.getRecipientId()):null;return null!=t?t.getAvatarURL("jpg"):e.getIconURL()},v.render=function(){var e=this,t=this.props,n=t.channel,r=t.selected,i=t.badge,l=t.audio,v=t.video,_=t.unread,y=this.state,g=y.hovered,E=y.animating;return m(o.animated.div,{style:this.getAnimatedStyle()},void 0,(0,f.renderListItem)(m(a.Fragment,{},void 0,m(u.default,{hovered:!E&&g,selected:!E&&r,unread:!E&&_,className:h.default.pill}),m(f.ListItemTooltip,{text:n.toString()},void 0,m(d.default,{className:h.default.blob,selected:r||g,lowerBadge:i>0?(0,f.renderMentionBadge)(i):null,upperBadge:l||v?(0,f.renderIconBadge)(l,v):null,lowerBadgeWidth:(0,s.getBadgeWidthForValue)(i)},void 0,m(c.default,{to:p.Routes.CHANNEL(p.ME,n.id),onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},icon:this.getChannelIcon(),selected:r||g}))))))},r}(a.PureComponent);E.displayName="DirectMessage",E.defaultProps={selected:!1,badge:0,audio:!1,video:!1,unread:!1};var S=E;t.default=S},6960:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LurkingGuild=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(856),i=A(n(3)),l=A(n(197)),u=A(n(430)),s=n(303),d=A(n(801)),c=A(n(442)),f=A(n(5982)),p=A(n(816)),h=A(n(23)),v=A(n(318)),m=A(n(50)),_=A(n(441)),y=A(n(161)),g=A(n(6013)),E=n(5907),S=A(n(6014)),T=A(n(6138)),I=n(81),O=n(6012),N=n(0),C=A(n(5522));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.handleMouseDown=function(){var e=t.props,n=e.guild,r=e.selectedChannelId;null!=r&&u.default.preload(n.id,r)},t.handleContextMenu=function(e){var n=t.props,r=n.guild,o=n.badge,i=n.selected,l=n.selectedChannelId,u=N.Routes.CHANNEL(r.id,l);(0,s.openContextMenu)(e,function(e){return a.createElement(f.default,R({},e,{type:N.ContextMenuTypes.GUILD_ICON_BAR,guild:r,badge:o,link:u,selected:i}))})},t.setRef=function(e){var n=t.props,r=n.setRef,a=n.guild;null!=r&&r(a.id,e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.sorting,r=t.hovered;return n&&r?{hovered:!1}:null},r.prototype.render=function(){var e,t=this,n=this.props,r=n.selectedChannelId,o=n.guild,i=n.selected,l=n.unread,u=n.setRef,s=n.draggable,d=n.dragging,c=n.badge,f=n.connectDropTarget,p=n.connectDragSource,h=n.sorting,v=n.audio,m=n.video,_=n.animatable,y=this.state.hovered;if(d)e=M("div",{className:C.default.blobContainer},void 0,M(S.default,{selected:!0},void 0,a.createElement("div",{className:C.default.dragPlaceholder,ref:this.setRef})));else{var I=N.Routes.CHANNEL(o.id,r);e=M("div",{className:C.default.blobContainer},void 0,M(S.default,{selected:i||y,upperBadge:v||m?(0,O.renderIconBadge)(v,m):null,lowerBadge:c>0?(0,O.renderMentionBadge)(c):null,lowerBadgeWidth:(0,E.getBadgeWidthForValue)(c)},void 0,M(T.default,{to:{pathname:I,state:{analyticsSource:{page:N.AnalyticsPages.GUILD_CHANNEL,section:N.AnalyticsSections.CHANNEL_LIST,object:N.AnalyticsObjects.CHANNEL}}},name:o.toString(),onMouseEnter:h?void 0:function(){return t.setState({hovered:!0})},onMouseLeave:h?void 0:function(){return t.setState({hovered:!1})},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,icon:o.getIconURL(y&&_?"gif":"jpg"),selected:i||y}))),s&&(e=p(e))}var A=(0,O.renderListItem)(M(a.Fragment,{},void 0,M(g.default,{hovered:!d&&y,selected:!d&&i,unread:!d&&l,className:C.default.pill}),M(O.ListItemTooltip,{text:o.toString(),disabled:h},void 0,e)),null!=u?this.setRef:null);return s&&!d?f(A):A},r}(a.PureComponent);b.displayName="Guild",b.defaultProps={selected:!1,unread:!1,audio:!1,video:!1,badge:0,draggable:!0,sorting:!1};var P,L=(P=i.default.connectStores([m.default,y.default],function(e){var t=e.guild;return{selectedChannelId:m.default.getChannelId(t.id),animatable:y.default.isFocused()&&(0,I.hasAnimatedGuildIcon)(t)}},{forwardRef:!0})(b),(0,o.DropTarget)("GUILD",{hover:function(e,t){var n=t.getItem().index,r=e.index;n!==r&&(d.default.move(n,r),t.getItem().index=r)}},function(e,t){return{connectDropTarget:e.dropTarget(),sorting:null!=t.getItem()}},{arePropsEqual:l.default})((0,o.DragSource)("GUILD",{beginDrag:function(e){return{guild:e.guild,index:e.index}},endDrag:function(){c.default.updateRemoteSettings({guildPositions:_.default.guildPositions})}},function(e,t){return{connectDragSource:e.dragSource(),dragging:t.isDragging()}},{arePropsEqual:l.default})(P))),D=i.default.connectStores([h.default,v.default,p.default],function(){var e=v.default.lurkingGuildId();return{lurkingGuild:null!=e?h.default.getGuild(e):null,selectedGuildId:p.default.getGuildId()}},{forwardRef:!0})(function(e){var t=e.lurkingGuild,n=e.selectedGuildId;return null!=t?M(L,{guild:t,selected:n===t.id,draggable:!1}):null});t.LurkingGuild=D;var w=L;t.default=w},6961:function(e,t,n){"use strict";t.__esModule=!0,t.DefaultHomeButton=t.GuestHomeButton=void 0;var r,a=E(n(2)),o=g(n(17)),i=n(5970),l=g(n(231)),u=g(n(302)),s=g(n(6013)),d=n(5907),c=g(n(6014)),f=g(n(6138)),p=E(n(5914)),h=g(n(6319)),v=n(6012),m=n(0),_=g(n(10)),y=g(n(5523));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return T(t,e),t.prototype.render=function(){var e,t=this,n=this.state.hovered;return(0,v.renderListItem)(S(a.Fragment,{},void 0,S(s.default,{hovered:n,className:y.default.pill}),S(v.ListItemTooltip,{text:_.default.Messages.HOME},void 0,S(c.default,{className:y.default.blob,selected:n},void 0,S(l.default,{className:(0,o.default)((e={},e[y.default.button]=!0,e[y.default.selected]=n,e)),onClick:function(){return(0,i.open)(m.AnalyticsLocations.HOME_BUTTON)},onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},"aria-label":_.default.Messages.HOME},void 0,S(u.default,{name:u.default.Names.NOVA_DISCORD,className:y.default.homeIcon}))))))},t}(a.PureComponent);function O(){return S(h.default,{className:y.default.downloadProgress,determineOwnVisibility:!1})}t.GuestHomeButton=I,I.displayName="GuestHomeButton",O.displayName="renderInstallProgress";var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return T(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.selected,i=n.user,l=n.link,h=n.badge,g=n.showDMsOnly,E=void 0!==g&&g,T=n.showProgressBadge,I=this.state.hovered;return null==i?null:S(p.default,{tutorialId:"friends-list",position:p.TutorialIndicatorPositions.RIGHT,offsetX:-8},void 0,(0,v.renderListItem)(S(a.Fragment,{},void 0,S(s.default,{selected:r,hovered:I,className:y.default.pill}),S(v.ListItemTooltip,{text:E?_.default.Messages.DIRECT_MESSAGES:_.default.Messages.HOME},void 0,S(c.default,{className:y.default.blob,selected:r||I,lowerBadge:h>0?(0,v.renderMentionBadge)(h):null,upperBadge:!r&&T?O():null,lowerBadgeWidth:(0,d.getBadgeWidthForValue)(h)},void 0,S(f.default,{onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},selected:r||I,className:(0,o.default)((e={},e[y.default.button]=!0,e[y.default.selected]=I||r,e)),ariaLabel:E?_.default.Messages.DIRECT_MESSAGES:_.default.Messages.HOME,to:{pathname:l,state:{analyticsSource:{page:m.AnalyticsPages.GUILD_CHANNEL,section:m.AnalyticsSections.NAVIGATION,object:m.AnalyticsObjects.BUTTON_HOME}}}},void 0,S(u.default,{name:u.default.Names.NOVA_DISCORD,className:y.default.homeIcon})))))))},t}(a.PureComponent);t.DefaultHomeButton=N,N.displayName="DefaultHomeButton",N.defaultProps={selected:!1,unread:!1}},6965:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=C(n(17)),l=C(n(6)),u=C(n(304)),s=C(n(3)),d=C(n(803)),c=C(n(5950)),f=n(5993),p=n(6656),h=n(6967),v=C(n(5886)),m=C(n(6096)),_=C(n(307)),y=n(113),g=n(451),E=C(n(6968)),S=C(n(5981)),T=n(0),I=C(n(10)),O=C(n(5527)),N=C(n(5242));function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R=((r={})[T.Arrows.UP]=l.default.throttle(function(){return(0,g.playSound)("ddr-up")},100),r[T.Arrows.DOWN]=l.default.throttle(function(){return(0,g.playSound)("ddr-down")},100),r[T.Arrows.LEFT]=l.default.throttle(function(){return(0,g.playSound)("ddr-left")},100),r[T.Arrows.RIGHT]=l.default.throttle(function(){return(0,g.playSound)("ddr-right")},100),r),b=1e3/60,P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new u.default.Value(1),scaleX:new u.default.Value(1),scaleY:new u.default.Value(0),animating:!1},t.scrollPageUp=function(){var e=t.refs.scroller;e&&e.scrollPageUp(!0,!0)},t.scrollPageDown=function(){var e=t.refs.scroller;e&&e.scrollPageDown(!0,!0)},t.arrowUp=function(e){var n,r=e.direction;t.setState(((n={})[r]=!1,n))},t.arrowDown=function(e){var n,r=e.direction;R[r](),t.setState(((n={})[r]=!0,n))},t.componentWillLeave=function(e){t.setState({animating:!0}),t.state.opacity.setValue(1),t.state.scaleX.setValue(.5),t.state.scaleY.setValue(1),u.default.sequence([u.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),u.default.timing(t.state.opacity,{toValue:1,duration:2*b}),u.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),u.default.timing(t.state.opacity,{toValue:1,duration:2*b}),u.default.timing(t.state.opacity,{delay:300,toValue:.7,duration:2*b}),u.default.timing(t.state.opacity,{toValue:1,duration:2*b}),u.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),u.default.timing(t.state.opacity,{toValue:1,duration:2*b}),u.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),u.default.timing(t.state.opacity,{toValue:1,duration:2*b}),u.default.timing(t.state.opacity,{toValue:.7,duration:2*b}),u.default.timing(t.state.opacity,{toValue:1,duration:2*b}),u.default.timing(t.state.scaleY,{delay:100,toValue:.005,duration:8*b,easing:u.default.Easing.in(u.default.Easing.ease)}),u.default.parallel([u.default.timing(t.state.scaleX,{toValue:1,duration:10*b,easing:u.default.Easing.out(u.default.Easing.ease)}),u.default.timing(t.state.opacity,{toValue:0,duration:12*b})])]).start(e)},t.toggleOpacity=function(){1===t.state.opacity._value?t.state.opacity.setValue(0):t.state.opacity.setValue(1)},t.getStyles=function(){return{opacity:t.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:t.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:t.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}},t.generateContent=function(){return t.props.content.map(function(e){var t;return A("div",{className:(0,i.default)(O.default.keybindGroup,(t={},t[O.default.groupEnd]=e.groupEnd,t))},e.description,A("div",{className:O.default.keybindDescription},void 0,e.description),A("div",{className:"keybind-shortcuts"},void 0,e.binds.map(function(e){return A(S.default,{shortcut:e},e)})))})},t}M(t,e);var n=t.prototype;return n.componentDidMount=function(){y.ComponentDispatch.subscribe(T.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),y.ComponentDispatch.subscribe(T.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),y.ComponentDispatch.subscribe(T.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),y.ComponentDispatch.subscribe(T.ComponentActions.DDR_ARROW_UP,this.arrowUp)},n.componentWillUnmount=function(){y.ComponentDispatch.unsubscribe(T.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),y.ComponentDispatch.unsubscribe(T.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),y.ComponentDispatch.unsubscribe(T.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),y.ComponentDispatch.unsubscribe(T.ComponentActions.DDR_ARROW_UP,this.arrowUp)},n.render=function(){var e,t,n,r,a=this.state,l=a.UP,s=a.DOWN,d=a.LEFT,c=a.RIGHT,f=this.generateContent();return A(u.default.div,{className:O.default.keyboardShortcutsModal,style:this.getStyles()},void 0,A("h1",{className:O.default.modalTitle},void 0,A("div",{className:O.default.content},void 0,I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE),A(S.default,{shortcut:"mod+/",className:(0,i.default)(N.default.dim,N.default.keyboardShortcuts)})),A("div",{className:O.default.modalSubtitle},void 0,I.default.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE),A("div",{className:O.default.ddrArrows},void 0,A("div",{className:(0,i.default)(O.default.arrow,O.default.left,(e={},e[O.default.active]=d,e))},void 0,"left"),A("div",{className:(0,i.default)(O.default.arrow,O.default.down,(t={},t[O.default.active]=s,t))},void 0,"down"),A("div",{className:(0,i.default)(O.default.arrow,O.default.up,(n={},n[O.default.active]=l,n))},void 0,"up"),A("div",{className:(0,i.default)(O.default.arrow,O.default.right,(r={},r[O.default.active]=c,r))},void 0,"right")),o.createElement(_.default,{ref:"scroller",fade:!0,outerClassName:O.default.scrollerWrap},A("div",{className:O.default.keyboardShortcutList},void 0,f)))},t}(o.PureComponent);P.displayName="HotkeyLayout";var L=A(E.default,{},"raging-demo"),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={content:__OVERLAY__?(0,p.getOverlayLayoutContent)():(0,f.getDefaultLayoutContent)()},t}M(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.ragingDemon&&this.props.ragingDemon&&v.default.disable()},n.componentDidMount=function(){v.default.enableTemp(h.SHORTCUT_MODAL_LAYOUT)},n.componentWillUnmount=function(){v.default.disableTemp()},n.close=function(){c.default.hide()},n.render=function(){var e;return e=this.props.ragingDemon?L:A(P,{content:this.state.content},"modal"),A(d.default,{component:"div"},void 0,e)},t}(o.PureComponent);D.displayName="KeyboardShortcuts";var w=s.default.connectStores([m.default],function(){return m.default.getState()},{forwardRef:!0})(D);w.modalConfig={store:m.default};var U=w;t.default=U},6966:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(5933),a={binds:["mod+k","mod+t"],global:!0,action:function(){return(0,r.show)("KEYBIND",""),!1}};t.QUICKSWITCHER_SHOW=a},6967:function(e,t,n){"use strict";t.__esModule=!0,t.SHORTCUT_MODAL_LAYOUT=void 0;var r,a,o=(r=n(5950))&&r.__esModule?r:{default:r},i=n(113),l=n(0);function u(e){return i.ComponentDispatch.dispatch(l.ComponentActions.DDR_ARROW_DOWN,{direction:e}),!1}function s(e){return i.ComponentDispatch.dispatch(l.ComponentActions.DDR_ARROW_UP,{direction:e}),!1}var d=((a={})[l.Arrows.UP]={binds:["up"],keydown:u.bind(null,l.Arrows.UP),keyup:s.bind(null,l.Arrows.UP)},a[l.Arrows.DOWN]={binds:["down"],keydown:u.bind(null,l.Arrows.DOWN),keyup:s.bind(null,l.Arrows.DOWN)},a[l.Arrows.LEFT]={binds:["left"],keydown:u.bind(null,l.Arrows.LEFT),keyup:s.bind(null,l.Arrows.LEFT)},a[l.Arrows.RIGHT]={binds:["right"],keydown:u.bind(null,l.Arrows.RIGHT),keyup:s.bind(null,l.Arrows.RIGHT)},a.RAGING_DEMON={binds:["h h right n k"],action:function(){o.default.activateRagingDemon()}},a);t.SHORTCUT_MODAL_LAYOUT=d},6968:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(6)),l=c(n(5950)),u=n(113),s=n(0),d=c(n(5526));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(){return!0},v=function(){return!0},m=function(){return p("div",{className:d.default.symbol},"symbol",p("div",{className:d.default.symbolBackground}),p("img",{alt:"",src:n(6969)}))};m.displayName="Symbol";var _=140,y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._renderSecondaryTimeout=null,t._doneTimeout=null,t.state={animating:!1,renderSecondary:!1,scale:i.default.random(.6,1,!0),offsetX:i.default.random(0,_,!1)-_/2,offsetY:i.default.random(0,_,!1)-_/2},t.done=function(){t.props.onAnimationComplete(t.props.componentId)},t}f(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;this.setState({animating:!0}),this._renderSecondaryTimeout=setTimeout(function(){e.setState({renderSecondary:!0})},120),this._doneTimeout=setTimeout(this.done,1e3),h()},r.componentDidUpdate=function(e,t){this.state.renderSecondary&&!t.renderSecondary&&v()},r.componentWillUnmount=function(){clearTimeout(this._renderSecondaryTimeout),clearTimeout(this._doneTimeout)},r.renderPrimary=function(){return p("div",{className:d.default.primaryExplosion},"primary-explosion",p("img",{alt:"",className:d.default.circleInner,src:n(6970),width:70,height:69}),p("img",{alt:"",className:d.default.circleOuter,src:n(6971),width:96,height:95}),p("img",{alt:"",className:d.default.linesSecondary,src:n(6972),width:183,height:104}),p("img",{alt:"",className:d.default.linesMain,src:n(6973),width:69,height:180}))},r.renderSecondary=function(e,t){return p("div",{className:d.default.secondaryExplosion,style:{top:t,left:e}},"secondary-explosion",p("img",{alt:"",className:d.default.circleInner,src:n(6974),width:61,height:58},"circle-inner"),p("img",{alt:"",className:d.default.circleOuter,src:n(6975),width:85,height:85},"circle-outer"),p("img",{alt:"",className:d.default.linesSecondary,src:n(6976),width:162,height:173},"lines-secondary"),p("img",{alt:"",className:d.default.linesMain,src:n(6977),width:156,height:306},"lines-main"))},r.render=function(){var e,t=this.state,n=t.renderSecondary,r=t.offsetX,a=t.offsetY,i=t.animating,l=t.scale,u=[this.renderPrimary()];return n&&u.push(this.renderSecondary(r,a)),p("div",{className:(0,o.default)(d.default.container,(e={},e[d.default.animate]=i,e)),style:{top:this.props.top,left:this.props.left,transform:"scale("+l+")"}},void 0,u)},t}(a.PureComponent);y.displayName="Explosion";var g=8,E=240,S=p(m,{},"symbol"),T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._timeouts=[],t.children=[],t.state={explosions:0},t.setTimeout=function(e,n){var r=setTimeout(e,n);return t._timeouts.push(r),r},t.removeExplosion=function(e){var n=t.children,r=n.find(function(t){return null!=t.props.componentId&&t.props.componentId===e}),a=n.indexOf(r);a>=0&&n.splice(a,1),t.forceUpdate()},t.createExplosion=function(){var e=t.children,n=window.innerWidth/2>>0,r=window.innerHeight/2>>0;if(t.state.explosions<g){var a="expl-"+t.state.explosions;e.push(p(y,{componentId:a,top:i.default.random(r-100,r+100,!1),left:i.default.random(n-200,n+200,!1),onAnimationComplete:t.removeExplosion},a)),t.setTimeout(t.createExplosion,E),t.setState({explosions:t.state.explosions+1})}else t.setTimeout(t.addSymbol,750)},t.addSymbol=function(){t.children=[S],t.forceUpdate(),t.setTimeout(t.delayedClose,3e3)},t}f(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setTimeout(function(){return u.ComponentDispatch.dispatch(s.ComponentActions.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)},n.componentWillUnmount=function(){this.children.length=0;var e=this._timeouts,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}clearTimeout(r)}},n.delayedClose=function(){l.default.hide()},n.render=function(){return p("div",{className:d.default.ragingDemon},void 0,this.children)},t}(a.PureComponent);T.displayName="RagingDemon";var I=T;t.default=I},6969:function(e,t,n){e.exports=n.p+"bb7f752540c7f4c7039c6dd6b5dd052e.svg"},6970:function(e,t,n){e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},6971:function(e,t,n){e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},6972:function(e,t,n){e.exports=n.p+"8d32a8a24b95bbb21533636279d44c4c.png"},6973:function(e,t,n){e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},6974:function(e,t,n){e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},6975:function(e,t,n){e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},6976:function(e,t,n){e.exports=n.p+"264c4f75df7b5cfca2445a01ac303e4c.png"},6977:function(e,t,n){e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},6978:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(3)),i=E(n(134)),l=S(n(836)),u=E(n(35)),s=E(n(5974)),d=E(n(88)),c=E(n(5941)),f=E(n(189)),p=E(n(112)),h=E(n(5862)),v=E(n(188)),m=n(320),_=E(n(45)),y=n(0),g=E(n(5528));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,l,"next",e)}function l(e){I(o,r,a,i,l,"throw",e)}i(void 0)})}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null,accepted:!1},t.handleAccept=O(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.giftCode,a=n.channelContext,null!=r){e.next=3;break}throw new Error("GiftCode is null at acceptance.");case 3:return e.prev=3,e.next=6,l.redeemGiftCode(r.code,a);case 6:t.setState({accepted:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.setState({error:e.t0});case 12:case"end":return e.stop()}},e,null,[[3,9]])})),t.handleGoToPremiumApplications=function(){_.default.transitionTo(y.Routes.APPLICATION_STORE,{state:{analyticsSource:{}}}),t.props.onClose()},t.handleGoToLibrary=function(){var e=t.props,n=e.onClose,r=e.libraryApplication;_.default.transitionTo(y.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=r?r.id:null}}),n()},t}C(t,e);var n,r,a,o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.application,n=e.sku;null==t&&null!=n&&i.default.fetchApplication(n.applicationId)},o.render=function(){var e=this.props,t=e.application,n=e.accepting,r=e.onClose,a=e.giftCode;return T(v.default,{size:v.default.Sizes.SMALL,className:g.default.modal},void 0,T("div",{className:g.default.backSplash}),T(v.default.Content,{className:g.default.content},void 0,T(v.default.CloseButton,{onClick:r,className:g.default.closeButton}),T(h.default,{size:h.default.Sizes.LARGE,game:t,skuId:a.skuId}),T("h3",{className:g.default.header},void 0,this.headerText),T("p",{className:g.default.body},void 0,this.bodyText),T(p.default,{submitting:n,onClick:this.handleClick},void 0,this.buttonText)))},n=t,(r=[{key:"step",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=e.giftCode,a=this.state,o=a.error,i=a.accepted;return(0,m.getStep)(t,r,o,i,n)}},{key:"buttonText",get:function(){return(0,m.getButtonText)(this.step,this.props.giftCode)}},{key:"headerText",get:function(){return null!=this.props.sku?(0,m.getHeaderText)(this.step,this.props.giftCode,this.props.sku):null}},{key:"bodyText",get:function(){var e=this.props,t=e.sku,n=e.accepting,r=e.libraryApplication,a=e.subscriptionPlan,o=this.state,i=o.error,l=o.accepted;return null!=t?(0,m.getBodyText)(this.step,t,r,i,l,n,this.handleGoToLibrary,a):null}},{key:"errorMessage",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=this.state,a=r.error,o=r.accepted;return(0,m.getErrorMessage)(t,a,o,n,this.handleGoToLibrary)}},{key:"handleClick",get:function(){var e=this.props,t=e.giftCode,n=e.onClose;switch(this.step){case y.GiftCodeModalStates.ERROR:return n;case y.GiftCodeModalStates.SUCCESS:return __OVERLAY__?n:null!=t.subscriptionPlanId?t.premiumSubscriptionType===y.PremiumTypes.TIER_2?this.handleGoToPremiumApplications:n:this.handleGoToLibrary;case y.GiftCodeModalStates.CONFIRM:default:return this.handleAccept}}}])&&N(n.prototype,r),a&&N(n,a),t}(a.Component);A.displayName="GiftCodeAccept";var M=o.default.connectStores([d.default,f.default,u.default,s.default,c.default],function(e){var t=e.giftCode,n=f.default.get(t.skuId),r=null!=n?u.default.getGame(n.applicationId):null;return{sku:n,libraryApplication:null!=n?(0,m.firstLibraryApplicationForGiftCode)(t,n,d.default):null,application:r,subscriptionPlan:null!=t.subscriptionPlanId?c.default.get(t.subscriptionPlanId):null,accepting:s.default.getIsAccepting(t.code)}})(A),R=function(e){function t(){return e.apply(this,arguments)||this}C(t,e);var n=t.prototype;return n.handleClose=function(){l.closeGiftCodeAcceptModal()},n.render=function(){return T(M,{channelContext:this.props.channelContext,giftCode:this.props.giftCode,onClose:this.handleClose})},t}(a.PureComponent);R.displayName="GiftCodeAcceptModal",R.modalConfig={store:s.default};var b=R;t.default=b},6979:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(3)),i=p(n(922)),l=f(n(14)),u=f(n(6980)),s=f(n(190)),d=f(n(6057)),c=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePurchasePremium=function(){i.closeModal(!0)},t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.onClose;return h(d.default,{},void 0,h(d.default.Header,{onClose:n},void 0,c.default.Messages.PREMIUM_REQUIRED),h(d.default.Content,{type:d.default.Types.UPGRADE},void 0,t.premiumType&&!s.default.canInstallPremiumApplications(t)?c.default.Messages.PREMIUM_UPGRADE_REQUIRED_BODY:c.default.Messages.PREMIUM_SUBSCRIPTION_REQUIRED_BODY),h(d.default.Footer,{primary:{onClick:this.handlePurchasePremium,label:c.default.Messages.PREMIUM_REQUIRED_GET_NITRO}}))},t}(a.Component);m.displayName="PremiumRequiredModalUnconnected";var _=o.default.connectStores([l.default],function(){return{user:l.default.getCurrentUser()}})(m),y=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var n=t.prototype;return n.close=function(){i.closeModal(!1)},n.render=function(){return h(_,{onClose:this.close,context:this.props.appContext})},t}(a.Component);t.default=y,y.displayName="PremiumRequiredModal",y.modalConfig={closable:!0,store:u.default}},6980:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l,u,s=null,d=null;function c(e){null!=l&&e?l():null!=u&&u(),l=null,u=null}function f(){d=o.FormStates.CLOSED,s=null}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return s===e&&d===o.FormStates.OPEN},r}(r.default.Store))(a.default,{PREMIUM_REQUIRED_MODAL_OPEN:function(e){c(!1),d=o.FormStates.OPEN,s=e.context,l=e.resolve,u=e.reject},PREMIUM_REQUIRED_MODAL_CLOSE:function(e){c(e.shouldContinue),f()},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==s)return!1;f(),c(!1)}});t.default=p},6981:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(3)),i=n(905),l=n(315),u=g(n(35)),s=g(n(6982)),d=g(n(189)),c=g(n(158)),f=g(n(188)),p=g(n(18)),h=g(n(6015)),v=g(n(6531)),m=n(0),_=g(n(5238)),y=g(n(5266));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var T=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.application,n=e.skuId,r=e.sku,a=e.onClose;null==r?(0,l.fetchSKU)(t.id,n).catch(function(e){return a(e.message)}):this.track(r)},n.componentDidUpdate=function(e){var t=this.props.sku;t!==e.sku&&null!=t&&this.track(t)},n.track=function(e){var t=this.props.analyticsSource;p.default.track(m.AnalyticEvents.OPEN_MODAL,{type:"Application Entitlement Confirmation",source:t,application_id:e.applicationId,sku_id:e.id})},n.render=function(){var e=this.props,t=e.sku,n=e.application,r=e.onClose,a=e.isIAP;return E(f.default,{size:f.default.Sizes.SMALL,className:_.default.modal},void 0,E(h.default,{application:n,splashSize:880}),E(f.default.Content,{className:_.default.content},void 0,E(c.default,{direction:c.default.Direction.VERTICAL,className:y.default.confirmContent},void 0,E(f.default.CloseButton,{onClick:function(){return r()},className:y.default.confirmCloseButton}),null!=t?E(v.default,{application:n,sku:t,isIAP:a,onClose:function(){return r()}}):null)))},t}(a.Component);T.displayName="PurchaseConfirmationModal";var I=o.default.connectStores([u.default,d.default],function(e){var t=e.applicationId,n=e.skuId;return{application:u.default.getGame(t),sku:d.default.get(n)}})(T),O=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.close=function(e){(0,i.closePurchaseConfirmationModal)(e)},n.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.analyticsSource,a=e.isIAP;return E(I,{skuId:t,applicationId:n,isIAP:a,analyticsSource:r,onClose:this.close})},t}(a.Component);O.displayName="PurchaseConfirmationModalWrapper",O.modalConfig={closable:!0,store:s.default};var N=O;t.default=N},6982:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l,u,s=null,d=null,c=null,f=null,p=!1,h=null;function v(e){null!=l&&null!=f?l(f):null!=u&&u(e),l=null,u=null}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return h===e&&p},a.getProps=function(){return{applicationId:s,skuId:d,analyticsSource:c,isIAP:h===o.AppContext.OVERLAY}},r}(r.default.Store))(a.default,{PURCHASE_CONFIRMATION_MODAL_OPEN:function(e){v(),p=!0,s=e.applicationId,d=e.skuId,c=e.analyticsSource,h=e.context,f=e.entitlements,l=e.resolve,u=e.reject},PURCHASE_CONFIRMATION_MODAL_CLOSE:function(e){var t=e.error;p=!1,h=null,v(t)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==h)return!1;p=!1,h=null,v()}});t.default=m},6983:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=H(n(2)),o=B(n(163)),i=B(n(135)),l=B(n(3)),u=B(n(1)),s=n(5948),d=H(n(315)),c=H(n(892)),f=(n(429),B(n(35))),p=B(n(14)),h=B(n(827)),v=B(n(6076)),m=B(n(189)),_=B(n(200)),y=B(n(5976)),g=B(n(158)),E=B(n(5879)),S=B(n(5862)),T=B(n(302)),I=B(n(188)),O=B(n(427)),N=n(796),C=B(n(18)),A=B(n(8)),M=n(5892),R=n(815),b=n(5903),P=n(130),L=B(n(6142)),D=B(n(5984)),w=B(n(6015)),U=B(n(6143)),G=B(n(6531)),k=n(0),F=B(n(10)),j=B(n(5266));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var z=(0,o.default)({UNSUPPORTED_OS:null,TEST_MODE:null,GIFT_ONLY:null,PREORDER:null}),$=880,q=x(O.default,{}),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={paymentSourceId:null,skuPrice:v.default.getPrice(t.props.skuId)},t._loadId=i.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=a.createRef(),t.handlePaymentSourceChange=function(e){var n=t.props,r=n.applicationId,a=n.skuId;null!=e?(d.fetchPurchasePreview(r,a,e.id),t.setState({paymentSourceId:e.id})):(d.fetchPurchasePreview(r,a,null),t.setState({paymentSourceId:null}))},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.applicationId,o=r.sku,i=t.getPrice(),l=null!=i?i.amount:0,null!=o){e.next=5;break}throw new Error("SKU is null during purchase");case 5:if(!v.default.isPurchasingSKU){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,C.default.track(k.AnalyticEvents.PAYMENT_FLOW_COMPLETED,V({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime})),e.next=11,d.purchaseSKU(a,o.id,{expectedAmount:l,paymentSourceId:n.id,analyticsLoadId:t._loadId,isGift:t.isGift});case 11:(0,s.acceptPurchaseTerms)(),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(7),C.default.track(k.AnalyticEvents.PAYMENT_FLOW_FAILED,V({},t.getBaseAnalyticsData(),{payment_gateway:n.type===k.PaymentSourceTypes.CARD?k.PaymentGateways.STRIPE:k.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime,payment_error_code:e.t0.code})),e.t0;case 18:case"end":return e.stop()}},e,null,[[7,14]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Y(o,r,a,i,l,"next",e)}function l(e){Y(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleClose=function(e){void 0===e&&(e=null),(0,t.props.onClose)(e)},t.handleStepChange=function(e,n){var r=Date.now();C.default.track(k.AnalyticEvents.PAYMENT_FLOW_STEP,V({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:r-t._stepStartTime,flow_duration_ms:r-t._flowStartTime})),t._stepStartTime=r,n===M.Steps.CONFIRM&&d.showPurchaseConfirmationStep()},t.renderHeader=function(e,n,r){var a=t.props.application;switch(e){case M.Steps.CONFIRM:return x(w.default,{application:a,splashSize:$});default:return t.renderDefaultHeader(e,n,r)}},t.renderConfirmation=function(){var e=t.props,n=e.application,r=e.sku,a=e.isIAP,o=e.giftCode;if(null==r)throw new Error("No SKU for confirmation step!");return x("div",{className:j.default.confirmContent},void 0,x(g.default,{direction:g.default.Direction.VERTICAL},void 0,x(I.default.CloseButton,{onClick:function(){return t.handleClose()},className:j.default.confirmCloseButton}),null!=o?x(U.default,{giftCode:o,application:n,sku:r,onClose:function(){return t.handleClose()}}):x(G.default,{application:n,sku:r,isIAP:a,onClose:function(){return t.handleClose()}})))},t}W(t,e);var n,r,o,l=t.prototype;return l.componentDidMount=function(){var e=this,t=this.props,n=t.sku,r=t.skuId,a=t.applicationId;null==n?d.fetchSKU(a,r).catch(function(t){return e.handleClose(t.message)}):C.default.track(k.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},l.componentDidUpdate=function(e,t){null==e.sku&&null!=this.props.sku&&C.default.track(k.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData()),this.checkPriceChange(t.skuPrice,this.state.skuPrice)},l.checkPriceChange=function(e,t){var n=this.props,r=n.sku,a=n.onClose;null!=e&&null!=t&&e.discount_percent_off!==t.discount_percent_off&&u.default.wait(function(){if(null==r)throw new Error("Unexpected null SKU");a(k.PaymentModalPriceChangedError)})},t.getDerivedStateFromProps=function(e,t){var n=v.default.getPrice(e.skuId,t.paymentSourceId);return t.skuPrice!==n?{skuPrice:n}:null},l.getPrice=function(){var e=this.props,t=e.sku,n=e.isFetchingSKU;if(null==t||n)return null;var r=this.state,a=r.skuPrice,o=r.paymentSourceId;if(null!=a)return{amount:a.amount,tax:a.tax,taxInclusive:a.tax_inclusive,currency:a.currency};if(null==o){var i=t.getPrice();if(null==i)throw new Error("Sku Price cannot be null");return{amount:i.amount,tax:0,currency:i.currency,taxInclusive:!1}}return null},l.getBaseAnalyticsData=function(){var e=this.props,t=e.sku,n=e.analyticsLocation,r=e.appContext,a=e.promotionId;if(null==t)return{};var o=this.getPrice();return V({},t.getAnalyticsData(),{load_id:this._loadId,payment_type:"sku",is_gift:this.isGift,client_event_source:r===k.AppContext.OVERLAY?k.AppContext.OVERLAY:null,location:n,price:null!=o?o.amount:null,currency:null!=o?o.currency:null,location_promotion_id:a})},l.getHeaderText=function(e,t){if(e)return F.default.Messages.APPLICATION_STORE_PURCHASE_IAP;switch(t){case k.SKUTypes.GAME:return F.default.Messages.APPLICATION_STORE_PURCHASE_APPLICATION;case k.SKUTypes.DLC:return F.default.Messages.APPLICATION_STORE_PURCHASE_DLC;case k.SKUTypes.CONSUMABLE:return F.default.Messages.APPLICATION_STORE_PURCHASE_CONSUMABLE;case k.SKUTypes.BUNDLE:return F.default.Messages.APPLICATION_STORE_PURCHASE_BUNDLE}},l.renderPurchaseWarning=function(){var e=this.props,t=e.sku,n=e.isInTestMode,r=e.isIAP,o=e.isUserEntitledToSku;if(null==t)return null;var i=(0,P.nativePlatformTypeToSKUOperatingSystem)(A.default.getPlatform()),l=[];if(!(null!=i&&t.supportedOperatingSystems.includes(i)||r)){if(1!==t.supportedOperatingSystems.length)throw new Error("Unexpected number of supported operating systems");l.push(x(D.default,{icon:T.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.WARNING,className:j.default.errorBlock},z.UNSUPPORTED_OS,F.default.Messages.APPLICATION_STORE_PURCHASE_GAME_UNSUPPORTED_OS.format({operatingSystem:(0,P.skuOperatingSystemToText)(t.supportedOperatingSystems[0])})))}return n&&l.push(x(D.default,{icon:T.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.WARNING,className:j.default.errorBlock},z.TEST_MODE,F.default.Messages.APPLICATION_STORE_PURCHASE_TEST_MODE)),!0===o&&this.isGiftable&&l.push(x(D.default,{icon:T.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.PRIMARY,className:j.default.errorBlock},z.GIFT_ONLY,F.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY)),t.isPreorder()&&l.push(x(D.default,{icon:T.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.PRIMARY,className:j.default.errorBlock},z.PREORDER,F.default.Messages.APPLICATION_STORE_PURCHASE_WARNING_PREORDER.format({date:(0,b.getReadablePreorderReleaseDate)(t)}))),x(a.Fragment,{},void 0,l)},l.renderGenericError=function(e,t){return null==e&&null==t?null:x(E.default,{className:j.default.errorBlock},void 0,null!=e?e.message:null!=t?t.message:null)},l.renderDefaultHeader=function(e,t,n){var r=this,a=this.props,o=a.isIAP,i=a.application,l=a.sku,u=a.purchaseError;if(null==l)return null;var s=this.getPrice();return x(I.default.Header,{direction:g.default.Direction.VERTICAL,align:g.default.Align.START,separator:!1},void 0,x(w.default,{application:i,splashSize:$}),x(g.default,{align:g.default.Align.CENTER,className:j.default.headerHeader},void 0,x(N.FormTitle,{tag:N.FormTitleTags.H4},void 0,this.getHeaderText(o,l.type)),x(I.default.CloseButton,{onClick:function(){return r.handleClose()}})),x(g.default,{align:g.default.Align.CENTER,className:j.default.headerContent},void 0,x(g.default,{align:g.default.Align.CENTER},void 0,x(S.default,{game:i}),x("div",{className:j.default.applicationName},void 0,l.name)),x("div",{className:j.default.price},void 0,null!=s?(0,R.formatPrice)(s.amount,s.currency):x(O.default,{type:O.default.Type.PULSING_ELLIPSIS,className:j.default.priceSpinner}))),this.renderPurchaseWarning(),this.renderGenericError(u,n),t.length>1?x(y.default,{activeId:e,breadcrumbs:t,className:j.default.breadcrumbs}):null)},l.render=function(){var e=this,t=this.props,n=t.sku,r=t.isFetchingSKU,o=t.isPurchasing,i=t.purchaseError,l=t.isUserEntitledToSku,u=t.forceConfirmationStepOnMount;return null==n||r?q:a.createElement(L.default,{ref:this._paymentModalRef,canSubmit:null!=this.state.skuPrice,needsToBeGift:n.type===k.SKUTypes.GAME&&!0===l,isGiftable:this.isGiftable,isPurchasing:o,purchaseError:i,price:this.getPrice(),size:j.default.modalSize,onPurchase:this.handlePurchase,onIsGiftUpdate:c.updateSKUPaymentIsGift,onPaymentSourceChange:this.handlePaymentSourceChange,onClose:function(){return e.handleClose()},onClearError:d.clearPurchaseError,renderHeader:this.renderHeader,renderConfirmationBody:this.renderConfirmation,submitButtonText:this.isGift?F.default.Messages.APPLICATION_STORE_BUY_GIFT:F.default.Messages.APPLICATION_STORE_BUY,initialStep:u?M.Steps.CONFIRM:null,onStepChange:this.handleStepChange,isGift:this.isGift})},n=t,(r=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"isGiftable",get:function(){var e=this.props.sku;return null!=e&&e.isGiftable(this.getPrice())}},{key:"isGift",get:function(){return this.props.isGift&&this.isGiftable}}])&&K(n.prototype,r),o&&K(n,o),t}(a.PureComponent);X.displayName="SKUPayment";var J=l.default.connectStores([f.default,m.default,v.default,_.default,h.default,p.default],function(e){var t=e.applicationId,n=e.skuId,r=e.location;return{application:f.default.getGame(t),sku:m.default.get(n),location:r,skuId:n,applicationId:t,isFetchingSKU:m.default.isFetching(n),isPurchasing:v.default.isPurchasingSKU,purchaseError:v.default.error,analyticsLocation:v.default.analyticsLocation,promotionId:v.default.promotionId,isIAP:v.default.isIAP,giftCode:v.default.giftCode,isGift:v.default.isGift,forceConfirmationStepOnMount:v.default.forceConfirmationStepOnMount,isInTestMode:_.default.inTestModeForApplication(t),isUserEntitledToSku:h.default.isEntitledToSku(p.default.getNullableCurrentUser(),n,t)}})(X),Q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._skuPaymentModalRef=a.createRef(),t}W(t,e);var n=t.prototype;return n.close=function(){null!=this._skuPaymentModalRef.current&&this._skuPaymentModalRef.current.closable&&this.handleClose()},n.handleClose=function(e){void 0===e&&(e=null),c.closeSKUPaymentModal(e)},n.render=function(){return a.createElement(J,V({},this.props,{ref:this._skuPaymentModalRef,onClose:this.handleClose}))},t}(a.PureComponent);Q.displayName="SKUPaymentModal",Q.modalConfig={closable:!0,store:v.default};var Z=Q;t.default=Z},6984:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=F(n(2)),o=k(n(163)),i=k(n(4)),l=k(n(3)),u=k(n(1)),s=F(n(808)),d=F(n(826)),c=F(n(893)),f=F(n(315)),p=k(n(6144)),h=k(n(6985)),v=k(n(42)),m=k(n(5943)),_=k(n(189)),y=k(n(112)),g=k(n(158)),E=k(n(5879)),S=k(n(188)),T=n(6145),I=k(n(6146)),O=n(796),N=k(n(18)),C=k(n(190)),A=n(815),M=k(n(45)),R=n(313),b=k(n(5977)),P=k(n(6147)),L=k(n(6148)),D=n(0),w=k(n(10)),U=k(n(852)),G=k(n(5530));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,l,"next",e)}function l(e){B(o,r,a,i,l,"throw",e)}i(void 0)})}}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var V=(0,R.cssValueToNumber)(U.default.innerPadding),Y=(0,o.default)({CONFIRM:null,DONE:null}),K=[Y.CONFIRM,Y.DONE];var W=function(e){function t(t){var n;(n=e.call(this,t)||this).close=function(){var e=n.props.onClose;e&&e()},n.confirm=H(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.subscription,null!=(a=t.selectedPlan)){e.next=3;break}return e.abrupt("return");case 3:return n.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.BOOST_START}),e.prev=4,e.next=7,d.upgrade(r,a);case 7:n.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.BOOST_END,step:Y.DONE}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.ERROR});case 13:case"end":return e.stop()}},e,null,[[4,10]])})),n.navigateToPremiumGames=function(){M.default.transitionTo(D.Routes.APPLICATION_STORE_BROWSE),s.popLayer(),n.close()},n.handleAnimationScenePlayTier1=function(e){return n.setState({animationSceneTier1:T.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},n.handleAnimationScenePlayTier2=function(e){return n.setState({animationSceneTier2:T.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},n.renderAnimation=function(){var e=n.props.selectedPlan;return C.default.getPremiumType(e)===D.PremiumTypes.TIER_1?j(T.PremiumPaymentAnimationTier1,{className:G.default.headerAnimation,scene:n.state.animationSceneTier1,onScenePlay:n.handleAnimationScenePlayTier1}):j(T.PremiumPaymentAnimationTier2,{className:G.default.headerAnimation,scene:n.state.animationSceneTier2,onScenePlay:n.handleAnimationScenePlayTier2})};var r=function(e,t){if(null==e.plan)return C.default.getPrice(t).amount;var n=C.default.calculateSubscriptionPeriod(e.plan,e.currentPeriodStart),r=n[0],a=n[1],o=(0,i.default)(a).diff(r,"seconds"),l=Math.max((0,i.default)(e.currentPeriodEnd).diff((0,i.default)(),"seconds"),0),u=null!=e.plan?C.default.getPrice(e.plan).amount:0;return C.default.getPrice(t).amount-l/o*u}(t.subscription,t.selectedPlan);return n.state={amount:r,playingAnimationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:T.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:T.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,step:Y.CONFIRM},n}x(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.selectedPlan,n=e.followupSKUInfo,r=e.followupSKU,a=this.state.amount;if(null!=n&&null==r){var o=n.applicationId,i=n.id;f.fetchSKU(o,i).catch(D.NOOP_NULL)}N.default.track(D.AnalyticEvents.PREMIUM_UPGRADE_STARTED,{plan:t,price_shown:Math.round(a)})},n.componentWillUnmount=function(){u.default.wait(function(){return d.clearError()})},n.shouldShake=function(){var e=this.state,t=e.playingAnimationSceneTier1,n=e.playingAnimationSceneTier2;return T.ShakeScenes.has(t)||T.ShakeScenes.has(n)},n.renderError=function(){var e=this.props.paymentError;return null==e?null:j(E.default,{className:G.default.error},void 0,e.message)},n.renderConfirmBody=function(){var e,t=this.props,n=t.subscription,r=t.selectedPlan,o=t.isForGuildSubscription,i=this.state.amount,l=n.plan,u=C.default.getDisplayName(r);if(null==r||null==l||null==i)return null;var s=C.default.getInterval(r),d=(0,A.formatPrice)(i,D.CurrencyCodes.USD);if(function(e,t){var n=e!==D.SubscriptionPlans.PREMIUM_MONTH_TIER_2&&e!==D.SubscriptionPlans.PREMIUM_YEAR_TIER_2,r=t===D.SubscriptionPlans.PREMIUM_MONTH_TIER_2||t===D.SubscriptionPlans.PREMIUM_YEAR_TIER_2;return n&&r}(l,r)){var c=C.default.getInterval(l);e=s===D.SubscriptionIntervalTypes.YEAR?c===D.SubscriptionIntervalTypes.MONTH?o?w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_YEAR_GUILD_SUBSCRIBE.format({planPremiumType:C.default.getDisplayPremiumType(l),price:d}):w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_YEAR.format({planPremiumType:C.default.getDisplayPremiumType(l),price:d}):o?w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_YEAR_TIER_2_YEAR_GUILD_SUBSCRIBE.format({planPremiumType:C.default.getDisplayPremiumType(l),price:d}):w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_YEAR_TIER_2_YEAR.format({planPremiumType:C.default.getDisplayPremiumType(l),price:d}):o?w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_MONTH_GUILD_SUBSCRIBE.format({planPremiumType:C.default.getDisplayPremiumType(l),price:d}):w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_MONTH.format({planPremiumType:C.default.getDisplayPremiumType(l),price:d})}else e=w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_YEAR.format({price:d});return j(a.Fragment,{},void 0,j(O.FormTitle,{tag:O.FormTitleTags.H4,className:G.default.title},void 0,w.default.Messages.PREMIUM_UPGRADE_CONFIRM_TITLE.format({plan:u})),this.renderError(),j("div",{className:G.default.message},void 0,e))},n.render=function(){var e=this.props,t=e.selectedPlan,n=e.theme,r=e.followupSKU,a=e.busy,o=e.isForGuildSubscription,i=this.state.step,l=this.shouldShake(),u=C.default.getPremiumType(t);return j(I.default,{isShaking:l,intensity:2},void 0,j(S.default,{className:G.default.modal},void 0,j(S.default.Header,{className:G.default.header,direction:g.default.Direction.VERTICAL,align:g.default.Align.START,separator:!1},void 0,j(L.default,{shouldShowPrice:!1,plan:t,isGift:!1,renderAnimation:this.renderAnimation,onClose:this.close})),j(S.default.Content,{},void 0,j(b.default,{step:i,steps:K,sideMargin:V},void 0,i===Y.CONFIRM?this.renderConfirmBody():j(P.default,{onClose:this.close,onViewGames:this.navigateToPremiumGames,premiumType:u,isUpgrade:!0,followupSKU:r,theme:n,isForGuildSubscription:o}))),i===Y.CONFIRM?j(S.default.Footer,{},void 0,j(g.default,{justify:g.default.Justify.END},void 0,j(y.default,{onClick:this.close,look:y.default.Looks.LINK,color:G.default.secondaryButton},void 0,w.default.Messages.NEVERMIND),j(y.default,{onClick:this.confirm,color:y.default.Colors.BRAND,disabled:a},void 0,w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BUTTON))):null))},t}(a.Component);W.displayName="UpgradeConfirm",W.defaultProps={isForGuildSubscription:!1};var z=l.default.connectStores([p.default,v.default,m.default,_.default,h.default],function(){var e=h.default.followupSKUInfo;return{theme:v.default.theme,paymentError:p.default.paymentError,busy:m.default.isBusy,followupSKUInfo:e,followupSKU:null!=e?_.default.get(e.id):null,subscription:h.default.currentSubscription,paymentSource:h.default.paymentSource,selectedPlan:h.default.selectedPlan,isForGuildSubscription:h.default.isForGuildSubscription}})(W),$=function(e){function t(){return e.apply(this,arguments)||this}x(t,e);var n=t.prototype;return n.close=function(){c.closeModal()},n.render=function(){return j(z,{onClose:this.close})},t}(a.Component);t.default=$,$.displayName="UpgradeConfirmModal",$.modalConfig={store:h.default}},6985:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,s,d=null,c=o.FormStates.CLOSED,f=null,p=!1,h=null,v=null,m=null,_=!1;function y(){null!=u&&p?u():null!=s&&s(),u=null,s=null}function g(){d=null,v=null,p=!1,c=o.FormStates.CLOSED}var E=new(function(e){var t,n,r,a,i;function u(){return e.apply(this,arguments)||this}return n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,u.prototype.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return d===e&&c===o.FormStates.OPEN},r=u,(a=[{key:"paymentSource",get:function(){return h}},{key:"selectedPlan",get:function(){return m}},{key:"currentSubscription",get:function(){return f}},{key:"followupSKUInfo",get:function(){return v}},{key:"isForGuildSubscription",get:function(){return _}}])&&l(r.prototype,a),i&&l(r,i),u}(r.default.Store))(a.default,{PREMIUM_UPGRADE_MODAL_OPEN:function(e){null!=s&&s(),g(),d=e.context,m=e.selectedPlan,f=e.currentSubscription,h=e.paymentSource,v=e.followupSKUInfo,u=e.resolve,s=e.reject,c=o.FormStates.OPEN,_=e.isForGuildSubscription},PREMIUM_UPGRADE_MODAL_CLOSE:function(e){return y(),void g()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){var t=e.subscription;null!=f&&t.plan_id!==f.planId&&(p=!0)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==d)return!1;g(),y()}});t.default=E},6986:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(17)),i=n(492),l=g(n(6987)),u=E(n(5849)),s=g(n(112)),d=g(n(302)),c=g(n(188)),f=g(n(98)),p=g(n(5893)),h=g(n(444)),v=n(0),m=g(n(10)),_=g(n(5235)),y=g(n(5531));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=44,O=function(e){var t=e.channel,n=e.categoryName,r=e.guildName,a=d.default.Names.CHANNEL_TEXT;return t.isRoleRequired?a=d.default.Names.CHANNEL_TEXT_LIMITED:t.isNSFW&&(a=d.default.Names.CHANNEL_TEXT_NSFW),T("div",{className:y.default.result},void 0,T(d.default,{name:a,className:y.default.resultIcon,background:y.default.resultIconBackground,width:16,height:16}),T("div",{className:y.default.resultText},void 0,T("span",{},void 0,t.name),T("span",{className:y.default.resultCategoryName},void 0,n)),T("div",{className:y.default.resultGuildName},void 0,r))};O.displayName="ResultTextChannel";var N=function(e){var t=e.channel;return T("div",{className:y.default.result},void 0,T(u.default,{src:t.getIconURL(),className:y.default.resultAvatar,size:u.AvatarSizes.SMALL}),T("div",{className:y.default.resultText},void 0,t.toString()))};N.displayName="ResultGroupDM";var C=function(e){var t,n=e.user,r=e.comparator,a=e.status;if(null!=r&&r===n.tag){var o=r.split("#");o.pop(),t=o.join("#")}else t=r||n.username;return T("div",{className:y.default.result},void 0,T(u.default,{src:n.avatarURL,className:y.default.resultAvatar,size:u.AvatarSizes.SMALL,status:a}),T("div",{className:y.default.resultText},void 0,T("span",{},void 0,t),T("span",{className:y.default.resultUsername},void 0,n.tag)))};C.displayName="ResultUser";var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props;(0,e.onInvite)(e.row)},t.handleMouseEnter=function(){var e=t.props;(0,e.onMouseEnter)(e.row)},t}return S(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.result,i=r.selected,l=r.sending;switch(a.type){case v.AutocompleterResultTypes.GROUP_DM:t=T(N,{channel:a.data.record});break;case v.AutocompleterResultTypes.TEXT_CHANNEL:var u=a.categoryName,d=a.guildName;t=T(O,{channel:a.data.record,categoryName:u,guildName:d});break;case v.AutocompleterResultTypes.USER:var c=a.data,f=c.comparator,p=c.record,h=a.status;t=T(C,{comparator:f,user:p,status:h})}return n=a.sent?T(s.default,{className:y.default.inviteButton,look:s.default.Looks.LINK,size:s.default.Sizes.SMALL,disabled:!0,color:s.default.Colors.GREY},void 0,m.default.Messages.ACTIVITY_INVITE_MODAL_SENT):T(s.default,{color:s.default.Colors.GREEN,look:i?s.default.Looks.FILLED:s.default.Looks.OUTLINED,className:y.default.inviteButton,size:s.default.Sizes.SMALL,submitting:l,onClick:this.handleClick},void 0,m.default.Messages.ACTIVITY_INVITE_MODAL_INVITE),T("div",{className:(0,o.default)(y.default.resultWrapper,(e={},e[y.default.resultWrapperSelected]=i,e)),onMouseEnter:this.handleMouseEnter},void 0,t,n)},t}(a.Component);A.displayName="Result";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={query:"",selectedRow:0,sending:[]},t.close=function(){var e=t.props.onClose;(0,i.closeModal)(),null!=e&&e()},t.handleMouseEnter=function(e){t.setState({selectedRow:e})},t.handleInvite=function(e){var n=t.props.results[e],r=n.data,a=n.data.record.id,o=t.state.sending;if(null!=a&&!o.includes(a))switch(t.setState({sending:[].concat(o,[a])}),r.type){case v.AutocompleterResultTypes.GROUP_DM:case v.AutocompleterResultTypes.TEXT_CHANNEL:(0,i.inviteChannel)(r.record.id);break;case v.AutocompleterResultTypes.USER:(0,i.inviteUser)(r.record.id)}},t.handleSelect=function(e,n){null==n?t.handleClear():t.handleInvite(n)},t.handleSelectionChange=function(e,n){t.setState({selectedRow:n});var r=t.getScroller();null!=r&&r.scrollIntoViewRect(n*I,n*I+I)},t.handleQueryChange=function(e){t.setState({query:e,selectedRow:0},function(){return t.query()})},t.handleClear=function(){t.setState({query:"",selectedRow:0},function(){return t.query()})},t._handleModalRef=function(e){t._modal=e},t}S(t,e);var n=t.prototype;return n.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},n.query=function(){(0,i.updateQuery)(this.state.query)},n.render=function(){var e=this,t=this.props,n=t.activity,r=t.isPrivate,o=t.results,i=t.headerClassName,l=t.renderFooter,u=this.state,s=u.query,d=u.selectedRow,v=u.sending;return r?T(h.default,{title:m.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name}),body:m.default.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:m.default.Messages.OKAY,onConfirm:this.close}):a.createElement(c.default,{className:y.default.wrapper,ref:this._handleModalRef},T(c.default.Header,{className:i},void 0,T(c.default.CloseButton,{className:y.default.closeButton,onClick:this.close}),T("div",{className:y.default.header},void 0,T(f.default,{tag:f.default.Tags.H2,className:_.default.marginBottom8},void 0,m.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name})),T(p.default,{size:p.default.Sizes.MEDIUM,query:s,selectedSection:0,selectedRow:d,sections:[o.length],className:_.default.marginTop4,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,placeholder:m.default.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===o.length?T("div",{className:y.default.noResults}):T(c.default.LazyContent,{className:y.default.results,elementHeight:I,paddingBottom:14,keyboardScroll:!0},void 0,o.map(function(t,n){return T(A,{row:n,result:t,sending:null!=t.data.record.id&&v.includes(t.data.record.id),selected:n===d,onMouseEnter:e.handleMouseEnter,onInvite:e.handleInvite},t.data.record.id)})),l&&l())},t}(a.PureComponent);t.default=M,M.displayName="ActivityInviteModal",M.modalConfig={closable:!0,store:l.default}},6987:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(3)),o=v(n(1)),i=v(n(848)),l=v(n(5994)),u=v(n(20)),s=v(n(23)),d=v(n(203)),c=v(n(101)),f=v(n(14)),p=v(n(436)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m,_,y=h.AppContext.APP,g=null,E=[];function S(){r=null,_=!1,null!=m&&(m.destroy(),m=null),null!=g&&g()}function T(){var e=null!=r&&null!=r.application_id?d.default.getApplicationActivity(r.application_id):null;if(null!=r&&(null==e||null==e.party||null==e.party.id))return S()}var I=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(d.default)},o.isOpen=function(){if(null==r)return!1;var e=__OVERLAY__?h.AppContext.OVERLAY:h.AppContext.APP;return y===e},o.getProps=function(){if(null==r)throw new Error("Invalid activity.");return{activity:r,isPrivate:_,query:null!=m?m.query:"",results:null!=m?m.results.map(function(e){switch(e.type){case h.AutocompleterResultTypes.USER:var t=e.record;return{type:h.AutocompleterResultTypes.USER,sent:E.includes(t.id),status:c.default.getStatus(t.id),data:e};case h.AutocompleterResultTypes.TEXT_CHANNEL:var n=e.record,r=u.default.getChannel(n.parent_id),a=s.default.getGuild(n.guild_id);return{type:h.AutocompleterResultTypes.TEXT_CHANNEL,sent:E.includes(n.id),categoryName:null!=r?r.toString():"",guildName:null!=a?a.toString():"",data:e};case h.AutocompleterResultTypes.GROUP_DM:var o=e.record;return{type:h.AutocompleterResultTypes.GROUP_DM,sent:E.includes(o.id),data:e};default:throw new Error("Unknown Result Type: "+e.type)}}):[]}},a}(a.default.Store))(o.default,{ACTIVITY_INVITE_MODAL_OPEN:function(e){r=e.activity,y=e.context,g=e.resolve,_=e.isPrivate,E=[],null==m&&(m=new l.default(function(){return I.emitChange()},[h.AutocompleterResultTypes.TEXT_CHANNEL,h.AutocompleterResultTypes.GROUP_DM,h.AutocompleterResultTypes.USER],function(e){var t=[];return p.default.getPrivateChannelIds().forEach(function(n){var r=u.default.getChannel(n);if(null!=r)if(r.type===h.ChannelTypes.DM){var a=r.getRecipientId(),o=null!=a?f.default.getUser(a):null;null!=o&&t.push(e.createResult(h.AutocompleterResultTypes.USER,o))}else r.type===h.ChannelTypes.GROUP_DM&&t.push(e.createResult(h.AutocompleterResultTypes.GROUP_DM,r))}),t})),m.search("")},ACTIVITY_INVITE_MODAL_QUERY:function(e){var t=e.query;null!=m&&m.search(t)},ACTIVITY_INVITE_MODAL_SEND:function(e){null!=r&&(e.channelId?i.default.sendActivityInvite({channelId:e.channelId,type:h.ActivityActionTypes.JOIN,activity:r,location:"Channel Text Area - Invite to Join Modal"}).then(function(){E=[].concat(E,[e.channelId]),I.emitChange()}):e.userId&&i.default.sendActivityInviteUser({userId:e.userId,type:h.ActivityActionTypes.JOIN,activity:r,location:"Channel Text Area - Invite to Join Modal"}).then(function(){E=[].concat(E,[e.userId]),I.emitChange()}))},ACTIVITY_INVITE_MODAL_CLOSE:function(e){return S()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==r||(S(),0))},LOCAL_ACTIVITY_UPDATE:function(e){return T()},RPC_APP_DISCONNECTED:function(e){return T()}}),O=I;t.default=O},6989:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(6546)),i=_(n(11)),l=_(n(6990)),u=_(n(112)),s=_(n(431)),d=_(n(188)),c=_(n(128)),f=_(n(799)),p=_(n(432)),h=_(n(98)),v=_(n(10)),m=_(n(5532));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).setRef=function(e){n._input=e},n.renderWarning=function(){var e=n.props.user;return null==e||e.id===i.default.getId()?null:y(s.default,{type:s.default.Types.WARNING,className:m.default.card},void 0,y(c.default,{color:c.default.Colors.WHITE,size:c.default.Sizes.MEDIUM},void 0,v.default.Messages.CHANGE_NICKNAME_WARNING))},n.renderInput=function(){var e,t=n.props,r=t.user,a=t.errors,o=n.state.nick;return a.nick&&(e=y(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:m.default.error},void 0,a.nick)),y(p.default,{title:v.default.Messages.NICKNAME,className:m.default.input},void 0,y(f.default,{inputRef:n.setRef,value:o,placeholder:null!=r?""+r.toString():"",onChange:n.handleNickChange,autoFocus:!0}),e)},n.renderReset=function(){return y(u.default,{look:u.default.Looks.LINK,size:u.default.Sizes.NONE,onClick:n.handleReset,color:c.default.Colors.PRIMARY,className:m.default.reset},void 0,v.default.Messages.RESET_NICKNAME)},n.renderHeader=function(){return y(d.default.Header,{},void 0,y(h.default,{tag:h.default.Tags.H4},void 0,v.default.Messages.CHANGE_NICKNAME))},n.renderFooter=function(){var e=n.props.submitting;return y(d.default.Footer,{},void 0,y(u.default,{type:"submit",disabled:e},void 0,v.default.Messages.SAVE),y(u.default,{onClick:n.close,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY},void 0,v.default.Messages.CANCEL))},n.handleReset=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)._input;n.setState({nick:""}),null!=e&&e.focus()},n.handleSubmit=function(e){e.preventDefault();var t=n.props,r=t.user,a=t.guildId;o.default.changeNickname(a,r.id,n.state.nick)},n.handleNickChange=function(e){n.setState({nick:e})},n.state={nick:t.nick||""},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.componentDidMount=function(){var e=this._input;null!=e&&e.select()},a.render=function(){return y(d.default,{tag:"form",onSubmit:this.handleSubmit},void 0,this.renderHeader(),y(d.default.Content,{},void 0,this.renderWarning(),this.renderInput(),this.renderReset()),this.renderFooter())},r}(a.PureComponent);g.displayName="ChangeNickname",g.modalConfig={store:l.default};var E=g;t.default=E},6990:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(74)),i=u(n(14)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s,d,c,f=l.FormStates.CLOSED,p={};function h(){f=l.FormStates.CLOSED,s=null,c=null,d=null,p={}}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(o.default)},a.isOpen=function(){return f!==l.FormStates.CLOSED},a.getProps=function(){return{submitting:f===l.FormStates.SUBMITTING,errors:p,guildId:s,nick:c,user:d}},r}(r.default.Store))(a.default,{CHANGE_NICKNAME_MODAL_OPEN:function(e){f=l.FormStates.OPEN,s=e.guildId,p={};var t=o.default.getMember(s,e.userId);d=i.default.getUser(e.userId),null==t||null==d?h():c=t.nick},CHANGE_NICKNAME_MODAL_SUBMIT:function(e){f=l.FormStates.SUBMITTING},CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE:function(e){f=l.FormStates.OPEN,p=e.errors||{}},CHANGE_NICKNAME_MODAL_CLOSE:function(e){return h()}});t.default=v},6991:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(6992)),i=m(n(6993)),l=m(n(158)),u=m(n(307)),s=n(5873),d=m(n(81)),c=m(n(8)),f=m(n(5985)),p=m(n(10)),h=m(n(5235)),v=m(n(5533));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).acceptInvite=function(){var e=t.props.invite;o.default.acceptInvite(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){__OVERLAY__||(c.default.isWindows()?c.default.minimize():c.default.restore(),c.default.focus())},a.close=function(){o.default.close()},a.render=function(){var e=this.props,t=e.invite,n=e.error,r=e.submitting;if(null==t||null==t.channel)return null;var a,o,i=t.guild,c=t.channel,m=t.inviter,y=null!=i;if(null!=i)a=i.name,o=d.default.getGuildSplashURL({id:i.id,splash:i.splash});else if((a=c.name)||null==m||(a=m.username),null==a)throw new Error("no name for group DM invite");return _("div",{className:v.default.container},void 0,_("div",{className:v.default.contentWrapper},void 0,_(u.default,{className:v.default.scroller,theme:u.default.Themes.GHOST_HAIRLINE},void 0,_(l.default,{className:v.default.inviteContent,direction:l.default.Direction.VERTICAL,justify:l.default.Justify.BETWEEN},void 0,_("div",{className:h.default.marginBottom20},void 0,_(f.default,{invite:t,disableUser:y,error:n})),_("div",{className:h.default.marginBottom20},void 0,_(s.Button,{size:s.Button.Sizes.LARGE,onClick:this.acceptInvite,submitting:r},void 0,p.default.Messages.INVITE_MODAL_BUTTON.format({guildName:a})),_(l.default,{justify:l.default.Justify.CENTER,className:h.default.marginTop8},void 0,_(s.Button,{look:s.Button.Looks.LINK,onClick:this.close},void 0,p.default.Messages.INIVTE_MODAL_NO_THANKS)))))),null!=o&&_("div",{className:v.default.inviteSplash,style:{backgroundImage:"url("+o+")"}}))},r}(a.PureComponent);y.displayName="Invite",y.modalConfig={closable:!0,store:i.default};var g=y;t.default=g},6992:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(1)),a=l(n(311)),o=n(0),i=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var u={acceptInvite:function(e){var t=this,n=a.default.getInviteContext("Desktop Invite Modal",e);a.default.acceptInvite(e.code,n).then(function(e){null==e||null==e.guild||null==e.channel||__OVERLAY__||a.default.transitionToInvite(e),t.close()},function(e){r.default.dispatch({type:o.ActionTypes.INVITE_MODAL_ERROR,message:e.toString()||i.default.Messages.INVITE_MODAL_ERROR_DEFAULT})})},close:function(){r.default.dispatch({type:o.ActionTypes.INVITE_MODAL_CLOSE})}};t.default=u},6993:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(1)),o=d(n(310)),i=d(n(20)),l=d(n(23)),u=d(n(832)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f,p=s.AppContext.APP,h=!1,v=!1,m=[];function _(){h=!0}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,u.default)},a.isOpen=function(){var e=__OVERLAY__?s.AppContext.OVERLAY:s.AppContext.APP;return h&&m.length&&p===e},a.getProps=function(){return{invite:m.length>0?m[0][0]:null,error:f||null,submitting:v}},r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){return _()},CONNECTION_OPEN:function(e){return _()},CONNECTION_CLOSED:function(e){h=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,r=t.guild;if(null==n)return!1;if(n.type!==s.ChannelTypes.GROUP_DM){if(null==r)return!1;if(null!=l.default.getGuild(r.id))return!1}else if(null!=i.default.getChannel(n.id))return!1;if(m.some(function(e){return e[0].code===d}))return!1;var a=t.approximate_member_count,u=t.approximate_presence_count,d=t.code;p=e.context,v=!1;var f={code:d,approximate_member_count:a,approximate_presence_count:u,channel:c({},t.channel)};t.guild&&(f.guild=new o.default(r)),t.inviter&&(f.inviter=c({},t.inviter)),m.push([f,e.resolve])},INVITE_MODAL_CLOSE:function(e){return function(){if(f=null,v=!1,m.length>0){var e=m.shift()[1];null!=e&&e()}}()},INVITE_ACCEPT:function(e){v=!0},INVITE_MODAL_ERROR:function(e){var t=e.message;f=t,v=!1}});t.default=y},6994:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=R(n(17)),i=R(n(6)),l=R(n(32)),u=R(n(3)),s=n(5933),d=R(n(5886)),c=R(n(20)),f=R(n(5901)),p=R(n(23)),h=R(n(6027)),v=R(n(309)),m=R(n(6151)),_=R(n(305)),y=n(6463),g=n(113),E=R(n(308)),S=n(6085),T=R(n(6995)),I=R(n(5981)),O=R(n(822)),N=n(0),C=R(n(10)),A=R(n(5242)),M=R(n(5538));function R(e){return e&&e.__esModule?e:{default:e}}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L={top:15,bottom:10},D=function(){return P("div",{className:M.default.emptyState},void 0,P("div",{className:M.default.emptyStateNote},void 0,C.default.Messages.QUICKSWITCHER_EMPTY_TEXT),P("div",{className:M.default.emptyStateCTA},void 0,P(_.default,{href:E.default.getArticleURL(N.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL)},void 0,C.default.Messages.QUICKSWITCHER_EMPTY_CTA)))};D.displayName="QuickSwitcherNoResults";var w=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=p.default.getGuild(this.props.channel.guild_id);return a.createElement(y.Channel,this.props,P("div",{className:M.default.miscContainer},void 0,null!=e?e.name:null))},t}(a.Component);w.displayName="ExtendedChannel",w.defaultProps={unread:!1};var U=u.default.connectStores([v.default],function(e){var t=e.channel;return{unread:v.default.hasUnread(t.id),mentions:v.default.getMentionCount(t.id),category:c.default.getChannel(t.parent_id)}})(w),G=u.default.connectStores([m.default],function(e){var t=e.channel;if(null==t.guild_id)throw new Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:m.default.getVoiceStates(t.guild_id)[t.id]}})(w),k=u.default.connectStores([f.default],function(e){var t=e.guild;return{unread:f.default.hasUnread(t.id)}})(y.Guild),F=u.default.connectStores([v.default],function(e){var t=e.channel;return{mentions:v.default.getMentionCount(t.id)}})(y.GroupDM),j=u.default.connectStores([v.default],function(e){var t=e.user,n=c.default.getDMFromUserId(t.id);return{mentions:null!=n?v.default.getMentionCount(n):0}})(y.User),B=P(D,{}),H=function(e){function t(t){var n;return n=e.call(this,t)||this,i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleKeyDown","handleInputChange","handleKeyDown","handleMouseMove","handleInputChange","focusResult","selectResult","setInputRef","setScrollerRef","forceFocus"]),n.state={query:t.query,needsScrollbar:"Blink"!==l.default.layout&&"WebKit"!==l.default.layout,mouseFocusDisabled:!0},n}b(t,e);var n=t.prototype;return n.componentDidMount=function(){d.default.disable(),this.focus()},n.componentWillUnmount=function(){d.default.enable()},n.getScroller=function(){return this._scrollerRef},n.componentDidUpdate=function(){var e=this.state.mouseFocusDisabled,t=this.props.selectedIndex,n=this.getScroller();n&&e&&t>=0&&n.scrollIndexIntoView(t,!1,L)},n.getInput=function(){return this._inputRef},n.close=function(){(0,s.hide)()},n.search=function(e){this.setState({query:e}),(0,s.search)(e)},n.focus=function(){var e=this.getInput();null!=e&&e.focus()},n.handleInputChange=function(){var e=this.getInput();null!=e&&this.search(e.value)},n.handleMouseMove=function(){!1!==this.state.mouseFocusDisabled&&this.setState({mouseFocusDisabled:!1})},n.focusResult=function(e){this.state.mouseFocusDisabled||(0,s.selectResult)(this.props.results.indexOf(e))},n.selectResult=function(e){null!=e&&e.type!==N.AutocompleterResultTypes.HEADER&&(0,s.switchToResult)(e)},n.handleKeyDown=function(e){var t=this.state,n=t.mouseFocusDisabled,r=t.query,a=this.props.results;!1===n&&this.setState({mouseFocusDisabled:!0});var o=e.key.toLowerCase(),i=this.props.selectedIndex;switch(o){case"escape":return e.preventDefault(),e.stopPropagation(),void(r.length>0?this.search(""):(0,s.hide)());case"k":return void(!0!==e.ctrlKey&&!0!==e.metaKey||(e.preventDefault(),e.stopPropagation(),(0,s.hide)()));case"enter":if(-1===i)return;return e.preventDefault(),void this.selectResult(a[i]);case"arrowup":i=(0,S.findNextSelected)("up",i,a);break;case"arrowdown":i=(0,S.findNextSelected)("down",i,a);break;case"tab":i=e.shiftKey?(0,S.findNextSelected)("up",i,a):(0,S.findNextSelected)("down",i,a);break;case"n":if(!e.ctrlKey)return;i=(0,S.findNextSelected)("down",i,a);break;case"p":if(!e.ctrlKey)return;i=(0,S.findNextSelected)("up",i,a);break;default:return}e.preventDefault(),(0,s.selectResult)(i)},n.setScrollerRef=function(e){this._scrollerRef=e},n.setInputRef=function(e){this._inputRef=e},n.forceFocus=function(){this._inputRef&&this._inputRef.focus()},n.renderInput=function(){return a.createElement("input",{className:M.default.input,ref:this.setInputRef,type:"text",placeholder:C.default.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onBlur:this.forceFocus,value:this.state.query})},n.renderResults=function(){var e=this.state,t=e.query,n=e.needsScrollbar,r=this.props,i=r.results,l=r.theme;return 0===i.length&&t.length>0?B:0===i.length?null:a.createElement(O.default,{ref:this.setScrollerRef,elementHeight:34,theme:O.default.Themes.GHOST,backgroundColor:l===N.ThemeTypes.LIGHT?N.Colors.PRIMARY_DARK_100:N.Colors.PRIMARY_DARK_630,paddingTop:L.top,paddingBottom:L.bottom,outerClassName:(0,o.default)(M.default.scrollerOuter,n?M.default.polyfilled:null),className:M.default.scroller},i.map(this.renderResult,this))},n.focusNode=function(e){g.ComponentDispatch.dispatch(N.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,{node:e})},n.renderResult=function(e,t){var n=this,r=this.props.selectedIndex;switch(e.type){case N.AutocompleterResultTypes.HEADER:return P(y.Header,{},e.type+"-"+e.record.id,e.record.text);case N.AutocompleterResultTypes.TEXT_CHANNEL:return P(U,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case N.AutocompleterResultTypes.VOICE_CHANNEL:return P(G,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case N.AutocompleterResultTypes.GUILD:return P(k,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,guild:e.record},e.type+"-"+e.record.id);case N.AutocompleterResultTypes.USER:return P(j,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,user:e.record,comparator:e.comparator},e.type+"-"+e.record.id);case N.AutocompleterResultTypes.GROUP_DM:return P(F,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case N.AutocompleterResultTypes.APPLICATION:return P(y.Application,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,application:e.record},e.type+"-"+e.record.id);default:return null}},n.renderHelp=function(){var e,t=this.props,n=t.results,r=t.theme===N.ThemeTypes.DARK?A.default.dark:A.default.dim;return P("div",{className:(0,o.default)((e={},e[M.default.tipsWithResults]=n.length>0,e[M.default.tipsWithoutResults]=0===n.length,e))},void 0,P("div",{className:M.default.tipsListNav},void 0,C.default.Messages.QUICKSWITCHER_TIP_NAV.format({shortcutHook:function(e,t){return P(I.default,{shortcut:e[0],className:(0,o.default)(r,A.default.keybindShortcutQuickSwitcher,A.default.keybindShortcutTipsNav)},t)}})),P("div",{className:M.default.tipsMiscControls},void 0,C.default.Messages.QUICKSWITCHER_TIP_SELECT.format({shortcutHook:function(e,t){return P(I.default,{shortcut:e[0],className:(0,o.default)(r,A.default.keybindShortcutQuickSwitcher,A.default.keybindShortcutTipsSelect)},t)}})))},n.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,r=t.results;return n?null:P(T.default,{hasQuery:e.length>0&&r.length>0})},n.render=function(){return P("div",{className:M.default.container},void 0,P("div",{className:M.default.quickswitcher,onMouseMove:this.handleMouseMove},void 0,this.renderInput(),this.renderResults(),this.renderHelp(),this.renderTutorial()))},t}(a.PureComponent);H.displayName="QuickSwitcher",H.modalConfig={disableAnimation:!0,backdropInstant:!0,store:h.default};var x=H;t.default=x},6995:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(304)),l=n(113),u=n(0),s=c(n(10)),d=c(n(5537));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=118,v=9,m={friction:15,tension:100},_=function(e){var t,r;function c(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={shown:!1,translateY:new i.default.Value(0)},t.setRef=function(e){t.container=e},t.handleResultFocus=function(e){var n=e.node;setTimeout(function(){if(t.props.hasQuery&&null!=n){var e=t.container.getBoundingClientRect().top,r=n.getBoundingClientRect().top,a=Math.abs(e-r);t.springTo(a-h+v)}else t.springTo(0)},1)},t}r=e,(t=c).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var _=c.prototype;return _.componentDidMount=function(){this.setState({shown:!0}),l.ComponentDispatch.subscribe(u.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},_.componentWillUnmount=function(){l.ComponentDispatch.unsubscribe(u.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},_.componentDidUpdate=function(){this.props.hasQuery||this.springTo(0)},_.springTo=function(e){i.default.spring(this.state.translateY,p({toValue:Math.min(e,250)},m)).start()},_.renderArrowGroup=function(e){return f("div",{className:(0,o.default)(d.default.arrowGroup,e)},void 0,f(i.default.div,{className:(0,o.default)(d.default.arrowContainer,d.default.horizontal),style:this.getStyle()},void 0,f("img",{alt:"",src:n(6996),className:d.default.arrowIcon})),f("div",{className:(0,o.default)(d.default.arrowContainer,d.default.diag1)},void 0,f("img",{alt:"",src:n(6997),className:d.default.arrowIcon})),f("div",{className:(0,o.default)(d.default.arrowContainer,d.default.diag2)},void 0,f("img",{alt:"",src:n(6998),className:d.default.arrowIcon})))},_.renderContent=function(){return f("div",{className:d.default.tutorialMessages},void 0,f("div",{className:d.default.searchMessage},void 0,s.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH),f("div",{className:d.default.selectMessage},void 0,s.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT))},_.render=function(){var e,t=this.props.hasQuery,n=this.state.shown;return a.createElement("div",{ref:this.setRef,className:(0,o.default)(d.default.tutorial,(e={},e[d.default.shown]=n,e[d.default.hasQuery]=t,e))},this.renderContent(),this.renderArrowGroup(d.default.left),this.renderArrowGroup(d.default.right))},_.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","250px"]})},{translateZ:0}]}},c}(a.PureComponent);_.displayName="QuickSwitcherTutorial";var y=_;t.default=y},6996:function(e,t,n){e.exports=n.p+"85761f5edbfdfbeba087f67ced11fe8e.svg"},6997:function(e,t,n){e.exports=n.p+"86deade60ada88b092a0de67a3800ce8.svg"},6998:function(e,t,n){e.exports=n.p+"7c5e2c588b7325c8433db1ac2a03a6b6.svg"},6999:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=te(n(2)),i=ee(n(17)),l=ee(n(3)),u=ee(n(430)),s=n(303),d=ee(n(134)),c=n(808),f=ee(n(834)),p=ee(n(843)),h=ee(n(800)),v=ee(n(166)),m=ee(n(6070)),_=ee(n(233)),y=ee(n(35)),g=ee(n(101)),E=ee(n(50)),S=ee(n(306)),T=ee(n(7e3)),I=ee(n(42)),O=ee(n(14)),N=ee(n(7001)),C=ee(n(305)),A=ee(n(5849)),M=ee(n(112)),R=ee(n(231)),b=ee(n(158)),P=ee(n(5966)),L=ee(n(5866)),D=ee(n(302)),w=ee(n(307)),U=ee(n(427)),G=te(n(5894)),k=ee(n(426)),F=n(234),j=ee(n(18)),B=ee(n(81)),H=n(5897),x=ee(n(45)),V=n(192),Y=ee(n(5855)),K=ee(n(5929)),W=ee(n(6689)),z=ee(n(6333)),$=ee(n(5982)),q=ee(n(5236)),X=n(0),J=ee(n(10)),Q=ee(n(824)),Z=ee(n(5540));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ne(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ie=X.INVITE_ENDPOINT+"/discord-testers",le=((r={})[X.UserPremiumGuildSubscriptionLevels.LEVEL_1]=Z.default.profileGuildSubscriberlvl1,r[X.UserPremiumGuildSubscriptionLevels.LEVEL_2]=Z.default.profileGuildSubscriberlvl2,r[X.UserPremiumGuildSubscriptionLevels.LEVEL_3]=Z.default.profileGuildSubscriberlvl3,r[X.UserPremiumGuildSubscriptionLevels.LEVEL_4]=Z.default.profileGuildSubscriberlvl4,r),ue=l.default.connectStores([S.default],function(){return{hide:S.default.hidePersonalInformation}})(function(e){function t(){return e.apply(this,arguments)||this}oe(t,e);var n=t.prototype;return n.renderEmpty=function(){return ae("div",{className:Z.default.empty},void 0,ae("div",{className:Z.default.emptyIconStreamerMode}),ae("div",{className:Z.default.emptyText},void 0,J.default.Messages.STREAMER_MODE_ENABLED))},n.renderNote=function(){var e=this.props.user;return ae("div",{className:Z.default.userInfoSection},void 0,ae("div",{className:Z.default.userInfoSectionHeader},void 0,J.default.Messages.NOTE),ae(W.default,{userId:e.id,autoFocus:!1,className:Z.default.note}))},n.trackConnectedAccountViewed=function(e){j.default.track(X.AnalyticEvents.CONNECTED_ACCOUNT_VIEWED,{platform_type:e})},n.renderConnectedAccounts=function(){var e=this,t=this.props,n=t.connectedAccounts,r=t.theme;if(null!=n&&n.length>0){var a=n.map(function(t,n){var a,o,i=v.default.get(t.type),l=i.getPlatformUserUrl&&i.getPlatformUserUrl(t);return l&&(a=ae(C.default,{href:l,onClick:e.trackConnectedAccountViewed.bind(e,t.type)},void 0,ae("div",{className:Z.default.connectedAccountOpenIcon}))),t.verified&&(o=ae(k.default,{text:J.default.Messages.CONNECTION_VERIFIED},void 0,ae(P.default,{className:Z.default.connectedAccountVerifiedIcon,color:r===X.ThemeTypes.LIGHT?X.Colors.STATUS_GREY_200:X.Colors.PRIMARY_DARK,width:24},void 0,ae(D.default,{name:D.default.Names.VERIFIED,color:r===X.ThemeTypes.LIGHT?X.Colors.STATUS_GREY_500:X.Colors.WHITE})))),ae(b.default,{align:b.default.Align.CENTER,grow:0,className:Z.default.connectedAccount},n,ae("img",{alt:J.default.Messages.IMG_ALT_LOGO.format({name:i.name}),className:Z.default.connectedAccountIcon,src:i.icon.color}),ae("div",{className:Z.default.connectedAccountNameInner},void 0,ae("div",{className:Z.default.connectedAccountName},void 0,t.name),o),a)});return ae("div",{className:Z.default.userInfoSection},void 0,ae("div",{className:Z.default.connectedAccounts},void 0,a))}},n.render=function(){return this.props.hide?this.renderEmpty():ae(w.default,{fade:!0},void 0,this.renderNote(),this.renderConnectedAccounts())},t}(o.PureComponent)),se=function(e){var t=e.guild,n=e.nick,r=e.onSelect,a=e.onContextMenu,o=e.theme;return ae(R.default,{className:Z.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return a(e,t)}},void 0,ae(L.default,{guild:t,showBadge:!0,className:(0,i.default)(Z.default.listAvatar,null==t.icon?Z.default.guildAvatarWithoutIcon:null),badgeStrokeColor:o===X.ThemeTypes.DARK?X.Colors.PRIMARY_DARK_600:X.Colors.WHITE,size:L.default.Sizes.MEDIUM}),ae("div",{className:Z.default.listRowContent},void 0,ae("div",{className:Z.default.listName},void 0,t.toString()),ae("div",{className:Z.default.guildNick},void 0,n)))};se.displayName="GuildRow";var de=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){x.default.transitionTo(X.Routes.CHANNEL(e,E.default.getChannelId(e))),p.default.close(),(0,c.popLayer)()},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return o.createElement($.default,re({},e,{type:X.ContextMenuTypes.GUILD_PROFILE_MUTUAL,guild:t}))})},t}return oe(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.mutualGuilds,a=n.theme;return e=0===r.length?ae("div",{className:Z.default.empty},void 0,ae("div",{className:Z.default.emptyIconGuilds}),ae("div",{className:Z.default.emptyText},void 0,J.default.Messages.NO_MUTUAL_GUILDS)):r.map(function(e){var n=e.guild,r=e.nick;return ae(se,{guild:n,nick:r,onSelect:t.handleSelect,onContextMenu:t.handleContextMenu,theme:a},n.id)}),ae(w.default,{className:Z.default.listScroller,fade:!0},void 0,e)},t}(o.Component);de.displayName="MutualGuilds";var ce=function(e){var t=e.user,n=e.status,r=e.onSelect,a=e.onContextMenu;return ae(R.default,{className:Z.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return a(e,t)}},void 0,ae(A.default,{src:t.getAvatarURL(),size:A.default.Sizes.LARGE,status:n,className:Z.default.listAvatar}),ae(K.default,{user:t,className:Z.default.listName,discriminatorClass:Z.default.listDiscriminator}))};ce.displayName="FriendRow";var fe=ae(U.default,{}),pe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){p.default.open(e)},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return o.createElement(q.default,re({},e,{type:X.ContextMenuTypes.USER_PROFILE_MUTUAL,user:t}))})},t}return oe(t,e),t.prototype.render=function(){var e,t=this,n=this.props.mutualFriends;return e=n?0===n.length?ae("div",{className:Z.default.empty},void 0,ae("div",{className:Z.default.emptyIconFriends}),ae("div",{className:Z.default.emptyText},void 0,J.default.Messages.NO_MUTUAL_FRIENDS)):n.map(function(e){return ae(ce,{user:e.user,status:e.status,onSelect:t.handleSelect,onContextMenu:t.handleContextMenu},e.key)}):ae("div",{className:Z.default.empty},void 0,fe),ae(w.default,{className:Z.default.listScroller,fade:!0},void 0,e)},t}(o.Component);function he(e){var t=e.className,n=ne(e,["className"]);return o.createElement(M.default,re({},n,{look:M.default.Looks.INVERTED,size:M.default.Sizes.MEDIUM,color:Z.default.buttonInvertedPurple,className:t}))}function ve(e,t){switch(e){case"Streaming":return M.default.Colors.PRIMARY;case"Spotify":case"Xbox":return M.default.Colors.GREEN;case"Playing":return M.default.Colors.BRAND;default:return t}}function me(e){var t=e.mode,n=e.defaultColor,r=e.className,a=ne(e,["mode","defaultColor","className"]);if("Streaming"===t)return o.createElement(he,re({},a,{className:r}));var l="Normal"===t?M.default.Looks.FILLED:M.default.Looks.INVERTED;return o.createElement(M.default,re({},a,{color:ve(t,n),look:l,size:M.default.Sizes.SMALL,className:(0,i.default)(Z.default.actionButton,r)}))}pe.displayName="MutualFriends",he.displayName="InvertedPurpleButton",me.displayName="RequestActionButton";var _e=function(e){var t=e.isCurrentUser,n=e.user,r=e.relationshipType,a=e.friendReqSent,o=e.handleAddFriend,i=e.handleIgnoreFriend,l=e.handleSendMessage,u=e.mode;return t||r===X.RelationshipTypes.BLOCKED?null:r===X.RelationshipTypes.FRIEND||n.bot?ae(me,{mode:u,defaultColor:M.default.Colors.GREEN,onClick:l},void 0,J.default.Messages.SEND_MESSAGE):a?ae(me,{mode:u,defaultColor:M.default.Colors.GREEN,disabled:!0},void 0,J.default.Messages.ADD_FRIEND_BUTTON_AFTER):r===X.RelationshipTypes.PENDING_INCOMING?ae(b.default,{grow:0},void 0,ae(me,{mode:u,defaultColor:M.default.Colors.GREEN,onClick:o},void 0,J.default.Messages.FRIEND_REQUEST_ACCEPT),ae(me,{mode:u,defaultColor:M.default.Colors.GREY,onClick:i,className:Z.default.actionRightButton},void 0,J.default.Messages.FRIEND_REQUEST_IGNORE)):ae(me,{mode:u,defaultColor:M.default.Colors.GREEN,onClick:o},void 0,J.default.Messages.ADD_FRIEND_BUTTON)};_e.displayName="RequestActions";var ye=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).performAction=function(e){e(),(0,s.closeContextMenu)()},t}return oe(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.relationshipType,a=n.onRemoveFriend,o=n.onBlock,l=n.onMessage,u=n.className,s=n.style,d=[];switch(r){case X.RelationshipTypes.BLOCKED:d.push(ae(R.default,{className:Q.default.item,onClick:function(){return e.performAction(a)}},"user-unblock",J.default.Messages.UNBLOCK));break;case X.RelationshipTypes.FRIEND:d.push(ae(R.default,{className:(0,i.default)(Q.default.item,Q.default.danger),onClick:function(){return e.performAction(a)}},"user-remove",J.default.Messages.REMOVE_FRIEND)),d.push(ae(R.default,{className:(0,i.default)(Q.default.item,Q.default.danger),onClick:function(){return e.performAction(o)}},"user-block",J.default.Messages.BLOCK));break;case X.RelationshipTypes.NONE:case X.RelationshipTypes.PENDING_INCOMING:default:d.push(ae(R.default,{className:(0,i.default)(Q.default.item,Q.default.danger),onClick:function(){return e.performAction(o)}},"user-block",J.default.Messages.BLOCK))}return r!==X.RelationshipTypes.BLOCKED&&d.push(ae(R.default,{className:Q.default.item,onClick:function(){return e.performAction(l)}},"user-message",J.default.Messages.USER_POPOUT_MESSAGE)),ae("div",{className:u,style:{left:s.left+t.OFFSET_X,top:s.top+t.OFFSET_Y}},void 0,d)},t}(o.Component);ye.displayName="ProfileActionsPopout",ye.OFFSET_X=-65,ye.OFFSET_Y=20;var ge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={friendReqSent:!1},t.handleAdditionalActionClick=function(e){var n=t.props.relationshipType;(0,s.openContextMenu)(e,function(e){return o.createElement(ye,re({},e,{relationshipType:n,onRemoveFriend:t.handleRemoveFriend,onBlock:t.handleBlock,onMessage:t.handleSendMessage}))})},t.handleSendMessage=function(){var e=t.props,n=e.user,r=e.currentUserId;u.default.openPrivateChannel(r,n.id),t.props.close(),(0,c.popLayer)()},t.handleBlock=function(){var e=t.props.user;f.default.addRelationship(e.id,{location:"User Profile"},X.RelationshipTypes.BLOCKED)},t.handleAddFriend=function(){f.default.addRelationship(t.props.user.id,{location:"User Profile"}),t.setState({friendReqSent:!0})},t.handleRemoveFriend=function(){f.default.removeRelationship(t.props.user.id,{location:"User Profile"}),t.setState({friendReqSent:!1})},t.handleSectionSelect=function(e){p.default.setSection(e)},t.openPremiumSettings=function(){j.default.track(X.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:X.AnalyticsSections.PROFILE_MODAL,location_object:X.AnalyticsObjects.TOOLTIP}),h.default.open(X.UserSettingsSections.PREMIUM),t.props.close()},t}oe(t,e);var n=t.prototype;return n.componentDidMount=function(){this.fetchApplication()},n.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},n.fetchApplication=function(){var e=this.props.activity;null!=e&&null!=e.application_id&&null==y.default.getGame(e.application_id)&&d.default.fetchApplication(e.application_id)},n.getMode=function(){var e=this.props,t=e.activity,n=e.isApplicationStreaming;return null==t?"Normal":n?"Playing":(0,F.isStreaming)(t)?"Streaming":(0,F.isOnXbox)(t)?"Xbox":(0,F.isListeningOnSpotify)(t)?"Spotify":"Playing"},n.isCurrentUser=function(){var e=this.props,t=e.user,n=e.currentUserId;return t.id===n},n.renderBadges=function(){var e=this.props,t=e.user,n=e.premiumSince,r=e.hypeSquadKOHExperimentActive,a=e.premiumGuildSince,o=[];return t.hasFlag(X.UserFlags.STAFF)&&o.push({tooltip:J.default.Messages.STAFF_BADGE_TOOLTIP,onClick:function(){return window.open(X.MarketingURLs.COMPANY,"_blank")},className:Z.default.profileBadgeStaff,key:"staff"}),t.hasFlag(X.UserFlags.PARTNER)&&o.push({tooltip:J.default.Messages.PARTNER_BADGE_TOOLTIP,onClick:function(){return window.open(X.MarketingURLs.PARTNERS,"_blank")},className:Z.default.profileBadgePartner,key:"partner"}),t.hasFlag(X.UserFlags.HYPESQUAD)&&o.push({tooltip:J.default.Messages.HYPESQUAD_BADGE_TOOLTIP,onClick:function(){return window.open(X.MarketingURLs.HYPESQUAD,"_blank")},className:Z.default.profileBadgeHypesquad,key:"hypeSquad"}),t.hasFlag(X.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)&&o.push({tooltip:J.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:J.default.Messages.HYPESQUAD_HOUSE_1}),onClick:function(){return window.open(X.MarketingURLs.HYPESQUAD,"_blank")},className:Z.default.profileBadgeHypeSquadOnlineHouse1,key:"hypeSquadOnlineHouse1"}),t.hasFlag(X.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)&&o.push({tooltip:J.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:J.default.Messages.HYPESQUAD_HOUSE_2}),onClick:function(){return window.open(X.MarketingURLs.HYPESQUAD,"_blank")},className:Z.default.profileBadgeHypeSquadOnlineHouse2,key:"hypeSquadOnlineHouse2"}),t.hasFlag(X.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&o.push({tooltip:J.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:J.default.Messages.HYPESQUAD_HOUSE_3}),onClick:function(){return window.open(X.MarketingURLs.HYPESQUAD,"_blank")},className:r?Z.default.profileBadgeHypeSquadOnlineHouse3KOH:Z.default.profileBadgeHypeSquadOnlineHouse3,key:"hypeSquadOnlineHouse3"}),t.hasFlag(X.UserFlags.BUG_HUNTER)&&o.push({tooltip:J.default.Messages.BUG_HUNTER_BADGE_TOOLTIP,onClick:function(){return window.open(ie,"_blank")},className:Z.default.profileBadgeBugHunter,key:"bugHunter"}),t.hasFlag(X.UserFlags.PREMIUM_EARLY_SUPPORTER)&&o.push({tooltip:J.default.Messages.EARLY_SUPPORTER_TOOLTIP,onClick:this.openPremiumSettings,className:Z.default.profileBadgeEarlySupporter,key:"earlySupporter"}),null!=n&&o.push({tooltip:J.default.Messages.PREMIUM_BADGE_TOOLTIP.format({date:n}),onClick:this.openPremiumSettings,className:Z.default.profileBadgePremium,key:"premium"}),null!=a&&o.push({tooltip:J.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TOOLTIP.format({date:a}),onClick:this.openPremiumSettings,className:le[(0,H.getUserLevel)(a)],key:"guildSubscriber"}),0===o.length?null:ae(b.default,{className:Z.default.profileBadges},void 0,o.map(function(e){return ae("div",{className:Z.default.profileBadgeWrapper},e.key,ae(k.default,{position:k.default.Positions.TOP,text:e.tooltip},void 0,ae(R.default,{onClick:e.onClick},void 0,ae("div",{className:(0,i.default)(Z.default.profileBadge,e.className)}))))}))},n.renderMoreActions=function(){var e=this.props.user;if(!this.isCurrentUser()&&!e.isNonUserBot())return ae(R.default,{onClick:this.handleAdditionalActionClick},void 0,ae("div",{className:Z.default.additionalActionsIcon}))},n.renderHeader=function(e){var t,n=this.props,r=n.user,a=n.status,o=n.relationshipType,l=n.showMobileIndicator,u=this.state.friendReqSent,s=B.default.hasAnimatedAvatar(r)?r.getAvatarURL("gif"):r.getAvatarURL();return ae("header",{className:Z.default.header},void 0,ae(A.default,{src:s,size:A.default.Sizes.PROFILE,status:a,className:Z.default.avatar}),ae("div",{className:Z.default.headerInfo},void 0,ae(K.default,{user:r,className:Z.default.nameTag,usernameClass:Z.default.username,discriminatorClass:Z.default.discriminator,invertBotTagColor:"Playing"===e,botClass:Z.default.botTag,showMobileIndicator:l,mobileIndicatorClassName:(0,i.default)(Z.default.mobileIndicator,(t={},t[Z.default.mobileIndicator]="Normal"===e,t[Z.default.mobileIndicatorWhite]="Normal"!==e,t))}),this.renderBadges()),ae(_e,{user:r,isCurrentUser:this.isCurrentUser(),relationshipType:o,friendReqSent:u,handleAddFriend:this.handleAddFriend,handleIgnoreFriend:this.handleRemoveFriend,handleSendMessage:this.handleSendMessage,mode:e}),this.renderMoreActions())},n.renderTabBar=function(){var e=this.props,t=e.user,n=e.section,r=e.theme===X.ThemeTypes.LIGHT?X.Colors.PRIMARY_DARK:X.Colors.WHITE;return this.isCurrentUser()||t.bot?null:ae("div",{className:Z.default.tabBarContainer},void 0,ae(G.default,{selectedItem:n,type:G.Types.TOP,onItemSelect:this.handleSectionSelect,className:Z.default.tabBar},void 0,ae(G.Item,{color:r,className:Z.default.tabBarItem,id:X.UserProfileSections.USER_INFO},void 0,J.default.Messages.USER_INFO),ae(G.Item,{color:r,className:Z.default.tabBarItem,id:X.UserProfileSections.MUTUAL_GUILDS},void 0,J.default.Messages.MUTUAL_GUILDS),ae(G.Item,{color:r,className:Z.default.tabBarItem,id:X.UserProfileSections.MUTUAL_FRIENDS},void 0,J.default.Messages.MUTUAL_FRIENDS)))},n.render=function(){var e,t,n=this.props,r=n.user,a=n.activity,o=n.mutualGuilds,l=n.mutualFriends,u=n.connectedAccounts,s=n.section,d=n.theme,c=this.getMode();switch(s){case X.UserProfileSections.MUTUAL_GUILDS:t=ae(de,{mutualGuilds:o||[],theme:d});break;case X.UserProfileSections.MUTUAL_FRIENDS:t=ae(pe,{mutualFriends:l,theme:d});break;case X.UserProfileSections.USER_INFO:default:t=ae(ue,{user:r,connectedAccounts:u||[],activity:a,theme:d})}return ae(Y.default,{section:X.AnalyticsSections.PROFILE_MODAL},void 0,ae(b.default,{direction:b.default.Direction.VERTICAL,className:Z.default.root},void 0,ae("div",{className:(0,V.getClass)(Z.default,"topSection",c)},void 0,this.renderHeader(c),ae("div",{className:(0,i.default)((e={},e[Z.default.headerFill]=null!=a,e))},void 0,null!=this.props.activity?ae(z.default,{type:z.default.Types.PROFILE,activity:this.props.activity,user:this.props.user,source:"Profile Modal",className:Z.default.activity,onOpenConnections:p.default.close}):null,this.renderTabBar())),ae("div",{className:Z.default.body},void 0,t)))},t}(o.PureComponent);ge.displayName="UserProfileBody";var Ee=l.default.connectStores([I.default,O.default,g.default,N.default],function(e){var t=e.user,n=N.default.getExperimentDescriptor();return{theme:I.default.theme,currentUserId:O.default.getCurrentUser().id,status:g.default.getStatus(t.id),showMobileIndicator:g.default.isMobileOnline(t.id),activity:g.default.getPrimaryActivity(t.id),hypeSquadKOHExperimentActive:null!=n&&-1!==n.bucket,isApplicationStreaming:null!=_.default.getStreamForUser(t.id)}})((0,m.default)(function(e){var t,n=e.guildId,r=e.user;return(t={})[n]=[r.id],t})(ge)),Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){p.default.close()},t}return oe(t,e),t.prototype.render=function(){return o.createElement(Ee,re({},this.props,{close:this.close}))},t}(o.PureComponent);Se.displayName="UserProfile",Se.modalConfig={store:T.default};var Te=Se;t.default=Te},7000:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=p(n(1)),i=p(n(843)),l=p(n(131)),u=p(n(23)),s=p(n(101)),d=p(n(87)),c=p(n(14)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=[];function m(e,t){var n=c.default.getUser(e);return null==n?null:{section:f.UserProfileSections.USER_INFO,user:n,relationshipType:d.default.getRelationshipType(e),guildId:t,mutualGuilds:[],mutualFriends:null,connectedAccounts:[],premiumSince:null,premiumGuildSince:null}}function _(){if(0===v.length)return!1;v=v.reduce(function(e,t){var n=c.default.getUser(t.user.id);return null!=n&&e.push(h({},t,{user:n,relationshipType:d.default.getRelationshipType(t.user.id)})),e},[])}var y=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.syncWith([d.default,c.default],_)},o.isOpen=function(){return v.length>0},o.getProps=function(){return r.default.last(v)},a}(a.default.Store))(o.default,{USER_PROFILE_MODAL_OPEN:function(e){var t=m(e.userId,e.guildId);v=null==t?[]:[t]},USER_PROFILE_MODAL_CLOSE:function(e){v=[]},USER_PROFILE_MODAL_PUSH:function(e){var t=m(e.userId,e.guildId);null!=t&&(v=[].concat(v,[t]))},USER_PROFILE_MODAL_POP:function(e){v.pop()},USER_PROFILE_MODAL_SET_SECTION:function(e){var t=r.default.last(v);null!=t&&(e.section===f.UserProfileSections.MUTUAL_FRIENDS&&null==t.mutualFriends&&i.default.fetchMutualFriends(t.user.id),t.section=e.section,v=[].concat(v))},USER_PROFILE_MODAL_FETCH_SUCCESS:function(e){v=v.map(function(t){if(t.user.id===e.user.id){var n=[];e.mutual_guilds.forEach(function(e){var t=e.id,r=e.nick,a=u.default.getGuild(t);null!=a&&n.push({guild:a,nick:r})});var a=e.premium_since||null;n=r.default.sortBy(n,function(e){return e.guild.name.toLowerCase()});var o=t.user.set("flags",e.user.flags);return h({},t,{user:o,mutualGuilds:n,connectedAccounts:e.connected_accounts,premiumSince:null!=a?new Date(a):null,premiumGuildSince:null!=e.premium_guild_since?new Date(e.premium_guild_since):null})}return t})},LOAD_MUTUAL_FRIENDS:function(e){var t=r.default.findLast(v,function(t){return t.user.id===e.userId});null!=t&&(t.mutualFriends=(0,r.default)(e.mutualFriends).map(function(e){return{key:e.id,user:new l.default(e),status:s.default.getStatus(e.id),activity:s.default.getPrimaryActivity(e.id),mutualGuildsLength:t.mutualGuilds.length||0,mutualGuilds:t.mutualGuilds.slice(0,f.MAX_MUTUAL_GUILDS)}}).sortBy(function(e){return e.user.username.toLowerCase()}).value())}});t.default=y},7001:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(828))&&r.__esModule?r:{default:r},o=n(0);var i=(0,a.default)(o.Experiments.HYPESQUAD_KOH_WINNER_BADGES,"HypeSquad King of the Hat Badge","Displays a unique badge for House Balance members in honor of winning the King of the Hat competition");t.default=i},7002:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=C(n(6)),i=n(849),l=C(n(3)),u=C(n(235)),s=n(891),d=C(n(43)),c=C(n(7003)),f=C(n(158)),p=C(n(188)),h=C(n(5870)),v=C(n(5858)),m=C(n(6079)),_=C(n(6024)),y=C(n(128)),g=C(n(432)),E=A(n(98)),S=C(n(6174)),T=n(0),I=C(n(10)),O=C(n(5235)),N=C(n(5541));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;r&&r(a,e.currentTarget.checked)},t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.autoThreshold;r&&r(-1*(100-e),a)},t}R(t,e);var n=t.prototype;return n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},n.renderAutomaticVADToggle=function(){var e=this,t=this.props.autoThreshold;return M(i.SmartUID,{},void 0,function(n){return M(f.default,{className:O.default.marginBottom4},void 0,M(E.default,{tag:E.Tags.H3},void 0,M("label",{htmlFor:n},void 0,I.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),M(_.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},n.renderSlider=function(){var e=this.props,t=e.autoThreshold,n=e.threshold;if(!t)return M(m.default,{defaultValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange})},n.render=function(){return M(g.default,{title:I.default.Messages.FORM_LABEL_INPUT_SENSITIVTY,className:O.default.marginBottom8},void 0,this.renderAutomaticVADToggle(),this.renderSlider())},t}(a.PureComponent);b.displayName="VoiceSensitivity";var P=function(e){var t,n=e.mediaEngineContext,r=e.inputMode,i=e.shortcut,l=e.delay,s=e.vadThreshold,d=e.vadAutoThreshold,c=e.inputDevices,f=e.inputDeviceId,p=e.inputVolume,_=e.outputDeviceId,y=e.outputDevices,E=e.outputVolume,N=e.speaking,C=o.default.first(c),A=null!=C&&C.disabled,R=o.default.first(y),P=null!=R&&R.disabled,L=[{value:T.InputModes.VOICE_ACTIVITY,name:I.default.Messages.INPUT_MODE_VAD},{value:T.InputModes.PUSH_TO_TALK,name:I.default.Messages.INPUT_MODE_PTT}];return t=r===T.InputModes.PUSH_TO_TALK?M(a.Fragment,{},void 0,M(g.default,{title:I.default.Messages.FORM_LABEL_SHORTCUT,className:O.default.marginBottom20},void 0,M(S.default,{defaultValue:i,onChange:function(e){return u.default.setMode(r,{shortcut:e},n)}})),M(g.default,{title:I.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY,className:O.default.marginBottom8},void 0,M(m.default,{defaultValue:l,onValueChange:function(e){return u.default.setMode(r,{delay:e},n)},onValueRender:function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+"ms"},maxValue:T.MAX_PTT_RELEASE_DELAY}))):M(b,{speaking:N,inputMode:r,threshold:s,autoThreshold:d,onThresholdChange:function(e,t){return u.default.setMode(r,{threshold:e,autoThreshold:t},n)}}),M(a.Fragment,{},void 0,M(g.default,{title:I.default.Messages.FORM_LABEL_INPUT_DEVICE,className:O.default.marginBottom20},void 0,M(v.default,{value:f,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return u.default.setInputDevice(t,"Voice Settings")},options:o.default.map(c,function(e){return{value:e.id,label:e.name}}),disabled:A})),M(g.default,{title:I.default.Messages.FORM_LABEL_INPUT_VOLUME,className:O.default.marginBottom20},void 0,M(m.default,{defaultValue:p,asValueChanges:function(e){return u.default.setInputVolume(e)}})),M(g.default,{title:I.default.Messages.FORM_LABEL_OUTPUT_DEVICE,className:O.default.marginBottom20},void 0,M(v.default,{value:_,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return u.default.setOutputDevice(t,"Voice Settings")},options:o.default.map(y,function(e){return{value:e.id,label:e.name}}),disabled:P})),M(g.default,{title:I.default.Messages.FORM_LABEL_OUTPUT_VOLUME,className:O.default.marginBottom20},void 0,M(m.default,{defaultValue:E/2,onValueRender:function(e){return(2*e).toFixed(0)+"%"},asValueChanges:function(e){return u.default.setOutputVolume(2*e)}})),M(g.default,{title:I.default.Messages.FORM_LABEL_INPUT_MODE,className:O.default.marginBottom20},void 0,M(h.default,{onChange:function(e){var t=e.value;return u.default.setMode(t,{},n)},options:L,value:r})),t)};P.displayName="Content";var L=l.default.connectStores([d.default],function(e){var t=e.mediaEngineContext;return{inputVolume:d.default.getInputVolume(),outputVolume:d.default.getOutputVolume(),inputDeviceId:d.default.getInputDeviceId(),inputDevices:d.default.getInputDevices(),outputDevices:d.default.getOutputDevices(),outputDeviceId:d.default.getOutputDeviceId(),inputMode:d.default.getMode(t),shortcut:d.default.getModeOptions(t).shortcut,vadThreshold:d.default.getModeOptions(t).threshold,vadAutoThreshold:d.default.getModeOptions(t).autoThreshold,delay:d.default.getModeOptions(t).delay}})(P),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;(0,s.closeModal)(),null!=e&&e()},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.mediaEngineContext,n=e.title;return M(p.default,{},void 0,M(p.default.Header,{},void 0,M(f.default.Child,{},void 0,M(E.default,{tag:E.default.Tags.H2,className:O.default.marginReset},void 0,I.default.Messages.VOICE_SETTINGS),M(y.default,{size:y.default.Sizes.SMALL,color:y.default.Colors.PRIMARY,className:N.default.title},void 0,n)),M(f.default.Child,{grow:0},void 0,M(p.default.CloseButton,{onClick:this.close}))),M(p.default.Content,{},void 0,M(L,{mediaEngineContext:t})))},t}(a.PureComponent);t.default=D,D.displayName="VoiceSettingsModal",D.modalConfig={closable:!0,store:c.default}},7003:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l=d(n(3)),u=d(n(1)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){a=null,r=null,o=null,null!=i&&(i(),i=null)}var f=new(function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=i.prototype;return l.isOpen=function(){var e=__OVERLAY__?s.AppContext.OVERLAY:s.AppContext.APP;return null!=a&&r===e},l.getProps=function(){return{mediaEngineContext:a,title:o}},i}(l.default.Store))(u.default,{VOICE_SETTINGS_MODAL_OPEN:function(e){a=e.mediaEngineContext,r=e.appContext,o=e.title,i=e.resolve},VOICE_SETTINGS_MODAL_CLOSE:function(e){return c()},RPC_APP_DISCONNECTED:function(e){return c()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==r||(c(),0))}});t.default=f},7004:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MESSAGE_SOUND_VOLUME=t.MESSAGE_SOUND=void 0;var r=E(n(3)),a=E(n(1)),o=E(n(430)),i=E(n(465)),l=E(n(18)),u=E(n(8)),s=n(6324),d=E(n(920)),c=E(n(45)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(451)),p=E(n(20)),h=E(n(835)),v=E(n(50)),m=E(n(194)),_=E(n(14)),y=n(0),g=E(n(10));function E(e){return e&&e.__esModule?e:{default:e}}var S="message1";t.MESSAGE_SOUND=S;var T=.4;t.MESSAGE_SOUND_VOLUME=T;var I="message2",O=.4,N=u.default.hasFocus(),C=new(function(){function e(){this._channels={}}var t=e.prototype;return t.track=function(e,t){var n=this._channels[e];for(null==n&&(n=[],this._channels[e]=n),n.push(t);n.length>5;)n.shift().close()},t.clearChannel=function(e){var t=this._channels[e];null!=t&&(delete this._channels[e],t.forEach(function(e){return e.close()}))},e}());var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(_.default,p.default,h.default)},r}(r.default.Store))(a.default,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==y.NotificationPermissionTypes.ENABLED||u.default.embedded||d.default.showNotification(n(910),g.default.Messages.NOTIFICATION_TITLE_DISCORD,g.default.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{sound:S,volume:T,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,a=e.options;return h.default.getDesktopType()!==y.DesktopNotificationTypes.NEVER&&m.default.getStatus()!==y.StatusTypes.DND&&(d.default.showNotification(t,n,r,a),!1)},WINDOW_FOCUS:function(e){if(N=e.focused){var t=v.default.getChannelId();null!=t&&C.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,r=e.message,o=p.default.getChannel(t),u=_.default.getUser(r.author.id);if(null==o||null==u)return!1;if(!(0,s.shouldNotify)(r,t))return!1;var m=n(454).default,g=n(195).default;if(null!=m.getFocusedPID()&&g.getTextChatNotificationMode()===y.OverlayNotificationTextChatTypes.ENABLED)return!1;if(N&&t===v.default.getChannelId())return!1;var E=(0,s.makeTextChatNotification)(o,r,u),I=E.icon,O=E.title,A=E.body;a.default.dirtyDispatch({type:y.ActionTypes.RPC_NOTIFICATION_CREATE,channelId:o.id,message:r,icon:I,title:O,body:A});var M=!h.default.isSoundDisabled(S);if(h.default.getDesktopType()===y.DesktopNotificationTypes.NEVER)return M&&f.playSound(S,T),!1;var R=d.default.showNotification(I,O,A,{tag:o.id,sound:M?S:null,volume:T,onClick:function(){l.default.track(y.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:y.ActionTypes.MESSAGE_CREATE,notif_user_id:r.author.id,message_id:r.id,message_type:r.type,channel_id:o.id,channel_type:o.type,guild_id:o.guild_id}),c.default.transitionTo(y.Routes.CHANNEL(o.getGuildId()||y.ME,o.id)),i.default.clickedNotification()}});null!=R&&C.track(o.id,R)},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&C.clearChannel(t),!1},MESSAGE_ACK:function(e){var t=e.channelId;return C.clearChannel(t),!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(h.default.getDesktopType()===y.DesktopNotificationTypes.NEVER)return!1;if(m.default.getStatus()===y.StatusTypes.DND)return!1;switch(n.type){case y.ActivityTypes.PLAYING:var r=_.default.getUser(t);if(null==r)return!1;var a=r.toString(),i=n.name,u=r.getAvatarURL(),s=g.default.Messages.NOTIFICATION_TITLE_START_GAME,c=g.default.Messages.NOTIFICATION_BODY_START_GAME.format({username:a,gameName:i});return d.default.showNotification(u,s,c,{sound:I,playSoundIfDisabled:!1,volume:O,onClick:function(){l.default.track(y.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:y.ActionTypes.ACTIVITY_START,activity_type:y.ActivityTypes.PLAYING,notif_user_id:t,activity_name:i}),o.default.openPrivateChannel(_.default.getCurrentUser().id,t)}}),!1;default:return!1}}});t.default=A},7011:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Operations=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(163)),l=c(n(197)),u=n(482),s=n(0),d=c(n(5822));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e,t,n,r){return Math.pow(e-n,2)+Math.pow(t-r,2)},m=3,_=(0,i.default)({MOVE:null,RESIZE_NORTH:null,RESIZE_WEST:null,RESIZE_EAST:null,RESIZE_SOUTH:null,RESIZE_NORTH_WEST:null,RESIZE_NORTH_EAST:null,RESIZE_SOUTH_WEST:null,RESIZE_SOUTH_EAST:null});t.Operations=_;var y=new Set([_.RESIZE_NORTH,_.RESIZE_WEST,_.RESIZE_EAST,_.RESIZE_SOUTH,_.RESIZE_NORTH_WEST,_.RESIZE_NORTH_EAST,_.RESIZE_SOUTH_WEST,_.RESIZE_SOUTH_EAST]);function g(e,t,n){var r=e.width,a=e.height;return{width:"auto"===r?"auto":Math.max(t,r),height:"auto"===a?"auto":Math.max(n,a)}}function E(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;return null==n&&null==a&&(n=0),null!=n&&null!=a&&(a=null),null==t&&null==r&&(t=0),null!=t&&null!=r&&(r=null),{top:t,left:n,bottom:r,right:a}}function S(e){return"auto"===e||null==e?"auto":e+"px"}function T(e,t){return{width:"auto"===t.width?null!=e?e.clientWidth:0:t.width,height:"auto"===t.height?null!=e?e.clientHeight:0:t.height}}function I(e,t){var n=t.top,r=t.left,a=t.bottom,o=t.right;switch(e){case _.RESIZE_EAST:case _.RESIZE_NORTH_EAST:case _.RESIZE_NORTH:return{bottom:a,left:r,right:null,top:null};case _.RESIZE_WEST:case _.RESIZE_NORTH_WEST:return{bottom:a,right:o,left:null,top:null};case _.RESIZE_SOUTH_EAST:return{top:n,left:r,bottom:null,right:null};case _.RESIZE_SOUTH:case _.RESIZE_SOUTH_WEST:return{top:n,right:o,bottom:null,left:null};default:throw new Error("getOrientedCoords: Invalid orientation: "+e)}}var O=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).ref=a.createRef(),n.dragState={startX:0,startY:0,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0},n.state={operation:null,operationStarted:!1},n.handleMouseDown=function(e){e.stopPropagation();var t=n.props.dragAnywhere;null!=n.ref.current&&e.button===s.MouseButtons.PRIMARY&&t&&n.handleOperationStart(_.MOVE,e.clientX,e.clientY)},n.handleMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,r=e.clientY,a=h(n),o=a.dragState,i=o.startX,l=o.startY,u=a.state,s=u.operation,d=u.operationStarted;null==s||!d&&v(i,l,t,r)<m||(s===_.MOVE?n.handleDragMove(t,r):y.has(s)&&n.handleResizeMove(t,r))},n.handleOperationStart=function(e,t,r){var a=h(n),o=a.ref.current,i=a.props,l=i.active,s=i.container,d=s.maxX,c=s.maxY;if(null!=o&&l){var f=T(o,n.size),v=f.width,m=f.height,y=(0,u.getFullCoordsFromAnchorCoords)(n.anchor,d,c,v,m);if(e===_.MOVE){var g=function(e){var t=e.top;return{x:e.left,y:t}}(y),E=g.x,S=g.y;n.dragState=p({},n.dragState,{startX:t,startY:r,offsetX:t-E,offsetY:r-S})}else{var O=I(e,y);n.setDOMPositions(O),n.dragState=p({},n.dragState,{startX:t,startY:r,offsetWidth:v,offsetHeight:m})}n.setState({operation:e,operationStarted:!1},function(){window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleOperationEnd)})}},n.handleOperationEnd=function(){var e=n.state,t=e.operation,r=e.operationStarted,a=n.props.onDragEnd;window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleOperationEnd);var o=r?function(){var e=n.props,r=e.onUpdate,a=e.id;r(t,a,n.anchor,n.size,T(n.ref.current,n.size))}:void 0;if(r){var i=n.props.container,l=i.maxX,s=i.maxY,d=T(n.ref.current,n.size),c=d.width,f=d.height,p=(0,u.getFullCoordsFromAnchorCoords)(n.anchor,l,s,c,f),h=(0,u.getAnchorCoordsFromFullCoords)(p);n.setDOMPositions(h),n.setDOMSize({width:c,height:f}),null!=a&&a()}n.setState({operation:null,operationStarted:!1},o)},n.anchor=E(t.anchor),n.size=g(t.size,t.minSize.width,t.minSize.height),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.shouldComponentUpdate=function(e,t){return!((0,l.default)(t,this.state)&&(0,l.default)(e,this.props,["anchor","size","minSize","container"])&&(0,l.default)(e.anchor,this.props.anchor)&&(0,l.default)(e.size,this.props.size)&&(0,l.default)(e.minSize,this.props.minSize)&&(0,l.default)(e.container,this.props.container))},i.componentDidUpdate=function(e,t){null==t.operation&&((0,l.default)(this.props.anchor,e.anchor)||this.setDOMPositions(E(this.props.anchor)),(0,l.default)(this.props.size,e.size)||this.setDOMSize(g(this.props.size,this.props.minSize.width,this.props.minSize.height)))},i.componentWillUnmount=function(){this.handleOperationEnd()},i.handleResizeMouseDown=function(e,t){var n=e.clientX,r=e.clientY;e.stopPropagation(),this.handleOperationStart(t,n,r)},i.handleDragMove=function(e,t){var n=this.ref.current,r=this.props,a=r.id,o=r.container,i=o.maxX,l=o.maxY,s=o.minX,d=o.minY,c=r.onDragStart,f=r.onDrag,p=r.snapOrientation,h=this.dragState,v=h.offsetX,m=h.offsetY,y=this.state.operationStarted;if(null==n)return null;e=Math.max(Math.min(i,e),s),t=Math.max(Math.min(l,t),d);var g=T(n,this.size),E=g.width,S=g.height,O=t-m,N=e-v,C=(0,u.fitFullCoordsToContainer)((0,u.getFullCoordsFromAnchorCoords)({top:O,left:N,bottom:null,right:null},i,l,E,S)),A=p?(0,u.getAnchorCoordsFromFullCoords)(C):I(_.RESIZE_SOUTH_EAST,C);this.setDOMPositions(A),y||(null!=c&&c(),this.setState({operationStarted:!0})),null!=f&&f(a,_.MOVE,this.anchor,this.size)},i.handleResizeMove=function(e,t){var n=this.props,r=n.id,a=n.minSize,o=n.container,i=o.maxX,l=o.maxY,u=o.minX,s=o.minY,d=n.onDragStart,c=n.onDrag,f=this.state,p=f.operation,h=f.operationStarted,v=this.dragState,m=v.startX,y=v.startY,g=v.offsetWidth,E=v.offsetHeight,S=0,T=0;if(null!=p){switch(e=Math.max(Math.min(i,e),u),t=Math.max(Math.min(l,t),s),p){case _.RESIZE_EAST:case _.RESIZE_SOUTH_EAST:case _.RESIZE_NORTH_EAST:S-=m-e;break;case _.RESIZE_WEST:case _.RESIZE_SOUTH_WEST:case _.RESIZE_NORTH_WEST:S+=m-e}switch(p){case _.RESIZE_SOUTH:case _.RESIZE_SOUTH_WEST:case _.RESIZE_SOUTH_EAST:T-=y-t;break;case _.RESIZE_NORTH:case _.RESIZE_NORTH_WEST:case _.RESIZE_NORTH_EAST:T+=y-t}g=Math.max(g+S,a.width),E=Math.max(E+T,a.height),this.setDOMSize({width:g,height:E}),h||(null!=d&&d(),this.setState({operationStarted:!0})),null!=c&&c(r,p,this.anchor,this.size)}},i.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.ref.current;this.anchor={top:t,left:n,bottom:r,right:a},null!=o&&(o.style.top=S(t),o.style.bottom=S(r),o.style.left=S(n),o.style.right=S(a))},i.setDOMSize=function(e){var t=e.width,n=e.height,r=this.ref.current;t="auto"===this.size.width?"auto":t,n="auto"===this.size.height?"auto":n,this.size={width:t,height:n},null!=r&&(r.style.width=S(t),r.style.height=S(n))},i.renderResizeHandles=function(){var e,t,n,r,i,l,u,s,c=this,p=this.props,h=p.resizeY,v=p.resizeX,m=p.active;return f(a.Fragment,{},void 0,h?f(a.Fragment,{},void 0,f("div",{className:(0,o.default)(d.default.resizeNorth,(e={},e[d.default.resizeNSCursor]=m,e)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_NORTH)}}),f("div",{className:(0,o.default)(d.default.resizeSouth,(t={},t[d.default.resizeNSCursor]=m,t)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_SOUTH)}})):null,v?f(a.Fragment,{},void 0,f("div",{className:(0,o.default)(d.default.resizeEast,(n={},n[d.default.resizeEWCursor]=m,n)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_EAST)}}),f("div",{className:(0,o.default)(d.default.resizeWest,(r={},r[d.default.resizeEWCursor]=m,r)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_WEST)}})):null,v&&h?f(a.Fragment,{},void 0,f("div",{className:(0,o.default)(d.default.resizeNorthWest,(i={},i[d.default.resizeNWSECursor]=m,i)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_NORTH_WEST)}}),f("div",{className:(0,o.default)(d.default.resizeNorthEast,(l={},l[d.default.resizeNESWCursor]=m,l)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_NORTH_EAST)}}),f("div",{className:(0,o.default)(d.default.resizeSouthWest,(u={},u[d.default.resizeNESWCursor]=m,u)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_SOUTH_WEST)}}),f("div",{className:(0,o.default)(d.default.resizeSouthEast,(s={},s[d.default.resizeNWSECursor]=m,s)),onMouseDown:function(e){return c.handleResizeMouseDown(e,_.RESIZE_SOUTH_EAST)}})):null)},i.render=function(){var e,t=this.props,n=t.children,r=t.hidden,i=t.onClick,l=t.id,u=t.style,s=this.size,c=this.anchor,f=this.state,h=f.operation,v=f.operationStarted;return a.createElement("div",{ref:this.ref,style:p({},c,s,u,null!=h?{zIndex:1e3}:null,r?{visibility:"hidden"}:null),className:(0,o.default)((e={},e[d.default.wrapper]=!0,e[d.default.operation]=v,e)),onMouseDown:this.handleMouseDown,onClick:i?function(){return i(l)}:null},n(this.handleOperationStart),this.renderResizeHandles())},r}(a.Component);O.displayName="DragResizeContainer",O.Operations=_,O.defaultProps={snapOrientation:!0,minSize:{width:0,height:0},container:{minX:0,minY:0,maxX:1/0,maxY:1/0},resizeX:!0,resizeY:!0,hidden:!1,dragAnywhere:!0,active:!0};var N=O;t.default=N},7156:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},7157:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=d(n(6)),o=n(100),i=d(n(197)),l=n(59),u=n(8086),s=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f={x:0,y:0};function p(e){var t=e.clientX,n=e.clientY;f.x=t,f.y=n}var h=new Map;function v(e,t){if(null==t)h.delete(e),0===h.size&&window.removeEventListener("mousemove",p);else{var n=h.get(e);if(null!=n&&(0,i.default)(n.zone,t.zone))return;0===h.size&&window.addEventListener("mousemove",p),h.set(e,t)}s.default.embedded&&(s.default.requireModule("discord_overlay2").broadcastCommand({message:"set_click_zones",zones:Array.from(h.values()).map(function(e){return e.zone})}),function(){if(m)return;s.default.requireModule("discord_overlay2").setClickZoneCallback(function(e){var t=h.get(e);null!=t&&t.instance.click()}),m=!0}())}var m=!1;var _=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).zone=a.default.uniqueId("ClickArea"),t.interval=new l.Interval,t.updateZone=function(){var e=(0,o.findDOMNode)(c(t));if(e instanceof HTMLElement){var n=e.getBoundingClientRect(),r=n.left,a=n.top,i=n.right,l=n.bottom;v(t.zone,{instance:c(t),zone:{name:t.zone,left:parseInt(r),top:parseInt(a),right:parseInt(i),bottom:parseInt(l)}})}},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.componentDidMount=function(){this.props.observe?this.observeZone():this.updateZone()},s.componentWillUnmount=function(){this.interval.stop(),v(this.zone,null)},s.componentDidUpdate=function(e){var t=this.props.observe;t!==e.observe&&(t?this.observeZone():this.interval.stop())},s.render=function(){return r.Children.only(this.props.children)},s.observeZone=function(){this.updateZone(),this.interval.start(this.props.observeInterval,this.updateZone)},s.click=function(){var e=(0,u.createMouseEvent)("click",f.x,f.y);(0,u.dispatchEventToPoint)(e,f.x,f.y)},i}(r.PureComponent);t.default=_,_.displayName="ClickArea",_.defaultProps={observe:!0,observeInterval:1e3}},7158:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=M(n(3)),i=M(n(233)),l=M(n(11)),u=M(n(823)),s=M(n(20)),d=M(n(816)),c=M(n(450)),f=M(n(245)),p=M(n(5901)),h=M(n(50)),v=M(n(160)),m=M(n(441)),_=M(n(436)),y=n(7011),g=M(n(6069)),E=M(n(6958)),S=M(n(8100)),T=M(n(7159)),I=M(n(7160)),O=M(n(8101)),N=n(0),C=M(n(10)),A=M(n(5828));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=o.default.connectStores([m.default,_.default,s.default,d.default,h.default,p.default,f.default,c.default,i.default,l.default],function(){var e=null,t=h.default.getVoiceChannelId();if(null!=t){var n=s.default.getChannel(t);null!=n&&(e=n.getGuildId())}var r=i.default.getActiveStream();return{guilds:m.default.getSortedGuilds(),channels:s.default.getChannels(),privateChannelIds:_.default.getPrivateChannelIds(),privateChannelsVersion:s.default.getPrivateChannelsVersion(),selectedGuildId:d.default.getGuildId(),selectedPrivateChannelId:h.default.getChannelId(N.ME),unreadGuilds:p.default.getUnreadGuilds(),mentionCounts:p.default.getMentionCounts(),totalUnavailableGuilds:f.default.totalUnavailableGuilds,scrollTop:c.default.getGuildListDimensions().scrollTop,selectedVoiceGuildId:e,selectedVoiceChannelId:t,activeStreamGuildId:null!=r?r.guildId:null,isStreaming:null!=r&&r.ownerId===l.default.getId(),mode:u.default.getMode(t)}})(E.default),P=R(I.default,{});function L(){return P}L.displayName="renderSettings";var D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onDragStart=function(e){(0,t.props.dragStart)(y.Operations.MOVE,e.clientX,e.clientY)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.selectedGuildId,n=e.locked,r=e.contained,a=null!=t?R(S.default,{guildId:t,onDragStart:this.onDragStart}):R(T.default,{title:C.default.Messages.DIRECT_MESSAGES,renderSettings:L,onDragStart:this.onDragStart},void 0,R(O.default,{locked:n}));return R(r?"div":g.default,{className:A.default.base},void 0,R(b,{isOverlay:!0,disableAppDownload:!0,isVisible:!n,isGuest:!1,isLurking:!1}),a)},r}(a.PureComponent);D.displayName="GuildWidget",D.defaultProps={contained:!1};var w=o.default.connectStores([v.default],function(){return{selectedGuildId:v.default.getGuildId()}})(D);t.default=w},7159:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(17)),o=f(n(158)),i=f(n(302)),l=f(n(795)),u=f(n(6069)),s=n(0),d=f(n(10)),c=f(n(5823));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t,n=e.title,r=e.children,f=e.renderSettings,h=e.onDragStart,v=e.banner;return p(o.default,{className:c.default.guildWidgetSidebar,direction:o.default.Direction.VERTICAL},void 0,p(u.default.Bar,{className:(0,a.default)(c.default.header,c.default.draggableStartArea,(t={},t[c.default.banner]=null!=v,t)),onMouseDown:h},void 0,p(u.default.Content,{className:(0,a.default)(c.default.headerTitle,c.default.draggableStartArea),dynamicSize:!0},void 0,n),p(u.default.Content,{},void 0,p(l.default,{position:l.default.Positions.RIGHT,render:f,preventInvert:!0},void 0,p(u.default.Icon,{name:i.default.Names.GEAR,onClick:s.NOOP,label:d.default.Messages.SETTINGS})))),p(o.default,{direction:o.default.Direction.VERTICAL,justify:o.default.Justify.BETWEEN},void 0,r),v)}h.displayName="GuildWidgetSidebar";var v=h;t.default=v},7160:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(163)),i=O(n(3)),l=O(n(316)),u=O(n(802)),s=O(n(5951)),d=O(n(195)),c=O(n(158)),f=O(n(188)),p=O(n(5870)),h=O(n(5856)),v=O(n(5894)),m=O(n(432)),_=O(n(98)),y=O(n(6728)),g=n(243),E=n(0),S=O(n(10)),T=O(n(5235)),I=O(n(5824));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=(0,o.default)({GENERAL:null,VOICE:null});function A(){var e=d.default.getNotificationPositionMode(),t=e!==E.OverlayNotificationPositions.DISABLED,n=s.default.getOverlayKeybind(),r=s.default.getOverlayChatKeybind();l.default.track(E.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:!0,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:d.default.getTextChatNotificationMode(),text_opacity_slider:d.default.getTextWidgetOpacity(),hotkey:null!=n?(0,g.toString)(n.shortcut):null,text_activation_hotkey:null!=r?(0,g.toString)(r.shortcut):null})}var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedSection:C.GENERAL},t.handleSelectSection=function(e){t.setState({selectedSection:e})},t.handleToggleTextChatNotifications=function(){var e=E.OverlayNotificationTextChatTypes.ENABLED,n=E.OverlayNotificationTextChatTypes.DISABLED,r=t.props.textChatNotificationMode===e?n:e;l.default.setTextChatNotificationMode(r),A()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){l.default.track(E.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"overlay",destination_pane:"OVERLAY SETTINGS",origin_pane:null})},o.handleCloseSettings=function(){u.default.close()},o.handleChangeNotificationPositionMode=function(e,t){l.default.setNotificationPositionMode(t),A()},o.handleChangeAvatarSizeMode=function(e){var t=e.value;l.default.setAvatarSizeMode(t)},o.handleChangeDisplayNameMode=function(e){var t=e.value;l.default.setDisplayNameMode(t)},o.handleChangeDisplayUserMode=function(e){var t=e.value;l.default.setDisplayUserMode(t)},o.renderHeader=function(){return N(c.default,{direction:c.default.Direction.VERTICAL,grow:0,shrink:0,className:I.default.header},void 0,N(c.default,{},void 0,N(_.default,{className:I.default.headerTitle,tag:_.default.Tags.H2},void 0,S.default.Messages.OVERLAY_SETTINGS_TITLE),N(f.default.CloseButton,{className:I.default.headerClose,onClick:this.handleCloseSettings})),this.renderTabBar())},o.renderTabBar=function(){var e=this.state.selectedSection;return N(v.default,{selectedItem:e,type:v.default.Types.TOP,className:I.default.tabBar,onItemSelect:this.handleSelectSection},void 0,N(v.default.Item,{id:C.GENERAL,className:I.default.tabBarItem},void 0,S.default.Messages.OVERLAY_SETTINGS_GENERAL_TAB),N(v.default.Item,{id:C.VOICE,className:I.default.tabBarItem},void 0,S.default.Messages.OVERLAY_SETTINGS_VOICE_TAB))},o.renderBody=function(){var e,t=this.state.selectedSection;switch(t){case C.VOICE:e=this.renderVoiceSettings();break;case C.GENERAL:default:e=this.renderGeneralSettings()}return N(f.default.Content,{className:I.default.content},t,e)},o.renderGeneralSettings=function(){var e=this.props,t=e.textChatNotificationMode,n=e.notificationPositionMode,r=n!==E.OverlayNotificationPositions.DISABLED;return N(a.Fragment,{},void 0,N(m.default,{title:S.default.Messages.FORM_LABEL_NOTIFICATION_POSITION,className:T.default.marginBottom20},void 0,N(y.default,{position:n,onChange:this.handleChangeNotificationPositionMode})),N(h.default,{value:r&&t===E.OverlayNotificationTextChatTypes.ENABLED,onChange:this.handleToggleTextChatNotifications,disabled:!r,hideBorder:!0},void 0,S.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))},o.renderVoiceSettings=function(){var e=this.props,t=e.avatarSizeMode,n=e.displayNameMode,r=e.displayUserMode;return N(a.Fragment,{},void 0,N(m.default,{title:S.default.Messages.FORM_LABEL_AVATAR_SIZE,className:T.default.marginBottom20},void 0,N(p.default,{onChange:this.handleChangeAvatarSizeMode,options:[{value:E.OverlayAvatarSizes.LARGE,name:S.default.Messages.AVATAR_SIZE_OPTION_LARGE},{value:E.OverlayAvatarSizes.SMALL,name:S.default.Messages.AVATAR_SIZE_OPTION_SMALL}],value:t,size:p.default.Sizes.SMALL})),N(m.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_NAMES,className:T.default.marginBottom20},void 0,N(p.default,{onChange:this.handleChangeDisplayNameMode,options:[{value:E.OverlayDisplayNames.ALWAYS,name:S.default.Messages.DISPLAY_OPTION_ALWAYS},{value:E.OverlayDisplayNames.ONLY_WHILE_SPEAKING,name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING},{value:E.OverlayDisplayNames.NEVER,name:S.default.Messages.DISPLAY_OPTION_NEVER}],value:n,size:p.default.Sizes.SMALL})),N(m.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_USERS,className:T.default.marginBottom20},void 0,N(p.default,{onChange:this.handleChangeDisplayUserMode,options:[{value:E.OverlayDisplayUsers.ALWAYS,name:S.default.Messages.DISPLAY_OPTION_ALWAYS},{value:E.OverlayDisplayUsers.ONLY_WHILE_SPEAKING,name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING}],value:r,size:p.default.Sizes.SMALL})))},o.render=function(){return N("div",{},void 0,N(f.default,{className:I.default.wrapper},void 0,this.renderHeader(),this.renderBody()))},r}(a.PureComponent);M.displayName="OverlaySettings";var R=i.default.connectStores([d.default],function(){return{avatarSizeMode:d.default.getAvatarSizeMode(),displayNameMode:d.default.getDisplayNameMode(),displayUserMode:d.default.getDisplayUserMode(),notificationPositionMode:d.default.getNotificationPositionMode(),textChatNotificationMode:d.default.getTextChatNotificationMode()}})(M);t.default=R},7161:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=x(n(2)),o=H(n(17)),i=H(n(3)),l=n(303),u=H(n(5990)),s=H(n(162)),d=H(n(316)),c=H(n(5987)),f=H(n(20)),p=H(n(5969)),h=H(n(5958)),v=H(n(23)),m=H(n(5951)),_=H(n(236)),y=H(n(195)),g=H(n(50)),E=H(n(160)),S=H(n(14)),T=n(7011),I=n(805),O=n(853),N=x(n(6069)),C=n(5930),A=n(113),M=H(n(314)),R=n(243),b=H(n(5923)),P=H(n(6741)),L=H(n(6742)),D=H(n(6748)),w=H(n(6753)),U=H(n(5236)),G=H(n(6810)),k=H(n(8104)),F=n(0),j=H(n(10)),B=H(n(5831));function H(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var W=I.OpacityBounds.UPPER,z=function(e){function t(t){var n;return(n=e.call(this,t)||this).ref=a.createRef(),n.draftDidChange=function(e){void 0===e&&(e=n.props);var t=n.state.textValue,r=p.default.getDraft(e.channel.id);t!==r&&n.setState({textValue:r})},n.handleTextareaKeyDown=function(e){if(!(e.which!==F.KeyboardKeys.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===n.state.textValue.length){e.preventDefault();var t=n.props.channel,r=_.default.getLastEditableMessage(t.id);r&&s.default.startEditMessage(t.id,r.id,r.content)}},n.handleTextareaChange=function(e,t){var r=n.props.channel.id;u.default.changeDraft(r,n.state.textValue),""!==t?c.default.startTyping(r):c.default.stopTyping(r),n.setState({textValue:t})},n.handleSendMessage=function(e){var t=n.props,r=t.channel,a=t.isTemporarilyActive;return 0===e.length?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(0,C.applyChatRestrictions)(n.ref.current,e,r).then(function(t){var o=t.valid,i=t.failureReason;return o?(s.default.sendMessage(r.id,M.default.parse(r,e),!0),n.setState({textValue:""}),a?void d.default.deactivateAllRegions():{shouldClear:!0,shouldRefocus:!0}):i===F.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(A.ComponentDispatch.dispatch(F.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}})},n.focusInput=function(){n.setState({focused:!0})},n.blurInput=function(){n.setState({focused:!1})},p.default.addChangeListener(n.draftDidChange),n.state={textValue:p.default.getDraft(t.channel.id),focused:!1},A.ComponentDispatch.subscribe(F.ComponentActions.TEXTAREA_FOCUS,n.focusInput),A.ComponentDispatch.subscribe(F.ComponentActions.TEXTAREA_BLUR,n.blurInput),n}K(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(e),(this.props.channel!==e.channel||!this.props.isTemporarilyActive&&e.isTemporarilyActive)&&this.setState({focused:!0})},n.componentWillUnmount=function(){p.default.removeChangeListener(this.draftDidChange),A.ComponentDispatch.unsubscribe(F.ComponentActions.TEXTAREA_FOCUS,this.focusInput),A.ComponentDispatch.unsubscribe(F.ComponentActions.TEXTAREA_BLUR,this.blurInput)},n.handleResize=function(){A.ComponentDispatch.dispatch(F.ComponentActions.CHAT_RESIZE)},n.render=function(){var e=this,t=this.props,n=t.channel,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["channel"]),o=this.state,i=o.focused,l=o.textValue;return V(n.isPrivate()?P.default:L.default,{channel:n},n.id,a.createElement(b.default,Y({},r,{ref:this.ref,channel:n,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},placeholder:j.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:n.toString(!0)}),value:l,onSubmit:this.handleSendMessage,onChange:this.handleTextareaChange,onKeyDown:this.handleTextareaKeyDown,onResize:this.handleResize,focused:i,disableAttachments:!0,disableImagePaste:!1})))},t}(a.Component);z.displayName="ConnectedChannelTextArea";var $=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePin=function(){d.default.setPinChat(!t.props.pinned)},t.getOpacityType=function(){var e=t.props,n=e.locked,r=e.isPreviewingInGame;if(!(n||r))return I.BackgroundOpacityTypes.FULL;var a=t.getOpacity(),o=I.BackgroundOpacityTypes.MEDIUM;return a===I.OpacityBounds.TOP?o=I.BackgroundOpacityTypes.FULL:a<I.OpacityBounds.LOWER?o=I.BackgroundOpacityTypes.LOW:a>=I.OpacityBounds.UPPER&&(o=I.BackgroundOpacityTypes.HIGH),o},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.user;null!=r&&null!=o&&(0,l.openContextMenu)(e,function(e){return a.createElement(U.default,Y({},e,{type:F.ContextMenuTypes.USER_CHANNEL_TITLE,user:o,selected:!0,channelId:r.id}))})},t.moveDragStart=function(e){(0,t.props.dragStart)(T.Operations.MOVE,e.clientX,e.clientY)},t.resizeDragStart=function(e){(0,t.props.dragStart)(T.Operations.RESIZE_SOUTH_EAST,e.clientX,e.clientY)},t}K(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.channel,r=t.pinned,a=t.activated;null!=n&&(r!==e.pinned&&d.default.track(F.AnalyticEvents.OVERLAY_PIN_TOGGLED,{pinned:r,guild_id:n.guild_id,channel_id:n.id,channel_type:n.type,widget_type:F.OverlayWidgets.TEXT}),a&&!e.activated&&d.default.track(F.AnalyticEvents.OVERLAY_UNLOCKED,{channel_id:n.id,channel_type:n.type,guild_id:n.guild_id}))},n.getOpacity=function(){var e=this.props,t=e.locked,n=e.activated,r=e.opacity,a=e.isPreviewingInGame;return t&&!n||a?r/100:n||!t?Math.min(1,(r+25)/100):N.DEFAULT_OPACITY},n.renderContent=function(){var e,t,n=this.props,r=n.channel,i=n.nsfwAgree,l=n.guild,u=n.locked,s=n.activated,d=n.chatKeybind,c=n.pinned,f=n.isPreviewingInGame,p=n.dragging;if(null==r)return null;var h=u||f,v=!i&&null!=r&&r.isNSFW(),m=!h||s,_=this.getOpacityType();return V(O.MessagesInteractionContext.Provider,{value:{disableInteractions:c&&u&&!s,disableAnimations:c&&h&&!s}},void 0,V(a.Fragment,{},void 0,V(N.default.Background,{opacityOverride:h?null:W},void 0,V("div",{className:(0,o.default)(B.default.messagesContainer,B.default[_+"BackgroundOpacity"],(e={},e[B.default.looksLocked]=f&&(!p||!c),e[B.default.isDragging]=p,e[B.default.disableHoverStates]=c&&u&&!s,e))},void 0,v&&null!=l?V(G.default,{guild:l}):V(D.default,{channel:r,className:B.default.messages,forceCompact:c,backgroundOpacity:_,showNewMessagesBar:!h,scrollerClassName:c?B.default.scroller:void 0,scrollerOuterClassName:c?B.default.scrollerWrap:void 0},r.id))),v?null:V("div",{className:(0,o.default)((t={},t[B.default.looksLocked]=f&&(!p||!c),t))},void 0,m?V(N.default.Background,{opacityOverride:h?null:W},void 0,V("div",{className:B.default.footerContent},void 0,V(z,{channel:r,isTemporarilyActive:s}),V("div",{className:B.default.typingWrapper},void 0,V(w.default,{channel:r,className:B.default.typing})))):V("div",{className:B.default.activateContainer},void 0,V(N.default.Background,{opacityOverride:I.OpacityBounds.LOWER},void 0,V("div",{className:(0,o.default)(B.default.activateKeybind,B.default.mediumBackgroundOpacity)},void 0,null!=r.name&&r.name.length>0?j.default.Messages.OVERLAY_CHANNEL_CHAT_HOTKEY.format({keybind:d,channelName:r.type===F.ChannelTypes.GROUP_DM?r.name:"#"+r.name}):j.default.Messages.OVERLAY_USER_CHAT_HOTKEY.format({keybind:d})))))))},n.renderWidgetWrapper=function(e){var t,n=this.props,r=n.locked,a=n.pinned,i=n.activated,l=n.isPreviewingInGame,u=F.OverlayWidgetTypes.UNPINNED;i?u=F.OverlayWidgetTypes.IN_GAME_ACTIVE:a&&r||l?u=F.OverlayWidgetTypes.IN_GAME_TEXT:a&&(u=F.OverlayWidgetTypes.PINNED);var s=r&&!i||l,d=a&&(s||i),c=a&&i,f=a&&s&&!i,p=this.getOpacity(),h=this.getOpacityType();return V(I.BackgroundOpacityContext.Provider,{value:{backgroundOpacity:h}},void 0,V(N.default,{className:(0,o.default)((t={},t[B.default.widgetWrapper]=!a,t[B.default.widgetWrapperPinned]=a,t[B.default.locked]=f,t[B.default.inGame]=d,t[B.default.inGameActive]=c,t[B.default.pinned]=a,t)),type:u,opacity:p},void 0,e))},n.renderContainedWrapper=function(e){return V("div",{className:B.default.contained},void 0,e)},n.render=function(){var e=this.props,t=e.locked,n=e.channel,r=e.pinned,o=e.isPreviewingInGame,i=e.dragging,l=e.contained;if(null==n)return null;var u=V(a.Fragment,{},void 0,V(k.default,{draggableClassName:B.default.draggableStartArea,className:B.default.headerDefault,channel:n,locked:t,pinned:r,disableDragIndicator:l,dragging:i,isPreviewingInGame:o,handlePin:this.handlePin,onContextMenu:this.handleContextMenu,onMouseDown:this.moveDragStart}),this.renderContent(),t||o?null:V("div",{className:B.default.resizeIcon,onMouseDown:this.resizeDragStart}));return l?this.renderContainedWrapper(u):this.renderWidgetWrapper(u)},t}(a.PureComponent);$.displayName="TextWidget",$.defaultProps={contained:!1};var q=i.default.connectStores([v.default,h.default,f.default,g.default,E.default,y.default,m.default],function(){var e=E.default.getGuildId(),t=g.default.getChannelId(e),n=f.default.getChannel(t),r=m.default.getOverlayChatKeybind(),a=null!=r?(0,R.toString)(r.shortcut,!0):"]",o=y.default.getTextWidgetOpacity(),i=v.default.getGuild(e),l=null!=e&&h.default.didAgree(e),u=y.default.getActiveRegions(),s=null!=n?n.getRecipientId():null;return{guild:i,channel:n,user:null!=s?S.default.getUser(s):null,opacity:o,nsfwAgree:l,chatKeybind:a,activated:u.has(F.OverlayActiveRegions.TEXT_WIDGET)}})($);t.default=q},7162:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.VoiceWidget=void 0;var r,a=W(n(2)),o=K(n(17)),i=K(n(3)),l=n(37),u=n(303),s=n(493),d=K(n(316)),c=W(n(323)),f=n(891),p=n(138),h=K(n(6344)),v=K(n(6003)),m=K(n(233)),_=K(n(11)),y=K(n(20)),g=K(n(35)),E=K(n(43)),S=K(n(195)),T=K(n(60)),I=K(n(50)),O=K(n(453)),N=K(n(14)),C=K(n(132)),A=K(n(452)),M=K(n(6151)),R=K(n(112)),b=K(n(158)),P=K(n(5862)),L=K(n(302)),D=K(n(128)),w=n(806),U=K(n(426)),G=K(n(6069)),k=K(n(6651)),F=K(n(5236)),j=K(n(6804)),B=K(n(6805)),H=K(n(8107)),x=n(0),V=K(n(10)),Y=K(n(5834));function K(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var X=function(e,t){var n=t.deaf||t.selfDeaf;return n||_.default.getId()!==t.userId||(n=E.default.isSelfDeaf(e)),n},J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.user;null!=r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.user;null!=r&&r(e,a)},t}return q(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.flipped,i=r.locked,l=r.deafened,u=r.muted,s=r.streaming,d=r.watching,c=r.user,f=r.size,p=r.speaking,h=r.isPrioritySpeaker,v=r.nick,m=r.displayNameMode;return r.displayUserMode===x.OverlayDisplayUsers.ONLY_WHILE_SPEAKING&&i&&!p?null:$(k.default,{onClick:i?null:this.handleClick,onContextMenu:i?null:this.handleContextMenu,className:(0,o.default)(Y.default.voiceUserWrapper,(e={},e[Y.default.faded]=!p,e[Y.default.interactive]=!i,e)),user:c,nick:v,speaking:!1,flipped:a,isStreaming:s,iconClassName:(0,o.default)((t={},t[Y.default.locked]=i,t)),isWatching:d,size:f,priority:h,deaf:l,mute:u,userNameClassName:(0,o.default)(Y.default.username,(n={},n[Y.default.locked]=i,n[Y.default.hidden]=i&&(m===x.OverlayDisplayNames.NEVER||!p&&m===x.OverlayDisplayNames.ONLY_WHILE_SPEAKING),n))})},t}(a.PureComponent);J.displayName="VoiceUser",J.defaultProps={size:x.OverlayAvatarSizes.LARGE,flipped:!1,locked:!1,speaking:!1,isPrioritySpeaker:!1,deafened:!1,muted:!1};var Q=i.default.connectStores([O.default,E.default,m.default],function(e){var t=e.context,n=e.user,r=e.voiceState,a=function(e,t){var n=t.mute||t.selfMute||t.suppress;return n||_.default.getId()!==t.userId?n||(n=E.default.isLocalMute(t.userId,e)):n=!E.default.isEnabled()||E.default.isSelfMute(e)||E.default.isSelfMutedTemporarily(e),n}(t,r),o=m.default.getActiveStream(),i=null!=o?m.default.getViewerIds(o):[];return{speaking:!a&&O.default.isSpeaking(n.id,t),isPrioritySpeaker:O.default.isPrioritySpeaker(n.id,t),muted:a,deafened:X(t,r),streaming:null!=m.default.getStreamForUser(n.id),watching:null!=o&&o.ownerId!==n.id&&i.includes(n.id)}})(function(e){var t=e.user,n=(e.voiceState,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["user","voiceState"]));return a.createElement(J,z({user:t},n))}),Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,n){var r=t.props,o=r.channel,i=r.context;(0,u.openContextMenu)(e,function(e){return a.createElement(F.default,z({},e,{type:x.ContextMenuTypes.USER_CHANNEL_VOICE,user:n,selected:!0,channelId:null!=o?o.id:null,mediaEngineContext:i}))})},t.handleOpenVoiceSettings=function(){var e=t.props,n=e.context,r=e.channel,a=e.title;null!=r?(0,f.openModal)(n,x.AppContext.OVERLAY):(0,f.openModal)(n,x.AppContext.OVERLAY,a)},t.handlePin=function(){var e=t.props.id;(0,s.togglePinned)(e)},t.handleStopStream=function(){var e=t.props.stream;null!=e&&c.stopStream((0,p.encodeStreamKey)(e))},t}q(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.pinned,r=t.channel;null!=r&&n!==e.pinned&&d.default.track(x.AnalyticEvents.OVERLAY_PIN_TOGGLED,{pinned:n,guild_id:r.guild_id,channel_id:r.id,channel_type:r.type,widget_type:x.OverlayWidgets.VOICE})},n.renderVoiceUsers=function(){var e,t=this,n=this.props,r=n.context,a=n.sortedVoiceStates,i=n.displayNameMode,l=n.displayUserMode,u=n.locked,s=n.isPreviewingInGame,d=n.channel,c=n.anchor,f=n.avatarSizeMode,p=null!=c.right,h=a.map(function(e){var n=e.user,a=e.voiceState,o=e.nick;return null==n?null:$(Q,{user:n,nick:o,channel:d,flipped:p,voiceState:a,displayNameMode:i,displayUserMode:l,size:f,locked:u||s,onContextMenu:t.handleUserContextMenu,onClick:t.handleUserContextMenu,context:r},n.id)});return $(G.default.Body,{className:(0,o.default)((e={},e[Y.default.topMargin]=u,e[Y.default.bottomMargin]=u,e))},void 0,$(k.default.List,{className:Y.default.voiceList},void 0,h))},n.renderHeader=function(){var e,t,n=this.props,r=n.pinned,a=n.title,i=n.isPreviewingInGame,l=n.hasStream;return $(G.default.Bar,{className:(0,o.default)(Y.default.draggableStartArea,(e={},e[Y.default.preview]=i,e))},void 0,$(G.default.Content,{dynamicSize:!0,className:(0,o.default)(Y.default.content,(t={},t[Y.default.hidden]=i,t))},void 0,$(L.default,{name:L.default.Names.DRAG,color:x.Colors.WHITE,width:20,height:20,className:(0,o.default)(Y.default.icon,Y.default.faded,Y.default.dragIcon)}),$(L.default,{name:l?L.default.Names.LIVE_STREAM:L.default.Names.SPEAKER,color:x.Colors.WHITE,width:20,height:20,className:(0,o.default)(Y.default.icon,Y.default.faded,Y.default.speakerIcon)}),$(D.default,{color:x.Colors.PRIMARY_DARK_200,className:Y.default.title},void 0,a)),i?null:$(G.default.Icon,{name:L.default.Names.GEAR,label:V.default.Messages.VOICE_SETTINGS,onClick:this.handleOpenVoiceSettings,tooltipPosition:U.default.Positions.LEFT,size:18}),i?null:$(G.default.Icon,{name:L.default.Names.WIDGET_PINNED,label:r?V.default.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:V.default.Messages.OVERLAY_WIDGET_SHOW_IN_GAME,onClick:this.handlePin,tooltipPosition:U.default.Positions.LEFT,size:18,isActive:r}))},n.renderStreamerSettings=function(){var e,t=this.props,n=t.locked,r=t.pinned,a=t.isPreviewingInGame,i=t.application,l=t.streamApplication,u=t.stream;return n||null==u?null:$(G.default.Bar,{className:(0,o.default)(Y.default.streamerControls,(e={},e[Y.default.hidden]=a,e[Y.default.unpinned]=!r,e))},void 0,$(G.default.Content,{className:Y.default.streamerContent,dynamicSize:!0},void 0,$("div",{className:Y.default.streamerInner},void 0,$(P.default,{className:Y.default.gameIcon,game:i}),$(b.default,{direction:b.default.Direction.VERTICAL,justify:b.default.Justify.BETWEEN,className:Y.default.streamerInfo},void 0,$(D.default,{className:Y.default.streaming},void 0,V.default.Messages.STATUS_STREAMING),null!=l?$(D.default,{title:l.name,className:Y.default.gameName},void 0,l.name):null)),$(b.default,{grow:0},void 0,$("div",{className:Y.default.streamerIconWrapper},void 0,$(j.default,{stream:u,className:Y.default.streamerIcon,appContext:x.AppContext.OVERLAY})),$("div",{className:Y.default.streamerIconWrapper},void 0,$(B.default,{stream:u,streamApplication:l,className:Y.default.streamerIcon,isStreamer:!0,appContext:x.AppContext.OVERLAY})),$("div",{className:Y.default.streamerIconWrapper},void 0,$(w.TooltipContainer,{text:V.default.Messages.STOP_STREAMING},void 0,$(R.default,{onClick:this.handleStopStream,look:R.default.Looks.BLANK,size:R.default.Sizes.NONE},void 0,$(L.default,{className:Y.default.streamerIcon,name:L.default.Names.STOP_STREAM})))))))},n.render=function(){var e,t,n=this.props,r=n.context,a=n.lobbyId,i=n.locked,l=n.pinned,u=n.isPreviewingInGame,s=n.sortedVoiceStates,d=n.channel;if(0===s.length)return null;if(i&&!l)return null;var c=x.OverlayWidgetTypes.UNPINNED;return l&&(c=x.OverlayWidgetTypes.PINNED),u&&(c=x.OverlayWidgetTypes.IN_GAME_PREVIEW),i&&(c=x.OverlayWidgetTypes.IN_GAME),$(G.default,{type:c,width:280},void 0,i?null:this.renderHeader(),this.renderVoiceUsers(),this.renderStreamerSettings(),i?null:$(H.default,{className:(0,o.default)((e={},e[Y.default.preview]=u,e)),contentClassName:(0,o.default)((t={},t[Y.default.hidden]=u,t)),channel:d,lobbyId:a,context:r,pinned:l}))},t}(a.PureComponent);t.VoiceWidget=Z,Z.displayName="VoiceWidget",Z.defaultProps={context:l.MediaEngineContextTypes.DEFAULT};var ee=i.default.connectStores([I.default,y.default,S.default,M.default,m.default,T.default,A.default,C.default,N.default],function(){var e=I.default.getVoiceChannelId(),t=null!=e?y.default.getChannel(e):null,n=null!=t?M.default.getVoiceStatesForChannel(t.guild_id,t.id):[],r=(0,v.default)(T.default,A.default),a=m.default.getActiveStream(),o=N.default.getCurrentUser();return{channel:t,title:null!=t?t.toString():null,sortedVoiceStates:n,displayUserMode:S.default.getDisplayUserMode(),displayNameMode:S.default.getDisplayNameMode(),avatarSizeMode:S.default.getAvatarSizeMode(),application:null!=r?g.default.getGameBySettingGame(r):null,streamApplication:null!=r?{id:null,name:r.name||""}:null,stream:null!=a&&a.ownerId===o.id?a:null,hasStream:null!=t&&(0,h.default)(t,m.default,C.default).length>0}})(Z);t.default=ee},8067:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var r,a=g(n(2)),o=y(n(17)),i=y(n(316)),l=n(352),u=y(n(231)),s=y(n(302)),d=g(n(6150)),c=y(n(6069)),f=y(n(250)),p=n(248),h=y(n(7157)),v=n(0),m=y(n(10)),_=y(n(5819));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function I(){var e=(0,p.getPID)();(0,l.send)({type:v.OverlayEventTypes.DISPATCH,pid:e,payloads:[{type:v.ActionTypes.OVERLAY_SET_INPUT_LOCKED,locked:!0,pid:e}]})}var O=E(c.default.Bar,{},void 0,"Error Details"),N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={showTrace:!1,busy:!1},t.hideNotification=function(){I();var e=S(t).notificationTimer;e&&clearTimeout(e),t.notificationTimer=null},t.handleReload=function(e){t.setState({busy:!0}),I(),i.default.track(v.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:"Overlay Crashed",action_type:"reload"},!0),e.stopPropagation(),setTimeout(function(){return location.reload(!0)},200)},t.handleNotificationClick=function(e){e.stopPropagation();var n=S(t).notificationTimer;n&&clearTimeout(n),e.shiftKey&&t.setState({showTrace:!0})},t}T(t,e);var n=t.prototype;return n.componentDidMount=function(){this.notificationTimer=setTimeout(this.hideNotification,1e4),i.default.track(v.AnalyticEvents.NOTIFICATION_VIEWED,{notif_type:"Overlay Crashed"})},n.componentWillUnmount=function(){var e=this.notificationTimer;e&&clearTimeout(e)},n.render=function(){var e=this.props,t=e.info,n=e.error,r=this.state.showTrace;return null==this.notificationTimer?null:E(h.default,{observe:!1},void 0,E(u.default,{className:(0,o.default)("theme-dark",_.default.container),onClick:function(e){return e.stopPropagation()}},void 0,E(d.default,{expand:!0,colorScheme:d.ColorSchemes.DANGER,icon:E(s.default,{name:s.default.Names.POOP,width:40,height:40,className:_.default.notificationIcon}),title:m.default.Messages.OVERLAY_CRASHED_TITLE,confirmText:m.default.Messages.OVERLAY_RELOAD,onNotificationClick:this.handleNotificationClick,onConfirmClick:this.handleReload,onDismissClick:this.hideNotification}),r&&t?E(c.default,{className:_.default.stackTrace},void 0,O,E(c.default.Content,{className:_.default.stackTraceCode},void 0,E("code",{className:_.default.code},void 0,E("pre",{},void 0,n.stack)))):null))},t}(a.PureComponent);N.displayName="ErrorNotification";var C=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={error:null,info:null},e}T(n,t);var r=n.prototype;return r.componentDidCatch=function(t,n){this.setState({error:t,info:n});var r=(0,p.getPID)();(0,l.send)({type:v.OverlayEventTypes.DISPATCH,pid:(0,p.getPID)(),payloads:[{type:v.ActionTypes.OVERLAY_CRASHED,pid:r},{type:v.ActionTypes.OVERLAY_SET_INPUT_LOCKED,locked:!0,pid:r}]}),e(function(){return window.addEventListener("click",I)}),f.default.captureException(t,{extra:n})},r.render=function(){var e=this.props,t=e.children,n=e.className,r=this.state,a=r.error,o=r.info;return null!=a?E(N,{error:a,info:o}):E("div",{className:n},void 0,t)},n}(a.PureComponent);C.displayName="ErrorBoundary";var A=C;t.default=A}).call(this,n(30).setImmediate)},8068:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5816));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.keybind,n=e.separator,r=e.className;return t.map(function(e,l){return u(a.Fragment,{},l,u("span",{className:(0,o.default)(i.default.key,r)},void 0,e),l===t.length-1?void 0:n)})};s.defaultProps={separator:"+"};var d=s;t.default=d},8069:function(e,t,n){var r=n(8070),a=n(8077)(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=a},8070:function(e,t,n){var r=n(470),a=n(8071);e.exports=function(e){return a(r(e).toLowerCase())}},8071:function(e,t,n){var r=n(8072)("toUpperCase");e.exports=r},8072:function(e,t,n){var r=n(8073),a=n(7156),o=n(8074),i=n(470);e.exports=function(e){return function(t){t=i(t);var n=a(t)?o(t):void 0,l=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return l[e]()+u}}},8073:function(e,t,n){var r=n(6548);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8074:function(e,t,n){var r=n(8075),a=n(7156),o=n(8076);e.exports=function(e){return a(e)?o(e):r(e)}},8075:function(e,t){e.exports=function(e){return e.split("")}},8076:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+a+")"+"?",s="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,i,l].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),d="(?:"+[o+r+"?",r,i,l,n].join("|")+")",c=RegExp(a+"(?="+a+")|"+d+s,"g");e.exports=function(e){return e.match(c)||[]}},8077:function(e,t,n){var r=n(8078),a=n(8079),o=n(8082),i=RegExp("['’]","g");e.exports=function(e){return function(t){return r(o(a(t).replace(i,"")),e,"")}}},8078:function(e,t){e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},8079:function(e,t,n){var r=n(8080),a=n(470),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(o,r).replace(i,"")}},8080:function(e,t,n){var r=n(8081)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=r},8081:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},8082:function(e,t,n){var r=n(8083),a=n(8084),o=n(470),i=n(8085);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?a(e)?i(e):r(e):e.match(t)||[]}},8083:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},8084:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},8085:function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",a="\\d+",o="[\\u2700-\\u27bf]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]",l="[^\\ud800-\\udfff"+n+a+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",d="[A-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:"+i+"|"+l+")",f="(?:"+d+"|"+l+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",u,s].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),v="(?:"+[o,u,s].join("|")+")"+h,m=RegExp([d+"?"+i+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,d,"$"].join("|")+")",f+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,d+c,"$"].join("|")+")",d+"?"+c+"+(?:['’](?:d|ll|m|re|s|t|ve))?",d+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,v].join("|"),"g");e.exports=function(e){return e.match(m)||[]}},8086:function(e,t,n){"use strict";t.__esModule=!0,t.createMouseEvent=function(e,t,n){return new MouseEvent(e,{screenX:t,screenY:n,clientX:t,clientY:n,bubbles:!0,view:window})},t.dispatchEventToPoint=function(e,t,n){var r=document.elementFromPoint(t,n);if(null==r)throw new Error;r.dispatchEvent(e)}},8087:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=j(n(17)),l=j(n(881)),u=j(n(5996)),s=j(n(6573)),d=j(n(3)),c=j(n(164)),f=n(303),p=j(n(316)),h=n(6656),v=j(n(5886)),m=j(n(850)),_=j(n(5951)),y=j(n(438)),g=j(n(195)),E=j(n(812)),S=j(n(50)),T=j(n(161)),I=j(n(854)),O=j(n(231)),N=j(n(158)),C=j(n(8)),A=n(248),M=n(243),R=j(n(6563)),b=j(n(8088)),P=j(n(8089)),L=j(n(8090)),D=j(n(8098)),w=j(n(8110)),U=j(n(8111)),G=n(0),k=j(n(10)),F=j(n(5835));function j(e){return e&&e.__esModule?e:{default:e}}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}d.default.PersistedStore.disableWrites=__OVERLAY__,d.default.initialize();var H=null;function x(e){e.preventDefault()}function V(e){(0,f.openContextMenu)(e,function(e){return o.createElement(b.default,e)})}y.default.registerModals(w.default),C.default.embedded;var Y=function(e){var t,n=e.keybind,r=e.onClick,a=e.isPreviewingInGame,o=e.locked;return B(o?O.default:"div",{className:(0,i.default)(F.default.overlayBackground,(t={},t[F.default.overlayActive]=!o,t[F.default.overlayLocked]=o,t[F.default.previewMode]=!o&&a,t)),onMouseDown:function(e){var t=e.currentTarget,n=e.target;e.button===G.MouseButtons.PRIMARY&&t===n&&r()},onContextMenu:V},void 0,o?null:B("div",{className:F.default.closeContainer},void 0,B(R.default,{theme:G.ThemeTypes.DARK,variant:R.default.Variants.BOLD,keybind:n,closeAction:r})))};Y.displayName="OverlayBackground";var K=function(e){return{keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey}},W=B(U.default,{}),z=B(P.default,{}),$=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleWindowResize=(0,u.default)(function(){n.forceUpdate()},500),n.activeKeyEventShapes=[],n.lockEventShape=(0,M.toBrowserEvents)(n.props.keybindKeyCodes),n.getActiveKeyEventIndex=function(e){return n.activeKeyEventShapes.findIndex(function(t){return(0,s.default)(t,e)})},n.onKeyDownGlobal=function(e){var t=K(e),r=n.getActiveKeyEventIndex(t)>-1,a=[16,17,18,91].includes(e.keyCode);r||a||n.activeKeyEventShapes.push(t),n.activeKeyEventShapes.length===n.lockEventShape.length&&n.lockEventShape.every(function(e){return n.activeKeyEventShapes.some(function(t){return(0,s.default)(e,t)})})&&(e.preventDefault(),e.stopPropagation());var o=n.props,i=o.locked,u=o.activeRegions;t.keyCode===l.default.codes.esc&&i&&u.has(G.OverlayActiveRegions.TEXT_WIDGET)&&p.default.deactivateAllRegions()},n.onKeyUpGlobal=function(e){var t=K(e),r=n.getActiveKeyEventIndex(t);r>-1&&n.activeKeyEventShapes.splice(r,1)};var r=t.locked&&g.default.isPinned(G.OverlayWidgets.TEXT);return v.default.setLayout(r?h.OVERLAY_LOCKED_LAYOUT:h.OVERLAY_LAYOUT),r&&v.default.enable(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleLock=function(){y.default.hasModalOpen()||m.default.isOpen()||0!==E.default.getPopouts().length||p.default.setLocked(!0,(0,A.getPID)())},o.handleDeactivate=function(){p.default.deactivateAllRegions()},o.componentDidMount=function(){p.default.startSession()},o.componentDidUpdate=function(e){var t=this.props.initialized;if(t)if(!t||e.initialized){if(!e.locked&&this.props.locked){if(window.addEventListener("contextmenu",x,!1),null!=H){var n=Date.now()-H;p.default.track(G.AnalyticEvents.OVERLAY_LOCKED,{unlocked_duration:n}),H=null}v.default.disable(),this.activeKeyEventShapes=[],g.default.isPinned(G.OverlayWidgets.TEXT)&&(v.default.setLayout(h.OVERLAY_LOCKED_LAYOUT),v.default.enable())}else e.locked&&!this.props.locked&&(window.removeEventListener("contextmenu",x,!1),null==H&&(H=Date.now(),p.default.track(G.AnalyticEvents.OVERLAY_UNLOCKED)),v.default.disable(),this.activeKeyEventShapes=[],v.default.setLayout(h.OVERLAY_LAYOUT),v.default.enable());e.keybindKeyCodes!==this.props.keybindKeyCodes&&(this.lockEventShape=(0,M.toBrowserEvents)(this.props.keybindKeyCodes))}else this.initialSetup()},o.initialSetup=function(){var e=this.props,t=e.connectedToVoice,n=e.locked;if(p.default.track(G.AnalyticEvents.OVERLAY_INITIALIZED,{voice_widget_connected:t,text_widget_connected:g.default.isPinned(G.OverlayWidgets.TEXT)}),p.default.overlayMounted(),window.addEventListener("resize",this.handleWindowResize),n&&window.addEventListener("contextmenu",x,!1),C.default.blur(),C.default.embedded){var r=C.default.requireModule("discord_overlay2");void 0!==r.setPerfInfoCallback&&(r.setPerfInfoCallback(function(e){p.default.track(G.AnalyticEvents.OVERLAY_PERF_INFO,e)}),r.broadcastCommand({message:"set_perf_report_interval",interval:9e5})),C.default.on("REQUEST_OPEN_EXTERNAL_URL",function(e,t){g.default.getDisableExternalLinkAlert()||t===I.default.getLastURL()?C.default.send("OPEN_EXTERNAL_URL",t):c.default.show({title:k.default.Messages.OVERLAY_LINK_ALERT_TITLE,body:k.default.Messages.OVERLAY_LINK_ALERT_BODY,minorText:k.default.Messages.OVERLAY_LINK_ALERT_SECONDARY,confirmText:k.default.Messages.CONTINUE,cancelText:k.default.Messages.CANCEL,onConfirmSecondary:function(){p.default.disableExternalLinkAlert(),C.default.send("OPEN_EXTERNAL_URL",t)},onConfirm:function(){return C.default.send("OPEN_EXTERNAL_URL",t)}})})}window.addEventListener("keydown",this.onKeyDownGlobal,!0),window.addEventListener("keyup",this.onKeyUpGlobal,!0)},o.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("keydown",this.onKeyDownGlobal,!0),window.removeEventListener("keyup",this.onKeyUpGlobal,!0),this.props.locked&&window.removeEventListener("contextmenu",x,!1)},o.renderInvalidSizeMessage=function(){return B(N.default,{justify:N.default.Justify.CENTER,align:N.default.Align.CENTER,className:F.default.invalidContainer},void 0,B("div",{className:F.default.inactiveContainer},void 0,k.default.Messages.OVERLAY_TOO_SMALL.format(A.OVERLAY_MIN_RESOLUTION)))},o.render=function(){var e,t=this.props,n=t.locked,r=t.keybind,o=t.incompatibleApp,l=t.initialized,u=t.isPreviewingInGame,s=t.activeRegions,d=t.windowSize,c=d.width,f=d.height;if(0===c||0===f||o||!l)return null;var p=n||u;return B("div",{className:F.default.overlay},void 0,W,u&&B("header",{className:F.default.previewingInGameHeader},void 0,k.default.Messages.OVERLAY_IN_GAME_PREVIEW_HEADER),a,(!n||s.has(G.OverlayActiveRegions.TEXT_WIDGET))&&B(Y,{locked:n,keybind:r,onClick:n?this.handleDeactivate:this.handleLock,isPreviewingInGame:u}),(0,A.validResolution)(d)?B(D.default,{className:(0,i.default)((e={},e[F.default.layoutLocked]=n,e[F.default.layoutUnlocked]=!n,e))}):n?null:this.renderInvalidSizeMessage(),B(L.default,{locked:p,keybind:r}),z)},r}(o.Component);$.displayName="Overlay";var q=d.default.connectStores([g.default,S.default,_.default,T.default],function(){var e=_.default.getOverlayKeybind();return{windowSize:T.default.windowSize(),connectedToVoice:null!=S.default.getVoiceChannelId(),locked:g.default.isUILocked((0,A.getPID)()),keybind:null!=e?(0,M.toString)(e.shortcut,!0):"???",keybindKeyCodes:null!=e?e.shortcut:[],initialized:g.default.initialized,incompatibleApp:g.default.incompatibleApp,activeRegions:g.default.getActiveRegions(),isPreviewingInGame:g.default.isPreviewingInGame()}})($);t.default=q},8088:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(303),i=c(n(316)),l=n(248),u=c(n(5853)),s=c(n(5848)),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleClick=function(e){e.stopPropagation(),i.default.resetDefaultLayout(l.OVERLAY_LAYOUT_ID),(0,o.closeContextMenu)()},a.render=function(){var e=this.props;return f("div",{style:e.style,className:e.className},void 0,f(u.default,{},void 0,f(s.default,{label:d.default.Messages.OVERLAY_RESET_DEFAULT_LAYOUT,action:this.handleClick})))},r}(a.PureComponent);p.displayName="OverlayBackgroundContextMenu";var h=p;t.default=h},8089:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=c(n(3)),o=n(888),i=c(n(195)),l=c(n(50)),u=c(n(160)),s=n(248),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){if(this.props.locked)return null;var t=this.props,n=t.selectedGuild,r=t.selectedChannel;n!==e.selectedGuild&&(0,o.trackWithOverlayMetadata)(d.AnalyticEvents.GUILD_VIEWED),null!=r&&r!==e.selectedChannel&&(0,o.trackWithOverlayMetadata)(d.AnalyticEvents.CHANNEL_OPENED)},a.render=function(){return null},r}(r.Component);f.displayName="AutoAnalytics";var p=a.default.connectStores([l.default,u.default],function(){var e=u.default.getGuildId();return{selectedGuild:e,selectedChannel:l.default.getChannelId(e),locked:i.default.isUILocked((0,s.getPID)())}})(f);t.default=p},8090:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(3)),l=p(n(803)),u=p(n(195)),s=p(n(8091)),d=p(n(8097)),c=n(0),f=p(n(5821));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.keybind,n=e.notifications,r=e.position,a=e.locked;if(r===c.OverlayNotificationPositions.DISABLED)return null;var i=-1;return h(l.default,{component:"div",className:(0,o.default)(f.default.container,f.default[r])},void 0,n.map(function(e){return a&&e.status===c.OverlayNotificationStatus.TIMED_OUT?null:(i+=1,h(d.default,{index:i,zIndex:100-i,position:r,notification:e,keybind:t,locked:a},e.id))}))},r}(a.Component);v.displayName="Notifications";var m=i.default.connectStores([s.default,u.default],function(){return{notifications:s.default.getNotifications(),position:u.default.getNotificationPositionMode()}})(v);t.default=m},8091:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=N(n(135)),a=N(n(3)),o=N(n(1)),i=N(n(316)),l=N(n(8092)),u=N(n(8093)),s=N(n(8094)),d=N(n(8095)),c=N(n(8096)),f=n(6324),p=n(451),h=N(n(11)),v=N(n(20)),m=N(n(835)),_=n(7004),y=N(n(195)),g=N(n(101)),E=N(n(50)),S=N(n(194)),T=N(n(14)),I=N(n(452)),O=n(0);function N(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=5e3,M=8e3,R=3e4,b=10,P=Object.freeze({priority:O.OverlayNotificationPriorities.NORMAL,duration:A,expirationExternallyManaged:!1,type:O.OverlayNotificationTypes.GENERIC}),L=[],D=function(e,t,n){var r=t?O.OverlayNotificationStatus.TIMED_OUT:O.OverlayNotificationStatus.DISMISSED;return setTimeout(function(){return i.default.updateNotificationStatus(e,r)},null!=n?n:A)};function w(e,t){if(void 0===t&&(t=O.OverlayNotificationStatus.DISMISSED),null==e)return!1;var n=L.findIndex(function(t){return t.id===e});if(-1===n)return!1;var r=L[n];clearTimeout(r.timerId),L=[].concat(L),t===O.OverlayNotificationStatus.DISMISSED?L.splice(n,1):L[n]=C({},r,{status:t})}function U(e){var t=L.length;return(L=L.filter(function(t){return t.type!==O.OverlayNotificationTypes.TEXT||t.channelId!==e})).length!==t}function G(e){var t=L.find(function(t){return t.type===O.OverlayNotificationTypes.INCOMING_CALL&&t.channelId===e});return null!=t?t.id:null}function k(e,t){var n=C({},P,t);if(n.priority!==O.OverlayNotificationPriorities.URGENT&&!y.default.isInstanceFocused())return null;var a=r.default.v4(),o=C({id:a,status:O.OverlayNotificationStatus.ACTIVE,timerId:D(a,n.expirationExternallyManaged,n.duration),props:e},n),i=(L=[].concat(L)).findIndex(function(e){return e.priority<=n.priority});if(-1===i?L.push(o):L.splice(i,0,o),L.length>b){var l=L.pop();clearTimeout(l.timerId)}return a}function F(e){var t=e.channelId,n=e.ringing,r=G(t);if(!n.includes(h.default.getId()))return w(r);if(null!=r)return!1;var a=v.default.getChannel(t);if(null==a)return!1;if(S.default.getStatus()===O.StatusTypes.DND)return!1;var o=L.find(function(e){return e.type===O.OverlayNotificationTypes.TEXT&&e.channelId===t&&e.messageType===O.MessageTypes.CALL});null!=o&&w(o.id),k((0,u.default)(a),{priority:O.OverlayNotificationPriorities.HIGH,expirationExternallyManaged:!0,type:O.OverlayNotificationTypes.INCOMING_CALL,channelId:a.id})}var j=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(v.default,T.default)},a.getNotifications=function(){return L},r}(a.default.Store))(o.default,__OVERLAY__?{OVERLAY_UPDATE_NOTIFICATION_STATUS:function(e){w(e.notificationId,e.status)},OVERLAY_MOUNTED:function(e){var t=e.newsNudge;k((0,c.default)(t),{priority:O.OverlayNotificationPriorities.URGENT,duration:null!=t?M:A})},OVERLAY_SET_INPUT_LOCKED:function(e){if(e.locked)return!1;L=L.map(function(e){return e.status===O.OverlayNotificationStatus.ACTIVE?(clearTimeout(e.timerId),C({},e,{timerId:D(e.id,e.expirationExternallyManaged)})):e})},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=v.default.getChannel(t),a=T.default.getUser(n.author.id);if(null==r||null==a)return!1;if(!(0,f.shouldNotify)(n,t))return!1;if((!y.default.isInstanceUILocked()||y.default.isPinned(O.OverlayWidgets.TEXT))&&t===E.default.getChannelId())return!1;var o=y.default.getTextChatNotificationMode()!==O.OverlayNotificationTextChatTypes.DISABLED;if(y.default.isInstanceFocused()&&o&&(m.default.isSoundDisabled(_.MESSAGE_SOUND)||(0,p.playSound)(_.MESSAGE_SOUND,_.MESSAGE_SOUND_VOLUME)),null!=n.activity&&n.activity.type===O.ActivityActionTypes.JOIN){var i=function(e,t,n){var r=I.default.getGame();if(null==r)return!1;var a=g.default.getApplicationActivity(n.id,r.id);if(null==a||null==a.party||a.party.id!==t.activity.party_id)return!1;var o=(0,l.default)(e,t,n,r,a);if(null==o)return!1;var i=k(o,{priority:O.OverlayNotificationPriorities.HIGH,expirationExternallyManaged:!0,channelId:e.id});return null!=i&&D(i,!1,R),!0}(r,n,a);if(!1!==i)return i}if(!o)return!1;k((0,d.default)(r,n,a),{type:O.OverlayNotificationTypes.TEXT,channelId:r.id,messageType:n.type})},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&U(t)},MESSAGE_ACK:function(e){return U(e.channelId)},CALL_CREATE:F,CALL_UPDATE:F,CALL_DELETE:function(e){w(G(e.channelId))},ACTIVITY_JOIN_REQUEST:function(e){var t=e.applicationId,n=e.user.id,r=I.default.getGame();if(null==r||r.id!==t)return!1;var a=T.default.getUser(n);if(null==a)return!1;var o=k((0,s.default)(a,t,r.name),{priority:O.OverlayNotificationPriorities.HIGH,expirationExternallyManaged:!0});return null!=o&&D(o,!1,R),!0}}:{});t.default=j},8092:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,s,d){if(null==t.activity)return null;var c=t.activity.type,f=d.session_id;if(null==f)return null;var p=(0,i.makeTextChatNotification)(e,t,n),h=p.icon,v=p.title,m=p.body,_=(0,l.makeAnalyticsTrackers)({notif_type:"Activity Invite",notif_user_id:n.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,activity_type:c,activity_name:d.name}),y=_.trackView,g=_.trackClick;return{colorScheme:o.default.ColorSchemes.PRIMARY,icon:h,title:v,body:m,hint:function(e){return(0,o.renderKeybindHint)(e,(0,l.getOverlayKeybind)(),u.default.Messages.OVERLAY_UNLOCK_TO_JOIN)},onNotificationShow:function(){y()},confirmText:u.default.Messages.JOIN,onConfirmClick:function(o,i){r.default.join(n.id,f,s.id,e.id,t.id),a.default.updateNotificationStatus(i),g("join")},onDismissClick:function(){g("dismiss")}}};var r=s(n(134)),a=s(n(316)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6150)),i=n(6324),l=n(6545),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}},8093:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.toString(),n=u.default.Messages.OVERLAY_NOTIFICATION_INCOMING_CALL,s=e.getIconURL(),d=(0,i.makeAnalyticsTrackers)({notif_type:"Incoming Call",notif_user_id:1===e.recipients.length?e.recipients[0]:null,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),c=d.trackView,f=d.trackClick;return{colorScheme:o.default.ColorSchemes.PRIMARY,icon:s,title:t,body:n,hint:function(e){return(0,o.renderKeybindHint)(e,(0,i.getOverlayKeybind)(),u.default.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:u.default.Messages.JOIN_CALL,cancelText:u.default.Messages.DECLINE,onNotificationShow:function(){c()},onConfirmClick:function(){a.default.callPrivateChannel(e.id),f("join"),a.default.track(l.AnalyticEvents.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:null,channel_id:e.id,video_enabled:!1})},onCancelClick:function(){r.default.stopRinging(e.id),f("decline")},onDismissClick:function(){f("dismiss")}}};var r=s(n(333)),a=s(n(316)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6150)),i=n(6545),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}},8094:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var s=e.username,d=u.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({username:"",game:n}),c=e.getAvatarURL(),f=(0,i.makeAnalyticsTrackers)({notif_type:"Activity Invite",notif_user_id:e.id,activity_type:l.ActivityActionTypes.JOIN_REQUEST,activity_name:n}),p=f.trackView,h=f.trackClick;return{colorScheme:o.default.ColorSchemes.PRIMARY,icon:c,title:s,body:d,hint:function(e){return(0,o.renderKeybindHint)(e,(0,i.getOverlayKeybind)(),u.default.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:u.default.Messages.USER_ACTIVITY_RESPOND_YEAH,cancelText:u.default.Messages.USER_ACTIVITY_RESPOND_NOPE,onNotificationShow:function(){p()},onConfirmClick:function(n,o){(0,r.invite)(e.id,t),h("join"),a.default.updateNotificationStatus(o)},onCancelClick:function(t,n){(0,r.close)(e.id),a.default.updateNotificationStatus(n),h("decline")},onDismissClick:function(){h("dismiss")}}};var r=n(887),a=s(n(316)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6150)),i=n(6545),l=n(0),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}},8095:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var f=(0,l.makeTextChatNotification)(e,t,n),h=f.icon,v=f.title,m=f.body,_=(0,s.makeAnalyticsTrackers)({notif_type:"Text Chat",notif_user_id:t.author.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),y=_.trackView,g=_.trackClick;return{colorScheme:i.ColorSchemes.PRIMARY,icon:h,title:v,body:m,renderFooter:function(e){return e?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{style:{textAlign:"center"}},void 0,c.default.Messages.OVERLAY_CLICK_TO_JUMP_TO_CHANNEL):null},maxBodyLines:p,onNotificationShow:function(){y()},onNotificationClick:function(){u.default.transitionTo(d.Routes.CHANNEL(e.guild_id||d.ME,e.id)),g("jump"),o.default.isInstanceUILocked()&&a.default.setInstanceLocked(!1)},onDismissClick:function(){g("dismiss")}}};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(316)),o=f(n(195)),i=n(6150),l=n(6324),u=f(n(45)),s=n(6545),d=n(0),c=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}var p=2},8096:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=null!=e&&null!=e.icon?e.icon:n(935),s=null!=e?e.title:u.default.Messages.OVERLAY_LAUNCH_TITLE,c=(0,l.makeAnalyticsTrackers)({notif_type:null!=e?"News Nudge":"Welcome Nudge"}),f=c.trackView,p=c.trackClick;return{colorScheme:null!=e?i.ColorSchemes.BRAND:i.ColorSchemes.PRIMARY,icon:t,title:s,body:null!=e?e.body:null,hint:null!=e?e.hint:d,renderFooter:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{style:{textAlign:"center",padding:2}},void 0,u.default.Messages.OVERLAY_CLICK_TO_UNLOCK)},onNotificationShow:function(){f()},onNotificationClick:function(t,n){p("unlock"),null==e&&a.default.updateNotificationStatus(n),o.default.isInstanceUILocked()&&a.default.setInstanceLocked(!1)},onDismissClick:function(){p("dismiss")}}};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(316)),o=s(n(195)),i=n(6150),l=n(6545),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return(0,i.renderKeybindHint)(e,(0,l.getOverlayKeybind)(),u.default.Messages.OVERLAY_LAUNCH_OPEN_TIP)}},8097:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(304)),i=c(n(316)),l=c(n(6150)),u=c(n(7157)),s=n(0),d=c(n(5820));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).translateX=new o.default.Value(0),t.translateY=new o.default.Value(0),t.scale=new o.default.Value(1),t.opacity=new o.default.Value(1),t.state={animatedIn:!1},t.handleNotificationShow=function(){var e=t.props.notification,n=e.id;(0,e.props.onNotificationShow)(n)},t.handleDismissClick=function(e){var n=t.props.notification,r=n.id,a=n.props.onDismissClick;i.default.updateNotificationStatus(r),null!=a&&a(e,r)},t.handleNotificationClick=function(e){var n=t.props.notification,r=n.id,a=n.props.onNotificationClick;null!=a&&a(e,r)},t.handleConfirmClick=function(e){var n=t.props.notification,r=n.id,a=n.props.onConfirmClick;null!=a&&a(e,r)},t.handleCancelClick=function(e){var n=t.props.notification,r=n.id,a=n.props.onCancelClick;null!=a&&a(e,r)},t.handleAnimationEnd=function(){t.state.animatedIn||t.setState({animatedIn:!0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentWillAppear=function(e){var t=this.props.index;e(),this.animateTo(t)},c.componentWillEnter=function(e){var t=this.props.index;e(),this.animateTo(t)},c.componentWillLeave=function(e){var t=this.props.index;this.animateTo(t,e)},c.componentDidUpdate=function(e){var t=this.props.index;e.index!==t&&this.animateTo(t)},c.animateTo=function(e,t){var n,r,a,o,i=this.opacity,l=this.scale,u=this.translateX,s=this.translateY;switch(e){case 0:r=0,a=1,o=1;break;case 1:r=.3,a=.6,o=.98;break;case 2:r=.6,a=.3,o=.95;break;default:r=.6,a=0,o=.93}null!=t?(0===e?o=1.1:r=1.3,a=0,n=t):n=this.handleAnimationEnd,u.setValue(1),s.setValue(r),l.setValue(o),i.setValue(a),n()},c.getStyle=function(){var e,t,n,r,a,o=this.opacity,i=this.scale,l=this.translateX,u=this.translateY,d=this.props,c=d.position,f=d.zIndex;switch(c){case s.OverlayNotificationPositions.TOP_LEFT:case s.OverlayNotificationPositions.BOTTOM_LEFT:e="-100%",t=0;break;default:n=0,e="100%"}switch(c){case s.OverlayNotificationPositions.BOTTOM_LEFT:case s.OverlayNotificationPositions.BOTTOM_RIGHT:r=0;break;default:a=0}return{left:t,right:n,bottom:r,top:a,zIndex:f,opacity:o,transform:[{translateX:l.interpolate({inputRange:[0,1],outputRange:[e,"0%"]})},{translateY:u.interpolate({inputRange:[0,1],outputRange:["0px","20px"]})},{scale:i}]}},c.render=function(){var e=this.props,t=e.locked,n=e.index,r=e.notification.props,i=(r.onNotificationShow,r.onDismissClick,r.onNotificationClick),s=r.onConfirmClick,c=r.onCancelClick,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["onNotificationShow","onDismissClick","onNotificationClick","onConfirmClick","onCancelClick"]),v=this.state.animatedIn,m=f(o.default.div,{className:d.default.animationContainer,style:this.getStyle()},void 0,a.createElement(l.default,p({},h,{onNotificationShow:v&&0===n?this.handleNotificationShow:null,onDismissClick:this.handleDismissClick,onNotificationClick:null!=i?this.handleNotificationClick:null,onConfirmClick:null!=s?this.handleConfirmClick:null,onCancelClick:null!=c?this.handleCancelClick:null,expand:!t&&0===n,disabled:0!==n})));return 0===n?f(u.default,{observeInterval:200},void 0,m):m},r}(a.Component);h.displayName="Notification";var v=h;t.default=v},8098:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=O(n(2)),i=I(n(3)),l=n(493),u=I(n(316)),s=(I(n(943)),I(n(353))),d=I(n(195)),c=I(n(161)),f=O(n(7011)),p=n(113),h=n(482),v=n(248),m=I(n(8099)),_=I(n(7158)),y=I(n(8103)),g=I(n(8106)),E=I(n(7161)),S=I(n(7162)),T=n(0);function I(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=Object.freeze(((r={})[T.OverlayWidgets.TEXT]=function(e){var t=e.dragging,n=e.locked,r=e.pinned,a=e.dragStart;return N(E.default,{dragStart:a,locked:n,pinned:r,dragging:t,isPreviewingInGame:!1})},r[T.OverlayWidgets.GUILDS]=function(e){var t=e.locked,n=e.dragStart;return N(_.default,{dragStart:n,locked:t})},r[T.OverlayWidgets.VOICE]=function(e){var t=e.id,n=e.anchor,r=e.isPreviewingInGame,a=e.locked,o=e.pinned;return N(S.default,{anchor:n,id:t,locked:a,pinned:o,isPreviewingInGame:r,lobbyId:null})},r[T.OverlayWidgets.GUILDS_TEXT]=function(e){var t=e.dragging,n=e.locked,r=e.dragStart;return N(y.default,{dragStart:r,dragging:t,locked:n,pinned:!1,isPreviewingInGame:!1})},r[T.OverlayWidgets.LOBBY_VOICE]=function(e){var t=e.id,n=e.anchor,r=e.isPreviewingInGame,a=e.locked,o=e.pinned;return N(g.default,{anchor:n,id:t,locked:a,pinned:o,isPreviewingInGame:r})},r)),A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={lastLayoutUpdate:null,dragging:!1},t.handleUpdate=function(e,n,r,a,o){var i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),u=i.props.layoutSize,d=i.state.lastLayoutUpdate;if((0,v.validResolution)(u)){var c=(0,h.getAnchorPercentageFromLayoutSize)(r,u),p=(0,h.getSizePercentageFromSize)(a,u);(0,l.setTopWidget)(n),(0,l.setWidgetLayout)(n,c,p);var m=e===f.Operations.MOVE,_=!m,y=(0,h.getFullCoordsFromAnchorCoords)(r,u.width,u.height,o.width,o.height);t.setState({lastLayoutUpdate:{was_resized:null!=d&&d.was_resized||_,was_dragged:null!=d&&d.was_dragged||m,widget_type:s.default.getWidgetType(n),window_width:u.width,window_height:u.height,widget_width:o.width,widget_height:o.height,widget_left:y.left,widget_top:y.top}})}},t.handleFocus=function(e){var n=t.props.layoutSize;(0,v.validResolution)(n)&&(0,l.setTopWidget)(e)},t.handleDragStart=function(){var e=t.props.widget;null!=e&&(e.pinned&&u.default.setPreviewInGameMode(!0),t.setState({dragging:!0}))},t.handleDrag=function(e,n){if(n!==f.Operations.MOVE){var r=t.props.widget;null!=r&&(r.type!==T.OverlayWidgets.GUILDS&&r.type!==T.OverlayWidgets.GUILDS_TEXT||p.ComponentDispatch.dispatch(T.ComponentActions.CHANNEL_LIST_RECALCULATE),r.type!==T.OverlayWidgets.TEXT&&r.type!==T.OverlayWidgets.GUILDS_TEXT||p.ComponentDispatch.dispatch(T.ComponentActions.CHAT_RESIZE))}},t.handleDragEnd=function(){var e=t.props.widget;null!=e&&(e.pinned&&u.default.setPreviewInGameMode(!1),t.setState({dragging:!1}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){this.props.locked&&!e.locked&&null!=this.state.lastLayoutUpdate&&(u.default.track(T.AnalyticEvents.OVERLAY_LAYOUT_UPDATED,this.state.lastLayoutUpdate),this.setState({lastLayoutUpdate:null}))},a.renderWidget=function(e,t,n){var r=this.props,a=r.locked,o=r.isPreviewingInGame,i=this.state.dragging,l=C[e.type];if(null==l)throw new Error("OverlayLayout: Widget does not exist in WidgetMap");return function(r){return l({id:e.id,locked:a,pinned:e.pinned,dragging:i,isPreviewingInGame:o,anchor:t,size:n,dragStart:r})}},a.render=function(){var e=this.props,t=e.widget,n=e.widgetConfig,r=e.layoutSize,a=e.locked,o=e.isPreviewingInGame,i=e.isActiveRegion;if(null==t||null==n)return null;var l=t.id,u=t.pinned,s=t.zIndex,d=t.size,c=t.anchor,p=(0,h.getSizeFromLayoutSize)(d,r),v=(0,h.getAnchorCoordsFromLayoutSize)(c,r),m=n.minSize,_=n.resizeX,y=n.resizeY,g=n.dragAnywhere,E=!a||i,S=!o&&!a||u,T={minX:0,minY:0,maxX:r.width,maxY:r.height};return N(f.default,{id:l,size:p,anchor:v,container:T,minSize:m,hidden:!S,resizeX:_,resizeY:y,style:{zIndex:s},dragAnywhere:g,active:E,onUpdate:this.handleUpdate,onClick:this.handleFocus,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},void 0,this.renderWidget(t,v,p))},r}(o.PureComponent);A.displayName="Widget";var M=i.default.connectStores([d.default,s.default,c.default],function(e){var t=e.widgetId,n=s.default.getWidget(t),r=d.default.getActiveRegions();return{widget:n,widgetConfig:null!=n?s.default.getWidgetConfig(n.type):null,locked:d.default.isInstanceUILocked(),isPreviewingInGame:d.default.isPreviewingInGame(),isActiveRegion:null!=n&&r.has(n.type)}})(A);function R(e,t){return N(M,{widgetId:e,layoutSize:t},e)}R.displayName="renderWidget";var b=i.default.connectStores([s.default,c.default],function(){return{layout:s.default.getLayout(v.OVERLAY_LAYOUT_ID),layoutSize:c.default.windowSize(),renderWidget:R}})(m.default);t.default=b},8099:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));(r=n(942))&&r.__esModule;var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.layout,n=e.layoutSize,r=e.className,o=e.renderWidget;return null!=t?function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:r,style:{width:n.width,height:n.height}},void 0,t.widgets.map(function(e){return o(e,n)})):null},r}(o.PureComponent);i.displayName="Layout";var l=i;t.default=l},8100:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(17)),i=A(n(304)),l=A(n(3)),u=A(n(6943)),s=A(n(825)),d=A(n(6473)),c=A(n(816)),f=A(n(450)),p=A(n(820)),h=A(n(99)),v=A(n(23)),m=A(n(159)),_=A(n(50)),y=A(n(237)),g=A(n(6151)),E=A(n(158)),S=A(n(81)),T=A(n(6732)),I=A(n(7159)),O=A(n(7160)),N=n(0),C=A(n(5825));function A(e){return e&&e.__esModule?e:{default:e}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=78,P=R(O.default,{}),L=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).pinBanner=function(e){if(null!=e){var t=e.scrollTop,r=n.props.guild.id,a=new Set(n.state.pinnedBannerGuilds);t>=b?a.has(r)||a.add(r):a.has(r)&&a.delete(r),n.state.bannerOpacity.setValue(1-t/b),n.setState({pinnedBannerGuilds:a})}},n.state={pinnedBannerGuilds:new Set,bannerOpacity:new i.default.Value(1)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidUpdate=function(e){var t=this.props.guildId;if(e.guildId!==t){var n=f.default.getGuildDimensions(t).scrollTop;this.state.bannerOpacity.setValue(1-n/b)}},l.renderSettings=function(){return P},l.render=function(){var e,t=this.props,n=t.onDragStart,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["onDragStart"]),l=r.guild,s=this.state,d=s.pinnedBannerGuilds,c=s.bannerOpacity,f=null!=d&&d.has(l.id),p=null;if(null!=l.banner&&!f){var h,v=S.default.getGuildBannerURL({id:l.id,banner:l.banner});null!=v&&(e="linear-gradient(180deg, rgba(54,57,63,0) 0%, "+N.Colors.PRIMARY_DARK_630+' 100%), url("'+v+'")'),p=R(i.default.div,{style:i.default.accelerate({backgroundImage:e,opacity:c}),className:(0,o.default)((h={},h[C.default.bannerImage]=null!=l.banner,h))})}return R(I.default,{title:l.name,renderSettings:this.renderSettings,onDragStart:n,banner:p},void 0,R(E.default,{className:C.default.container,direction:E.default.Direction.VERTICAL,align:E.default.Align.STRETCH},void 0,a.createElement(u.default,M({},r,{guild:l,disableManageChannels:!0,onScroll:null!=l&&null!=l.banner?this.pinBanner:null})),R(T.default,{guildId:l.id})))},r}(a.PureComponent);L.displayName="GuildSidebar";var D=l.default.connectStores([m.default,_.default,c.default,f.default,h.default,v.default,g.default,y.default,d.default,p.default,s.default],function(e){var t=e.guildId,n=v.default.getGuild(t),r=h.default.getChannels(t),a=p.default.getCategories(t),o=y.default.getMutedChannels(t),i=g.default.getVoiceStates(t),l=d.default.getCollapsed(),u=y.default.isGuildCollapsed(t);return{guild:n,channels:r,categories:a,mutedChannels:o,scrollToChannel:f.default.getGuildDimensions(t).scrollTo,selectedChannelId:c.default.getChannelId(t),selectedVoiceChannelId:_.default.getVoiceChannelId(),voiceStates:i,collapsedChannels:l,collapseMuted:u,permissionVersion:m.default.getGuildVersion(t),categoryCollapseVersion:s.default.version}})(L);t.default=D},8101:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(3)),i=n(5933),l=O(n(233)),u=O(n(20)),s=O(n(816)),d=O(n(195)),c=O(n(101)),f=O(n(6120)),p=O(n(14)),h=O(n(5912)),v=O(n(436)),m=O(n(8102)),_=n(248),y=O(n(6859)),g=O(n(6862)),E=O(n(5893)),S=n(0),T=O(n(10)),I=O(n(5827));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=o.default.connectStores([u.default,p.default,c.default,f.default,l.default],function(e){var t=e.channel,n=p.default.getUser(t.getRecipientId());return{user:n,status:null!=n?c.default.getStatus(n.id):null,activity:null!=n?c.default.getPrimaryActivity(n.id):null,applicationStream:null!=n?l.default.getStreamForUser(n.id):null,typing:null!=n?f.default.isTyping(t.id,t.getRecipientId()):null}},{forwardRef:!0})(y.default);function A(e,t){return N(e.type===S.ChannelTypes.GROUP_DM?y.default:C,{channel:e,selected:t},e.id)}function M(e){return N(m.default,{},e,T.default.Messages.OVERLAY_PRIVATE_CHANNELS_EMPTY_STATE)}A.displayName="renderChannel",M.displayName="renderEmptyState";var R=o.default.connectStores([s.default,h.default,v.default,u.default,d.default],function(){return{selectedChannelId:s.default.getChannelId(S.ME),homeLink:h.default.getHomeLink(),privateChannelIds:v.default.getPrivateChannelIds(),channels:u.default.getChannels(),version:u.default.getPrivateChannelsVersion()+":"+(d.default.isUILocked((0,_.getPID)())?"true":"false")}})(g.default),b=function(){return(0,i.show)("DM_SEARCH","@")},P=N(R,{padding:8,renderChannel:A,renderEmptyState:M}),L=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return N("div",{className:I.default.privateChannels},void 0,N("div",{className:I.default.searchBar},void 0,N(E.default,{onFocus:b,className:I.default.searchBarComponent})),P)},r}(a.PureComponent);L.displayName="PrivateChannels";var D=o.default.connectStores([d.default],function(){return{locked:d.default.isUILocked((0,_.getPID)())}})(L);t.default=D},8102:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=(r=n(5826))&&r.__esModule?r:{default:r};function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.children;return i("div",{className:o.default.emptyContainer},void 0,i("div",{className:o.default.empty},void 0,i("div",{className:o.default.emptyMessage},void 0,t)))}},8103:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(6069)),o=u(n(7158)),i=u(n(7161)),l=u(n(5832));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.dragStart,n=e.dragging,r=e.isPreviewingInGame,u=e.pinned,d=e.locked;return s(a.default,{className:l.default.wrapper},void 0,s(o.default,{contained:!0,dragStart:t,locked:d}),s(i.default,{dragStart:t,locked:d,pinned:u,dragging:n,isPreviewingInGame:r,contained:!0}))}},8104:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=I(n(3)),l=I(n(316)),u=I(n(133)),s=I(n(328)),d=I(n(20)),c=I(n(23)),f=I(n(195)),p=I(n(50)),h=I(n(302)),v=n(805),m=I(n(6069)),_=I(n(5891)),y=n(6798),g=I(n(8105)),E=n(0),S=I(n(10)),T=I(n(5830));function I(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=O(g.default,{}),C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={showOpacitySlider:!1},t.handleClickCall=function(e){var n=t.props,r=n.channel,a=n.userIsInChannelCall,o=n.channelHasActiveCall;if(o)a?u.default.selectVoiceChannel(null,null):l.default.callPrivateChannel(r.id,!1);else{var i=!o&&!e.shiftKey;l.default.callPrivateChannel(r.id,i)}},t.handleOpenOpacitySettings=function(){var e=t.props.pinned;t.setState({showOpacitySlider:!0}),e&&l.default.setPreviewInGameMode(!0)},t.handleCloseOpacitySettings=function(){var e=t.props.pinned;t.setState({showOpacitySlider:!1}),e&&l.default.setPreviewInGameMode(!1)},t.handleMouseDown=function(e){var n=t.props.onMouseDown;null!=n&&n(e)},t.renderWidgetButtons=function(){var e=t.props,n=e.locked,r=e.handlePin,o=e.pinned,i=o?S.default.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:S.default.Messages.OVERLAY_WIDGET_SHOW_IN_GAME;return n?null:O(a.Fragment,{},void 0,t.renderCallButton(),o?O(_.default.Icon,{name:h.default.Names.OPACITY,tooltip:S.default.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY,onClick:t.handleOpenOpacitySettings}):null,O(_.default.Icon,{name:h.default.Names.WIDGET_PINNED,tooltip:i,selected:o,onClick:r}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidUpdate=function(){this.props.locked&&this.state.showOpacitySlider&&this.setState({showOpacitySlider:!1})},i.renderCallButton=function(){var e,t=this.props,n=t.channel,r=t.channelHasActiveCall,a=t.userIsInChannelCall;if(n.type!==E.ChannelTypes.DM&&n.type!==E.ChannelTypes.GROUP_DM)return null;var o=h.default.Names.NOVA_CALL_JOIN;return r?a?(e=S.default.Messages.LEAVE_CALL,o=h.default.Names.NOVA_CALL_LEAVE):e=S.default.Messages.JOIN_CALL:e=S.default.Messages.START_VOICE_CALL,O(_.default.Icon,{name:o,tooltip:e,onClick:this.handleClickCall})},i.render=function(){var e=this,t=this.props,n=t.className,r=t.draggableClassName,a=t.locked,i=t.channel,l=t.guild,u=t.onMouseDown,s=t.onContextMenu,d=t.dragging,c=t.isPreviewingInGame,f=t.disableDragIndicator,p=this.state.showOpacitySlider,g=a||d||c?null:1;return p&&!a?O(m.default.Bar,{className:T.default.opacityHeader},void 0,N,O(_.default.Icon,{name:h.default.Names.CLOSE,onClick:this.handleCloseOpacitySettings,tooltip:S.default.Messages.CLOSE})):O(v.BackgroundOpacityContext.Consumer,{},void 0,function(t){var d,p=t.backgroundOpacity;return O(m.default.Background,{opacityOverride:g},void 0,O("div",{className:(0,o.default)(n,r,(d={},d[T.default.headerContainer]=!0,d[T.default.opacityFull]=p===v.BackgroundOpacityTypes.DISABLED||p===v.BackgroundOpacityTypes.FULL,d[T.default.opacityHigh]=p===v.BackgroundOpacityTypes.HIGH,d[T.default.opacityMedium]=p===v.BackgroundOpacityTypes.MEDIUM,d[T.default.opacityLow]=p===v.BackgroundOpacityTypes.LOW,d)),onMouseDown:u,onContextMenu:s},void 0,O(_.default,{guildId:i.guild_id,channelId:i.id,renderToolbar:e.renderWidgetButtons,transparent:!0},void 0,c||a||f?null:O(h.default,{name:h.default.Names.DRAG,className:(0,o.default)(T.default.dragIcon,r),width:20,height:20}),(0,y.renderTitle)({channel:i}),a?null:(0,y.renderTopic)(i,l))))})},r}(a.Component);C.displayName="TextWidgetHeader";var A=i.default.connectStores([s.default,p.default,d.default,f.default,c.default],function(e){var t=e.channel,n=p.default.getVoiceChannelId(),r=d.default.getChannel(n);return{guild:c.default.getGuild(t.guild_id),channelHasActiveCall:s.default.isCallActive(t.id),userIsInChannelCall:null!=r&&r.id===t.id}})(C);t.default=A},8105:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(3)),i=h(n(316)),l=h(n(195)),u=h(n(6079)),s=n(805),d=v(n(98)),c=n(0),f=h(n(10)),p=h(n(5829));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=[].concat(Object.values(s.OpacityBounds)).map(function(e){return 100*e}),y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleUpdateBackgroundOpacity=function(e){i.default.setTextWidgetOpacity(e),i.default.track(c.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_opacity_slider:e})},a.handlePreviewBackgroundOpacity=function(e){i.default.setTextWidgetOpacity(e)},a.render=function(){var e=this.props.opacity;return m("div",{className:p.default.container},void 0,m(d.default,{tag:d.Tags.H5,className:p.default.title},void 0,f.default.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY),m("div",{className:p.default.sliderContainer},void 0,m(u.default,{mini:!0,defaultValue:e,minValue:0,maxValue:100,handleSize:10,onValueChange:this.handleUpdateBackgroundOpacity,asValueChanges:this.handlePreviewBackgroundOpacity,markers:_,onMarkerRender:c.NOOP,equidistant:!0,stickToMarkers:!0})))},r}(a.PureComponent);y.displayName="TextWidgetOpacity";var g=o.default.connectStores([l.default],function(){return{opacity:l.default.getTextWidgetOpacity()}})(y);t.default=g},8106:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=m(n(6)),a=m(n(3)),o=m(n(6003)),i=m(n(233)),l=m(n(321)),u=m(n(35)),s=m(n(172)),d=m(n(500)),c=m(n(195)),f=m(n(60)),p=m(n(14)),h=m(n(452)),v=n(7162);function m(e){return e&&e.__esModule?e:{default:e}}var _=a.default.connectStores([c.default,s.default,d.default,p.default,l.default,i.default,f.default,h.default],function(){var e,t=s.default.getLobbiesWithVoice().find(function(e){return null!=l.default.getApplication(e.application_id)}),n=[],a="";if(null!=t){var v=l.default.getApplication(t.application_id);null!=v&&(a=v.name),e=t.application_id,r.default.each(d.default.getVoiceStates(t.id),function(e){var t=p.default.getUser(e.userId);null!=t&&n.push({voiceState:e,user:t,nick:t.username,comparator:t.toString()})})}var m=(0,o.default)(f.default,h.default),_=i.default.getActiveStream(),y=p.default.getCurrentUser();return{title:a,context:e,sortedVoiceStates:r.default.sortBy(n,function(e){return e.comparator}),lobbyId:null!=t?t.id:null,displayUserMode:c.default.getDisplayUserMode(),displayNameMode:c.default.getDisplayNameMode(),avatarSizeMode:c.default.getAvatarSizeMode(),application:null!=m?u.default.getGameBySettingGame(m):null,streamApplication:null!=m?{id:null,name:m.name||""}:null,stream:null!=_&&_.ownerId===y.id?_:null,hasStream:!1}})(v.VoiceWidget);t.default=_},8107:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=M(n(17)),i=n(232),l=M(n(3)),u=M(n(235)),s=M(n(5876)),d=M(n(133)),c=M(n(23)),f=M(n(43)),p=M(n(132)),h=M(n(8108)),v=M(n(158)),m=M(n(5971)),_=M(n(6561)),y=M(n(795)),g=M(n(426)),E=M(n(6069)),S=M(n(6863)),T=M(n(6864)),I=n(0),O=M(n(10)),N=M(n(5390)),C=M(n(5265)),A=M(n(5833));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=l.default.connectStores([h.default],function(e){var t=e.lobbyId;return{connectionState:h.default.getConnectionState(t),pings:h.default.getPings(t),hostname:h.default.getHostname(t),averagePing:h.default.getAveragePing(t),lastPing:h.default.getLastPing(t),outboundLossRate:h.default.getOutboundLossRate(t)}})(function(e){return a.createElement(T.default,e)}),P=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleSelfMute=function(){var e=t.props.context;u.default.toggleSelfMute(e)},t.handleToggleSelfDeaf=function(){var e=t.props.context;u.default.toggleSelfDeaf(e)},t.renderPopout=function(){var e=t.props.lobbyId;return R(b,{lobbyId:e})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.handleDisconnect=function(){d.default.selectVoiceChannel(null,null)},l.renderLobby=function(){return R("span",{className:C.default.channel},void 0,O.default.Messages.LOBBY)},l.renderChannelLink=function(e){var t=this.props.guild,n=null!=t?e.toString()+" / "+t.name:e.toString(),r=null!=t?t.id:I.ME;return R(i.Link,{to:I.Routes.CHANNEL(r),className:C.default.channel,onClick:function(){return s.default.channelListScrollTo(r,e.id)}},void 0,n)},l.render=function(){var e,t=this.props,r=t.className,a=t.contentClassName,i=t.pinned,l=t.lobbyId,u=t.channel,s=t.quality,d=t.lastPing,c=t.hasVideo,f=t.connectionState,p=t.deaf,h=t.mute;return null==u&&null==l?null:R(E.default.Bar,{className:(0,o.default)(r,A.default.controls,(e={},e[A.default.unpinned]=!i,e))},void 0,R(E.default.Content,{className:(0,o.default)(a,A.default.content),dynamicSize:!0},void 0,R("div",{className:C.default.inner},void 0,R(y.default,{render:this.renderPopout,showArrow:!0,containerClass:A.default.popout},void 0,R("div",{className:A.default.clickable},void 0,R(S.default,{className:A.default.status,quality:s,lastPing:d,hasVideo:c,state:f},void 0,null!=u?this.renderChannelLink(u):this.renderLobby())))),R(v.default,{grow:0},void 0,R(g.default,{text:h?O.default.Messages.UNMUTE:O.default.Messages.MUTE},void 0,R("div",{},void 0,R(_.default,{className:N.default.button,size:m.default.Sizes.SMALL,value:h,inactiveSrc:n(6606),activeSrc:n(6607),onChange:this.handleToggleSelfMute}))),R(g.default,{text:p?O.default.Messages.UNDEAFEN:O.default.Messages.DEAFEN},void 0,R("div",{},void 0,R(_.default,{className:N.default.button,size:m.default.Sizes.SMALL,value:p,inactiveSrc:n(6730),activeSrc:n(6731),onChange:this.handleToggleSelfDeaf}))),null==l&&R(g.default,{text:O.default.Messages.DISCONNECT},void 0,R("div",{},void 0,R(m.default,{className:N.default.button,size:m.default.Sizes.SMALL,src:n(8109),onClick:this.handleDisconnect}))))))},a}(a.PureComponent);P.displayName="Controls";var L=l.default.connectStores([h.default,c.default,f.default,p.default],function(e){var t=e.context,n=e.lobbyId,r=e.channel,a=null,o=!1;return null!=r&&(o=null!=(a=c.default.getGuild(r.getGuildId()))&&p.default.hasVideo(a.id,r.id)),{guild:a,hasVideo:o,mute:f.default.isSelfMute(t)||f.default.isSelfMutedTemporarily(t),deaf:f.default.isSelfDeaf(t),connectionState:h.default.getConnectionState(n),lastPing:h.default.getLastPing(n),quality:h.default.getQuality(n)}})(P);t.default=L},8108:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={};function u(e){var t=l[e=e||null];return null==t&&(t=l[e]={state:o.RTCConnectionStates.DISCONNECTED,quality:o.RTCConnectionQuality.UNKNOWN,pings:[],hostname:null,lossRate:null}),t}function s(e,t,n){var r=l[e=e||null];return null!=r?t(r):n}function d(e){var t=e.lobbyId;delete l[t]}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getConnectionState=function(e){return s(e,function(e){return e.state},o.RTCConnectionStates.DISCONNECTED)},a.getQuality=function(e){return s(e,function(e){return e.quality},o.RTCConnectionQuality.UNKNOWN)},a.getHostname=function(e){return s(e,function(e){return e.hostname},null)},a.getPings=function(e){return s(e,function(e){return e.pings},[])},a.getAveragePing=function(e){var t=this.getPings(e);return 0===t.length?0:t.reduce(function(e,t){return e+t},0)/t.length},a.getLastPing=function(e){var t=this.getPings(e);return 0===t.length?0:t[t.length-1]},a.getOutboundLossRate=function(e){return s(e,function(e){return e.lossRate},null)},r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){l=e.rtcConnectionStates},RTC_CONNECTION_STATE:function(e){if(null!=e.streamKey)return!1;var t=u(e.lobbyId);t.state=e.state,t.hostname=e.hostname},RTC_CONNECTION_PING:function(e){var t=u(e.lobbyId);t.pings=e.pings,t.quality=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){u(e.lobbyId).lossRate=e.lossRate},LOBBY_DELETE:d,LOBBY_DISCONNECT:d});t.default=c},8109:function(e,t,n){e.exports=n.p+"1ac919360611a8962ea15859f6c27d9c.svg"},8110:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=_(n(3)),a=_(n(6965)),o=_(n(6978)),i=_(n(6979)),l=_(n(6981)),u=_(n(6983)),s=_(n(6986)),d=_(n(6989)),c=_(n(6991)),f=_(n(6541)),p=_(n(6994)),h=_(n(6999)),v=_(n(7002)),m=_(n(6984));function _(e){return e&&e.__esModule?e:{default:e}}r.default.initialize();var y=[p.default,a.default,s.default,u.default,l.default,h.default,d.default,c.default,v.default,o.default,i.default,f.default,m.default];t.default=y},8111:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(232),i=d(n(801)),l=d(n(133)),u=d(n(45)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()},a.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=function(e){var t=e.params,n=t.guildId,r=t.channelId,a=t.messageId;return{guildId:n||s.ME,channelId:r,messageId:a}}(e),n=t.guildId,r=t.channelId,a=t.messageId;(function(e){return null!=e&&(e===s.ME||/^\d+$/.test(e))})(n)&&function(e){return null==e||/^\d+$/.test(e)}(r)?(i.default.selectGuild(n),l.default.selectChannel(n,r,a)):u.default.replaceWith(s.Routes.ME)}},a.render=function(){return null},r}(a.Component);f.displayName="RouteListener";var p=c(o.Route,{component:f}),h=function(){return c(o.Switch,{},void 0,c(o.Route,{path:s.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),component:f}),p)};h.displayName="RouteManager";var v=h;t.default=v},858:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(302))&&r.__esModule?r:{default:r},i=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.tier,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["tier"]);switch(t){case i.PremiumGuildTiers.TIER_1:return a.createElement(o.default,l({},n,{name:o.default.Names.PREMIUM_GUILD_TIER_1}));case i.PremiumGuildTiers.TIER_2:return a.createElement(o.default,l({},n,{name:o.default.Names.PREMIUM_GUILD_TIER_2}));case i.PremiumGuildTiers.TIER_3:return a.createElement(o.default,l({},n,{name:o.default.Names.PREMIUM_GUILD_TIER_3}));case i.PremiumGuildTiers.NONE:return null;default:throw new Error("Not a valid tier type")}}},873:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,l=void 0===i?16:i,u=e.color,s=void 0===u?"currentColor":u,d=e.foreground,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","foreground"]);return a.createElement("svg",o({},c,{width:n,height:l,viewBox:"0 0 24 24"}),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{fill:s,className:d,d:"M12 4.5C7 4.5 2.7 7.6 1 12c1.7 4.4 6 7.5 11 7.5s9.3-3.1 11-7.5c-1.7-4.4-6-7.5-11-7.5zM12 17c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"}))}},876:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,u=e.color,s=void 0===u?"currentColor":u,d=e.foreground,c=e.background,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","foreground","background"]);return a.createElement("svg",o({},f,{width:n,height:l,viewBox:"0 0 24 24"}),i("path",{className:c,fill:s,d:"M6.16204 15.0065C6.10859 15.0022 6.05455 15 6 15H4V12C4 7.588 7.589 4 12 4C13.4809 4 14.8691 4.40439 16.0599 5.10859L17.5102 3.65835C15.9292 2.61064 14.0346 2 12 2C6.486 2 2 6.485 2 12V19.1685L6.16204 15.0065Z"}),i("path",{className:c,fill:s,d:"M19.725 9.91686C19.9043 10.5813 20 11.2796 20 12V15H18C16.896 15 16 15.896 16 17V20C16 21.104 16.896 22 18 22H20C21.105 22 22 21.104 22 20V12C22 10.7075 21.7536 9.47149 21.3053 8.33658L19.725 9.91686Z"}),i("path",{className:d,fill:s,d:"M3.20101 23.6243L1.7868 22.2101L21.5858 2.41113L23 3.82535L3.20101 23.6243Z"}))}},877:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,u=e.color,s=void 0===u?"currentColor":u,d=e.foreground,c=e.background,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","foreground","background"]);return a.createElement("svg",o({},f,{width:n,height:l,viewBox:"0 0 24 24"}),i("path",{className:d,fill:s,d:"M21 4.27L19.73 3L3 19.73L4.27 21L8.46 16.82L9.69 15.58L11.35 13.92L14.99 10.28L21 4.27Z"}),i("path",{fill:s,className:c,d:"M6.7 11H5C5 12.19 5.34 13.3 5.9 14.28L7.13 13.05C6.86 12.43 6.7 11.74 6.7 11Z"}),i("path",{fill:s,className:c,d:"M9.01 11.085C9.015 11.1125 9.02 11.14 9.02 11.17L15 5.18V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 11.03 9.005 11.0575 9.01 11.085Z"}),i("path",{fill:s,className:c,d:"M11.7237 16.0927L10.9632 16.8531L10.2533 17.5688C10.4978 17.633 10.747 17.6839 11 17.72V21H13V17.72C16.28 17.23 19 14.41 19 11H17.3C17.3 14 14.76 16.1 12 16.1C11.9076 16.1 11.8155 16.0975 11.7237 16.0927Z"}))}}}]);
//# sourceMappingURL=d78f64978d232705988d.js.map